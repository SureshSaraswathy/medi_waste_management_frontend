var AD=Object.defineProperty;var fD=(r,e,n)=>e in r?AD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Xi=(r,e,n)=>fD(r,typeof e!="symbol"?e+"":e,n);function pD(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function es(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var A2={exports:{}},Vm={},f2={exports:{}},Bi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function mD(){if(dS)return Bi;dS=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function A(Te){return Te===null||typeof Te!="object"?null:(Te=d&&Te[d]||Te["@@iterator"],typeof Te=="function"?Te:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(Te,Y,Ne){this.props=Te,this.context=Y,this.refs=m,this.updater=Ne||f}x.prototype.isReactComponent={},x.prototype.setState=function(Te,Y){if(typeof Te!="object"&&typeof Te!="function"&&Te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Te,Y,"setState")},x.prototype.forceUpdate=function(Te){this.updater.enqueueForceUpdate(this,Te,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(Te,Y,Ne){this.props=Te,this.context=Y,this.refs=m,this.updater=Ne||f}var w=b.prototype=new y;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var N=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function W(Te,Y,Ne){var ce,ae={},Ce=null,Ee=null;if(Y!=null)for(ce in Y.ref!==void 0&&(Ee=Y.ref),Y.key!==void 0&&(Ce=""+Y.key),Y)S.call(Y,ce)&&!k.hasOwnProperty(ce)&&(ae[ce]=Y[ce]);var we=arguments.length-2;if(we===1)ae.children=Ne;else if(1<we){for(var me=Array(we),se=0;se<we;se++)me[se]=arguments[se+2];ae.children=me}if(Te&&Te.defaultProps)for(ce in we=Te.defaultProps,we)ae[ce]===void 0&&(ae[ce]=we[ce]);return{$$typeof:r,type:Te,key:Ce,ref:Ee,props:ae,_owner:C.current}}function q(Te,Y){return{$$typeof:r,type:Te.type,key:Y,ref:Te.ref,props:Te.props,_owner:Te._owner}}function te(Te){return typeof Te=="object"&&Te!==null&&Te.$$typeof===r}function K(Te){var Y={"=":"=0",":":"=2"};return"$"+Te.replace(/[=:]/g,function(Ne){return Y[Ne]})}var X=/\/+/g;function O(Te,Y){return typeof Te=="object"&&Te!==null&&Te.key!=null?K(""+Te.key):Y.toString(36)}function le(Te,Y,Ne,ce,ae){var Ce=typeof Te;(Ce==="undefined"||Ce==="boolean")&&(Te=null);var Ee=!1;if(Te===null)Ee=!0;else switch(Ce){case"string":case"number":Ee=!0;break;case"object":switch(Te.$$typeof){case r:case e:Ee=!0}}if(Ee)return Ee=Te,ae=ae(Ee),Te=ce===""?"."+O(Ee,0):ce,N(ae)?(Ne="",Te!=null&&(Ne=Te.replace(X,"$&/")+"/"),le(ae,Y,Ne,"",function(se){return se})):ae!=null&&(te(ae)&&(ae=q(ae,Ne+(!ae.key||Ee&&Ee.key===ae.key?"":(""+ae.key).replace(X,"$&/")+"/")+Te)),Y.push(ae)),1;if(Ee=0,ce=ce===""?".":ce+":",N(Te))for(var we=0;we<Te.length;we++){Ce=Te[we];var me=ce+O(Ce,we);Ee+=le(Ce,Y,Ne,me,ae)}else if(me=A(Te),typeof me=="function")for(Te=me.call(Te),we=0;!(Ce=Te.next()).done;)Ce=Ce.value,me=ce+O(Ce,we++),Ee+=le(Ce,Y,Ne,me,ae);else if(Ce==="object")throw Y=String(Te),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(Te).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ee}function z(Te,Y,Ne){if(Te==null)return Te;var ce=[],ae=0;return le(Te,ce,"","",function(Ce){return Y.call(Ne,Ce,ae++)}),ce}function R(Te){if(Te._status===-1){var Y=Te._result;Y=Y(),Y.then(function(Ne){(Te._status===0||Te._status===-1)&&(Te._status=1,Te._result=Ne)},function(Ne){(Te._status===0||Te._status===-1)&&(Te._status=2,Te._result=Ne)}),Te._status===-1&&(Te._status=0,Te._result=Y)}if(Te._status===1)return Te._result.default;throw Te._result}var ie={current:null},Ae={transition:null},Oe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Ae,ReactCurrentOwner:C};function be(){throw Error("act(...) is not supported in production builds of React.")}return Bi.Children={map:z,forEach:function(Te,Y,Ne){z(Te,function(){Y.apply(this,arguments)},Ne)},count:function(Te){var Y=0;return z(Te,function(){Y++}),Y},toArray:function(Te){return z(Te,function(Y){return Y})||[]},only:function(Te){if(!te(Te))throw Error("React.Children.only expected to receive a single React element child.");return Te}},Bi.Component=x,Bi.Fragment=n,Bi.Profiler=i,Bi.PureComponent=b,Bi.StrictMode=a,Bi.Suspense=u,Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,Bi.act=be,Bi.cloneElement=function(Te,Y,Ne){if(Te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Te+".");var ce=g({},Te.props),ae=Te.key,Ce=Te.ref,Ee=Te._owner;if(Y!=null){if(Y.ref!==void 0&&(Ce=Y.ref,Ee=C.current),Y.key!==void 0&&(ae=""+Y.key),Te.type&&Te.type.defaultProps)var we=Te.type.defaultProps;for(me in Y)S.call(Y,me)&&!k.hasOwnProperty(me)&&(ce[me]=Y[me]===void 0&&we!==void 0?we[me]:Y[me])}var me=arguments.length-2;if(me===1)ce.children=Ne;else if(1<me){we=Array(me);for(var se=0;se<me;se++)we[se]=arguments[se+2];ce.children=we}return{$$typeof:r,type:Te.type,key:ae,ref:Ce,props:ce,_owner:Ee}},Bi.createContext=function(Te){return Te={$$typeof:c,_currentValue:Te,_currentValue2:Te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Te.Provider={$$typeof:s,_context:Te},Te.Consumer=Te},Bi.createElement=W,Bi.createFactory=function(Te){var Y=W.bind(null,Te);return Y.type=Te,Y},Bi.createRef=function(){return{current:null}},Bi.forwardRef=function(Te){return{$$typeof:l,render:Te}},Bi.isValidElement=te,Bi.lazy=function(Te){return{$$typeof:h,_payload:{_status:-1,_result:Te},_init:R}},Bi.memo=function(Te,Y){return{$$typeof:o,type:Te,compare:Y===void 0?null:Y}},Bi.startTransition=function(Te){var Y=Ae.transition;Ae.transition={};try{Te()}finally{Ae.transition=Y}},Bi.unstable_act=be,Bi.useCallback=function(Te,Y){return ie.current.useCallback(Te,Y)},Bi.useContext=function(Te){return ie.current.useContext(Te)},Bi.useDebugValue=function(){},Bi.useDeferredValue=function(Te){return ie.current.useDeferredValue(Te)},Bi.useEffect=function(Te,Y){return ie.current.useEffect(Te,Y)},Bi.useId=function(){return ie.current.useId()},Bi.useImperativeHandle=function(Te,Y,Ne){return ie.current.useImperativeHandle(Te,Y,Ne)},Bi.useInsertionEffect=function(Te,Y){return ie.current.useInsertionEffect(Te,Y)},Bi.useLayoutEffect=function(Te,Y){return ie.current.useLayoutEffect(Te,Y)},Bi.useMemo=function(Te,Y){return ie.current.useMemo(Te,Y)},Bi.useReducer=function(Te,Y,Ne){return ie.current.useReducer(Te,Y,Ne)},Bi.useRef=function(Te){return ie.current.useRef(Te)},Bi.useState=function(Te){return ie.current.useState(Te)},Bi.useSyncExternalStore=function(Te,Y,Ne){return ie.current.useSyncExternalStore(Te,Y,Ne)},Bi.useTransition=function(){return ie.current.useTransition()},Bi.version="18.3.1",Bi}var hS;function WN(){return hS||(hS=1,f2.exports=mD()),f2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function gD(){if(AS)return Vm;AS=1;var r=WN(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,o){var h,d={},A=null,f=null;o!==void 0&&(A=""+o),u.key!==void 0&&(A=""+u.key),u.ref!==void 0&&(f=u.ref);for(h in u)a.call(u,h)&&!s.hasOwnProperty(h)&&(d[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)d[h]===void 0&&(d[h]=u[h]);return{$$typeof:e,type:l,key:A,ref:f,props:d,_owner:i.current}}return Vm.Fragment=n,Vm.jsx=c,Vm.jsxs=c,Vm}var fS;function vD(){return fS||(fS=1,A2.exports=gD()),A2.exports}var t=vD(),P=WN();const bt=es(P),xD=pD({__proto__:null,default:bt},[P]);var Jg={},p2={exports:{}},Fu={},m2={exports:{}},g2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function yD(){return pS||(pS=1,(function(r){function e(Ae,Oe){var be=Ae.length;Ae.push(Oe);e:for(;0<be;){var Te=be-1>>>1,Y=Ae[Te];if(0<i(Y,Oe))Ae[Te]=Oe,Ae[be]=Y,be=Te;else break e}}function n(Ae){return Ae.length===0?null:Ae[0]}function a(Ae){if(Ae.length===0)return null;var Oe=Ae[0],be=Ae.pop();if(be!==Oe){Ae[0]=be;e:for(var Te=0,Y=Ae.length,Ne=Y>>>1;Te<Ne;){var ce=2*(Te+1)-1,ae=Ae[ce],Ce=ce+1,Ee=Ae[Ce];if(0>i(ae,be))Ce<Y&&0>i(Ee,ae)?(Ae[Te]=Ee,Ae[Ce]=be,Te=Ce):(Ae[Te]=ae,Ae[ce]=be,Te=ce);else if(Ce<Y&&0>i(Ee,be))Ae[Te]=Ee,Ae[Ce]=be,Te=Ce;else break e}}return Oe}function i(Ae,Oe){var be=Ae.sortIndex-Oe.sortIndex;return be!==0?be:Ae.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();r.unstable_now=function(){return c.now()-l}}var u=[],o=[],h=1,d=null,A=3,f=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Ae){for(var Oe=n(o);Oe!==null;){if(Oe.callback===null)a(o);else if(Oe.startTime<=Ae)a(o),Oe.sortIndex=Oe.expirationTime,e(u,Oe);else break;Oe=n(o)}}function N(Ae){if(m=!1,w(Ae),!g)if(n(u)!==null)g=!0,R(S);else{var Oe=n(o);Oe!==null&&ie(N,Oe.startTime-Ae)}}function S(Ae,Oe){g=!1,m&&(m=!1,y(W),W=-1),f=!0;var be=A;try{for(w(Oe),d=n(u);d!==null&&(!(d.expirationTime>Oe)||Ae&&!K());){var Te=d.callback;if(typeof Te=="function"){d.callback=null,A=d.priorityLevel;var Y=Te(d.expirationTime<=Oe);Oe=r.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(u)&&a(u),w(Oe)}else a(u);d=n(u)}if(d!==null)var Ne=!0;else{var ce=n(o);ce!==null&&ie(N,ce.startTime-Oe),Ne=!1}return Ne}finally{d=null,A=be,f=!1}}var C=!1,k=null,W=-1,q=5,te=-1;function K(){return!(r.unstable_now()-te<q)}function X(){if(k!==null){var Ae=r.unstable_now();te=Ae;var Oe=!0;try{Oe=k(!0,Ae)}finally{Oe?O():(C=!1,k=null)}}else C=!1}var O;if(typeof b=="function")O=function(){b(X)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,z=le.port2;le.port1.onmessage=X,O=function(){z.postMessage(null)}}else O=function(){x(X,0)};function R(Ae){k=Ae,C||(C=!0,O())}function ie(Ae,Oe){W=x(function(){Ae(r.unstable_now())},Oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ae){Ae.callback=null},r.unstable_continueExecution=function(){g||f||(g=!0,R(S))},r.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Ae?Math.floor(1e3/Ae):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return n(u)},r.unstable_next=function(Ae){switch(A){case 1:case 2:case 3:var Oe=3;break;default:Oe=A}var be=A;A=Oe;try{return Ae()}finally{A=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Ae,Oe){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var be=A;A=Ae;try{return Oe()}finally{A=be}},r.unstable_scheduleCallback=function(Ae,Oe,be){var Te=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Te+be:Te):be=Te,Ae){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=be+Y,Ae={id:h++,callback:Oe,priorityLevel:Ae,startTime:be,expirationTime:Y,sortIndex:-1},be>Te?(Ae.sortIndex=be,e(o,Ae),n(u)===null&&Ae===n(o)&&(m?(y(W),W=-1):m=!0,ie(N,be-Te))):(Ae.sortIndex=Y,e(u,Ae),g||f||(g=!0,R(S))),Ae},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(Ae){var Oe=A;return function(){var be=A;A=Oe;try{return Ae.apply(this,arguments)}finally{A=be}}}})(g2)),g2}var mS;function bD(){return mS||(mS=1,m2.exports=yD()),m2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function wD(){if(gS)return Fu;gS=1;var r=WN(),e=bD();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,j=1;j<arguments.length;j++)v+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function s(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(i[p]=v,p=0;p<v.length;p++)a.add(v[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function A(p){return u.call(d,p)?!0:u.call(h,p)?!1:o.test(p)?d[p]=!0:(h[p]=!0,!1)}function f(p,v,j,$){if(j!==null&&j.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return $?!1:j!==null?!j.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,j,$){if(v===null||typeof v>"u"||f(p,v,j,$))return!0;if($)return!1;if(j!==null)switch(j.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,j,$,he,Be,$e){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=$,this.attributeNamespace=he,this.mustUseProperty=j,this.propertyName=p,this.type=v,this.sanitizeURL=Be,this.removeEmptyString=$e}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,v,j,$){var he=x.hasOwnProperty(v)?x[v]:null;(he!==null?he.type!==0:$||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,j,he,$)&&(j=null),$||he===null?A(v)&&(j===null?p.removeAttribute(v):p.setAttribute(v,""+j)):he.mustUseProperty?p[he.propertyName]=j===null?he.type===3?!1:"":j:(v=he.attributeName,$=he.attributeNamespace,j===null?p.removeAttribute(v):(he=he.type,j=he===3||he===4&&j===!0?"":""+j,$?p.setAttributeNS($,v,j):p.setAttribute(v,j))))}var N=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),K=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Ae=Symbol.iterator;function Oe(p){return p===null||typeof p!="object"?null:(p=Ae&&p[Ae]||p["@@iterator"],typeof p=="function"?p:null)}var be=Object.assign,Te;function Y(p){if(Te===void 0)try{throw Error()}catch(j){var v=j.stack.trim().match(/\n( *(at )?)/);Te=v&&v[1]||""}return`
`+Te+p}var Ne=!1;function ce(p,v){if(!p||Ne)return"";Ne=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(fr){var $=fr}Reflect.construct(p,[],v)}else{try{v.call()}catch(fr){$=fr}p.call(v.prototype)}else{try{throw Error()}catch(fr){$=fr}p()}}catch(fr){if(fr&&$&&typeof fr.stack=="string"){for(var he=fr.stack.split(`
`),Be=$.stack.split(`
`),$e=he.length-1,jt=Be.length-1;1<=$e&&0<=jt&&he[$e]!==Be[jt];)jt--;for(;1<=$e&&0<=jt;$e--,jt--)if(he[$e]!==Be[jt]){if($e!==1||jt!==1)do if($e--,jt--,0>jt||he[$e]!==Be[jt]){var Mt=`
`+he[$e].replace(" at new "," at ");return p.displayName&&Mt.includes("<anonymous>")&&(Mt=Mt.replace("<anonymous>",p.displayName)),Mt}while(1<=$e&&0<=jt);break}}}finally{Ne=!1,Error.prepareStackTrace=j}return(p=p?p.displayName||p.name:"")?Y(p):""}function ae(p){switch(p.tag){case 5:return Y(p.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return p=ce(p.type,!1),p;case 11:return p=ce(p.type.render,!1),p;case 1:return p=ce(p.type,!0),p;default:return""}}function Ce(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case k:return"Fragment";case C:return"Portal";case q:return"Profiler";case W:return"StrictMode";case O:return"Suspense";case le:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case K:return(p.displayName||"Context")+".Consumer";case te:return(p._context.displayName||"Context")+".Provider";case X:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case z:return v=p.displayName||null,v!==null?v:Ce(p.type)||"Memo";case R:v=p._payload,p=p._init;try{return Ce(p(v))}catch{}}return null}function Ee(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(v);case 8:return v===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function we(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function me(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function se(p){var v=me(p)?"checked":"value",j=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),$=""+p[v];if(!p.hasOwnProperty(v)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var he=j.get,Be=j.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return he.call(this)},set:function($e){$=""+$e,Be.call(this,$e)}}),Object.defineProperty(p,v,{enumerable:j.enumerable}),{getValue:function(){return $},setValue:function($e){$=""+$e},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function J(p){p._valueTracker||(p._valueTracker=se(p))}function je(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var j=v.getValue(),$="";return p&&($=me(p)?p.checked?"true":"false":p.value),p=$,p!==j?(v.setValue(p),!0):!1}function Pe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Le(p,v){var j=v.checked;return be({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??p._wrapperState.initialChecked})}function Ie(p,v){var j=v.defaultValue==null?"":v.defaultValue,$=v.checked!=null?v.checked:v.defaultChecked;j=we(v.value!=null?v.value:j),p._wrapperState={initialChecked:$,initialValue:j,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function pe(p,v){v=v.checked,v!=null&&w(p,"checked",v,!1)}function ke(p,v){pe(p,v);var j=we(v.value),$=v.type;if(j!=null)$==="number"?(j===0&&p.value===""||p.value!=j)&&(p.value=""+j):p.value!==""+j&&(p.value=""+j);else if($==="submit"||$==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?wt(p,v.type,j):v.hasOwnProperty("defaultValue")&&wt(p,v.type,we(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function Ye(p,v,j){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var $=v.type;if(!($!=="submit"&&$!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,j||v===p.value||(p.value=v),p.defaultValue=v}j=p.name,j!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,j!==""&&(p.name=j)}function wt(p,v,j){(v!=="number"||Pe(p.ownerDocument)!==p)&&(j==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+j&&(p.defaultValue=""+j))}var Ft=Array.isArray;function Bt(p,v,j,$){if(p=p.options,v){v={};for(var he=0;he<j.length;he++)v["$"+j[he]]=!0;for(j=0;j<p.length;j++)he=v.hasOwnProperty("$"+p[j].value),p[j].selected!==he&&(p[j].selected=he),he&&$&&(p[j].defaultSelected=!0)}else{for(j=""+we(j),v=null,he=0;he<p.length;he++){if(p[he].value===j){p[he].selected=!0,$&&(p[he].defaultSelected=!0);return}v!==null||p[he].disabled||(v=p[he])}v!==null&&(v.selected=!0)}}function Vt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return be({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ir(p,v){var j=v.value;if(j==null){if(j=v.children,v=v.defaultValue,j!=null){if(v!=null)throw Error(n(92));if(Ft(j)){if(1<j.length)throw Error(n(93));j=j[0]}v=j}v==null&&(v=""),j=v}p._wrapperState={initialValue:we(j)}}function Sr(p,v){var j=we(v.value),$=we(v.defaultValue);j!=null&&(j=""+j,j!==p.value&&(p.value=j),v.defaultValue==null&&p.defaultValue!==j&&(p.defaultValue=j)),$!=null&&(p.defaultValue=""+$)}function He(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Zt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Vr,mr=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,j,$,he){MSApp.execUnsafeLocalFunction(function(){return p(v,j,$,he)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Vr.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function on(p,v){if(v){var j=p.firstChild;if(j&&j===p.lastChild&&j.nodeType===3){j.nodeValue=v;return}}p.textContent=v}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(p){Gr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Jr[v]=Jr[p]})});function _r(p,v,j){return v==null||typeof v=="boolean"||v===""?"":j||typeof v!="number"||v===0||Jr.hasOwnProperty(p)&&Jr[p]?(""+v).trim():v+"px"}function hr(p,v){p=p.style;for(var j in v)if(v.hasOwnProperty(j)){var $=j.indexOf("--")===0,he=_r(j,v[j],$);j==="float"&&(j="cssFloat"),$?p.setProperty(j,he):p[j]=he}}var Br=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(p,v){if(v){if(Br[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function Kr(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=null;function Wr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Wn=null,Lr=null,Dr=null;function wn(p){if(p=_u(p)){if(typeof Wn!="function")throw Error(n(280));var v=p.stateNode;v&&(v=xd(v),Wn(p.stateNode,p.type,v))}}function cn(p){Lr?Dr?Dr.push(p):Dr=[p]:Lr=p}function Ln(){if(Lr){var p=Lr,v=Dr;if(Dr=Lr=null,wn(p),v)for(p=0;p<v.length;p++)wn(v[p])}}function la(p,v){return p(v)}function Ot(){}var $r=!1;function un(p,v,j){if($r)return p(v,j);$r=!0;try{return la(p,v,j)}finally{$r=!1,(Lr!==null||Dr!==null)&&(Ot(),Ln())}}function tn(p,v){var j=p.stateNode;if(j===null)return null;var $=xd(j);if($===null)return null;j=$[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(p=p.type,$=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!$;break e;default:p=!1}if(p)return null;if(j&&typeof j!="function")throw Error(n(231,v,typeof j));return j}var lr=!1;if(l)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){lr=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{lr=!1}function xi(p,v,j,$,he,Be,$e,jt,Mt){var fr=Array.prototype.slice.call(arguments,3);try{v.apply(j,fr)}catch(qr){this.onError(qr)}}var Cn=!1,Es=null,Ni=!1,yi=null,Qi={onError:function(p){Cn=!0,Es=p}};function Ii(p,v,j,$,he,Be,$e,jt,Mt){Cn=!1,Es=null,xi.apply(Qi,arguments)}function Ps(p,v,j,$,he,Be,$e,jt,Mt){if(Ii.apply(this,arguments),Cn){if(Cn){var fr=Es;Cn=!1,Es=null}else throw Error(n(198));Ni||(Ni=!0,yi=fr)}}function Ka(p){var v=p,j=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(j=v.return),p=v.return;while(p)}return v.tag===3?j:null}function gs(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Va(p){if(Ka(p)!==p)throw Error(n(188))}function Cc(p){var v=p.alternate;if(!v){if(v=Ka(p),v===null)throw Error(n(188));return v!==p?null:p}for(var j=p,$=v;;){var he=j.return;if(he===null)break;var Be=he.alternate;if(Be===null){if($=he.return,$!==null){j=$;continue}break}if(he.child===Be.child){for(Be=he.child;Be;){if(Be===j)return Va(he),p;if(Be===$)return Va(he),v;Be=Be.sibling}throw Error(n(188))}if(j.return!==$.return)j=he,$=Be;else{for(var $e=!1,jt=he.child;jt;){if(jt===j){$e=!0,j=he,$=Be;break}if(jt===$){$e=!0,$=he,j=Be;break}jt=jt.sibling}if(!$e){for(jt=Be.child;jt;){if(jt===j){$e=!0,j=Be,$=he;break}if(jt===$){$e=!0,$=Be,j=he;break}jt=jt.sibling}if(!$e)throw Error(n(189))}}if(j.alternate!==$)throw Error(n(190))}if(j.tag!==3)throw Error(n(188));return j.stateNode.current===j?p:v}function vs(p){return p=Cc(p),p!==null?Bl(p):null}function Bl(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Bl(p);if(v!==null)return v;p=p.sibling}return null}var Nc=e.unstable_scheduleCallback,El=e.unstable_cancelCallback,Wi=e.unstable_shouldYield,xo=e.unstable_requestPaint,ha=e.unstable_now,Jl=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,Io=e.unstable_UserBlockingPriority,Xs=e.unstable_NormalPriority,To=e.unstable_LowPriority,rl=e.unstable_IdlePriority,_o=null,Ws=null;function Si(p){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(_o,p,void 0,(p.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:Hc,pl=Math.log,Oo=Math.LN2;function Hc(p){return p>>>=0,p===0?32:31-(pl(p)/Oo|0)|0}var cs=64,Gn=4194304;function $i(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function xs(p,v){var j=p.pendingLanes;if(j===0)return 0;var $=0,he=p.suspendedLanes,Be=p.pingedLanes,$e=j&268435455;if($e!==0){var jt=$e&~he;jt!==0?$=$i(jt):(Be&=$e,Be!==0&&($=$i(Be)))}else $e=j&~he,$e!==0?$=$i($e):Be!==0&&($=$i(Be));if($===0)return 0;if(v!==0&&v!==$&&(v&he)===0&&(he=$&-$,Be=v&-v,he>=Be||he===16&&(Be&4194240)!==0))return v;if(($&4)!==0&&($|=j&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=$;0<v;)j=31-ii(v),he=1<<j,$|=p[j],v&=~he;return $}function ys(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(p,v){for(var j=p.suspendedLanes,$=p.pingedLanes,he=p.expirationTimes,Be=p.pendingLanes;0<Be;){var $e=31-ii(Be),jt=1<<$e,Mt=he[$e];Mt===-1?((jt&j)===0||(jt&$)!==0)&&(he[$e]=ys(jt,v)):Mt<=v&&(p.expiredLanes|=jt),Be&=~jt}}function Ri(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function lo(){var p=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),p}function Zi(p){for(var v=[],j=0;31>j;j++)v.push(p);return v}function Fi(p,v,j){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ii(v),p[v]=j}function yo(p,v){var j=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var $=p.eventTimes;for(p=p.expirationTimes;0<j;){var he=31-ii(j),Be=1<<he;v[he]=0,$[he]=-1,p[he]=-1,j&=~Be}}function Po(p,v){var j=p.entangledLanes|=v;for(p=p.entanglements;j;){var $=31-ii(j),he=1<<$;he&v|p[$]&v&&(p[$]|=v),j&=~he}}var ga=0;function Vi(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var bs,Ys,Fs,Fo,Ut,H=!1,oe=[],ue=null,M=null,Q=null,re=new Map,ye=new Map,De=[],Ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function it(p,v){switch(p){case"focusin":case"focusout":ue=null;break;case"dragenter":case"dragleave":M=null;break;case"mouseover":case"mouseout":Q=null;break;case"pointerover":case"pointerout":re.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":ye.delete(v.pointerId)}}function I(p,v,j,$,he,Be){return p===null||p.nativeEvent!==Be?(p={blockedOn:v,domEventName:j,eventSystemFlags:$,nativeEvent:Be,targetContainers:[he]},v!==null&&(v=_u(v),v!==null&&Ys(v)),p):(p.eventSystemFlags|=$,v=p.targetContainers,he!==null&&v.indexOf(he)===-1&&v.push(he),p)}function B(p,v,j,$,he){switch(v){case"focusin":return ue=I(ue,p,v,j,$,he),!0;case"dragenter":return M=I(M,p,v,j,$,he),!0;case"mouseover":return Q=I(Q,p,v,j,$,he),!0;case"pointerover":var Be=he.pointerId;return re.set(Be,I(re.get(Be)||null,p,v,j,$,he)),!0;case"gotpointercapture":return Be=he.pointerId,ye.set(Be,I(ye.get(Be)||null,p,v,j,$,he)),!0}return!1}function D(p){var v=qo(p.target);if(v!==null){var j=Ka(v);if(j!==null){if(v=j.tag,v===13){if(v=gs(j),v!==null){p.blockedOn=v,Ut(p.priority,function(){Fs(j)});return}}else if(v===3&&j.stateNode.current.memoizedState.isDehydrated){p.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}p.blockedOn=null}function V(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var j=vt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(j===null){j=p.nativeEvent;var $=new j.constructor(j.type,j);hn=$,j.target.dispatchEvent($),hn=null}else return v=_u(j),v!==null&&Ys(v),p.blockedOn=j,!1;v.shift()}return!0}function Z(p,v,j){V(p)&&j.delete(v)}function ne(){H=!1,ue!==null&&V(ue)&&(ue=null),M!==null&&V(M)&&(M=null),Q!==null&&V(Q)&&(Q=null),re.forEach(Z),ye.forEach(Z)}function Se(p,v){p.blockedOn===v&&(p.blockedOn=null,H||(H=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ne)))}function fe(p){function v(he){return Se(he,p)}if(0<oe.length){Se(oe[0],p);for(var j=1;j<oe.length;j++){var $=oe[j];$.blockedOn===p&&($.blockedOn=null)}}for(ue!==null&&Se(ue,p),M!==null&&Se(M,p),Q!==null&&Se(Q,p),re.forEach(v),ye.forEach(v),j=0;j<De.length;j++)$=De[j],$.blockedOn===p&&($.blockedOn=null);for(;0<De.length&&(j=De[0],j.blockedOn===null);)D(j),j.blockedOn===null&&De.shift()}var ge=N.ReactCurrentBatchConfig,Re=!0;function Ve(p,v,j,$){var he=ga,Be=ge.transition;ge.transition=null;try{ga=1,st(p,v,j,$)}finally{ga=he,ge.transition=Be}}function et(p,v,j,$){var he=ga,Be=ge.transition;ge.transition=null;try{ga=4,st(p,v,j,$)}finally{ga=he,ge.transition=Be}}function st(p,v,j,$){if(Re){var he=vt(p,v,j,$);if(he===null)su(p,v,$,Fe,j),it(p,$);else if(B(he,p,v,j,$))$.stopPropagation();else if(it(p,$),v&4&&-1<Ge.indexOf(p)){for(;he!==null;){var Be=_u(he);if(Be!==null&&bs(Be),Be=vt(p,v,j,$),Be===null&&su(p,v,$,Fe,j),Be===he)break;he=Be}he!==null&&$.stopPropagation()}else su(p,v,$,null,j)}}var Fe=null;function vt(p,v,j,$){if(Fe=null,p=Wr($),p=qo(p),p!==null)if(v=Ka(p),v===null)p=null;else if(j=v.tag,j===13){if(p=gs(v),p!==null)return p;p=null}else if(j===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Fe=p,null}function mt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case ai:return 1;case Io:return 4;case Xs:case To:return 16;case rl:return 536870912;default:return 16}default:return 16}}var yt=null,nt=null,kt=null;function Gt(){if(kt)return kt;var p,v=nt,j=v.length,$,he="value"in yt?yt.value:yt.textContent,Be=he.length;for(p=0;p<j&&v[p]===he[p];p++);var $e=j-p;for($=1;$<=$e&&v[j-$]===he[Be-$];$++);return kt=he.slice(p,1<$?1-$:void 0)}function St(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function tt(){return!0}function Qt(){return!1}function cr(p){function v(j,$,he,Be,$e){this._reactName=j,this._targetInst=he,this.type=$,this.nativeEvent=Be,this.target=$e,this.currentTarget=null;for(var jt in p)p.hasOwnProperty(jt)&&(j=p[jt],this[jt]=j?j(Be):Be[jt]);return this.isDefaultPrevented=(Be.defaultPrevented!=null?Be.defaultPrevented:Be.returnValue===!1)?tt:Qt,this.isPropagationStopped=Qt,this}return be(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),v}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tt=cr(Xt),or=be({},Xt,{view:0,detail:0}),at=cr(or),dt,Et,It,ur=be({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==It&&(It&&p.type==="mousemove"?(dt=p.screenX-It.screenX,Et=p.screenY-It.screenY):Et=dt=0,It=p),dt)},movementY:function(p){return"movementY"in p?p.movementY:Et}}),pr=cr(ur),yr=be({},ur,{dataTransfer:0}),Jt=cr(yr),vr=be({},or,{relatedTarget:0}),Xr=cr(vr),Ur=be({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ze=cr(Ur),xt=be({},Xt,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Ct=cr(xt),Wt=be({},Xt,{data:0}),Kt=cr(Wt),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=xr[p])?!!v[p]:!1}function Yr(){return Pr}var Nn=be({},or,{key:function(p){if(p.key){var v=nr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=St(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?gr[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(p){return p.type==="keypress"?St(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?St(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Bn=cr(Nn),ca=be({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ut=cr(ca),An=be({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),va=cr(An),dn=be({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hr=cr(dn),sa=be({},ur,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=cr(sa),Zn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,pi=null;l&&"documentMode"in document&&(pi=document.documentMode);var Ha=l&&"TextEvent"in window&&!pi,Fn=l&&(!Mn||pi&&8<pi&&11>=pi),oi=" ",oa=!1;function On(p,v){switch(p){case"keyup":return Zn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var kn=!1;function ja(p,v){switch(p){case"compositionend":return ua(v);case"keypress":return v.which!==32?null:(oa=!0,oi);case"textInput":return p=v.data,p===oi&&oa?null:p;default:return null}}function ui(p,v){if(kn)return p==="compositionend"||!Mn&&On(p,v)?(p=Gt(),kt=nt=yt=null,kn=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Fn&&v.locale!=="ko"?null:v.data;default:return null}}var Ga={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qa(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Ga[p.type]:v==="textarea"}function ts(p,v,j,$){cn($),v=Vu(v,"onChange"),0<v.length&&(j=new Tt("onChange","change",null,j,$),p.push({event:j,listeners:v}))}var zn=null,Ti=null;function xa(p){nc(p,0)}function Vn(p){var v=vl(p);if(je(v))return p}function _i(p,v){if(p==="change")return v}var Ca=!1;if(l){var En;if(l){var ei="oninput"in document;if(!ei){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),ei=typeof ru.oninput=="function"}En=ei}else En=!1;Ca=En&&(!document.documentMode||9<document.documentMode)}function $s(){zn&&(zn.detachEvent("onpropertychange",bo),Ti=zn=null)}function bo(p){if(p.propertyName==="value"&&Vn(Ti)){var v=[];ts(v,Ti,p,Wr(p)),un(xa,v)}}function Sc(p,v,j){p==="focusin"?($s(),zn=v,Ti=j,zn.attachEvent("onpropertychange",bo)):p==="focusout"&&$s()}function Aa(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Vn(Ti)}function ws(p,v){if(p==="click")return Vn(v)}function wo(p,v){if(p==="input"||p==="change")return Vn(v)}function Il(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Ds=typeof Object.is=="function"?Object.is:Il;function Di(p,v){if(Ds(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var j=Object.keys(p),$=Object.keys(v);if(j.length!==$.length)return!1;for($=0;$<j.length;$++){var he=j[$];if(!u.call(v,he)||!Ds(p[he],v[he]))return!1}return!0}function Is(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function co(p,v){var j=Is(p);p=0;for(var $;j;){if(j.nodeType===3){if($=p+j.textContent.length,p<=v&&$>=v)return{node:j,offset:v-p};p=$}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Is(j)}}function nu(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?nu(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Zs(){for(var p=window,v=Pe();v instanceof p.HTMLIFrameElement;){try{var j=typeof v.contentWindow.location.href=="string"}catch{j=!1}if(j)p=v.contentWindow;else break;v=Pe(p.document)}return v}function nl(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Bc(p){var v=Zs(),j=p.focusedElem,$=p.selectionRange;if(v!==j&&j&&j.ownerDocument&&nu(j.ownerDocument.documentElement,j)){if($!==null&&nl(j)){if(v=$.start,p=$.end,p===void 0&&(p=v),"selectionStart"in j)j.selectionStart=v,j.selectionEnd=Math.min(p,j.value.length);else if(p=(v=j.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var he=j.textContent.length,Be=Math.min($.start,he);$=$.end===void 0?Be:Math.min($.end,he),!p.extend&&Be>$&&(he=$,$=Be,Be=he),he=co(j,Be);var $e=co(j,$);he&&$e&&(p.rangeCount!==1||p.anchorNode!==he.node||p.anchorOffset!==he.offset||p.focusNode!==$e.node||p.focusOffset!==$e.offset)&&(v=v.createRange(),v.setStart(he.node,he.offset),p.removeAllRanges(),Be>$?(p.addRange(v),p.extend($e.node,$e.offset)):(v.setEnd($e.node,$e.offset),p.addRange(v)))}}for(v=[],p=j;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<v.length;j++)p=v[j],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var ec=l&&"documentMode"in document&&11>=document.documentMode,Js=null,al=null,Tl=null,zo=!1;function Do(p,v,j){var $=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;zo||Js==null||Js!==Pe($)||($=Js,"selectionStart"in $&&nl($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Tl&&Di(Tl,$)||(Tl=$,$=Vu(al,"onSelect"),0<$.length&&(v=new Tt("onSelect","select",null,v,j),p.push({event:v,listeners:$}),v.target=Js)))}function tc(p,v){var j={};return j[p.toLowerCase()]=v.toLowerCase(),j["Webkit"+p]="webkit"+v,j["Moz"+p]="moz"+v,j}var _l={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Ec={},hd={};l&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Qc(p){if(Ec[p])return Ec[p];if(!_l[p])return p;var v=_l[p],j;for(j in v)if(v.hasOwnProperty(j)&&j in hd)return Ec[p]=v[j];return p}var Ad=Qc("animationend"),au=Qc("animationiteration"),Ko=Qc("animationstart"),iu=Qc("transitionend"),ju=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ol(p,v){ju.set(p,v),s(v,[p])}for(var Qu=0;Qu<Hu.length;Qu++){var Wu=Hu[Qu],rc=Wu.toLowerCase(),$u=Wu[0].toUpperCase()+Wu.slice(1);Ol(rc,"on"+$u)}Ol(Ad,"onAnimationEnd"),Ol(au,"onAnimationIteration"),Ol(Ko,"onAnimationStart"),Ol("dblclick","onDoubleClick"),Ol("focusin","onFocus"),Ol("focusout","onBlur"),Ol(iu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ba=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function fd(p,v,j){var $=p.type||"unknown-event";p.currentTarget=j,Ps($,v,void 0,p),p.currentTarget=null}function nc(p,v){v=(v&4)!==0;for(var j=0;j<p.length;j++){var $=p[j],he=$.event;$=$.listeners;e:{var Be=void 0;if(v)for(var $e=$.length-1;0<=$e;$e--){var jt=$[$e],Mt=jt.instance,fr=jt.currentTarget;if(jt=jt.listener,Mt!==Be&&he.isPropagationStopped())break e;fd(he,jt,fr),Be=Mt}else for($e=0;$e<$.length;$e++){if(jt=$[$e],Mt=jt.instance,fr=jt.currentTarget,jt=jt.listener,Mt!==Be&&he.isPropagationStopped())break e;fd(he,jt,fr),Be=Mt}}}if(Ni)throw p=yi,Ni=!1,yi=null,p}function bi(p,v){var j=v[zd];j===void 0&&(j=v[zd]=new Set);var $=p+"__bubble";j.has($)||(Ic(v,p,2,!1),j.add($))}function pd(p,v,j){var $=0;v&&($|=4),Ic(j,p,$,v)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Ts(p){if(!p[ml]){p[ml]=!0,a.forEach(function(j){j!=="selectionchange"&&(ba.has(j)||pd(j,!1,p),pd(j,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[ml]||(v[ml]=!0,pd("selectionchange",!1,v))}}function Ic(p,v,j,$){switch(mt(v)){case 1:var he=Ve;break;case 4:he=et;break;default:he=st}j=he.bind(null,v,j,p),he=void 0,!lr||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(he=!0),$?he!==void 0?p.addEventListener(v,j,{capture:!0,passive:he}):p.addEventListener(v,j,!0):he!==void 0?p.addEventListener(v,j,{passive:he}):p.addEventListener(v,j,!1)}function su(p,v,j,$,he){var Be=$;if((v&1)===0&&(v&2)===0&&$!==null)e:for(;;){if($===null)return;var $e=$.tag;if($e===3||$e===4){var jt=$.stateNode.containerInfo;if(jt===he||jt.nodeType===8&&jt.parentNode===he)break;if($e===4)for($e=$.return;$e!==null;){var Mt=$e.tag;if((Mt===3||Mt===4)&&(Mt=$e.stateNode.containerInfo,Mt===he||Mt.nodeType===8&&Mt.parentNode===he))return;$e=$e.return}for(;jt!==null;){if($e=qo(jt),$e===null)return;if(Mt=$e.tag,Mt===5||Mt===6){$=Be=$e;continue e}jt=jt.parentNode}}$=$.return}un(function(){var fr=Be,qr=Wr(j),en=[];e:{var zr=ju.get(p);if(zr!==void 0){var Rn=Tt,Yn=p;switch(p){case"keypress":if(St(j)===0)break e;case"keydown":case"keyup":Rn=Bn;break;case"focusin":Yn="focus",Rn=Xr;break;case"focusout":Yn="blur",Rn=Xr;break;case"beforeblur":case"afterblur":Rn=Xr;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rn=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rn=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rn=va;break;case Ad:case au:case Ko:Rn=Ze;break;case iu:Rn=Hr;break;case"scroll":Rn=at;break;case"wheel":Rn=Dn;break;case"copy":case"cut":case"paste":Rn=Ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rn=ut}var ta=(v&4)!==0,hl=!ta&&p==="scroll",sr=ta?zr!==null?zr+"Capture":null:zr;ta=[];for(var zt=fr,Ar;zt!==null;){Ar=zt;var sn=Ar.stateNode;if(Ar.tag===5&&sn!==null&&(Ar=sn,sr!==null&&(sn=tn(zt,sr),sn!=null&&ta.push(kl(zt,sn,Ar)))),hl)break;zt=zt.return}0<ta.length&&(zr=new Rn(zr,Yn,null,j,qr),en.push({event:zr,listeners:ta}))}}if((v&7)===0){e:{if(zr=p==="mouseover"||p==="pointerover",Rn=p==="mouseout"||p==="pointerout",zr&&j!==hn&&(Yn=j.relatedTarget||j.fromElement)&&(qo(Yn)||Yn[ac]))break e;if((Rn||zr)&&(zr=qr.window===qr?qr:(zr=qr.ownerDocument)?zr.defaultView||zr.parentWindow:window,Rn?(Yn=j.relatedTarget||j.toElement,Rn=fr,Yn=Yn?qo(Yn):null,Yn!==null&&(hl=Ka(Yn),Yn!==hl||Yn.tag!==5&&Yn.tag!==6)&&(Yn=null)):(Rn=null,Yn=fr),Rn!==Yn)){if(ta=pr,sn="onMouseLeave",sr="onMouseEnter",zt="mouse",(p==="pointerout"||p==="pointerover")&&(ta=ut,sn="onPointerLeave",sr="onPointerEnter",zt="pointer"),hl=Rn==null?zr:vl(Rn),Ar=Yn==null?zr:vl(Yn),zr=new ta(sn,zt+"leave",Rn,j,qr),zr.target=hl,zr.relatedTarget=Ar,sn=null,qo(qr)===fr&&(ta=new ta(sr,zt+"enter",Yn,j,qr),ta.target=Ar,ta.relatedTarget=hl,sn=ta),hl=sn,Rn&&Yn)t:{for(ta=Rn,sr=Yn,zt=0,Ar=ta;Ar;Ar=Go(Ar))zt++;for(Ar=0,sn=sr;sn;sn=Go(sn))Ar++;for(;0<zt-Ar;)ta=Go(ta),zt--;for(;0<Ar-zt;)sr=Go(sr),Ar--;for(;zt--;){if(ta===sr||sr!==null&&ta===sr.alternate)break t;ta=Go(ta),sr=Go(sr)}ta=null}else ta=null;Rn!==null&&md(en,zr,Rn,ta,!1),Yn!==null&&hl!==null&&md(en,hl,Yn,ta,!0)}}e:{if(zr=fr?vl(fr):window,Rn=zr.nodeName&&zr.nodeName.toLowerCase(),Rn==="select"||Rn==="input"&&zr.type==="file")var ia=_i;else if(qa(zr))if(Ca)ia=wo;else{ia=Aa;var _a=Sc}else(Rn=zr.nodeName)&&Rn.toLowerCase()==="input"&&(zr.type==="checkbox"||zr.type==="radio")&&(ia=ws);if(ia&&(ia=ia(p,fr))){ts(en,ia,j,qr);break e}_a&&_a(p,zr,fr),p==="focusout"&&(_a=zr._wrapperState)&&_a.controlled&&zr.type==="number"&&wt(zr,"number",zr.value)}switch(_a=fr?vl(fr):window,p){case"focusin":(qa(_a)||_a.contentEditable==="true")&&(Js=_a,al=fr,Tl=null);break;case"focusout":Tl=al=Js=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Do(en,j,qr);break;case"selectionchange":if(ec)break;case"keydown":case"keyup":Do(en,j,qr)}var Oa;if(Mn)e:{switch(p){case"compositionstart":var Ya="onCompositionStart";break e;case"compositionend":Ya="onCompositionEnd";break e;case"compositionupdate":Ya="onCompositionUpdate";break e}Ya=void 0}else kn?On(p,j)&&(Ya="onCompositionEnd"):p==="keydown"&&j.keyCode===229&&(Ya="onCompositionStart");Ya&&(Fn&&j.locale!=="ko"&&(kn||Ya!=="onCompositionStart"?Ya==="onCompositionEnd"&&kn&&(Oa=Gt()):(yt=qr,nt="value"in yt?yt.value:yt.textContent,kn=!0)),_a=Vu(fr,Ya),0<_a.length&&(Ya=new Kt(Ya,p,null,j,qr),en.push({event:Ya,listeners:_a}),Oa?Ya.data=Oa:(Oa=ua(j),Oa!==null&&(Ya.data=Oa)))),(Oa=Ha?ja(p,j):ui(p,j))&&(fr=Vu(fr,"onBeforeInput"),0<fr.length&&(qr=new Kt("onBeforeInput","beforeinput",null,j,qr),en.push({event:qr,listeners:fr}),qr.data=Oa))}nc(en,v)})}function kl(p,v,j){return{instance:p,listener:v,currentTarget:j}}function Vu(p,v){for(var j=v+"Capture",$=[];p!==null;){var he=p,Be=he.stateNode;he.tag===5&&Be!==null&&(he=Be,Be=tn(p,j),Be!=null&&$.unshift(kl(p,Be,he)),Be=tn(p,v),Be!=null&&$.push(kl(p,Be,he))),p=p.return}return $}function Go(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function md(p,v,j,$,he){for(var Be=v._reactName,$e=[];j!==null&&j!==$;){var jt=j,Mt=jt.alternate,fr=jt.stateNode;if(Mt!==null&&Mt===$)break;jt.tag===5&&fr!==null&&(jt=fr,he?(Mt=tn(j,Be),Mt!=null&&$e.unshift(kl(j,Mt,jt))):he||(Mt=tn(j,Be),Mt!=null&&$e.push(kl(j,Mt,jt)))),j=j.return}$e.length!==0&&p.push({event:v,listeners:$e})}var Nu=/\r\n?/g,gd=/\u0000|\uFFFD/g;function ou(p){return(typeof p=="string"?p:""+p).replace(Nu,`
`).replace(gd,"")}function Su(p,v,j){if(v=ou(v),ou(p)!==v&&j)throw Error(n(425))}function Bu(){}var Eu=null,Iu=null;function vd(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Lh=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,Vd=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(p){return Tu.resolve(null).then(p).catch(Uh)}:Pl;function Uh(p){setTimeout(function(){throw p})}function Na(p,v){var j=v,$=0;do{var he=j.nextSibling;if(p.removeChild(j),he&&he.nodeType===8)if(j=he.data,j==="/$"){if($===0){p.removeChild(he),fe(v);return}$--}else j!=="$"&&j!=="$?"&&j!=="$!"||$++;j=he}while(j);fe(v)}function Wc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function fh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var j=p.data;if(j==="$"||j==="$!"||j==="$?"){if(v===0)return p;v--}else j==="/$"&&v++}p=p.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),jo="__reactFiber$"+Tc,Fl="__reactProps$"+Tc,ac="__reactContainer$"+Tc,zd="__reactEvents$"+Tc,gl="__reactListeners$"+Tc,zu="__reactHandles$"+Tc;function qo(p){var v=p[jo];if(v)return v;for(var j=p.parentNode;j;){if(v=j[ac]||j[jo]){if(j=v.alternate,v.child!==null||j!==null&&j.child!==null)for(p=fh(p);p!==null;){if(j=p[jo])return j;p=fh(p)}return v}p=j,j=p.parentNode}return null}function _u(p){return p=p[jo]||p[ac],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function vl(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function xd(p){return p[Fl]||null}var _c=[],ic=-1;function Dl(p){return{current:p}}function di(p){0>ic||(p.current=_c[ic],_c[ic]=null,ic--)}function Oi(p,v){ic++,_c[ic]=p.current,p.current=v}var Ml={},js=Dl(Ml),Ms=Dl(!1),Oc=Ml;function lu(p,v){var j=p.type.contextTypes;if(!j)return Ml;var $=p.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===v)return $.__reactInternalMemoizedMaskedChildContext;var he={},Be;for(Be in j)he[Be]=v[Be];return $&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=he),he}function Mo(p){return p=p.childContextTypes,p!=null}function sc(){di(Ms),di(js)}function $c(p,v,j){if(js.current!==Ml)throw Error(n(168));Oi(js,v),Oi(Ms,j)}function Kd(p,v,j){var $=p.stateNode;if(v=v.childContextTypes,typeof $.getChildContext!="function")return j;$=$.getChildContext();for(var he in $)if(!(he in v))throw Error(n(108,Ee(p)||"Unknown",he));return be({},j,$)}function Vc(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Ml,Oc=js.current,Oi(js,p),Oi(Ms,Ms.current),!0}function Gd(p,v,j){var $=p.stateNode;if(!$)throw Error(n(169));j?(p=Kd(p,v,Oc),$.__reactInternalMemoizedMergedChildContext=p,di(Ms),di(js),Oi(js,p)):di(Ms),Oi(Ms,j)}var de=null,Qe=!1,gt=!1;function _t(p){de===null?de=[p]:de.push(p)}function qt(p){Qe=!0,_t(p)}function br(){if(!gt&&de!==null){gt=!0;var p=0,v=ga;try{var j=de;for(ga=1;p<j.length;p++){var $=j[p];do $=$(!0);while($!==null)}de=null,Qe=!1}catch(he){throw de!==null&&(de=de.slice(p+1)),Nc(ai,br),he}finally{ga=v,gt=!1}}return null}var Fr=[],In=0,Un=null,fa=0,na=[],Pa=0,Mi=null,Li=1,Ai="";function us(p,v){Fr[In++]=fa,Fr[In++]=Un,Un=p,fa=v}function T(p,v,j){na[Pa++]=Li,na[Pa++]=Ai,na[Pa++]=Mi,Mi=p;var $=Li;p=Ai;var he=32-ii($)-1;$&=~(1<<he),j+=1;var Be=32-ii(v)+he;if(30<Be){var $e=he-he%5;Be=($&(1<<$e)-1).toString(32),$>>=$e,he-=$e,Li=1<<32-ii(v)+he|j<<he|$,Ai=Be+p}else Li=1<<Be|j<<he|$,Ai=p}function Ue(p){p.return!==null&&(us(p,1),T(p,1,0))}function ee(p){for(;p===Un;)Un=Fr[--In],Fr[In]=null,fa=Fr[--In],Fr[In]=null;for(;p===Mi;)Mi=na[--Pa],na[Pa]=null,Ai=na[--Pa],na[Pa]=null,Li=na[--Pa],na[Pa]=null}var Xe=null,ht=null,ot=!1,er=null;function $t(p,v){var j=Ht(5,null,null,0);j.elementType="DELETED",j.stateNode=v,j.return=p,v=p.deletions,v===null?(p.deletions=[j],p.flags|=16):v.push(j)}function Sn(p,v){switch(p.tag){case 5:var j=p.type;return v=v.nodeType!==1||j.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Xe=p,ht=Wc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Xe=p,ht=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(j=Mi!==null?{id:Li,overflow:Ai}:null,p.memoizedState={dehydrated:v,treeContext:j,retryLane:1073741824},j=Ht(18,null,null,0),j.stateNode=v,j.return=p,p.child=j,Xe=p,ht=null,!0):!1;default:return!1}}function Pt(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(ot){var v=ht;if(v){var j=v;if(!Sn(p,v)){if(Pt(p))throw Error(n(418));v=Wc(j.nextSibling);var $=Xe;v&&Sn(p,v)?$t($,j):(p.flags=p.flags&-4097|2,ot=!1,Xe=p)}}else{if(Pt(p))throw Error(n(418));p.flags=p.flags&-4097|2,ot=!1,Xe=p}}}function ya(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Xe=p}function fn(p){if(p!==Xe)return!1;if(!ot)return ya(p),ot=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!vd(p.type,p.memoizedProps)),v&&(v=ht)){if(Pt(p))throw Mr(),Error(n(418));for(;v;)$t(p,v),v=Wc(v.nextSibling)}if(ya(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var j=p.data;if(j==="/$"){if(v===0){ht=Wc(p.nextSibling);break e}v--}else j!=="$"&&j!=="$!"&&j!=="$?"||v++}p=p.nextSibling}ht=null}}else ht=Xe?Wc(p.stateNode.nextSibling):null;return!0}function Mr(){for(var p=ht;p;)p=Wc(p.nextSibling)}function wr(){ht=Xe=null,ot=!1}function Ui(p){er===null?er=[p]:er.push(p)}var wa=N.ReactCurrentBatchConfig;function aa(p,v,j){if(p=j.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(n(309));var $=j.stateNode}if(!$)throw Error(n(147,p));var he=$,Be=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Be?v.ref:(v=function($e){var jt=he.refs;$e===null?delete jt[Be]:jt[Be]=$e},v._stringRef=Be,v)}if(typeof p!="string")throw Error(n(284));if(!j._owner)throw Error(n(290,p))}return p}function Sa(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function ti(p){var v=p._init;return v(p._payload)}function an(p){function v(sr,zt){if(p){var Ar=sr.deletions;Ar===null?(sr.deletions=[zt],sr.flags|=16):Ar.push(zt)}}function j(sr,zt){if(!p)return null;for(;zt!==null;)v(sr,zt),zt=zt.sibling;return null}function $(sr,zt){for(sr=new Map;zt!==null;)zt.key!==null?sr.set(zt.key,zt):sr.set(zt.index,zt),zt=zt.sibling;return sr}function he(sr,zt){return sr=bn(sr,zt),sr.index=0,sr.sibling=null,sr}function Be(sr,zt,Ar){return sr.index=Ar,p?(Ar=sr.alternate,Ar!==null?(Ar=Ar.index,Ar<zt?(sr.flags|=2,zt):Ar):(sr.flags|=2,zt)):(sr.flags|=1048576,zt)}function $e(sr){return p&&sr.alternate===null&&(sr.flags|=2),sr}function jt(sr,zt,Ar,sn){return zt===null||zt.tag!==6?(zt=Xn(Ar,sr.mode,sn),zt.return=sr,zt):(zt=he(zt,Ar),zt.return=sr,zt)}function Mt(sr,zt,Ar,sn){var ia=Ar.type;return ia===k?qr(sr,zt,Ar.props.children,sn,Ar.key):zt!==null&&(zt.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===R&&ti(ia)===zt.type)?(sn=he(zt,Ar.props),sn.ref=aa(sr,zt,Ar),sn.return=sr,sn):(sn=nn(Ar.type,Ar.key,Ar.props,null,sr.mode,sn),sn.ref=aa(sr,zt,Ar),sn.return=sr,sn)}function fr(sr,zt,Ar,sn){return zt===null||zt.tag!==4||zt.stateNode.containerInfo!==Ar.containerInfo||zt.stateNode.implementation!==Ar.implementation?(zt=$n(Ar,sr.mode,sn),zt.return=sr,zt):(zt=he(zt,Ar.children||[]),zt.return=sr,zt)}function qr(sr,zt,Ar,sn,ia){return zt===null||zt.tag!==7?(zt=vn(Ar,sr.mode,sn,ia),zt.return=sr,zt):(zt=he(zt,Ar),zt.return=sr,zt)}function en(sr,zt,Ar){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return zt=Xn(""+zt,sr.mode,Ar),zt.return=sr,zt;if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case S:return Ar=nn(zt.type,zt.key,zt.props,null,sr.mode,Ar),Ar.ref=aa(sr,null,zt),Ar.return=sr,Ar;case C:return zt=$n(zt,sr.mode,Ar),zt.return=sr,zt;case R:var sn=zt._init;return en(sr,sn(zt._payload),Ar)}if(Ft(zt)||Oe(zt))return zt=vn(zt,sr.mode,Ar,null),zt.return=sr,zt;Sa(sr,zt)}return null}function zr(sr,zt,Ar,sn){var ia=zt!==null?zt.key:null;if(typeof Ar=="string"&&Ar!==""||typeof Ar=="number")return ia!==null?null:jt(sr,zt,""+Ar,sn);if(typeof Ar=="object"&&Ar!==null){switch(Ar.$$typeof){case S:return Ar.key===ia?Mt(sr,zt,Ar,sn):null;case C:return Ar.key===ia?fr(sr,zt,Ar,sn):null;case R:return ia=Ar._init,zr(sr,zt,ia(Ar._payload),sn)}if(Ft(Ar)||Oe(Ar))return ia!==null?null:qr(sr,zt,Ar,sn,null);Sa(sr,Ar)}return null}function Rn(sr,zt,Ar,sn,ia){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return sr=sr.get(Ar)||null,jt(zt,sr,""+sn,ia);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case S:return sr=sr.get(sn.key===null?Ar:sn.key)||null,Mt(zt,sr,sn,ia);case C:return sr=sr.get(sn.key===null?Ar:sn.key)||null,fr(zt,sr,sn,ia);case R:var _a=sn._init;return Rn(sr,zt,Ar,_a(sn._payload),ia)}if(Ft(sn)||Oe(sn))return sr=sr.get(Ar)||null,qr(zt,sr,sn,ia,null);Sa(zt,sn)}return null}function Yn(sr,zt,Ar,sn){for(var ia=null,_a=null,Oa=zt,Ya=zt=0,mc=null;Oa!==null&&Ya<Ar.length;Ya++){Oa.index>Ya?(mc=Oa,Oa=null):mc=Oa.sibling;var is=zr(sr,Oa,Ar[Ya],sn);if(is===null){Oa===null&&(Oa=mc);break}p&&Oa&&is.alternate===null&&v(sr,Oa),zt=Be(is,zt,Ya),_a===null?ia=is:_a.sibling=is,_a=is,Oa=mc}if(Ya===Ar.length)return j(sr,Oa),ot&&us(sr,Ya),ia;if(Oa===null){for(;Ya<Ar.length;Ya++)Oa=en(sr,Ar[Ya],sn),Oa!==null&&(zt=Be(Oa,zt,Ya),_a===null?ia=Oa:_a.sibling=Oa,_a=Oa);return ot&&us(sr,Ya),ia}for(Oa=$(sr,Oa);Ya<Ar.length;Ya++)mc=Rn(Oa,sr,Ya,Ar[Ya],sn),mc!==null&&(p&&mc.alternate!==null&&Oa.delete(mc.key===null?Ya:mc.key),zt=Be(mc,zt,Ya),_a===null?ia=mc:_a.sibling=mc,_a=mc);return p&&Oa.forEach(function($A){return v(sr,$A)}),ot&&us(sr,Ya),ia}function ta(sr,zt,Ar,sn){var ia=Oe(Ar);if(typeof ia!="function")throw Error(n(150));if(Ar=ia.call(Ar),Ar==null)throw Error(n(151));for(var _a=ia=null,Oa=zt,Ya=zt=0,mc=null,is=Ar.next();Oa!==null&&!is.done;Ya++,is=Ar.next()){Oa.index>Ya?(mc=Oa,Oa=null):mc=Oa.sibling;var $A=zr(sr,Oa,is.value,sn);if($A===null){Oa===null&&(Oa=mc);break}p&&Oa&&$A.alternate===null&&v(sr,Oa),zt=Be($A,zt,Ya),_a===null?ia=$A:_a.sibling=$A,_a=$A,Oa=mc}if(is.done)return j(sr,Oa),ot&&us(sr,Ya),ia;if(Oa===null){for(;!is.done;Ya++,is=Ar.next())is=en(sr,is.value,sn),is!==null&&(zt=Be(is,zt,Ya),_a===null?ia=is:_a.sibling=is,_a=is);return ot&&us(sr,Ya),ia}for(Oa=$(sr,Oa);!is.done;Ya++,is=Ar.next())is=Rn(Oa,sr,Ya,is.value,sn),is!==null&&(p&&is.alternate!==null&&Oa.delete(is.key===null?Ya:is.key),zt=Be(is,zt,Ya),_a===null?ia=is:_a.sibling=is,_a=is);return p&&Oa.forEach(function(hD){return v(sr,hD)}),ot&&us(sr,Ya),ia}function hl(sr,zt,Ar,sn){if(typeof Ar=="object"&&Ar!==null&&Ar.type===k&&Ar.key===null&&(Ar=Ar.props.children),typeof Ar=="object"&&Ar!==null){switch(Ar.$$typeof){case S:e:{for(var ia=Ar.key,_a=zt;_a!==null;){if(_a.key===ia){if(ia=Ar.type,ia===k){if(_a.tag===7){j(sr,_a.sibling),zt=he(_a,Ar.props.children),zt.return=sr,sr=zt;break e}}else if(_a.elementType===ia||typeof ia=="object"&&ia!==null&&ia.$$typeof===R&&ti(ia)===_a.type){j(sr,_a.sibling),zt=he(_a,Ar.props),zt.ref=aa(sr,_a,Ar),zt.return=sr,sr=zt;break e}j(sr,_a);break}else v(sr,_a);_a=_a.sibling}Ar.type===k?(zt=vn(Ar.props.children,sr.mode,sn,Ar.key),zt.return=sr,sr=zt):(sn=nn(Ar.type,Ar.key,Ar.props,null,sr.mode,sn),sn.ref=aa(sr,zt,Ar),sn.return=sr,sr=sn)}return $e(sr);case C:e:{for(_a=Ar.key;zt!==null;){if(zt.key===_a)if(zt.tag===4&&zt.stateNode.containerInfo===Ar.containerInfo&&zt.stateNode.implementation===Ar.implementation){j(sr,zt.sibling),zt=he(zt,Ar.children||[]),zt.return=sr,sr=zt;break e}else{j(sr,zt);break}else v(sr,zt);zt=zt.sibling}zt=$n(Ar,sr.mode,sn),zt.return=sr,sr=zt}return $e(sr);case R:return _a=Ar._init,hl(sr,zt,_a(Ar._payload),sn)}if(Ft(Ar))return Yn(sr,zt,Ar,sn);if(Oe(Ar))return ta(sr,zt,Ar,sn);Sa(sr,Ar)}return typeof Ar=="string"&&Ar!==""||typeof Ar=="number"?(Ar=""+Ar,zt!==null&&zt.tag===6?(j(sr,zt.sibling),zt=he(zt,Ar),zt.return=sr,sr=zt):(j(sr,zt),zt=Xn(Ar,sr.mode,sn),zt.return=sr,sr=zt),$e(sr)):j(sr,zt)}return hl}var Ta=an(!0),rs=an(!1),Jn=Dl(null),li=null,Fa=null,Hn=null;function da(){Hn=Fa=li=null}function Co(p){var v=Jn.current;di(Jn),p._currentValue=v}function oc(p,v,j){for(;p!==null;){var $=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,$!==null&&($.childLanes|=v)):$!==null&&($.childLanes&v)!==v&&($.childLanes|=v),p===j)break;p=p.return}}function Ro(p,v){li=p,Hn=Fa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Ul=!0),p.firstContext=null)}function uo(p){var v=p._currentValue;if(Hn!==p)if(p={context:p,memoizedValue:v,next:null},Fa===null){if(li===null)throw Error(n(308));Fa=p,li.dependencies={lanes:0,firstContext:p}}else Fa=Fa.next=p;return v}var lc=null;function Vs(p){lc===null?lc=[p]:lc.push(p)}function Hh(p,v,j,$){var he=v.interleaved;return he===null?(j.next=j,Vs(v)):(j.next=he.next,he.next=j),v.interleaved=j,Xo(p,$)}function Xo(p,v){p.lanes|=v;var j=p.alternate;for(j!==null&&(j.lanes|=v),j=p,p=p.return;p!==null;)p.childLanes|=v,j=p.alternate,j!==null&&(j.childLanes|=v),j=p,p=p.return;return j.tag===3?j.stateNode:null}var il=!1;function qd(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function kc(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function zc(p,v,j){var $=p.updateQueue;if($===null)return null;if($=$.shared,(qn&2)!==0){var he=$.pending;return he===null?v.next=v:(v.next=he.next,he.next=v),$.pending=v,Xo(p,j)}return he=$.interleaved,he===null?(v.next=v,Vs($)):(v.next=he.next,he.next=v),$.interleaved=v,Xo(p,j)}function Kc(p,v,j){if(v=v.updateQueue,v!==null&&(v=v.shared,(j&4194240)!==0)){var $=v.lanes;$&=p.pendingLanes,j|=$,v.lanes=j,Po(p,j)}}function Ku(p,v){var j=p.updateQueue,$=p.alternate;if($!==null&&($=$.updateQueue,j===$)){var he=null,Be=null;if(j=j.firstBaseUpdate,j!==null){do{var $e={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};Be===null?he=Be=$e:Be=Be.next=$e,j=j.next}while(j!==null);Be===null?he=Be=v:Be=Be.next=v}else he=Be=v;j={baseState:$.baseState,firstBaseUpdate:he,lastBaseUpdate:Be,shared:$.shared,effects:$.effects},p.updateQueue=j;return}p=j.lastBaseUpdate,p===null?j.firstBaseUpdate=v:p.next=v,j.lastBaseUpdate=v}function cu(p,v,j,$){var he=p.updateQueue;il=!1;var Be=he.firstBaseUpdate,$e=he.lastBaseUpdate,jt=he.shared.pending;if(jt!==null){he.shared.pending=null;var Mt=jt,fr=Mt.next;Mt.next=null,$e===null?Be=fr:$e.next=fr,$e=Mt;var qr=p.alternate;qr!==null&&(qr=qr.updateQueue,jt=qr.lastBaseUpdate,jt!==$e&&(jt===null?qr.firstBaseUpdate=fr:jt.next=fr,qr.lastBaseUpdate=Mt))}if(Be!==null){var en=he.baseState;$e=0,qr=fr=Mt=null,jt=Be;do{var zr=jt.lane,Rn=jt.eventTime;if(($&zr)===zr){qr!==null&&(qr=qr.next={eventTime:Rn,lane:0,tag:jt.tag,payload:jt.payload,callback:jt.callback,next:null});e:{var Yn=p,ta=jt;switch(zr=v,Rn=j,ta.tag){case 1:if(Yn=ta.payload,typeof Yn=="function"){en=Yn.call(Rn,en,zr);break e}en=Yn;break e;case 3:Yn.flags=Yn.flags&-65537|128;case 0:if(Yn=ta.payload,zr=typeof Yn=="function"?Yn.call(Rn,en,zr):Yn,zr==null)break e;en=be({},en,zr);break e;case 2:il=!0}}jt.callback!==null&&jt.lane!==0&&(p.flags|=64,zr=he.effects,zr===null?he.effects=[jt]:zr.push(jt))}else Rn={eventTime:Rn,lane:zr,tag:jt.tag,payload:jt.payload,callback:jt.callback,next:null},qr===null?(fr=qr=Rn,Mt=en):qr=qr.next=Rn,$e|=zr;if(jt=jt.next,jt===null){if(jt=he.shared.pending,jt===null)break;zr=jt,jt=zr.next,zr.next=null,he.lastBaseUpdate=zr,he.shared.pending=null}}while(!0);if(qr===null&&(Mt=en),he.baseState=Mt,he.firstBaseUpdate=fr,he.lastBaseUpdate=qr,v=he.shared.interleaved,v!==null){he=v;do $e|=he.lane,he=he.next;while(he!==v)}else Be===null&&(he.shared.lanes=0);ku|=$e,p.lanes=$e,p.memoizedState=en}}function yd(p,v,j){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var $=p[v],he=$.callback;if(he!==null){if($.callback=null,$=j,typeof he!="function")throw Error(n(191,he));he.call($)}}}var Pc={},xl=Dl(Pc),Lo=Dl(Pc),cc=Dl(Pc);function hi(p){if(p===Pc)throw Error(n(174));return p}function Hi(p,v){switch(Oi(cc,v),Oi(Lo,p),Oi(xl,Pc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Nt(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Nt(v,p)}di(xl),Oi(xl,v)}function ds(){di(xl),di(Lo),di(cc)}function ho(p){hi(cc.current);var v=hi(xl.current),j=Nt(v,p.type);v!==j&&(Oi(Lo,p),Oi(xl,j))}function uu(p){Lo.current===p&&(di(xl),di(Lo))}var ns=Dl(0);function du(p){for(var v=p;v!==null;){if(v.tag===13){var j=v.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var bd=[];function Qh(){for(var p=0;p<bd.length;p++)bd[p]._workInProgressVersionPrimary=null;bd.length=0}var mh=N.ReactCurrentDispatcher,Wh=N.ReactCurrentBatchConfig,Gu=0,Cs=null,No=null,eo=null,$h=!1,sl=!1,wd=0,wp=0;function ol(){throw Error(n(321))}function jA(p,v){if(v===null)return!1;for(var j=0;j<v.length&&j<p.length;j++)if(!Ds(p[j],v[j]))return!1;return!0}function CA(p,v,j,$,he,Be){if(Gu=Be,Cs=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,mh.current=p===null||p.memoizedState===null?hu:Sp,p=j($,he),sl){Be=0;do{if(sl=!1,wd=0,25<=Be)throw Error(n(301));Be+=1,eo=No=null,v.updateQueue=null,mh.current=bf,p=j($,he)}while(sl)}if(mh.current=Ll,v=No!==null&&No.next!==null,Gu=0,eo=No=Cs=null,$h=!1,v)throw Error(n(300));return p}function NA(){var p=wd!==0;return wd=0,p}function Gc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eo===null?Cs.memoizedState=eo=p:eo=eo.next=p,eo}function Rl(){if(No===null){var p=Cs.alternate;p=p!==null?p.memoizedState:null}else p=No.next;var v=eo===null?Cs.memoizedState:eo.next;if(v!==null)eo=v,No=p;else{if(p===null)throw Error(n(310));No=p,p={memoizedState:No.memoizedState,baseState:No.baseState,baseQueue:No.baseQueue,queue:No.queue,next:null},eo===null?Cs.memoizedState=eo=p:eo=eo.next=p}return eo}function ll(p,v){return typeof v=="function"?v(p):v}function uc(p){var v=Rl(),j=v.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=p;var $=No,he=$.baseQueue,Be=j.pending;if(Be!==null){if(he!==null){var $e=he.next;he.next=Be.next,Be.next=$e}$.baseQueue=he=Be,j.pending=null}if(he!==null){Be=he.next,$=$.baseState;var jt=$e=null,Mt=null,fr=Be;do{var qr=fr.lane;if((Gu&qr)===qr)Mt!==null&&(Mt=Mt.next={lane:0,action:fr.action,hasEagerState:fr.hasEagerState,eagerState:fr.eagerState,next:null}),$=fr.hasEagerState?fr.eagerState:p($,fr.action);else{var en={lane:qr,action:fr.action,hasEagerState:fr.hasEagerState,eagerState:fr.eagerState,next:null};Mt===null?(jt=Mt=en,$e=$):Mt=Mt.next=en,Cs.lanes|=qr,ku|=qr}fr=fr.next}while(fr!==null&&fr!==Be);Mt===null?$e=$:Mt.next=jt,Ds($,v.memoizedState)||(Ul=!0),v.memoizedState=$,v.baseState=$e,v.baseQueue=Mt,j.lastRenderedState=$}if(p=j.interleaved,p!==null){he=p;do Be=he.lane,Cs.lanes|=Be,ku|=Be,he=he.next;while(he!==p)}else he===null&&(j.lanes=0);return[v.memoizedState,j.dispatch]}function Xd(p){var v=Rl(),j=v.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=p;var $=j.dispatch,he=j.pending,Be=v.memoizedState;if(he!==null){j.pending=null;var $e=he=he.next;do Be=p(Be,$e.action),$e=$e.next;while($e!==he);Ds(Be,v.memoizedState)||(Ul=!0),v.memoizedState=Be,v.baseQueue===null&&(v.baseState=Be),j.lastRenderedState=Be}return[Be,$]}function Vh(){}function zh(p,v){var j=Cs,$=Rl(),he=v(),Be=!Ds($.memoizedState,he);if(Be&&($.memoizedState=he,Ul=!0),$=$.queue,vf(jd.bind(null,j,$,p),[p]),$.getSnapshot!==v||Be||eo!==null&&eo.memoizedState.tag&1){if(j.flags|=2048,Ou(9,Ao.bind(null,j,$,he,v),void 0,null),Gi===null)throw Error(n(349));(Gu&30)!==0||gh(j,v,he)}return he}function gh(p,v,j){p.flags|=16384,p={getSnapshot:v,value:j},v=Cs.updateQueue,v===null?(v={lastEffect:null,stores:null},Cs.updateQueue=v,v.stores=[p]):(j=v.stores,j===null?v.stores=[p]:j.push(p))}function Ao(p,v,j,$){v.value=j,v.getSnapshot=$,mf(v)&&SA(p)}function jd(p,v,j){return j(function(){mf(v)&&SA(p)})}function mf(p){var v=p.getSnapshot;p=p.value;try{var j=v();return!Ds(p,j)}catch{return!0}}function SA(p){var v=Xo(p,1);v!==null&&jl(v,p,1,-1)}function Kh(p){var v=Gc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:p},v.queue=p,p=p.dispatch=Wm.bind(null,Cs,p),[v.memoizedState,p]}function Ou(p,v,j,$){return p={tag:p,create:v,destroy:j,deps:$,next:null},v=Cs.updateQueue,v===null?(v={lastEffect:null,stores:null},Cs.updateQueue=v,v.lastEffect=p.next=p):(j=v.lastEffect,j===null?v.lastEffect=p.next=p:($=j.next,j.next=p,p.next=$,v.lastEffect=p)),p}function BA(){return Rl().memoizedState}function EA(p,v,j,$){var he=Gc();Cs.flags|=p,he.memoizedState=Ou(1|v,j,void 0,$===void 0?null:$)}function IA(p,v,j,$){var he=Rl();$=$===void 0?null:$;var Be=void 0;if(No!==null){var $e=No.memoizedState;if(Be=$e.destroy,$!==null&&jA($,$e.deps)){he.memoizedState=Ou(v,j,Be,$);return}}Cs.flags|=p,he.memoizedState=Ou(1|v,j,Be,$)}function gf(p,v){return EA(8390656,8,p,v)}function vf(p,v){return IA(2048,8,p,v)}function jp(p,v){return IA(4,2,p,v)}function Cp(p,v){return IA(4,4,p,v)}function Np(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function xf(p,v,j){return j=j!=null?j.concat([p]):null,IA(4,4,Np.bind(null,v,p),j)}function vh(){}function Gh(p,v){var j=Rl();v=v===void 0?null:v;var $=j.memoizedState;return $!==null&&v!==null&&jA(v,$[1])?$[0]:(j.memoizedState=[p,v],p)}function Yd(p,v){var j=Rl();v=v===void 0?null:v;var $=j.memoizedState;return $!==null&&v!==null&&jA(v,$[1])?$[0]:(p=p(),j.memoizedState=[p,v],p)}function TA(p,v,j){return(Gu&21)===0?(p.baseState&&(p.baseState=!1,Ul=!0),p.memoizedState=j):(Ds(j,v)||(j=lo(),Cs.lanes|=j,ku|=j,p.baseState=!0),v)}function Hm(p,v){var j=ga;ga=j!==0&&4>j?j:4,p(!0);var $=Wh.transition;Wh.transition={};try{p(!1),v()}finally{ga=j,Wh.transition=$}}function yf(){return Rl().memoizedState}function Qm(p,v,j){var $=Ac(p);if(j={lane:$,action:j,hasEagerState:!1,eagerState:null,next:null},qh(p))Xh(v,j);else if(j=Hh(p,v,j,$),j!==null){var he=Bo();jl(j,p,$,he),qu(j,v,$)}}function Wm(p,v,j){var $=Ac(p),he={lane:$,action:j,hasEagerState:!1,eagerState:null,next:null};if(qh(p))Xh(v,he);else{var Be=p.alternate;if(p.lanes===0&&(Be===null||Be.lanes===0)&&(Be=v.lastRenderedReducer,Be!==null))try{var $e=v.lastRenderedState,jt=Be($e,j);if(he.hasEagerState=!0,he.eagerState=jt,Ds(jt,$e)){var Mt=v.interleaved;Mt===null?(he.next=he,Vs(v)):(he.next=Mt.next,Mt.next=he),v.interleaved=he;return}}catch{}finally{}j=Hh(p,v,he,$),j!==null&&(he=Bo(),jl(j,p,$,he),qu(j,v,$))}}function qh(p){var v=p.alternate;return p===Cs||v!==null&&v===Cs}function Xh(p,v){sl=$h=!0;var j=p.pending;j===null?v.next=v:(v.next=j.next,j.next=v),p.pending=v}function qu(p,v,j){if((j&4194240)!==0){var $=v.lanes;$&=p.pendingLanes,j|=$,v.lanes=j,Po(p,j)}}var Ll={readContext:uo,useCallback:ol,useContext:ol,useEffect:ol,useImperativeHandle:ol,useInsertionEffect:ol,useLayoutEffect:ol,useMemo:ol,useReducer:ol,useRef:ol,useState:ol,useDebugValue:ol,useDeferredValue:ol,useTransition:ol,useMutableSource:ol,useSyncExternalStore:ol,useId:ol,unstable_isNewReconciler:!1},hu={readContext:uo,useCallback:function(p,v){return Gc().memoizedState=[p,v===void 0?null:v],p},useContext:uo,useEffect:gf,useImperativeHandle:function(p,v,j){return j=j!=null?j.concat([p]):null,EA(4194308,4,Np.bind(null,v,p),j)},useLayoutEffect:function(p,v){return EA(4194308,4,p,v)},useInsertionEffect:function(p,v){return EA(4,2,p,v)},useMemo:function(p,v){var j=Gc();return v=v===void 0?null:v,p=p(),j.memoizedState=[p,v],p},useReducer:function(p,v,j){var $=Gc();return v=j!==void 0?j(v):v,$.memoizedState=$.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},$.queue=p,p=p.dispatch=Qm.bind(null,Cs,p),[$.memoizedState,p]},useRef:function(p){var v=Gc();return p={current:p},v.memoizedState=p},useState:Kh,useDebugValue:vh,useDeferredValue:function(p){return Gc().memoizedState=p},useTransition:function(){var p=Kh(!1),v=p[0];return p=Hm.bind(null,p[1]),Gc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,j){var $=Cs,he=Gc();if(ot){if(j===void 0)throw Error(n(407));j=j()}else{if(j=v(),Gi===null)throw Error(n(349));(Gu&30)!==0||gh($,v,j)}he.memoizedState=j;var Be={value:j,getSnapshot:v};return he.queue=Be,gf(jd.bind(null,$,Be,p),[p]),$.flags|=2048,Ou(9,Ao.bind(null,$,Be,j,v),void 0,null),j},useId:function(){var p=Gc(),v=Gi.identifierPrefix;if(ot){var j=Ai,$=Li;j=($&~(1<<32-ii($)-1)).toString(32)+j,v=":"+v+"R"+j,j=wd++,0<j&&(v+="H"+j.toString(32)),v+=":"}else j=wp++,v=":"+v+"r"+j.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Sp={readContext:uo,useCallback:Gh,useContext:uo,useEffect:vf,useImperativeHandle:xf,useInsertionEffect:jp,useLayoutEffect:Cp,useMemo:Yd,useReducer:uc,useRef:BA,useState:function(){return uc(ll)},useDebugValue:vh,useDeferredValue:function(p){var v=Rl();return TA(v,No.memoizedState,p)},useTransition:function(){var p=uc(ll)[0],v=Rl().memoizedState;return[p,v]},useMutableSource:Vh,useSyncExternalStore:zh,useId:yf,unstable_isNewReconciler:!1},bf={readContext:uo,useCallback:Gh,useContext:uo,useEffect:vf,useImperativeHandle:xf,useInsertionEffect:jp,useLayoutEffect:Cp,useMemo:Yd,useReducer:Xd,useRef:BA,useState:function(){return Xd(ll)},useDebugValue:vh,useDeferredValue:function(p){var v=Rl();return No===null?v.memoizedState=p:TA(v,No.memoizedState,p)},useTransition:function(){var p=Xd(ll)[0],v=Rl().memoizedState;return[p,v]},useMutableSource:Vh,useSyncExternalStore:zh,useId:yf,unstable_isNewReconciler:!1};function Uo(p,v){if(p&&p.defaultProps){v=be({},v),p=p.defaultProps;for(var j in p)v[j]===void 0&&(v[j]=p[j]);return v}return v}function dc(p,v,j,$){v=p.memoizedState,j=j($,v),j=j==null?v:be({},v,j),p.memoizedState=j,p.lanes===0&&(p.updateQueue.baseState=j)}var Zd={isMounted:function(p){return(p=p._reactInternals)?Ka(p)===p:!1},enqueueSetState:function(p,v,j){p=p._reactInternals;var $=Bo(),he=Ac(p),Be=kc($,he);Be.payload=v,j!=null&&(Be.callback=j),v=zc(p,Be,he),v!==null&&(jl(v,p,he,$),Kc(v,p,he))},enqueueReplaceState:function(p,v,j){p=p._reactInternals;var $=Bo(),he=Ac(p),Be=kc($,he);Be.tag=1,Be.payload=v,j!=null&&(Be.callback=j),v=zc(p,Be,he),v!==null&&(jl(v,p,he,$),Kc(v,p,he))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var j=Bo(),$=Ac(p),he=kc(j,$);he.tag=2,v!=null&&(he.callback=v),v=zc(p,he,$),v!==null&&(jl(v,p,$,j),Kc(v,p,$))}};function wf(p,v,j,$,he,Be,$e){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate($,Be,$e):v.prototype&&v.prototype.isPureReactComponent?!Di(j,$)||!Di(he,Be):!0}function _A(p,v,j){var $=!1,he=Ml,Be=v.contextType;return typeof Be=="object"&&Be!==null?Be=uo(Be):(he=Mo(v)?Oc:js.current,$=v.contextTypes,Be=($=$!=null)?lu(p,he):Ml),v=new v(j,Be),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zd,p.stateNode=v,v._reactInternals=p,$&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=he,p.__reactInternalMemoizedMaskedChildContext=Be),v}function jf(p,v,j,$){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(j,$),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(j,$),v.state!==p&&Zd.enqueueReplaceState(v,v.state,null)}function OA(p,v,j,$){var he=p.stateNode;he.props=j,he.state=p.memoizedState,he.refs={},qd(p);var Be=v.contextType;typeof Be=="object"&&Be!==null?he.context=uo(Be):(Be=Mo(v)?Oc:js.current,he.context=lu(p,Be)),he.state=p.memoizedState,Be=v.getDerivedStateFromProps,typeof Be=="function"&&(dc(p,v,Be,j),he.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof he.getSnapshotBeforeUpdate=="function"||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(v=he.state,typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount(),v!==he.state&&Zd.enqueueReplaceState(he,he.state,null),cu(p,j,he,$),he.state=p.memoizedState),typeof he.componentDidMount=="function"&&(p.flags|=4194308)}function Cd(p,v){try{var j="",$=v;do j+=ae($),$=$.return;while($);var he=j}catch(Be){he=`
Error generating stack: `+Be.message+`
`+Be.stack}return{value:p,source:v,stack:he,digest:null}}function Nd(p,v,j){return{value:p,source:null,stack:j??null,digest:v??null}}function Sd(p,v){try{console.error(v.value)}catch(j){setTimeout(function(){throw j})}}var Jd=typeof WeakMap=="function"?WeakMap:Map;function xh(p,v,j){j=kc(-1,j),j.tag=3,j.payload={element:null};var $=v.value;return j.callback=function(){Jh||(Jh=!0,MA=$),Sd(p,v)},j}function kA(p,v,j){j=kc(-1,j),j.tag=3;var $=p.type.getDerivedStateFromError;if(typeof $=="function"){var he=v.value;j.payload=function(){return $(he)},j.callback=function(){Sd(p,v)}}var Be=p.stateNode;return Be!==null&&typeof Be.componentDidCatch=="function"&&(j.callback=function(){Sd(p,v),typeof $!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var $e=v.stack;this.componentDidCatch(v.value,{componentStack:$e!==null?$e:""})}),j}function Bp(p,v,j){var $=p.pingCache;if($===null){$=p.pingCache=new Jd;var he=new Set;$.set(v,he)}else he=$.get(v),he===void 0&&(he=new Set,$.set(v,he));he.has(j)||(he.add(j),p=U.bind(null,p,v,j),v.then(p,p))}function Cf(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function Nf(p,v,j,$,he){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(v=kc(-1,1),v.tag=2,zc(j,v,1))),j.lanes|=1),p):(p.flags|=65536,p.lanes=he,p)}var Sf=N.ReactCurrentOwner,Ul=!1;function yl(p,v,j,$){v.child=p===null?rs(v,null,j,$):Ta(v,p.child,j,$)}function PA(p,v,j,$,he){j=j.render;var Be=v.ref;return Ro(v,he),$=CA(p,v,j,$,Be,he),j=NA(),p!==null&&!Ul?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~he,Rt(p,v,he)):(ot&&j&&Ue(v),v.flags|=1,yl(p,v,$,he),v.child)}function Bf(p,v,j,$,he){if(p===null){var Be=j.type;return typeof Be=="function"&&!tr(Be)&&Be.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(v.tag=15,v.type=Be,FA(p,v,Be,$,he)):(p=nn(j.type,null,$,v,v.mode,he),p.ref=v.ref,p.return=v,v.child=p)}if(Be=p.child,(p.lanes&he)===0){var $e=Be.memoizedProps;if(j=j.compare,j=j!==null?j:Di,j($e,$)&&p.ref===v.ref)return Rt(p,v,he)}return v.flags|=1,p=bn(Be,$),p.ref=v.ref,p.return=v,v.child=p}function FA(p,v,j,$,he){if(p!==null){var Be=p.memoizedProps;if(Di(Be,$)&&p.ref===v.ref)if(Ul=!1,v.pendingProps=$=Be,(p.lanes&he)!==0)(p.flags&131072)!==0&&(Ul=!0);else return v.lanes=p.lanes,Rt(p,v,he)}return yh(p,v,j,$,he)}function Yh(p,v,j){var $=v.pendingProps,he=$.children,Be=p!==null?p.memoizedState:null;if($.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(to,Us),Us|=j;else{if((j&1073741824)===0)return p=Be!==null?Be.baseLanes|j:j,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Oi(to,Us),Us|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=Be!==null?Be.baseLanes:j,Oi(to,Us),Us|=$}else Be!==null?($=Be.baseLanes|j,v.memoizedState=null):$=j,Oi(to,Us),Us|=$;return yl(p,v,he,j),v.child}function Zh(p,v){var j=v.ref;(p===null&&j!==null||p!==null&&p.ref!==j)&&(v.flags|=512,v.flags|=2097152)}function yh(p,v,j,$,he){var Be=Mo(j)?Oc:js.current;return Be=lu(v,Be),Ro(v,he),j=CA(p,v,j,$,Be,he),$=NA(),p!==null&&!Ul?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~he,Rt(p,v,he)):(ot&&$&&Ue(v),v.flags|=1,yl(p,v,j,he),v.child)}function DA(p,v,j,$,he){if(Mo(j)){var Be=!0;Vc(v)}else Be=!1;if(Ro(v,he),v.stateNode===null)At(p,v),_A(v,j,$),OA(v,j,$,he),$=!0;else if(p===null){var $e=v.stateNode,jt=v.memoizedProps;$e.props=jt;var Mt=$e.context,fr=j.contextType;typeof fr=="object"&&fr!==null?fr=uo(fr):(fr=Mo(j)?Oc:js.current,fr=lu(v,fr));var qr=j.getDerivedStateFromProps,en=typeof qr=="function"||typeof $e.getSnapshotBeforeUpdate=="function";en||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(jt!==$||Mt!==fr)&&jf(v,$e,$,fr),il=!1;var zr=v.memoizedState;$e.state=zr,cu(v,$,$e,he),Mt=v.memoizedState,jt!==$||zr!==Mt||Ms.current||il?(typeof qr=="function"&&(dc(v,j,qr,$),Mt=v.memoizedState),(jt=il||wf(v,j,jt,$,zr,Mt,fr))?(en||typeof $e.UNSAFE_componentWillMount!="function"&&typeof $e.componentWillMount!="function"||(typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount()),typeof $e.componentDidMount=="function"&&(v.flags|=4194308)):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=$,v.memoizedState=Mt),$e.props=$,$e.state=Mt,$e.context=fr,$=jt):(typeof $e.componentDidMount=="function"&&(v.flags|=4194308),$=!1)}else{$e=v.stateNode,ph(p,v),jt=v.memoizedProps,fr=v.type===v.elementType?jt:Uo(v.type,jt),$e.props=fr,en=v.pendingProps,zr=$e.context,Mt=j.contextType,typeof Mt=="object"&&Mt!==null?Mt=uo(Mt):(Mt=Mo(j)?Oc:js.current,Mt=lu(v,Mt));var Rn=j.getDerivedStateFromProps;(qr=typeof Rn=="function"||typeof $e.getSnapshotBeforeUpdate=="function")||typeof $e.UNSAFE_componentWillReceiveProps!="function"&&typeof $e.componentWillReceiveProps!="function"||(jt!==en||zr!==Mt)&&jf(v,$e,$,Mt),il=!1,zr=v.memoizedState,$e.state=zr,cu(v,$,$e,he);var Yn=v.memoizedState;jt!==en||zr!==Yn||Ms.current||il?(typeof Rn=="function"&&(dc(v,j,Rn,$),Yn=v.memoizedState),(fr=il||wf(v,j,fr,$,zr,Yn,Mt)||!1)?(qr||typeof $e.UNSAFE_componentWillUpdate!="function"&&typeof $e.componentWillUpdate!="function"||(typeof $e.componentWillUpdate=="function"&&$e.componentWillUpdate($,Yn,Mt),typeof $e.UNSAFE_componentWillUpdate=="function"&&$e.UNSAFE_componentWillUpdate($,Yn,Mt)),typeof $e.componentDidUpdate=="function"&&(v.flags|=4),typeof $e.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof $e.componentDidUpdate!="function"||jt===p.memoizedProps&&zr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||jt===p.memoizedProps&&zr===p.memoizedState||(v.flags|=1024),v.memoizedProps=$,v.memoizedState=Yn),$e.props=$,$e.state=Yn,$e.context=Mt,$=fr):(typeof $e.componentDidUpdate!="function"||jt===p.memoizedProps&&zr===p.memoizedState||(v.flags|=4),typeof $e.getSnapshotBeforeUpdate!="function"||jt===p.memoizedProps&&zr===p.memoizedState||(v.flags|=1024),$=!1)}return _(p,v,j,$,Be,he)}function _(p,v,j,$,he,Be){Zh(p,v);var $e=(v.flags&128)!==0;if(!$&&!$e)return he&&Gd(v,j,!1),Rt(p,v,Be);$=v.stateNode,Sf.current=v;var jt=$e&&typeof j.getDerivedStateFromError!="function"?null:$.render();return v.flags|=1,p!==null&&$e?(v.child=Ta(v,p.child,null,Be),v.child=Ta(v,null,jt,Be)):yl(p,v,jt,Be),v.memoizedState=$.state,he&&Gd(v,j,!0),v.child}function G(p){var v=p.stateNode;v.pendingContext?$c(p,v.pendingContext,v.pendingContext!==v.context):v.context&&$c(p,v.context,!1),Hi(p,v.containerInfo)}function ve(p,v,j,$,he){return wr(),Ui(he),v.flags|=256,yl(p,v,j,$),v.child}var _e={dehydrated:null,treeContext:null,retryLane:0};function We(p){return{baseLanes:p,cachePool:null,transitions:null}}function Ke(p,v,j){var $=v.pendingProps,he=ns.current,Be=!1,$e=(v.flags&128)!==0,jt;if((jt=$e)||(jt=p!==null&&p.memoizedState===null?!1:(he&2)!==0),jt?(Be=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(he|=1),Oi(ns,he&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):($e=$.children,p=$.fallback,Be?($=v.mode,Be=v.child,$e={mode:"hidden",children:$e},($&1)===0&&Be!==null?(Be.childLanes=0,Be.pendingProps=$e):Be=ri($e,$,0,null),p=vn(p,$,j,null),Be.return=v,p.return=v,Be.sibling=p,v.child=Be,v.child.memoizedState=We(j),v.memoizedState=_e,p):qe(v,$e));if(he=p.memoizedState,he!==null&&(jt=he.dehydrated,jt!==null))return rt(p,v,$e,$,jt,he,j);if(Be){Be=$.fallback,$e=v.mode,he=p.child,jt=he.sibling;var Mt={mode:"hidden",children:$.children};return($e&1)===0&&v.child!==he?($=v.child,$.childLanes=0,$.pendingProps=Mt,v.deletions=null):($=bn(he,Mt),$.subtreeFlags=he.subtreeFlags&14680064),jt!==null?Be=bn(jt,Be):(Be=vn(Be,$e,j,null),Be.flags|=2),Be.return=v,$.return=v,$.sibling=Be,v.child=$,$=Be,Be=v.child,$e=p.child.memoizedState,$e=$e===null?We(j):{baseLanes:$e.baseLanes|j,cachePool:null,transitions:$e.transitions},Be.memoizedState=$e,Be.childLanes=p.childLanes&~j,v.memoizedState=_e,$}return Be=p.child,p=Be.sibling,$=bn(Be,{mode:"visible",children:$.children}),(v.mode&1)===0&&($.lanes=j),$.return=v,$.sibling=null,p!==null&&(j=v.deletions,j===null?(v.deletions=[p],v.flags|=16):j.push(p)),v.child=$,v.memoizedState=null,$}function qe(p,v){return v=ri({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function Je(p,v,j,$){return $!==null&&Ui($),Ta(v,p.child,null,j),p=qe(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function rt(p,v,j,$,he,Be,$e){if(j)return v.flags&256?(v.flags&=-257,$=Nd(Error(n(422))),Je(p,v,$e,$)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Be=$.fallback,he=v.mode,$=ri({mode:"visible",children:$.children},he,0,null),Be=vn(Be,he,$e,null),Be.flags|=2,$.return=v,Be.return=v,$.sibling=Be,v.child=$,(v.mode&1)!==0&&Ta(v,p.child,null,$e),v.child.memoizedState=We($e),v.memoizedState=_e,Be);if((v.mode&1)===0)return Je(p,v,$e,null);if(he.data==="$!"){if($=he.nextSibling&&he.nextSibling.dataset,$)var jt=$.dgst;return $=jt,Be=Error(n(419)),$=Nd(Be,$,void 0),Je(p,v,$e,$)}if(jt=($e&p.childLanes)!==0,Ul||jt){if($=Gi,$!==null){switch($e&-$e){case 4:he=2;break;case 16:he=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:he=32;break;case 536870912:he=268435456;break;default:he=0}he=(he&($.suspendedLanes|$e))!==0?0:he,he!==0&&he!==Be.retryLane&&(Be.retryLane=he,Xo(p,he),jl($,p,he,-1))}return jh(),$=Nd(Error(n(421))),Je(p,v,$e,$)}return he.data==="$?"?(v.flags|=128,v.child=p.child,v=Me.bind(null,p),he._reactRetry=v,null):(p=Be.treeContext,ht=Wc(he.nextSibling),Xe=v,ot=!0,er=null,p!==null&&(na[Pa++]=Li,na[Pa++]=Ai,na[Pa++]=Mi,Li=p.id,Ai=p.overflow,Mi=v),v=qe(v,$.children),v.flags|=4096,v)}function pt(p,v,j){p.lanes|=v;var $=p.alternate;$!==null&&($.lanes|=v),oc(p.return,v,j)}function Dt(p,v,j,$,he){var Be=p.memoizedState;Be===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:$,tail:j,tailMode:he}:(Be.isBackwards=v,Be.rendering=null,Be.renderingStartTime=0,Be.last=$,Be.tail=j,Be.tailMode=he)}function rr(p,v,j){var $=v.pendingProps,he=$.revealOrder,Be=$.tail;if(yl(p,v,$.children,j),$=ns.current,($&2)!==0)$=$&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&pt(p,j,v);else if(p.tag===19)pt(p,j,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}$&=1}if(Oi(ns,$),(v.mode&1)===0)v.memoizedState=null;else switch(he){case"forwards":for(j=v.child,he=null;j!==null;)p=j.alternate,p!==null&&du(p)===null&&(he=j),j=j.sibling;j=he,j===null?(he=v.child,v.child=null):(he=j.sibling,j.sibling=null),Dt(v,!1,he,j,Be);break;case"backwards":for(j=null,he=v.child,v.child=null;he!==null;){if(p=he.alternate,p!==null&&du(p)===null){v.child=he;break}p=he.sibling,he.sibling=j,j=he,he=p}Dt(v,!0,j,null,Be);break;case"together":Dt(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function At(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Rt(p,v,j){if(p!==null&&(v.dependencies=p.dependencies),ku|=v.lanes,(j&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,j=bn(p,p.pendingProps),v.child=j,j.return=v;p.sibling!==null;)p=p.sibling,j=j.sibling=bn(p,p.pendingProps),j.return=v;j.sibling=null}return v.child}function Yt(p,v,j){switch(v.tag){case 3:G(v),wr();break;case 5:ho(v);break;case 1:Mo(v.type)&&Vc(v);break;case 4:Hi(v,v.stateNode.containerInfo);break;case 10:var $=v.type._context,he=v.memoizedProps.value;Oi(Jn,$._currentValue),$._currentValue=he;break;case 13:if($=v.memoizedState,$!==null)return $.dehydrated!==null?(Oi(ns,ns.current&1),v.flags|=128,null):(j&v.child.childLanes)!==0?Ke(p,v,j):(Oi(ns,ns.current&1),p=Rt(p,v,j),p!==null?p.sibling:null);Oi(ns,ns.current&1);break;case 19:if($=(j&v.childLanes)!==0,(p.flags&128)!==0){if($)return rr(p,v,j);v.flags|=128}if(he=v.memoizedState,he!==null&&(he.rendering=null,he.tail=null,he.lastEffect=null),Oi(ns,ns.current),$)break;return null;case 22:case 23:return v.lanes=0,Yh(p,v,j)}return Rt(p,v,j)}var jr,ar,Nr,Tr;jr=function(p,v){for(var j=v.child;j!==null;){if(j.tag===5||j.tag===6)p.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},ar=function(){},Nr=function(p,v,j,$){var he=p.memoizedProps;if(he!==$){p=v.stateNode,hi(xl.current);var Be=null;switch(j){case"input":he=Le(p,he),$=Le(p,$),Be=[];break;case"select":he=be({},he,{value:void 0}),$=be({},$,{value:void 0}),Be=[];break;case"textarea":he=Vt(p,he),$=Vt(p,$),Be=[];break;default:typeof he.onClick!="function"&&typeof $.onClick=="function"&&(p.onclick=Bu)}Qr(j,$);var $e;j=null;for(fr in he)if(!$.hasOwnProperty(fr)&&he.hasOwnProperty(fr)&&he[fr]!=null)if(fr==="style"){var jt=he[fr];for($e in jt)jt.hasOwnProperty($e)&&(j||(j={}),j[$e]="")}else fr!=="dangerouslySetInnerHTML"&&fr!=="children"&&fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&fr!=="autoFocus"&&(i.hasOwnProperty(fr)?Be||(Be=[]):(Be=Be||[]).push(fr,null));for(fr in $){var Mt=$[fr];if(jt=he!=null?he[fr]:void 0,$.hasOwnProperty(fr)&&Mt!==jt&&(Mt!=null||jt!=null))if(fr==="style")if(jt){for($e in jt)!jt.hasOwnProperty($e)||Mt&&Mt.hasOwnProperty($e)||(j||(j={}),j[$e]="");for($e in Mt)Mt.hasOwnProperty($e)&&jt[$e]!==Mt[$e]&&(j||(j={}),j[$e]=Mt[$e])}else j||(Be||(Be=[]),Be.push(fr,j)),j=Mt;else fr==="dangerouslySetInnerHTML"?(Mt=Mt?Mt.__html:void 0,jt=jt?jt.__html:void 0,Mt!=null&&jt!==Mt&&(Be=Be||[]).push(fr,Mt)):fr==="children"?typeof Mt!="string"&&typeof Mt!="number"||(Be=Be||[]).push(fr,""+Mt):fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&(i.hasOwnProperty(fr)?(Mt!=null&&fr==="onScroll"&&bi("scroll",p),Be||jt===Mt||(Be=[])):(Be=Be||[]).push(fr,Mt))}j&&(Be=Be||[]).push("style",j);var fr=Be;(v.updateQueue=fr)&&(v.flags|=4)}},Tr=function(p,v,j,$){j!==$&&(v.flags|=4)};function Rr(p,v){if(!ot)switch(p.tailMode){case"hidden":v=p.tail;for(var j=null;v!==null;)v.alternate!==null&&(j=v),v=v.sibling;j===null?p.tail=null:j.sibling=null;break;case"collapsed":j=p.tail;for(var $=null;j!==null;)j.alternate!==null&&($=j),j=j.sibling;$===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:$.sibling=null}}function Or(p){var v=p.alternate!==null&&p.alternate.child===p.child,j=0,$=0;if(v)for(var he=p.child;he!==null;)j|=he.lanes|he.childLanes,$|=he.subtreeFlags&14680064,$|=he.flags&14680064,he.return=p,he=he.sibling;else for(he=p.child;he!==null;)j|=he.lanes|he.childLanes,$|=he.subtreeFlags,$|=he.flags,he.return=p,he=he.sibling;return p.subtreeFlags|=$,p.childLanes=j,v}function ea(p,v,j){var $=v.pendingProps;switch(ee(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(v),null;case 1:return Mo(v.type)&&sc(),Or(v),null;case 3:return $=v.stateNode,ds(),di(Ms),di(js),Qh(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(p===null||p.child===null)&&(fn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,er!==null&&(If(er),er=null))),ar(p,v),Or(v),null;case 5:uu(v);var he=hi(cc.current);if(j=v.type,p!==null&&v.stateNode!=null)Nr(p,v,j,$,he),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!$){if(v.stateNode===null)throw Error(n(166));return Or(v),null}if(p=hi(xl.current),fn(v)){$=v.stateNode,j=v.type;var Be=v.memoizedProps;switch($[jo]=v,$[Fl]=Be,p=(v.mode&1)!==0,j){case"dialog":bi("cancel",$),bi("close",$);break;case"iframe":case"object":case"embed":bi("load",$);break;case"video":case"audio":for(he=0;he<Cu.length;he++)bi(Cu[he],$);break;case"source":bi("error",$);break;case"img":case"image":case"link":bi("error",$),bi("load",$);break;case"details":bi("toggle",$);break;case"input":Ie($,Be),bi("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!Be.multiple},bi("invalid",$);break;case"textarea":Ir($,Be),bi("invalid",$)}Qr(j,Be),he=null;for(var $e in Be)if(Be.hasOwnProperty($e)){var jt=Be[$e];$e==="children"?typeof jt=="string"?$.textContent!==jt&&(Be.suppressHydrationWarning!==!0&&Su($.textContent,jt,p),he=["children",jt]):typeof jt=="number"&&$.textContent!==""+jt&&(Be.suppressHydrationWarning!==!0&&Su($.textContent,jt,p),he=["children",""+jt]):i.hasOwnProperty($e)&&jt!=null&&$e==="onScroll"&&bi("scroll",$)}switch(j){case"input":J($),Ye($,Be,!0);break;case"textarea":J($),He($);break;case"select":case"option":break;default:typeof Be.onClick=="function"&&($.onclick=Bu)}$=he,v.updateQueue=$,$!==null&&(v.flags|=4)}else{$e=he.nodeType===9?he:he.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Zt(j)),p==="http://www.w3.org/1999/xhtml"?j==="script"?(p=$e.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof $.is=="string"?p=$e.createElement(j,{is:$.is}):(p=$e.createElement(j),j==="select"&&($e=p,$.multiple?$e.multiple=!0:$.size&&($e.size=$.size))):p=$e.createElementNS(p,j),p[jo]=v,p[Fl]=$,jr(p,v,!1,!1),v.stateNode=p;e:{switch($e=Kr(j,$),j){case"dialog":bi("cancel",p),bi("close",p),he=$;break;case"iframe":case"object":case"embed":bi("load",p),he=$;break;case"video":case"audio":for(he=0;he<Cu.length;he++)bi(Cu[he],p);he=$;break;case"source":bi("error",p),he=$;break;case"img":case"image":case"link":bi("error",p),bi("load",p),he=$;break;case"details":bi("toggle",p),he=$;break;case"input":Ie(p,$),he=Le(p,$),bi("invalid",p);break;case"option":he=$;break;case"select":p._wrapperState={wasMultiple:!!$.multiple},he=be({},$,{value:void 0}),bi("invalid",p);break;case"textarea":Ir(p,$),he=Vt(p,$),bi("invalid",p);break;default:he=$}Qr(j,he),jt=he;for(Be in jt)if(jt.hasOwnProperty(Be)){var Mt=jt[Be];Be==="style"?hr(p,Mt):Be==="dangerouslySetInnerHTML"?(Mt=Mt?Mt.__html:void 0,Mt!=null&&mr(p,Mt)):Be==="children"?typeof Mt=="string"?(j!=="textarea"||Mt!=="")&&on(p,Mt):typeof Mt=="number"&&on(p,""+Mt):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?Mt!=null&&Be==="onScroll"&&bi("scroll",p):Mt!=null&&w(p,Be,Mt,$e))}switch(j){case"input":J(p),Ye(p,$,!1);break;case"textarea":J(p),He(p);break;case"option":$.value!=null&&p.setAttribute("value",""+we($.value));break;case"select":p.multiple=!!$.multiple,Be=$.value,Be!=null?Bt(p,!!$.multiple,Be,!1):$.defaultValue!=null&&Bt(p,!!$.multiple,$.defaultValue,!0);break;default:typeof he.onClick=="function"&&(p.onclick=Bu)}switch(j){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Or(v),null;case 6:if(p&&v.stateNode!=null)Tr(p,v,p.memoizedProps,$);else{if(typeof $!="string"&&v.stateNode===null)throw Error(n(166));if(j=hi(cc.current),hi(xl.current),fn(v)){if($=v.stateNode,j=v.memoizedProps,$[jo]=v,(Be=$.nodeValue!==j)&&(p=Xe,p!==null))switch(p.tag){case 3:Su($.nodeValue,j,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Su($.nodeValue,j,(p.mode&1)!==0)}Be&&(v.flags|=4)}else $=(j.nodeType===9?j:j.ownerDocument).createTextNode($),$[jo]=v,v.stateNode=$}return Or(v),null;case 13:if(di(ns),$=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ot&&ht!==null&&(v.mode&1)!==0&&(v.flags&128)===0)Mr(),wr(),v.flags|=98560,Be=!1;else if(Be=fn(v),$!==null&&$.dehydrated!==null){if(p===null){if(!Be)throw Error(n(318));if(Be=v.memoizedState,Be=Be!==null?Be.dehydrated:null,!Be)throw Error(n(317));Be[jo]=v}else wr(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Or(v),Be=!1}else er!==null&&(If(er),er=null),Be=!0;if(!Be)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=j,v):($=$!==null,$!==(p!==null&&p.memoizedState!==null)&&$&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(ns.current&1)!==0?ro===0&&(ro=3):jh())),v.updateQueue!==null&&(v.flags|=4),Or(v),null);case 4:return ds(),ar(p,v),p===null&&Ts(v.stateNode.containerInfo),Or(v),null;case 10:return Co(v.type._context),Or(v),null;case 17:return Mo(v.type)&&sc(),Or(v),null;case 19:if(di(ns),Be=v.memoizedState,Be===null)return Or(v),null;if($=(v.flags&128)!==0,$e=Be.rendering,$e===null)if($)Rr(Be,!1);else{if(ro!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if($e=du(p),$e!==null){for(v.flags|=128,Rr(Be,!1),$=$e.updateQueue,$!==null&&(v.updateQueue=$,v.flags|=4),v.subtreeFlags=0,$=j,j=v.child;j!==null;)Be=j,p=$,Be.flags&=14680066,$e=Be.alternate,$e===null?(Be.childLanes=0,Be.lanes=p,Be.child=null,Be.subtreeFlags=0,Be.memoizedProps=null,Be.memoizedState=null,Be.updateQueue=null,Be.dependencies=null,Be.stateNode=null):(Be.childLanes=$e.childLanes,Be.lanes=$e.lanes,Be.child=$e.child,Be.subtreeFlags=0,Be.deletions=null,Be.memoizedProps=$e.memoizedProps,Be.memoizedState=$e.memoizedState,Be.updateQueue=$e.updateQueue,Be.type=$e.type,p=$e.dependencies,Be.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),j=j.sibling;return Oi(ns,ns.current&1|2),v.child}p=p.sibling}Be.tail!==null&&ha()>eh&&(v.flags|=128,$=!0,Rr(Be,!1),v.lanes=4194304)}else{if(!$)if(p=du($e),p!==null){if(v.flags|=128,$=!0,j=p.updateQueue,j!==null&&(v.updateQueue=j,v.flags|=4),Rr(Be,!0),Be.tail===null&&Be.tailMode==="hidden"&&!$e.alternate&&!ot)return Or(v),null}else 2*ha()-Be.renderingStartTime>eh&&j!==1073741824&&(v.flags|=128,$=!0,Rr(Be,!1),v.lanes=4194304);Be.isBackwards?($e.sibling=v.child,v.child=$e):(j=Be.last,j!==null?j.sibling=$e:v.child=$e,Be.last=$e)}return Be.tail!==null?(v=Be.tail,Be.rendering=v,Be.tail=v.sibling,Be.renderingStartTime=ha(),v.sibling=null,j=ns.current,Oi(ns,$?j&1|2:j&1),v):(Or(v),null);case 22:case 23:return HA(),$=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==$&&(v.flags|=8192),$&&(v.mode&1)!==0?(Us&1073741824)!==0&&(Or(v),v.subtreeFlags&6&&(v.flags|=8192)):Or(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function Pn(p,v){switch(ee(v),v.tag){case 1:return Mo(v.type)&&sc(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return ds(),di(Ms),di(js),Qh(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return uu(v),null;case 13:if(di(ns),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));wr()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return di(ns),null;case 4:return ds(),null;case 10:return Co(v.type._context),null;case 22:case 23:return HA(),null;case 24:return null;default:return null}}var za=!1,yn=!1,wi=typeof WeakSet=="function"?WeakSet:Set,ln=null;function La(p,v){var j=p.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch($){L(p,v,$)}else j.current=null}function Qn(p,v,j){try{j()}catch($){L(p,v,$)}}var pn=!1;function fo(p,v){if(Eu=Re,p=Zs(),nl(p)){if("selectionStart"in p)var j={start:p.selectionStart,end:p.selectionEnd};else e:{j=(j=p.ownerDocument)&&j.defaultView||window;var $=j.getSelection&&j.getSelection();if($&&$.rangeCount!==0){j=$.anchorNode;var he=$.anchorOffset,Be=$.focusNode;$=$.focusOffset;try{j.nodeType,Be.nodeType}catch{j=null;break e}var $e=0,jt=-1,Mt=-1,fr=0,qr=0,en=p,zr=null;t:for(;;){for(var Rn;en!==j||he!==0&&en.nodeType!==3||(jt=$e+he),en!==Be||$!==0&&en.nodeType!==3||(Mt=$e+$),en.nodeType===3&&($e+=en.nodeValue.length),(Rn=en.firstChild)!==null;)zr=en,en=Rn;for(;;){if(en===p)break t;if(zr===j&&++fr===he&&(jt=$e),zr===Be&&++qr===$&&(Mt=$e),(Rn=en.nextSibling)!==null)break;en=zr,zr=en.parentNode}en=Rn}j=jt===-1||Mt===-1?null:{start:jt,end:Mt}}else j=null}j=j||{start:0,end:0}}else j=null;for(Iu={focusedElem:p,selectionRange:j},Re=!1,ln=v;ln!==null;)if(v=ln,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,ln=p;else for(;ln!==null;){v=ln;try{var Yn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Yn!==null){var ta=Yn.memoizedProps,hl=Yn.memoizedState,sr=v.stateNode,zt=sr.getSnapshotBeforeUpdate(v.elementType===v.type?ta:Uo(v.type,ta),hl);sr.__reactInternalSnapshotBeforeUpdate=zt}break;case 3:var Ar=v.stateNode.containerInfo;Ar.nodeType===1?Ar.textContent="":Ar.nodeType===9&&Ar.documentElement&&Ar.removeChild(Ar.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(sn){L(v,v.return,sn)}if(p=v.sibling,p!==null){p.return=v.return,ln=p;break}ln=v.return}return Yn=pn,pn=!1,Yn}function Da(p,v,j){var $=v.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var he=$=$.next;do{if((he.tag&p)===p){var Be=he.destroy;he.destroy=void 0,Be!==void 0&&Qn(v,j,Be)}he=he.next}while(he!==$)}}function fi(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var j=v=v.next;do{if((j.tag&p)===p){var $=j.create;j.destroy=$()}j=j.next}while(j!==v)}}function hs(p){var v=p.ref;if(v!==null){var j=p.stateNode;switch(p.tag){case 5:p=j;break;default:p=j}typeof v=="function"?v(p):v.current=p}}function So(p){var v=p.alternate;v!==null&&(p.alternate=null,So(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[jo],delete v[Fl],delete v[zd],delete v[gl],delete v[zu])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Yo(p){return p.tag===5||p.tag===3||p.tag===4}function Rs(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Yo(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Zo(p,v,j){var $=p.tag;if($===5||$===6)p=p.stateNode,v?j.nodeType===8?j.parentNode.insertBefore(p,v):j.insertBefore(p,v):(j.nodeType===8?(v=j.parentNode,v.insertBefore(p,j)):(v=j,v.appendChild(p)),j=j._reactRootContainer,j!=null||v.onclick!==null||(v.onclick=Bu));else if($!==4&&(p=p.child,p!==null))for(Zo(p,v,j),p=p.sibling;p!==null;)Zo(p,v,j),p=p.sibling}function cl(p,v,j){var $=p.tag;if($===5||$===6)p=p.stateNode,v?j.insertBefore(p,v):j.appendChild(p);else if($!==4&&(p=p.child,p!==null))for(cl(p,v,j),p=p.sibling;p!==null;)cl(p,v,j),p=p.sibling}var mi=null,Xa=!1;function gi(p,v,j){for(j=j.child;j!==null;)zs(p,v,j),j=j.sibling}function zs(p,v,j){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(_o,j)}catch{}switch(j.tag){case 5:yn||La(j,v);case 6:var $=mi,he=Xa;mi=null,gi(p,v,j),mi=$,Xa=he,mi!==null&&(Xa?(p=mi,j=j.stateNode,p.nodeType===8?p.parentNode.removeChild(j):p.removeChild(j)):mi.removeChild(j.stateNode));break;case 18:mi!==null&&(Xa?(p=mi,j=j.stateNode,p.nodeType===8?Na(p.parentNode,j):p.nodeType===1&&Na(p,j),fe(p)):Na(mi,j.stateNode));break;case 4:$=mi,he=Xa,mi=j.stateNode.containerInfo,Xa=!0,gi(p,v,j),mi=$,Xa=he;break;case 0:case 11:case 14:case 15:if(!yn&&($=j.updateQueue,$!==null&&($=$.lastEffect,$!==null))){he=$=$.next;do{var Be=he,$e=Be.destroy;Be=Be.tag,$e!==void 0&&((Be&2)!==0||(Be&4)!==0)&&Qn(j,v,$e),he=he.next}while(he!==$)}gi(p,v,j);break;case 1:if(!yn&&(La(j,v),$=j.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=j.memoizedProps,$.state=j.memoizedState,$.componentWillUnmount()}catch(jt){L(j,v,jt)}gi(p,v,j);break;case 21:gi(p,v,j);break;case 22:j.mode&1?(yn=($=yn)||j.memoizedState!==null,gi(p,v,j),yn=$):gi(p,v,j);break;default:gi(p,v,j)}}function zi(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var j=p.stateNode;j===null&&(j=p.stateNode=new wi),v.forEach(function($){var he=ze.bind(null,p,$);j.has($)||(j.add($),$.then(he,he))})}}function As(p,v){var j=v.deletions;if(j!==null)for(var $=0;$<j.length;$++){var he=j[$];try{var Be=p,$e=v,jt=$e;e:for(;jt!==null;){switch(jt.tag){case 5:mi=jt.stateNode,Xa=!1;break e;case 3:mi=jt.stateNode.containerInfo,Xa=!0;break e;case 4:mi=jt.stateNode.containerInfo,Xa=!0;break e}jt=jt.return}if(mi===null)throw Error(n(160));zs(Be,$e,he),mi=null,Xa=!1;var Mt=he.alternate;Mt!==null&&(Mt.return=null),he.return=null}catch(fr){L(he,v,fr)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)hc(v,p),v=v.sibling}function hc(p,v){var j=p.alternate,$=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(As(v,p),Ki(p),$&4){try{Da(3,p,p.return),fi(3,p)}catch(ta){L(p,p.return,ta)}try{Da(5,p,p.return)}catch(ta){L(p,p.return,ta)}}break;case 1:As(v,p),Ki(p),$&512&&j!==null&&La(j,j.return);break;case 5:if(As(v,p),Ki(p),$&512&&j!==null&&La(j,j.return),p.flags&32){var he=p.stateNode;try{on(he,"")}catch(ta){L(p,p.return,ta)}}if($&4&&(he=p.stateNode,he!=null)){var Be=p.memoizedProps,$e=j!==null?j.memoizedProps:Be,jt=p.type,Mt=p.updateQueue;if(p.updateQueue=null,Mt!==null)try{jt==="input"&&Be.type==="radio"&&Be.name!=null&&pe(he,Be),Kr(jt,$e);var fr=Kr(jt,Be);for($e=0;$e<Mt.length;$e+=2){var qr=Mt[$e],en=Mt[$e+1];qr==="style"?hr(he,en):qr==="dangerouslySetInnerHTML"?mr(he,en):qr==="children"?on(he,en):w(he,qr,en,fr)}switch(jt){case"input":ke(he,Be);break;case"textarea":Sr(he,Be);break;case"select":var zr=he._wrapperState.wasMultiple;he._wrapperState.wasMultiple=!!Be.multiple;var Rn=Be.value;Rn!=null?Bt(he,!!Be.multiple,Rn,!1):zr!==!!Be.multiple&&(Be.defaultValue!=null?Bt(he,!!Be.multiple,Be.defaultValue,!0):Bt(he,!!Be.multiple,Be.multiple?[]:"",!1))}he[Fl]=Be}catch(ta){L(p,p.return,ta)}}break;case 6:if(As(v,p),Ki(p),$&4){if(p.stateNode===null)throw Error(n(162));he=p.stateNode,Be=p.memoizedProps;try{he.nodeValue=Be}catch(ta){L(p,p.return,ta)}}break;case 3:if(As(v,p),Ki(p),$&4&&j!==null&&j.memoizedState.isDehydrated)try{fe(v.containerInfo)}catch(ta){L(p,p.return,ta)}break;case 4:As(v,p),Ki(p);break;case 13:As(v,p),Ki(p),he=p.child,he.flags&8192&&(Be=he.memoizedState!==null,he.stateNode.isHidden=Be,!Be||he.alternate!==null&&he.alternate.memoizedState!==null||(qc=ha())),$&4&&zi(p);break;case 22:if(qr=j!==null&&j.memoizedState!==null,p.mode&1?(yn=(fr=yn)||qr,As(v,p),yn=fr):As(v,p),Ki(p),$&8192){if(fr=p.memoizedState!==null,(p.stateNode.isHidden=fr)&&!qr&&(p.mode&1)!==0)for(ln=p,qr=p.child;qr!==null;){for(en=ln=qr;ln!==null;){switch(zr=ln,Rn=zr.child,zr.tag){case 0:case 11:case 14:case 15:Da(4,zr,zr.return);break;case 1:La(zr,zr.return);var Yn=zr.stateNode;if(typeof Yn.componentWillUnmount=="function"){$=zr,j=zr.return;try{v=$,Yn.props=v.memoizedProps,Yn.state=v.memoizedState,Yn.componentWillUnmount()}catch(ta){L($,j,ta)}}break;case 5:La(zr,zr.return);break;case 22:if(zr.memoizedState!==null){Ho(en);continue}}Rn!==null?(Rn.return=zr,ln=Rn):Ho(en)}qr=qr.sibling}e:for(qr=null,en=p;;){if(en.tag===5){if(qr===null){qr=en;try{he=en.stateNode,fr?(Be=he.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none"):(jt=en.stateNode,Mt=en.memoizedProps.style,$e=Mt!=null&&Mt.hasOwnProperty("display")?Mt.display:null,jt.style.display=_r("display",$e))}catch(ta){L(p,p.return,ta)}}}else if(en.tag===6){if(qr===null)try{en.stateNode.nodeValue=fr?"":en.memoizedProps}catch(ta){L(p,p.return,ta)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===p)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===p)break e;for(;en.sibling===null;){if(en.return===null||en.return===p)break e;qr===en&&(qr=null),en=en.return}qr===en&&(qr=null),en.sibling.return=en.return,en=en.sibling}}break;case 19:As(v,p),Ki(p),$&4&&zi(p);break;case 21:break;default:As(v,p),Ki(p)}}function Ki(p){var v=p.flags;if(v&2){try{e:{for(var j=p.return;j!==null;){if(Yo(j)){var $=j;break e}j=j.return}throw Error(n(160))}switch($.tag){case 5:var he=$.stateNode;$.flags&32&&(on(he,""),$.flags&=-33);var Be=Rs(p);cl(p,Be,he);break;case 3:case 4:var $e=$.stateNode.containerInfo,jt=Rs(p);Zo(p,jt,$e);break;default:throw Error(n(161))}}catch(Mt){L(p,p.return,Mt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function bl(p,v,j){ln=p,as(p)}function as(p,v,j){for(var $=(p.mode&1)!==0;ln!==null;){var he=ln,Be=he.child;if(he.tag===22&&$){var $e=he.memoizedState!==null||za;if(!$e){var jt=he.alternate,Mt=jt!==null&&jt.memoizedState!==null||yn;jt=za;var fr=yn;if(za=$e,(yn=Mt)&&!fr)for(ln=he;ln!==null;)$e=ln,Mt=$e.child,$e.tag===22&&$e.memoizedState!==null?Qo(he):Mt!==null?(Mt.return=$e,ln=Mt):Qo(he);for(;Be!==null;)ln=Be,as(Be),Be=Be.sibling;ln=he,za=jt,yn=fr}rn(p)}else(he.subtreeFlags&8772)!==0&&Be!==null?(Be.return=he,ln=Be):rn(p)}}function rn(p){for(;ln!==null;){var v=ln;if((v.flags&8772)!==0){var j=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:yn||fi(5,v);break;case 1:var $=v.stateNode;if(v.flags&4&&!yn)if(j===null)$.componentDidMount();else{var he=v.elementType===v.type?j.memoizedProps:Uo(v.type,j.memoizedProps);$.componentDidUpdate(he,j.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var Be=v.updateQueue;Be!==null&&yd(v,Be,$);break;case 3:var $e=v.updateQueue;if($e!==null){if(j=null,v.child!==null)switch(v.child.tag){case 5:j=v.child.stateNode;break;case 1:j=v.child.stateNode}yd(v,$e,j)}break;case 5:var jt=v.stateNode;if(j===null&&v.flags&4){j=jt;var Mt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Mt.autoFocus&&j.focus();break;case"img":Mt.src&&(j.src=Mt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var fr=v.alternate;if(fr!==null){var qr=fr.memoizedState;if(qr!==null){var en=qr.dehydrated;en!==null&&fe(en)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yn||v.flags&512&&hs(v)}catch(zr){L(v,v.return,zr)}}if(v===p){ln=null;break}if(j=v.sibling,j!==null){j.return=v.return,ln=j;break}ln=v.return}}function Ho(p){for(;ln!==null;){var v=ln;if(v===p){ln=null;break}var j=v.sibling;if(j!==null){j.return=v.return,ln=j;break}ln=v.return}}function Qo(p){for(;ln!==null;){var v=ln;try{switch(v.tag){case 0:case 11:case 15:var j=v.return;try{fi(4,v)}catch(Mt){L(v,j,Mt)}break;case 1:var $=v.stateNode;if(typeof $.componentDidMount=="function"){var he=v.return;try{$.componentDidMount()}catch(Mt){L(v,he,Mt)}}var Be=v.return;try{hs(v)}catch(Mt){L(v,Be,Mt)}break;case 5:var $e=v.return;try{hs(v)}catch(Mt){L(v,$e,Mt)}}}catch(Mt){L(v,v.return,Mt)}if(v===p){ln=null;break}var jt=v.sibling;if(jt!==null){jt.return=v.return,ln=jt;break}ln=v.return}}var Ls=Math.ceil,wl=N.ReactCurrentDispatcher,Qa=N.ReactCurrentOwner,Ma=N.ReactCurrentBatchConfig,qn=0,Gi=null,ki=null,Ks=0,Us=0,to=Dl(0),ro=0,Bd=null,ku=0,Xu=0,Ef=0,bh=null,ul=null,qc=0,eh=1/0,Yu=null,Jh=!1,MA=null,Au=null,eA=!1,Xc=null,Jo=0,Ed=0,Pu=null,tA=-1,RA=0;function Bo(){return(qn&6)!==0?ha():tA!==-1?tA:tA=ha()}function Ac(p){return(p.mode&1)===0?1:(qn&2)!==0&&Ks!==0?Ks&-Ks:wa.transition!==null?(RA===0&&(RA=lo()),RA):(p=ga,p!==0||(p=window.event,p=p===void 0?16:mt(p.type)),p)}function jl(p,v,j,$){if(50<Ed)throw Ed=0,Pu=null,Error(n(185));Fi(p,j,$),((qn&2)===0||p!==Gi)&&(p===Gi&&((qn&2)===0&&(Xu|=j),ro===4&&Fc(p,Ks)),po(p,$),j===1&&qn===0&&(v.mode&1)===0&&(eh=ha()+500,Qe&&br()))}function po(p,v){var j=p.callbackNode;ko(p,v);var $=xs(p,p===Gi?Ks:0);if($===0)j!==null&&El(j),p.callbackNode=null,p.callbackPriority=0;else if(v=$&-$,p.callbackPriority!==v){if(j!=null&&El(j),v===1)p.tag===0?qt(_f.bind(null,p)):_t(_f.bind(null,p)),Vd(function(){(qn&6)===0&&br()}),j=null;else{switch(Vi($)){case 1:j=ai;break;case 4:j=Io;break;case 16:j=Xs;break;case 536870912:j=rl;break;default:j=Xs}j=lt(j,Id.bind(null,p))}p.callbackPriority=v,p.callbackNode=j}}function Id(p,v){if(tA=-1,RA=0,(qn&6)!==0)throw Error(n(327));var j=p.callbackNode;if(F()&&p.callbackNode!==j)return null;var $=xs(p,p===Gi?Ks:0);if($===0)return null;if(($&30)!==0||($&p.expiredLanes)!==0||v)v=Yc(p,$);else{v=$;var he=qn;qn|=2;var Be=QA();(Gi!==p||Ks!==v)&&(Yu=null,eh=ha()+500,rh(p,v));do try{_d();break}catch(jt){wh(p,jt)}while(!0);da(),wl.current=Be,qn=he,ki!==null?v=0:(Gi=null,Ks=0,v=ro)}if(v!==0){if(v===2&&(he=Ri(p),he!==0&&($=he,v=LA(p,he))),v===1)throw j=Bd,rh(p,0),Fc(p,$),po(p,ha()),j;if(v===6)Fc(p,$);else{if(he=p.current.alternate,($&30)===0&&!Tf(he)&&(v=Yc(p,$),v===2&&(Be=Ri(p),Be!==0&&($=Be,v=LA(p,Be))),v===1))throw j=Bd,rh(p,0),Fc(p,$),po(p,ha()),j;switch(p.finishedWork=he,p.finishedLanes=$,v){case 0:case 1:throw Error(n(345));case 2:Od(p,ul,Yu);break;case 3:if(Fc(p,$),($&130023424)===$&&(v=qc+500-ha(),10<v)){if(xs(p,0)!==0)break;if(he=p.suspendedLanes,(he&$)!==$){Bo(),p.pingedLanes|=p.suspendedLanes&he;break}p.timeoutHandle=Pl(Od.bind(null,p,ul,Yu),v);break}Od(p,ul,Yu);break;case 4:if(Fc(p,$),($&4194240)===$)break;for(v=p.eventTimes,he=-1;0<$;){var $e=31-ii($);Be=1<<$e,$e=v[$e],$e>he&&(he=$e),$&=~Be}if($=he,$=ha()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*Ls($/1960))-$,10<$){p.timeoutHandle=Pl(Od.bind(null,p,ul,Yu),$);break}Od(p,ul,Yu);break;case 5:Od(p,ul,Yu);break;default:throw Error(n(329))}}}return po(p,ha()),p.callbackNode===j?Id.bind(null,p):null}function LA(p,v){var j=bh;return p.current.memoizedState.isDehydrated&&(rh(p,v).flags|=256),p=Yc(p,v),p!==2&&(v=ul,ul=j,v!==null&&If(v)),p}function If(p){ul===null?ul=p:ul.push.apply(ul,p)}function Tf(p){for(var v=p;;){if(v.flags&16384){var j=v.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var $=0;$<j.length;$++){var he=j[$],Be=he.getSnapshot;he=he.value;try{if(!Ds(Be(),he))return!1}catch{return!1}}}if(j=v.child,v.subtreeFlags&16384&&j!==null)j.return=v,v=j;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Fc(p,v){for(v&=~Ef,v&=~Xu,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var j=31-ii(v),$=1<<j;p[j]=-1,v&=~$}}function _f(p){if((qn&6)!==0)throw Error(n(327));F();var v=xs(p,0);if((v&1)===0)return po(p,ha()),null;var j=Yc(p,v);if(p.tag!==0&&j===2){var $=Ri(p);$!==0&&(v=$,j=LA(p,$))}if(j===1)throw j=Bd,rh(p,0),Fc(p,v),po(p,ha()),j;if(j===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Od(p,ul,Yu),po(p,ha()),null}function UA(p,v){var j=qn;qn|=1;try{return p(v)}finally{qn=j,qn===0&&(eh=ha()+500,Qe&&br())}}function th(p){Xc!==null&&Xc.tag===0&&(qn&6)===0&&F();var v=qn;qn|=1;var j=Ma.transition,$=ga;try{if(Ma.transition=null,ga=1,p)return p()}finally{ga=$,Ma.transition=j,qn=v,(qn&6)===0&&br()}}function HA(){Us=to.current,di(to)}function rh(p,v){p.finishedWork=null,p.finishedLanes=0;var j=p.timeoutHandle;if(j!==-1&&(p.timeoutHandle=-1,Lh(j)),ki!==null)for(j=ki.return;j!==null;){var $=j;switch(ee($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&sc();break;case 3:ds(),di(Ms),di(js),Qh();break;case 5:uu($);break;case 4:ds();break;case 13:di(ns);break;case 19:di(ns);break;case 10:Co($.type._context);break;case 22:case 23:HA()}j=j.return}if(Gi=p,ki=p=bn(p.current,null),Ks=Us=v,ro=0,Bd=null,Ef=Xu=ku=0,ul=bh=null,lc!==null){for(v=0;v<lc.length;v++)if(j=lc[v],$=j.interleaved,$!==null){j.interleaved=null;var he=$.next,Be=j.pending;if(Be!==null){var $e=Be.next;Be.next=he,$.next=$e}j.pending=$}lc=null}return p}function wh(p,v){do{var j=ki;try{if(da(),mh.current=Ll,$h){for(var $=Cs.memoizedState;$!==null;){var he=$.queue;he!==null&&(he.pending=null),$=$.next}$h=!1}if(Gu=0,eo=No=Cs=null,sl=!1,wd=0,Qa.current=null,j===null||j.return===null){ro=1,Bd=v,ki=null;break}e:{var Be=p,$e=j.return,jt=j,Mt=v;if(v=Ks,jt.flags|=32768,Mt!==null&&typeof Mt=="object"&&typeof Mt.then=="function"){var fr=Mt,qr=jt,en=qr.tag;if((qr.mode&1)===0&&(en===0||en===11||en===15)){var zr=qr.alternate;zr?(qr.updateQueue=zr.updateQueue,qr.memoizedState=zr.memoizedState,qr.lanes=zr.lanes):(qr.updateQueue=null,qr.memoizedState=null)}var Rn=Cf($e);if(Rn!==null){Rn.flags&=-257,Nf(Rn,$e,jt,Be,v),Rn.mode&1&&Bp(Be,fr,v),v=Rn,Mt=fr;var Yn=v.updateQueue;if(Yn===null){var ta=new Set;ta.add(Mt),v.updateQueue=ta}else Yn.add(Mt);break e}else{if((v&1)===0){Bp(Be,fr,v),jh();break e}Mt=Error(n(426))}}else if(ot&&jt.mode&1){var hl=Cf($e);if(hl!==null){(hl.flags&65536)===0&&(hl.flags|=256),Nf(hl,$e,jt,Be,v),Ui(Cd(Mt,jt));break e}}Be=Mt=Cd(Mt,jt),ro!==4&&(ro=2),bh===null?bh=[Be]:bh.push(Be),Be=$e;do{switch(Be.tag){case 3:Be.flags|=65536,v&=-v,Be.lanes|=v;var sr=xh(Be,Mt,v);Ku(Be,sr);break e;case 1:jt=Mt;var zt=Be.type,Ar=Be.stateNode;if((Be.flags&128)===0&&(typeof zt.getDerivedStateFromError=="function"||Ar!==null&&typeof Ar.componentDidCatch=="function"&&(Au===null||!Au.has(Ar)))){Be.flags|=65536,v&=-v,Be.lanes|=v;var sn=kA(Be,jt,v);Ku(Be,sn);break e}}Be=Be.return}while(Be!==null)}WA(j)}catch(ia){v=ia,ki===j&&j!==null&&(ki=j=j.return);continue}break}while(!0)}function QA(){var p=wl.current;return wl.current=Ll,p===null?Ll:p}function jh(){(ro===0||ro===3||ro===2)&&(ro=4),Gi===null||(ku&268435455)===0&&(Xu&268435455)===0||Fc(Gi,Ks)}function Yc(p,v){var j=qn;qn|=2;var $=QA();(Gi!==p||Ks!==v)&&(Yu=null,rh(p,v));do try{Td();break}catch(he){wh(p,he)}while(!0);if(da(),qn=j,wl.current=$,ki!==null)throw Error(n(261));return Gi=null,Ks=0,ro}function Td(){for(;ki!==null;)rA(ki)}function _d(){for(;ki!==null&&!Wi();)rA(ki)}function rA(p){var v=ct(p.alternate,p,Us);p.memoizedProps=p.pendingProps,v===null?WA(p):ki=v,Qa.current=null}function WA(p){var v=p;do{var j=v.alternate;if(p=v.return,(v.flags&32768)===0){if(j=ea(j,v,Us),j!==null){ki=j;return}}else{if(j=Pn(j,v),j!==null){j.flags&=32767,ki=j;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ro=6,ki=null;return}}if(v=v.sibling,v!==null){ki=v;return}ki=v=p}while(v!==null);ro===0&&(ro=5)}function Od(p,v,j){var $=ga,he=Ma.transition;try{Ma.transition=null,ga=1,$m(p,v,j,$)}finally{Ma.transition=he,ga=$}return null}function $m(p,v,j,$){do F();while(Xc!==null);if((qn&6)!==0)throw Error(n(327));j=p.finishedWork;var he=p.finishedLanes;if(j===null)return null;if(p.finishedWork=null,p.finishedLanes=0,j===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Be=j.lanes|j.childLanes;if(yo(p,Be),p===Gi&&(ki=Gi=null,Ks=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||eA||(eA=!0,lt(Xs,function(){return F(),null})),Be=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||Be){Be=Ma.transition,Ma.transition=null;var $e=ga;ga=1;var jt=qn;qn|=4,Qa.current=null,fo(p,j),hc(j,p),Bc(Iu),Re=!!Eu,Iu=Eu=null,p.current=j,bl(j),xo(),qn=jt,ga=$e,Ma.transition=Be}else p.current=j;if(eA&&(eA=!1,Xc=p,Jo=he),Be=p.pendingLanes,Be===0&&(Au=null),Si(j.stateNode),po(p,ha()),v!==null)for($=p.onRecoverableError,j=0;j<v.length;j++)he=v[j],$(he.value,{componentStack:he.stack,digest:he.digest});if(Jh)throw Jh=!1,p=MA,MA=null,p;return(Jo&1)!==0&&p.tag!==0&&F(),Be=p.pendingLanes,(Be&1)!==0?p===Pu?Ed++:(Ed=0,Pu=p):Ed=0,br(),null}function F(){if(Xc!==null){var p=Vi(Jo),v=Ma.transition,j=ga;try{if(Ma.transition=null,ga=16>p?16:p,Xc===null)var $=!1;else{if(p=Xc,Xc=null,Jo=0,(qn&6)!==0)throw Error(n(331));var he=qn;for(qn|=4,ln=p.current;ln!==null;){var Be=ln,$e=Be.child;if((ln.flags&16)!==0){var jt=Be.deletions;if(jt!==null){for(var Mt=0;Mt<jt.length;Mt++){var fr=jt[Mt];for(ln=fr;ln!==null;){var qr=ln;switch(qr.tag){case 0:case 11:case 15:Da(8,qr,Be)}var en=qr.child;if(en!==null)en.return=qr,ln=en;else for(;ln!==null;){qr=ln;var zr=qr.sibling,Rn=qr.return;if(So(qr),qr===fr){ln=null;break}if(zr!==null){zr.return=Rn,ln=zr;break}ln=Rn}}}var Yn=Be.alternate;if(Yn!==null){var ta=Yn.child;if(ta!==null){Yn.child=null;do{var hl=ta.sibling;ta.sibling=null,ta=hl}while(ta!==null)}}ln=Be}}if((Be.subtreeFlags&2064)!==0&&$e!==null)$e.return=Be,ln=$e;else e:for(;ln!==null;){if(Be=ln,(Be.flags&2048)!==0)switch(Be.tag){case 0:case 11:case 15:Da(9,Be,Be.return)}var sr=Be.sibling;if(sr!==null){sr.return=Be.return,ln=sr;break e}ln=Be.return}}var zt=p.current;for(ln=zt;ln!==null;){$e=ln;var Ar=$e.child;if(($e.subtreeFlags&2064)!==0&&Ar!==null)Ar.return=$e,ln=Ar;else e:for($e=zt;ln!==null;){if(jt=ln,(jt.flags&2048)!==0)try{switch(jt.tag){case 0:case 11:case 15:fi(9,jt)}}catch(ia){L(jt,jt.return,ia)}if(jt===$e){ln=null;break e}var sn=jt.sibling;if(sn!==null){sn.return=jt.return,ln=sn;break e}ln=jt.return}}if(qn=he,br(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(_o,p)}catch{}$=!0}return $}finally{ga=j,Ma.transition=v}}return!1}function E(p,v,j){v=Cd(j,v),v=xh(p,v,1),p=zc(p,v,1),v=Bo(),p!==null&&(Fi(p,1,v),po(p,v))}function L(p,v,j){if(p.tag===3)E(p,p,j);else for(;v!==null;){if(v.tag===3){E(v,p,j);break}else if(v.tag===1){var $=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Au===null||!Au.has($))){p=Cd(j,p),p=kA(v,p,1),v=zc(v,p,1),p=Bo(),v!==null&&(Fi(v,1,p),po(v,p));break}}v=v.return}}function U(p,v,j){var $=p.pingCache;$!==null&&$.delete(v),v=Bo(),p.pingedLanes|=p.suspendedLanes&j,Gi===p&&(Ks&j)===j&&(ro===4||ro===3&&(Ks&130023424)===Ks&&500>ha()-qc?rh(p,0):Ef|=j),po(p,v)}function xe(p,v){v===0&&((p.mode&1)===0?v=1:(v=Gn,Gn<<=1,(Gn&130023424)===0&&(Gn=4194304)));var j=Bo();p=Xo(p,v),p!==null&&(Fi(p,v,j),po(p,j))}function Me(p){var v=p.memoizedState,j=0;v!==null&&(j=v.retryLane),xe(p,j)}function ze(p,v){var j=0;switch(p.tag){case 13:var $=p.stateNode,he=p.memoizedState;he!==null&&(j=he.retryLane);break;case 19:$=p.stateNode;break;default:throw Error(n(314))}$!==null&&$.delete(v),xe(p,j)}var ct;ct=function(p,v,j){if(p!==null)if(p.memoizedProps!==v.pendingProps||Ms.current)Ul=!0;else{if((p.lanes&j)===0&&(v.flags&128)===0)return Ul=!1,Yt(p,v,j);Ul=(p.flags&131072)!==0}else Ul=!1,ot&&(v.flags&1048576)!==0&&T(v,fa,v.index);switch(v.lanes=0,v.tag){case 2:var $=v.type;At(p,v),p=v.pendingProps;var he=lu(v,js.current);Ro(v,j),he=CA(null,v,$,p,he,j);var Be=NA();return v.flags|=1,typeof he=="object"&&he!==null&&typeof he.render=="function"&&he.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Mo($)?(Be=!0,Vc(v)):Be=!1,v.memoizedState=he.state!==null&&he.state!==void 0?he.state:null,qd(v),he.updater=Zd,v.stateNode=he,he._reactInternals=v,OA(v,$,p,j),v=_(null,v,$,!0,Be,j)):(v.tag=0,ot&&Be&&Ue(v),yl(null,v,he,j),v=v.child),v;case 16:$=v.elementType;e:{switch(At(p,v),p=v.pendingProps,he=$._init,$=he($._payload),v.type=$,he=v.tag=Cr($),p=Uo($,p),he){case 0:v=yh(null,v,$,p,j);break e;case 1:v=DA(null,v,$,p,j);break e;case 11:v=PA(null,v,$,p,j);break e;case 14:v=Bf(null,v,$,Uo($.type,p),j);break e}throw Error(n(306,$,""))}return v;case 0:return $=v.type,he=v.pendingProps,he=v.elementType===$?he:Uo($,he),yh(p,v,$,he,j);case 1:return $=v.type,he=v.pendingProps,he=v.elementType===$?he:Uo($,he),DA(p,v,$,he,j);case 3:e:{if(G(v),p===null)throw Error(n(387));$=v.pendingProps,Be=v.memoizedState,he=Be.element,ph(p,v),cu(v,$,null,j);var $e=v.memoizedState;if($=$e.element,Be.isDehydrated)if(Be={element:$,isDehydrated:!1,cache:$e.cache,pendingSuspenseBoundaries:$e.pendingSuspenseBoundaries,transitions:$e.transitions},v.updateQueue.baseState=Be,v.memoizedState=Be,v.flags&256){he=Cd(Error(n(423)),v),v=ve(p,v,$,j,he);break e}else if($!==he){he=Cd(Error(n(424)),v),v=ve(p,v,$,j,he);break e}else for(ht=Wc(v.stateNode.containerInfo.firstChild),Xe=v,ot=!0,er=null,j=rs(v,null,$,j),v.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(wr(),$===he){v=Rt(p,v,j);break e}yl(p,v,$,j)}v=v.child}return v;case 5:return ho(v),p===null&&ir(v),$=v.type,he=v.pendingProps,Be=p!==null?p.memoizedProps:null,$e=he.children,vd($,he)?$e=null:Be!==null&&vd($,Be)&&(v.flags|=32),Zh(p,v),yl(p,v,$e,j),v.child;case 6:return p===null&&ir(v),null;case 13:return Ke(p,v,j);case 4:return Hi(v,v.stateNode.containerInfo),$=v.pendingProps,p===null?v.child=Ta(v,null,$,j):yl(p,v,$,j),v.child;case 11:return $=v.type,he=v.pendingProps,he=v.elementType===$?he:Uo($,he),PA(p,v,$,he,j);case 7:return yl(p,v,v.pendingProps,j),v.child;case 8:return yl(p,v,v.pendingProps.children,j),v.child;case 12:return yl(p,v,v.pendingProps.children,j),v.child;case 10:e:{if($=v.type._context,he=v.pendingProps,Be=v.memoizedProps,$e=he.value,Oi(Jn,$._currentValue),$._currentValue=$e,Be!==null)if(Ds(Be.value,$e)){if(Be.children===he.children&&!Ms.current){v=Rt(p,v,j);break e}}else for(Be=v.child,Be!==null&&(Be.return=v);Be!==null;){var jt=Be.dependencies;if(jt!==null){$e=Be.child;for(var Mt=jt.firstContext;Mt!==null;){if(Mt.context===$){if(Be.tag===1){Mt=kc(-1,j&-j),Mt.tag=2;var fr=Be.updateQueue;if(fr!==null){fr=fr.shared;var qr=fr.pending;qr===null?Mt.next=Mt:(Mt.next=qr.next,qr.next=Mt),fr.pending=Mt}}Be.lanes|=j,Mt=Be.alternate,Mt!==null&&(Mt.lanes|=j),oc(Be.return,j,v),jt.lanes|=j;break}Mt=Mt.next}}else if(Be.tag===10)$e=Be.type===v.type?null:Be.child;else if(Be.tag===18){if($e=Be.return,$e===null)throw Error(n(341));$e.lanes|=j,jt=$e.alternate,jt!==null&&(jt.lanes|=j),oc($e,j,v),$e=Be.sibling}else $e=Be.child;if($e!==null)$e.return=Be;else for($e=Be;$e!==null;){if($e===v){$e=null;break}if(Be=$e.sibling,Be!==null){Be.return=$e.return,$e=Be;break}$e=$e.return}Be=$e}yl(p,v,he.children,j),v=v.child}return v;case 9:return he=v.type,$=v.pendingProps.children,Ro(v,j),he=uo(he),$=$(he),v.flags|=1,yl(p,v,$,j),v.child;case 14:return $=v.type,he=Uo($,v.pendingProps),he=Uo($.type,he),Bf(p,v,$,he,j);case 15:return FA(p,v,v.type,v.pendingProps,j);case 17:return $=v.type,he=v.pendingProps,he=v.elementType===$?he:Uo($,he),At(p,v),v.tag=1,Mo($)?(p=!0,Vc(v)):p=!1,Ro(v,j),_A(v,$,he),OA(v,$,he,j),_(null,v,$,!0,p,j);case 19:return rr(p,v,j);case 22:return Yh(p,v,j)}throw Error(n(156,v.tag))};function lt(p,v){return Nc(p,v)}function Lt(p,v,j,$){this.tag=p,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(p,v,j,$){return new Lt(p,v,j,$)}function tr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Cr(p){if(typeof p=="function")return tr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===X)return 11;if(p===z)return 14}return 2}function bn(p,v){var j=p.alternate;return j===null?(j=Ht(p.tag,v,p.key,p.mode),j.elementType=p.elementType,j.type=p.type,j.stateNode=p.stateNode,j.alternate=p,p.alternate=j):(j.pendingProps=v,j.type=p.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=p.flags&14680064,j.childLanes=p.childLanes,j.lanes=p.lanes,j.child=p.child,j.memoizedProps=p.memoizedProps,j.memoizedState=p.memoizedState,j.updateQueue=p.updateQueue,v=p.dependencies,j.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},j.sibling=p.sibling,j.index=p.index,j.ref=p.ref,j}function nn(p,v,j,$,he,Be){var $e=2;if($=p,typeof p=="function")tr(p)&&($e=1);else if(typeof p=="string")$e=5;else e:switch(p){case k:return vn(j.children,he,Be,v);case W:$e=8,he|=8;break;case q:return p=Ht(12,j,v,he|2),p.elementType=q,p.lanes=Be,p;case O:return p=Ht(13,j,v,he),p.elementType=O,p.lanes=Be,p;case le:return p=Ht(19,j,v,he),p.elementType=le,p.lanes=Be,p;case ie:return ri(j,he,Be,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case te:$e=10;break e;case K:$e=9;break e;case X:$e=11;break e;case z:$e=14;break e;case R:$e=16,$=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=Ht($e,j,v,he),v.elementType=p,v.type=$,v.lanes=Be,v}function vn(p,v,j,$){return p=Ht(7,p,$,v),p.lanes=j,p}function ri(p,v,j,$){return p=Ht(22,p,$,v),p.elementType=ie,p.lanes=j,p.stateNode={isHidden:!1},p}function Xn(p,v,j){return p=Ht(6,p,null,v),p.lanes=j,p}function $n(p,v,j){return v=Ht(4,p.children!==null?p.children:[],p.key,v),v.lanes=j,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function qi(p,v,j,$,he){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=$,this.onRecoverableError=he,this.mutableSourceEagerHydrationData=null}function si(p,v,j,$,he,Be,$e,jt,Mt){return p=new qi(p,v,j,jt,Mt),v===1?(v=1,Be===!0&&(v|=8)):v=0,Be=Ht(3,null,null,v),p.current=Be,Be.stateNode=p,Be.memoizedState={element:$,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(Be),p}function Wa(p,v,j){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:$==null?null:""+$,children:p,containerInfo:v,implementation:j}}function Tn(p){if(!p)return Ml;p=p._reactInternals;e:{if(Ka(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Mo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var j=p.type;if(Mo(j))return Kd(p,j,v)}return v}function Pi(p,v,j,$,he,Be,$e,jt,Mt){return p=si(j,$,!0,p,he,Be,$e,jt,Mt),p.context=Tn(null),j=p.current,$=Bo(),he=Ac(j),Be=kc($,he),Be.callback=v??null,zc(j,Be,he),p.current.lanes=he,Fi(p,he,$),po(p,$),p}function ji(p,v,j,$){var he=v.current,Be=Bo(),$e=Ac(he);return j=Tn(j),v.context===null?v.context=j:v.pendingContext=j,v=kc(Be,$e),v.payload={element:p},$=$===void 0?null:$,$!==null&&(v.callback=$),p=zc(he,v,$e),p!==null&&(jl(p,he,$e,Be),Kc(p,he,$e)),$e}function Ra(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function Wo(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var j=p.retryLane;p.retryLane=j!==0&&j<v?j:v}}function fc(p,v){Wo(p,v),(p=p.alternate)&&Wo(p,v)}function fu(){return null}var fs=typeof reportError=="function"?reportError:function(p){console.error(p)};function dl(p){this._internalRoot=p}Zu.prototype.render=dl.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));ji(p,v,null,null)},Zu.prototype.unmount=dl.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;th(function(){ji(null,p,null,null)}),v[ac]=null}};function Zu(p){this._internalRoot=p}Zu.prototype.unstable_scheduleHydration=function(p){if(p){var v=Fo();p={blockedOn:null,target:p,priority:v};for(var j=0;j<De.length&&v!==0&&v<De[j].priority;j++);De.splice(j,0,p),j===0&&D(p)}};function pc(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Hl(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Ch(){}function kd(p,v,j,$,he){if(he){if(typeof $=="function"){var Be=$;$=function(){var fr=Ra($e);Be.call(fr)}}var $e=Pi(v,$,p,0,null,!1,!1,"",Ch);return p._reactRootContainer=$e,p[ac]=$e.current,Ts(p.nodeType===8?p.parentNode:p),th(),$e}for(;he=p.lastChild;)p.removeChild(he);if(typeof $=="function"){var jt=$;$=function(){var fr=Ra(Mt);jt.call(fr)}}var Mt=si(p,0,!1,null,null,!1,!1,"",Ch);return p._reactRootContainer=Mt,p[ac]=Mt.current,Ts(p.nodeType===8?p.parentNode:p),th(function(){ji(v,Mt,j,$)}),Mt}function Ju(p,v,j,$,he){var Be=j._reactRootContainer;if(Be){var $e=Be;if(typeof he=="function"){var jt=he;he=function(){var Mt=Ra($e);jt.call(Mt)}}ji(v,$e,p,he)}else $e=kd(j,v,p,he,$);return Ra($e)}bs=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var j=$i(v.pendingLanes);j!==0&&(Po(v,j|1),po(v,ha()),(qn&6)===0&&(eh=ha()+500,br()))}break;case 13:th(function(){var $=Xo(p,1);if($!==null){var he=Bo();jl($,p,1,he)}}),fc(p,1)}},Ys=function(p){if(p.tag===13){var v=Xo(p,134217728);if(v!==null){var j=Bo();jl(v,p,134217728,j)}fc(p,134217728)}},Fs=function(p){if(p.tag===13){var v=Ac(p),j=Xo(p,v);if(j!==null){var $=Bo();jl(j,p,v,$)}fc(p,v)}},Fo=function(){return ga},Ut=function(p,v){var j=ga;try{return ga=p,v()}finally{ga=j}},Wn=function(p,v,j){switch(v){case"input":if(ke(p,j),v=j.name,j.type==="radio"&&v!=null){for(j=p;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<j.length;v++){var $=j[v];if($!==p&&$.form===p.form){var he=xd($);if(!he)throw Error(n(90));je($),ke($,he)}}}break;case"textarea":Sr(p,j);break;case"select":v=j.value,v!=null&&Bt(p,!!j.multiple,v,!1)}},la=UA,Ot=th;var nA={usingClientEntryPoint:!1,Events:[_u,vl,xd,cn,Ln,UA]},ed={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nh={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=vs(p),p===null?null:p.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||fu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{_o=Pd.inject(nh),Ws=Pd}catch{}}return Fu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA,Fu.createPortal=function(p,v){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(v))throw Error(n(200));return Wa(p,v,null,j)},Fu.createRoot=function(p,v){if(!pc(p))throw Error(n(299));var j=!1,$="",he=fs;return v!=null&&(v.unstable_strictMode===!0&&(j=!0),v.identifierPrefix!==void 0&&($=v.identifierPrefix),v.onRecoverableError!==void 0&&(he=v.onRecoverableError)),v=si(p,1,!1,null,null,j,!1,$,he),p[ac]=v.current,Ts(p.nodeType===8?p.parentNode:p),new dl(v)},Fu.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=vs(v),p=p===null?null:p.stateNode,p},Fu.flushSync=function(p){return th(p)},Fu.hydrate=function(p,v,j){if(!Hl(v))throw Error(n(200));return Ju(null,p,v,!0,j)},Fu.hydrateRoot=function(p,v,j){if(!pc(p))throw Error(n(405));var $=j!=null&&j.hydratedSources||null,he=!1,Be="",$e=fs;if(j!=null&&(j.unstable_strictMode===!0&&(he=!0),j.identifierPrefix!==void 0&&(Be=j.identifierPrefix),j.onRecoverableError!==void 0&&($e=j.onRecoverableError)),v=Pi(v,null,p,1,j??null,he,!1,Be,$e),p[ac]=v.current,Ts(p),$)for(p=0;p<$.length;p++)j=$[p],he=j._getVersion,he=he(j._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[j,he]:v.mutableSourceEagerHydrationData.push(j,he);return new Zu(v)},Fu.render=function(p,v,j){if(!Hl(v))throw Error(n(200));return Ju(null,p,v,!1,j)},Fu.unmountComponentAtNode=function(p){if(!Hl(p))throw Error(n(40));return p._reactRootContainer?(th(function(){Ju(null,null,p,!1,function(){p._reactRootContainer=null,p[ac]=null})}),!0):!1},Fu.unstable_batchedUpdates=UA,Fu.unstable_renderSubtreeIntoContainer=function(p,v,j,$){if(!Hl(j))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return Ju(p,v,j,!1,$)},Fu.version="18.3.1-next-f1338f8080-20240426",Fu}var vS;function K_(){if(vS)return p2.exports;vS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),p2.exports=wD(),p2.exports}var xS;function jD(){if(xS)return Jg;xS=1;var r=K_();return Jg.createRoot=r.createRoot,Jg.hydrateRoot=r.hydrateRoot,Jg}var CD=jD();const ND=es(CD);var Uc=K_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z0(){return Z0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Z0.apply(this,arguments)}var ef;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ef||(ef={}));const yS="popstate";function SD(r){r===void 0&&(r={});function e(a,i){let{pathname:s,search:c,hash:l}=a.location;return oC("",{pathname:s,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:hv(i)}return ED(e,n,null,r)}function fl(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $N(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BD(){return Math.random().toString(36).substr(2,8)}function bS(r,e){return{usr:r.state,key:r.key,idx:e}}function oC(r,e,n,a){return n===void 0&&(n=null),Z0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Em(e):e,{state:n,key:e&&e.key||a||BD()})}function hv(r){let{pathname:e="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Em(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substr(a),r=r.substr(0,a)),r&&(e.pathname=r)}return e}function ED(r,e,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,c=i.history,l=ef.Pop,u=null,o=h();o==null&&(o=0,c.replaceState(Z0({},c.state,{idx:o}),""));function h(){return(c.state||{idx:null}).idx}function d(){l=ef.Pop;let x=h(),y=x==null?null:x-o;o=x,u&&u({action:l,location:m.location,delta:y})}function A(x,y){l=ef.Push;let b=oC(m.location,x,y);o=h()+1;let w=bS(b,o),N=m.createHref(b);try{c.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}s&&u&&u({action:l,location:m.location,delta:1})}function f(x,y){l=ef.Replace;let b=oC(m.location,x,y);o=h();let w=bS(b,o),N=m.createHref(b);c.replaceState(w,"",N),s&&u&&u({action:l,location:m.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:hv(x);return b=b.replace(/ $/,"%20"),fl(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return l},get location(){return r(i,c)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yS,d),u=x,()=>{i.removeEventListener(yS,d),u=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:A,replace:f,go(x){return c.go(x)}};return m}var wS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(wS||(wS={}));function ID(r,e,n){return n===void 0&&(n="/"),TD(r,e,n)}function TD(r,e,n,a){let i=typeof e=="string"?Em(e):e,s=VN(i.pathname||"/",n);if(s==null)return null;let c=G_(r);_D(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let o=WD(s);l=UD(c[u],o)}return l}function G_(r,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,c,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};u.relativePath.startsWith("/")&&(fl(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let o=nf([a,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(fl(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),G_(s.children,e,h,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:RD(o,s.index),routesMeta:h})};return r.forEach((s,c)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,c);else for(let u of q_(s.path))i(s,c,u)}),e}function q_(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let c=q_(a.join("/")),l=[];return l.push(...c.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...c),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function _D(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:LD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const OD=/^:[\w-]+$/,kD=3,PD=2,FD=1,DD=10,MD=-2,jS=r=>r==="*";function RD(r,e){let n=r.split("/"),a=n.length;return n.some(jS)&&(a+=MD),e&&(a+=PD),n.filter(i=>!jS(i)).reduce((i,s)=>i+(OD.test(s)?kD:s===""?FD:DD),a)}function LD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function UD(r,e,n){let{routesMeta:a}=r,i={},s="/",c=[];for(let l=0;l<a.length;++l){let u=a[l],o=l===a.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=HD({path:u.relativePath,caseSensitive:u.caseSensitive,end:o},h),A=u.route;if(!d)return null;Object.assign(i,d.params),c.push({params:i,pathname:nf([s,d.pathname]),pathnameBase:GD(nf([s,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(s=nf([s,d.pathnameBase]))}return c}function HD(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=QD(r.path,r.caseSensitive,r.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((o,h,d)=>{let{paramName:A,isOptional:f}=h;if(A==="*"){let m=l[d]||"";c=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[d];return f&&!g?o[A]=void 0:o[A]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:c,pattern:r}}function QD(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$N(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(a.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function WD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $N(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function VN(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const $D=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VD=r=>$D.test(r);function zD(r,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:i=""}=typeof r=="string"?Em(r):r,s;if(n)if(VD(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),$N(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?s=CS(n.substring(1),"/"):s=CS(n,e)}else s=e;return{pathname:s,search:qD(a),hash:XD(i)}}function CS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v2(r,e,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zN(r,e){let n=KD(r);return e?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function KN(r,e,n,a){a===void 0&&(a=!1);let i;typeof r=="string"?i=Em(r):(i=Z0({},r),fl(!i.pathname||!i.pathname.includes("?"),v2("?","pathname","search",i)),fl(!i.pathname||!i.pathname.includes("#"),v2("#","pathname","hash",i)),fl(!i.search||!i.search.includes("#"),v2("#","search","hash",i)));let s=r===""||i.pathname==="",c=s?"/":i.pathname,l;if(c==null)l=n;else{let d=e.length-1;if(!a&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),d-=1;i.pathname=A.join("/")}l=d>=0?e[d]:"/"}let u=zD(i,l),o=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(o||h)&&(u.pathname+="/"),u}const nf=r=>r.join("/").replace(/\/\/+/g,"/"),GD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function YD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const X_=["post","put","patch","delete"];new Set(X_);const ZD=["get",...X_];new Set(ZD);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},J0.apply(this,arguments)}const GN=P.createContext(null),JD=P.createContext(null),uf=P.createContext(null),yx=P.createContext(null),df=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Y_=P.createContext(null);function eM(r,e){let{relative:n}=e===void 0?{}:e;Im()||fl(!1);let{basename:a,navigator:i}=P.useContext(uf),{hash:s,pathname:c,search:l}=J_(r,{relative:n}),u=c;return a!=="/"&&(u=c==="/"?a:nf([a,c])),i.createHref({pathname:u,search:l,hash:s})}function Im(){return P.useContext(yx)!=null}function _n(){return Im()||fl(!1),P.useContext(yx).location}function Z_(r){P.useContext(uf).static||P.useLayoutEffect(r)}function Ja(){let{isDataRoute:r}=P.useContext(df);return r?AM():tM()}function tM(){Im()||fl(!1);let r=P.useContext(GN),{basename:e,future:n,navigator:a}=P.useContext(uf),{matches:i}=P.useContext(df),{pathname:s}=_n(),c=JSON.stringify(zN(i,n.v7_relativeSplatPath)),l=P.useRef(!1);return Z_(()=>{l.current=!0}),P.useCallback(function(o,h){if(h===void 0&&(h={}),!l.current)return;if(typeof o=="number"){a.go(o);return}let d=KN(o,JSON.parse(c),s,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:nf([e,d.pathname])),(h.replace?a.replace:a.push)(d,h.state,h)},[e,a,c,s,r])}function J_(r,e){let{relative:n}=e===void 0?{}:e,{future:a}=P.useContext(uf),{matches:i}=P.useContext(df),{pathname:s}=_n(),c=JSON.stringify(zN(i,a.v7_relativeSplatPath));return P.useMemo(()=>KN(r,JSON.parse(c),s,n==="path"),[r,c,s,n])}function rM(r,e){return nM(r,e)}function nM(r,e,n,a){Im()||fl(!1);let{navigator:i}=P.useContext(uf),{matches:s}=P.useContext(df),c=s[s.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let o=_n(),h;if(e){var d;let x=typeof e=="string"?Em(e):e;u==="/"||(d=x.pathname)!=null&&d.startsWith(u)||fl(!1),h=x}else h=o;let A=h.pathname||"/",f=A;if(u!=="/"){let x=u.replace(/^\//,"").split("/");f="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=ID(r,{pathname:f}),m=lM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:nf([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:nf([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,a);return e&&m?P.createElement(yx.Provider,{value:{location:J0({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ef.Pop}},m):m}function aM(){let r=hM(),e=YD(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const iM=P.createElement(aM,null);class sM extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(df.Provider,{value:this.props.routeContext},P.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oM(r){let{routeContext:e,match:n,children:a}=r,i=P.useContext(GN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(df.Provider,{value:e},a)}function lM(r,e,n,a){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var s;if(!n)return null;if(n.errors)r=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=c.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||fl(!1),c=c.slice(0,Math.min(c.length,h+1))}let u=!1,o=-1;if(n&&a&&a.v7_partialHydration)for(let h=0;h<c.length;h++){let d=c[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=h),d.route.id){let{loaderData:A,errors:f}=n,g=d.route.loader&&A[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){u=!0,o>=0?c=c.slice(0,o+1):c=[c[0]];break}}}return c.reduceRight((h,d,A)=>{let f,g=!1,m=null,x=null;n&&(f=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||iM,u&&(o<0&&A===0?(fM("route-fallback"),g=!0,x=null):o===A&&(g=!0,x=d.route.hydrateFallbackElement||null)));let y=e.concat(c.slice(0,A+1)),b=()=>{let w;return f?w=m:g?w=x:d.route.Component?w=P.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,P.createElement(oM,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||A===0)?P.createElement(sM,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var eO=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(eO||{}),tO=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(tO||{});function cM(r){let e=P.useContext(GN);return e||fl(!1),e}function uM(r){let e=P.useContext(JD);return e||fl(!1),e}function dM(r){let e=P.useContext(df);return e||fl(!1),e}function rO(r){let e=dM(),n=e.matches[e.matches.length-1];return n.route.id||fl(!1),n.route.id}function hM(){var r;let e=P.useContext(Y_),n=uM(),a=rO();return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function AM(){let{router:r}=cM(eO.UseNavigateStable),e=rO(tO.UseNavigateStable),n=P.useRef(!1);return Z_(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,J0({fromRouteId:e},s)))},[r,e])}const NS={};function fM(r,e,n){NS[r]||(NS[r]=!0)}function pM(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function lC(r){let{to:e,replace:n,state:a,relative:i}=r;Im()||fl(!1);let{future:s,static:c}=P.useContext(uf),{matches:l}=P.useContext(df),{pathname:u}=_n(),o=Ja(),h=KN(e,zN(l,s.v7_relativeSplatPath),u,i==="path"),d=JSON.stringify(h);return P.useEffect(()=>o(JSON.parse(d),{replace:n,state:a,relative:i}),[o,d,i,n,a]),null}function xn(r){fl(!1)}function mM(r){let{basename:e="/",children:n=null,location:a,navigationType:i=ef.Pop,navigator:s,static:c=!1,future:l}=r;Im()&&fl(!1);let u=e.replace(/^\/*/,"/"),o=P.useMemo(()=>({basename:u,navigator:s,static:c,future:J0({v7_relativeSplatPath:!1},l)}),[u,l,s,c]);typeof a=="string"&&(a=Em(a));let{pathname:h="/",search:d="",hash:A="",state:f=null,key:g="default"}=a,m=P.useMemo(()=>{let x=VN(h,u);return x==null?null:{location:{pathname:x,search:d,hash:A,state:f,key:g},navigationType:i}},[u,h,d,A,f,g,i]);return m==null?null:P.createElement(uf.Provider,{value:o},P.createElement(yx.Provider,{children:n,value:m}))}function gM(r){let{children:e,location:n}=r;return rM(cC(e),n)}new Promise(()=>{});function cC(r,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(r,(a,i)=>{if(!P.isValidElement(a))return;let s=[...e,i];if(a.type===P.Fragment){n.push.apply(n,cC(a.props.children,s));return}a.type!==xn&&fl(!1),!a.props.index||!a.props.children||fl(!1);let c={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=cC(a.props.children,s)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uC(){return uC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},uC.apply(this,arguments)}function vM(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function xM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yM(r,e){return r.button===0&&(!e||e==="_self")&&!xM(r)}function dC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function bM(r,e){let n=dC(r);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const wM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jM="6";try{window.__reactRouterVersion=jM}catch{}const CM="startTransition",SS=xD[CM];function NM(r){let{basename:e,children:n,future:a,window:i}=r,s=P.useRef();s.current==null&&(s.current=SD({window:i,v5Compat:!0}));let c=s.current,[l,u]=P.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},h=P.useCallback(d=>{o&&SS?SS(()=>u(d)):u(d)},[u,o]);return P.useLayoutEffect(()=>c.listen(h),[c,h]),P.useEffect(()=>pM(a),[a]),P.createElement(mM,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:c,future:a})}const SM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=P.forwardRef(function(e,n){let{onClick:a,relative:i,reloadDocument:s,replace:c,state:l,target:u,to:o,preventScrollReset:h,viewTransition:d}=e,A=vM(e,wM),{basename:f}=P.useContext(uf),g,m=!1;if(typeof o=="string"&&BM.test(o)&&(g=o,SM))try{let w=new URL(window.location.href),N=o.startsWith("//")?new URL(w.protocol+o):new URL(o),S=VN(N.pathname,f);N.origin===w.origin&&S!=null?o=S+N.search+N.hash:m=!0}catch{}let x=eM(o,{relative:i}),y=EM(o,{replace:c,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:d});function b(w){a&&a(w),w.defaultPrevented||y(w)}return P.createElement("a",uC({},A,{href:g||x,onClick:m||s?a:b,ref:n,target:u}))});var BS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var ES;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ES||(ES={}));function EM(r,e){let{target:n,replace:a,state:i,preventScrollReset:s,relative:c,viewTransition:l}=e===void 0?{}:e,u=Ja(),o=_n(),h=J_(r,{relative:c});return P.useCallback(d=>{if(yM(d,n)){d.preventDefault();let A=a!==void 0?a:hv(o)===hv(h);u(r,{replace:A,state:i,preventScrollReset:s,relative:c,viewTransition:l})}},[o,u,h,a,i,n,r,s,c,l])}function qN(r){let e=P.useRef(dC(r)),n=P.useRef(!1),a=_n(),i=P.useMemo(()=>bM(a.search,n.current?null:e.current),[a.search]),s=Ja(),c=P.useCallback((l,u)=>{const o=dC(typeof l=="function"?l(i):l);n.current=!0,s("?"+o,u)},[s,i]);return[i,c]}const IM=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},pA=IM(),TM=r=>new Promise(e=>setTimeout(e,r));async function XN(r,e={}){const n=`${pA}${r}`;let a;try{a=await fetch(n,{...e,headers:{"Content-Type":"application/json",...e.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const s=await a.json().catch(()=>({})),c=s.message||s.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const nO=async r=>{await XN("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},_M=async(r,e)=>{var n;try{const a=await XN("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await nO(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},OM=async(r,e)=>{var n;try{const a=await XN("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:e})}),i=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),s=i==="superadmin@medi-waste.io"||i==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:s?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},kM=async(r,e)=>{if(await TM(500),!e)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},PM=async r=>{try{const e=async i=>{const s=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!s.ok)throw new Error("Failed to fetch permissions");return s.json()};try{const i=await e(`${pA}/permissions/me`);return(i==null?void 0:i.data)||[]}catch{}const n=await fetch(`${pA}/auth/permissions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Failed to fetch permissions");return(await n.json()).data.permissions||[]}catch(e){return console.error("Error fetching permissions:",e),[]}},aO=async r=>{try{const e=await fetch(`${pA}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch menu config");return(await e.json()).data}catch(e){return console.error("Error fetching menu config:",e),null}},bx=(r,e)=>{if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},ZA=(r,e,n)=>{if(!r)return!1;const a=r[e];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const i=a.submenus[n];return i?i.visible:!1}return a.visible},iO=P.createContext({user:null,loading:!0,permissions:[],login:async()=>{throw new Error("AuthProvider is not mounted")},sendOTP:async()=>{throw new Error("AuthProvider is not mounted")},verifyOTP:async()=>{throw new Error("AuthProvider is not mounted")},logout:()=>{},createUser:async()=>{throw new Error("AuthProvider is not mounted")},hasRole:()=>!1}),Ep="mw-auth-user",Of="mw-auth-permissions",FM=({children:r})=>{const[e,n]=P.useState(null),[a,i]=P.useState(!0),[s,c]=P.useState([]);P.useEffect(()=>{(()=>{try{const x=localStorage.getItem(Ep);if(x){const y=JSON.parse(x);if(y&&y.id&&y.token&&y.token.trim()!=="")if(y.token.split(".").length===3){n(y);try{const w=localStorage.getItem(Of);if(w){const N=JSON.parse(w);Array.isArray(N)?c(N||[]):N&&typeof N=="object"&&(N.userId===y.id?c(Array.isArray(N.permissions)?N.permissions:[]):c([]))}}catch{c([])}}else console.warn("Invalid token format in storage"),localStorage.removeItem(Ep),localStorage.removeItem(Of),n(null),c([]);else console.warn("Invalid user data in storage"),localStorage.removeItem(Ep),n(null),localStorage.removeItem(Of),c([])}else n(null),c([])}catch(x){console.error("Error loading user from storage:",x),localStorage.removeItem(Ep),n(null),localStorage.removeItem(Of),c([])}finally{i(!1)}})()},[]);const l=P.useCallback(m=>{if(n(m),m){try{localStorage.setItem(Ep,JSON.stringify(m))}catch(x){console.error("Error saving user to storage:",x)}c([]);try{localStorage.removeItem(Of)}catch{}}else{try{localStorage.removeItem(Ep)}catch(x){console.error("Error removing user from storage:",x)}try{localStorage.removeItem(Of)}catch{}c([])}},[]);P.useEffect(()=>{(async()=>{if(!(e!=null&&e.token)){c([]);return}try{const x=await PM(e.token);c(x||[]);try{const y={userId:e.id,permissions:x||[]};localStorage.setItem(Of,JSON.stringify(y))}catch{}}catch{}})()},[e==null?void 0:e.token]);const u=P.useCallback(async(m,x)=>{i(!0);try{const y=await _M(m,x);if(y.requiresOTP)return l(null),{requiresOTP:!0,email:y.email};if(y.user)return l(y.user),{requiresOTP:!1};throw new Error("Login failed")}finally{i(!1)}},[l]),o=P.useCallback(async m=>{i(!0);try{await nO(m)}finally{i(!1)}},[]),h=P.useCallback(async(m,x)=>{i(!0);try{const y=await OM(m,x);l(y)}finally{i(!1)}},[l]),d=P.useCallback(()=>{l(null)},[l]),A=P.useCallback(async m=>{if(!e)throw new Error("Unauthorized");i(!0);try{return await kM(m,e.token)}finally{i(!1)}},[e]),f=P.useCallback(m=>{const x=Array.isArray(m)?m:[m];return!!(e!=null&&e.roles.some(y=>x.includes(y)))},[e]),g=P.useMemo(()=>({user:e,loading:a,permissions:s,login:u,sendOTP:o,verifyOTP:h,logout:d,createUser:A,hasRole:f}),[e,a,s,u,o,h,d,A,f]);return t.jsx(iO.Provider,{value:g,children:r})},sO=()=>P.useContext(iO),pa=()=>sO(),IS=({children:r})=>{const{user:e,logout:n}=pa(),{pathname:a}=_n();return t.jsxs("div",{className:"app-shell",children:[t.jsxs("header",{className:"app-shell__header",children:[t.jsxs(Zr,{to:"/",className:"brand",children:["MediWaste",t.jsx("span",{className:"brand__tag",children:"Control"})]}),t.jsx("nav",{className:"app-shell__nav",children:e?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"nav__user",children:[e.name,t.jsx("small",{children:e.roles.join(", ")})]}),t.jsx(Zr,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),t.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Zr,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),t.jsx(Zr,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),t.jsx("main",{className:"app-shell__body",children:r})]})},jn=({roles:r,children:e})=>{const{user:n,loading:a}=pa(),i=_n();if(a)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return t.jsx(lC,{to:"/login",replace:!0,state:{from:i}});const s=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!s.some(c=>r.includes(c))?t.jsx(lC,{to:"/login",replace:!0}):t.jsx(t.Fragment,{children:e})},DM=P.createContext(void 0),MM=({children:r,user:e})=>{var h,d;const[n,a]=P.useState({enabled:!1,previewRole:null,originalRole:((h=e==null?void 0:e.roles)==null?void 0:h[0])||"viewer"}),i=P.useCallback(A=>{a(A)},[]),s=P.useCallback((A,f)=>{a({enabled:!0,previewRole:A,originalRole:f})},[]),c=P.useCallback(()=>{a(A=>({enabled:!1,previewRole:null,originalRole:A.originalRole}))},[]),l=n.enabled,u=n.enabled&&n.previewRole?n.previewRole:((d=e==null?void 0:e.roles)==null?void 0:d[0])||"viewer",o={previewMode:n,setPreviewMode:i,startPreview:s,exitPreview:c,isPreviewMode:l,currentRole:u,user:e};return t.jsx(DM.Provider,{value:o,children:r})},RM=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=pa(),i=Ja(),s=_n(),[c,l]=P.useState(""),[u,o]=P.useState(""),[h,d]=P.useState(!1),[A,f]=P.useState(!1),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState(""),[N,S]=P.useState(["","","","","",""]),[C,k]=P.useState(0);if(P.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),P.useEffect(()=>{var le,z;if(a&&!n){const R=(z=(le=s.state)==null?void 0:le.from)==null?void 0:z.pathname;i(R||"/dashboard",{replace:!0})}},[a,n,i,s]),P.useEffect(()=>{if(C>0){const le=setTimeout(()=>k(C-1),1e3);return()=>clearTimeout(le)}},[C]),n)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),t.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const W=le=>{if(!le||le.trim().length===0)return!1;const z=/^[a-zA-Z0-9_-]+$/,R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return z.test(le.trim())||R.test(le.trim())},q=async le=>{var z,R;if(le.preventDefault(),m(null),!W(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const ie=await r(c.trim(),u);if(ie.requiresOTP&&ie.email)w(ie.email),y(!0),k(60);else{const Ae=(R=(z=s.state)==null?void 0:z.from)==null?void 0:R.pathname;i(Ae||"/dashboard",{replace:!0})}}catch(ie){m(ie.message||"Invalid credentials. Please check your username and password.")}},te=(le,z)=>{if(z.length>1)return;const R=[...N];if(R[le]=z,S(R),z&&le<5){const ie=document.getElementById(`otp-input-${le+1}`);ie==null||ie.focus()}},K=(le,z)=>{if(z.key==="Backspace"&&!N[le]&&le>0){const R=document.getElementById(`otp-input-${le-1}`);R==null||R.focus()}},X=async le=>{var R,ie,Ae;le.preventDefault(),m(null);const z=N.join("");if(z.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,z);const Oe=(ie=(R=s.state)==null?void 0:R.from)==null?void 0:ie.pathname;i(Oe||"/dashboard",{replace:!0})}catch(Oe){m(Oe.message||"Invalid OTP"),S(["","","","","",""]),(Ae=document.getElementById("otp-input-0"))==null||Ae.focus()}},O=async()=>{if(!(C>0)){m(null);try{await r(c,u),k(60),S(["","","","","",""])}catch(le){m(le.message||"Failed to resend OTP")}}};return t.jsx("div",{className:"login-page-template",children:t.jsxs("div",{className:"login-template-wrapper",children:[t.jsxs("div",{className:"login-left-panel",children:[t.jsxs("div",{className:"left-panel-header",children:[t.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("div",{className:"left-panel-image-container",children:t.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:le=>{const z=le.target;z.style.display="none";const R=z.parentElement;if(R&&!R.querySelector(".image-placeholder")){const ie=document.createElement("div");ie.className="image-placeholder",ie.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;">Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,R.appendChild(ie)}}})})]}),t.jsx("div",{className:"login-right-panel",children:t.jsxs("div",{className:"login-form-wrapper",children:[t.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form otp-form-inline",onSubmit:X,children:[t.jsx("div",{className:"otp-instruction",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row",children:N.map((le,z)=>t.jsx("input",{id:`otp-input-${z}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:le,onChange:R=>te(z,R.target.value),onKeyDown:R=>K(z,R),autoFocus:z===0,disabled:n},z))}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(le=>!le),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-inline",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",C>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",C,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link",onClick:O,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:q,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:le=>{l(le.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper-icon",children:[t.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{id:"password",type:A?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:u,onChange:le=>{o(le.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),t.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>f(!A),disabled:x,children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:A?t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs(t.Fragment,{children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),t.jsxs("div",{className:"form-options-row",children:[t.jsxs("label",{className:"remember-me-label",children:[t.jsx("input",{type:"checkbox",checked:h,onChange:le=>d(le.target.checked),disabled:x}),t.jsx("span",{children:"Remember Me"})]}),t.jsx(Zr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},LM=()=>{const{sendOTP:r,verifyOTP:e,loading:n}=pa(),a=Ja(),i=_n(),[s,c]=P.useState(["","","","","",""]),[l,u]=P.useState(null),[o,h]=P.useState(0),[d,A]=P.useState("");P.useEffect(()=>{var b;const y=(b=i.state)==null?void 0:b.email;y?(A(y),h(60)):a("/login",{replace:!0})},[i,a]),P.useEffect(()=>{if(o>0){const y=setTimeout(()=>h(o-1),1e3);return()=>clearTimeout(y)}},[o]);const f=(y,b)=>{if(b.length>1)return;const w=[...s];if(w[y]=b,c(w),b&&y<5){const N=document.getElementById(`otp-${y+1}`);N==null||N.focus()}},g=(y,b)=>{if(b.key==="Backspace"&&!s[y]&&y>0){const w=document.getElementById(`otp-${y-1}`);w==null||w.focus()}},m=async()=>{if(!(o>0)){u(null);try{await r(d),h(60),c(["","","","","",""])}catch(y){u(y.message||"Failed to resend OTP")}}},x=async y=>{var w,N,S;y.preventDefault(),u(null);const b=s.join("");if(b.length!==6){u("Please enter a valid 6-digit OTP");return}try{await e(d,b);const C=(N=(w=i.state)==null?void 0:w.from)==null?void 0:N.pathname;a(C||"/dashboard",{replace:!0})}catch(C){u(C.message||"Invalid OTP"),c(["","","","","",""]),(S=document.getElementById("otp-0"))==null||S.focus()}};return t.jsx("div",{className:"otp-verification-page",children:t.jsxs("div",{className:"otp-verification-container",children:[t.jsxs("div",{className:"otp-header",children:[t.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),t.jsx("p",{className:"otp-subtitle",children:d.toLowerCase()==="superadmin@medi-waste.io"||d.toLowerCase()==="superadmin"?t.jsx(t.Fragment,{children:"Use your configured SuperAdmin OTP."}):t.jsx(t.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),t.jsxs("form",{className:"otp-form",onSubmit:x,children:[t.jsx("div",{className:"otp-inputs-container",children:s.map((y,b)=>t.jsx("input",{id:`otp-${b}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:w=>f(b,w.target.value),onKeyDown:w=>g(b,w),autoFocus:b===0,disabled:n},b))}),l&&t.jsx("div",{className:"otp-error",children:l}),t.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||s.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend",children:t.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",o>0?t.jsxs("span",{className:"otp-timer",children:["Resend in ",o,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},UM="http://localhost:3000/api/v1",HM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ip=async(r,e={})=>{const n=HM(),a=`${UM}${r}`,i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw s instanceof TypeError&&s.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:s.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:s instanceof Error?s.message:String(s)}),s}},Gf={getDashboardConfig:async r=>{try{const n=(await Ip(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const i=Array.isArray(n.menuItems)?n.menuItems:[],s=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:i,permissions:s}}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),TS(r)}},getUserOverrides:async r=>{try{return(await Ip(`/dashboard/user-overrides/${r}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch user overrides:",e),null}},computePermissions:(r,e)=>{const n={...r.permissions},a=[...r.menuItems],i=[...r.widgets];e&&(Object.entries(e.permissions).forEach(([o,h])=>{n[o]=h}),e.menuOverrides&&a.forEach(o=>{e.menuOverrides[o.id]!==void 0&&(o.visible=e.menuOverrides[o.id])}),e.widgetOverrides&&i.forEach(o=>{if(e.widgetOverrides[o.id]!==void 0){const h=i.indexOf(o);!e.widgetOverrides[o.id]&&h!==-1&&i.splice(h,1)}}));const s=!!n["*"],c=o=>o.filter(h=>!(!h.visible||!s&&h.permission&&!n[h.permission])).map(h=>{if(h.children&&h.children.length>0){const d=c(h.children);return{...h,children:d.length>0?d:void 0}}return h}),l=c(a),u=i.filter(o=>{var h;return!(!s&&((h=o.permissions)!=null&&h.view)&&!n[o.permissions.view])});return{permissions:n,menuItems:l,widgets:u}},getAvailableRoles:async()=>{try{return(await Ip("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Ip("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const e=JSON.stringify(r);return(await Ip("/dashboard/config",{method:"POST",body:e})).data}catch(e){throw console.error("[dashboardService] Failed to save dashboard config:",e),console.error("[dashboardService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,config:r}),e}},getDashboardConfigByTarget:async r=>{try{return(await Ip(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(e){return console.error("[dashboardService] Failed to fetch dashboard config:",e),TS(r)}}};function TS(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const e1="http://localhost:3000/api/v1",QM=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},wx=async(r,e={})=>{const n=QM();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${e1.endsWith("/api/v1")?e1.replace("/api/v1",""):e1.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${e1}${r}`;const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`;try{const u=await s.text();if(u){const o=JSON.parse(u);Array.isArray(o.message)?l=o.message.join(", "):typeof o.message=="string"&&(l=o.message)}}catch{}throw new Error(l)}return s.status===204?{}:await s.json()}catch(s){throw console.error("[widgetDataService] Request failed:",s),s}},WM=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const e=await wx(r);console.log("[widgetDataService] Raw API response:",e);let n;e&&typeof e=="object"?e.success!==void 0&&e.data?n=e.data:e.value!==void 0||e.label!==void 0?n=e:e.data&&(e.data.value!==void 0||e.data.label!==void 0)?n=e.data:n=e:(console.warn("[widgetDataService] Unexpected response format:",e),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,i=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,s={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:i};return console.log("[widgetDataService] Final mapped KPI result:",s),s}catch(e){return console.error("[widgetDataService] Failed to fetch KPI data:",e),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack}),{value:0,unit:"",label:""}}},$M=async r=>{try{const n=(await wx(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,i)=>({label:a,value:n.data[i]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(e){throw console.error("[widgetDataService] Failed to fetch chart data:",e),e}},VM=async r=>{try{const n=(await wx(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const i={};return n.columns.forEach(s=>{i[s]=a[s]||""}),i})}:{columns:[],data:[]}}catch(e){throw console.error("[widgetDataService] Failed to fetch table data:",e),e}},zM=async r=>{try{const n=(await wx(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(e){throw console.error("[widgetDataService] Failed to fetch task data:",e),e}},KM=async r=>{var e;if(!((e=r.dataSource)!=null&&e.endpoint))return null;try{switch(r.type){case"metric":return await WM(r.dataSource.endpoint);case"chart":return await $M(r.dataSource.endpoint);case"table":return await VM(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await zM(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},GM=({title:r,value:e,unit:n,label:a,trend:i,loading:s=!1})=>s?t.jsx("div",{className:"widget-panel widget-panel--metric",children:t.jsxs("div",{className:"widget-panel__skeleton",children:[t.jsx("div",{className:"skeleton-line skeleton-line--title"}),t.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):t.jsxs("div",{className:"widget-panel widget-panel--metric",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsxs("div",{className:"widget-panel__body",children:[t.jsxs("div",{className:"metric-value",children:[typeof e=="number"?e.toLocaleString():e,n&&t.jsx("span",{className:"metric-unit",children:n})]}),a&&t.jsx("div",{className:"metric-label",children:a}),i&&t.jsxs("div",{className:`metric-trend metric-trend--${i.isPositive?"positive":"negative"}`,children:[t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.isPositive?t.jsx("polyline",{points:"18 15 12 9 6 15"}):t.jsx("polyline",{points:"6 9 12 15 18 9"})}),t.jsxs("span",{children:[Math.abs(i.value),"%"]}),i.period&&t.jsx("span",{className:"metric-trend-period",children:i.period})]})]})]});function oO(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(n=oO(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function vi(){for(var r,e,n=0,a="",i=arguments.length;n<i;n++)(r=arguments[n])&&(e=oO(r))&&(a&&(a+=" "),a+=e);return a}var x2,_S;function Lu(){if(_S)return x2;_S=1;var r=Array.isArray;return x2=r,x2}var y2,OS;function lO(){if(OS)return y2;OS=1;var r=typeof oA=="object"&&oA&&oA.Object===Object&&oA;return y2=r,y2}var b2,kS;function Dh(){if(kS)return b2;kS=1;var r=lO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return b2=n,b2}var w2,PS;function Fg(){if(PS)return w2;PS=1;var r=Dh(),e=r.Symbol;return w2=e,w2}var j2,FS;function qM(){if(FS)return j2;FS=1;var r=Fg(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,i=r?r.toStringTag:void 0;function s(c){var l=n.call(c,i),u=c[i];try{c[i]=void 0;var o=!0}catch{}var h=a.call(c);return o&&(l?c[i]=u:delete c[i]),h}return j2=s,j2}var C2,DS;function XM(){if(DS)return C2;DS=1;var r=Object.prototype,e=r.toString;function n(a){return e.call(a)}return C2=n,C2}var N2,MS;function xA(){if(MS)return N2;MS=1;var r=Fg(),e=qM(),n=XM(),a="[object Null]",i="[object Undefined]",s=r?r.toStringTag:void 0;function c(l){return l==null?l===void 0?i:a:s&&s in Object(l)?e(l):n(l)}return N2=c,N2}var S2,RS;function yA(){if(RS)return S2;RS=1;function r(e){return e!=null&&typeof e=="object"}return S2=r,S2}var B2,LS;function Tm(){if(LS)return B2;LS=1;var r=xA(),e=yA(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return B2=a,B2}var E2,US;function YN(){if(US)return E2;US=1;var r=Lu(),e=Tm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,c){if(r(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:a.test(s)||!n.test(s)||c!=null&&s in Object(c)}return E2=i,E2}var I2,HS;function hf(){if(HS)return I2;HS=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return I2=r,I2}var T2,QS;function ZN(){if(QS)return T2;QS=1;var r=xA(),e=hf(),n="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function c(l){if(!e(l))return!1;var u=r(l);return u==a||u==i||u==n||u==s}return T2=c,T2}var _2,WS;function YM(){if(WS)return _2;WS=1;var r=Dh(),e=r["__core-js_shared__"];return _2=e,_2}var O2,$S;function ZM(){if($S)return O2;$S=1;var r=YM(),e=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return O2=n,O2}var k2,VS;function cO(){if(VS)return k2;VS=1;var r=Function.prototype,e=r.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return k2=n,k2}var P2,zS;function JM(){if(zS)return P2;zS=1;var r=ZN(),e=ZM(),n=hf(),a=cO(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,o=l.hasOwnProperty,h=RegExp("^"+u.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(A){if(!n(A)||e(A))return!1;var f=r(A)?h:s;return f.test(a(A))}return P2=d,P2}var F2,KS;function eR(){if(KS)return F2;KS=1;function r(e,n){return e==null?void 0:e[n]}return F2=r,F2}var D2,GS;function up(){if(GS)return D2;GS=1;var r=JM(),e=eR();function n(a,i){var s=e(a,i);return r(s)?s:void 0}return D2=n,D2}var M2,qS;function jx(){if(qS)return M2;qS=1;var r=up(),e=r(Object,"create");return M2=e,M2}var R2,XS;function tR(){if(XS)return R2;XS=1;var r=jx();function e(){this.__data__=r?r(null):{},this.size=0}return R2=e,R2}var L2,YS;function rR(){if(YS)return L2;YS=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return L2=r,L2}var U2,ZS;function nR(){if(ZS)return U2;ZS=1;var r=jx(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function i(s){var c=this.__data__;if(r){var l=c[s];return l===e?void 0:l}return a.call(c,s)?c[s]:void 0}return U2=i,U2}var H2,JS;function aR(){if(JS)return H2;JS=1;var r=jx(),e=Object.prototype,n=e.hasOwnProperty;function a(i){var s=this.__data__;return r?s[i]!==void 0:n.call(s,i)}return H2=a,H2}var Q2,eB;function iR(){if(eB)return Q2;eB=1;var r=jx(),e="__lodash_hash_undefined__";function n(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=r&&i===void 0?e:i,this}return Q2=n,Q2}var W2,tB;function sR(){if(tB)return W2;tB=1;var r=tR(),e=rR(),n=nR(),a=aR(),i=iR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,W2=s,W2}var $2,rB;function oR(){if(rB)return $2;rB=1;function r(){this.__data__=[],this.size=0}return $2=r,$2}var V2,nB;function JN(){if(nB)return V2;nB=1;function r(e,n){return e===n||e!==e&&n!==n}return V2=r,V2}var z2,aB;function Cx(){if(aB)return z2;aB=1;var r=JN();function e(n,a){for(var i=n.length;i--;)if(r(n[i][0],a))return i;return-1}return z2=e,z2}var K2,iB;function lR(){if(iB)return K2;iB=1;var r=Cx(),e=Array.prototype,n=e.splice;function a(i){var s=this.__data__,c=r(s,i);if(c<0)return!1;var l=s.length-1;return c==l?s.pop():n.call(s,c,1),--this.size,!0}return K2=a,K2}var G2,sB;function cR(){if(sB)return G2;sB=1;var r=Cx();function e(n){var a=this.__data__,i=r(a,n);return i<0?void 0:a[i][1]}return G2=e,G2}var q2,oB;function uR(){if(oB)return q2;oB=1;var r=Cx();function e(n){return r(this.__data__,n)>-1}return q2=e,q2}var X2,lB;function dR(){if(lB)return X2;lB=1;var r=Cx();function e(n,a){var i=this.__data__,s=r(i,n);return s<0?(++this.size,i.push([n,a])):i[s][1]=a,this}return X2=e,X2}var Y2,cB;function Nx(){if(cB)return Y2;cB=1;var r=oR(),e=lR(),n=cR(),a=uR(),i=dR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Y2=s,Y2}var Z2,uB;function e4(){if(uB)return Z2;uB=1;var r=up(),e=Dh(),n=r(e,"Map");return Z2=n,Z2}var J2,dB;function hR(){if(dB)return J2;dB=1;var r=sR(),e=Nx(),n=e4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return J2=a,J2}var ey,hB;function AR(){if(hB)return ey;hB=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ey=r,ey}var ty,AB;function Sx(){if(AB)return ty;AB=1;var r=AR();function e(n,a){var i=n.__data__;return r(a)?i[typeof a=="string"?"string":"hash"]:i.map}return ty=e,ty}var ry,fB;function fR(){if(fB)return ry;fB=1;var r=Sx();function e(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return ry=e,ry}var ny,pB;function pR(){if(pB)return ny;pB=1;var r=Sx();function e(n){return r(this,n).get(n)}return ny=e,ny}var ay,mB;function mR(){if(mB)return ay;mB=1;var r=Sx();function e(n){return r(this,n).has(n)}return ay=e,ay}var iy,gB;function gR(){if(gB)return iy;gB=1;var r=Sx();function e(n,a){var i=r(this,n),s=i.size;return i.set(n,a),this.size+=i.size==s?0:1,this}return iy=e,iy}var sy,vB;function t4(){if(vB)return sy;vB=1;var r=hR(),e=fR(),n=pR(),a=mR(),i=gR();function s(c){var l=-1,u=c==null?0:c.length;for(this.clear();++l<u;){var o=c[l];this.set(o[0],o[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,sy=s,sy}var oy,xB;function uO(){if(xB)return oy;xB=1;var r=t4(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var c=arguments,l=i?i.apply(this,c):c[0],u=s.cache;if(u.has(l))return u.get(l);var o=a.apply(this,c);return s.cache=u.set(l,o)||u,o};return s.cache=new(n.Cache||r),s}return n.Cache=r,oy=n,oy}var ly,yB;function vR(){if(yB)return ly;yB=1;var r=uO(),e=500;function n(a){var i=r(a,function(c){return s.size===e&&s.clear(),c}),s=i.cache;return i}return ly=n,ly}var cy,bB;function xR(){if(bB)return cy;bB=1;var r=vR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(c,l,u,o){s.push(u?o.replace(n,"$1"):l||c)}),s});return cy=a,cy}var uy,wB;function r4(){if(wB)return uy;wB=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=Array(i);++a<i;)s[a]=n(e[a],a,e);return s}return uy=r,uy}var dy,jB;function yR(){if(jB)return dy;jB=1;var r=Fg(),e=r4(),n=Lu(),a=Tm(),i=r?r.prototype:void 0,s=i?i.toString:void 0;function c(l){if(typeof l=="string")return l;if(n(l))return e(l,c)+"";if(a(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return dy=c,dy}var hy,CB;function dO(){if(CB)return hy;CB=1;var r=yR();function e(n){return n==null?"":r(n)}return hy=e,hy}var Ay,NB;function hO(){if(NB)return Ay;NB=1;var r=Lu(),e=YN(),n=xR(),a=dO();function i(s,c){return r(s)?s:e(s,c)?[s]:n(a(s))}return Ay=i,Ay}var fy,SB;function Bx(){if(SB)return fy;SB=1;var r=Tm();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return fy=e,fy}var py,BB;function n4(){if(BB)return py;BB=1;var r=hO(),e=Bx();function n(a,i){i=r(i,a);for(var s=0,c=i.length;a!=null&&s<c;)a=a[e(i[s++])];return s&&s==c?a:void 0}return py=n,py}var my,EB;function AO(){if(EB)return my;EB=1;var r=n4();function e(n,a,i){var s=n==null?void 0:r(n,a);return s===void 0?i:s}return my=e,my}var bR=AO();const cd=es(bR);var gy,IB;function wR(){if(IB)return gy;IB=1;function r(e){return e==null}return gy=r,gy}var jR=wR();const ci=es(jR);var vy,TB;function CR(){if(TB)return vy;TB=1;var r=xA(),e=Lu(),n=yA(),a="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&r(s)==a}return vy=i,vy}var NR=CR();const Dg=es(NR);var SR=ZN();const Za=es(SR);var BR=hf();const _m=es(BR);var xy={exports:{}},Ns={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B;function ER(){if(_B)return Ns;_B=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case i:case a:case o:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case u:case A:case d:case s:return x;default:return y}}case e:return y}}}return Ns.ContextConsumer=c,Ns.ContextProvider=s,Ns.Element=r,Ns.ForwardRef=u,Ns.Fragment=n,Ns.Lazy=A,Ns.Memo=d,Ns.Portal=e,Ns.Profiler=i,Ns.StrictMode=a,Ns.Suspense=o,Ns.SuspenseList=h,Ns.isAsyncMode=function(){return!1},Ns.isConcurrentMode=function(){return!1},Ns.isContextConsumer=function(x){return m(x)===c},Ns.isContextProvider=function(x){return m(x)===s},Ns.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},Ns.isForwardRef=function(x){return m(x)===u},Ns.isFragment=function(x){return m(x)===n},Ns.isLazy=function(x){return m(x)===A},Ns.isMemo=function(x){return m(x)===d},Ns.isPortal=function(x){return m(x)===e},Ns.isProfiler=function(x){return m(x)===i},Ns.isStrictMode=function(x){return m(x)===a},Ns.isSuspense=function(x){return m(x)===o},Ns.isSuspenseList=function(x){return m(x)===h},Ns.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===a||x===o||x===h||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===A||x.$$typeof===d||x.$$typeof===s||x.$$typeof===c||x.$$typeof===u||x.$$typeof===g||x.getModuleId!==void 0)},Ns.typeOf=m,Ns}var OB;function IR(){return OB||(OB=1,xy.exports=ER()),xy.exports}var TR=IR(),yy,kB;function fO(){if(kB)return yy;kB=1;var r=xA(),e=yA(),n="[object Number]";function a(i){return typeof i=="number"||e(i)&&r(i)==n}return yy=a,yy}var by,PB;function _R(){if(PB)return by;PB=1;var r=fO();function e(n){return r(n)&&n!=+n}return by=e,by}var OR=_R();const Mg=es(OR);var kR=fO();const PR=es(kR);var yu=function(e){return e===0?0:e>0?1:-1},qf=function(e){return Dg(e)&&e.indexOf("%")===e.length-1},gn=function(e){return PR(e)&&!Mg(e)},Xl=function(e){return gn(e)||Dg(e)},FR=0,Om=function(e){var n=++FR;return"".concat(e||"").concat(n)},bu=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gn(e)&&!Dg(e))return a;var s;if(qf(e)){var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Mg(s)&&(s=a),i&&s>n&&(s=n),s},JA=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},DR=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,a={},i=0;i<n;i++)if(!a[e[i]])a[e[i]]=!0;else return!0;return!1},od=function(e,n){return gn(e)&&gn(n)?function(a){return e+a*(n-e)}:function(){return n}};function Av(r,e,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof e=="function"?e(a):cd(a,e))===n})}function Zp(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var a in e)if({}.hasOwnProperty.call(e,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function hC(r){"@babel/helpers - typeof";return hC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(r)}var MR=["viewBox","children"],RR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FB=["points","pathLength"],wy={svg:MR,polygon:FB,polyline:FB},a4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(P.isValidElement(e)&&(a=e.props),!_m(a))return null;var i={};return Object.keys(a).forEach(function(s){a4.includes(s)&&(i[s]=n||function(c){return a[s](a,c)})}),i},LR=function(e,n,a){return function(i){return e(n,a,i),null}},ip=function(e,n,a){if(!_m(e)||hC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var c=e[s];a4.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=LR(c,n,a))}),i},UR=["children"],HR=["children"];function DB(r,e){if(r==null)return{};var n=QR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function QR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function AC(r){"@babel/helpers - typeof";return AC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AC(r)}var MB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RB=null,jy=null,i4=function r(e){if(e===RB&&Array.isArray(jy))return jy;var n=[];return P.Children.forEach(e,function(a){ci(a)||(TR.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),jy=n,RB=e,n};function ud(r,e){var n=[],a=[];return Array.isArray(e)?a=e.map(function(i){return hA(i)}):a=[hA(e)],i4(r).forEach(function(i){var s=cd(i,"type.displayName")||cd(i,"type.name");a.indexOf(s)!==-1&&n.push(i)}),n}function id(r,e){var n=ud(r,e);return n&&n[0]}var LB=function(e){if(!e||!e.props)return!1;var n=e.props,a=n.width,i=n.height;return!(!gn(a)||a<=0||!gn(i)||i<=0)},WR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$R=function(e){return e&&e.type&&Dg(e.type)&&WR.indexOf(e.type)>=0},VR=function(e){return e&&AC(e)==="object"&&"clipDot"in e},zR=function(e,n,a,i){var s,c=(s=wy==null?void 0:wy[i])!==null&&s!==void 0?s:[];return!Za(e)&&(i&&c.includes(n)||RR.includes(n))||a&&a4.includes(n)},ka=function(e,n,a){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!_m(i))return null;var s={};return Object.keys(i).forEach(function(c){var l;zR((l=i)===null||l===void 0?void 0:l[c],c,n,a)&&(s[c]=i[c])}),s},fC=function r(e,n){if(e===n)return!0;var a=P.Children.count(e);if(a!==P.Children.count(n))return!1;if(a===0)return!0;if(a===1)return UB(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var s=e[i],c=n[i];if(Array.isArray(s)||Array.isArray(c)){if(!r(s,c))return!1}else if(!UB(s,c))return!1}return!0},UB=function(e,n){if(ci(e)&&ci(n))return!0;if(!ci(e)&&!ci(n)){var a=e.props||{},i=a.children,s=DB(a,UR),c=n.props||{},l=c.children,u=DB(c,HR);return i&&l?Zp(s,u)&&fC(i,l):!i&&!l?Zp(s,u):!1}return!1},HB=function(e,n){var a=[],i={};return i4(e).forEach(function(s,c){if($R(s))a.push(s);else if(s){var l=hA(s.type),u=n[l]||{},o=u.handler,h=u.once;if(o&&(!h||!i[l])){var d=o(s,l,c);a.push(d),i[l]=!0}}}),a},KR=function(e){var n=e&&e.type;return n&&MB[n]?MB[n]:null},GR=function(e,n){return i4(n).indexOf(e)},qR=["children","width","height","viewBox","className","style","title","desc"];function pC(){return pC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},pC.apply(this,arguments)}function XR(r,e){if(r==null)return{};var n=YR(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function YR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function mC(r){var e=r.children,n=r.width,a=r.height,i=r.viewBox,s=r.className,c=r.style,l=r.title,u=r.desc,o=XR(r,qR),h=i||{width:n,height:a,x:0,y:0},d=vi("recharts-surface",s);return bt.createElement("svg",pC({},ka(o,!0,"svg"),{className:d,width:n,height:a,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),bt.createElement("title",null,l),bt.createElement("desc",null,u),e)}var ZR=["children","className"];function gC(){return gC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gC.apply(this,arguments)}function JR(r,e){if(r==null)return{};var n=eL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function eL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var os=bt.forwardRef(function(r,e){var n=r.children,a=r.className,i=JR(r,ZR),s=vi("recharts-layer",a);return bt.createElement("g",gC({className:s},ka(i,!0),{ref:e}),n)}),hh=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},Cy,QB;function tL(){if(QB)return Cy;QB=1;function r(e,n,a){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),a=a>s?s:a,a<0&&(a+=s),s=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(s);++i<s;)c[i]=e[i+n];return c}return Cy=r,Cy}var Ny,WB;function rL(){if(WB)return Ny;WB=1;var r=tL();function e(n,a,i){var s=n.length;return i=i===void 0?s:i,!a&&i>=s?n:r(n,a,i)}return Ny=e,Ny}var Sy,$B;function pO(){if($B)return Sy;$B=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+i+s+"]");function u(o){return l.test(o)}return Sy=u,Sy}var By,VB;function nL(){if(VB)return By;VB=1;function r(e){return e.split("")}return By=r,By}var Ey,zB;function aL(){if(zB)return Ey;zB=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+n+a,s="\\ufe0e\\ufe0f",c="["+r+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+u+")",h="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",g=o+"?",m="["+s+"]?",x="(?:"+f+"(?:"+[h,d,A].join("|")+")"+m+g+")*",y=m+g+x,b="(?:"+[h+l+"?",l,d,A,c].join("|")+")",w=RegExp(u+"(?="+u+")|"+b+y,"g");function N(S){return S.match(w)||[]}return Ey=N,Ey}var Iy,KB;function iL(){if(KB)return Iy;KB=1;var r=nL(),e=pO(),n=aL();function a(i){return e(i)?n(i):r(i)}return Iy=a,Iy}var Ty,GB;function sL(){if(GB)return Ty;GB=1;var r=rL(),e=pO(),n=iL(),a=dO();function i(s){return function(c){c=a(c);var l=e(c)?n(c):void 0,u=l?l[0]:c.charAt(0),o=l?r(l,1).join(""):c.slice(1);return u[s]()+o}}return Ty=i,Ty}var _y,qB;function oL(){if(qB)return _y;qB=1;var r=sL(),e=r("toUpperCase");return _y=e,_y}var lL=oL();const Ex=es(lL);function ao(r){return function(){return r}}const mO=Math.cos,pv=Math.sin,Ah=Math.sqrt,mv=Math.PI,Ix=2*mv,vC=Math.PI,xC=2*vC,$f=1e-6,cL=xC-$f;function gO(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function uL(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return gO;const n=10**e;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class dL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gO:uL(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,i){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(e,n,a,i,s,c){this._append`C${+e},${+n},${+a},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,a,i,s){if(e=+e,n=+n,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,l=this._y1,u=a-e,o=i-n,h=c-e,d=l-n,A=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(A>$f)if(!(Math.abs(d*u-o*h)>$f)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=a-c,g=i-l,m=u*u+o*o,x=f*f+g*g,y=Math.sqrt(m),b=Math.sqrt(A),w=s*Math.tan((vC-Math.acos((m+A-x)/(2*y*b)))/2),N=w/b,S=w/y;Math.abs(N-1)>$f&&this._append`L${e+N*h},${n+N*d}`,this._append`A${s},${s},0,0,${+(d*f>h*g)},${this._x1=e+S*u},${this._y1=n+S*o}`}}arc(e,n,a,i,s,c){if(e=+e,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),u=a*Math.sin(i),o=e+l,h=n+u,d=1^c,A=c?i-s:s-i;this._x1===null?this._append`M${o},${h}`:(Math.abs(this._x1-o)>$f||Math.abs(this._y1-h)>$f)&&this._append`L${o},${h}`,a&&(A<0&&(A=A%xC+xC),A>cL?this._append`A${a},${a},0,1,${d},${e-l},${n-u}A${a},${a},0,1,${d},${this._x1=o},${this._y1=h}`:A>$f&&this._append`A${a},${a},0,${+(A>=vC)},${d},${this._x1=e+a*Math.cos(s)},${this._y1=n+a*Math.sin(s)}`)}rect(e,n,a,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function s4(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return r},()=>new dL(e)}function o4(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function vO(r){this._context=r}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function Tx(r){return new vO(r)}function xO(r){return r[0]}function yO(r){return r[1]}function bO(r,e){var n=ao(!0),a=null,i=Tx,s=null,c=s4(l);r=typeof r=="function"?r:r===void 0?xO:ao(r),e=typeof e=="function"?e:e===void 0?yO:ao(e);function l(u){var o,h=(u=o4(u)).length,d,A=!1,f;for(a==null&&(s=i(f=c())),o=0;o<=h;++o)!(o<h&&n(d=u[o],o,u))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+r(d,o,u),+e(d,o,u));if(f)return s=null,f+""||null}return l.x=function(u){return arguments.length?(r=typeof u=="function"?u:ao(+u),l):r},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:ao(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ao(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),l):i},l.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),l):a},l}function t1(r,e,n){var a=null,i=ao(!0),s=null,c=Tx,l=null,u=s4(o);r=typeof r=="function"?r:r===void 0?xO:ao(+r),e=typeof e=="function"?e:ao(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yO:ao(+n);function o(d){var A,f,g,m=(d=o4(d)).length,x,y=!1,b,w=new Array(m),N=new Array(m);for(s==null&&(l=c(b=u())),A=0;A<=m;++A){if(!(A<m&&i(x=d[A],A,d))===y)if(y=!y)f=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=A-1;g>=f;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}y&&(w[A]=+r(x,A,d),N[A]=+e(x,A,d),l.point(a?+a(x,A,d):w[A],n?+n(x,A,d):N[A]))}if(b)return l=null,b+""||null}function h(){return bO().defined(i).curve(c).context(s)}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:ao(+d),a=null,o):r},o.x0=function(d){return arguments.length?(r=typeof d=="function"?d:ao(+d),o):r},o.x1=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:ao(+d),o):a},o.y=function(d){return arguments.length?(e=typeof d=="function"?d:ao(+d),n=null,o):e},o.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ao(+d),o):e},o.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ao(+d),o):n},o.lineX0=o.lineY0=function(){return h().x(r).y(e)},o.lineY1=function(){return h().x(r).y(n)},o.lineX1=function(){return h().x(a).y(e)},o.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ao(!!d),o):i},o.curve=function(d){return arguments.length?(c=d,s!=null&&(l=c(s)),o):c},o.context=function(d){return arguments.length?(d==null?s=l=null:l=c(s=d),o):s},o}class wO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function hL(r){return new wO(r,!0)}function AL(r){return new wO(r,!1)}const l4={draw(r,e){const n=Ah(e/mv);r.moveTo(n,0),r.arc(0,0,n,0,Ix)}},fL={draw(r,e){const n=Ah(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},jO=Ah(1/3),pL=jO*2,mL={draw(r,e){const n=Ah(e/pL),a=n*jO;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},gL={draw(r,e){const n=Ah(e),a=-n/2;r.rect(a,a,n,n)}},vL=.8908130915292852,CO=pv(mv/10)/pv(7*mv/10),xL=pv(Ix/10)*CO,yL=-mO(Ix/10)*CO,bL={draw(r,e){const n=Ah(e*vL),a=xL*n,i=yL*n;r.moveTo(0,-n),r.lineTo(a,i);for(let s=1;s<5;++s){const c=Ix*s/5,l=mO(c),u=pv(c);r.lineTo(u*n,-l*n),r.lineTo(l*a-u*i,u*a+l*i)}r.closePath()}},Oy=Ah(3),wL={draw(r,e){const n=-Ah(e/(Oy*3));r.moveTo(0,n*2),r.lineTo(-Oy*n,-n),r.lineTo(Oy*n,-n),r.closePath()}},Fd=-.5,Dd=Ah(3)/2,yC=1/Ah(12),jL=(yC/2+1)*3,CL={draw(r,e){const n=Ah(e/jL),a=n/2,i=n*yC,s=a,c=n*yC+n,l=-s,u=c;r.moveTo(a,i),r.lineTo(s,c),r.lineTo(l,u),r.lineTo(Fd*a-Dd*i,Dd*a+Fd*i),r.lineTo(Fd*s-Dd*c,Dd*s+Fd*c),r.lineTo(Fd*l-Dd*u,Dd*l+Fd*u),r.lineTo(Fd*a+Dd*i,Fd*i-Dd*a),r.lineTo(Fd*s+Dd*c,Fd*c-Dd*s),r.lineTo(Fd*l+Dd*u,Fd*u-Dd*l),r.closePath()}};function NL(r,e){let n=null,a=s4(i);r=typeof r=="function"?r:ao(r||l4),e=typeof e=="function"?e:ao(e===void 0?64:+e);function i(){let s;if(n||(n=s=a()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:ao(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ao(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function gv(){}function vv(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function NO(r){this._context=r}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function SL(r){return new NO(r)}function SO(r){this._context=r}SO.prototype={areaStart:gv,areaEnd:gv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:vv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function BL(r){return new SO(r)}function BO(r){this._context=r}BO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:vv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function EL(r){return new BO(r)}function EO(r){this._context=r}EO.prototype={areaStart:gv,areaEnd:gv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function IL(r){return new EO(r)}function XB(r){return r<0?-1:1}function YB(r,e,n){var a=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(a||i<0&&-0),c=(n-r._y1)/(i||a<0&&-0),l=(s*i+c*a)/(a+i);return(XB(s)+XB(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(l))||0}function ZB(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function ky(r,e,n){var a=r._x0,i=r._y0,s=r._x1,c=r._y1,l=(s-a)/3;r._context.bezierCurveTo(a+l,i+l*e,s-l,c-l*n,s,c)}function xv(r){this._context=r}xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ky(this,this._t0,ZB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,ky(this,ZB(this,n=YB(this,r,e)),n);break;default:ky(this,this._t0,n=YB(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function IO(r){this._context=new TO(r)}(IO.prototype=Object.create(xv.prototype)).point=function(r,e){xv.prototype.point.call(this,e,r)};function TO(r){this._context=r}TO.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,a,i,s){this._context.bezierCurveTo(e,r,a,n,s,i)}};function TL(r){return new xv(r)}function _L(r){return new IO(r)}function _O(r){this._context=r}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var a=JB(r),i=JB(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],r[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function JB(r){var e,n=r.length-1,a,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=r[0]+2*r[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*r[e]+2*r[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)a=i[e]/s[e-1],s[e]-=a,c[e]-=a*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(r[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function OL(r){return new _O(r)}function _x(r,e){this._context=r,this._t=e}_x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function kL(r){return new _x(r,.5)}function PL(r){return new _x(r,0)}function FL(r){return new _x(r,1)}function tm(r,e){if((c=r.length)>1)for(var n=1,a,i,s=r[e[0]],c,l=s.length;n<c;++n)for(i=s,s=r[e[n]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function bC(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DL(r,e){return r[e]}function ML(r){const e=[];return e.key=r,e}function RL(){var r=ao([]),e=bC,n=tm,a=DL;function i(s){var c=Array.from(r.apply(this,arguments),ML),l,u=c.length,o=-1,h;for(const d of s)for(l=0,++o;l<u;++l)(c[l][o]=[0,+a(d,c[l].key,o,s)]).data=d;for(l=0,h=o4(e(c));l<u;++l)c[h[l]].index=l;return n(c,h),c}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:ao(Array.from(s)),i):r},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:ao(+s),i):a},i.order=function(s){return arguments.length?(e=s==null?bC:typeof s=="function"?s:ao(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??tm,i):n},i}function LL(r,e){if((a=r.length)>0){for(var n,a,i=0,s=r[0].length,c;i<s;++i){for(c=n=0;n<a;++n)c+=r[n][i][1]||0;if(c)for(n=0;n<a;++n)r[n][i][1]/=c}tm(r,e)}}function UL(r,e){if((i=r.length)>0){for(var n=0,a=r[e[0]],i,s=a.length;n<s;++n){for(var c=0,l=0;c<i;++c)l+=r[c][n][1]||0;a[n][1]+=a[n][0]=-l/2}tm(r,e)}}function HL(r,e){if(!(!((c=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var n=0,a=1,i,s,c;a<s;++a){for(var l=0,u=0,o=0;l<c;++l){for(var h=r[e[l]],d=h[a][1]||0,A=h[a-1][1]||0,f=(d-A)/2,g=0;g<l;++g){var m=r[e[g]],x=m[a][1]||0,y=m[a-1][1]||0;f+=x-y}u+=d,o+=f*d}i[a-1][1]+=i[a-1][0]=n,u&&(n-=o/u)}i[a-1][1]+=i[a-1][0]=n,tm(r,e)}}function eg(r){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(r)}var QL=["type","size","sizeType"];function wC(){return wC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},wC.apply(this,arguments)}function eE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function tE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(a){WL(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function WL(r,e,n){return e=$L(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function $L(r){var e=VL(r,"string");return eg(e)=="symbol"?e:e+""}function VL(r,e){if(eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zL(r,e){if(r==null)return{};var n=KL(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function KL(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var OO={symbolCircle:l4,symbolCross:fL,symbolDiamond:mL,symbolSquare:gL,symbolStar:bL,symbolTriangle:wL,symbolWye:CL},GL=Math.PI/180,qL=function(e){var n="symbol".concat(Ex(e));return OO[n]||l4},XL=function(e,n,a){if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*GL;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YL=function(e,n){OO["symbol".concat(Ex(e))]=n},c4=function(e){var n=e.type,a=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,c=e.sizeType,l=c===void 0?"area":c,u=zL(e,QL),o=tE(tE({},u),{},{type:a,size:s,sizeType:l}),h=function(){var x=qL(a),y=NL().type(x).size(XL(s,l,a));return y()},d=o.className,A=o.cx,f=o.cy,g=ka(o,!0);return A===+A&&f===+f&&s===+s?bt.createElement("path",wC({},g,{className:vi("recharts-symbols",d),transform:"translate(".concat(A,", ").concat(f,")"),d:h()})):null};c4.registerSymbol=YL;function rm(r){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(r)}function jC(){return jC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},jC.apply(this,arguments)}function rE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ZL(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(a){tg(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function JL(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e7(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,PO(a.key),a)}}function t7(r,e,n){return e&&e7(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function r7(r,e,n){return e=yv(e),n7(r,kO()?Reflect.construct(e,n||[],yv(r).constructor):e.apply(r,n))}function n7(r,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a7(r)}function a7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!r})()}function yv(r){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(r)}function i7(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&CC(r,e)}function CC(r,e){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},CC(r,e)}function tg(r,e,n){return e=PO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PO(r){var e=s7(r,"string");return rm(e)=="symbol"?e:e+""}function s7(r,e){if(rm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Md=32,u4=(function(r){function e(){return JL(this,e),r7(this,e,arguments)}return i7(e,r),t7(e,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Md/2,c=Md/6,l=Md/3,u=a.inactive?i:a.color;if(a.type==="plainline")return bt.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Md,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return bt.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Md,"M").concat(2*l,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return bt.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Md/8,"h").concat(Md,"v").concat(Md*3/4,"h").concat(-Md,"z"),className:"recharts-legend-icon"});if(bt.isValidElement(a.legendIcon)){var o=ZL({},a);return delete o.legendIcon,bt.cloneElement(a.legendIcon,o)}return bt.createElement(c4,{fill:u,cx:s,cy:s,size:Md,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,c=i.iconSize,l=i.layout,u=i.formatter,o=i.inactiveColor,h={x:0,y:0,width:Md,height:Md},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var m=f.formatter||u,x=vi(tg(tg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Za(f.value)?null:f.value;hh(!Za(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?o:f.color;return bt.createElement("li",jC({className:x,style:d,key:"legend-item-".concat(g)},ip(a.props,f,g)),bt.createElement(mC,{width:c,height:c,viewBox:h,style:A},a.renderIcon(f)),bt.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,f,g):y))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,c=a.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return bt.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(P.PureComponent);tg(u4,"displayName","Legend");tg(u4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Py,nE;function o7(){if(nE)return Py;nE=1;var r=Nx();function e(){this.__data__=new r,this.size=0}return Py=e,Py}var Fy,aE;function l7(){if(aE)return Fy;aE=1;function r(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return Fy=r,Fy}var Dy,iE;function c7(){if(iE)return Dy;iE=1;function r(e){return this.__data__.get(e)}return Dy=r,Dy}var My,sE;function u7(){if(sE)return My;sE=1;function r(e){return this.__data__.has(e)}return My=r,My}var Ry,oE;function d7(){if(oE)return Ry;oE=1;var r=Nx(),e=e4(),n=t4(),a=200;function i(s,c){var l=this.__data__;if(l instanceof r){var u=l.__data__;if(!e||u.length<a-1)return u.push([s,c]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,c),this.size=l.size,this}return Ry=i,Ry}var Ly,lE;function FO(){if(lE)return Ly;lE=1;var r=Nx(),e=o7(),n=l7(),a=c7(),i=u7(),s=d7();function c(l){var u=this.__data__=new r(l);this.size=u.size}return c.prototype.clear=e,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,Ly=c,Ly}var Uy,cE;function h7(){if(cE)return Uy;cE=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return Uy=e,Uy}var Hy,uE;function A7(){if(uE)return Hy;uE=1;function r(e){return this.__data__.has(e)}return Hy=r,Hy}var Qy,dE;function DO(){if(dE)return Qy;dE=1;var r=t4(),e=h7(),n=A7();function a(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new r;++s<c;)this.add(i[s])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,Qy=a,Qy}var Wy,hE;function MO(){if(hE)return Wy;hE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(e[a],a,e))return!0;return!1}return Wy=r,Wy}var $y,AE;function RO(){if(AE)return $y;AE=1;function r(e,n){return e.has(n)}return $y=r,$y}var Vy,fE;function LO(){if(fE)return Vy;fE=1;var r=DO(),e=MO(),n=RO(),a=1,i=2;function s(c,l,u,o,h,d){var A=u&a,f=c.length,g=l.length;if(f!=g&&!(A&&g>f))return!1;var m=d.get(c),x=d.get(l);if(m&&x)return m==l&&x==c;var y=-1,b=!0,w=u&i?new r:void 0;for(d.set(c,l),d.set(l,c);++y<f;){var N=c[y],S=l[y];if(o)var C=A?o(S,N,y,l,c,d):o(N,S,y,c,l,d);if(C!==void 0){if(C)continue;b=!1;break}if(w){if(!e(l,function(k,W){if(!n(w,W)&&(N===k||h(N,k,u,o,d)))return w.push(W)})){b=!1;break}}else if(!(N===S||h(N,S,u,o,d))){b=!1;break}}return d.delete(c),d.delete(l),b}return Vy=s,Vy}var zy,pE;function f7(){if(pE)return zy;pE=1;var r=Dh(),e=r.Uint8Array;return zy=e,zy}var Ky,mE;function p7(){if(mE)return Ky;mE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i,s){a[++n]=[s,i]}),a}return Ky=r,Ky}var Gy,gE;function d4(){if(gE)return Gy;gE=1;function r(e){var n=-1,a=Array(e.size);return e.forEach(function(i){a[++n]=i}),a}return Gy=r,Gy}var qy,vE;function m7(){if(vE)return qy;vE=1;var r=Fg(),e=f7(),n=JN(),a=LO(),i=p7(),s=d4(),c=1,l=2,u="[object Boolean]",o="[object Date]",h="[object Error]",d="[object Map]",A="[object Number]",f="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,N=w?w.valueOf:void 0;function S(C,k,W,q,te,K,X){switch(W){case b:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case y:return!(C.byteLength!=k.byteLength||!K(new e(C),new e(k)));case u:case o:case A:return n(+C,+k);case h:return C.name==k.name&&C.message==k.message;case f:case m:return C==k+"";case d:var O=i;case g:var le=q&c;if(O||(O=s),C.size!=k.size&&!le)return!1;var z=X.get(C);if(z)return z==k;q|=l,X.set(C,k);var R=a(O(C),O(k),q,te,K,X);return X.delete(C),R;case x:if(N)return N.call(C)==N.call(k)}return!1}return qy=S,qy}var Xy,xE;function UO(){if(xE)return Xy;xE=1;function r(e,n){for(var a=-1,i=n.length,s=e.length;++a<i;)e[s+a]=n[a];return e}return Xy=r,Xy}var Yy,yE;function g7(){if(yE)return Yy;yE=1;var r=UO(),e=Lu();function n(a,i,s){var c=i(a);return e(a)?c:r(c,s(a))}return Yy=n,Yy}var Zy,bE;function v7(){if(bE)return Zy;bE=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,s=0,c=[];++a<i;){var l=e[a];n(l,a,e)&&(c[s++]=l)}return c}return Zy=r,Zy}var Jy,wE;function x7(){if(wE)return Jy;wE=1;function r(){return[]}return Jy=r,Jy}var eb,jE;function y7(){if(jE)return eb;jE=1;var r=v7(),e=x7(),n=Object.prototype,a=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(c){return c==null?[]:(c=Object(c),r(i(c),function(l){return a.call(c,l)}))}:e;return eb=s,eb}var tb,CE;function b7(){if(CE)return tb;CE=1;function r(e,n){for(var a=-1,i=Array(e);++a<e;)i[a]=n(a);return i}return tb=r,tb}var rb,NE;function w7(){if(NE)return rb;NE=1;var r=xA(),e=yA(),n="[object Arguments]";function a(i){return e(i)&&r(i)==n}return rb=a,rb}var nb,SE;function h4(){if(SE)return nb;SE=1;var r=w7(),e=yA(),n=Object.prototype,a=n.hasOwnProperty,i=n.propertyIsEnumerable,s=r((function(){return arguments})())?r:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return nb=s,nb}var _0={exports:{}},ab,BE;function j7(){if(BE)return ab;BE=1;function r(){return!1}return ab=r,ab}_0.exports;var EE;function HO(){return EE||(EE=1,(function(r,e){var n=Dh(),a=j7(),i=e&&!e.nodeType&&e,s=i&&!0&&r&&!r.nodeType&&r,c=s&&s.exports===i,l=c?n.Buffer:void 0,u=l?l.isBuffer:void 0,o=u||a;r.exports=o})(_0,_0.exports)),_0.exports}var ib,IE;function A4(){if(IE)return ib;IE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,i){var s=typeof a;return i=i??r,!!i&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ib=n,ib}var sb,TE;function f4(){if(TE)return sb;TE=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return sb=e,sb}var ob,_E;function C7(){if(_E)return ob;_E=1;var r=xA(),e=f4(),n=yA(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",o="[object Map]",h="[object Number]",d="[object Object]",A="[object RegExp]",f="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",W="[object Uint8ClampedArray]",q="[object Uint16Array]",te="[object Uint32Array]",K={};K[b]=K[w]=K[N]=K[S]=K[C]=K[k]=K[W]=K[q]=K[te]=!0,K[a]=K[i]=K[x]=K[s]=K[y]=K[c]=K[l]=K[u]=K[o]=K[h]=K[d]=K[A]=K[f]=K[g]=K[m]=!1;function X(O){return n(O)&&e(O.length)&&!!K[r(O)]}return ob=X,ob}var lb,OE;function QO(){if(OE)return lb;OE=1;function r(e){return function(n){return e(n)}}return lb=r,lb}var O0={exports:{}};O0.exports;var kE;function N7(){return kE||(kE=1,(function(r,e){var n=lO(),a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===a,c=s&&n.process,l=(function(){try{var u=i&&i.require&&i.require("util").types;return u||c&&c.binding&&c.binding("util")}catch{}})();r.exports=l})(O0,O0.exports)),O0.exports}var cb,PE;function WO(){if(PE)return cb;PE=1;var r=C7(),e=QO(),n=N7(),a=n&&n.isTypedArray,i=a?e(a):r;return cb=i,cb}var ub,FE;function S7(){if(FE)return ub;FE=1;var r=b7(),e=h4(),n=Lu(),a=HO(),i=A4(),s=WO(),c=Object.prototype,l=c.hasOwnProperty;function u(o,h){var d=n(o),A=!d&&e(o),f=!d&&!A&&a(o),g=!d&&!A&&!f&&s(o),m=d||A||f||g,x=m?r(o.length,String):[],y=x.length;for(var b in o)(h||l.call(o,b))&&!(m&&(b=="length"||f&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&x.push(b);return x}return ub=u,ub}var db,DE;function B7(){if(DE)return db;DE=1;var r=Object.prototype;function e(n){var a=n&&n.constructor,i=typeof a=="function"&&a.prototype||r;return n===i}return db=e,db}var hb,ME;function $O(){if(ME)return hb;ME=1;function r(e,n){return function(a){return e(n(a))}}return hb=r,hb}var Ab,RE;function E7(){if(RE)return Ab;RE=1;var r=$O(),e=r(Object.keys,Object);return Ab=e,Ab}var fb,LE;function I7(){if(LE)return fb;LE=1;var r=B7(),e=E7(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!r(s))return e(s);var c=[];for(var l in Object(s))a.call(s,l)&&l!="constructor"&&c.push(l);return c}return fb=i,fb}var pb,UE;function Rg(){if(UE)return pb;UE=1;var r=ZN(),e=f4();function n(a){return a!=null&&e(a.length)&&!r(a)}return pb=n,pb}var mb,HE;function Ox(){if(HE)return mb;HE=1;var r=S7(),e=I7(),n=Rg();function a(i){return n(i)?r(i):e(i)}return mb=a,mb}var gb,QE;function T7(){if(QE)return gb;QE=1;var r=g7(),e=y7(),n=Ox();function a(i){return r(i,n,e)}return gb=a,gb}var vb,WE;function _7(){if(WE)return vb;WE=1;var r=T7(),e=1,n=Object.prototype,a=n.hasOwnProperty;function i(s,c,l,u,o,h){var d=l&e,A=r(s),f=A.length,g=r(c),m=g.length;if(f!=m&&!d)return!1;for(var x=f;x--;){var y=A[x];if(!(d?y in c:a.call(c,y)))return!1}var b=h.get(s),w=h.get(c);if(b&&w)return b==c&&w==s;var N=!0;h.set(s,c),h.set(c,s);for(var S=d;++x<f;){y=A[x];var C=s[y],k=c[y];if(u)var W=d?u(k,C,y,c,s,h):u(C,k,y,s,c,h);if(!(W===void 0?C===k||o(C,k,l,u,h):W)){N=!1;break}S||(S=y=="constructor")}if(N&&!S){var q=s.constructor,te=c.constructor;q!=te&&"constructor"in s&&"constructor"in c&&!(typeof q=="function"&&q instanceof q&&typeof te=="function"&&te instanceof te)&&(N=!1)}return h.delete(s),h.delete(c),N}return vb=i,vb}var xb,$E;function O7(){if($E)return xb;$E=1;var r=up(),e=Dh(),n=r(e,"DataView");return xb=n,xb}var yb,VE;function k7(){if(VE)return yb;VE=1;var r=up(),e=Dh(),n=r(e,"Promise");return yb=n,yb}var bb,zE;function VO(){if(zE)return bb;zE=1;var r=up(),e=Dh(),n=r(e,"Set");return bb=n,bb}var wb,KE;function P7(){if(KE)return wb;KE=1;var r=up(),e=Dh(),n=r(e,"WeakMap");return wb=n,wb}var jb,GE;function F7(){if(GE)return jb;GE=1;var r=O7(),e=e4(),n=k7(),a=VO(),i=P7(),s=xA(),c=cO(),l="[object Map]",u="[object Object]",o="[object Promise]",h="[object Set]",d="[object WeakMap]",A="[object DataView]",f=c(r),g=c(e),m=c(n),x=c(a),y=c(i),b=s;return(r&&b(new r(new ArrayBuffer(1)))!=A||e&&b(new e)!=l||n&&b(n.resolve())!=o||a&&b(new a)!=h||i&&b(new i)!=d)&&(b=function(w){var N=s(w),S=N==u?w.constructor:void 0,C=S?c(S):"";if(C)switch(C){case f:return A;case g:return l;case m:return o;case x:return h;case y:return d}return N}),jb=b,jb}var Cb,qE;function D7(){if(qE)return Cb;qE=1;var r=FO(),e=LO(),n=m7(),a=_7(),i=F7(),s=Lu(),c=HO(),l=WO(),u=1,o="[object Arguments]",h="[object Array]",d="[object Object]",A=Object.prototype,f=A.hasOwnProperty;function g(m,x,y,b,w,N){var S=s(m),C=s(x),k=S?h:i(m),W=C?h:i(x);k=k==o?d:k,W=W==o?d:W;var q=k==d,te=W==d,K=k==W;if(K&&c(m)){if(!c(x))return!1;S=!0,q=!1}if(K&&!q)return N||(N=new r),S||l(m)?e(m,x,y,b,w,N):n(m,x,k,y,b,w,N);if(!(y&u)){var X=q&&f.call(m,"__wrapped__"),O=te&&f.call(x,"__wrapped__");if(X||O){var le=X?m.value():m,z=O?x.value():x;return N||(N=new r),w(le,z,y,b,N)}}return K?(N||(N=new r),a(m,x,y,b,w,N)):!1}return Cb=g,Cb}var Nb,XE;function p4(){if(XE)return Nb;XE=1;var r=D7(),e=yA();function n(a,i,s,c,l){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:r(a,i,s,c,n,l)}return Nb=n,Nb}var Sb,YE;function M7(){if(YE)return Sb;YE=1;var r=FO(),e=p4(),n=1,a=2;function i(s,c,l,u){var o=l.length,h=o,d=!u;if(s==null)return!h;for(s=Object(s);o--;){var A=l[o];if(d&&A[2]?A[1]!==s[A[0]]:!(A[0]in s))return!1}for(;++o<h;){A=l[o];var f=A[0],g=s[f],m=A[1];if(d&&A[2]){if(g===void 0&&!(f in s))return!1}else{var x=new r;if(u)var y=u(g,m,f,s,c,x);if(!(y===void 0?e(m,g,n|a,u,x):y))return!1}}return!0}return Sb=i,Sb}var Bb,ZE;function zO(){if(ZE)return Bb;ZE=1;var r=hf();function e(n){return n===n&&!r(n)}return Bb=e,Bb}var Eb,JE;function R7(){if(JE)return Eb;JE=1;var r=zO(),e=Ox();function n(a){for(var i=e(a),s=i.length;s--;){var c=i[s],l=a[c];i[s]=[c,l,r(l)]}return i}return Eb=n,Eb}var Ib,e5;function KO(){if(e5)return Ib;e5=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return Ib=r,Ib}var Tb,t5;function L7(){if(t5)return Tb;t5=1;var r=M7(),e=R7(),n=KO();function a(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(c){return c===i||r(c,i,s)}}return Tb=a,Tb}var _b,r5;function U7(){if(r5)return _b;r5=1;function r(e,n){return e!=null&&n in Object(e)}return _b=r,_b}var Ob,n5;function H7(){if(n5)return Ob;n5=1;var r=hO(),e=h4(),n=Lu(),a=A4(),i=f4(),s=Bx();function c(l,u,o){u=r(u,l);for(var h=-1,d=u.length,A=!1;++h<d;){var f=s(u[h]);if(!(A=l!=null&&o(l,f)))break;l=l[f]}return A||++h!=d?A:(d=l==null?0:l.length,!!d&&i(d)&&a(f,d)&&(n(l)||e(l)))}return Ob=c,Ob}var kb,a5;function Q7(){if(a5)return kb;a5=1;var r=U7(),e=H7();function n(a,i){return a!=null&&e(a,i,r)}return kb=n,kb}var Pb,i5;function W7(){if(i5)return Pb;i5=1;var r=p4(),e=AO(),n=Q7(),a=YN(),i=zO(),s=KO(),c=Bx(),l=1,u=2;function o(h,d){return a(h)&&i(d)?s(c(h),d):function(A){var f=e(A,h);return f===void 0&&f===d?n(A,h):r(d,f,l|u)}}return Pb=o,Pb}var Fb,s5;function km(){if(s5)return Fb;s5=1;function r(e){return e}return Fb=r,Fb}var Db,o5;function $7(){if(o5)return Db;o5=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Db=r,Db}var Mb,l5;function V7(){if(l5)return Mb;l5=1;var r=n4();function e(n){return function(a){return r(a,n)}}return Mb=e,Mb}var Rb,c5;function z7(){if(c5)return Rb;c5=1;var r=$7(),e=V7(),n=YN(),a=Bx();function i(s){return n(s)?r(a(s)):e(s)}return Rb=i,Rb}var Lb,u5;function Mh(){if(u5)return Lb;u5=1;var r=L7(),e=W7(),n=km(),a=Lu(),i=z7();function s(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?e(c[0],c[1]):r(c):i(c)}return Lb=s,Lb}var Ub,d5;function GO(){if(d5)return Ub;d5=1;function r(e,n,a,i){for(var s=e.length,c=a+(i?1:-1);i?c--:++c<s;)if(n(e[c],c,e))return c;return-1}return Ub=r,Ub}var Hb,h5;function K7(){if(h5)return Hb;h5=1;function r(e){return e!==e}return Hb=r,Hb}var Qb,A5;function G7(){if(A5)return Qb;A5=1;function r(e,n,a){for(var i=a-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Qb=r,Qb}var Wb,f5;function q7(){if(f5)return Wb;f5=1;var r=GO(),e=K7(),n=G7();function a(i,s,c){return s===s?n(i,s,c):r(i,e,c)}return Wb=a,Wb}var $b,p5;function X7(){if(p5)return $b;p5=1;var r=q7();function e(n,a){var i=n==null?0:n.length;return!!i&&r(n,a,0)>-1}return $b=e,$b}var Vb,m5;function Y7(){if(m5)return Vb;m5=1;function r(e,n,a){for(var i=-1,s=e==null?0:e.length;++i<s;)if(a(n,e[i]))return!0;return!1}return Vb=r,Vb}var zb,g5;function Z7(){if(g5)return zb;g5=1;function r(){}return zb=r,zb}var Kb,v5;function J7(){if(v5)return Kb;v5=1;var r=VO(),e=Z7(),n=d4(),a=1/0,i=r&&1/n(new r([,-0]))[1]==a?function(s){return new r(s)}:e;return Kb=i,Kb}var Gb,x5;function eU(){if(x5)return Gb;x5=1;var r=DO(),e=X7(),n=Y7(),a=RO(),i=J7(),s=d4(),c=200;function l(u,o,h){var d=-1,A=e,f=u.length,g=!0,m=[],x=m;if(h)g=!1,A=n;else if(f>=c){var y=o?null:i(u);if(y)return s(y);g=!1,A=a,x=new r}else x=o?[]:m;e:for(;++d<f;){var b=u[d],w=o?o(b):b;if(b=h||b!==0?b:0,g&&w===w){for(var N=x.length;N--;)if(x[N]===w)continue e;o&&x.push(w),m.push(b)}else A(x,w,h)||(x!==m&&x.push(w),m.push(b))}return m}return Gb=l,Gb}var qb,y5;function tU(){if(y5)return qb;y5=1;var r=Mh(),e=eU();function n(a,i){return a&&a.length?e(a,r(i,2)):[]}return qb=n,qb}var rU=tU();const b5=es(rU);function qO(r,e,n){return e===!0?b5(r,n):Za(e)?b5(r,e):r}function nm(r){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(r)}var nU=["ref"];function w5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function aA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(a){kx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function aU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function j5(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,YO(a.key),a)}}function iU(r,e,n){return e&&j5(r.prototype,e),n&&j5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function sU(r,e,n){return e=bv(e),oU(r,XO()?Reflect.construct(e,n||[],bv(r).constructor):e.apply(r,n))}function oU(r,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lU(r)}function lU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function XO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!r})()}function bv(r){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(r)}function cU(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&NC(r,e)}function NC(r,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},NC(r,e)}function kx(r,e,n){return e=YO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function YO(r){var e=uU(r,"string");return nm(e)=="symbol"?e:e+""}function uU(r,e){if(nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function dU(r,e){if(r==null)return{};var n=hU(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function hU(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function AU(r){return r.value}function fU(r,e){if(bt.isValidElement(r))return bt.cloneElement(r,e);if(typeof r=="function")return bt.createElement(r,e);e.ref;var n=dU(e,nU);return bt.createElement(u4,n)}var C5=1,Bh=(function(r){function e(){var n;aU(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=sU(this,e,[].concat(i)),kx(n,"lastBoundingBox",{width:-1,height:-1}),n}return cU(e,r),iU(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>C5||Math.abs(i.height-this.lastBoundingBox.height)>C5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?aA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,c=i.align,l=i.verticalAlign,u=i.margin,o=i.chartWidth,h=i.chartHeight,d,A;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((o||0)-f.width)/2}}else d=c==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();A={top:((h||0)-g.height)/2}}else A=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return aA(aA({},d),A)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,c=i.width,l=i.height,u=i.wrapperStyle,o=i.payloadUniqBy,h=i.payload,d=aA(aA({position:"absolute",width:c||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return bt.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){a.wrapperNode=f}},fU(s,aA(aA({},this.props),{},{payload:qO(h,o,AU)})))}}],[{key:"getWithHeight",value:function(a,i){var s=aA(aA({},this.defaultProps),a.props),c=s.layout;return c==="vertical"&&gn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||i}:null}}])})(P.PureComponent);kx(Bh,"displayName","Legend");kx(Bh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xb,N5;function pU(){if(N5)return Xb;N5=1;var r=Fg(),e=h4(),n=Lu(),a=r?r.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(a&&s&&s[a])}return Xb=i,Xb}var Yb,S5;function ZO(){if(S5)return Yb;S5=1;var r=UO(),e=pU();function n(a,i,s,c,l){var u=-1,o=a.length;for(s||(s=e),l||(l=[]);++u<o;){var h=a[u];i>0&&s(h)?i>1?n(h,i-1,s,c,l):r(l,h):c||(l[l.length]=h)}return l}return Yb=n,Yb}var Zb,B5;function mU(){if(B5)return Zb;B5=1;function r(e){return function(n,a,i){for(var s=-1,c=Object(n),l=i(n),u=l.length;u--;){var o=l[e?u:++s];if(a(c[o],o,c)===!1)break}return n}}return Zb=r,Zb}var Jb,E5;function gU(){if(E5)return Jb;E5=1;var r=mU(),e=r();return Jb=e,Jb}var ew,I5;function JO(){if(I5)return ew;I5=1;var r=gU(),e=Ox();function n(a,i){return a&&r(a,i,e)}return ew=n,ew}var tw,T5;function vU(){if(T5)return tw;T5=1;var r=Rg();function e(n,a){return function(i,s){if(i==null)return i;if(!r(i))return n(i,s);for(var c=i.length,l=a?c:-1,u=Object(i);(a?l--:++l<c)&&s(u[l],l,u)!==!1;);return i}}return tw=e,tw}var rw,_5;function m4(){if(_5)return rw;_5=1;var r=JO(),e=vU(),n=e(r);return rw=n,rw}var nw,O5;function ek(){if(O5)return nw;O5=1;var r=m4(),e=Rg();function n(a,i){var s=-1,c=e(a)?Array(a.length):[];return r(a,function(l,u,o){c[++s]=i(l,u,o)}),c}return nw=n,nw}var aw,k5;function xU(){if(k5)return aw;k5=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return aw=r,aw}var iw,P5;function yU(){if(P5)return iw;P5=1;var r=Tm();function e(n,a){if(n!==a){var i=n!==void 0,s=n===null,c=n===n,l=r(n),u=a!==void 0,o=a===null,h=a===a,d=r(a);if(!o&&!d&&!l&&n>a||l&&u&&h&&!o&&!d||s&&u&&h||!i&&h||!c)return 1;if(!s&&!l&&!d&&n<a||d&&i&&c&&!s&&!l||o&&i&&c||!u&&c||!h)return-1}return 0}return iw=e,iw}var sw,F5;function bU(){if(F5)return sw;F5=1;var r=yU();function e(n,a,i){for(var s=-1,c=n.criteria,l=a.criteria,u=c.length,o=i.length;++s<u;){var h=r(c[s],l[s]);if(h){if(s>=o)return h;var d=i[s];return h*(d=="desc"?-1:1)}}return n.index-a.index}return sw=e,sw}var ow,D5;function wU(){if(D5)return ow;D5=1;var r=r4(),e=n4(),n=Mh(),a=ek(),i=xU(),s=QO(),c=bU(),l=km(),u=Lu();function o(h,d,A){d.length?d=r(d,function(m){return u(m)?function(x){return e(x,m.length===1?m[0]:m)}:m}):d=[l];var f=-1;d=r(d,s(n));var g=a(h,function(m,x,y){var b=r(d,function(w){return w(m)});return{criteria:b,index:++f,value:m}});return i(g,function(m,x){return c(m,x,A)})}return ow=o,ow}var lw,M5;function jU(){if(M5)return lw;M5=1;function r(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return lw=r,lw}var cw,R5;function CU(){if(R5)return cw;R5=1;var r=jU(),e=Math.max;function n(a,i,s){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,l=-1,u=e(c.length-i,0),o=Array(u);++l<u;)o[l]=c[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=c[l];return h[i]=s(o),r(a,this,h)}}return cw=n,cw}var uw,L5;function NU(){if(L5)return uw;L5=1;function r(e){return function(){return e}}return uw=r,uw}var dw,U5;function tk(){if(U5)return dw;U5=1;var r=up(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return dw=e,dw}var hw,H5;function SU(){if(H5)return hw;H5=1;var r=NU(),e=tk(),n=km(),a=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return hw=a,hw}var Aw,Q5;function BU(){if(Q5)return Aw;Q5=1;var r=800,e=16,n=Date.now;function a(i){var s=0,c=0;return function(){var l=n(),u=e-(l-c);if(c=l,u>0){if(++s>=r)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Aw=a,Aw}var fw,W5;function EU(){if(W5)return fw;W5=1;var r=SU(),e=BU(),n=e(r);return fw=n,fw}var pw,$5;function IU(){if($5)return pw;$5=1;var r=km(),e=CU(),n=EU();function a(i,s){return n(e(i,s,r),i+"")}return pw=a,pw}var mw,V5;function Px(){if(V5)return mw;V5=1;var r=JN(),e=Rg(),n=A4(),a=hf();function i(s,c,l){if(!a(l))return!1;var u=typeof c;return(u=="number"?e(l)&&n(c,l.length):u=="string"&&c in l)?r(l[c],s):!1}return mw=i,mw}var gw,z5;function TU(){if(z5)return gw;z5=1;var r=ZO(),e=wU(),n=IU(),a=Px(),i=n(function(s,c){if(s==null)return[];var l=c.length;return l>1&&a(s,c[0],c[1])?c=[]:l>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(s,r(c,1),[])});return gw=i,gw}var _U=TU();const g4=es(_U);function rg(r){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(r)}function SC(){return SC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},SC.apply(this,arguments)}function OU(r,e){return DU(r)||FU(r,e)||PU(r,e)||kU()}function kU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PU(r,e){if(r){if(typeof r=="string")return K5(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K5(r,e)}}function K5(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function FU(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function DU(r){if(Array.isArray(r))return r}function G5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function vw(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(a){MU(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function MU(r,e,n){return e=RU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function RU(r){var e=LU(r,"string");return rg(e)=="symbol"?e:e+""}function LU(r,e){if(rg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function UU(r){return Array.isArray(r)&&Xl(r[0])&&Xl(r[1])?r.join(" ~ "):r}var HU=function(e){var n=e.separator,a=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,c=e.itemStyle,l=c===void 0?{}:c,u=e.labelStyle,o=u===void 0?{}:u,h=e.payload,d=e.formatter,A=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,m=e.label,x=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(h&&h.length){var X={padding:0,margin:0},O=(A?g4(h,A):h).map(function(le,z){if(le.type==="none")return null;var R=vw({display:"block",paddingTop:4,paddingBottom:4,color:le.color||"#000"},l),ie=le.formatter||d||UU,Ae=le.value,Oe=le.name,be=Ae,Te=Oe;if(ie&&be!=null&&Te!=null){var Y=ie(Ae,Oe,le,z,h);if(Array.isArray(Y)){var Ne=OU(Y,2);be=Ne[0],Te=Ne[1]}else be=Y}return bt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:R},Xl(Te)?bt.createElement("span",{className:"recharts-tooltip-item-name"},Te):null,Xl(Te)?bt.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,bt.createElement("span",{className:"recharts-tooltip-item-value"},be),bt.createElement("span",{className:"recharts-tooltip-item-unit"},le.unit||""))});return bt.createElement("ul",{className:"recharts-tooltip-item-list",style:X},O)}return null},N=vw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=vw({margin:0},o),C=!ci(m),k=C?m:"",W=vi("recharts-default-tooltip",f),q=vi("recharts-tooltip-label",g);C&&x&&h!==void 0&&h!==null&&(k=x(m,h));var te=b?{role:"status","aria-live":"assertive"}:{};return bt.createElement("div",SC({className:W,style:N},te),bt.createElement("p",{className:q,style:S},bt.isValidElement(k)?k:"".concat(k)),w())};function ng(r){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(r)}function r1(r,e,n){return e=QU(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function QU(r){var e=WU(r,"string");return ng(e)=="symbol"?e:e+""}function WU(r,e){if(ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var zm="recharts-tooltip-wrapper",$U={visibility:"hidden"};function VU(r){var e=r.coordinate,n=r.translateX,a=r.translateY;return vi(zm,r1(r1(r1(r1({},"".concat(zm,"-right"),gn(n)&&e&&gn(e.x)&&n>=e.x),"".concat(zm,"-left"),gn(n)&&e&&gn(e.x)&&n<e.x),"".concat(zm,"-bottom"),gn(a)&&e&&gn(e.y)&&a>=e.y),"".concat(zm,"-top"),gn(a)&&e&&gn(e.y)&&a<e.y))}function q5(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.key,i=r.offsetTopLeft,s=r.position,c=r.reverseDirection,l=r.tooltipDimension,u=r.viewBox,o=r.viewBoxDimension;if(s&&gn(s[a]))return s[a];var h=n[a]-l-i,d=n[a]+i;if(e[a])return c[a]?h:d;if(c[a]){var A=h,f=u[a];return A<f?Math.max(d,u[a]):Math.max(h,u[a])}var g=d+l,m=u[a]+o;return g>m?Math.max(h,u[a]):Math.max(d,u[a])}function zU(r){var e=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KU(r){var e=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,i=r.position,s=r.reverseDirection,c=r.tooltipBox,l=r.useTranslate3d,u=r.viewBox,o,h,d;return c.height>0&&c.width>0&&n?(h=q5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),d=q5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),o=zU({translateX:h,translateY:d,useTranslate3d:l})):o=$U,{cssProperties:o,cssClasses:VU({translateX:h,translateY:d,coordinate:n})}}function am(r){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(r)}function X5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Y5(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(a){EC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function GU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qU(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,nk(a.key),a)}}function XU(r,e,n){return e&&qU(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function YU(r,e,n){return e=wv(e),ZU(r,rk()?Reflect.construct(e,n||[],wv(r).constructor):e.apply(r,n))}function ZU(r,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JU(r)}function JU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rk(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!r})()}function wv(r){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(r)}function e9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&BC(r,e)}function BC(r,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},BC(r,e)}function EC(r,e,n){return e=nk(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nk(r){var e=t9(r,"string");return am(e)=="symbol"?e:e+""}function t9(r,e){if(am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Z5=1,r9=(function(r){function e(){var n;GU(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=YU(this,e,[].concat(i)),EC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),EC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var l,u,o,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(o=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&o!==void 0?o:0}})}}),n}return e9(e,r),XU(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>Z5||Math.abs(a.height-this.state.lastBoundingBox.height)>Z5)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.children,h=i.coordinate,d=i.hasPayload,A=i.isAnimationActive,f=i.offset,g=i.position,m=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=KU({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:f,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),N=w.cssClasses,S=w.cssProperties,C=Y5(Y5({transition:A&&s?"transform ".concat(l,"ms ").concat(u):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return bt.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(W){a.wrapperNode=W}},o)}}])})(P.PureComponent),n9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dp={isSsr:n9()};function im(r){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(r)}function J5(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function e3(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(n),!0).forEach(function(a){v4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function a9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function i9(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ik(a.key),a)}}function s9(r,e,n){return e&&i9(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function o9(r,e,n){return e=jv(e),l9(r,ak()?Reflect.construct(e,n||[],jv(r).constructor):e.apply(r,n))}function l9(r,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9(r)}function c9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ak(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!r})()}function jv(r){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(r)}function u9(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&IC(r,e)}function IC(r,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},IC(r,e)}function v4(r,e,n){return e=ik(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ik(r){var e=d9(r,"string");return im(e)=="symbol"?e:e+""}function d9(r,e){if(im(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function h9(r){return r.dataKey}function A9(r,e){return bt.isValidElement(r)?bt.cloneElement(r,e):typeof r=="function"?bt.createElement(r,e):bt.createElement(HU,e)}var sd=(function(r){function e(){return a9(this,e),o9(this,e,arguments)}return u9(e,r),s9(e,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,o=i.content,h=i.coordinate,d=i.filterNull,A=i.isAnimationActive,f=i.offset,g=i.payload,m=i.payloadUniqBy,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,S=g??[];d&&S.length&&(S=qO(g.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),m,h9));var C=S.length>0;return bt.createElement(r9,{allowEscapeViewBox:c,animationDuration:l,animationEasing:u,isAnimationActive:A,active:s,coordinate:h,hasPayload:C,offset:f,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:N},A9(o,e3(e3({},this.props),{},{payload:S})))}}])})(P.PureComponent);v4(sd,"displayName","Tooltip");v4(sd,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xw,t3;function f9(){if(t3)return xw;t3=1;var r=Dh(),e=function(){return r.Date.now()};return xw=e,xw}var yw,r3;function p9(){if(r3)return yw;r3=1;var r=/\s/;function e(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return yw=e,yw}var bw,n3;function m9(){if(n3)return bw;n3=1;var r=p9(),e=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return bw=n,bw}var ww,a3;function sk(){if(a3)return ww;a3=1;var r=m9(),e=hf(),n=Tm(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function u(o){if(typeof o=="number")return o;if(n(o))return a;if(e(o)){var h=typeof o.valueOf=="function"?o.valueOf():o;o=e(h)?h+"":h}if(typeof o!="string")return o===0?o:+o;o=r(o);var d=s.test(o);return d||c.test(o)?l(o.slice(2),d?2:8):i.test(o)?a:+o}return ww=u,ww}var jw,i3;function g9(){if(i3)return jw;i3=1;var r=hf(),e=f9(),n=sk(),a="Expected a function",i=Math.max,s=Math.min;function c(l,u,o){var h,d,A,f,g,m,x=0,y=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(a);u=n(u)||0,r(o)&&(y=!!o.leading,b="maxWait"in o,A=b?i(n(o.maxWait)||0,u):A,w="trailing"in o?!!o.trailing:w);function N(O){var le=h,z=d;return h=d=void 0,x=O,f=l.apply(z,le),f}function S(O){return x=O,g=setTimeout(W,u),y?N(O):f}function C(O){var le=O-m,z=O-x,R=u-le;return b?s(R,A-z):R}function k(O){var le=O-m,z=O-x;return m===void 0||le>=u||le<0||b&&z>=A}function W(){var O=e();if(k(O))return q(O);g=setTimeout(W,C(O))}function q(O){return g=void 0,w&&h?N(O):(h=d=void 0,f)}function te(){g!==void 0&&clearTimeout(g),x=0,h=m=d=g=void 0}function K(){return g===void 0?f:q(e())}function X(){var O=e(),le=k(O);if(h=arguments,d=this,m=O,le){if(g===void 0)return S(m);if(b)return clearTimeout(g),g=setTimeout(W,u),N(m)}return g===void 0&&(g=setTimeout(W,u)),f}return X.cancel=te,X.flush=K,X}return jw=c,jw}var Cw,s3;function v9(){if(s3)return Cw;s3=1;var r=g9(),e=hf(),n="Expected a function";function a(i,s,c){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(n);return e(c)&&(l="leading"in c?!!c.leading:l,u="trailing"in c?!!c.trailing:u),r(i,s,{leading:l,maxWait:s,trailing:u})}return Cw=a,Cw}var x9=v9();const ok=es(x9);function ag(r){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(r)}function o3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function n1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(a){y9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function y9(r,e,n){return e=b9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function b9(r){var e=w9(r,"string");return ag(e)=="symbol"?e:e+""}function w9(r,e){if(ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function j9(r,e){return B9(r)||S9(r,e)||N9(r,e)||C9()}function C9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(r,e){if(r){if(typeof r=="string")return l3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(r,e)}}function l3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function S9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function B9(r){if(Array.isArray(r))return r}var E9=P.forwardRef(function(r,e){var n=r.aspect,a=r.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=r.width,c=s===void 0?"100%":s,l=r.height,u=l===void 0?"100%":l,o=r.minWidth,h=o===void 0?0:o,d=r.minHeight,A=r.maxHeight,f=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,b=r.onResize,w=r.style,N=w===void 0?{}:w,S=P.useRef(null),C=P.useRef();C.current=b,P.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=P.useState({containerWidth:i.width,containerHeight:i.height}),W=j9(k,2),q=W[0],te=W[1],K=P.useCallback(function(O,le){te(function(z){var R=Math.round(O),ie=Math.round(le);return z.containerWidth===R&&z.containerHeight===ie?z:{containerWidth:R,containerHeight:ie}})},[]);P.useEffect(function(){var O=function(Oe){var be,Te=Oe[0].contentRect,Y=Te.width,Ne=Te.height;K(Y,Ne),(be=C.current)===null||be===void 0||be.call(C,Y,Ne)};m>0&&(O=ok(O,m,{trailing:!0,leading:!1}));var le=new ResizeObserver(O),z=S.current.getBoundingClientRect(),R=z.width,ie=z.height;return K(R,ie),le.observe(S.current),function(){le.disconnect()}},[K,m]);var X=P.useMemo(function(){var O=q.containerWidth,le=q.containerHeight;if(O<0||le<0)return null;hh(qf(c)||qf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,u),hh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=qf(c)?O:c,R=qf(u)?le:u;n&&n>0&&(z?R=z/n:R&&(z=R*n),A&&R>A&&(R=A)),hh(z>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,R,c,u,h,d,n);var ie=!Array.isArray(f)&&hA(f.type).endsWith("Chart");return bt.Children.map(f,function(Ae){return bt.isValidElement(Ae)?P.cloneElement(Ae,n1({width:z,height:R},ie?{style:n1({height:"100%",width:"100%",maxHeight:R,maxWidth:z},Ae.props.style)}:{})):Ae})},[n,f,u,A,d,h,q,c]);return bt.createElement("div",{id:x?"".concat(x):void 0,className:vi("recharts-responsive-container",y),style:n1(n1({},N),{},{width:c,height:u,minWidth:h,minHeight:d,maxHeight:A}),ref:S},X)}),Fx=function(e){return null};Fx.displayName="Cell";function ig(r){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(r)}function c3(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function TC(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(a){I9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function I9(r,e,n){return e=T9(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function T9(r){var e=_9(r,"string");return ig(e)=="symbol"?e:e+""}function _9(r,e){if(ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Tp={widthCache:{},cacheCount:0},O9=2e3,k9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u3="recharts_measurement_span";function P9(r){var e=TC({},r);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var W0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dp.isSsr)return{width:0,height:0};var a=P9(n),i=JSON.stringify({text:e,copyStyle:a});if(Tp.widthCache[i])return Tp.widthCache[i];try{var s=document.getElementById(u3);s||(s=document.createElement("span"),s.setAttribute("id",u3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=TC(TC({},k9),a);Object.assign(s.style,c),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return Tp.widthCache[i]=u,++Tp.cacheCount>O9&&(Tp.cacheCount=0,Tp.widthCache={}),u}catch{return{width:0,height:0}}},F9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sg(r){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(r)}function Cv(r,e){return L9(r)||R9(r,e)||M9(r,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9(r,e){if(r){if(typeof r=="string")return d3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d3(r,e)}}function d3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function R9(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function L9(r){if(Array.isArray(r))return r}function U9(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function h3(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,Q9(a.key),a)}}function H9(r,e,n){return e&&h3(r.prototype,e),n&&h3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Q9(r){var e=W9(r,"string");return sg(e)=="symbol"?e:e+""}function W9(r,e){if(sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var A3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},z9=Object.keys(lk),Hp="NaN";function K9(r,e){return r*lk[e]}var a1=(function(){function r(e,n){U9(this,r),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$9.test(n)&&(this.num=NaN,this.unit=""),z9.includes(n)&&(this.num=K9(e,n),this.unit="px")}return H9(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,i=(a=V9.exec(n))!==null&&a!==void 0?a:[],s=Cv(i,3),c=s[1],l=s[2];return new r(parseFloat(c),l??"")}}])})();function ck(r){if(r.includes(Hp))return Hp;for(var e=r;e.includes("*")||e.includes("/");){var n,a=(n=A3.exec(e))!==null&&n!==void 0?n:[],i=Cv(a,4),s=i[1],c=i[2],l=i[3],u=a1.parse(s??""),o=a1.parse(l??""),h=c==="*"?u.multiply(o):u.divide(o);if(h.isNaN())return Hp;e=e.replace(A3,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,A=(d=f3.exec(e))!==null&&d!==void 0?d:[],f=Cv(A,4),g=f[1],m=f[2],x=f[3],y=a1.parse(g??""),b=a1.parse(x??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Hp;e=e.replace(f3,w.toString())}return e}var p3=/\(([^()]*)\)/;function G9(r){for(var e=r;e.includes("(");){var n=p3.exec(e),a=Cv(n,2),i=a[1];e=e.replace(p3,ck(i))}return e}function q9(r){var e=r.replace(/\s+/g,"");return e=G9(e),e=ck(e),e}function X9(r){try{return q9(r)}catch{return Hp}}function Nw(r){var e=X9(r.slice(5,-1));return e===Hp?"":e}var Y9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Z9=["dx","dy","angle","className","breakAll"];function _C(){return _C=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},_C.apply(this,arguments)}function m3(r,e){if(r==null)return{};var n=J9(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function J9(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function g3(r,e){return nH(r)||rH(r,e)||tH(r,e)||eH()}function eH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(r,e){if(r){if(typeof r=="string")return v3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(r,e)}}function v3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function rH(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function nH(r){if(Array.isArray(r))return r}var uk=/[ \f\n\r\t\v\u2028\u2029]+/,dk=function(e){var n=e.children,a=e.breakAll,i=e.style;try{var s=[];ci(n)||(a?s=n.toString().split(""):s=n.toString().split(uk));var c=s.map(function(u){return{word:u,width:W0(u,i).width}}),l=a?0:W0("",i).width;return{wordsWithComputedWidth:c,spaceWidth:l}}catch{return null}},aH=function(e,n,a,i,s){var c=e.maxLines,l=e.children,u=e.style,o=e.breakAll,h=gn(c),d=l,A=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(R,ie){var Ae=ie.word,Oe=ie.width,be=R[R.length-1];if(be&&(i==null||s||be.width+Oe+a<Number(i)))be.words.push(Ae),be.width+=Oe+a;else{var Te={words:[Ae],width:Oe};R.push(Te)}return R},[])},f=A(n),g=function(z){return z.reduce(function(R,ie){return R.width>ie.width?R:ie})};if(!h)return f;for(var m="",x=function(z){var R=d.slice(0,z),ie=dk({breakAll:o,style:u,children:R+m}).wordsWithComputedWidth,Ae=A(ie),Oe=Ae.length>c||g(Ae).width>Number(i);return[Oe,Ae]},y=0,b=d.length-1,w=0,N;y<=b&&w<=d.length-1;){var S=Math.floor((y+b)/2),C=S-1,k=x(C),W=g3(k,2),q=W[0],te=W[1],K=x(S),X=g3(K,1),O=X[0];if(!q&&!O&&(y=S+1),q&&O&&(b=S-1),!q&&O){N=te;break}w++}return N||f},x3=function(e){var n=ci(e)?[]:e.toString().split(uk);return[{words:n}]},iH=function(e){var n=e.width,a=e.scaleToFit,i=e.children,s=e.style,c=e.breakAll,l=e.maxLines;if((n||a)&&!dp.isSsr){var u,o,h=dk({breakAll:c,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,A=h.spaceWidth;u=d,o=A}else return x3(i);return aH({breakAll:c,children:i,maxLines:l,style:s},u,o,n,a)}return x3(i)},y3="#808080",sp=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.lineHeight,l=c===void 0?"1em":c,u=e.capHeight,o=u===void 0?"0.71em":u,h=e.scaleToFit,d=h===void 0?!1:h,A=e.textAnchor,f=A===void 0?"start":A,g=e.verticalAnchor,m=g===void 0?"end":g,x=e.fill,y=x===void 0?y3:x,b=m3(e,Y9),w=P.useMemo(function(){return iH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,S=b.dy,C=b.angle,k=b.className,W=b.breakAll,q=m3(b,Z9);if(!Xl(a)||!Xl(s))return null;var te=a+(gn(N)?N:0),K=s+(gn(S)?S:0),X;switch(m){case"start":X=Nw("calc(".concat(o,")"));break;case"middle":X=Nw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:X=Nw("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(d){var le=w[0].width,z=b.width;O.push("scale(".concat((gn(z)?z/le:1)/le,")"))}return C&&O.push("rotate(".concat(C,", ").concat(te,", ").concat(K,")")),O.length&&(q.transform=O.join(" ")),bt.createElement("text",_C({},ka(q,!0),{x:te,y:K,className:vi("recharts-text",k),textAnchor:f,fill:y.includes("url")?y3:y}),w.map(function(R,ie){var Ae=R.words.join(W?"":" ");return bt.createElement("tspan",{x:te,dy:ie===0?X:l,key:"".concat(Ae,"-").concat(ie)},Ae)}))};function af(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function sH(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function x4(r){let e,n,a;r.length!==2?(e=af,n=(l,u)=>af(r(l),u),a=(l,u)=>r(l)-u):(e=r===af||r===sH?r:oH,n=r,a=r);function i(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<0?o=d+1:h=d}while(o<h)}return o}function s(l,u,o=0,h=l.length){if(o<h){if(e(u,u)!==0)return h;do{const d=o+h>>>1;n(l[d],u)<=0?o=d+1:h=d}while(o<h)}return o}function c(l,u,o=0,h=l.length){const d=i(l,u,o,h-1);return d>o&&a(l[d-1],u)>-a(l[d],u)?d-1:d}return{left:i,center:c,right:s}}function oH(){return 0}function hk(r){return r===null?NaN:+r}function*lH(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const cH=x4(af),Lg=cH.right;x4(hk).center;class b3 extends Map{constructor(e,n=hH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[a,i]of e)this.set(a,i)}get(e){return super.get(w3(this,e))}has(e){return super.has(w3(this,e))}set(e,n){return super.set(uH(this,e),n)}delete(e){return super.delete(dH(this,e))}}function w3({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):n}function uH({_intern:r,_key:e},n){const a=e(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function dH({_intern:r,_key:e},n){const a=e(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function hH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function AH(r=af){if(r===af)return Ak;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const a=r(e,n);return a||a===0?a:(r(n,n)===0)-(r(e,e)===0)}}function Ak(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const fH=Math.sqrt(50),pH=Math.sqrt(10),mH=Math.sqrt(2);function Nv(r,e,n){const a=(e-r)/Math.max(0,n),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),c=s>=fH?10:s>=pH?5:s>=mH?2:1;let l,u,o;return i<0?(o=Math.pow(10,-i)/c,l=Math.round(r*o),u=Math.round(e*o),l/o<r&&++l,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*c,l=Math.round(r/o),u=Math.round(e/o),l*o<r&&++l,u*o>e&&--u),u<l&&.5<=n&&n<2?Nv(r,e,n*2):[l,u,o]}function OC(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const a=e<r,[i,s,c]=a?Nv(e,r,n):Nv(r,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(a)if(c<0)for(let o=0;o<l;++o)u[o]=(s-o)/-c;else for(let o=0;o<l;++o)u[o]=(s-o)*c;else if(c<0)for(let o=0;o<l;++o)u[o]=(i+o)/-c;else for(let o=0;o<l;++o)u[o]=(i+o)*c;return u}function kC(r,e,n){return e=+e,r=+r,n=+n,Nv(r,e,n)[2]}function PC(r,e,n){e=+e,r=+r,n=+n;const a=e<r,i=a?kC(e,r,n):kC(r,e,n);return(a?-1:1)*(i<0?1/-i:i)}function j3(r,e){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function C3(r,e){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function fk(r,e,n=0,a=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=e&&e<=a))return r;for(i=i===void 0?Ak:AH(i);a>n;){if(a-n>600){const u=a-n+1,o=e-n+1,h=Math.log(u),d=.5*Math.exp(2*h/3),A=.5*Math.sqrt(h*d*(u-d)/u)*(o-u/2<0?-1:1),f=Math.max(n,Math.floor(e-o*d/u+A)),g=Math.min(a,Math.floor(e+(u-o)*d/u+A));fk(r,e,f,g,i)}const s=r[e];let c=n,l=a;for(Km(r,n,e),i(r[a],s)>0&&Km(r,n,a);c<l;){for(Km(r,c,l),++c,--l;i(r[c],s)<0;)++c;for(;i(r[l],s)>0;)--l}i(r[n],s)===0?Km(r,n,l):(++l,Km(r,l,a)),l<=e&&(n=l+1),e<=l&&(a=l-1)}return r}function Km(r,e,n){const a=r[e];r[e]=r[n],r[n]=a}function gH(r,e,n){if(r=Float64Array.from(lH(r)),!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return C3(r);if(e>=1)return j3(r);var a,i=(a-1)*e,s=Math.floor(i),c=j3(fk(r,s).subarray(0,s+1)),l=C3(r.subarray(s+1));return c+(l-c)*(i-s)}}function vH(r,e,n=hk){if(!(!(a=r.length)||isNaN(e=+e))){if(e<=0||a<2)return+n(r[0],0,r);if(e>=1)return+n(r[a-1],a-1,r);var a,i=(a-1)*e,s=Math.floor(i),c=+n(r[s],s,r),l=+n(r[s+1],s+1,r);return c+(l-c)*(i-s)}}function xH(r,e,n){r=+r,e=+e,n=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(i);++a<i;)s[a]=r+a*n;return s}function $d(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function bA(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const FC=Symbol("implicit");function y4(){var r=new b3,e=[],n=[],a=FC;function i(s){let c=r.get(s);if(c===void 0){if(a!==FC)return a;r.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new b3;for(const c of s)r.has(c)||r.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return y4(e,n).unknown(a)},$d.apply(i,arguments),i}function og(){var r=y4().unknown(void 0),e=r.domain,n=r.range,a=0,i=1,s,c,l=!1,u=0,o=0,h=.5;delete r.unknown;function d(){var A=e().length,f=i<a,g=f?i:a,m=f?a:i;s=(m-g)/Math.max(1,A-u+o*2),l&&(s=Math.floor(s)),g+=(m-g-s*(A-u))*h,c=s*(1-u),l&&(g=Math.round(g),c=Math.round(c));var x=xH(A).map(function(y){return g+s*y});return n(f?x.reverse():x)}return r.domain=function(A){return arguments.length?(e(A),d()):e()},r.range=function(A){return arguments.length?([a,i]=A,a=+a,i=+i,d()):[a,i]},r.rangeRound=function(A){return[a,i]=A,a=+a,i=+i,l=!0,d()},r.bandwidth=function(){return c},r.step=function(){return s},r.round=function(A){return arguments.length?(l=!!A,d()):l},r.padding=function(A){return arguments.length?(u=Math.min(1,o=+A),d()):u},r.paddingInner=function(A){return arguments.length?(u=Math.min(1,A),d()):u},r.paddingOuter=function(A){return arguments.length?(o=+A,d()):o},r.align=function(A){return arguments.length?(h=Math.max(0,Math.min(1,A)),d()):h},r.copy=function(){return og(e(),[a,i]).round(l).paddingInner(u).paddingOuter(o).align(h)},$d.apply(d(),arguments)}function pk(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return pk(e())},r}function $0(){return pk(og.apply(null,arguments).paddingInner(1))}function b4(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function mk(r,e){var n=Object.create(r.prototype);for(var a in e)n[a]=e[a];return n}function Ug(){}var lg=.7,Sv=1/lg,Jp="\\s*([+-]?\\d+)\\s*",cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yH=/^#([0-9a-f]{3,8})$/,bH=new RegExp(`^rgb\\(${Jp},${Jp},${Jp}\\)$`),wH=new RegExp(`^rgb\\(${_h},${_h},${_h}\\)$`),jH=new RegExp(`^rgba\\(${Jp},${Jp},${Jp},${cg}\\)$`),CH=new RegExp(`^rgba\\(${_h},${_h},${_h},${cg}\\)$`),NH=new RegExp(`^hsl\\(${cg},${_h},${_h}\\)$`),SH=new RegExp(`^hsla\\(${cg},${_h},${_h},${cg}\\)$`),N3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b4(Ug,ug,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:S3,formatHex:S3,formatHex8:BH,formatHsl:EH,formatRgb:B3,toString:B3});function S3(){return this.rgb().formatHex()}function BH(){return this.rgb().formatHex8()}function EH(){return gk(this).formatHsl()}function B3(){return this.rgb().formatRgb()}function ug(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=yH.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?E3(e):n===3?new Ru(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?i1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?i1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bH.exec(r))?new Ru(e[1],e[2],e[3],1):(e=wH.exec(r))?new Ru(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jH.exec(r))?i1(e[1],e[2],e[3],e[4]):(e=CH.exec(r))?i1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=NH.exec(r))?_3(e[1],e[2]/100,e[3]/100,1):(e=SH.exec(r))?_3(e[1],e[2]/100,e[3]/100,e[4]):N3.hasOwnProperty(r)?E3(N3[r]):r==="transparent"?new Ru(NaN,NaN,NaN,0):null}function E3(r){return new Ru(r>>16&255,r>>8&255,r&255,1)}function i1(r,e,n,a){return a<=0&&(r=e=n=NaN),new Ru(r,e,n,a)}function IH(r){return r instanceof Ug||(r=ug(r)),r?(r=r.rgb(),new Ru(r.r,r.g,r.b,r.opacity)):new Ru}function DC(r,e,n,a){return arguments.length===1?IH(r):new Ru(r,e,n,a??1)}function Ru(r,e,n,a){this.r=+r,this.g=+e,this.b=+n,this.opacity=+a}b4(Ru,DC,mk(Ug,{brighter(r){return r=r==null?Sv:Math.pow(Sv,r),new Ru(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?lg:Math.pow(lg,r),new Ru(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Ru(ep(this.r),ep(this.g),ep(this.b),Bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I3,formatHex:I3,formatHex8:TH,formatRgb:T3,toString:T3}));function I3(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}`}function TH(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}${Xf((isNaN(this.opacity)?1:this.opacity)*255)}`}function T3(){const r=Bv(this.opacity);return`${r===1?"rgb(":"rgba("}${ep(this.r)}, ${ep(this.g)}, ${ep(this.b)}${r===1?")":`, ${r})`}`}function Bv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ep(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Xf(r){return r=ep(r),(r<16?"0":"")+r.toString(16)}function _3(r,e,n,a){return a<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new ch(r,e,n,a)}function gk(r){if(r instanceof ch)return new ch(r.h,r.s,r.l,r.opacity);if(r instanceof Ug||(r=ug(r)),!r)return new ch;if(r instanceof ch)return r;r=r.rgb();var e=r.r/255,n=r.g/255,a=r.b/255,i=Math.min(e,n,a),s=Math.max(e,n,a),c=NaN,l=s-i,u=(s+i)/2;return l?(e===s?c=(n-a)/l+(n<a)*6:n===s?c=(a-e)/l+2:c=(e-n)/l+4,l/=u<.5?s+i:2-s-i,c*=60):l=u>0&&u<1?0:c,new ch(c,l,u,r.opacity)}function _H(r,e,n,a){return arguments.length===1?gk(r):new ch(r,e,n,a??1)}function ch(r,e,n,a){this.h=+r,this.s=+e,this.l=+n,this.opacity=+a}b4(ch,_H,mk(Ug,{brighter(r){return r=r==null?Sv:Math.pow(Sv,r),new ch(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?lg:Math.pow(lg,r),new ch(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new Ru(Sw(r>=240?r-240:r+120,i,a),Sw(r,i,a),Sw(r<120?r+240:r-120,i,a),this.opacity)},clamp(){return new ch(O3(this.h),s1(this.s),s1(this.l),Bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Bv(this.opacity);return`${r===1?"hsl(":"hsla("}${O3(this.h)}, ${s1(this.s)*100}%, ${s1(this.l)*100}%${r===1?")":`, ${r})`}`}}));function O3(r){return r=(r||0)%360,r<0?r+360:r}function s1(r){return Math.max(0,Math.min(1,r||0))}function Sw(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const w4=r=>()=>r;function OH(r,e){return function(n){return r+n*e}}function kH(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function PH(r){return(r=+r)==1?vk:function(e,n){return n-e?kH(e,n,r):w4(isNaN(e)?n:e)}}function vk(r,e){var n=e-r;return n?OH(r,n):w4(isNaN(r)?e:r)}const k3=(function r(e){var n=PH(e);function a(i,s){var c=n((i=DC(i)).r,(s=DC(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),o=vk(i.opacity,s.opacity);return function(h){return i.r=c(h),i.g=l(h),i.b=u(h),i.opacity=o(h),i+""}}return a.gamma=r,a})(1);function FH(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,a=e.slice(),i;return function(s){for(i=0;i<n;++i)a[i]=r[i]*(1-s)+e[i]*s;return a}}function DH(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function MH(r,e){var n=e?e.length:0,a=r?Math.min(n,r.length):0,i=new Array(a),s=new Array(n),c;for(c=0;c<a;++c)i[c]=Pm(r[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(l){for(c=0;c<a;++c)s[c]=i[c](l);return s}}function RH(r,e){var n=new Date;return r=+r,e=+e,function(a){return n.setTime(r*(1-a)+e*a),n}}function Ev(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function LH(r,e){var n={},a={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?n[i]=Pm(r[i],e[i]):a[i]=e[i];return function(s){for(i in n)a[i]=n[i](s);return a}}var MC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bw=new RegExp(MC.source,"g");function UH(r){return function(){return r}}function HH(r){return function(e){return r(e)+""}}function QH(r,e){var n=MC.lastIndex=Bw.lastIndex=0,a,i,s,c=-1,l=[],u=[];for(r=r+"",e=e+"";(a=MC.exec(r))&&(i=Bw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[c]?l[c]+=s:l[++c]=s),(a=a[0])===(i=i[0])?l[c]?l[c]+=i:l[++c]=i:(l[++c]=null,u.push({i:c,x:Ev(a,i)})),n=Bw.lastIndex;return n<e.length&&(s=e.slice(n),l[c]?l[c]+=s:l[++c]=s),l.length<2?u[0]?HH(u[0].x):UH(e):(e=u.length,function(o){for(var h=0,d;h<e;++h)l[(d=u[h]).i]=d.x(o);return l.join("")})}function Pm(r,e){var n=typeof e,a;return e==null||n==="boolean"?w4(e):(n==="number"?Ev:n==="string"?(a=ug(e))?(e=a,k3):QH:e instanceof ug?k3:e instanceof Date?RH:DH(e)?FH:Array.isArray(e)?MH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LH:Ev)(r,e)}function j4(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}function WH(r,e){e===void 0&&(e=r,r=Pm);for(var n=0,a=e.length-1,i=e[0],s=new Array(a<0?0:a);n<a;)s[n]=r(i,i=e[++n]);return function(c){var l=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return s[l](c-l)}}function $H(r){return function(){return r}}function Iv(r){return+r}var P3=[0,1];function wu(r){return r}function RC(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:$H(isNaN(e)?NaN:.5)}function VH(r,e){var n;return r>e&&(n=r,r=e,e=n),function(a){return Math.max(r,Math.min(e,a))}}function zH(r,e,n){var a=r[0],i=r[1],s=e[0],c=e[1];return i<a?(a=RC(i,a),s=n(c,s)):(a=RC(a,i),s=n(s,c)),function(l){return s(a(l))}}function KH(r,e,n){var a=Math.min(r.length,e.length)-1,i=new Array(a),s=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++c<a;)i[c]=RC(r[c],r[c+1]),s[c]=n(e[c],e[c+1]);return function(l){var u=Lg(r,l,1,a)-1;return s[u](i[u](l))}}function Hg(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Dx(){var r=P3,e=P3,n=Pm,a,i,s,c=wu,l,u,o;function h(){var A=Math.min(r.length,e.length);return c!==wu&&(c=VH(r[0],r[A-1])),l=A>2?KH:zH,u=o=null,d}function d(A){return A==null||isNaN(A=+A)?s:(u||(u=l(r.map(a),e,n)))(a(c(A)))}return d.invert=function(A){return c(i((o||(o=l(e,r.map(a),Ev)))(A)))},d.domain=function(A){return arguments.length?(r=Array.from(A,Iv),h()):r.slice()},d.range=function(A){return arguments.length?(e=Array.from(A),h()):e.slice()},d.rangeRound=function(A){return e=Array.from(A),n=j4,h()},d.clamp=function(A){return arguments.length?(c=A?!0:wu,h()):c!==wu},d.interpolate=function(A){return arguments.length?(n=A,h()):n},d.unknown=function(A){return arguments.length?(s=A,d):s},function(A,f){return a=A,i=f,h()}}function C4(){return Dx()(wu,wu)}function GH(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Tv(r,e){if(!isFinite(r)||r===0)return null;var n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function sm(r){return r=Tv(Math.abs(r)),r?r[1]:NaN}function qH(r,e){return function(n,a){for(var i=n.length,s=[],c=0,l=r[0],u=0;i>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>a));)l=r[c=(c+1)%r.length];return s.reverse().join(e)}}function XH(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var YH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dg(r){if(!(e=YH.exec(r)))throw new Error("invalid format: "+r);var e;return new N4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dg.prototype=N4.prototype;function N4(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}N4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZH(r){e:for(var e=r.length,n=1,a=-1,i;n<e;++n)switch(r[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(i+1):r}var _v;function JH(r,e){var n=Tv(r,e);if(!n)return _v=void 0,r.toPrecision(e);var a=n[0],i=n[1],s=i-(_v=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=a.length;return s===c?a:s>c?a+new Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+Tv(r,Math.max(0,e+s-1))[0]}function F3(r,e){var n=Tv(r,e);if(!n)return r+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const D3={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:GH,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>F3(r*100,e),r:F3,s:JH,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function M3(r){return r}var R3=Array.prototype.map,L3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eQ(r){var e=r.grouping===void 0||r.thousands===void 0?M3:qH(R3.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?M3:XH(R3.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",u=r.nan===void 0?"NaN":r.nan+"";function o(d,A){d=dg(d);var f=d.fill,g=d.align,m=d.sign,x=d.symbol,y=d.zero,b=d.width,w=d.comma,N=d.precision,S=d.trim,C=d.type;C==="n"?(w=!0,C="g"):D3[C]||(N===void 0&&(N=12),S=!0,C="g"),(y||f==="0"&&g==="=")&&(y=!0,f="0",g="=");var k=(A&&A.prefix!==void 0?A.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),W=(x==="$"?a:/[%p]/.test(C)?c:"")+(A&&A.suffix!==void 0?A.suffix:""),q=D3[C],te=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function K(X){var O=k,le=W,z,R,ie;if(C==="c")le=q(X)+le,X="";else{X=+X;var Ae=X<0||1/X<0;if(X=isNaN(X)?u:q(Math.abs(X),N),S&&(X=ZH(X)),Ae&&+X==0&&m!=="+"&&(Ae=!1),O=(Ae?m==="("?m:l:m==="-"||m==="("?"":m)+O,le=(C==="s"&&!isNaN(X)&&_v!==void 0?L3[8+_v/3]:"")+le+(Ae&&m==="("?")":""),te){for(z=-1,R=X.length;++z<R;)if(ie=X.charCodeAt(z),48>ie||ie>57){le=(ie===46?i+X.slice(z+1):X.slice(z))+le,X=X.slice(0,z);break}}}w&&!y&&(X=e(X,1/0));var Oe=O.length+X.length+le.length,be=Oe<b?new Array(b-Oe+1).join(f):"";switch(w&&y&&(X=e(be+X,be.length?b-le.length:1/0),be=""),g){case"<":X=O+X+le+be;break;case"=":X=O+be+X+le;break;case"^":X=be.slice(0,Oe=be.length>>1)+O+X+le+be.slice(Oe);break;default:X=be+O+X+le;break}return s(X)}return K.toString=function(){return d+""},K}function h(d,A){var f=Math.max(-8,Math.min(8,Math.floor(sm(A)/3)))*3,g=Math.pow(10,-f),m=o((d=dg(d),d.type="f",d),{suffix:L3[8+f/3]});return function(x){return m(g*x)}}return{format:o,formatPrefix:h}}var o1,S4,xk;tQ({thousands:",",grouping:[3],currency:["$",""]});function tQ(r){return o1=eQ(r),S4=o1.format,xk=o1.formatPrefix,o1}function rQ(r){return Math.max(0,-sm(Math.abs(r)))}function nQ(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sm(e)/3)))*3-sm(Math.abs(r)))}function aQ(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,sm(e)-sm(r))+1}function yk(r,e,n,a){var i=PC(r,e,n),s;switch(a=dg(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(e));return a.precision==null&&!isNaN(s=nQ(i,c))&&(a.precision=s),xk(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=aQ(i,Math.max(Math.abs(r),Math.abs(e))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=rQ(i))&&(a.precision=s-(a.type==="%")*2);break}}return S4(a)}function Af(r){var e=r.domain;return r.ticks=function(n){var a=e();return OC(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var i=e();return yk(i[0],i[i.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=e(),i=0,s=a.length-1,c=a[i],l=a[s],u,o,h=10;for(l<c&&(o=c,c=l,l=o,o=i,i=s,s=o);h-- >0;){if(o=kC(c,l,n),o===u)return a[i]=c,a[s]=l,e(a);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else if(o<0)c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o;else break;u=o}return r},r}function Ov(){var r=C4();return r.copy=function(){return Hg(r,Ov())},$d.apply(r,arguments),Af(r)}function bk(r){var e;function n(a){return a==null||isNaN(a=+a)?e:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Iv),n):r.slice()},n.unknown=function(a){return arguments.length?(e=a,n):e},n.copy=function(){return bk(r).unknown(e)},r=arguments.length?Array.from(r,Iv):[0,1],Af(n)}function wk(r,e){r=r.slice();var n=0,a=r.length-1,i=r[n],s=r[a],c;return s<i&&(c=n,n=a,a=c,c=i,i=s,s=c),r[n]=e.floor(i),r[a]=e.ceil(s),r}function U3(r){return Math.log(r)}function H3(r){return Math.exp(r)}function iQ(r){return-Math.log(-r)}function sQ(r){return-Math.exp(-r)}function oQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function lQ(r){return r===10?oQ:r===Math.E?Math.exp:e=>Math.pow(r,e)}function cQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function Q3(r){return(e,n)=>-r(-e,n)}function B4(r){const e=r(U3,H3),n=e.domain;let a=10,i,s;function c(){return i=cQ(a),s=lQ(a),n()[0]<0?(i=Q3(i),s=Q3(s),r(iQ,sQ)):r(U3,H3),e}return e.base=function(l){return arguments.length?(a=+l,c()):a},e.domain=function(l){return arguments.length?(n(l),c()):n()},e.ticks=l=>{const u=n();let o=u[0],h=u[u.length-1];const d=h<o;d&&([o,h]=[h,o]);let A=i(o),f=i(h),g,m;const x=l==null?10:+l;let y=[];if(!(a%1)&&f-A<x){if(A=Math.floor(A),f=Math.ceil(f),o>0){for(;A<=f;++A)for(g=1;g<a;++g)if(m=A<0?g/s(-A):g*s(A),!(m<o)){if(m>h)break;y.push(m)}}else for(;A<=f;++A)for(g=a-1;g>=1;--g)if(m=A>0?g/s(-A):g*s(A),!(m<o)){if(m>h)break;y.push(m)}y.length*2<x&&(y=OC(o,h,x))}else y=OC(A,f,Math.min(f-A,x)).map(s);return d?y.reverse():y},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=dg(u)).precision==null&&(u.trim=!0),u=S4(u)),l===1/0)return u;const o=Math.max(1,a*l/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*a<a-.5&&(d*=a),d<=o?u(h):""}},e.nice=()=>n(wk(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function jk(){const r=B4(Dx()).domain([1,10]);return r.copy=()=>Hg(r,jk()).base(r.base()),$d.apply(r,arguments),r}function W3(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function $3(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function E4(r){var e=1,n=r(W3(e),$3(e));return n.constant=function(a){return arguments.length?r(W3(e=+a),$3(e)):e},Af(n)}function Ck(){var r=E4(Dx());return r.copy=function(){return Hg(r,Ck()).constant(r.constant())},$d.apply(r,arguments)}function V3(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function uQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function dQ(r){return r<0?-r*r:r*r}function I4(r){var e=r(wu,wu),n=1;function a(){return n===1?r(wu,wu):n===.5?r(uQ,dQ):r(V3(n),V3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,a()):n},Af(e)}function T4(){var r=I4(Dx());return r.copy=function(){return Hg(r,T4()).exponent(r.exponent())},$d.apply(r,arguments),r}function hQ(){return T4.apply(null,arguments).exponent(.5)}function z3(r){return Math.sign(r)*r*r}function AQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function Nk(){var r=C4(),e=[0,1],n=!1,a;function i(s){var c=AQ(r(s));return isNaN(c)?a:n?Math.round(c):c}return i.invert=function(s){return r.invert(z3(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,Iv)).map(z3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return Nk(r.domain(),e).round(n).clamp(r.clamp()).unknown(a)},$d.apply(i,arguments),Af(i)}function Sk(){var r=[],e=[],n=[],a;function i(){var c=0,l=Math.max(1,e.length);for(n=new Array(l-1);++c<l;)n[c-1]=vH(r,c/l);return s}function s(c){return c==null||isNaN(c=+c)?a:e[Lg(n,c)]}return s.invertExtent=function(c){var l=e.indexOf(c);return l<0?[NaN,NaN]:[l>0?n[l-1]:r[0],l<n.length?n[l]:r[r.length-1]]},s.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let l of c)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(af),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(a=c,s):a},s.quantiles=function(){return n.slice()},s.copy=function(){return Sk().domain(r).range(e).unknown(a)},$d.apply(s,arguments)}function Bk(){var r=0,e=1,n=1,a=[.5],i=[0,1],s;function c(u){return u!=null&&u<=u?i[Lg(a,u,0,n)]:s}function l(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*e-(u-n)*r)/(n+1);return c}return c.domain=function(u){return arguments.length?([r,e]=u,r=+r,e=+e,l()):[r,e]},c.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},c.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[r,a[0]]:o>=n?[a[n-1],e]:[a[o-1],a[o]]},c.unknown=function(u){return arguments.length&&(s=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return Bk().domain([r,e]).range(i).unknown(s)},$d.apply(Af(c),arguments)}function Ek(){var r=[.5],e=[0,1],n,a=1;function i(s){return s!=null&&s<=s?e[Lg(r,s,0,a)]:n}return i.domain=function(s){return arguments.length?(r=Array.from(s),a=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),a=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[r[c-1],r[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ek().domain(r).range(e).unknown(n)},$d.apply(i,arguments)}const Ew=new Date,Iw=new Date;function Zl(r,e,n,a){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const c=i(s),l=i.ceil(s);return s-c<l-s?c:l},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<c)||!(l>0))return u;let o;do u.push(o=new Date(+s)),e(s,l),r(s);while(o<s&&s<c);return u},i.filter=s=>Zl(c=>{if(c>=c)for(;r(c),!s(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;e(c,-1),!s(c););else for(;--l>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(Ew.setTime(+s),Iw.setTime(+c),r(Ew),r(Iw),Math.floor(n(Ew,Iw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?c=>a(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const kv=Zl(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);kv.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Zl(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):kv);kv.range;const lA=1e3,Ud=lA*60,cA=Ud*60,mA=cA*24,_4=mA*7,K3=mA*30,Tw=mA*365,Yf=Zl(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*lA)},(r,e)=>(e-r)/lA,r=>r.getUTCSeconds());Yf.range;const O4=Zl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*lA)},(r,e)=>{r.setTime(+r+e*Ud)},(r,e)=>(e-r)/Ud,r=>r.getMinutes());O4.range;const k4=Zl(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Ud)},(r,e)=>(e-r)/Ud,r=>r.getUTCMinutes());k4.range;const P4=Zl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*lA-r.getMinutes()*Ud)},(r,e)=>{r.setTime(+r+e*cA)},(r,e)=>(e-r)/cA,r=>r.getHours());P4.range;const F4=Zl(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*cA)},(r,e)=>(e-r)/cA,r=>r.getUTCHours());F4.range;const Qg=Zl(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Ud)/mA,r=>r.getDate()-1);Qg.range;const Mx=Zl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mA,r=>r.getUTCDate()-1);Mx.range;const Ik=Zl(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/mA,r=>Math.floor(r/mA));Ik.range;function hp(r){return Zl(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ud)/_4)}const Rx=hp(0),Pv=hp(1),fQ=hp(2),pQ=hp(3),om=hp(4),mQ=hp(5),gQ=hp(6);Rx.range;Pv.range;fQ.range;pQ.range;om.range;mQ.range;gQ.range;function Ap(r){return Zl(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_4)}const Lx=Ap(0),Fv=Ap(1),vQ=Ap(2),xQ=Ap(3),lm=Ap(4),yQ=Ap(5),bQ=Ap(6);Lx.range;Fv.range;vQ.range;xQ.range;lm.range;yQ.range;bQ.range;const D4=Zl(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());D4.range;const M4=Zl(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());M4.range;const gA=Zl(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());gA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zl(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});gA.range;const vA=Zl(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());vA.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zl(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});vA.range;function Tk(r,e,n,a,i,s){const c=[[Yf,1,lA],[Yf,5,5*lA],[Yf,15,15*lA],[Yf,30,30*lA],[s,1,Ud],[s,5,5*Ud],[s,15,15*Ud],[s,30,30*Ud],[i,1,cA],[i,3,3*cA],[i,6,6*cA],[i,12,12*cA],[a,1,mA],[a,2,2*mA],[n,1,_4],[e,1,K3],[e,3,3*K3],[r,1,Tw]];function l(o,h,d){const A=h<o;A&&([o,h]=[h,o]);const f=d&&typeof d.range=="function"?d:u(o,h,d),g=f?f.range(o,+h+1):[];return A?g.reverse():g}function u(o,h,d){const A=Math.abs(h-o)/d,f=x4(([,,x])=>x).right(c,A);if(f===c.length)return r.every(PC(o/Tw,h/Tw,d));if(f===0)return kv.every(Math.max(PC(o,h,d),1));const[g,m]=c[A/c[f-1][2]<c[f][2]/A?f-1:f];return g.every(m)}return[l,u]}const[wQ,jQ]=Tk(vA,M4,Lx,Ik,F4,k4),[CQ,NQ]=Tk(gA,D4,Rx,Qg,P4,O4);function _w(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Ow(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Gm(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function SQ(r){var e=r.dateTime,n=r.date,a=r.time,i=r.periods,s=r.days,c=r.shortDays,l=r.months,u=r.shortMonths,o=qm(i),h=Xm(i),d=qm(s),A=Xm(s),f=qm(c),g=Xm(c),m=qm(l),x=Xm(l),y=qm(u),b=Xm(u),w={a:ie,A:Ae,b:Oe,B:be,c:null,d:J3,e:J3,f:qQ,g:iW,G:oW,H:zQ,I:KQ,j:GQ,L:_k,m:XQ,M:YQ,p:Te,q:Y,Q:rI,s:nI,S:ZQ,u:JQ,U:eW,V:tW,w:rW,W:nW,x:null,X:null,y:aW,Y:sW,Z:lW,"%":tI},N={a:Ne,A:ce,b:ae,B:Ce,c:null,d:eI,e:eI,f:hW,g:wW,G:CW,H:cW,I:uW,j:dW,L:kk,m:AW,M:fW,p:Ee,q:we,Q:rI,s:nI,S:pW,u:mW,U:gW,V:vW,w:xW,W:yW,x:null,X:null,y:bW,Y:jW,Z:NW,"%":tI},S={a:te,A:K,b:X,B:O,c:le,d:Y3,e:Y3,f:QQ,g:X3,G:q3,H:Z3,I:Z3,j:RQ,L:HQ,m:MQ,M:LQ,p:q,q:DQ,Q:$Q,s:VQ,S:UQ,u:_Q,U:OQ,V:kQ,w:TQ,W:PQ,x:z,X:R,y:X3,Y:q3,Z:FQ,"%":WQ};w.x=C(n,w),w.X=C(a,w),w.c=C(e,w),N.x=C(n,N),N.X=C(a,N),N.c=C(e,N);function C(me,se){return function(J){var je=[],Pe=-1,Le=0,Ie=me.length,pe,ke,Ye;for(J instanceof Date||(J=new Date(+J));++Pe<Ie;)me.charCodeAt(Pe)===37&&(je.push(me.slice(Le,Pe)),(ke=G3[pe=me.charAt(++Pe)])!=null?pe=me.charAt(++Pe):ke=pe==="e"?" ":"0",(Ye=se[pe])&&(pe=Ye(J,ke)),je.push(pe),Le=Pe+1);return je.push(me.slice(Le,Pe)),je.join("")}}function k(me,se){return function(J){var je=Gm(1900,void 0,1),Pe=W(je,me,J+="",0),Le,Ie;if(Pe!=J.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(se&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(Le=Ow(Gm(je.y,0,1)),Ie=Le.getUTCDay(),Le=Ie>4||Ie===0?Fv.ceil(Le):Fv(Le),Le=Mx.offset(Le,(je.V-1)*7),je.y=Le.getUTCFullYear(),je.m=Le.getUTCMonth(),je.d=Le.getUTCDate()+(je.w+6)%7):(Le=_w(Gm(je.y,0,1)),Ie=Le.getDay(),Le=Ie>4||Ie===0?Pv.ceil(Le):Pv(Le),Le=Qg.offset(Le,(je.V-1)*7),je.y=Le.getFullYear(),je.m=Le.getMonth(),je.d=Le.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),Ie="Z"in je?Ow(Gm(je.y,0,1)).getUTCDay():_w(Gm(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(Ie+5)%7:je.w+je.U*7-(Ie+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,Ow(je)):_w(je)}}function W(me,se,J,je){for(var Pe=0,Le=se.length,Ie=J.length,pe,ke;Pe<Le;){if(je>=Ie)return-1;if(pe=se.charCodeAt(Pe++),pe===37){if(pe=se.charAt(Pe++),ke=S[pe in G3?se.charAt(Pe++):pe],!ke||(je=ke(me,J,je))<0)return-1}else if(pe!=J.charCodeAt(je++))return-1}return je}function q(me,se,J){var je=o.exec(se.slice(J));return je?(me.p=h.get(je[0].toLowerCase()),J+je[0].length):-1}function te(me,se,J){var je=f.exec(se.slice(J));return je?(me.w=g.get(je[0].toLowerCase()),J+je[0].length):-1}function K(me,se,J){var je=d.exec(se.slice(J));return je?(me.w=A.get(je[0].toLowerCase()),J+je[0].length):-1}function X(me,se,J){var je=y.exec(se.slice(J));return je?(me.m=b.get(je[0].toLowerCase()),J+je[0].length):-1}function O(me,se,J){var je=m.exec(se.slice(J));return je?(me.m=x.get(je[0].toLowerCase()),J+je[0].length):-1}function le(me,se,J){return W(me,e,se,J)}function z(me,se,J){return W(me,n,se,J)}function R(me,se,J){return W(me,a,se,J)}function ie(me){return c[me.getDay()]}function Ae(me){return s[me.getDay()]}function Oe(me){return u[me.getMonth()]}function be(me){return l[me.getMonth()]}function Te(me){return i[+(me.getHours()>=12)]}function Y(me){return 1+~~(me.getMonth()/3)}function Ne(me){return c[me.getUTCDay()]}function ce(me){return s[me.getUTCDay()]}function ae(me){return u[me.getUTCMonth()]}function Ce(me){return l[me.getUTCMonth()]}function Ee(me){return i[+(me.getUTCHours()>=12)]}function we(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var se=C(me+="",w);return se.toString=function(){return me},se},parse:function(me){var se=k(me+="",!1);return se.toString=function(){return me},se},utcFormat:function(me){var se=C(me+="",N);return se.toString=function(){return me},se},utcParse:function(me){var se=k(me+="",!0);return se.toString=function(){return me},se}}}var G3={"-":"",_:" ",0:"0"},wc=/^\s*\d+/,BQ=/^%/,EQ=/[\\^$*+?|[\]().{}]/g;function ls(r,e,n){var a=r<0?"-":"",i=(a?-r:r)+"",s=i.length;return a+(s<n?new Array(n-s+1).join(e)+i:i)}function IQ(r){return r.replace(EQ,"\\$&")}function qm(r){return new RegExp("^(?:"+r.map(IQ).join("|")+")","i")}function Xm(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function TQ(r,e,n){var a=wc.exec(e.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function _Q(r,e,n){var a=wc.exec(e.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function OQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function kQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function PQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function q3(r,e,n){var a=wc.exec(e.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function X3(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function FQ(r,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function DQ(r,e,n){var a=wc.exec(e.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function MQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function Y3(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function RQ(r,e,n){var a=wc.exec(e.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function Z3(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function LQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function UQ(r,e,n){var a=wc.exec(e.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function HQ(r,e,n){var a=wc.exec(e.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function QQ(r,e,n){var a=wc.exec(e.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function WQ(r,e,n){var a=BQ.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function $Q(r,e,n){var a=wc.exec(e.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function VQ(r,e,n){var a=wc.exec(e.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function J3(r,e){return ls(r.getDate(),e,2)}function zQ(r,e){return ls(r.getHours(),e,2)}function KQ(r,e){return ls(r.getHours()%12||12,e,2)}function GQ(r,e){return ls(1+Qg.count(gA(r),r),e,3)}function _k(r,e){return ls(r.getMilliseconds(),e,3)}function qQ(r,e){return _k(r,e)+"000"}function XQ(r,e){return ls(r.getMonth()+1,e,2)}function YQ(r,e){return ls(r.getMinutes(),e,2)}function ZQ(r,e){return ls(r.getSeconds(),e,2)}function JQ(r){var e=r.getDay();return e===0?7:e}function eW(r,e){return ls(Rx.count(gA(r)-1,r),e,2)}function Ok(r){var e=r.getDay();return e>=4||e===0?om(r):om.ceil(r)}function tW(r,e){return r=Ok(r),ls(om.count(gA(r),r)+(gA(r).getDay()===4),e,2)}function rW(r){return r.getDay()}function nW(r,e){return ls(Pv.count(gA(r)-1,r),e,2)}function aW(r,e){return ls(r.getFullYear()%100,e,2)}function iW(r,e){return r=Ok(r),ls(r.getFullYear()%100,e,2)}function sW(r,e){return ls(r.getFullYear()%1e4,e,4)}function oW(r,e){var n=r.getDay();return r=n>=4||n===0?om(r):om.ceil(r),ls(r.getFullYear()%1e4,e,4)}function lW(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ls(e/60|0,"0",2)+ls(e%60,"0",2)}function eI(r,e){return ls(r.getUTCDate(),e,2)}function cW(r,e){return ls(r.getUTCHours(),e,2)}function uW(r,e){return ls(r.getUTCHours()%12||12,e,2)}function dW(r,e){return ls(1+Mx.count(vA(r),r),e,3)}function kk(r,e){return ls(r.getUTCMilliseconds(),e,3)}function hW(r,e){return kk(r,e)+"000"}function AW(r,e){return ls(r.getUTCMonth()+1,e,2)}function fW(r,e){return ls(r.getUTCMinutes(),e,2)}function pW(r,e){return ls(r.getUTCSeconds(),e,2)}function mW(r){var e=r.getUTCDay();return e===0?7:e}function gW(r,e){return ls(Lx.count(vA(r)-1,r),e,2)}function Pk(r){var e=r.getUTCDay();return e>=4||e===0?lm(r):lm.ceil(r)}function vW(r,e){return r=Pk(r),ls(lm.count(vA(r),r)+(vA(r).getUTCDay()===4),e,2)}function xW(r){return r.getUTCDay()}function yW(r,e){return ls(Fv.count(vA(r)-1,r),e,2)}function bW(r,e){return ls(r.getUTCFullYear()%100,e,2)}function wW(r,e){return r=Pk(r),ls(r.getUTCFullYear()%100,e,2)}function jW(r,e){return ls(r.getUTCFullYear()%1e4,e,4)}function CW(r,e){var n=r.getUTCDay();return r=n>=4||n===0?lm(r):lm.ceil(r),ls(r.getUTCFullYear()%1e4,e,4)}function NW(){return"+0000"}function tI(){return"%"}function rI(r){return+r}function nI(r){return Math.floor(+r/1e3)}var _p,Fk,Dk;SW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SW(r){return _p=SQ(r),Fk=_p.format,_p.parse,Dk=_p.utcFormat,_p.utcParse,_p}function BW(r){return new Date(r)}function EW(r){return r instanceof Date?+r:+new Date(+r)}function R4(r,e,n,a,i,s,c,l,u,o){var h=C4(),d=h.invert,A=h.domain,f=o(".%L"),g=o(":%S"),m=o("%I:%M"),x=o("%I %p"),y=o("%a %d"),b=o("%b %d"),w=o("%B"),N=o("%Y");function S(C){return(u(C)<C?f:l(C)<C?g:c(C)<C?m:s(C)<C?x:a(C)<C?i(C)<C?y:b:n(C)<C?w:N)(C)}return h.invert=function(C){return new Date(d(C))},h.domain=function(C){return arguments.length?A(Array.from(C,EW)):A().map(BW)},h.ticks=function(C){var k=A();return r(k[0],k[k.length-1],C??10)},h.tickFormat=function(C,k){return k==null?S:o(k)},h.nice=function(C){var k=A();return(!C||typeof C.range!="function")&&(C=e(k[0],k[k.length-1],C??10)),C?A(wk(k,C)):h},h.copy=function(){return Hg(h,R4(r,e,n,a,i,s,c,l,u,o))},h}function IW(){return $d.apply(R4(CQ,NQ,gA,D4,Rx,Qg,P4,O4,Yf,Fk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TW(){return $d.apply(R4(wQ,jQ,vA,M4,Lx,Mx,F4,k4,Yf,Dk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ux(){var r=0,e=1,n,a,i,s,c=wu,l=!1,u;function o(d){return d==null||isNaN(d=+d)?u:c(i===0?.5:(d=(s(d)-n)*i,l?Math.max(0,Math.min(1,d)):d))}o.domain=function(d){return arguments.length?([r,e]=d,n=s(r=+r),a=s(e=+e),i=n===a?0:1/(a-n),o):[r,e]},o.clamp=function(d){return arguments.length?(l=!!d,o):l},o.interpolator=function(d){return arguments.length?(c=d,o):c};function h(d){return function(A){var f,g;return arguments.length?([f,g]=A,c=d(f,g),o):[c(0),c(1)]}}return o.range=h(Pm),o.rangeRound=h(j4),o.unknown=function(d){return arguments.length?(u=d,o):u},function(d){return s=d,n=d(r),a=d(e),i=n===a?0:1/(a-n),o}}function ff(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function Mk(){var r=Af(Ux()(wu));return r.copy=function(){return ff(r,Mk())},bA.apply(r,arguments)}function Rk(){var r=B4(Ux()).domain([1,10]);return r.copy=function(){return ff(r,Rk()).base(r.base())},bA.apply(r,arguments)}function Lk(){var r=E4(Ux());return r.copy=function(){return ff(r,Lk()).constant(r.constant())},bA.apply(r,arguments)}function L4(){var r=I4(Ux());return r.copy=function(){return ff(r,L4()).exponent(r.exponent())},bA.apply(r,arguments)}function _W(){return L4.apply(null,arguments).exponent(.5)}function Uk(){var r=[],e=wu;function n(a){if(a!=null&&!isNaN(a=+a))return e((Lg(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let i of a)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(af),n},n.interpolator=function(a){return arguments.length?(e=a,n):e},n.range=function(){return r.map((a,i)=>e(i/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,s)=>gH(r,s/a))},n.copy=function(){return Uk(e).domain(r)},bA.apply(n,arguments)}function Hx(){var r=0,e=.5,n=1,a=1,i,s,c,l,u,o=wu,h,d=!1,A;function f(m){return isNaN(m=+m)?A:(m=.5+((m=+h(m))-s)*(a*m<a*s?l:u),o(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([r,e,n]=m,i=h(r=+r),s=h(e=+e),c=h(n=+n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f):[r,e,n]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(o=m,f):o};function g(m){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,o=WH(m,[y,b,w]),f):[o(0),o(.5),o(1)]}}return f.range=g(Pm),f.rangeRound=g(j4),f.unknown=function(m){return arguments.length?(A=m,f):A},function(m){return h=m,i=m(r),s=m(e),c=m(n),l=i===s?0:.5/(s-i),u=s===c?0:.5/(c-s),a=s<i?-1:1,f}}function Hk(){var r=Af(Hx()(wu));return r.copy=function(){return ff(r,Hk())},bA.apply(r,arguments)}function Qk(){var r=B4(Hx()).domain([.1,1,10]);return r.copy=function(){return ff(r,Qk()).base(r.base())},bA.apply(r,arguments)}function Wk(){var r=E4(Hx());return r.copy=function(){return ff(r,Wk()).constant(r.constant())},bA.apply(r,arguments)}function U4(){var r=I4(Hx());return r.copy=function(){return ff(r,U4()).exponent(r.exponent())},bA.apply(r,arguments)}function OW(){return U4.apply(null,arguments).exponent(.5)}const aI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:og,scaleDiverging:Hk,scaleDivergingLog:Qk,scaleDivergingPow:U4,scaleDivergingSqrt:OW,scaleDivergingSymlog:Wk,scaleIdentity:bk,scaleImplicit:FC,scaleLinear:Ov,scaleLog:jk,scaleOrdinal:y4,scalePoint:$0,scalePow:T4,scaleQuantile:Sk,scaleQuantize:Bk,scaleRadial:Nk,scaleSequential:Mk,scaleSequentialLog:Rk,scaleSequentialPow:L4,scaleSequentialQuantile:Uk,scaleSequentialSqrt:_W,scaleSequentialSymlog:Lk,scaleSqrt:hQ,scaleSymlog:Ck,scaleThreshold:Ek,scaleTime:IW,scaleUtc:TW,tickFormat:yk},Symbol.toStringTag,{value:"Module"}));var kw,iI;function Qx(){if(iI)return kw;iI=1;var r=Tm();function e(n,a,i){for(var s=-1,c=n.length;++s<c;){var l=n[s],u=a(l);if(u!=null&&(o===void 0?u===u&&!r(u):i(u,o)))var o=u,h=l}return h}return kw=e,kw}var Pw,sI;function $k(){if(sI)return Pw;sI=1;function r(e,n){return e>n}return Pw=r,Pw}var Fw,oI;function kW(){if(oI)return Fw;oI=1;var r=Qx(),e=$k(),n=km();function a(i){return i&&i.length?r(i,n,e):void 0}return Fw=a,Fw}var PW=kW();const Wx=es(PW);var Dw,lI;function Vk(){if(lI)return Dw;lI=1;function r(e,n){return e<n}return Dw=r,Dw}var Mw,cI;function FW(){if(cI)return Mw;cI=1;var r=Qx(),e=Vk(),n=km();function a(i){return i&&i.length?r(i,n,e):void 0}return Mw=a,Mw}var DW=FW();const $x=es(DW);var Rw,uI;function MW(){if(uI)return Rw;uI=1;var r=r4(),e=Mh(),n=ek(),a=Lu();function i(s,c){var l=a(s)?r:n;return l(s,e(c,3))}return Rw=i,Rw}var Lw,dI;function RW(){if(dI)return Lw;dI=1;var r=ZO(),e=MW();function n(a,i){return r(e(a,i),1)}return Lw=n,Lw}var LW=RW();const UW=es(LW);var Uw,hI;function HW(){if(hI)return Uw;hI=1;var r=p4();function e(n,a){return r(n,a)}return Uw=e,Uw}var QW=HW();const Wg=es(QW);var Fm=1e9,WW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q4,Eo=!0,Wd="[DecimalError] ",tp=Wd+"Invalid argument: ",H4=Wd+"Exponent out of range: ",Dm=Math.floor,Vf=Math.pow,$W=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ld,xc=1e7,vo=7,zk=9007199254740991,Dv=Dm(zk/vo),Kn={};Kn.absoluteValue=Kn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Kn.comparedTo=Kn.cmp=function(r){var e,n,a,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(a=s.d.length,i=r.d.length,e=0,n=a<i?a:i;e<n;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};Kn.decimalPlaces=Kn.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*vo;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Kn.dividedBy=Kn.div=function(r){return AA(this,new this.constructor(r))};Kn.dividedToIntegerBy=Kn.idiv=function(r){var e=this,n=e.constructor;return Gs(AA(e,new n(r),0,1),n.precision)};Kn.equals=Kn.eq=function(r){return!this.cmp(r)};Kn.exponent=function(){return Sl(this)};Kn.greaterThan=Kn.gt=function(r){return this.cmp(r)>0};Kn.greaterThanOrEqualTo=Kn.gte=function(r){return this.cmp(r)>=0};Kn.isInteger=Kn.isint=function(){return this.e>this.d.length-2};Kn.isNegative=Kn.isneg=function(){return this.s<0};Kn.isPositive=Kn.ispos=function(){return this.s>0};Kn.isZero=function(){return this.s===0};Kn.lessThan=Kn.lt=function(r){return this.cmp(r)<0};Kn.lessThanOrEqualTo=Kn.lte=function(r){return this.cmp(r)<1};Kn.logarithm=Kn.log=function(r){var e,n=this,a=n.constructor,i=a.precision,s=i+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(ld))throw Error(Wd+"NaN");if(n.s<1)throw Error(Wd+(n.s?"NaN":"-Infinity"));return n.eq(ld)?new a(0):(Eo=!1,e=AA(hg(n,s),hg(r,s),s),Eo=!0,Gs(e,i))};Kn.minus=Kn.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?qk(e,r):Kk(e,(r.s=-r.s,r))};Kn.modulo=Kn.mod=function(r){var e,n=this,a=n.constructor,i=a.precision;if(r=new a(r),!r.s)throw Error(Wd+"NaN");return n.s?(Eo=!1,e=AA(n,r,0,1).times(r),Eo=!0,n.minus(e)):Gs(new a(n),i)};Kn.naturalExponential=Kn.exp=function(){return Gk(this)};Kn.naturalLogarithm=Kn.ln=function(){return hg(this)};Kn.negated=Kn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Kn.plus=Kn.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?Kk(e,r):qk(e,(r.s=-r.s,r))};Kn.precision=Kn.sd=function(r){var e,n,a,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(tp+r);if(e=Sl(i)+1,a=i.d.length-1,n=a*vo+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return r&&e>n?e:n};Kn.squareRoot=Kn.sqrt=function(){var r,e,n,a,i,s,c,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Wd+"NaN")}for(r=Sl(l),Eo=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Eh(l.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Dm((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),a=new u(e)):a=new u(i.toString()),n=u.precision,i=c=n+3;;)if(s=a,a=s.plus(AA(l,s,c+2)).times(.5),Eh(s.d).slice(0,c)===(e=Eh(a.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(Gs(s,n+1,0),s.times(s).eq(l)){a=s;break}}else if(e!="9999")break;c+=4}return Eo=!0,Gs(a,n)};Kn.times=Kn.mul=function(r){var e,n,a,i,s,c,l,u,o,h=this,d=h.constructor,A=h.d,f=(r=new d(r)).d;if(!h.s||!r.s)return new d(0);for(r.s*=h.s,n=h.e+r.e,u=A.length,o=f.length,u<o&&(s=A,A=f,f=s,c=u,u=o,o=c),s=[],c=u+o,a=c;a--;)s.push(0);for(a=o;--a>=0;){for(e=0,i=u+a;i>a;)l=s[i]+f[a]*A[i-a-1]+e,s[i--]=l%xc|0,e=l/xc|0;s[i]=(s[i]+e)%xc|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),r.d=s,r.e=n,Eo?Gs(r,d.precision):r};Kn.toDecimalPlaces=Kn.todp=function(r,e){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(kh(r,0,Fm),e===void 0?e=a.rounding:kh(e,0,8),Gs(n,r+Sl(n)+1,e))};Kn.toExponential=function(r,e){var n,a=this,i=a.constructor;return r===void 0?n=op(a,!0):(kh(r,0,Fm),e===void 0?e=i.rounding:kh(e,0,8),a=Gs(new i(a),r+1,e),n=op(a,!0,r+1)),n};Kn.toFixed=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?op(i):(kh(r,0,Fm),e===void 0?e=s.rounding:kh(e,0,8),a=Gs(new s(i),r+Sl(i)+1,e),n=op(a.abs(),!1,r+Sl(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Kn.toInteger=Kn.toint=function(){var r=this,e=r.constructor;return Gs(new e(r),Sl(r)+1,e.rounding)};Kn.toNumber=function(){return+this};Kn.toPower=Kn.pow=function(r){var e,n,a,i,s,c,l=this,u=l.constructor,o=12,h=+(r=new u(r));if(!r.s)return new u(ld);if(l=new u(l),!l.s){if(r.s<1)throw Error(Wd+"Infinity");return l}if(l.eq(ld))return l;if(a=u.precision,r.eq(ld))return Gs(l,a);if(e=r.e,n=r.d.length-1,c=e>=n,s=l.s,c){if((n=h<0?-h:h)<=zk){for(i=new u(ld),e=Math.ceil(a/vo+4),Eo=!1;n%2&&(i=i.times(l),fI(i.d,e)),n=Dm(n/2),n!==0;)l=l.times(l),fI(l.d,e);return Eo=!0,r.s<0?new u(ld).div(i):Gs(i,a)}}else if(s<0)throw Error(Wd+"NaN");return s=s<0&&r.d[Math.max(e,n)]&1?-1:1,l.s=1,Eo=!1,i=r.times(hg(l,a+o)),Eo=!0,i=Gk(i),i.s=s,i};Kn.toPrecision=function(r,e){var n,a,i=this,s=i.constructor;return r===void 0?(n=Sl(i),a=op(i,n<=s.toExpNeg||n>=s.toExpPos)):(kh(r,1,Fm),e===void 0?e=s.rounding:kh(e,0,8),i=Gs(new s(i),r,e),n=Sl(i),a=op(i,r<=n||n<=s.toExpNeg,r)),a};Kn.toSignificantDigits=Kn.tosd=function(r,e){var n=this,a=n.constructor;return r===void 0?(r=a.precision,e=a.rounding):(kh(r,1,Fm),e===void 0?e=a.rounding:kh(e,0,8)),Gs(new a(n),r,e)};Kn.toString=Kn.valueOf=Kn.val=Kn.toJSON=Kn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Sl(r),n=r.constructor;return op(r,e<=n.toExpNeg||e>=n.toExpPos)};function Kk(r,e){var n,a,i,s,c,l,u,o,h=r.constructor,d=h.precision;if(!r.s||!e.s)return e.s||(e=new h(r)),Eo?Gs(e,d):e;if(u=r.d,o=e.d,c=r.e,i=e.e,u=u.slice(),s=c-i,s){for(s<0?(a=u,s=-s,l=o.length):(a=o,i=c,l=u.length),c=Math.ceil(d/vo),l=c>l?c+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=u.length,s=o.length,l-s<0&&(s=l,a=o,o=u,u=a),n=0;s;)n=(u[--s]=u[s]+o[s]+n)/xc|0,u[s]%=xc;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Eo?Gs(e,d):e}function kh(r,e,n){if(r!==~~r||r<e||r>n)throw Error(tp+r)}function Eh(r){var e,n,a,i=r.length-1,s="",c=r[0];if(i>0){for(s+=c,e=1;e<i;e++)a=r[e]+"",n=vo-a.length,n&&(s+=XA(n)),s+=a;c=r[e],a=c+"",n=vo-a.length,n&&(s+=XA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var AA=(function(){function r(a,i){var s,c=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+c,a[l]=s%xc|0,c=s/xc|0;return c&&a.unshift(c),a}function e(a,i,s,c){var l,u;if(s!=c)u=s>c?1:-1;else for(l=u=0;l<s;l++)if(a[l]!=i[l]){u=a[l]>i[l]?1:-1;break}return u}function n(a,i,s){for(var c=0;s--;)a[s]-=c,c=a[s]<i[s]?1:0,a[s]=c*xc+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,c){var l,u,o,h,d,A,f,g,m,x,y,b,w,N,S,C,k,W,q=a.constructor,te=a.s==i.s?1:-1,K=a.d,X=i.d;if(!a.s)return new q(a);if(!i.s)throw Error(Wd+"Division by zero");for(u=a.e-i.e,k=X.length,S=K.length,f=new q(te),g=f.d=[],o=0;X[o]==(K[o]||0);)++o;if(X[o]>(K[o]||0)&&--u,s==null?b=s=q.precision:c?b=s+(Sl(a)-Sl(i))+1:b=s,b<0)return new q(0);if(b=b/vo+2|0,o=0,k==1)for(h=0,X=X[0],b++;(o<S||h)&&b--;o++)w=h*xc+(K[o]||0),g[o]=w/X|0,h=w%X|0;else{for(h=xc/(X[0]+1)|0,h>1&&(X=r(X,h),K=r(K,h),k=X.length,S=K.length),N=k,m=K.slice(0,k),x=m.length;x<k;)m[x++]=0;W=X.slice(),W.unshift(0),C=X[0],X[1]>=xc/2&&++C;do h=0,l=e(X,m,k,x),l<0?(y=m[0],k!=x&&(y=y*xc+(m[1]||0)),h=y/C|0,h>1?(h>=xc&&(h=xc-1),d=r(X,h),A=d.length,x=m.length,l=e(d,m,A,x),l==1&&(h--,n(d,k<A?W:X,A))):(h==0&&(l=h=1),d=X.slice()),A=d.length,A<x&&d.unshift(0),n(m,d,x),l==-1&&(x=m.length,l=e(X,m,k,x),l<1&&(h++,n(m,k<x?W:X,x))),x=m.length):l===0&&(h++,m=[0]),g[o++]=h,l&&m[0]?m[x++]=K[N]||0:(m=[K[N]],x=1);while((N++<S||m[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=u,Gs(f,c?s+Sl(f)+1:s)}})();function Gk(r,e){var n,a,i,s,c,l,u=0,o=0,h=r.constructor,d=h.precision;if(Sl(r)>16)throw Error(H4+Sl(r));if(!r.s)return new h(ld);for(Eo=!1,l=d,c=new h(.03125);r.abs().gte(.1);)r=r.times(c),o+=5;for(a=Math.log(Vf(2,o))/Math.LN10*2+5|0,l+=a,n=i=s=new h(ld),h.precision=l;;){if(i=Gs(i.times(r),l),n=n.times(++u),c=s.plus(AA(i,n,l)),Eh(c.d).slice(0,l)===Eh(s.d).slice(0,l)){for(;o--;)s=Gs(s.times(s),l);return h.precision=d,e==null?(Eo=!0,Gs(s,d)):s}s=c}}function Sl(r){for(var e=r.e*vo,n=r.d[0];n>=10;n/=10)e++;return e}function Hw(r,e,n){if(e>r.LN10.sd())throw Eo=!0,n&&(r.precision=n),Error(Wd+"LN10 precision limit exceeded");return Gs(new r(r.LN10),e)}function XA(r){for(var e="";r--;)e+="0";return e}function hg(r,e){var n,a,i,s,c,l,u,o,h,d=1,A=10,f=r,g=f.d,m=f.constructor,x=m.precision;if(f.s<1)throw Error(Wd+(f.s?"NaN":"-Infinity"));if(f.eq(ld))return new m(0);if(e==null?(Eo=!1,o=x):o=e,f.eq(10))return e==null&&(Eo=!0),Hw(m,o);if(o+=A,m.precision=o,n=Eh(g),a=n.charAt(0),s=Sl(f),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(r),n=Eh(f.d),a=n.charAt(0),d++;s=Sl(f),a>1?(f=new m("0."+n),s++):f=new m(a+"."+n.slice(1))}else return u=Hw(m,o+2,x).times(s+""),f=hg(new m(a+"."+n.slice(1)),o-A).plus(u),m.precision=x,e==null?(Eo=!0,Gs(f,x)):f;for(l=c=f=AA(f.minus(ld),f.plus(ld),o),h=Gs(f.times(f),o),i=3;;){if(c=Gs(c.times(h),o),u=l.plus(AA(c,new m(i),o)),Eh(u.d).slice(0,o)===Eh(l.d).slice(0,o))return l=l.times(2),s!==0&&(l=l.plus(Hw(m,o+2,x).times(s+""))),l=AA(l,new m(d),o),m.precision=x,e==null?(Eo=!0,Gs(l,x)):l;l=u,i+=2}}function AI(r,e){var n,a,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;)++a;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(a,i),e){if(i-=a,n=n-a-1,r.e=Dm(n/vo),r.d=[],a=(n+1)%vo,n<0&&(a+=vo),a<i){for(a&&r.d.push(+e.slice(0,a)),i-=vo;a<i;)r.d.push(+e.slice(a,a+=vo));e=e.slice(a),a=vo-e.length}else a-=i;for(;a--;)e+="0";if(r.d.push(+e),Eo&&(r.e>Dv||r.e<-Dv))throw Error(H4+n)}else r.s=0,r.e=0,r.d=[0];return r}function Gs(r,e,n){var a,i,s,c,l,u,o,h,d=r.d;for(c=1,s=d[0];s>=10;s/=10)c++;if(a=e-c,a<0)a+=vo,i=e,o=d[h=0];else{if(h=Math.ceil((a+1)/vo),s=d.length,h>=s)return r;for(o=s=d[h],c=1;s>=10;s/=10)c++;a%=vo,i=a-vo+c}if(n!==void 0&&(s=Vf(10,c-i-1),l=o/s%10|0,u=e<0||d[h+1]!==void 0||o%s,u=n<4?(l||u)&&(n==0||n==(r.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(a>0?i>0?o/Vf(10,c-i):0:d[h-1])%10&1||n==(r.s<0?8:7))),e<1||!d[0])return u?(s=Sl(r),d.length=1,e=e-s-1,d[0]=Vf(10,(vo-e%vo)%vo),r.e=Dm(-e/vo)||0):(d.length=1,d[0]=r.e=r.s=0),r;if(a==0?(d.length=h,s=1,h--):(d.length=h+1,s=Vf(10,vo-a),d[h]=i>0?(o/Vf(10,c-i)%Vf(10,i)|0)*s:0),u)for(;;)if(h==0){(d[0]+=s)==xc&&(d[0]=1,++r.e);break}else{if(d[h]+=s,d[h]!=xc)break;d[h--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop();if(Eo&&(r.e>Dv||r.e<-Dv))throw Error(H4+Sl(r));return r}function qk(r,e){var n,a,i,s,c,l,u,o,h,d,A=r.constructor,f=A.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new A(r),Eo?Gs(e,f):e;if(u=r.d,d=e.d,a=e.e,o=r.e,u=u.slice(),c=o-a,c){for(h=c<0,h?(n=u,c=-c,l=d.length):(n=d,a=o,l=u.length),i=Math.max(Math.ceil(f/vo),l)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=d.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}c=0}for(h&&(n=u,u=d,d=n,e.s=-e.s),l=u.length,i=d.length-l;i>0;--i)u[l++]=0;for(i=d.length;i>c;){if(u[--i]<d[i]){for(s=i;s&&u[--s]===0;)u[s]=xc-1;--u[s],u[i]+=xc}u[i]-=d[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(e.d=u,e.e=a,Eo?Gs(e,f):e):new A(0)}function op(r,e,n){var a,i=Sl(r),s=Eh(r.d),c=s.length;return e?(n&&(a=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+XA(a):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+XA(-i-1)+s,n&&(a=n-c)>0&&(s+=XA(a))):i>=c?(s+=XA(i+1-c),n&&(a=n-i-1)>0&&(s=s+"."+XA(a))):((a=i+1)<c&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-c)>0&&(i+1===c&&(s+="."),s+=XA(a))),r.s<0?"-"+s:s}function fI(r,e){if(r.length>e)return r.length=e,!0}function Xk(r){var e,n,a;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tp+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return AI(c,s.toString())}else if(typeof s!="string")throw Error(tp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,$W.test(s))AI(c,s);else throw Error(tp+s)}if(i.prototype=Kn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xk,i.config=i.set=VW,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<a.length;)r.hasOwnProperty(n=a[e++])||(r[n]=this[n]);return i.config(r),i}function VW(r){if(!r||typeof r!="object")throw Error(Wd+"Object expected");var e,n,a,i=["precision",1,Fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((a=r[n=i[e]])!==void 0)if(Dm(a)===a&&a>=i[e+1]&&a<=i[e+2])this[n]=a;else throw Error(tp+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(tp+n+": "+a);return this}var Q4=Xk(WW);ld=new Q4(1);const Qs=Q4;function zW(r){return XW(r)||qW(r)||GW(r)||KW()}function KW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(r,e){if(r){if(typeof r=="string")return LC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(r,e)}}function qW(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function XW(r){if(Array.isArray(r))return LC(r)}function LC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var YW=function(e){return e},Yk={},Zk=function(e){return e===Yk},pI=function(e){return function n(){return arguments.length===0||arguments.length===1&&Zk(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ZW=function r(e,n){return e===1?n:pI(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var c=i.filter(function(l){return l!==Yk}).length;return c>=e?n.apply(void 0,i):r(e-c,pI(function(){for(var l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];var h=i.map(function(d){return Zk(d)?u.shift():d});return n.apply(void 0,zW(h).concat(u))}))})},Vx=function(e){return ZW(e.length,e)},UC=function(e,n){for(var a=[],i=e;i<n;++i)a[i-e]=i;return a},JW=Vx(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(n){return e[n]}).map(r)}),e$=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!n.length)return YW;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},HC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Jk=function(e){var n=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n&&s.every(function(l,u){return l===n[u]})||(n=s,a=e.apply(void 0,s)),a}};function t$(r){var e;return r===0?e=1:e=Math.floor(new Qs(r).abs().log(10).toNumber())+1,e}function r$(r,e,n){for(var a=new Qs(r),i=0,s=[];a.lt(e)&&i<1e5;)s.push(a.toNumber()),a=a.add(n),i++;return s}var n$=Vx(function(r,e,n){var a=+r,i=+e;return a+n*(i-a)}),a$=Vx(function(r,e,n){var a=e-+r;return a=a||1/0,(n-r)/a}),i$=Vx(function(r,e,n){var a=e-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const zx={rangeStep:r$,getDigitCount:t$,interpolateNumber:n$,uninterpolateNumber:a$,uninterpolateTruncation:i$};function QC(r){return l$(r)||o$(r)||eP(r)||s$()}function s$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function l$(r){if(Array.isArray(r))return WC(r)}function Ag(r,e){return d$(r)||u$(r,e)||eP(r,e)||c$()}function c$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eP(r,e){if(r){if(typeof r=="string")return WC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(r,e)}}function WC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function u$(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,i=!1,s=void 0;try{for(var c=r[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&c.return!=null&&c.return()}finally{if(i)throw s}}return n}}function d$(r){if(Array.isArray(r))return r}function tP(r){var e=Ag(r,2),n=e[0],a=e[1],i=n,s=a;return n>a&&(i=a,s=n),[i,s]}function rP(r,e,n){if(r.lte(0))return new Qs(0);var a=zx.getDigitCount(r.toNumber()),i=new Qs(10).pow(a),s=r.div(i),c=a!==1?.05:.1,l=new Qs(Math.ceil(s.div(c).toNumber())).add(n).mul(c),u=l.mul(i);return e?u:new Qs(Math.ceil(u))}function h$(r,e,n){var a=1,i=new Qs(r);if(!i.isint()&&n){var s=Math.abs(r);s<1?(a=new Qs(10).pow(zx.getDigitCount(r)-1),i=new Qs(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new Qs(Math.floor(r)))}else r===0?i=new Qs(Math.floor((e-1)/2)):n||(i=new Qs(Math.floor(r)));var c=Math.floor((e-1)/2),l=e$(JW(function(u){return i.add(new Qs(u-c).mul(a)).toNumber()}),UC);return l(0,e)}function nP(r,e,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(n-1)))return{step:new Qs(0),tickMin:new Qs(0),tickMax:new Qs(0)};var s=rP(new Qs(e).sub(r).div(n-1),a,i),c;r<=0&&e>=0?c=new Qs(0):(c=new Qs(r).add(e).div(2),c=c.sub(new Qs(c).mod(s)));var l=Math.ceil(c.sub(r).div(s).toNumber()),u=Math.ceil(new Qs(e).sub(c).div(s).toNumber()),o=l+u+1;return o>n?nP(r,e,n,a,i+1):(o<n&&(u=e>0?u+(n-o):u,l=e>0?l:l+(n-o)),{step:s,tickMin:c.sub(new Qs(l).mul(s)),tickMax:c.add(new Qs(u).mul(s))})}function A$(r){var e=Ag(r,2),n=e[0],a=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),l=tP([n,a]),u=Ag(l,2),o=u[0],h=u[1];if(o===-1/0||h===1/0){var d=h===1/0?[o].concat(QC(UC(0,i-1).map(function(){return 1/0}))):[].concat(QC(UC(0,i-1).map(function(){return-1/0})),[h]);return n>a?HC(d):d}if(o===h)return h$(o,i,s);var A=nP(o,h,c,s),f=A.step,g=A.tickMin,m=A.tickMax,x=zx.rangeStep(g,m.add(new Qs(.1).mul(f)),f);return n>a?HC(x):x}function f$(r,e){var n=Ag(r,2),a=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=tP([a,i]),l=Ag(c,2),u=l[0],o=l[1];if(u===-1/0||o===1/0)return[a,i];if(u===o)return[u];var h=Math.max(e,2),d=rP(new Qs(o).sub(u).div(h-1),s,0),A=[].concat(QC(zx.rangeStep(new Qs(u),new Qs(o).sub(new Qs(.99).mul(d)),d)),[o]);return a>i?HC(A):A}var p$=Jk(A$),m$=Jk(f$),g$="Invariant failed";function lp(r,e){throw new Error(g$)}var v$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cm(r){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(r)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Mv.apply(this,arguments)}function x$(r,e){return j$(r)||w$(r,e)||b$(r,e)||y$()}function y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$(r,e){if(r){if(typeof r=="string")return mI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(r,e)}}function mI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function w$(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function j$(r){if(Array.isArray(r))return r}function C$(r,e){if(r==null)return{};var n=N$(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function N$(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function S$(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function B$(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,sP(a.key),a)}}function E$(r,e,n){return e&&B$(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function I$(r,e,n){return e=Rv(e),T$(r,aP()?Reflect.construct(e,n||[],Rv(r).constructor):e.apply(r,n))}function T$(r,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _$(r)}function _$(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!r})()}function Rv(r){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(r)}function O$(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&$C(r,e)}function $C(r,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},$C(r,e)}function iP(r,e,n){return e=sP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function sP(r){var e=k$(r,"string");return cm(e)=="symbol"?e:e+""}function k$(r,e){if(cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var $g=(function(r){function e(){return S$(this,e),I$(this,e,arguments)}return O$(e,r),E$(e,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,c=a.width,l=a.dataKey,u=a.data,o=a.dataPointFormatter,h=a.xAxis,d=a.yAxis,A=C$(a,v$),f=ka(A,!1);this.props.direction==="x"&&h.type!=="number"&&lp();var g=u.map(function(m){var x=o(m,l),y=x.x,b=x.y,w=x.value,N=x.errorVal;if(!N)return null;var S=[],C,k;if(Array.isArray(N)){var W=x$(N,2);C=W[0],k=W[1]}else C=k=N;if(s==="vertical"){var q=h.scale,te=b+i,K=te+c,X=te-c,O=q(w-C),le=q(w+k);S.push({x1:le,y1:K,x2:le,y2:X}),S.push({x1:O,y1:te,x2:le,y2:te}),S.push({x1:O,y1:K,x2:O,y2:X})}else if(s==="horizontal"){var z=d.scale,R=y+i,ie=R-c,Ae=R+c,Oe=z(w-C),be=z(w+k);S.push({x1:ie,y1:be,x2:Ae,y2:be}),S.push({x1:R,y1:Oe,x2:R,y2:be}),S.push({x1:ie,y1:Oe,x2:Ae,y2:Oe})}return bt.createElement(os,Mv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Te){return"".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))},f),S.map(function(Te){return bt.createElement("line",Mv({},Te,{key:"line-".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))}))});return bt.createElement(os,{className:"recharts-errorBars"},g)}}])})(bt.Component);iP($g,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iP($g,"displayName","ErrorBar");function fg(r){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}function gI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(a){P$(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function P$(r,e,n){return e=F$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function F$(r){var e=D$(r,"string");return fg(e)=="symbol"?e:e+""}function D$(r,e){if(fg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oP=function(e){var n=e.children,a=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,c=id(n,Bh);if(!c)return null;var l=Bh.defaultProps,u=l!==void 0?kf(kf({},l),c.props):{},o;return c.props&&c.props.payload?o=c.props&&c.props.payload:s==="children"?o=(a||[]).reduce(function(h,d){var A=d.item,f=d.props,g=f.sectors||f.data||[];return h.concat(g.map(function(m){return{type:c.props.iconType||A.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):o=(a||[]).map(function(h){var d=h.item,A=d.type.defaultProps,f=A!==void 0?kf(kf({},A),d.props):{},g=f.dataKey,m=f.name,x=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:u.iconType||x||"square",color:W4(d),value:m||g,payload:f}}),kf(kf(kf({},u),Bh.getWithHeight(c,i)),{},{payload:o,item:c})};function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function vI(r){return U$(r)||L$(r)||R$(r)||M$()}function M$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R$(r,e){if(r){if(typeof r=="string")return VC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(r,e)}}function L$(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function U$(r){if(Array.isArray(r))return VC(r)}function VC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function xI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function tl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(a){em(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function em(r,e,n){return e=H$(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function H$(r){var e=Q$(r,"string");return pg(e)=="symbol"?e:e+""}function Q$(r,e){if(pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Gl(r,e,n){return ci(r)||ci(e)?n:Xl(e)?cd(r,e,n):Za(e)?e(r):n}function V0(r,e,n,a){var i=UW(r,function(l){return Gl(l,e)});if(n==="number"){var s=i.filter(function(l){return gn(l)||parseFloat(l)});return s.length?[$x(s),Wx(s)]:[1/0,-1/0]}var c=a?i.filter(function(l){return!ci(l)}):i;return c.map(function(l){return Xl(l)||l instanceof Date?l:""})}var W$=function(e){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,o=0;o<l;o++){var h=o>0?i[o-1].coordinate:i[l-1].coordinate,d=i[o].coordinate,A=o>=l-1?i[0].coordinate:i[o+1].coordinate,f=void 0;if(yu(d-h)!==yu(A-d)){var g=[];if(yu(A-d)===yu(u[1]-u[0])){f=A;var m=d+u[1]-u[0];g[0]=Math.min(m,(m+h)/2),g[1]=Math.max(m,(m+h)/2)}else{f=h;var x=A+u[1]-u[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){c=i[o].index;break}}else{var b=Math.min(h,A),w=Math.max(h,A);if(e>(b+d)/2&&e<=(w+d)/2){c=i[o].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2&&e<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&e>(a[N].coordinate+a[N-1].coordinate)/2){c=a[N].index;break}return c},W4=function(e){var n,a=e,i=a.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tl(tl({},e.type.defaultProps),e.props):e.props,c=s.stroke,l=s.fill,u;switch(i){case"Line":u=c;break;case"Area":case"Radar":u=c&&c!=="none"?c:l;break;default:u=l;break}return u},$$=function(e){var n=e.barSize,a=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},l=Object.keys(s),u=0,o=l.length;u<o;u++)for(var h=s[l[u]].stackGroups,d=Object.keys(h),A=0,f=d.length;A<f;A++){var g=h[d[A]],m=g.items,x=g.cateAxisId,y=m.filter(function(k){return hA(k.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?tl(tl({},b),y[0].props):y[0].props,N=w.barSize,S=w[x];c[S]||(c[S]=[]);var C=ci(N)?n:N;c[S].push({item:y[0],stackList:y.slice(1),barSize:ci(C)?void 0:bu(C,a,0)})}}return c},V$=function(e){var n=e.barGap,a=e.barCategoryGap,i=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,l=e.maxBarSize,u=c.length;if(u<1)return null;var o=bu(n,i,0,!0),h,d=[];if(c[0].barSize===+c[0].barSize){var A=!1,f=i/u,g=c.reduce(function(N,S){return N+S.barSize||0},0);g+=(u-1)*o,g>=i&&(g-=(u-1)*o,o=0),g>=i&&f>0&&(A=!0,f*=.9,g=u*f);var m=(i-g)/2>>0,x={offset:m-o,size:0};h=c.reduce(function(N,S){var C={item:S.item,position:{offset:x.offset+x.size+o,size:A?f:S.barSize}},k=[].concat(vI(N),[C]);return x=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(W){k.push({item:W,position:x})}),k},d)}else{var y=bu(a,i,0,!0);i-2*y-(u-1)*o<=0&&(o=0);var b=(i-2*y-(u-1)*o)/u;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;h=c.reduce(function(N,S,C){var k=[].concat(vI(N),[{item:S.item,position:{offset:y+(b+o)*C+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(W){k.push({item:W,position:k[k.length-1].position})}),k},d)}return h},z$=function(e,n,a,i){var s=a.children,c=a.width,l=a.margin,u=c-(l.left||0)-(l.right||0),o=oP({children:s,legendWidth:u});if(o){var h=i||{},d=h.width,A=h.height,f=o.align,g=o.verticalAlign,m=o.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&f!=="center"&&gn(e[f]))return tl(tl({},e),{},em({},f,e[f]+(d||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&g!=="middle"&&gn(e[g]))return tl(tl({},e),{},em({},g,e[g]+(A||0)))}return e},K$=function(e,n,a){return ci(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},lP=function(e,n,a,i,s){var c=n.props.children,l=ud(c,$g).filter(function(o){return K$(i,s,o.props.direction)});if(l&&l.length){var u=l.map(function(o){return o.props.dataKey});return e.reduce(function(o,h){var d=Gl(h,a);if(ci(d))return o;var A=Array.isArray(d)?[$x(d),Wx(d)]:[d,d],f=u.reduce(function(g,m){var x=Gl(h,m,0),y=A[0]-Math.abs(Array.isArray(x)?x[0]:x),b=A[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(f[0],o[0]),Math.max(f[1],o[1])]},[1/0,-1/0])}return null},G$=function(e,n,a,i,s){var c=n.map(function(l){return lP(e,l,a,s,i)}).filter(function(l){return!ci(l)});return c&&c.length?c.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},cP=function(e,n,a,i,s){var c=n.map(function(u){var o=u.props.dataKey;return a==="number"&&o&&lP(e,u,o,i)||V0(e,o,a,s)});if(a==="number")return c.reduce(function(u,o){return[Math.min(u[0],o[0]),Math.max(u[1],o[1])]},[1/0,-1/0]);var l={};return c.reduce(function(u,o){for(var h=0,d=o.length;h<d;h++)l[o[h]]||(l[o[h]]=!0,u.push(o[h]));return u},[])},uP=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},dP=function(e,n,a,i){if(i)return e.map(function(u){return u.coordinate});var s,c,l=e.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===a&&(c=!0),u.coordinate});return s||l.push(n),c||l.push(a),l},uA=function(e,n,a){if(!e)return null;var i=e.scale,s=e.duplicateDomain,c=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(n||a)&&c==="category"&&i.bandwidth?i.bandwidth()/u:0;if(o=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?yu(l[0]-l[1])*2*o:o,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var A=s?s.indexOf(d):d;return{coordinate:i(A)+o,value:d,offset:o}});return h.filter(function(d){return!Mg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,A){return{coordinate:i(d)+o,value:d,index:A,offset:o}}):i.ticks&&!a?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+o,value:d,offset:o}}):i.domain().map(function(d,A){return{coordinate:i(d)+o,value:s?s[d]:d,index:A,offset:o}})},Qw=new WeakMap,l1=function(e,n){if(typeof n!="function")return e;Qw.has(e)||Qw.set(e,new WeakMap);var a=Qw.get(e);if(a.has(n))return a.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,i),i},hP=function(e,n,a){var i=e.scale,s=e.type,c=e.layout,l=e.axisType;if(i==="auto")return c==="radial"&&l==="radiusAxis"?{scale:og(),realScaleType:"band"}:c==="radial"&&l==="angleAxis"?{scale:Ov(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:$0(),realScaleType:"point"}:s==="category"?{scale:og(),realScaleType:"band"}:{scale:Ov(),realScaleType:"linear"};if(Dg(i)){var u="scale".concat(Ex(i));return{scale:(aI[u]||$0)(),realScaleType:aI[u]?u:"point"}}return Za(i)?{scale:i}:{scale:$0(),realScaleType:"point"}},yI=1e-4,AP=function(e){var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,i=e.range(),s=Math.min(i[0],i[1])-yI,c=Math.max(i[0],i[1])+yI,l=e(n[0]),u=e(n[a-1]);(l<s||l>c||u<s||u>c)&&e.domain([n[0],n[a-1]])}},q$=function(e,n){if(!e)return null;for(var a=0,i=e.length;a<i;a++)if(e[a].item===n)return e[a].position;return null},X$=function(e,n){if(!n||n.length!==2||!gn(n[0])||!gn(n[1]))return e;var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!gn(e[0])||e[0]<a)&&(s[0]=a),(!gn(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},Y$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0,l=0;l<n;++l){var u=Mg(e[l][a][1])?e[l][a][0]:e[l][a][1];u>=0?(e[l][a][0]=s,e[l][a][1]=s+u,s=e[l][a][1]):(e[l][a][0]=c,e[l][a][1]=c+u,c=e[l][a][1])}},Z$=function(e){var n=e.length;if(!(n<=0))for(var a=0,i=e[0].length;a<i;++a)for(var s=0,c=0;c<n;++c){var l=Mg(e[c][a][1])?e[c][a][0]:e[c][a][1];l>=0?(e[c][a][0]=s,e[c][a][1]=s+l,s=e[c][a][1]):(e[c][a][0]=0,e[c][a][1]=0)}},J$={sign:Y$,expand:LL,none:tm,silhouette:UL,wiggle:HL,positive:Z$},eV=function(e,n,a){var i=n.map(function(l){return l.props.dataKey}),s=J$[a],c=RL().keys(i).value(function(l,u){return+Gl(l,u,0)}).order(bC).offset(s);return c(e)},tV=function(e,n,a,i,s,c){if(!e)return null;var l=c?n.reverse():n,u={},o=l.reduce(function(d,A){var f,g=(f=A.type)!==null&&f!==void 0&&f.defaultProps?tl(tl({},A.type.defaultProps),A.props):A.props,m=g.stackId,x=g.hide;if(x)return d;var y=g[a],b=d[y]||{hasStack:!1,stackGroups:{}};if(Xl(m)){var w=b.stackGroups[m]||{numericAxisId:a,cateAxisId:i,items:[]};w.items.push(A),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Om("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[A]};return tl(tl({},d),{},em({},y,b))},u),h={};return Object.keys(o).reduce(function(d,A){var f=o[A];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,x){var y=f.stackGroups[x];return tl(tl({},m),{},em({},x,{numericAxisId:a,cateAxisId:i,items:y.items,stackedData:eV(e,y.items,s)}))},g)}return tl(tl({},d),{},em({},A,f))},h)},fP=function(e,n){var a=n.realScaleType,i=n.type,s=n.tickCount,c=n.originalDomain,l=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var o=e.domain();if(!o.length)return null;var h=p$(o,s,l);return e.domain([$x(h),Wx(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),A=m$(d,s,l);return{niceTicks:A}}return null};function bI(r){var e=r.axis,n=r.ticks,a=r.bandSize,i=r.entry,s=r.index,c=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ci(i[e.dataKey])){var l=Av(n,"value",i[e.dataKey]);if(l)return l.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var u=Gl(i,ci(c)?e.dataKey:c);return ci(u)?null:e.scale(u)}var wI=function(e){var n=e.axis,a=e.ticks,i=e.offset,s=e.bandSize,c=e.entry,l=e.index;if(n.type==="category")return a[l]?a[l].coordinate+i:null;var u=Gl(c,n.dataKey,n.domain[l]);return ci(u)?null:n.scale(u)-s/2+i},rV=function(e){var n=e.numericAxis,a=n.scale.domain();if(n.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},nV=function(e,n){var a,i=(a=e.type)!==null&&a!==void 0&&a.defaultProps?tl(tl({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Xl(s)){var c=n[s];if(c){var l=c.items.indexOf(e);return l>=0?c.stackedData[l]:null}}return null},aV=function(e){return e.reduce(function(n,a){return[$x(a.concat([n[0]]).filter(gn)),Wx(a.concat([n[1]]).filter(gn))]},[1/0,-1/0])},pP=function(e,n,a){return Object.keys(e).reduce(function(i,s){var c=e[s],l=c.stackedData,u=l.reduce(function(o,h){var d=aV(h.slice(n,a+1));return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=function(e,n,a){if(Za(e))return e(n,a);if(!Array.isArray(e))return n;var i=[];if(gn(e[0]))i[0]=a?e[0]:Math.min(e[0],n[0]);else if(jI.test(e[0])){var s=+jI.exec(e[0])[1];i[0]=n[0]-s}else Za(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(gn(e[1]))i[1]=a?e[1]:Math.max(e[1],n[1]);else if(CI.test(e[1])){var c=+CI.exec(e[1])[1];i[1]=n[1]+c}else Za(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Lv=function(e,n,a){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!a||i>0)return i}if(e&&n&&n.length>=2){for(var s=g4(n,function(d){return d.coordinate}),c=1/0,l=1,u=s.length;l<u;l++){var o=s[l],h=s[l-1];c=Math.min((o.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},NI=function(e,n,a){return!e||!e.length||Wg(e,cd(a,"type.defaultProps.domain"))?n:e},mP=function(e,n){var a=e.type.defaultProps?tl(tl({},e.type.defaultProps),e.props):e.props,i=a.dataKey,s=a.name,c=a.unit,l=a.formatter,u=a.tooltipType,o=a.chartType,h=a.hide;return tl(tl({},ka(e,!1)),{},{dataKey:i,unit:c,formatter:l,name:s||i,color:W4(e),value:Gl(n,i),type:u,payload:n,chartType:o,hide:h})};function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}function SI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function sA(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(a){gP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function gP(r,e,n){return e=iV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iV(r){var e=sV(r,"string");return mg(e)=="symbol"?e:e+""}function sV(r,e){if(mg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function oV(r,e){return dV(r)||uV(r,e)||cV(r,e)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(r,e){if(r){if(typeof r=="string")return BI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(r,e)}}function BI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function uV(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function dV(r){if(Array.isArray(r))return r}var Uv=Math.PI/180,hV=function(e){return e*180/Math.PI},io=function(e,n,a,i){return{x:e+Math.cos(-Uv*i)*a,y:n+Math.sin(-Uv*i)*a}},vP=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},AV=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.startAngle,o=e.endAngle,h=bu(e.cx,c,c/2),d=bu(e.cy,l,l/2),A=vP(c,l,a),f=bu(e.innerRadius,A,0),g=bu(e.outerRadius,A,A*.8),m=Object.keys(n);return m.reduce(function(x,y){var b=n[y],w=b.domain,N=b.reversed,S;if(ci(b.range))i==="angleAxis"?S=[u,o]:i==="radiusAxis"&&(S=[f,g]),N&&(S=[S[1],S[0]]);else{S=b.range;var C=S,k=oV(C,2);u=k[0],o=k[1]}var W=hP(b,s),q=W.realScaleType,te=W.scale;te.domain(w).range(S),AP(te);var K=fP(te,sA(sA({},b),{},{realScaleType:q})),X=sA(sA(sA({},b),K),{},{range:S,radius:g,realScaleType:q,scale:te,cx:h,cy:d,innerRadius:f,outerRadius:g,startAngle:u,endAngle:o});return sA(sA({},x),{},gP({},y,X))},{})},fV=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-c,2))},pV=function(e,n){var a=e.x,i=e.y,s=n.cx,c=n.cy,l=fV({x:a,y:i},{x:s,y:c});if(l<=0)return{radius:l};var u=(a-s)/l,o=Math.acos(u);return i>c&&(o=2*Math.PI-o),{radius:l,angle:hV(o),angleInRadian:o}},mV=function(e){var n=e.startAngle,a=e.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return{startAngle:n-c*360,endAngle:a-c*360}},gV=function(e,n){var a=n.startAngle,i=n.endAngle,s=Math.floor(a/360),c=Math.floor(i/360),l=Math.min(s,c);return e+l*360},EI=function(e,n){var a=e.x,i=e.y,s=pV({x:a,y:i},n),c=s.radius,l=s.angle,u=n.innerRadius,o=n.outerRadius;if(c<u||c>o)return!1;if(c===0)return!0;var h=mV(n),d=h.startAngle,A=h.endAngle,f=l,g;if(d<=A){for(;f>A;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=A}else{for(;f>d;)f-=360;for(;f<A;)f+=360;g=f>=A&&f<=d}return g?sA(sA({},n),{},{radius:c,angle:gV(f,n)}):null},xP=function(e){return!P.isValidElement(e)&&!Za(e)&&typeof e!="boolean"?e.className:""};function gg(r){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(r)}var vV=["offset"];function xV(r){return jV(r)||wV(r)||bV(r)||yV()}function yV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bV(r,e){if(r){if(typeof r=="string")return KC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(r,e)}}function wV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jV(r){if(Array.isArray(r))return KC(r)}function KC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function CV(r,e){if(r==null)return{};var n=NV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function NV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function II(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Ql(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(a){SV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function SV(r,e,n){return e=BV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function BV(r){var e=EV(r,"string");return gg(e)=="symbol"?e:e+""}function EV(r,e){if(gg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vg(){return vg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},vg.apply(this,arguments)}var IV=function(e){var n=e.value,a=e.formatter,i=ci(e.children)?n:e.children;return Za(a)?a(i):i},TV=function(e,n){var a=yu(n-e),i=Math.min(Math.abs(n-e),360);return a*i},_V=function(e,n,a){var i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,o=u.cx,h=u.cy,d=u.innerRadius,A=u.outerRadius,f=u.startAngle,g=u.endAngle,m=u.clockWise,x=(d+A)/2,y=TV(f,g),b=y>=0?1:-1,w,N;i==="insideStart"?(w=f+b*c,N=m):i==="insideEnd"?(w=g-b*c,N=!m):i==="end"&&(w=g+b*c,N=m),N=y<=0?N:!N;var S=io(o,h,x,w),C=io(o,h,x,w+(N?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),W=ci(e.id)?Om("recharts-radial-line-"):e.id;return bt.createElement("text",vg({},a,{dominantBaseline:"central",className:vi("recharts-radial-bar-label",l)}),bt.createElement("defs",null,bt.createElement("path",{id:W,d:k})),bt.createElement("textPath",{xlinkHref:"#".concat(W)},n))},OV=function(e){var n=e.viewBox,a=e.offset,i=e.position,s=n,c=s.cx,l=s.cy,u=s.innerRadius,o=s.outerRadius,h=s.startAngle,d=s.endAngle,A=(h+d)/2;if(i==="outside"){var f=io(c,l,o+a,A),g=f.x,m=f.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+o)/2,y=io(c,l,x,A),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},kV=function(e){var n=e.viewBox,a=e.parentViewBox,i=e.offset,s=e.position,c=n,l=c.x,u=c.y,o=c.width,h=c.height,d=h>=0?1:-1,A=d*i,f=d>0?"end":"start",g=d>0?"start":"end",m=o>=0?1:-1,x=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var w={x:l+o/2,y:u-d*i,textAnchor:"middle",verticalAnchor:f};return Ql(Ql({},w),a?{height:Math.max(u-a.y,0),width:o}:{})}if(s==="bottom"){var N={x:l+o/2,y:u+h+A,textAnchor:"middle",verticalAnchor:g};return Ql(Ql({},N),a?{height:Math.max(a.y+a.height-(u+h),0),width:o}:{})}if(s==="left"){var S={x:l-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"};return Ql(Ql({},S),a?{width:Math.max(S.x-a.x,0),height:h}:{})}if(s==="right"){var C={x:l+o+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"};return Ql(Ql({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:h}:{})}var k=a?{width:o,height:h}:{};return s==="insideLeft"?Ql({x:l+x,y:u+h/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideRight"?Ql({x:l+o-x,y:u+h/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideTop"?Ql({x:l+o/2,y:u+A,textAnchor:"middle",verticalAnchor:g},k):s==="insideBottom"?Ql({x:l+o/2,y:u+h-A,textAnchor:"middle",verticalAnchor:f},k):s==="insideTopLeft"?Ql({x:l+x,y:u+A,textAnchor:b,verticalAnchor:g},k):s==="insideTopRight"?Ql({x:l+o-x,y:u+A,textAnchor:y,verticalAnchor:g},k):s==="insideBottomLeft"?Ql({x:l+x,y:u+h-A,textAnchor:b,verticalAnchor:f},k):s==="insideBottomRight"?Ql({x:l+o-x,y:u+h-A,textAnchor:y,verticalAnchor:f},k):_m(s)&&(gn(s.x)||qf(s.x))&&(gn(s.y)||qf(s.y))?Ql({x:l+bu(s.x,o),y:u+bu(s.y,h),textAnchor:"end",verticalAnchor:"end"},k):Ql({x:l+o/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},PV=function(e){return"cx"in e&&gn(e.cx)};function yc(r){var e=r.offset,n=e===void 0?5:e,a=CV(r,vV),i=Ql({offset:n},a),s=i.viewBox,c=i.position,l=i.value,u=i.children,o=i.content,h=i.className,d=h===void 0?"":h,A=i.textBreakAll;if(!s||ci(l)&&ci(u)&&!P.isValidElement(o)&&!Za(o))return null;if(P.isValidElement(o))return P.cloneElement(o,i);var f;if(Za(o)){if(f=P.createElement(o,i),P.isValidElement(f))return f}else f=IV(i);var g=PV(s),m=ka(i,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return _V(i,f,m);var x=g?OV(i):kV(i);return bt.createElement(sp,vg({className:vi("recharts-label",d)},m,x,{breakAll:A}),f)}yc.displayName="Label";var yP=function(e){var n=e.cx,a=e.cy,i=e.angle,s=e.startAngle,c=e.endAngle,l=e.r,u=e.radius,o=e.innerRadius,h=e.outerRadius,d=e.x,A=e.y,f=e.top,g=e.left,m=e.width,x=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(gn(m)&&gn(x)){if(gn(d)&&gn(A))return{x:d,y:A,width:m,height:x};if(gn(f)&&gn(g))return{x:f,y:g,width:m,height:x}}return gn(d)&&gn(A)?{x:d,y:A,width:0,height:0}:gn(n)&&gn(a)?{cx:n,cy:a,startAngle:s||i||0,endAngle:c||i||0,innerRadius:o||0,outerRadius:h||u||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},FV=function(e,n){return e?e===!0?bt.createElement(yc,{key:"label-implicit",viewBox:n}):Xl(e)?bt.createElement(yc,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===yc?P.cloneElement(e,{key:"label-implicit",viewBox:n}):bt.createElement(yc,{key:"label-implicit",content:e,viewBox:n}):Za(e)?bt.createElement(yc,{key:"label-implicit",content:e,viewBox:n}):_m(e)?bt.createElement(yc,vg({viewBox:n},e,{key:"label-implicit"})):null:null},DV=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var i=e.children,s=yP(e),c=ud(i,yc).map(function(u,o){return P.cloneElement(u,{viewBox:n||s,key:"label-".concat(o)})});if(!a)return c;var l=FV(e.label,n||s);return[l].concat(xV(c))};yc.parseViewBox=yP;yc.renderCallByParent=DV;var Ww,TI;function MV(){if(TI)return Ww;TI=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Ww=r,Ww}var RV=MV();const LV=es(RV);function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}var UV=["valueAccessor"],HV=["data","dataKey","clockWise","id","textBreakAll"];function QV(r){return zV(r)||VV(r)||$V(r)||WV()}function WV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(r,e){if(r){if(typeof r=="string")return GC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(r,e)}}function VV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function zV(r){if(Array.isArray(r))return GC(r)}function GC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function Hv(){return Hv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Hv.apply(this,arguments)}function _I(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function OI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(a){KV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function KV(r,e,n){return e=GV(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GV(r){var e=qV(r,"string");return xg(e)=="symbol"?e:e+""}function qV(r,e){if(xg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kI(r,e){if(r==null)return{};var n=XV(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function XV(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var YV=function(e){return Array.isArray(e.value)?LV(e.value):e.value};function fA(r){var e=r.valueAccessor,n=e===void 0?YV:e,a=kI(r,UV),i=a.data,s=a.dataKey,c=a.clockWise,l=a.id,u=a.textBreakAll,o=kI(a,HV);return!i||!i.length?null:bt.createElement(os,{className:"recharts-label-list"},i.map(function(h,d){var A=ci(s)?n(h,d):Gl(h&&h.payload,s),f=ci(l)?{}:{id:"".concat(l,"-").concat(d)};return bt.createElement(yc,Hv({},ka(h,!0),o,f,{parentViewBox:h.parentViewBox,value:A,textBreakAll:u,viewBox:yc.parseViewBox(ci(c)?h:OI(OI({},h),{},{clockWise:c})),key:"label-".concat(d),index:d}))}))}fA.displayName="LabelList";function ZV(r,e){return r?r===!0?bt.createElement(fA,{key:"labelList-implicit",data:e}):bt.isValidElement(r)||Za(r)?bt.createElement(fA,{key:"labelList-implicit",data:e,content:r}):_m(r)?bt.createElement(fA,Hv({data:e},r,{key:"labelList-implicit"})):null:null}function JV(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,i=ud(a,fA).map(function(c,l){return P.cloneElement(c,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=ZV(r.label,e);return[s].concat(QV(i))}fA.renderCallByParent=JV;function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function qC(){return qC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qC.apply(this,arguments)}function PI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function FI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(a){ez(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function ez(r,e,n){return e=tz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tz(r){var e=rz(r,"string");return yg(e)=="symbol"?e:e+""}function rz(r,e){if(yg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var nz=function(e,n){var a=yu(n-e),i=Math.min(Math.abs(n-e),359.999);return a*i},c1=function(e){var n=e.cx,a=e.cy,i=e.radius,s=e.angle,c=e.sign,l=e.isExternal,u=e.cornerRadius,o=e.cornerIsExternal,h=u*(l?1:-1)+i,d=Math.asin(u/h)/Uv,A=o?s:s+c*d,f=io(n,a,h,A),g=io(n,a,i,A),m=o?s-c*d:s,x=io(n,a,h*Math.cos(d*Uv),m);return{center:f,circleTangency:g,lineTangency:x,theta:d}},bP=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.startAngle,l=e.endAngle,u=nz(c,l),o=c+u,h=io(n,a,s,c),d=io(n,a,s,o),A="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(c>o),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=io(n,a,i,c),g=io(n,a,i,o);A+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(c<=o),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(n,",").concat(a," Z");return A},az=function(e){var n=e.cx,a=e.cy,i=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,o=e.startAngle,h=e.endAngle,d=yu(h-o),A=c1({cx:n,cy:a,radius:s,angle:o,sign:d,cornerRadius:c,cornerIsExternal:u}),f=A.circleTangency,g=A.lineTangency,m=A.theta,x=c1({cx:n,cy:a,radius:s,angle:h,sign:-d,cornerRadius:c,cornerIsExternal:u}),y=x.circleTangency,b=x.lineTangency,w=x.theta,N=u?Math.abs(o-h):Math.abs(o-h)-m-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):bP({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:h});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=c1({cx:n,cy:a,radius:i,angle:o,sign:d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),k=C.circleTangency,W=C.lineTangency,q=C.theta,te=c1({cx:n,cy:a,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:c,cornerIsExternal:u}),K=te.circleTangency,X=te.lineTangency,O=te.theta,le=u?Math.abs(o-h):Math.abs(o-h)-q-O;if(le<0&&c===0)return"".concat(S,"L").concat(n,",").concat(a,"Z");S+="L".concat(X.x,",").concat(X.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(le>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(d<0),",").concat(W.x,",").concat(W.y,"Z")}else S+="L".concat(n,",").concat(a,"Z");return S},iz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=function(e){var n=FI(FI({},iz),e),a=n.cx,i=n.cy,s=n.innerRadius,c=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,o=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,A=n.className;if(c<s||h===d)return null;var f=vi("recharts-sector",A),g=c-s,m=bu(l,g,0,!0),x;return m>0&&Math.abs(h-d)<360?x=az({cx:a,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:o,startAngle:h,endAngle:d}):x=bP({cx:a,cy:i,innerRadius:s,outerRadius:c,startAngle:h,endAngle:d}),bt.createElement("path",qC({},ka(n,!0),{className:f,d:x,role:"img"}))};function bg(r){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function XC(){return XC=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},XC.apply(this,arguments)}function DI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function MI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(a){sz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function sz(r,e,n){return e=oz(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oz(r){var e=lz(r,"string");return bg(e)=="symbol"?e:e+""}function lz(r,e){if(bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var RI={curveBasisClosed:BL,curveBasisOpen:EL,curveBasis:SL,curveBumpX:hL,curveBumpY:AL,curveLinearClosed:IL,curveLinear:Tx,curveMonotoneX:TL,curveMonotoneY:_L,curveNatural:OL,curveStep:kL,curveStepAfter:FL,curveStepBefore:PL},u1=function(e){return e.x===+e.x&&e.y===+e.y},Ym=function(e){return e.x},Zm=function(e){return e.y},cz=function(e,n){if(Za(e))return e;var a="curve".concat(Ex(e));return(a==="curveMonotone"||a==="curveBump")&&n?RI["".concat(a).concat(n==="vertical"?"Y":"X")]:RI[a]||Tx},uz=function(e){var n=e.type,a=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,c=e.baseLine,l=e.layout,u=e.connectNulls,o=u===void 0?!1:u,h=cz(a,l),d=o?s.filter(function(m){return u1(m)}):s,A;if(Array.isArray(c)){var f=o?c.filter(function(m){return u1(m)}):c,g=d.map(function(m,x){return MI(MI({},m),{},{base:f[x]})});return l==="vertical"?A=t1().y(Zm).x1(Ym).x0(function(m){return m.base.x}):A=t1().x(Ym).y1(Zm).y0(function(m){return m.base.y}),A.defined(u1).curve(h),A(g)}return l==="vertical"&&gn(c)?A=t1().y(Zm).x1(Ym).x0(c):gn(c)?A=t1().x(Ym).y1(Zm).y0(c):A=bO().x(Ym).y(Zm),A.defined(u1).curve(h),A(d)},Qv=function(e){var n=e.className,a=e.points,i=e.path,s=e.pathRef;if((!a||!a.length)&&!i)return null;var c=a&&a.length?uz(e):i;return bt.createElement("path",XC({},ka(e,!1),fv(e),{className:vi("recharts-curve",n),d:c,ref:s}))},$w={exports:{}},Vw,LI;function dz(){if(LI)return Vw;LI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vw=r,Vw}var zw,UI;function hz(){if(UI)return zw;UI=1;var r=dz();function e(){}function n(){}return n.resetWarningCache=e,zw=function(){function a(c,l,u,o,h,d){if(d!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},zw}var HI;function Az(){return HI||(HI=1,$w.exports=hz()()),$w.exports}var fz=Az();const Ss=es(fz),{getOwnPropertyNames:pz,getOwnPropertySymbols:mz}=Object,{hasOwnProperty:gz}=Object.prototype;function Kw(r,e){return function(a,i,s){return r(a,i,s)&&e(a,i,s)}}function d1(r){return function(n,a,i){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,i);const{cache:s}=i,c=s.get(n),l=s.get(a);if(c&&l)return c===a&&l===n;s.set(n,a),s.set(a,n);const u=r(n,a,i);return s.delete(n),s.delete(a),u}}function vz(r){return r!=null?r[Symbol.toStringTag]:void 0}function QI(r){return pz(r).concat(mz(r))}const xz=Object.hasOwn||((r,e)=>gz.call(r,e));function fp(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const yz="__v",bz="__o",wz="_owner",{getOwnPropertyDescriptor:WI,keys:$I}=Object;function jz(r,e){return r.byteLength===e.byteLength&&Wv(new Uint8Array(r),new Uint8Array(e))}function Cz(r,e,n){let a=r.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],e[a],a,a,r,e,n))return!1;return!0}function Nz(r,e){return r.byteLength===e.byteLength&&Wv(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Sz(r,e){return fp(r.getTime(),e.getTime())}function Bz(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function Ez(r,e){return r===e}function VI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.entries();let c,l,u=0;for(;(c=s.next())&&!c.done;){const o=e.entries();let h=!1,d=0;for(;(l=o.next())&&!l.done;){if(i[d]){d++;continue}const A=c.value,f=l.value;if(n.equals(A[0],f[0],u,d,r,e,n)&&n.equals(A[1],f[1],A[0],f[0],r,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;u++}return!0}const Iz=fp;function Tz(r,e,n){const a=$I(r);let i=a.length;if($I(e).length!==i)return!1;for(;i-- >0;)if(!jP(r,e,n,a[i]))return!1;return!0}function Jm(r,e,n){const a=QI(r);let i=a.length;if(QI(e).length!==i)return!1;let s,c,l;for(;i-- >0;)if(s=a[i],!jP(r,e,n,s)||(c=WI(r,s),l=WI(e,s),(c||l)&&(!c||!l||c.configurable!==l.configurable||c.enumerable!==l.enumerable||c.writable!==l.writable)))return!1;return!0}function _z(r,e){return fp(r.valueOf(),e.valueOf())}function Oz(r,e){return r.source===e.source&&r.flags===e.flags}function zI(r,e,n){const a=r.size;if(a!==e.size)return!1;if(!a)return!0;const i=new Array(a),s=r.values();let c,l;for(;(c=s.next())&&!c.done;){const u=e.values();let o=!1,h=0;for(;(l=u.next())&&!l.done;){if(!i[h]&&n.equals(c.value,l.value,c.value,l.value,r,e,n)){o=i[h]=!0;break}h++}if(!o)return!1}return!0}function Wv(r,e){let n=r.byteLength;if(e.byteLength!==n||r.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function kz(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function jP(r,e,n,a){return(a===wz||a===bz||a===yz)&&(r.$$typeof||e.$$typeof)?!0:xz(e,a)&&n.equals(r[a],e[a],a,a,r,e,n)}const Pz="[object ArrayBuffer]",Fz="[object Arguments]",Dz="[object Boolean]",Mz="[object DataView]",Rz="[object Date]",Lz="[object Error]",Uz="[object Map]",Hz="[object Number]",Qz="[object Object]",Wz="[object RegExp]",$z="[object Set]",Vz="[object String]",zz={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Kz="[object URL]",Gz=Object.prototype.toString;function qz({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:o,areRegExpsEqual:h,areSetsEqual:d,areTypedArraysEqual:A,areUrlsEqual:f,unknownTagComparators:g}){return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;const w=typeof x;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(x,y,b):w==="function"?s(x,y,b):!1;const N=x.constructor;if(N!==y.constructor)return!1;if(N===Object)return u(x,y,b);if(Array.isArray(x))return e(x,y,b);if(N===Date)return a(x,y,b);if(N===RegExp)return h(x,y,b);if(N===Map)return c(x,y,b);if(N===Set)return d(x,y,b);const S=Gz.call(x);if(S===Rz)return a(x,y,b);if(S===Wz)return h(x,y,b);if(S===Uz)return c(x,y,b);if(S===$z)return d(x,y,b);if(S===Qz)return typeof x.then!="function"&&typeof y.then!="function"&&u(x,y,b);if(S===Kz)return f(x,y,b);if(S===Lz)return i(x,y,b);if(S===Fz)return u(x,y,b);if(zz[S])return A(x,y,b);if(S===Pz)return r(x,y,b);if(S===Mz)return n(x,y,b);if(S===Dz||S===Hz||S===Vz)return o(x,y,b);if(g){let C=g[S];if(!C){const k=vz(x);k&&(C=g[k])}if(C)return C(x,y,b)}return!1}}function Xz({circular:r,createCustomConfig:e,strict:n}){let a={areArrayBuffersEqual:jz,areArraysEqual:n?Jm:Cz,areDataViewsEqual:Nz,areDatesEqual:Sz,areErrorsEqual:Bz,areFunctionsEqual:Ez,areMapsEqual:n?Kw(VI,Jm):VI,areNumbersEqual:Iz,areObjectsEqual:n?Jm:Tz,arePrimitiveWrappersEqual:_z,areRegExpsEqual:Oz,areSetsEqual:n?Kw(zI,Jm):zI,areTypedArraysEqual:n?Kw(Wv,Jm):Wv,areUrlsEqual:kz,unknownTagComparators:void 0};if(e&&(a=Object.assign({},a,e(a))),r){const i=d1(a.areArraysEqual),s=d1(a.areMapsEqual),c=d1(a.areObjectsEqual),l=d1(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:l})}return a}function Yz(r){return function(e,n,a,i,s,c,l){return r(e,n,l)}}function Zz({circular:r,comparator:e,createState:n,equals:a,strict:i}){if(n)return function(l,u){const{cache:o=r?new WeakMap:void 0,meta:h}=n();return e(l,u,{cache:o,equals:a,meta:h,strict:i})};if(r)return function(l,u){return e(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};const s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return e(l,u,s)}}const Jz=pf();pf({strict:!0});pf({circular:!0});pf({circular:!0,strict:!0});pf({createInternalComparator:()=>fp});pf({strict:!0,createInternalComparator:()=>fp});pf({circular:!0,createInternalComparator:()=>fp});pf({circular:!0,createInternalComparator:()=>fp,strict:!0});function pf(r={}){const{circular:e=!1,createInternalComparator:n,createState:a,strict:i=!1}=r,s=Xz(r),c=qz(s),l=n?n(c):Yz(c);return Zz({circular:e,comparator:c,createState:a,equals:l,strict:i})}function eK(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function KI(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function i(s){n<0&&(n=s),s-n>e?(r(s),n=-1):eK(i)};requestAnimationFrame(a)}function YC(r){"@babel/helpers - typeof";return YC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YC(r)}function tK(r){return iK(r)||aK(r)||nK(r)||rK()}function rK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(r,e){if(r){if(typeof r=="string")return GI(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(r,e)}}function GI(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function aK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function iK(r){if(Array.isArray(r))return r}function sK(){var r={},e=function(){return null},n=!1,a=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,l=tK(c),u=l[0],o=l.slice(1);if(typeof u=="number"){KI(i.bind(null,o),u);return}i(u),KI(i.bind(null,o));return}YC(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,a(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function qI(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function XI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(a){CP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function CP(r,e,n){return e=oK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oK(r){var e=lK(r,"string");return wg(e)==="symbol"?e:String(e)}function lK(r,e){if(wg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(wg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var cK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},uK=function(e){return e},dK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},z0=function(e,n){return Object.keys(n).reduce(function(a,i){return XI(XI({},a),{},CP({},i,e(i,n[i])))},{})},YI=function(e,n,a){return e.map(function(i){return"".concat(dK(i)," ").concat(n,"ms ").concat(a)}).join(",")};function hK(r,e){return pK(r)||fK(r,e)||NP(r,e)||AK()}function AK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function pK(r){if(Array.isArray(r))return r}function mK(r){return xK(r)||vK(r)||NP(r)||gK()}function gK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NP(r,e){if(r){if(typeof r=="string")return ZC(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(r,e)}}function vK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function xK(r){if(Array.isArray(r))return ZC(r)}function ZC(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var $v=1e-4,SP=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BP=function(e,n){return e.map(function(a,i){return a*Math.pow(n,i)}).reduce(function(a,i){return a+i})},ZI=function(e,n){return function(a){var i=SP(e,n);return BP(i,a)}},yK=function(e,n){return function(a){var i=SP(e,n),s=[].concat(mK(i.map(function(c,l){return c*l}).slice(1)),[0]);return BP(s,a)}},JI=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0],s=n[1],c=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,c=1,l=1;break;case"ease":i=.25,s=.1,c=.25,l=1;break;case"ease-in":i=.42,s=0,c=1,l=1;break;case"ease-out":i=.42,s=0,c=.58,l=1;break;case"ease-in-out":i=0,s=0,c=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var o=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=hK(o,4);i=h[0],s=h[1],c=h[2],l=h[3]}}}var d=ZI(i,c),A=ZI(s,l),f=yK(i,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,N=0;N<8;++N){var S=d(w)-b,C=f(w);if(Math.abs(S-b)<$v||C<$v)return A(w);w=g(w-S/C)}return A(w)};return m.isStepper=!1,m},bK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,a=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,c=e.dt,l=c===void 0?17:c,u=function(h,d,A){var f=-(h-d)*a,g=A*s,m=A+(f-g)*l/1e3,x=A*l/1e3+h;return Math.abs(x-d)<$v&&Math.abs(m)<$v?[d,0]:[x,m]};return u.isStepper=!0,u.dt=l,u},wK=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JI(i);case"spring":return bK();default:if(i.split("(")[0]==="cubic-bezier")return JI(i)}return typeof i=="function"?i:null};function jg(r){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function e8(r){return NK(r)||CK(r)||EP(r)||jK()}function jK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function NK(r){if(Array.isArray(r))return eN(r)}function t8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Rc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(a){JC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function JC(r,e,n){return e=SK(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function SK(r){var e=BK(r,"string");return jg(e)==="symbol"?e:String(e)}function BK(r,e){if(jg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function EK(r,e){return _K(r)||TK(r,e)||EP(r,e)||IK()}function IK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EP(r,e){if(r){if(typeof r=="string")return eN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(r,e)}}function eN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function TK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function _K(r){if(Array.isArray(r))return r}var Vv=function(e,n,a){return e+(n-e)*a},tN=function(e){var n=e.from,a=e.to;return n!==a},OK=function r(e,n,a){var i=z0(function(s,c){if(tN(c)){var l=e(c.from,c.to,c.velocity),u=EK(l,2),o=u[0],h=u[1];return Rc(Rc({},c),{},{from:o,velocity:h})}return c},n);return a<1?z0(function(s,c){return tN(c)?Rc(Rc({},c),{},{velocity:Vv(c.velocity,i[s].velocity,a),from:Vv(c.from,i[s].from,a)}):c},n):r(e,i,a-1)};const kK=(function(r,e,n,a,i){var s=cK(r,e),c=s.reduce(function(x,y){return Rc(Rc({},x),{},JC({},y,[r[y],e[y]]))},{}),l=s.reduce(function(x,y){return Rc(Rc({},x),{},JC({},y,{from:r[y],velocity:0,to:e[y]}))},{}),u=-1,o,h,d=function(){return null},A=function(){return z0(function(y,b){return b.from},l)},f=function(){return!Object.values(l).filter(tN).length},g=function(y){o||(o=y);var b=y-o,w=b/n.dt;l=OK(n,l,w),i(Rc(Rc(Rc({},r),e),A())),o=y,f()||(u=requestAnimationFrame(d))},m=function(y){h||(h=y);var b=(y-h)/a,w=z0(function(S,C){return Vv.apply(void 0,e8(C).concat([n(b)]))},c);if(i(Rc(Rc(Rc({},r),e),w)),b<1)u=requestAnimationFrame(d);else{var N=z0(function(S,C){return Vv.apply(void 0,e8(C).concat([n(1)]))},c);i(Rc(Rc(Rc({},r),e),N))}};return d=n.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(u)}}});function um(r){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(r)}var PK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FK(r,e){if(r==null)return{};var n=DK(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function DK(r,e){if(r==null)return{};var n={},a=Object.keys(r),i,s;for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Gw(r){return UK(r)||LK(r)||RK(r)||MK()}function MK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(r,e){if(r){if(typeof r=="string")return rN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(r,e)}}function LK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function UK(r){if(Array.isArray(r))return rN(r)}function rN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function r8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function ah(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(n),!0).forEach(function(a){k0(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function k0(r,e,n){return e=IP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function HK(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function QK(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,IP(a.key),a)}}function WK(r,e,n){return e&&QK(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function IP(r){var e=$K(r,"string");return um(e)==="symbol"?e:String(e)}function $K(r,e){if(um(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function VK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&nN(r,e)}function nN(r,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},nN(r,e)}function zK(r){var e=KK();return function(){var a=zv(r),i;if(e){var s=zv(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return aN(this,i)}}function aN(r,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iN(r)}function iN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zv(r){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(r)}var Ph=(function(r){VK(n,r);var e=zK(n);function n(a,i){var s;HK(this,n),s=e.call(this,a,i);var c=s.props,l=c.isActive,u=c.attributeName,o=c.from,h=c.to,d=c.steps,A=c.children,f=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(iN(s)),s.changeStyle=s.changeStyle.bind(iN(s)),!l||f<=0)return s.state={style:{}},typeof A=="function"&&(s.state={style:h}),aN(s);if(d&&d.length)s.state={style:d[0].style};else if(o){if(typeof A=="function")return s.state={style:o},aN(s);s.state={style:u?k0({},u,o):o}}else s.state={style:{}};return s}return WK(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,l=s.canBegin,u=s.attributeName,o=s.shouldReAnimate,h=s.to,d=s.from,A=this.state.style;if(l){if(!c){var f={style:u?k0({},u,h):h};this.state&&A&&(u&&A[u]!==h||!u&&A!==h)&&this.setState(f);return}if(!(Jz(i.to,h)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||o?d:i.to;if(this.state&&A){var x={style:u?k0({},u,m):m};(u&&A[u]!==m||!u&&A!==m)&&this.setState(x)}this.runAnimation(ah(ah({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,l=i.to,u=i.duration,o=i.easing,h=i.begin,d=i.onAnimationEnd,A=i.onAnimationStart,f=kK(c,l,wK(o),u,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([A,h,g,u,d])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,l=i.begin,u=i.onAnimationStart,o=c[0],h=o.style,d=o.duration,A=d===void 0?0:d,f=function(m,x,y){if(y===0)return m;var b=x.duration,w=x.easing,N=w===void 0?"ease":w,S=x.style,C=x.properties,k=x.onAnimationEnd,W=y>0?c[y-1]:x,q=C||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(Gw(m),[s.runJSAnimation.bind(s,{from:W.style,to:S,duration:b,easing:N}),b]);var te=YI(q,b,N),K=ah(ah(ah({},W.style),S),{},{transition:te});return[].concat(Gw(m),[K,b,k]).filter(uK)};return this.manager.start([u].concat(Gw(c.reduce(f,[h,Math.max(A,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=sK());var s=i.begin,c=i.duration,l=i.attributeName,u=i.to,o=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,A=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var m=l?k0({},l,u):u,x=YI(Object.keys(m),c,o);g.start([h,s,ah(ah({},m),{},{transition:x}),c,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=FK(i,PK),o=P.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||o===0||c<=0)return s;var d=function(f){var g=f.props,m=g.style,x=m===void 0?{}:m,y=g.className,b=P.cloneElement(f,ah(ah({},u),{},{style:ah(ah({},x),h),className:y}));return b};return o===1?d(P.Children.only(s)):bt.createElement("div",null,P.Children.map(s,function(A){return d(A)}))}}]),n})(P.PureComponent);Ph.displayName="Animate";Ph.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ph.propTypes={from:Ss.oneOfType([Ss.object,Ss.string]),to:Ss.oneOfType([Ss.object,Ss.string]),attributeName:Ss.string,duration:Ss.number,begin:Ss.number,easing:Ss.oneOfType([Ss.string,Ss.func]),steps:Ss.arrayOf(Ss.shape({duration:Ss.number.isRequired,style:Ss.object.isRequired,easing:Ss.oneOfType([Ss.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ss.func]),properties:Ss.arrayOf("string"),onAnimationEnd:Ss.func})),children:Ss.oneOfType([Ss.node,Ss.func]),isActive:Ss.bool,canBegin:Ss.bool,onAnimationEnd:Ss.func,shouldReAnimate:Ss.bool,onAnimationStart:Ss.func,onAnimationReStart:Ss.func};function Cg(r){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Kv.apply(this,arguments)}function GK(r,e){return ZK(r)||YK(r,e)||XK(r,e)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(r,e){if(r){if(typeof r=="string")return n8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n8(r,e)}}function n8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function YK(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function ZK(r){if(Array.isArray(r))return r}function a8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function i8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(a){JK(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function JK(r,e,n){return e=eG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eG(r){var e=tG(r,"string");return Cg(e)=="symbol"?e:e+""}function tG(r,e){if(Cg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var s8=function(e,n,a,i,s){var c=Math.min(Math.abs(a)/2,Math.abs(i)/2),l=i>=0?1:-1,u=a>=0?1:-1,o=i>=0&&a>=0||i<0&&a<0?1:0,h;if(c>0&&s instanceof Array){for(var d=[0,0,0,0],A=0,f=4;A<f;A++)d[A]=s[A]>c?c:s[A];h="M".concat(e,",").concat(n+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(o,",").concat(e+u*d[0],",").concat(n)),h+="L ".concat(e+a-u*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(o,`,
        `).concat(e+a,",").concat(n+l*d[1])),h+="L ".concat(e+a,",").concat(n+i-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(o,`,
        `).concat(e+a-u*d[2],",").concat(n+i)),h+="L ".concat(e+u*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(n+i-l*d[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var g=Math.min(c,s);h="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+a-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a,",").concat(n+l*g,`
            L `).concat(e+a,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+a-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e,",").concat(n+i-l*g," Z")}else h="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return h},rG=function(e,n){if(!e||!n)return!1;var a=e.x,i=e.y,s=n.x,c=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var o=Math.min(s,s+l),h=Math.max(s,s+l),d=Math.min(c,c+u),A=Math.max(c,c+u);return a>=o&&a<=h&&i>=d&&i<=A}return!1},nG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$4=function(e){var n=i8(i8({},nG),e),a=P.useRef(),i=P.useState(-1),s=GK(i,2),c=s[0],l=s[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var u=n.x,o=n.y,h=n.width,d=n.height,A=n.radius,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||h===0||d===0)return null;var w=vi("recharts-rectangle",f);return b?bt.createElement(Ph,{canBegin:c>0,from:{width:h,height:d,x:u,y:o},to:{width:h,height:d,x:u,y:o},duration:m,animationEasing:g,isActive:b},function(N){var S=N.width,C=N.height,k=N.x,W=N.y;return bt.createElement(Ph,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},bt.createElement("path",Kv({},ka(n,!0),{className:w,d:s8(k,W,S,C,A),ref:a})))}):bt.createElement("path",Kv({},ka(n,!0),{className:w,d:s8(u,o,h,d,A)}))},aG=["points","className","baseLinePoints","connectNulls"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Qp.apply(this,arguments)}function iG(r,e){if(r==null)return{};var n=sG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function sG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function o8(r){return uG(r)||cG(r)||lG(r)||oG()}function oG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(r,e){if(r){if(typeof r=="string")return sN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(r,e)}}function cG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function uG(r){if(Array.isArray(r))return sN(r)}function sN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var l8=function(e){return e&&e.x===+e.x&&e.y===+e.y},dG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(a){l8(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),l8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},K0=function(e,n){var a=dG(e);n&&(a=[a.reduce(function(s,c){return[].concat(o8(s),o8(c))},[])]);var i=a.map(function(s){return s.reduce(function(c,l,u){return"".concat(c).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(i,"Z"):i},hG=function(e,n,a){var i=K0(e,a);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(K0(n.reverse(),a).slice(1))},AG=function(e){var n=e.points,a=e.className,i=e.baseLinePoints,s=e.connectNulls,c=iG(e,aG);if(!n||!n.length)return null;var l=vi("recharts-polygon",a);if(i&&i.length){var u=c.stroke&&c.stroke!=="none",o=hG(n,i,s);return bt.createElement("g",{className:l},bt.createElement("path",Qp({},ka(c,!0),{fill:o.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:o})),u?bt.createElement("path",Qp({},ka(c,!0),{fill:"none",d:K0(n,s)})):null,u?bt.createElement("path",Qp({},ka(c,!0),{fill:"none",d:K0(i,s)})):null)}var h=K0(n,s);return bt.createElement("path",Qp({},ka(c,!0),{fill:h.slice(-1)==="Z"?c.fill:"none",className:l,d:h}))};function oN(){return oN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},oN.apply(this,arguments)}var Kx=function(e){var n=e.cx,a=e.cy,i=e.r,s=e.className,c=vi("recharts-dot",s);return n===+n&&a===+a&&i===+i?bt.createElement("circle",oN({},ka(e,!1),fv(e),{className:c,cx:n,cy:a,r:i})):null};function Ng(r){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(r)}var fG=["x","y","top","left","width","height","className"];function lN(){return lN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},lN.apply(this,arguments)}function c8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function pG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(a){mG(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mG(r,e,n){return e=gG(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gG(r){var e=vG(r,"string");return Ng(e)=="symbol"?e:e+""}function vG(r,e){if(Ng(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xG(r,e){if(r==null)return{};var n=yG(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function yG(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var bG=function(e,n,a,i,s,c){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(a)},wG=function(e){var n=e.x,a=n===void 0?0:n,i=e.y,s=i===void 0?0:i,c=e.top,l=c===void 0?0:c,u=e.left,o=u===void 0?0:u,h=e.width,d=h===void 0?0:h,A=e.height,f=A===void 0?0:A,g=e.className,m=xG(e,fG),x=pG({x:a,y:s,top:l,left:o,width:d,height:f},m);return!gn(a)||!gn(s)||!gn(d)||!gn(f)||!gn(l)||!gn(o)?null:bt.createElement("path",lN({},ka(x,!0),{className:vi("recharts-cross",g),d:bG(a,s,d,f,l,o)}))},qw,u8;function jG(){if(u8)return qw;u8=1;var r=Qx(),e=$k(),n=Mh();function a(i,s){return i&&i.length?r(i,n(s,2),e):void 0}return qw=a,qw}var CG=jG();const NG=es(CG);var Xw,d8;function SG(){if(d8)return Xw;d8=1;var r=Qx(),e=Mh(),n=Vk();function a(i,s){return i&&i.length?r(i,e(s,2),n):void 0}return Xw=a,Xw}var BG=SG();const EG=es(BG);var IG=["cx","cy","angle","ticks","axisLine"],TG=["ticks","tick","angle","tickFormatter","stroke"];function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(r)}function G0(){return G0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},G0.apply(this,arguments)}function h8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Pf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(a){Gx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function A8(r,e){if(r==null)return{};var n=_G(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function _G(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function OG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function f8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,_P(a.key),a)}}function kG(r,e,n){return e&&f8(r.prototype,e),n&&f8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function PG(r,e,n){return e=Gv(e),FG(r,TP()?Reflect.construct(e,n||[],Gv(r).constructor):e.apply(r,n))}function FG(r,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DG(r)}function DG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!r})()}function Gv(r){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(r)}function MG(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cN(r,e)}function cN(r,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},cN(r,e)}function Gx(r,e,n){return e=_P(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _P(r){var e=RG(r,"string");return dm(e)=="symbol"?e:e+""}function RG(r,e){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var qx=(function(r){function e(){return OG(this,e),PG(this,e,arguments)}return MG(e,r),kG(e,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,s=this.props,c=s.angle,l=s.cx,u=s.cy;return io(l,u,i,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=NG(l,function(h){return h.coordinate||0}),o=EG(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:c,endAngle:c,innerRadius:o.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.angle,l=a.ticks,u=a.axisLine,o=A8(a,IG),h=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=io(i,s,h[0],c),A=io(i,s,h[1],c),f=Pf(Pf(Pf({},ka(o,!1)),{},{fill:"none"},ka(u,!1)),{},{x1:d.x,y1:d.y,x2:A.x,y2:A.y});return bt.createElement("line",G0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.angle,u=i.tickFormatter,o=i.stroke,h=A8(i,TG),d=this.getTickTextAnchor(),A=ka(h,!1),f=ka(c,!1),g=s.map(function(m,x){var y=a.getTickValueCoord(m),b=Pf(Pf(Pf(Pf({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},A),{},{stroke:"none",fill:o},f),{},{index:x},y),{},{payload:m});return bt.createElement(os,G0({className:vi("recharts-polar-radius-axis-tick",xP(c)),key:"tick-".concat(m.coordinate)},ip(a.props,m,x)),e.renderTickItem(c,b,u?u(m.value,x):m.value))});return bt.createElement(os,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.axisLine,c=a.tick;return!i||!i.length?null:bt.createElement(os,{className:vi("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),yc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return bt.isValidElement(a)?c=bt.cloneElement(a,i):Za(a)?c=a(i):c=bt.createElement(sp,G0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(P.PureComponent);Gx(qx,"displayName","PolarRadiusAxis");Gx(qx,"axisType","radiusAxis");Gx(qx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hm(r){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(r)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Kf.apply(this,arguments)}function p8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Ff(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(n),!0).forEach(function(a){Xx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function LG(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,kP(a.key),a)}}function UG(r,e,n){return e&&m8(r.prototype,e),n&&m8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function HG(r,e,n){return e=qv(e),QG(r,OP()?Reflect.construct(e,n||[],qv(r).constructor):e.apply(r,n))}function QG(r,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(r)}function WG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function OP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!r})()}function qv(r){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(r)}function $G(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&uN(r,e)}function uN(r,e){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},uN(r,e)}function Xx(r,e,n){return e=kP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function kP(r){var e=VG(r,"string");return hm(e)=="symbol"?e:e+""}function VG(r,e){if(hm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var zG=Math.PI/180,g8=1e-5,Yx=(function(r){function e(){return LG(this,e),HG(this,e,arguments)}return $G(e,r),UG(e,[{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.cx,c=i.cy,l=i.radius,u=i.orientation,o=i.tickSize,h=o||8,d=io(s,c,l,a.coordinate),A=io(s,c,l+(u==="inner"?-1:1)*h,a.coordinate);return{x1:d.x,y1:d.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,s=Math.cos(-a.coordinate*zG),c;return s>g8?c=i==="outer"?"start":"end":s<-g8?c=i==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,s=a.cy,c=a.radius,l=a.axisLine,u=a.axisLineType,o=Ff(Ff({},ka(this.props,!1)),{},{fill:"none"},ka(l,!1));if(u==="circle")return bt.createElement(Kx,Kf({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:s,r:c}));var h=this.props.ticks,d=h.map(function(A){return io(i,s,c,A.coordinate)});return bt.createElement(AG,Kf({className:"recharts-polar-angle-axis-line"},o,{points:d}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,s=i.ticks,c=i.tick,l=i.tickLine,u=i.tickFormatter,o=i.stroke,h=ka(this.props,!1),d=ka(c,!1),A=Ff(Ff({},h),{},{fill:"none"},ka(l,!1)),f=s.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),b=Ff(Ff(Ff({textAnchor:y},h),{},{stroke:"none",fill:o},d),{},{index:m,payload:g,x:x.x2,y:x.y2});return bt.createElement(os,Kf({className:vi("recharts-polar-angle-axis-tick",xP(c)),key:"tick-".concat(g.coordinate)},ip(a.props,g,m)),l&&bt.createElement("line",Kf({className:"recharts-polar-angle-axis-tick-line"},A,x)),c&&e.renderTickItem(c,b,u?u(g.value,m):g.value))});return bt.createElement(os,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var a=this.props,i=a.ticks,s=a.radius,c=a.axisLine;return s<=0||!i||!i.length?null:bt.createElement(os,{className:vi("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,s){var c;return bt.isValidElement(a)?c=bt.cloneElement(a,i):Za(a)?c=a(i):c=bt.createElement(sp,Kf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(P.PureComponent);Xx(Yx,"displayName","PolarAngleAxis");Xx(Yx,"axisType","angleAxis");Xx(Yx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yw,v8;function KG(){if(v8)return Yw;v8=1;var r=$O(),e=r(Object.getPrototypeOf,Object);return Yw=e,Yw}var Zw,x8;function GG(){if(x8)return Zw;x8=1;var r=xA(),e=KG(),n=yA(),a="[object Object]",i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);function o(h){if(!n(h)||r(h)!=a)return!1;var d=e(h);if(d===null)return!0;var A=l.call(d,"constructor")&&d.constructor;return typeof A=="function"&&A instanceof A&&c.call(A)==u}return Zw=o,Zw}var qG=GG();const XG=es(qG);var Jw,y8;function YG(){if(y8)return Jw;y8=1;var r=xA(),e=yA(),n="[object Boolean]";function a(i){return i===!0||i===!1||e(i)&&r(i)==n}return Jw=a,Jw}var ZG=YG();const JG=es(ZG);function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Xv.apply(this,arguments)}function eq(r,e){return aq(r)||nq(r,e)||rq(r,e)||tq()}function tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(r,e){if(r){if(typeof r=="string")return b8(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b8(r,e)}}function b8(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function nq(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function aq(r){if(Array.isArray(r))return r}function w8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function j8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(a){iq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function iq(r,e,n){return e=sq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function sq(r){var e=oq(r,"string");return Sg(e)=="symbol"?e:e+""}function oq(r,e){if(Sg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var C8=function(e,n,a,i,s){var c=a-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+a,",").concat(n),l+="L ".concat(e+a-c/2,",").concat(n+s),l+="L ".concat(e+a-c/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},lq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cq=function(e){var n=j8(j8({},lq),e),a=P.useRef(),i=P.useState(-1),s=eq(i,2),c=s[0],l=s[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&l(w)}catch{}},[]);var u=n.x,o=n.y,h=n.upperWidth,d=n.lowerWidth,A=n.height,f=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(u!==+u||o!==+o||h!==+h||d!==+d||A!==+A||h===0&&d===0||A===0)return null;var b=vi("recharts-trapezoid",f);return y?bt.createElement(Ph,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:A,x:u,y:o},to:{upperWidth:h,lowerWidth:d,height:A,x:u,y:o},duration:m,animationEasing:g,isActive:y},function(w){var N=w.upperWidth,S=w.lowerWidth,C=w.height,k=w.x,W=w.y;return bt.createElement(Ph,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},bt.createElement("path",Xv({},ka(n,!0),{className:b,d:C8(k,W,N,S,C),ref:a})))}):bt.createElement("g",null,bt.createElement("path",Xv({},ka(n,!0),{className:b,d:C8(u,o,h,d,A)})))},uq=["option","shapeType","propTransformer","activeClassName","isActive"];function Bg(r){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(r)}function dq(r,e){if(r==null)return{};var n=hq(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function hq(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function N8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Yv(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(a){Aq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Aq(r,e,n){return e=fq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function fq(r){var e=pq(r,"string");return Bg(e)=="symbol"?e:e+""}function pq(r,e){if(Bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function mq(r,e){return Yv(Yv({},e),r)}function gq(r,e){return r==="symbols"}function S8(r){var e=r.shapeType,n=r.elementProps;switch(e){case"rectangle":return bt.createElement($4,n);case"trapezoid":return bt.createElement(cq,n);case"sector":return bt.createElement(wP,n);case"symbols":if(gq(e))return bt.createElement(c4,n);break;default:return null}}function vq(r){return P.isValidElement(r)?r.props:r}function PP(r){var e=r.option,n=r.shapeType,a=r.propTransformer,i=a===void 0?mq:a,s=r.activeClassName,c=s===void 0?"recharts-active-shape":s,l=r.isActive,u=dq(r,uq),o;if(P.isValidElement(e))o=P.cloneElement(e,Yv(Yv({},u),vq(e)));else if(Za(e))o=e(u);else if(XG(e)&&!JG(e)){var h=i(e,u);o=bt.createElement(S8,{shapeType:n,elementProps:h})}else{var d=u;o=bt.createElement(S8,{shapeType:n,elementProps:d})}return l?bt.createElement(os,{className:c},o):o}function Zx(r,e){return e!=null&&"trapezoids"in r.props}function Jx(r,e){return e!=null&&"sectors"in r.props}function Eg(r,e){return e!=null&&"points"in r.props}function xq(r,e){var n,a,i=r.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===e.x,s=r.y===(e==null||(a=e.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===e.y;return i&&s}function yq(r,e){var n=r.endAngle===e.endAngle,a=r.startAngle===e.startAngle;return n&&a}function bq(r,e){var n=r.x===e.x,a=r.y===e.y,i=r.z===e.z;return n&&a&&i}function wq(r,e){var n;return Zx(r,e)?n=xq:Jx(r,e)?n=yq:Eg(r,e)&&(n=bq),n}function jq(r,e){var n;return Zx(r,e)?n="trapezoids":Jx(r,e)?n="sectors":Eg(r,e)&&(n="points"),n}function Cq(r,e){if(Zx(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Jx(r,e)){var a;return(a=e.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Eg(r,e)?e.payload:{}}function Nq(r){var e=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,i=jq(n,e),s=Cq(n,e),c=a.filter(function(u,o){var h=Wg(s,u),d=n.props[i].filter(function(g){var m=wq(n,e);return m(g,e)}),A=n.props[i].indexOf(d[d.length-1]),f=o===A;return h&&f}),l=a.indexOf(c[c.length-1]);return l}var iv;function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(r)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function B8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function no(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(n),!0).forEach(function(a){Ld(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Sq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function E8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,DP(a.key),a)}}function Bq(r,e,n){return e&&E8(r.prototype,e),n&&E8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Eq(r,e,n){return e=Zv(e),Iq(r,FP()?Reflect.construct(e,n||[],Zv(r).constructor):e.apply(r,n))}function Iq(r,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tq(r)}function Tq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!r})()}function Zv(r){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(r)}function _q(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&dN(r,e)}function dN(r,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},dN(r,e)}function Ld(r,e,n){return e=DP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function DP(r){var e=Oq(r,"string");return Am(e)=="symbol"?e:e+""}function Oq(r,e){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wA=(function(r){function e(n){var a;return Sq(this,e),a=Eq(this,e,[n]),Ld(a,"pieRef",null),Ld(a,"sectorRefs",[]),Ld(a,"id",Om("recharts-pie-")),Ld(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Za(i)&&i()}),Ld(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Za(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return _q(e,r),Bq(e,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,l=s.labelLine,u=s.dataKey,o=s.valueKey,h=ka(this.props,!1),d=ka(c,!1),A=ka(l,!1),f=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,b=io(m.cx,m.cy,m.outerRadius+f,y),w=no(no(no(no({},h),m),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,m.cx)},b),N=no(no(no(no({},h),m),{},{fill:"none",stroke:m.fill},A),{},{index:x,points:[io(m.cx,m.cy,m.outerRadius,y),b]}),S=u;return ci(u)&&ci(o)?S="value":ci(u)&&(S=o),bt.createElement(os,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(c,w,Gl(m,S)))});return bt.createElement(os,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var i=this,s=this.props,c=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return a.map(function(o,h){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&a.length!==1)return null;var d=i.isActiveIndex(h),A=u&&i.hasActiveIndex()?u:null,f=d?c:A,g=no(no({},o),{},{stroke:l?o.fill:o.stroke,tabIndex:-1});return bt.createElement(os,Wp({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ip(i.props,o,h),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(h)}),bt.createElement(PP,Wp({option:f,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,s=i.sectors,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,o=i.animationEasing,h=i.animationId,d=this.state,A=d.prevSectors,f=d.prevIsAnimationActive;return bt.createElement(Ph,{begin:l,duration:u,isActive:c,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,N){var S=A&&A[N],C=N>0?cd(w,"paddingAngle",0):0;if(S){var k=od(S.endAngle-S.startAngle,w.endAngle-w.startAngle),W=no(no({},w),{},{startAngle:b+C,endAngle:b+k(m)+C});x.push(W),b=W.endAngle}else{var q=w.endAngle,te=w.startAngle,K=od(0,q-te),X=K(m),O=no(no({},w),{},{startAngle:b+C,endAngle:b+X+C});x.push(O),b=O.endAngle}}),bt.createElement(os,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,s=a.isAnimationActive,c=this.state.prevSectors;return s&&i&&i.length&&(!c||!Wg(c,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,s=i.hide,c=i.sectors,l=i.className,u=i.label,o=i.cx,h=i.cy,d=i.innerRadius,A=i.outerRadius,f=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!c||!c.length||!gn(o)||!gn(h)||!gn(d)||!gn(A))return null;var m=vi("recharts-pie",l);return bt.createElement(os,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),u&&this.renderLabels(c),yc.renderCallByParent(this.props,null,!1),(!f||g)&&fA.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i,s){if(bt.isValidElement(a))return bt.cloneElement(a,i);if(Za(a))return a(i);var c=vi("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return bt.createElement(Qv,Wp({},i,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,i,s){if(bt.isValidElement(a))return bt.cloneElement(a,i);var c=s;if(Za(a)&&(c=a(i),bt.isValidElement(c)))return c;var l=vi("recharts-pie-label-text",typeof a!="boolean"&&!Za(a)?a.className:"");return bt.createElement(sp,Wp({},i,{alignmentBaseline:"middle",className:l}),c)}}])})(P.PureComponent);iv=wA;Ld(wA,"displayName","Pie");Ld(wA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ld(wA,"parseDeltaAngle",function(r,e){var n=yu(e-r),a=Math.min(Math.abs(e-r),360);return n*a});Ld(wA,"getRealPieData",function(r){var e=r.data,n=r.children,a=ka(r,!1),i=ud(n,Fx);return e&&e.length?e.map(function(s,c){return no(no(no({payload:s},a),s),i&&i[c]&&i[c].props)}):i&&i.length?i.map(function(s){return no(no({},a),s.props)}):[]});Ld(wA,"parseCoordinateOfPie",function(r,e){var n=e.top,a=e.left,i=e.width,s=e.height,c=vP(i,s),l=a+bu(r.cx,i,i/2),u=n+bu(r.cy,s,s/2),o=bu(r.innerRadius,c,0),h=bu(r.outerRadius,c,c*.8),d=r.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:o,outerRadius:h,maxRadius:d}});Ld(wA,"getComposedData",function(r){var e=r.item,n=r.offset,a=e.type.defaultProps!==void 0?no(no({},e.type.defaultProps),e.props):e.props,i=iv.getRealPieData(a);if(!i||!i.length)return null;var s=a.cornerRadius,c=a.startAngle,l=a.endAngle,u=a.paddingAngle,o=a.dataKey,h=a.nameKey,d=a.valueKey,A=a.tooltipType,f=Math.abs(a.minAngle),g=iv.parseCoordinateOfPie(a,n),m=iv.parseDeltaAngle(c,l),x=Math.abs(m),y=o;ci(o)&&ci(d)?(hh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ci(o)&&(hh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var b=i.filter(function(W){return Gl(W,y,0)!==0}).length,w=(x>=360?b:b-1)*u,N=x-b*f-w,S=i.reduce(function(W,q){var te=Gl(q,y,0);return W+(gn(te)?te:0)},0),C;if(S>0){var k;C=i.map(function(W,q){var te=Gl(W,y,0),K=Gl(W,h,q),X=(gn(te)?te:0)/S,O;q?O=k.endAngle+yu(m)*u*(te!==0?1:0):O=c;var le=O+yu(m)*((te!==0?f:0)+X*N),z=(O+le)/2,R=(g.innerRadius+g.outerRadius)/2,ie=[{name:K,value:te,payload:W,dataKey:y,type:A}],Ae=io(g.cx,g.cy,R,z);return k=no(no(no({percent:X,cornerRadius:s,name:K,tooltipPayload:ie,midAngle:z,middleRadius:R,tooltipPosition:Ae},W),g),{},{value:Gl(W,y),startAngle:O,endAngle:le,payload:W,paddingAngle:yu(m)*u}),k})}return no(no({},g),{},{sectors:C,data:i})});var ej,I8;function kq(){if(I8)return ej;I8=1;var r=Math.ceil,e=Math.max;function n(a,i,s,c){for(var l=-1,u=e(r((i-a)/(s||1)),0),o=Array(u);u--;)o[c?u:++l]=a,a+=s;return o}return ej=n,ej}var tj,T8;function MP(){if(T8)return tj;T8=1;var r=sk(),e=1/0,n=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return tj=a,tj}var rj,_8;function Pq(){if(_8)return rj;_8=1;var r=kq(),e=Px(),n=MP();function a(i){return function(s,c,l){return l&&typeof l!="number"&&e(s,c,l)&&(c=l=void 0),s=n(s),c===void 0?(c=s,s=0):c=n(c),l=l===void 0?s<c?1:-1:n(l),r(s,c,l,i)}}return rj=a,rj}var nj,O8;function Fq(){if(O8)return nj;O8=1;var r=Pq(),e=r();return nj=e,nj}var Dq=Fq();const Jv=es(Dq);function Ig(r){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(r)}function k8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function P8(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(a){RP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function RP(r,e,n){return e=Mq(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Mq(r){var e=Rq(r,"string");return Ig(e)=="symbol"?e:e+""}function Rq(r,e){if(Ig(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Lq=["Webkit","Moz","O","ms"],Uq=function(e,n){var a=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Lq.reduce(function(s,c){return P8(P8({},s),{},RP({},c+a,n))},{});return i[e]=n,i};function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(r)}function ex(){return ex=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ex.apply(this,arguments)}function F8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function aj(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(n),!0).forEach(function(a){ad(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Hq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function D8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,UP(a.key),a)}}function Qq(r,e,n){return e&&D8(r.prototype,e),n&&D8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Wq(r,e,n){return e=tx(e),$q(r,LP()?Reflect.construct(e,n||[],tx(r).constructor):e.apply(r,n))}function $q(r,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(r)}function Vq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!r})()}function tx(r){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(r)}function zq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&hN(r,e)}function hN(r,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},hN(r,e)}function ad(r,e,n){return e=UP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function UP(r){var e=Kq(r,"string");return fm(e)=="symbol"?e:e+""}function Kq(r,e){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Gq=function(e){var n=e.data,a=e.startIndex,i=e.endIndex,s=e.x,c=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,o=$0().domain(Jv(0,u)).range([s,s+c-l]),h=o.domain().map(function(d){return o(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(a),endX:o(i),scale:o,scaleValues:h}},M8=function(e){return e.changedTouches&&!!e.changedTouches.length},pm=(function(r){function e(n){var a;return Hq(this,e),a=Wq(this,e,[n]),ad(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),ad(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),ad(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,c=i.onDragEnd,l=i.startIndex;c==null||c({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),ad(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ad(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ad(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ad(a,"handleSlideDragStart",function(i){var s=M8(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return zq(e,r),Qq(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,c=this.state.scaleValues,l=this.props,u=l.gap,o=l.data,h=o.length-1,d=Math.min(i,s),A=Math.max(i,s),f=e.getIndexInRange(c,d),g=e.getIndexInRange(c,A);return{startIndex:f-f%u,endIndex:g===h?h:g-g%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,c=i.tickFormatter,l=i.dataKey,u=Gl(s[a],l,a);return Za(c)?c(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,c=i.startX,l=i.endX,u=this.props,o=u.x,h=u.width,d=u.travellerWidth,A=u.startIndex,f=u.endIndex,g=u.onChange,m=a.pageX-s;m>0?m=Math.min(m,o+h-d-l,o+h-d-c):m<0&&(m=Math.max(m,o-c,o-l));var x=this.getIndex({startX:c+m,endX:l+m});(x.startIndex!==A||x.endIndex!==f)&&g&&g(x),this.setState({startX:c+m,endX:l+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=M8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,l=i.endX,u=i.startX,o=this.state[c],h=this.props,d=h.x,A=h.width,f=h.travellerWidth,g=h.onChange,m=h.gap,x=h.data,y={startX:this.state.startX,endX:this.state.endX},b=a.pageX-s;b>0?b=Math.min(b,d+A-f-o):b<0&&(b=Math.max(b,d-o)),y[c]=o+b;var w=this.getIndex(y),N=w.startIndex,S=w.endIndex,C=function(){var W=x.length-1;return c==="startX"&&(l>u?N%m===0:S%m===0)||l<u&&S===W||c==="endX"&&(l>u?S%m===0:N%m===0)||l>u&&S===W};this.setState(ad(ad({},c,o+b),"brushMoveStartX",a.pageX),function(){g&&C()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,c=this.state,l=c.scaleValues,u=c.startX,o=c.endX,h=this.state[i],d=l.indexOf(h);if(d!==-1){var A=d+a;if(!(A===-1||A>=l.length)){var f=l[A];i==="startX"&&f>=o||i==="endX"&&f<=u||this.setState(ad({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.fill,o=a.stroke;return bt.createElement("rect",{stroke:o,fill:u,x:i,y:s,width:c,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.data,o=a.children,h=a.padding,d=P.Children.only(o);return d?bt.cloneElement(d,{x:i,y:s,width:c,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,c,l=this,u=this.props,o=u.y,h=u.travellerWidth,d=u.height,A=u.traveller,f=u.ariaLabel,g=u.data,m=u.startIndex,x=u.endIndex,y=Math.max(a,this.props.x),b=aj(aj({},ka(this.props,!1)),{},{x:y,y:o,width:h,height:d}),w=f||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return bt.createElement(os,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,b))}},{key:"renderSlide",value:function(a,i){var s=this.props,c=s.y,l=s.height,u=s.stroke,o=s.travellerWidth,h=Math.min(a,i)+o,d=Math.max(Math.abs(i-a)-o,0);return bt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:c,width:d,height:l})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,c=a.y,l=a.height,u=a.travellerWidth,o=a.stroke,h=this.state,d=h.startX,A=h.endX,f=5,g={pointerEvents:"none",fill:o};return bt.createElement(os,{className:"recharts-brush-texts"},bt.createElement(sp,ex({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,A)-f,y:c+l/2},g),this.getTextOfTick(i)),bt.createElement(sp,ex({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,A)+u+f,y:c+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,c=a.children,l=a.x,u=a.y,o=a.width,h=a.height,d=a.alwaysShowText,A=this.state,f=A.startX,g=A.endX,m=A.isTextActive,x=A.isSlideMoving,y=A.isTravellerMoving,b=A.isTravellerFocused;if(!i||!i.length||!gn(l)||!gn(u)||!gn(o)||!gn(h)||o<=0||h<=0)return null;var w=vi("recharts-brush",s),N=bt.Children.count(c)===1,S=Uq("userSelect","none");return bt.createElement(os,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,c=a.width,l=a.height,u=a.stroke,o=Math.floor(s+l/2)-1;return bt.createElement(bt.Fragment,null,bt.createElement("rect",{x:i,y:s,width:c,height:l,fill:u,stroke:"none"}),bt.createElement("line",{x1:i+1,y1:o,x2:i+c-1,y2:o,fill:"none",stroke:"#fff"}),bt.createElement("line",{x1:i+1,y1:o+2,x2:i+c-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return bt.isValidElement(a)?s=bt.cloneElement(a,i):Za(a)?s=a(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,c=a.width,l=a.x,u=a.travellerWidth,o=a.updateId,h=a.startIndex,d=a.endIndex;if(s!==i.prevData||o!==i.prevUpdateId)return aj({prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c},s&&s.length?Gq({data:s,width:c,x:l,travellerWidth:u,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+c-u]);var A=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:o,prevX:l,prevWidth:c,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,c=0,l=s-1;l-c>1;){var u=Math.floor((c+l)/2);a[u]>i?l=u:c=u}return i>=a[l]?l:c}}])})(P.PureComponent);ad(pm,"displayName","Brush");ad(pm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ij,R8;function qq(){if(R8)return ij;R8=1;var r=m4();function e(n,a){var i;return r(n,function(s,c,l){return i=a(s,c,l),!i}),!!i}return ij=e,ij}var sj,L8;function Xq(){if(L8)return sj;L8=1;var r=MO(),e=Mh(),n=qq(),a=Lu(),i=Px();function s(c,l,u){var o=a(c)?r:n;return u&&i(c,l,u)&&(l=void 0),o(c,e(l,3))}return sj=s,sj}var Yq=Xq();const Zq=es(Yq);var Oh=function(e,n){var a=e.alwaysShow,i=e.ifOverflow;return a&&(i="extendDomain"),i===n},oj,U8;function Jq(){if(U8)return oj;U8=1;var r=tk();function e(n,a,i){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}return oj=e,oj}var lj,H8;function eX(){if(H8)return lj;H8=1;var r=Jq(),e=JO(),n=Mh();function a(i,s){var c={};return s=n(s,3),e(i,function(l,u,o){r(c,u,s(l,u,o))}),c}return lj=a,lj}var tX=eX();const rX=es(tX);var cj,Q8;function nX(){if(Q8)return cj;Q8=1;function r(e,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(!n(e[a],a,e))return!1;return!0}return cj=r,cj}var uj,W8;function aX(){if(W8)return uj;W8=1;var r=m4();function e(n,a){var i=!0;return r(n,function(s,c,l){return i=!!a(s,c,l),i}),i}return uj=e,uj}var dj,$8;function iX(){if($8)return dj;$8=1;var r=nX(),e=aX(),n=Mh(),a=Lu(),i=Px();function s(c,l,u){var o=a(c)?r:e;return u&&i(c,l,u)&&(l=void 0),o(c,n(l,3))}return dj=s,dj}var sX=iX();const HP=es(sX);var oX=["x","y"];function Tg(r){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function AN(){return AN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},AN.apply(this,arguments)}function V8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function e0(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(a){lX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function lX(r,e,n){return e=cX(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cX(r){var e=uX(r,"string");return Tg(e)=="symbol"?e:e+""}function uX(r,e){if(Tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dX(r,e){if(r==null)return{};var n=hX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function hX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function AX(r,e){var n=r.x,a=r.y,i=dX(r,oX),s="".concat(n),c=parseInt(s,10),l="".concat(a),u=parseInt(l,10),o="".concat(e.height||i.height),h=parseInt(o,10),d="".concat(e.width||i.width),A=parseInt(d,10);return e0(e0(e0(e0(e0({},e),i),c?{x:c}:{}),u?{y:u}:{}),{},{height:h,width:A,name:e.name,radius:e.radius})}function z8(r){return bt.createElement(PP,AN({shapeType:"rectangle",propTransformer:AX,activeClassName:"recharts-active-bar"},r))}var fX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof e=="number")return e;var s=typeof a=="number";return s?e(a,i):(s||lp(),n)}},pX=["value","background"],QP;function mm(r){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(r)}function mX(r,e){if(r==null)return{};var n=gX(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function gX(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function rx(){return rx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},rx.apply(this,arguments)}function K8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Cl(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(a){tf(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function vX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function G8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,$P(a.key),a)}}function xX(r,e,n){return e&&G8(r.prototype,e),n&&G8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function yX(r,e,n){return e=nx(e),bX(r,WP()?Reflect.construct(e,n||[],nx(r).constructor):e.apply(r,n))}function bX(r,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wX(r)}function wX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!r})()}function nx(r){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(r)}function jX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&fN(r,e)}function fN(r,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},fN(r,e)}function tf(r,e,n){return e=$P(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function $P(r){var e=CX(r,"string");return mm(e)=="symbol"?e:e+""}function CX(r,e){if(mm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var pp=(function(r){function e(){var n;vX(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=yX(this,e,[].concat(i)),tf(n,"state",{isAnimationFinished:!1}),tf(n,"id",Om("recharts-bar-")),tf(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),tf(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return jX(e,r),xX(e,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,c=s.shape,l=s.dataKey,u=s.activeIndex,o=s.activeBar,h=ka(this.props,!1);return a&&a.map(function(d,A){var f=A===u,g=f?o:c,m=Cl(Cl(Cl({},h),d),{},{isActive:f,option:g,index:A,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return bt.createElement(os,rx({className:"recharts-bar-rectangle"},ip(i.props,d,A),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),bt.createElement(z8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,c=i.layout,l=i.isAnimationActive,u=i.animationBegin,o=i.animationDuration,h=i.animationEasing,d=i.animationId,A=this.state.prevData;return bt.createElement(Ph,{begin:u,duration:o,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,m=s.map(function(x,y){var b=A&&A[y];if(b){var w=od(b.x,x.x),N=od(b.y,x.y),S=od(b.width,x.width),C=od(b.height,x.height);return Cl(Cl({},x),{},{x:w(g),y:N(g),width:S(g),height:C(g)})}if(c==="horizontal"){var k=od(0,x.height),W=k(g);return Cl(Cl({},x),{},{y:x.y+x.height-W,height:W})}var q=od(0,x.width),te=q(g);return Cl(Cl({},x),{},{width:te})});return bt.createElement(os,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!Wg(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,c=i.dataKey,l=i.activeIndex,u=ka(this.props.background,!1);return s.map(function(o,h){o.value;var d=o.background,A=mX(o,pX);if(!d)return null;var f=Cl(Cl(Cl(Cl(Cl({},A),{},{fill:"#eee"},d),u),ip(a.props,o,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:h,className:"recharts-bar-background-rectangle"});return bt.createElement(z8,rx({key:"background-bar-".concat(h),option:a.props.background,isActive:h===l},f))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=ud(h,$g);if(!d)return null;var A=o==="vertical"?c[0].height/2:c[0].width/2,f=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Gl(x,y)}},g={clipPath:a?"url(#clipPath-".concat(i,")"):null};return bt.createElement(os,g,d.map(function(m){return bt.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,offset:A,dataPointFormatter:f})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,c=a.className,l=a.xAxis,u=a.yAxis,o=a.left,h=a.top,d=a.width,A=a.height,f=a.isAnimationActive,g=a.background,m=a.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=vi("recharts-bar",c),b=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,N=b||w,S=ci(m)?this.id:m;return bt.createElement(os,{className:y},b||w?bt.createElement("defs",null,bt.createElement("clipPath",{id:"clipPath-".concat(S)},bt.createElement("rect",{x:b?o:o-d/2,y:w?h:h-A/2,width:b?d:d*2,height:w?A:A*2}))):null,bt.createElement(os,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!f||x)&&fA.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])})(P.PureComponent);QP=pp;tf(pp,"displayName","Bar");tf(pp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tf(pp,"getComposedData",function(r){var e=r.props,n=r.item,a=r.barPosition,i=r.bandSize,s=r.xAxis,c=r.yAxis,l=r.xAxisTicks,u=r.yAxisTicks,o=r.stackedData,h=r.dataStartIndex,d=r.displayedData,A=r.offset,f=q$(a,n);if(!f)return null;var g=e.layout,m=n.type.defaultProps,x=m!==void 0?Cl(Cl({},m),n.props):n.props,y=x.dataKey,b=x.children,w=x.minPointSize,N=g==="horizontal"?c:s,S=o?N.scale.domain():null,C=rV({numericAxis:N}),k=ud(b,Fx),W=d.map(function(q,te){var K,X,O,le,z,R;o?K=X$(o[h+te],S):(K=Gl(q,y),Array.isArray(K)||(K=[C,K]));var ie=fX(w,QP.defaultProps.minPointSize)(K[1],te);if(g==="horizontal"){var Ae,Oe=[c.scale(K[0]),c.scale(K[1])],be=Oe[0],Te=Oe[1];X=wI({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:q,index:te}),O=(Ae=Te??be)!==null&&Ae!==void 0?Ae:void 0,le=f.size;var Y=be-Te;if(z=Number.isNaN(Y)?0:Y,R={x:X,y:c.y,width:le,height:c.height},Math.abs(ie)>0&&Math.abs(z)<Math.abs(ie)){var Ne=yu(z||ie)*(Math.abs(ie)-Math.abs(z));O-=Ne,z+=Ne}}else{var ce=[s.scale(K[0]),s.scale(K[1])],ae=ce[0],Ce=ce[1];if(X=ae,O=wI({axis:c,ticks:u,bandSize:i,offset:f.offset,entry:q,index:te}),le=Ce-ae,z=f.size,R={x:s.x,y:O,width:s.width,height:z},Math.abs(ie)>0&&Math.abs(le)<Math.abs(ie)){var Ee=yu(le||ie)*(Math.abs(ie)-Math.abs(le));le+=Ee}}return Cl(Cl(Cl({},q),{},{x:X,y:O,width:le,height:z,value:o?K:K[1],payload:q,background:R},k&&k[te]&&k[te].props),{},{tooltipPayload:[mP(n,q)],tooltipPosition:{x:X+le/2,y:O+z/2}})});return Cl({data:W,layout:g},A)});function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function NX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function q8(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,VP(a.key),a)}}function SX(r,e,n){return e&&q8(r.prototype,e),n&&q8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function X8(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function oh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(a){e2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function e2(r,e,n){return e=VP(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function VP(r){var e=BX(r,"string");return _g(e)=="symbol"?e:e+""}function BX(r,e){if(_g(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var zP=function(e,n,a,i,s){var c=e.width,l=e.height,u=e.layout,o=e.children,h=Object.keys(n),d={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},A=!!id(o,pp);return h.reduce(function(f,g){var m=n[g],x=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,N=m.mirror,S=m.reversed,C="".concat(x).concat(N?"Mirror":""),k,W,q,te,K;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var X=y[1]-y[0],O=1/0,le=m.categoricalDomain.sort();if(le.forEach(function(ce,ae){ae>0&&(O=Math.min((ce||0)-(le[ae-1]||0),O))}),Number.isFinite(O)){var z=O/X,R=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(k=z*R/2),m.padding==="no-gap"){var ie=bu(e.barCategoryGap,z*R),Ae=z*R/2;k=Ae-ie-(Ae-ie)/R*ie}}}i==="xAxis"?W=[a.left+(w.left||0)+(k||0),a.left+a.width-(w.right||0)-(k||0)]:i==="yAxis"?W=u==="horizontal"?[a.top+a.height-(w.bottom||0),a.top+(w.top||0)]:[a.top+(w.top||0)+(k||0),a.top+a.height-(w.bottom||0)-(k||0)]:W=m.range,S&&(W=[W[1],W[0]]);var Oe=hP(m,s,A),be=Oe.scale,Te=Oe.realScaleType;be.domain(y).range(W),AP(be);var Y=fP(be,oh(oh({},m),{},{realScaleType:Te}));i==="xAxis"?(K=x==="top"&&!N||x==="bottom"&&N,q=a.left,te=d[C]-K*m.height):i==="yAxis"&&(K=x==="left"&&!N||x==="right"&&N,q=d[C]-K*m.width,te=a.top);var Ne=oh(oh(oh({},m),Y),{},{realScaleType:Te,x:q,y:te,scale:be,width:i==="xAxis"?a.width:m.width,height:i==="yAxis"?a.height:m.height});return Ne.bandSize=Lv(Ne,Y),!m.hide&&i==="xAxis"?d[C]+=(K?-1:1)*Ne.height:m.hide||(d[C]+=(K?-1:1)*Ne.width),oh(oh({},f),{},e2({},g,Ne))},{})},KP=function(e,n){var a=e.x,i=e.y,s=n.x,c=n.y;return{x:Math.min(a,s),y:Math.min(i,c),width:Math.abs(s-a),height:Math.abs(c-i)}},EX=function(e){var n=e.x1,a=e.y1,i=e.x2,s=e.y2;return KP({x:n,y:a},{x:i,y:s})},GP=(function(){function r(e){NX(this,r),this.scale=e}return SX(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new r(n)}}])})();e2(GP,"EPS",1e-4);var V4=function(e){var n=Object.keys(e).reduce(function(a,i){return oh(oh({},a),{},e2({},i,GP.create(e[i])))},{});return oh(oh({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,l=s.position;return rX(i,function(u,o){return n[o].apply(u,{bandAware:c,position:l})})},isInRange:function(i){return HP(i,function(s,c){return n[c].isInRange(s)})}})};function IX(r){return(r%180+180)%180}var TX=function(e){var n=e.width,a=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=IX(i),c=s*Math.PI/180,l=Math.atan(a/n),u=c>l&&c<Math.PI-l?a/Math.sin(c):n/Math.cos(c);return Math.abs(u)},hj,Y8;function _X(){if(Y8)return hj;Y8=1;var r=Mh(),e=Rg(),n=Ox();function a(i){return function(s,c,l){var u=Object(s);if(!e(s)){var o=r(c,3);s=n(s),c=function(d){return o(u[d],d,u)}}var h=i(s,c,l);return h>-1?u[o?s[h]:h]:void 0}}return hj=a,hj}var Aj,Z8;function OX(){if(Z8)return Aj;Z8=1;var r=MP();function e(n){var a=r(n),i=a%1;return a===a?i?a-i:a:0}return Aj=e,Aj}var fj,J8;function kX(){if(J8)return fj;J8=1;var r=GO(),e=Mh(),n=OX(),a=Math.max;function i(s,c,l){var u=s==null?0:s.length;if(!u)return-1;var o=l==null?0:n(l);return o<0&&(o=a(u+o,0)),r(s,e(c,3),o)}return fj=i,fj}var pj,e6;function PX(){if(e6)return pj;e6=1;var r=_X(),e=kX(),n=r(e);return pj=n,pj}var FX=PX();const DX=es(FX);var MX=uO();const RX=es(MX);var LX=RX(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),z4=P.createContext(void 0),K4=P.createContext(void 0),qP=P.createContext(void 0),XP=P.createContext({}),YP=P.createContext(void 0),ZP=P.createContext(0),JP=P.createContext(0),t6=function(e){var n=e.state,a=n.xAxisMap,i=n.yAxisMap,s=n.offset,c=e.clipPathId,l=e.children,u=e.width,o=e.height,h=LX(s);return bt.createElement(z4.Provider,{value:a},bt.createElement(K4.Provider,{value:i},bt.createElement(XP.Provider,{value:s},bt.createElement(qP.Provider,{value:h},bt.createElement(YP.Provider,{value:c},bt.createElement(ZP.Provider,{value:o},bt.createElement(JP.Provider,{value:u},l)))))))},UX=function(){return P.useContext(YP)},eF=function(e){var n=P.useContext(z4);n==null&&lp();var a=n[e];return a==null&&lp(),a},HX=function(){var e=P.useContext(z4);return JA(e)},QX=function(){var e=P.useContext(K4),n=DX(e,function(a){return HP(a.domain,Number.isFinite)});return n||JA(e)},tF=function(e){var n=P.useContext(K4);n==null&&lp();var a=n[e];return a==null&&lp(),a},WX=function(){var e=P.useContext(qP);return e},$X=function(){return P.useContext(XP)},G4=function(){return P.useContext(JP)},q4=function(){return P.useContext(ZP)};function gm(r){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(r)}function VX(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zX(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,nF(a.key),a)}}function KX(r,e,n){return e&&zX(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function GX(r,e,n){return e=ax(e),qX(r,rF()?Reflect.construct(e,n||[],ax(r).constructor):e.apply(r,n))}function qX(r,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(r)}function XX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!r})()}function ax(r){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(r)}function YX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&pN(r,e)}function pN(r,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},pN(r,e)}function r6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function n6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(a){X4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function X4(r,e,n){return e=nF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nF(r){var e=ZX(r,"string");return gm(e)=="symbol"?e:e+""}function ZX(r,e){if(gm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function JX(r,e){return nY(r)||rY(r,e)||tY(r,e)||eY()}function eY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tY(r,e){if(r){if(typeof r=="string")return a6(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(r,e)}}function a6(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function rY(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function nY(r){if(Array.isArray(r))return r}function mN(){return mN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},mN.apply(this,arguments)}var aY=function(e,n){var a;return bt.isValidElement(e)?a=bt.cloneElement(e,n):Za(e)?a=e(n):a=bt.createElement("line",mN({},n,{className:"recharts-reference-line-line"})),a},iY=function(e,n,a,i,s,c,l,u,o){var h=s.x,d=s.y,A=s.width,f=s.height;if(a){var g=o.y,m=e.y.apply(g,{position:c});if(Oh(o,"discard")&&!e.y.isInRange(m))return null;var x=[{x:h+A,y:m},{x:h,y:m}];return u==="left"?x.reverse():x}if(n){var y=o.x,b=e.x.apply(y,{position:c});if(Oh(o,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+f},{x:b,y:d}];return l==="top"?w.reverse():w}if(i){var N=o.segment,S=N.map(function(C){return e.apply(C,{position:c})});return Oh(o,"discard")&&Zq(S,function(C){return!e.isInRange(C)})?null:S}return null};function sY(r){var e=r.x,n=r.y,a=r.segment,i=r.xAxisId,s=r.yAxisId,c=r.shape,l=r.className,u=r.alwaysShow,o=UX(),h=eF(i),d=tF(s),A=WX();if(!o||!A)return null;hh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=V4({x:h.scale,y:d.scale}),g=Xl(e),m=Xl(n),x=a&&a.length===2,y=iY(f,g,m,x,A,r.position,h.orientation,d.orientation,r);if(!y)return null;var b=JX(y,2),w=b[0],N=w.x,S=w.y,C=b[1],k=C.x,W=C.y,q=Oh(r,"hidden")?"url(#".concat(o,")"):void 0,te=n6(n6({clipPath:q},ka(r,!0)),{},{x1:N,y1:S,x2:k,y2:W});return bt.createElement(os,{className:vi("recharts-reference-line",l)},aY(c,te),yc.renderCallByParent(r,EX({x1:N,y1:S,x2:k,y2:W})))}var Y4=(function(r){function e(){return VX(this,e),GX(this,e,arguments)}return YX(e,r),KX(e,[{key:"render",value:function(){return bt.createElement(sY,this.props)}}])})(bt.Component);X4(Y4,"displayName","ReferenceLine");X4(Y4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gN(){return gN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gN.apply(this,arguments)}function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(r)}function i6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function s6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(a){t2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function oY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function lY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,iF(a.key),a)}}function cY(r,e,n){return e&&lY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function uY(r,e,n){return e=ix(e),dY(r,aF()?Reflect.construct(e,n||[],ix(r).constructor):e.apply(r,n))}function dY(r,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(r)}function hY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!r})()}function ix(r){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(r)}function AY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&vN(r,e)}function vN(r,e){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},vN(r,e)}function t2(r,e,n){return e=iF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iF(r){var e=fY(r,"string");return vm(e)=="symbol"?e:e+""}function fY(r,e){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var pY=function(e){var n=e.x,a=e.y,i=e.xAxis,s=e.yAxis,c=V4({x:i.scale,y:s.scale}),l=c.apply({x:n,y:a},{bandAware:!0});return Oh(e,"discard")&&!c.isInRange(l)?null:l},r2=(function(r){function e(){return oY(this,e),uY(this,e,arguments)}return AY(e,r),cY(e,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,c=a.r,l=a.alwaysShow,u=a.clipPathId,o=Xl(i),h=Xl(s);if(hh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!h)return null;var d=pY(this.props);if(!d)return null;var A=d.x,f=d.y,g=this.props,m=g.shape,x=g.className,y=Oh(this.props,"hidden")?"url(#".concat(u,")"):void 0,b=s6(s6({clipPath:y},ka(this.props,!0)),{},{cx:A,cy:f});return bt.createElement(os,{className:vi("recharts-reference-dot",x)},e.renderDot(m,b),yc.renderCallByParent(this.props,{x:A-c,y:f-c,width:2*c,height:2*c}))}}])})(bt.Component);t2(r2,"displayName","ReferenceDot");t2(r2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t2(r2,"renderDot",function(r,e){var n;return bt.isValidElement(r)?n=bt.cloneElement(r,e):Za(r)?n=r(e):n=bt.createElement(Kx,gN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xN(){return xN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},xN.apply(this,arguments)}function xm(r){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(r)}function o6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function l6(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(a){n2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gY(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,oF(a.key),a)}}function vY(r,e,n){return e&&gY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function xY(r,e,n){return e=sx(e),yY(r,sF()?Reflect.construct(e,n||[],sx(r).constructor):e.apply(r,n))}function yY(r,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bY(r)}function bY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!r})()}function sx(r){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(r)}function wY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&yN(r,e)}function yN(r,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},yN(r,e)}function n2(r,e,n){return e=oF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oF(r){var e=jY(r,"string");return xm(e)=="symbol"?e:e+""}function jY(r,e){if(xm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var CY=function(e,n,a,i,s){var c=s.x1,l=s.x2,u=s.y1,o=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var A=V4({x:h.scale,y:d.scale}),f={x:e?A.x.apply(c,{position:"start"}):A.x.rangeMin,y:a?A.y.apply(u,{position:"start"}):A.y.rangeMin},g={x:n?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(o,{position:"end"}):A.y.rangeMax};return Oh(s,"discard")&&(!A.isInRange(f)||!A.isInRange(g))?null:KP(f,g)},a2=(function(r){function e(){return mY(this,e),xY(this,e,arguments)}return wY(e,r),vY(e,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.className,o=a.alwaysShow,h=a.clipPathId;hh(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xl(i),A=Xl(s),f=Xl(c),g=Xl(l),m=this.props.shape;if(!d&&!A&&!f&&!g&&!m)return null;var x=CY(d,A,f,g,this.props);if(!x&&!m)return null;var y=Oh(this.props,"hidden")?"url(#".concat(h,")"):void 0;return bt.createElement(os,{className:vi("recharts-reference-area",u)},e.renderRect(m,l6(l6({clipPath:y},ka(this.props,!0)),x)),yc.renderCallByParent(this.props,x))}}])})(bt.Component);n2(a2,"displayName","ReferenceArea");n2(a2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n2(a2,"renderRect",function(r,e){var n;return bt.isValidElement(r)?n=bt.cloneElement(r,e):Za(r)?n=r(e):n=bt.createElement($4,xN({},e,{className:"recharts-reference-area-rect"})),n});function lF(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var a=[],i=0;i<r.length;i+=e)a.push(r[i]);return a}function NY(r,e,n){var a={width:r.width+e.width,height:r.height+e.height};return TX(a,n)}function SY(r,e,n){var a=n==="width",i=r.x,s=r.y,c=r.width,l=r.height;return e===1?{start:a?i:s,end:a?i+c:s+l}:{start:a?i+c:s+l,end:a?i:s}}function ox(r,e,n,a,i){if(r*e<r*a||r*e>r*i)return!1;var s=n();return r*(e-r*s/2-a)>=0&&r*(e+r*s/2-i)<=0}function BY(r,e){return lF(r,e+1)}function EY(r,e,n,a,i){for(var s=(a||[]).slice(),c=e.start,l=e.end,u=0,o=1,h=c,d=function(){var g=a==null?void 0:a[u];if(g===void 0)return{v:lF(a,o)};var m=u,x,y=function(){return x===void 0&&(x=n(g,m)),x},b=g.coordinate,w=u===0||ox(r,b,y,h,l);w||(u=0,h=c,o+=1),w&&(h=b+r*(y()/2+i),u+=o)},A;o<=s.length;)if(A=d(),A)return A.v;return[]}function Og(r){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(r)}function c6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function Jc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(n),!0).forEach(function(a){IY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function IY(r,e,n){return e=TY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function TY(r){var e=_Y(r,"string");return Og(e)=="symbol"?e:e+""}function _Y(r,e){if(Og(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function OY(r,e,n,a,i){for(var s=(a||[]).slice(),c=s.length,l=e.start,u=e.end,o=function(A){var f=s[A],g,m=function(){return g===void 0&&(g=n(f,A)),g};if(A===c-1){var x=r*(f.coordinate+r*m()/2-u);s[A]=f=Jc(Jc({},f),{},{tickCoord:x>0?f.coordinate-x*r:f.coordinate})}else s[A]=f=Jc(Jc({},f),{},{tickCoord:f.coordinate});var y=ox(r,f.tickCoord,m,l,u);y&&(u=f.tickCoord-r*(m()/2+i),s[A]=Jc(Jc({},f),{},{isShow:!0}))},h=c-1;h>=0;h--)o(h);return s}function kY(r,e,n,a,i,s){var c=(a||[]).slice(),l=c.length,u=e.start,o=e.end;if(s){var h=a[l-1],d=n(h,l-1),A=r*(h.coordinate+r*d/2-o);c[l-1]=h=Jc(Jc({},h),{},{tickCoord:A>0?h.coordinate-A*r:h.coordinate});var f=ox(r,h.tickCoord,function(){return d},u,o);f&&(o=h.tickCoord-r*(d/2+i),c[l-1]=Jc(Jc({},h),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(b){var w=c[b],N,S=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var C=r*(w.coordinate-r*S()/2-u);c[b]=w=Jc(Jc({},w),{},{tickCoord:C<0?w.coordinate-C*r:w.coordinate})}else c[b]=w=Jc(Jc({},w),{},{tickCoord:w.coordinate});var k=ox(r,w.tickCoord,S,u,o);k&&(u=w.tickCoord+r*(S()/2+i),c[b]=Jc(Jc({},w),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function Z4(r,e,n){var a=r.tick,i=r.ticks,s=r.viewBox,c=r.minTickGap,l=r.orientation,u=r.interval,o=r.tickFormatter,h=r.unit,d=r.angle;if(!i||!i.length||!a)return[];if(gn(u)||dp.isSsr)return BY(i,typeof u=="number"&&gn(u)?u:0);var A=[],f=l==="top"||l==="bottom"?"width":"height",g=h&&f==="width"?W0(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(w,N){var S=Za(o)?o(w.value,N):w.value;return f==="width"?NY(W0(S,{fontSize:e,letterSpacing:n}),g,d):W0(S,{fontSize:e,letterSpacing:n})[f]},x=i.length>=2?yu(i[1].coordinate-i[0].coordinate):1,y=SY(s,x,f);return u==="equidistantPreserveStart"?EY(x,y,m,i,c):(u==="preserveStart"||u==="preserveStartEnd"?A=kY(x,y,m,i,c,u==="preserveStartEnd"):A=OY(x,y,m,i,c),A.filter(function(b){return b.isShow}))}var PY=["viewBox"],FY=["viewBox"],DY=["ticks"];function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(r)}function $p(){return $p=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$p.apply(this,arguments)}function u6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function pu(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(a){J4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mj(r,e){if(r==null)return{};var n=MY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function MY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function RY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function d6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,uF(a.key),a)}}function LY(r,e,n){return e&&d6(r.prototype,e),n&&d6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function UY(r,e,n){return e=lx(e),HY(r,cF()?Reflect.construct(e,n||[],lx(r).constructor):e.apply(r,n))}function HY(r,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(r)}function QY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!r})()}function lx(r){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(r)}function WY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&bN(r,e)}function bN(r,e){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},bN(r,e)}function J4(r,e,n){return e=uF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function uF(r){var e=$Y(r,"string");return ym(e)=="symbol"?e:e+""}function $Y(r,e){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Mm=(function(r){function e(n){var a;return RY(this,e),a=UY(this,e,[n]),a.state={fontSize:"",letterSpacing:""},a}return WY(e,r),LY(e,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,c=mj(a,PY),l=this.props,u=l.viewBox,o=mj(l,FY);return!Zp(s,u)||!Zp(c,o)||!Zp(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,c=i.y,l=i.width,u=i.height,o=i.orientation,h=i.tickSize,d=i.mirror,A=i.tickMargin,f,g,m,x,y,b,w=d?-1:1,N=a.tickSize||h,S=gn(a.tickCoord)?a.tickCoord:a.coordinate;switch(o){case"top":f=g=a.coordinate,x=c+ +!d*u,m=x-w*N,b=m-w*A,y=S;break;case"left":m=x=a.coordinate,g=s+ +!d*l,f=g-w*N,y=f-w*A,b=S;break;case"right":m=x=a.coordinate,g=s+ +d*l,f=g+w*N,y=f+w*A,b=S;break;default:f=g=a.coordinate,x=c+ +d*u,m=x+w*N,b=m+w*A,y=S;break}return{line:{x1:f,y1:m,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,c=a.width,l=a.height,u=a.orientation,o=a.mirror,h=a.axisLine,d=pu(pu(pu({},ka(this.props,!1)),ka(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var A=+(u==="top"&&!o||u==="bottom"&&o);d=pu(pu({},d),{},{x1:i,y1:s+A*l,x2:i+c,y2:s+A*l})}else{var f=+(u==="left"&&!o||u==="right"&&o);d=pu(pu({},d),{},{x1:i+f*c,y1:s,x2:i+f*c,y2:s+l})}return bt.createElement("line",$p({},d,{className:vi("recharts-cartesian-axis-line",cd(h,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var c=this,l=this.props,u=l.tickLine,o=l.stroke,h=l.tick,d=l.tickFormatter,A=l.unit,f=Z4(pu(pu({},this.props),{},{ticks:a}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ka(this.props,!1),y=ka(h,!1),b=pu(pu({},x),{},{fill:"none"},ka(u,!1)),w=f.map(function(N,S){var C=c.getTickLineCoord(N),k=C.line,W=C.tick,q=pu(pu(pu(pu({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:o},y),W),{},{index:S,payload:N,visibleTicksCount:f.length,tickFormatter:d});return bt.createElement(os,$p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ip(c.props,N,S)),u&&bt.createElement("line",$p({},b,k,{className:vi("recharts-cartesian-axis-tick-line",cd(u,"className"))})),h&&e.renderTickItem(h,q,"".concat(Za(d)?d(N.value,S):N.value).concat(A||"")))});return bt.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,c=i.width,l=i.height,u=i.ticksGenerator,o=i.className,h=i.hide;if(h)return null;var d=this.props,A=d.ticks,f=mj(d,DY),g=A;return Za(u)&&(g=A&&A.length>0?u(this.props):u(f)),c<=0||l<=0||!g||!g.length?null:bt.createElement(os,{className:vi("recharts-cartesian-axis",o),ref:function(x){a.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var c;return bt.isValidElement(a)?c=bt.cloneElement(a,i):Za(a)?c=a(i):c=bt.createElement(sp,$p({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(P.Component);J4(Mm,"displayName","CartesianAxis");J4(Mm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VY=["x1","y1","x2","y2","key"],zY=["offset"];function cp(r){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(r)}function h6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function eu(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(n),!0).forEach(function(a){KY(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function KY(r,e,n){return e=GY(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GY(r){var e=qY(r,"string");return cp(e)=="symbol"?e:e+""}function qY(r,e){if(cp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(cp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Zf.apply(this,arguments)}function A6(r,e){if(r==null)return{};var n=XY(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function XY(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}var YY=function(e){var n=e.fill;if(!n||n==="none")return null;var a=e.fillOpacity,i=e.x,s=e.y,c=e.width,l=e.height,u=e.ry;return bt.createElement("rect",{x:i,y:s,ry:u,width:c,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function dF(r,e){var n;if(bt.isValidElement(r))n=bt.cloneElement(r,e);else if(Za(r))n=r(e);else{var a=e.x1,i=e.y1,s=e.x2,c=e.y2,l=e.key,u=A6(e,VY),o=ka(u,!1);o.offset;var h=A6(o,zY);n=bt.createElement("line",Zf({},h,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:l}))}return n}function ZY(r){var e=r.x,n=r.width,a=r.horizontal,i=a===void 0?!0:a,s=r.horizontalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=eu(eu({},r),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return dF(i,o)});return bt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function JY(r){var e=r.y,n=r.height,a=r.vertical,i=a===void 0?!0:a,s=r.verticalPoints;if(!i||!s||!s.length)return null;var c=s.map(function(l,u){var o=eu(eu({},r),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return dF(i,o)});return bt.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function eZ(r){var e=r.horizontalFill,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=r.horizontalPoints,u=r.horizontal,o=u===void 0?!0:u;if(!o||!e||!e.length)return null;var h=l.map(function(A){return Math.round(A+i-i)}).sort(function(A,f){return A-f});i!==h[0]&&h.unshift(0);var d=h.map(function(A,f){var g=!h[f+1],m=g?i+c-A:h[f+1]-A;if(m<=0)return null;var x=f%e.length;return bt.createElement("rect",{key:"react-".concat(f),y:A,x:a,height:m,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return bt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tZ(r){var e=r.vertical,n=e===void 0?!0:e,a=r.verticalFill,i=r.fillOpacity,s=r.x,c=r.y,l=r.width,u=r.height,o=r.verticalPoints;if(!n||!a||!a.length)return null;var h=o.map(function(A){return Math.round(A+s-s)}).sort(function(A,f){return A-f});s!==h[0]&&h.unshift(0);var d=h.map(function(A,f){var g=!h[f+1],m=g?s+l-A:h[f+1]-A;if(m<=0)return null;var x=f%a.length;return bt.createElement("rect",{key:"react-".concat(f),x:A,y:c,width:m,height:u,stroke:"none",fill:a[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return bt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var rZ=function(e,n){var a=e.xAxis,i=e.width,s=e.height,c=e.offset;return dP(Z4(eu(eu(eu({},Mm.defaultProps),a),{},{ticks:uA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.left,c.left+c.width,n)},nZ=function(e,n){var a=e.yAxis,i=e.width,s=e.height,c=e.offset;return dP(Z4(eu(eu(eu({},Mm.defaultProps),a),{},{ticks:uA(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),c.top,c.top+c.height,n)},Op={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sv(r){var e,n,a,i,s,c,l=G4(),u=q4(),o=$X(),h=eu(eu({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:Op.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:Op.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:Op.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:Op.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:Op.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:Op.verticalFill,x:gn(r.x)?r.x:o.left,y:gn(r.y)?r.y:o.top,width:gn(r.width)?r.width:o.width,height:gn(r.height)?r.height:o.height}),d=h.x,A=h.y,f=h.width,g=h.height,m=h.syncWithTicks,x=h.horizontalValues,y=h.verticalValues,b=HX(),w=QX();if(!gn(f)||f<=0||!gn(g)||g<=0||!gn(d)||d!==+d||!gn(A)||A!==+A)return null;var N=h.verticalCoordinatesGenerator||rZ,S=h.horizontalCoordinatesGenerator||nZ,C=h.horizontalPoints,k=h.verticalPoints;if((!C||!C.length)&&Za(S)){var W=x&&x.length,q=S({yAxis:w?eu(eu({},w),{},{ticks:W?x:w.ticks}):void 0,width:l,height:u,offset:o},W?!0:m);hh(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cp(q),"]")),Array.isArray(q)&&(C=q)}if((!k||!k.length)&&Za(N)){var te=y&&y.length,K=N({xAxis:b?eu(eu({},b),{},{ticks:te?y:b.ticks}):void 0,width:l,height:u,offset:o},te?!0:m);hh(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cp(K),"]")),Array.isArray(K)&&(k=K)}return bt.createElement("g",{className:"recharts-cartesian-grid"},bt.createElement(YY,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),bt.createElement(ZY,Zf({},h,{offset:o,horizontalPoints:C,xAxis:b,yAxis:w})),bt.createElement(JY,Zf({},h,{offset:o,verticalPoints:k,xAxis:b,yAxis:w})),bt.createElement(eZ,Zf({},h,{horizontalPoints:C})),bt.createElement(tZ,Zf({},h,{verticalPoints:k})))}sv.displayName="CartesianGrid";var aZ=["type","layout","connectNulls","ref"],iZ=["key"];function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(r)}function f6(r,e){if(r==null)return{};var n=sZ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function sZ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function q0(){return q0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},q0.apply(this,arguments)}function p6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function nd(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(a){lh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function kp(r){return uZ(r)||cZ(r)||lZ(r)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(r,e){if(r){if(typeof r=="string")return wN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(r,e)}}function cZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function uZ(r){if(Array.isArray(r))return wN(r)}function wN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function dZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,AF(a.key),a)}}function hZ(r,e,n){return e&&m6(r.prototype,e),n&&m6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function AZ(r,e,n){return e=cx(e),fZ(r,hF()?Reflect.construct(e,n||[],cx(r).constructor):e.apply(r,n))}function fZ(r,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pZ(r)}function pZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!r})()}function cx(r){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(r)}function mZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&jN(r,e)}function jN(r,e){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},jN(r,e)}function lh(r,e,n){return e=AF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function AF(r){var e=gZ(r,"string");return bm(e)=="symbol"?e:e+""}function gZ(r,e){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wm=(function(r){function e(){var n;dZ(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=AZ(this,e,[].concat(i)),lh(n,"state",{isAnimationFinished:!0,totalLength:0}),lh(n,"generateSimpleStrokeDasharray",function(c,l){return"".concat(l,"px ").concat(c-l,"px")}),lh(n,"getStrokeDasharray",function(c,l,u){var o=u.reduce(function(y,b){return y+b});if(!o)return n.generateSimpleStrokeDasharray(l,c);for(var h=Math.floor(c/o),d=c%o,A=l-c,f=[],g=0,m=0;g<u.length;m+=u[g],++g)if(m+u[g]>d){f=[].concat(kp(u.slice(0,g)),[d-m]);break}var x=f.length%2===0?[0,A]:[A];return[].concat(kp(e.repeat(u,h)),kp(f),x).map(function(y){return"".concat(y,"px")}).join(", ")}),lh(n,"id",Om("recharts-line-")),lh(n,"pathRef",function(c){n.mainCurve=c}),lh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),lh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mZ(e,r),hZ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,l=s.xAxis,u=s.yAxis,o=s.layout,h=s.children,d=ud(h,$g);if(!d)return null;var A=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Gl(m.payload,x)}},f={clipPath:a?"url(#clipPath-".concat(i,")"):null};return bt.createElement(os,f,d.map(function(g){return bt.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:l,yAxis:u,layout:o,dataPointFormatter:A})}))}},{key:"renderDots",value:function(a,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,o=l.points,h=l.dataKey,d=ka(this.props,!1),A=ka(u,!0),f=o.map(function(m,x){var y=nd(nd(nd({key:"dot-".concat(x),r:3},d),A),{},{value:m.value,dataKey:h,cx:m.x,cy:m.y,index:x,payload:m.payload});return e.renderDotItem(u,y)}),g={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return bt.createElement(os,q0({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(a,i,s,c){var l=this.props,u=l.type,o=l.layout,h=l.connectNulls;l.ref;var d=f6(l,aZ),A=nd(nd(nd({},ka(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},c),{},{type:u,layout:o,connectNulls:h});return bt.createElement(Qv,q0({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,c=this.props,l=c.points,u=c.strokeDasharray,o=c.isAnimationActive,h=c.animationBegin,d=c.animationDuration,A=c.animationEasing,f=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,b=y.prevPoints,w=y.totalLength;return bt.createElement(Ph,{begin:h,duration:d,isActive:o,easing:A,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var C=b.length/l.length,k=l.map(function(X,O){var le=Math.floor(O*C);if(b[le]){var z=b[le],R=od(z.x,X.x),ie=od(z.y,X.y);return nd(nd({},X),{},{x:R(S),y:ie(S)})}if(g){var Ae=od(m*2,X.x),Oe=od(x/2,X.y);return nd(nd({},X),{},{x:Ae(S),y:Oe(S)})}return nd(nd({},X),{},{x:X.x,y:X.y})});return s.renderCurveStatically(k,a,i)}var W=od(0,w),q=W(S),te;if(u){var K="".concat(u).split(/[,\s]+/gim).map(function(X){return parseFloat(X)});te=s.getStrokeDasharray(q,w,K)}else te=s.generateSimpleStrokeDasharray(w,q);return s.renderCurveStatically(l,a,i,{strokeDasharray:te})})}},{key:"renderCurve",value:function(a,i){var s=this.props,c=s.points,l=s.isAnimationActive,u=this.state,o=u.prevPoints,h=u.totalLength;return l&&c&&c.length&&(!o&&h>0||!Wg(o,c))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(c,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,c=i.dot,l=i.points,u=i.className,o=i.xAxis,h=i.yAxis,d=i.top,A=i.left,f=i.width,g=i.height,m=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=vi("recharts-line",u),N=o&&o.allowDataOverflow,S=h&&h.allowDataOverflow,C=N||S,k=ci(x)?this.id:x,W=(a=ka(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},q=W.r,te=q===void 0?3:q,K=W.strokeWidth,X=K===void 0?2:K,O=VR(c)?c:{},le=O.clipDot,z=le===void 0?!0:le,R=te*2+X;return bt.createElement(os,{className:w},N||S?bt.createElement("defs",null,bt.createElement("clipPath",{id:"clipPath-".concat(k)},bt.createElement("rect",{x:N?A:A-f/2,y:S?d:d-g/2,width:N?f:f*2,height:S?g:g*2})),!z&&bt.createElement("clipPath",{id:"clipPath-dots-".concat(k)},bt.createElement("rect",{x:A-R/2,y:d-R/2,width:f+R,height:g+R}))):null,!b&&this.renderCurve(C,k),this.renderErrorBar(C,k),(b||c)&&this.renderDots(C,z,k),(!m||y)&&fA.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(kp(a),[0]):a,c=[],l=0;l<i;++l)c=[].concat(kp(c),kp(s));return c}},{key:"renderDotItem",value:function(a,i){var s;if(bt.isValidElement(a))s=bt.cloneElement(a,i);else if(Za(a))s=a(i);else{var c=i.key,l=f6(i,iZ),u=vi("recharts-line-dot",typeof a!="boolean"?a.className:"");s=bt.createElement(Kx,q0({key:c},l,{className:u}))}return s}}])})(P.PureComponent);lh(wm,"displayName","Line");lh(wm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});lh(wm,"getComposedData",function(r){var e=r.props,n=r.xAxis,a=r.yAxis,i=r.xAxisTicks,s=r.yAxisTicks,c=r.dataKey,l=r.bandSize,u=r.displayedData,o=r.offset,h=e.layout,d=u.map(function(A,f){var g=Gl(A,c);return h==="horizontal"?{x:bI({axis:n,ticks:i,bandSize:l,entry:A,index:f}),y:ci(g)?null:a.scale(g),value:g,payload:A}:{x:ci(g)?null:n.scale(g),y:bI({axis:a,ticks:s,bandSize:l,entry:A,index:f}),value:g,payload:A}});return nd({points:d,layout:h},o)});function jm(r){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(r)}function vZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,mF(a.key),a)}}function yZ(r,e,n){return e&&xZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function bZ(r,e,n){return e=ux(e),wZ(r,fF()?Reflect.construct(e,n||[],ux(r).constructor):e.apply(r,n))}function wZ(r,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(r)}function jZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!r})()}function ux(r){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(r)}function CZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&CN(r,e)}function CN(r,e){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},CN(r,e)}function pF(r,e,n){return e=mF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function mF(r){var e=NZ(r,"string");return jm(e)=="symbol"?e:e+""}function NZ(r,e){if(jm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function NN(){return NN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},NN.apply(this,arguments)}function SZ(r){var e=r.xAxisId,n=G4(),a=q4(),i=eF(e);return i==null?null:bt.createElement(Mm,NN({},i,{className:vi("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return uA(c,!0)}}))}var rp=(function(r){function e(){return vZ(this,e),bZ(this,e,arguments)}return CZ(e,r),yZ(e,[{key:"render",value:function(){return bt.createElement(SZ,this.props)}}])})(bt.Component);pF(rp,"displayName","XAxis");pF(rp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cm(r){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(r)}function BZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function EZ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,xF(a.key),a)}}function IZ(r,e,n){return e&&EZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function TZ(r,e,n){return e=dx(e),_Z(r,gF()?Reflect.construct(e,n||[],dx(r).constructor):e.apply(r,n))}function _Z(r,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OZ(r)}function OZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!r})()}function dx(r){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(r)}function kZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&SN(r,e)}function SN(r,e){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},SN(r,e)}function vF(r,e,n){return e=xF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xF(r){var e=PZ(r,"string");return Cm(e)=="symbol"?e:e+""}function PZ(r,e){if(Cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function BN(){return BN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},BN.apply(this,arguments)}var FZ=function(e){var n=e.yAxisId,a=G4(),i=q4(),s=tF(n);return s==null?null:bt.createElement(Mm,BN({},s,{className:vi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(l){return uA(l,!0)}}))},np=(function(r){function e(){return BZ(this,e),TZ(this,e,arguments)}return kZ(e,r),IZ(e,[{key:"render",value:function(){return bt.createElement(FZ,this.props)}}])})(bt.Component);vF(np,"displayName","YAxis");vF(np,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function g6(r){return LZ(r)||RZ(r)||MZ(r)||DZ()}function DZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(r,e){if(r){if(typeof r=="string")return EN(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(r,e)}}function RZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function LZ(r){if(Array.isArray(r))return EN(r)}function EN(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}var IN=function(e,n,a,i,s){var c=ud(e,Y4),l=ud(e,r2),u=[].concat(g6(c),g6(l)),o=ud(e,a2),h="".concat(i,"Id"),d=i[0],A=n;if(u.length&&(A=u.reduce(function(m,x){if(x.props[h]===a&&Oh(x.props,"extendDomain")&&gn(x.props[d])){var y=x.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},A)),o.length){var f="".concat(d,"1"),g="".concat(d,"2");A=o.reduce(function(m,x){if(x.props[h]===a&&Oh(x.props,"extendDomain")&&gn(x.props[f])&&gn(x.props[g])){var y=x.props[f],b=x.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},A)}return s&&s.length&&(A=s.reduce(function(m,x){return gn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},A)),A},gj={exports:{}},v6;function UZ(){return v6||(v6=1,(function(r){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(u,o,h){this.fn=u,this.context=o,this.once=h||!1}function s(u,o,h,d,A){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new i(h,d||u,A),g=n?n+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],f]:u._events[g].push(f):(u._events[g]=f,u._eventsCount++),u}function c(u,o){--u._eventsCount===0?u._events=new a:delete u._events[o]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],h,d;if(this._eventsCount===0)return o;for(d in h=this._events)e.call(h,d)&&o.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(h)):o},l.prototype.listeners=function(o){var h=n?n+o:o,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var A=0,f=d.length,g=new Array(f);A<f;A++)g[A]=d[A].fn;return g},l.prototype.listenerCount=function(o){var h=n?n+o:o,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(o,h,d,A,f,g){var m=n?n+o:o;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(o,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,d),!0;case 4:return x.fn.call(x.context,h,d,A),!0;case 5:return x.fn.call(x.context,h,d,A,f),!0;case 6:return x.fn.call(x.context,h,d,A,f,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var N=x.length,S;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(o,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,d);break;case 4:x[w].fn.call(x[w].context,h,d,A);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(o,h,d){return s(this,o,h,d,!1)},l.prototype.once=function(o,h,d){return s(this,o,h,d,!0)},l.prototype.removeListener=function(o,h,d,A){var f=n?n+o:o;if(!this._events[f])return this;if(!h)return c(this,f),this;var g=this._events[f];if(g.fn)g.fn===h&&(!A||g.once)&&(!d||g.context===d)&&c(this,f);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==h||A&&!g[m].once||d&&g[m].context!==d)&&x.push(g[m]);x.length?this._events[f]=x.length===1?x[0]:x:c(this,f)}return this},l.prototype.removeAllListeners=function(o){var h;return o?(h=n?n+o:o,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(gj)),gj.exports}var HZ=UZ();const QZ=es(HZ);var vj=new QZ,xj="recharts.syncMouseEvents";function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function WZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $Z(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,yF(a.key),a)}}function VZ(r,e,n){return e&&$Z(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function yj(r,e,n){return e=yF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yF(r){var e=zZ(r,"string");return kg(e)=="symbol"?e:e+""}function zZ(r,e){if(kg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var KZ=(function(){function r(){WZ(this,r),yj(this,"activeIndex",0),yj(this,"coordinateList",[]),yj(this,"layout","horizontal")}return VZ(r,[{key:"setDetails",value:function(n){var a,i=n.coordinateList,s=i===void 0?null:i,c=n.container,l=c===void 0?null:c,u=n.layout,o=u===void 0?null:u,h=n.offset,d=h===void 0?null:h,A=n.mouseHandlerCallback,f=A===void 0?null:A;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,o=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,d=s+u+o,A=c+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:d,pageY:A})}}}])})();function GZ(r,e,n){if(n==="number"&&e===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],i=r==null?void 0:r[1];if(a&&i&&gn(a)&&gn(i))return!0}return!1}function qZ(r,e,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-i,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function bF(r){var e=r.cx,n=r.cy,a=r.radius,i=r.startAngle,s=r.endAngle,c=io(e,n,a,i),l=io(e,n,a,s);return{points:[c,l],cx:e,cy:n,radius:a,startAngle:i,endAngle:s}}function XZ(r,e,n){var a,i,s,c;if(r==="horizontal")a=e.x,s=a,i=n.top,c=n.top+n.height;else if(r==="vertical")i=e.y,c=i,a=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var l=e.cx,u=e.cy,o=e.innerRadius,h=e.outerRadius,d=e.angle,A=io(l,u,o,d),f=io(l,u,h,d);a=A.x,i=A.y,s=f.x,c=f.y}else return bF(e);return[{x:a,y:i},{x:s,y:c}]}function Pg(r){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(r)}function x6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function h1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(a){YZ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function YZ(r,e,n){return e=ZZ(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ZZ(r){var e=JZ(r,"string");return Pg(e)=="symbol"?e:e+""}function JZ(r,e){if(Pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eJ(r){var e,n,a=r.element,i=r.tooltipEventType,s=r.isActive,c=r.activeCoordinate,l=r.activePayload,u=r.offset,o=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=r.layout,A=r.chartName,f=(e=a.props.cursor)!==null&&e!==void 0?e:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!f||!s||!c||A!=="ScatterChart"&&i!=="axis")return null;var g,m=Qv;if(A==="ScatterChart")g=c,m=wG;else if(A==="BarChart")g=qZ(d,c,u,h),m=$4;else if(d==="radial"){var x=bF(c),y=x.cx,b=x.cy,w=x.radius,N=x.startAngle,S=x.endAngle;g={cx:y,cy:b,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},m=wP}else g={points:XZ(d,c,u)},m=Qv;var C=h1(h1(h1(h1({stroke:"#ccc",pointerEvents:"none"},u),g),ka(f,!1)),{},{payload:l,payloadIndex:o,className:vi("recharts-tooltip-cursor",f.className)});return P.isValidElement(f)?P.cloneElement(f,C):P.createElement(m,C)}var tJ=["item"],rJ=["children","className","width","height","style","compact","title","desc"];function Nm(r){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(r)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Vp.apply(this,arguments)}function y6(r,e){return iJ(r)||aJ(r,e)||jF(r,e)||nJ()}function nJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,i,s,c,l=[],u=!0,o=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(u=(a=s.call(n)).done)&&(l.push(a.value),l.length!==e);u=!0);}catch(h){o=!0,i=h}finally{try{if(!u&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(o)throw i}}return l}}function iJ(r){if(Array.isArray(r))return r}function b6(r,e){if(r==null)return{};var n=sJ(r,e),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function sJ(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function oJ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,CF(a.key),a)}}function cJ(r,e,n){return e&&lJ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function uJ(r,e,n){return e=hx(e),dJ(r,wF()?Reflect.construct(e,n||[],hx(r).constructor):e.apply(r,n))}function dJ(r,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(r)}function hJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!r})()}function hx(r){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(r)}function AJ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&TN(r,e)}function TN(r,e){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},TN(r,e)}function Sm(r){return mJ(r)||pJ(r)||jF(r)||fJ()}function fJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jF(r,e){if(r){if(typeof r=="string")return _N(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(r,e)}}function pJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function mJ(r){if(Array.isArray(r))return _N(r)}function _N(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=r[n];return a}function w6(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,a)}return n}function kr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(a){Ua(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Ua(r,e,n){return e=CF(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function CF(r){var e=gJ(r,"string");return Nm(e)=="symbol"?e:e+""}function gJ(r,e){if(Nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var vJ={xAxis:["bottom","top"],yAxis:["left","right"]},xJ={width:"100%",height:"100%"},NF={x:0,y:0};function A1(r){return r}var yJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},bJ=function(e,n,a,i){var s=n.find(function(h){return h&&h.index===a});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,l=i.radius;return kr(kr(kr({},i),io(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}var u=s.coordinate,o=i.angle;return kr(kr(kr({},i),io(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}return NF},i2=function(e,n){var a=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,c=(a??[]).reduce(function(l,u){var o=u.props.data;return o&&o.length?[].concat(Sm(l),Sm(o)):l},[]);return c.length>0?c:e&&e.length&&gn(i)&&gn(s)?e.slice(i,s+1):[]};function SF(r){return r==="number"?[0,"auto"]:void 0}var ON=function(e,n,a,i){var s=e.graphicalItems,c=e.tooltipAxis,l=i2(n,e);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(u,o){var h,d=(h=o.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(c.dataKey&&!c.allowDuplicatedCategory){var f=d===void 0?l:d;A=Av(f,c.dataKey,i)}else A=d&&d[a]||l[a];return A?[].concat(Sm(u),[mP(o,A)]):u},[])},j6=function(e,n,a,i){var s=i||{x:e.chartX,y:e.chartY},c=yJ(s,a),l=e.orderedTooltipTicks,u=e.tooltipAxis,o=e.tooltipTicks,h=W$(c,l,o,u);if(h>=0&&o){var d=o[h]&&o[h].value,A=ON(e,n,h,d),f=bJ(a,l,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:A,activeCoordinate:f}}return null},wJ=function(e,n){var a=n.axes,i=n.graphicalItems,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,A=e.stackOffset,f=uP(h,s);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?kr(kr({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,N=y.allowDataOverflow,S=y.allowDuplicatedCategory,C=y.scale,k=y.ticks,W=y.includeHidden,q=y[c];if(g[q])return g;var te=i2(e.data,{graphicalItems:i.filter(function(Y){var Ne,ce=c in Y.props?Y.props[c]:(Ne=Y.type.defaultProps)===null||Ne===void 0?void 0:Ne[c];return ce===q}),dataStartIndex:u,dataEndIndex:o}),K=te.length,X,O,le;GZ(y.domain,N,b)&&(X=zC(y.domain,null,N),f&&(b==="number"||C!=="auto")&&(le=V0(te,w,"category")));var z=SF(b);if(!X||X.length===0){var R,ie=(R=y.domain)!==null&&R!==void 0?R:z;if(w){if(X=V0(te,w,b),b==="category"&&f){var Ae=DR(X);S&&Ae?(O=X,X=Jv(0,K)):S||(X=NI(ie,X,m).reduce(function(Y,Ne){return Y.indexOf(Ne)>=0?Y:[].concat(Sm(Y),[Ne])},[]))}else if(b==="category")S?X=X.filter(function(Y){return Y!==""&&!ci(Y)}):X=NI(ie,X,m).reduce(function(Y,Ne){return Y.indexOf(Ne)>=0||Ne===""||ci(Ne)?Y:[].concat(Sm(Y),[Ne])},[]);else if(b==="number"){var Oe=G$(te,i.filter(function(Y){var Ne,ce,ae=c in Y.props?Y.props[c]:(Ne=Y.type.defaultProps)===null||Ne===void 0?void 0:Ne[c],Ce="hide"in Y.props?Y.props.hide:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return ae===q&&(W||!Ce)}),w,s,h);Oe&&(X=Oe)}f&&(b==="number"||C!=="auto")&&(le=V0(te,w,"category"))}else f?X=Jv(0,K):l&&l[q]&&l[q].hasStack&&b==="number"?X=A==="expand"?[0,1]:pP(l[q].stackGroups,u,o):X=cP(te,i.filter(function(Y){var Ne=c in Y.props?Y.props[c]:Y.type.defaultProps[c],ce="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return Ne===q&&(W||!ce)}),b,h,!0);if(b==="number")X=IN(d,X,q,s,k),ie&&(X=zC(ie,X,N));else if(b==="category"&&ie){var be=ie,Te=X.every(function(Y){return be.indexOf(Y)>=0});Te&&(X=be)}}return kr(kr({},g),{},Ua({},q,kr(kr({},y),{},{axisType:s,domain:X,categoricalDomain:le,duplicateDomain:O,originalDomain:(x=y.domain)!==null&&x!==void 0?x:z,isCategorical:f,layout:h})))},{})},jJ=function(e,n){var a=n.graphicalItems,i=n.Axis,s=n.axisType,c=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.layout,d=e.children,A=i2(e.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:o}),f=A.length,g=uP(h,s),m=-1;return a.reduce(function(x,y){var b=y.type.defaultProps!==void 0?kr(kr({},y.type.defaultProps),y.props):y.props,w=b[c],N=SF("number");if(!x[w]){m++;var S;return g?S=Jv(0,f):l&&l[w]&&l[w].hasStack?(S=pP(l[w].stackGroups,u,o),S=IN(d,S,w,s)):(S=zC(N,cP(A,a.filter(function(C){var k,W,q=c in C.props?C.props[c]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[c],te="hide"in C.props?C.props.hide:(W=C.type.defaultProps)===null||W===void 0?void 0:W.hide;return q===w&&!te}),"number",h),i.defaultProps.allowDataOverflow),S=IN(d,S,w,s)),kr(kr({},x),{},Ua({},w,kr(kr({axisType:s},i.defaultProps),{},{hide:!0,orientation:cd(vJ,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:N,isCategorical:g,layout:h})))}return x},{})},CJ=function(e,n){var a=n.axisType,i=a===void 0?"xAxis":a,s=n.AxisComp,c=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,o=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),A=ud(h,s),f={};return A&&A.length?f=wJ(e,{axes:A,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o}):c&&c.length&&(f=jJ(e,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:u,dataEndIndex:o})),f},NJ=function(e){var n=JA(e),a=uA(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:g4(a,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Lv(n,a)}},C6=function(e){var n=e.children,a=e.defaultShowTooltip,i=id(n,pm),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},SJ=function(e){return!e||!e.length?!1:e.some(function(n){var a=hA(n&&n.type);return a&&a.indexOf("Bar")>=0})},N6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BJ=function(e,n){var a=e.props,i=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,o=a.width,h=a.height,d=a.children,A=a.margin||{},f=id(d,pm),g=id(d,Bh),m=Object.keys(u).reduce(function(S,C){var k=u[C],W=k.orientation;return!k.mirror&&!k.hide?kr(kr({},S),{},Ua({},W,S[W]+k.width)):S},{left:A.left||0,right:A.right||0}),x=Object.keys(c).reduce(function(S,C){var k=c[C],W=k.orientation;return!k.mirror&&!k.hide?kr(kr({},S),{},Ua({},W,cd(S,"".concat(W))+k.height)):S},{top:A.top||0,bottom:A.bottom||0}),y=kr(kr({},x),m),b=y.bottom;f&&(y.bottom+=f.props.height||pm.defaultProps.height),g&&n&&(y=z$(y,i,a,n));var w=o-y.left-y.right,N=h-y.top-y.bottom;return kr(kr({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(N,0)})},EJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},eS=function(e){var n=e.chartName,a=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,c=e.validateTooltipEventTypes,l=c===void 0?["axis"]:c,u=e.axisComponents,o=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,A=function(y,b){var w=b.graphicalItems,N=b.stackGroups,S=b.offset,C=b.updateId,k=b.dataStartIndex,W=b.dataEndIndex,q=y.barSize,te=y.layout,K=y.barGap,X=y.barCategoryGap,O=y.maxBarSize,le=N6(te),z=le.numericAxisName,R=le.cateAxisName,ie=SJ(w),Ae=[];return w.forEach(function(Oe,be){var Te=i2(y.data,{graphicalItems:[Oe],dataStartIndex:k,dataEndIndex:W}),Y=Oe.type.defaultProps!==void 0?kr(kr({},Oe.type.defaultProps),Oe.props):Oe.props,Ne=Y.dataKey,ce=Y.maxBarSize,ae=Y["".concat(z,"Id")],Ce=Y["".concat(R,"Id")],Ee={},we=u.reduce(function(Bt,Vt){var Ir=b["".concat(Vt.axisType,"Map")],Sr=Y["".concat(Vt.axisType,"Id")];Ir&&Ir[Sr]||Vt.axisType==="zAxis"||lp();var He=Ir[Sr];return kr(kr({},Bt),{},Ua(Ua({},Vt.axisType,He),"".concat(Vt.axisType,"Ticks"),uA(He)))},Ee),me=we[R],se=we["".concat(R,"Ticks")],J=N&&N[ae]&&N[ae].hasStack&&nV(Oe,N[ae].stackGroups),je=hA(Oe.type).indexOf("Bar")>=0,Pe=Lv(me,se),Le=[],Ie=ie&&$$({barSize:q,stackGroups:N,totalSize:EJ(we,R)});if(je){var pe,ke,Ye=ci(ce)?O:ce,wt=(pe=(ke=Lv(me,se,!0))!==null&&ke!==void 0?ke:Ye)!==null&&pe!==void 0?pe:0;Le=V$({barGap:K,barCategoryGap:X,bandSize:wt!==Pe?wt:Pe,sizeList:Ie[Ce],maxBarSize:Ye}),wt!==Pe&&(Le=Le.map(function(Bt){return kr(kr({},Bt),{},{position:kr(kr({},Bt.position),{},{offset:Bt.position.offset-wt/2})})}))}var Ft=Oe&&Oe.type&&Oe.type.getComposedData;Ft&&Ae.push({props:kr(kr({},Ft(kr(kr({},we),{},{displayedData:Te,props:y,dataKey:Ne,item:Oe,bandSize:Pe,barPosition:Le,offset:S,stackedData:J,layout:te,dataStartIndex:k,dataEndIndex:W}))),{},Ua(Ua(Ua({key:Oe.key||"item-".concat(be)},z,we[z]),R,we[R]),"animationId",C)),childIndex:GR(Oe,y.children),item:Oe})}),Ae},f=function(y,b){var w=y.props,N=y.dataStartIndex,S=y.dataEndIndex,C=y.updateId;if(!LB({props:w}))return null;var k=w.children,W=w.layout,q=w.stackOffset,te=w.data,K=w.reverseStackOrder,X=N6(W),O=X.numericAxisName,le=X.cateAxisName,z=ud(k,a),R=tV(te,z,"".concat(O,"Id"),"".concat(le,"Id"),q,K),ie=u.reduce(function(Y,Ne){var ce="".concat(Ne.axisType,"Map");return kr(kr({},Y),{},Ua({},ce,CJ(w,kr(kr({},Ne),{},{graphicalItems:z,stackGroups:Ne.axisType===O&&R,dataStartIndex:N,dataEndIndex:S}))))},{}),Ae=BJ(kr(kr({},ie),{},{props:w,graphicalItems:z}),b==null?void 0:b.legendBBox);Object.keys(ie).forEach(function(Y){ie[Y]=h(w,ie[Y],Ae,Y.replace("Map",""),n)});var Oe=ie["".concat(le,"Map")],be=NJ(Oe),Te=A(w,kr(kr({},ie),{},{dataStartIndex:N,dataEndIndex:S,updateId:C,graphicalItems:z,stackGroups:R,offset:Ae}));return kr(kr({formattedGraphicalItems:Te,graphicalItems:z,offset:Ae,stackGroups:R},be),ie)},g=(function(x){function y(b){var w,N,S;return oJ(this,y),S=uJ(this,y,[b]),Ua(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ua(S,"accessibilityManager",new KZ),Ua(S,"handleLegendBBoxUpdate",function(C){if(C){var k=S.state,W=k.dataStartIndex,q=k.dataEndIndex,te=k.updateId;S.setState(kr({legendBBox:C},f({props:S.props,dataStartIndex:W,dataEndIndex:q,updateId:te},kr(kr({},S.state),{},{legendBBox:C}))))}}),Ua(S,"handleReceiveSyncEvent",function(C,k,W){if(S.props.syncId===C){if(W===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Ua(S,"handleBrushChange",function(C){var k=C.startIndex,W=C.endIndex;if(k!==S.state.dataStartIndex||W!==S.state.dataEndIndex){var q=S.state.updateId;S.setState(function(){return kr({dataStartIndex:k,dataEndIndex:W},f({props:S.props,dataStartIndex:k,dataEndIndex:W,updateId:q},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:W})}}),Ua(S,"handleMouseEnter",function(C){var k=S.getMouseInfo(C);if(k){var W=kr(kr({},k),{},{isTooltipActive:!0});S.setState(W),S.triggerSyncEvent(W);var q=S.props.onMouseEnter;Za(q)&&q(W,C)}}),Ua(S,"triggeredAfterMouseMove",function(C){var k=S.getMouseInfo(C),W=k?kr(kr({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(W),S.triggerSyncEvent(W);var q=S.props.onMouseMove;Za(q)&&q(W,C)}),Ua(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ua(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ua(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),Ua(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var W=S.props.onMouseLeave;Za(W)&&W(k,C)}),Ua(S,"handleOuterEvent",function(C){var k=KR(C),W=cd(S.props,"".concat(k));if(k&&Za(W)){var q,te;/.*touch.*/i.test(k)?te=S.getMouseInfo(C.changedTouches[0]):te=S.getMouseInfo(C),W((q=te)!==null&&q!==void 0?q:{},C)}}),Ua(S,"handleClick",function(C){var k=S.getMouseInfo(C);if(k){var W=kr(kr({},k),{},{isTooltipActive:!0});S.setState(W),S.triggerSyncEvent(W);var q=S.props.onClick;Za(q)&&q(W,C)}}),Ua(S,"handleMouseDown",function(C){var k=S.props.onMouseDown;if(Za(k)){var W=S.getMouseInfo(C);k(W,C)}}),Ua(S,"handleMouseUp",function(C){var k=S.props.onMouseUp;if(Za(k)){var W=S.getMouseInfo(C);k(W,C)}}),Ua(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ua(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),Ua(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),Ua(S,"handleDoubleClick",function(C){var k=S.props.onDoubleClick;if(Za(k)){var W=S.getMouseInfo(C);k(W,C)}}),Ua(S,"handleContextMenu",function(C){var k=S.props.onContextMenu;if(Za(k)){var W=S.getMouseInfo(C);k(W,C)}}),Ua(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&vj.emit(xj,S.props.syncId,C,S.eventEmitterSymbol)}),Ua(S,"applySyncEvent",function(C){var k=S.props,W=k.layout,q=k.syncMethod,te=S.state.updateId,K=C.dataStartIndex,X=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(kr({dataStartIndex:K,dataEndIndex:X},f({props:S.props,dataStartIndex:K,dataEndIndex:X,updateId:te},S.state)));else if(C.activeTooltipIndex!==void 0){var O=C.chartX,le=C.chartY,z=C.activeTooltipIndex,R=S.state,ie=R.offset,Ae=R.tooltipTicks;if(!ie)return;if(typeof q=="function")z=q(Ae,C);else if(q==="value"){z=-1;for(var Oe=0;Oe<Ae.length;Oe++)if(Ae[Oe].value===C.activeLabel){z=Oe;break}}var be=kr(kr({},ie),{},{x:ie.left,y:ie.top}),Te=Math.min(O,be.x+be.width),Y=Math.min(le,be.y+be.height),Ne=Ae[z]&&Ae[z].value,ce=ON(S.state,S.props.data,z),ae=Ae[z]?{x:W==="horizontal"?Ae[z].coordinate:Te,y:W==="horizontal"?Y:Ae[z].coordinate}:NF;S.setState(kr(kr({},C),{},{activeLabel:Ne,activeCoordinate:ae,activePayload:ce,activeTooltipIndex:z}))}else S.setState(C)}),Ua(S,"renderCursor",function(C){var k,W=S.state,q=W.isTooltipActive,te=W.activeCoordinate,K=W.activePayload,X=W.offset,O=W.activeTooltipIndex,le=W.tooltipAxisBandSize,z=S.getTooltipEventType(),R=(k=C.props.active)!==null&&k!==void 0?k:q,ie=S.props.layout,Ae=C.key||"_recharts-cursor";return bt.createElement(eJ,{key:Ae,activeCoordinate:te,activePayload:K,activeTooltipIndex:O,chartName:n,element:C,isActive:R,layout:ie,offset:X,tooltipAxisBandSize:le,tooltipEventType:z})}),Ua(S,"renderPolarAxis",function(C,k,W){var q=cd(C,"type.axisType"),te=cd(S.state,"".concat(q,"Map")),K=C.type.defaultProps,X=K!==void 0?kr(kr({},K),C.props):C.props,O=te&&te[X["".concat(q,"Id")]];return P.cloneElement(C,kr(kr({},O),{},{className:vi(q,O.className),key:C.key||"".concat(k,"-").concat(W),ticks:uA(O,!0)}))}),Ua(S,"renderPolarGrid",function(C){var k=C.props,W=k.radialLines,q=k.polarAngles,te=k.polarRadius,K=S.state,X=K.radiusAxisMap,O=K.angleAxisMap,le=JA(X),z=JA(O),R=z.cx,ie=z.cy,Ae=z.innerRadius,Oe=z.outerRadius;return P.cloneElement(C,{polarAngles:Array.isArray(q)?q:uA(z,!0).map(function(be){return be.coordinate}),polarRadius:Array.isArray(te)?te:uA(le,!0).map(function(be){return be.coordinate}),cx:R,cy:ie,innerRadius:Ae,outerRadius:Oe,key:C.key||"polar-grid",radialLines:W})}),Ua(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,k=S.props,W=k.children,q=k.width,te=k.height,K=S.props.margin||{},X=q-(K.left||0)-(K.right||0),O=oP({children:W,formattedGraphicalItems:C,legendWidth:X,legendContent:o});if(!O)return null;var le=O.item,z=b6(O,tJ);return P.cloneElement(le,kr(kr({},z),{},{chartWidth:q,chartHeight:te,margin:K,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ua(S,"renderTooltip",function(){var C,k=S.props,W=k.children,q=k.accessibilityLayer,te=id(W,sd);if(!te)return null;var K=S.state,X=K.isTooltipActive,O=K.activeCoordinate,le=K.activePayload,z=K.activeLabel,R=K.offset,ie=(C=te.props.active)!==null&&C!==void 0?C:X;return P.cloneElement(te,{viewBox:kr(kr({},R),{},{x:R.left,y:R.top}),active:ie,label:z,payload:ie?le:[],coordinate:O,accessibilityLayer:q})}),Ua(S,"renderBrush",function(C){var k=S.props,W=k.margin,q=k.data,te=S.state,K=te.offset,X=te.dataStartIndex,O=te.dataEndIndex,le=te.updateId;return P.cloneElement(C,{key:C.key||"_recharts-brush",onChange:l1(S.handleBrushChange,C.props.onChange),data:q,x:gn(C.props.x)?C.props.x:K.left,y:gn(C.props.y)?C.props.y:K.top+K.height+K.brushBottom-(W.bottom||0),width:gn(C.props.width)?C.props.width:K.width,startIndex:X,endIndex:O,updateId:"brush-".concat(le)})}),Ua(S,"renderReferenceElement",function(C,k,W){if(!C)return null;var q=S,te=q.clipPathId,K=S.state,X=K.xAxisMap,O=K.yAxisMap,le=K.offset,z=C.type.defaultProps||{},R=C.props,ie=R.xAxisId,Ae=ie===void 0?z.xAxisId:ie,Oe=R.yAxisId,be=Oe===void 0?z.yAxisId:Oe;return P.cloneElement(C,{key:C.key||"".concat(k,"-").concat(W),xAxis:X[Ae],yAxis:O[be],viewBox:{x:le.left,y:le.top,width:le.width,height:le.height},clipPathId:te})}),Ua(S,"renderActivePoints",function(C){var k=C.item,W=C.activePoint,q=C.basePoint,te=C.childIndex,K=C.isRange,X=[],O=k.props.key,le=k.item.type.defaultProps!==void 0?kr(kr({},k.item.type.defaultProps),k.item.props):k.item.props,z=le.activeDot,R=le.dataKey,ie=kr(kr({index:te,dataKey:R,cx:W.x,cy:W.y,r:4,fill:W4(k.item),strokeWidth:2,stroke:"#fff",payload:W.payload,value:W.value},ka(z,!1)),fv(z));return X.push(y.renderActiveDot(z,ie,"".concat(O,"-activePoint-").concat(te))),q?X.push(y.renderActiveDot(z,kr(kr({},ie),{},{cx:q.x,cy:q.y}),"".concat(O,"-basePoint-").concat(te))):K&&X.push(null),X}),Ua(S,"renderGraphicChild",function(C,k,W){var q=S.filterFormatItem(C,k,W);if(!q)return null;var te=S.getTooltipEventType(),K=S.state,X=K.isTooltipActive,O=K.tooltipAxis,le=K.activeTooltipIndex,z=K.activeLabel,R=S.props.children,ie=id(R,sd),Ae=q.props,Oe=Ae.points,be=Ae.isRange,Te=Ae.baseLine,Y=q.item.type.defaultProps!==void 0?kr(kr({},q.item.type.defaultProps),q.item.props):q.item.props,Ne=Y.activeDot,ce=Y.hide,ae=Y.activeBar,Ce=Y.activeShape,Ee=!!(!ce&&X&&ie&&(Ne||ae||Ce)),we={};te!=="axis"&&ie&&ie.props.trigger==="click"?we={onClick:l1(S.handleItemMouseEnter,C.props.onClick)}:te!=="axis"&&(we={onMouseLeave:l1(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:l1(S.handleItemMouseEnter,C.props.onMouseEnter)});var me=P.cloneElement(C,kr(kr({},q.props),we));function se(Vt){return typeof O.dataKey=="function"?O.dataKey(Vt.payload):null}if(Ee)if(le>=0){var J,je;if(O.dataKey&&!O.allowDuplicatedCategory){var Pe=typeof O.dataKey=="function"?se:"payload.".concat(O.dataKey.toString());J=Av(Oe,Pe,z),je=be&&Te&&Av(Te,Pe,z)}else J=Oe==null?void 0:Oe[le],je=be&&Te&&Te[le];if(Ce||ae){var Le=C.props.activeIndex!==void 0?C.props.activeIndex:le;return[P.cloneElement(C,kr(kr(kr({},q.props),we),{},{activeIndex:Le})),null,null]}if(!ci(J))return[me].concat(Sm(S.renderActivePoints({item:q,activePoint:J,basePoint:je,childIndex:le,isRange:be})))}else{var Ie,pe=(Ie=S.getItemByXY(S.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:me},ke=pe.graphicalItem,Ye=ke.item,wt=Ye===void 0?C:Ye,Ft=ke.childIndex,Bt=kr(kr(kr({},q.props),we),{},{activeIndex:Ft});return[P.cloneElement(wt,Bt),null,null]}return be?[me,null,null]:[me,null]}),Ua(S,"renderCustomized",function(C,k,W){return P.cloneElement(C,kr(kr({key:"recharts-customized-".concat(W)},S.props),S.state))}),Ua(S,"renderMap",{CartesianGrid:{handler:A1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:A1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:A1},YAxis:{handler:A1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Om("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=ok(S.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return AJ(y,x),cJ(y,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,C=w.height,k=w.layout,W=id(N,sd);if(W){var q=W.props.defaultIndex;if(!(typeof q!="number"||q<0||q>this.state.tooltipTicks.length-1)){var te=this.state.tooltipTicks[q]&&this.state.tooltipTicks[q].value,K=ON(this.state,S,q,te),X=this.state.tooltipTicks[q].coordinate,O=(this.state.offset.top+C)/2,le=k==="horizontal",z=le?{x:X,y:O}:{y:X,x:O},R=this.state.formattedGraphicalItems.find(function(Ae){var Oe=Ae.item;return Oe.type.name==="Scatter"});R&&(z=kr(kr({},z),R.props.points[q].tooltipPosition),K=R.props.points[q].tooltipPayload);var ie={activeTooltipIndex:q,isTooltipActive:!0,activeLabel:te,activePayload:K,activeCoordinate:z};this.setState(ie),this.renderCursor(W),this.accessibilityManager.setIndex(q)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){fC([id(w.children,sd)],[id(this.props.children,sd)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=id(this.props.children,sd);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),C=F9(S),k={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},W=S.width/N.offsetWidth||1,q=this.inRange(k.chartX,k.chartY,W);if(!q)return null;var te=this.state,K=te.xAxisMap,X=te.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&K&&X){var le=JA(K).scale,z=JA(X).scale,R=le&&le.invert?le.invert(k.chartX):null,ie=z&&z.invert?z.invert(k.chartY):null;return kr(kr({},k),{},{xValue:R,yValue:ie})}var Ae=j6(this.state,this.props.data,this.props.layout,q);return Ae?kr(kr({},k),Ae):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=w/S,W=N/S;if(C==="horizontal"||C==="vertical"){var q=this.state.offset,te=k>=q.left&&k<=q.left+q.width&&W>=q.top&&W<=q.top+q.height;return te?{x:k,y:W}:null}var K=this.state,X=K.angleAxisMap,O=K.radiusAxisMap;if(X&&O){var le=JA(X);return EI({x:k,y:W},le)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=id(w,sd),C={};S&&N==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=fv(this.props,this.handleOuterEvent);return kr(kr({},k),C)}},{key:"addListener",value:function(){vj.on(xj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vj.removeListener(xj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var C=this.state.formattedGraphicalItems,k=0,W=C.length;k<W;k++){var q=C[k];if(q.item===w||q.props.key===w.key||N===hA(q.item.type)&&S===q.childIndex)return q}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,C=N.top,k=N.height,W=N.width;return bt.createElement("defs",null,bt.createElement("clipPath",{id:w},bt.createElement("rect",{x:S,y:C,height:k,width:W})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var C=y6(S,2),k=C[0],W=C[1];return kr(kr({},N),{},Ua({},k,W.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var C=y6(S,2),k=C[0],W=C[1];return kr(kr({},N),{},Ua({},k,W.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,C=N.activeItem;if(S&&S.length)for(var k=0,W=S.length;k<W;k++){var q=S[k],te=q.props,K=q.item,X=K.type.defaultProps!==void 0?kr(kr({},K.type.defaultProps),K.props):K.props,O=hA(K.type);if(O==="Bar"){var le=(te.data||[]).find(function(Ae){return rG(w,Ae)});if(le)return{graphicalItem:q,payload:le}}else if(O==="RadialBar"){var z=(te.data||[]).find(function(Ae){return EI(w,Ae)});if(z)return{graphicalItem:q,payload:z}}else if(Zx(q,C)||Jx(q,C)||Eg(q,C)){var R=Nq({graphicalItem:q,activeTooltipItem:C,itemData:X.data}),ie=X.activeIndex===void 0?R:X.activeIndex;return{graphicalItem:kr(kr({},q),{},{childIndex:ie}),payload:Eg(q,C)?X.data[R]:q.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!LB(this))return null;var N=this.props,S=N.children,C=N.className,k=N.width,W=N.height,q=N.style,te=N.compact,K=N.title,X=N.desc,O=b6(N,rJ),le=ka(O,!1);if(te)return bt.createElement(t6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},bt.createElement(mC,Vp({},le,{width:k,height:W,title:K,desc:X}),this.renderClipPath(),HB(S,this.renderMap)));if(this.props.accessibilityLayer){var z,R;le.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,le.role=(R=this.props.role)!==null&&R!==void 0?R:"application",le.onKeyDown=function(Ae){w.accessibilityManager.keyboardEvent(Ae)},le.onFocus=function(){w.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return bt.createElement(t6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},bt.createElement("div",Vp({className:vi("recharts-wrapper",C),style:kr({position:"relative",cursor:"default",width:k,height:W},q)},ie,{ref:function(Oe){w.container=Oe}}),bt.createElement(mC,Vp({},le,{width:k,height:W,title:K,desc:X,style:xJ}),this.renderClipPath(),HB(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);Ua(g,"displayName",n),Ua(g,"defaultProps",kr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ua(g,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,w=x.data,N=x.children,S=x.width,C=x.height,k=x.layout,W=x.stackOffset,q=x.margin,te=y.dataStartIndex,K=y.dataEndIndex;if(y.updateId===void 0){var X=C6(x);return kr(kr(kr({},X),{},{updateId:0},f(kr(kr({props:x},X),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:W,prevMargin:q,prevChildren:N})}if(b!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||C!==y.prevHeight||k!==y.prevLayout||W!==y.prevStackOffset||!Zp(q,y.prevMargin)){var O=C6(x),le={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=kr(kr({},j6(y,w,k)),{},{updateId:y.updateId+1}),R=kr(kr(kr({},O),le),z);return kr(kr(kr({},R),f(kr({props:x},R),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:W,prevMargin:q,prevChildren:N})}if(!fC(N,y.prevChildren)){var ie,Ae,Oe,be,Te=id(N,pm),Y=Te&&(ie=(Ae=Te.props)===null||Ae===void 0?void 0:Ae.startIndex)!==null&&ie!==void 0?ie:te,Ne=Te&&(Oe=(be=Te.props)===null||be===void 0?void 0:be.endIndex)!==null&&Oe!==void 0?Oe:K,ce=Y!==te||Ne!==K,ae=!ci(w),Ce=ae&&!ce?y.updateId:y.updateId+1;return kr(kr({updateId:Ce},f(kr(kr({props:x},y),{},{updateId:Ce,dataStartIndex:Y,dataEndIndex:Ne}),y)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:Ne})}return null}),Ua(g,"renderActiveDot",function(x,y,b){var w;return P.isValidElement(x)?w=P.cloneElement(x,y):Za(x)?w=x(y):w=bt.createElement(Kx,y),bt.createElement(os,{className:"recharts-active-dot",key:b},w)});var m=P.forwardRef(function(y,b){return bt.createElement(g,Vp({},y,{ref:b}))});return m.displayName=g.displayName,m},S6=eS({chartName:"LineChart",GraphicalChild:wm,axisComponents:[{axisType:"xAxis",AxisComp:rp},{axisType:"yAxis",AxisComp:np}],formatAxisMap:zP}),IJ=eS({chartName:"BarChart",GraphicalChild:pp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rp},{axisType:"yAxis",AxisComp:np}],formatAxisMap:zP}),TJ=eS({chartName:"PieChart",GraphicalChild:wA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yx},{axisType:"radiusAxis",AxisComp:qx}],formatAxisMap:AV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _J=({title:r,type:e,data:n=[],loading:a=!1,xAxis:i,yAxis:s,series:c})=>{const[l,u]=P.useState([]),[o,h]=P.useState([]),d=i||"label",A=s||"value";P.useEffect(()=>{Array.isArray(n)?(u(n),h(n.map((m,x)=>m.label||m[d]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(h(n.labels||[]),u((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(u([]),h([]))},[n,d]);const f=P.useMemo(()=>Array.isArray(c)&&c.length>0?c:[A],[A,c]),g=P.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-chart"})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--chart",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:l.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),t.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),t.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"chart-container",children:t.jsx(E9,{width:"100%",height:260,children:e==="line"?t.jsxs(S6,{data:l,children:[t.jsx(sv,{strokeDasharray:"3 3"}),t.jsx(rp,{dataKey:d}),t.jsx(np,{}),t.jsx(sd,{}),t.jsx(Bh,{}),f.map(m=>t.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):e==="bar"?t.jsxs(IJ,{data:l,children:[t.jsx(sv,{strokeDasharray:"3 3"}),t.jsx(rp,{dataKey:d}),t.jsx(np,{}),t.jsx(sd,{}),t.jsx(Bh,{}),f.map(m=>t.jsx(pp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):e==="pie"||e==="doughnut"?t.jsxs(TJ,{children:[t.jsx(sd,{}),t.jsx(Bh,{}),t.jsx(wA,{data:l,dataKey:A,nameKey:d,cx:"50%",cy:"50%",outerRadius:90,innerRadius:e==="doughnut"?55:0,paddingAngle:2,children:l.map((m,x)=>t.jsx(Fx,{fill:g[x%g.length]},`cell-${x}`))})]}):t.jsxs(S6,{data:l,children:[t.jsx(sv,{strokeDasharray:"3 3"}),t.jsx(rp,{dataKey:d}),t.jsx(np,{}),t.jsx(sd,{}),t.jsx(Bh,{}),f.map(m=>t.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},OJ=({title:r,columns:e,data:n,loading:a=!1,maxRows:i=5,onRowClick:s})=>{const c=n.slice(0,i);return a?t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:t.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-row",children:e.map((o,h)=>t.jsx("div",{className:"skeleton-cell"},h))},u))})})})]}):t.jsxs("div",{className:"widget-panel widget-panel--table",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),n.length>i&&t.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:c.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),t.jsx("p",{children:"No data available"})]}):t.jsx("div",{className:"table-widget",children:t.jsxs("table",{className:"table-widget__table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(l=>t.jsx("th",{children:l.label},l.key))})}),t.jsx("tbody",{children:c.map((l,u)=>t.jsx("tr",{onClick:()=>s==null?void 0:s(l),className:s?"table-widget__row--clickable":"",children:e.map(o=>t.jsx("td",{children:o.render?o.render(l[o.key],l):l[o.key]||"-"},o.key))},u))})]})})})]})},kJ=({title:r,tasks:e,loading:n=!1,maxItems:a=5,onTaskClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((l,u)=>t.jsx("div",{className:"skeleton-task-item"},u))})})]});const c=l=>{switch(l){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return t.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),t.jsx("p",{children:"No tasks available"})]}):t.jsx("ul",{className:"task-list",children:s.map(l=>t.jsxs("li",{className:`task-item ${i?"task-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsxs("div",{className:"task-item__header",children:[t.jsx("h4",{className:"task-item__title",children:l.title}),t.jsx("span",{className:"task-item__status",style:{backgroundColor:c(l.status)},children:l.status})]}),l.description&&t.jsx("p",{className:"task-item__description",children:l.description}),l.dueDate&&t.jsx("div",{className:"task-item__meta",children:t.jsxs("span",{className:"task-item__due-date",children:["Due: ",l.dueDate]})})]},l.id))})})]})},PJ=({title:r,items:e,loading:n=!1,maxItems:a=5,onApprove:i,onReject:s,onView:c,canApprove:l=!1,canReject:u=!1})=>{const o=e.slice(0,a);return n?t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((h,d)=>t.jsx("div",{className:"skeleton-approval-item"},d))})})]}):t.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," pending"]})]}),t.jsx("div",{className:"widget-panel__body",children:o.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No pending approvals"})]}):t.jsx("ul",{className:"approval-queue",children:o.map(h=>t.jsxs("li",{className:"approval-item",children:[t.jsxs("div",{className:"approval-item__header",children:[t.jsxs("div",{className:"approval-item__info",children:[t.jsx("h4",{className:"approval-item__title",children:h.title}),h.description&&t.jsx("p",{className:"approval-item__description",children:h.description})]}),h.amount&&t.jsxs("div",{className:"approval-item__amount",children:["",h.amount.toLocaleString()]})]}),t.jsxs("div",{className:"approval-item__meta",children:[t.jsxs("span",{className:"approval-item__submitted",children:["By ",h.submittedBy,"  ",h.submittedOn]}),h.priority&&t.jsx("span",{className:`approval-item__priority approval-item__priority--${h.priority}`,children:h.priority})]}),t.jsxs("div",{className:"approval-item__actions",children:[c&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(h),children:"View"}),u&&s&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>s(h),children:"Reject"}),l&&i&&t.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>i(h),children:"Approve"})]})]},h.id))})})]})},FJ=({title:r,alerts:e,loading:n=!1,maxItems:a=5})=>{const i=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,l)=>t.jsx("div",{className:"skeleton-alert-item"},l))})})]});const s=c=>{switch(c){case"error":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--alert",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:i.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("p",{children:"No alerts"})]}):t.jsx("ul",{className:"alert-list",children:i.map(c=>t.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[t.jsx("div",{className:"alert-item__icon",children:s(c.type)}),t.jsxs("div",{className:"alert-item__content",children:[t.jsx("h4",{className:"alert-item__title",children:c.title}),t.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&t.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&t.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},DJ=({title:r,activities:e,loading:n=!1,maxItems:a=10,onItemClick:i})=>{const s=e.slice(0,a);if(n)return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsx("div",{className:"widget-panel__header",children:t.jsx("h3",{className:"widget-panel__title",children:r})}),t.jsx("div",{className:"widget-panel__body",children:t.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((l,u)=>t.jsx("div",{className:"skeleton-activity-item"},u))})})]});const c=l=>{switch(l){case"success":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return t.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[t.jsxs("div",{className:"widget-panel__header",children:[t.jsx("h3",{className:"widget-panel__title",children:r}),e.length>a&&t.jsxs("span",{className:"widget-panel__badge",children:[e.length," total"]})]}),t.jsx("div",{className:"widget-panel__body",children:s.length===0?t.jsxs("div",{className:"widget-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t.jsx("p",{children:"No recent activity"})]}):t.jsx("ul",{className:"activity-timeline",children:s.map((l,u)=>t.jsxs("li",{className:`activity-item activity-item--${l.type||"info"} ${i?"activity-item--clickable":""}`,onClick:()=>i==null?void 0:i(l),children:[t.jsx("div",{className:"activity-item__line",children:u<s.length-1&&t.jsx("div",{className:"activity-item__line-connector"})}),t.jsx("div",{className:"activity-item__icon",children:l.icon||c(l.type)}),t.jsxs("div",{className:"activity-item__content",children:[t.jsxs("div",{className:"activity-item__header",children:[t.jsx("span",{className:"activity-item__user",children:l.user}),t.jsx("span",{className:"activity-item__timestamp",children:l.timestamp})]}),t.jsx("div",{className:"activity-item__action",children:l.action}),l.description&&t.jsx("div",{className:"activity-item__description",children:l.description})]})]},l.id))})})]})},MJ={dashboard:["DASHBOARD_VIEW","DASHBOARD.VIEW"],transaction:["MENU_TRANSACTION_VIEW","ROUTE_ASSIGNMENT_VIEW","BARCODE_LABEL_VIEW","WASTE_COLLECTION_VIEW","WASTE_TRANSACTION_VIEW","VEHICLE_WASTE_COLLECTION_VIEW","WASTE_PROCESS_VIEW"],finance:["FINANCE_VIEW","FINANCE.VIEW","INVOICE_VIEW","INVOICE.VIEW"],commercial:["MENU_COMMERCIAL_VIEW","CONTRACT_VIEW","AGREEMENT_VIEW","AGREEMENT_CLAUSE_VIEW"],compliance:["MENU_COMPLIANCE_VIEW","TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE.VIEW"],master:["MENU_MASTER_VIEW","COMPANY_VIEW","STATE_VIEW","AREA_VIEW","CATEGORY_VIEW","PCB_ZONE_VIEW","COLOR_VIEW","FREQUENCY_VIEW","HCF_TYPE_VIEW","HCF_VIEW","ROUTE_VIEW","FLEET_VIEW","ROUTE_HCF_VIEW","USER_VIEW","ROLE_VIEW"],report:["MENU_REPORTS_VIEW","REPORTS_VIEW","REPORTS.VIEW"]};function Ia(r,e){const n=Array.isArray(r)?r:[];return n.includes("*")?!0:(MJ[e]||[]).some(i=>bx(n,i))}const RJ=({widget:r,permissions:e,isPreviewMode:n})=>{var d,A,f,g,m,x,y,b,w,N,S,C,k,W;const[a,i]=P.useState(null),[s,c]=P.useState(!0),[l,u]=P.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const o=P.useMemo(()=>{var q;return(q=r.permissions)!=null&&q.view?e[r.permissions.view]===!0:!0},[r.permissions,e]);if(P.useEffect(()=>{var K,X,O,le;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((K=r.dataSource)!=null&&K.endpoint),endpoint:(X=r.dataSource)==null?void 0:X.endpoint,canView:o,permissions:r.permissions,widgetType:r.type}),!((O=r.dataSource)!=null&&O.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!o){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(le=r.permissions)==null?void 0:le.view,permissions:e}),c(!1);return}const q=async()=>{var z;try{c(!0),u(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:(z=r.dataSource)==null?void 0:z.endpoint,fullWidget:r});const R=await KM(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:R,hasValue:(R==null?void 0:R.value)!==void 0,value:R==null?void 0:R.value,fullData:R}),R==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),i({value:0})):i(R)}catch(R){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,R),console.error("[WidgetRenderer] Error type:",typeof R),console.error("[WidgetRenderer] Error message:",R==null?void 0:R.message),console.error("[WidgetRenderer] Error stack:",R==null?void 0:R.stack),console.error("[WidgetRenderer] Widget config:",r),u("Failed to load data"),i({value:0})}finally{c(!1)}};q();let te=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(te=setInterval(q,r.dataSource.refreshInterval*1e3)),()=>{te&&clearInterval(te)}},[r,o]),!o)return null;const h=((d=r.type)==null?void 0:d.toLowerCase().trim())||"metric";switch(h){case"metric":case"kpi":return t.jsx(GM,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:s});case"chart":return t.jsx(_J,{title:r.title,type:((A=r.chartConfig)==null?void 0:A.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:s,xAxis:(f=r.chartConfig)==null?void 0:f.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return t.jsx(OJ,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:s,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":return t.jsx(kJ,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:s,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return t.jsx(PJ,{title:r.title,items:(a==null?void 0:a.items)||[],loading:s,maxItems:((b=r.props)==null?void 0:b.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:e[((N=(w=r.permissions)==null?void 0:w.actions)==null?void 0:N.approve)||""]||!1,canReject:e[((C=(S=r.permissions)==null?void 0:S.actions)==null?void 0:C.approve)||""]||!1});case"activity-timeline":return t.jsx(DJ,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:s,maxItems:((k=r.props)==null?void 0:k.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return t.jsx(FJ,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:s,maxItems:((W=r.props)==null?void 0:W.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${h}")`,r),t.jsxs("div",{className:"dashboard-widget-error",children:[t.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),t.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},LJ=()=>{var k,W,q;const{user:r,permissions:e,logout:n}=pa(),a=_n(),[i]=qN(),[s,c]=P.useState([]),[l,u]=P.useState({}),[o,h]=P.useState(!0),[d,A]=P.useState(!1),[f,g]=P.useState({enabled:!1,role:null});P.useEffect(()=>{const te=i.get("preview")==="true",K=sessionStorage.getItem("dashboard-preview-config"),X=sessionStorage.getItem("dashboard-preview-role");if(te&&K&&X)try{const O=JSON.parse(K);g({enabled:!0,role:X}),c(O.widgets||[]),u(O.permissions||{}),h(!1)}catch(O){console.error("Failed to load preview config:",O)}},[i]);const m=f.enabled&&f.role?f.role:((k=r==null?void 0:r.roles)==null?void 0:k[0])||"viewer",x=f.enabled,y=e.includes("*"),b=()=>{A(!d)},w=()=>{g({enabled:!1,role:null})},S=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...y?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(te=>te.path==="/dashboard"?!0:te.path==="/transaction"?Ia(e,"transaction"):te.path==="/finance"?Ia(e,"finance"):te.path==="/commercial-agreements"?Ia(e,"commercial"):te.path==="/compliance-training"?Ia(e,"compliance"):te.path==="/master"?Ia(e,"master"):te.path==="/report"?Ia(e,"report"):!0);P.useEffect(()=>{if(f.enabled)return;(async()=>{h(!0);try{console.log("[DashboardPage] Loading dashboard for role:",m);const K=await Gf.getDashboardConfig(m);console.log("[DashboardPage] Loaded role config:",{role:K.role,widgetsCount:Array.isArray(K.widgets)?K.widgets.length:0,widgets:K.widgets});const X=r!=null&&r.id?await Gf.getUserOverrides(r.id):null,O=Gf.computePermissions(K,X);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(O.widgets)?O.widgets.length:0,widgets:O.widgets});let le=[];Array.isArray(O.widgets)?O.widgets.forEach(R=>{Array.isArray(R)?R.forEach(ie=>{ie&&typeof ie=="object"&&!Array.isArray(ie)&&le.push(ie)}):R&&typeof R=="object"&&!Array.isArray(R)&&le.push(R)}):O.widgets&&typeof O.widgets=="object"&&!Array.isArray(O.widgets)&&(le=[O.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(O.widgets)?O.widgets.length:0,processedCount:le.length,widgets:le});const z=le.filter(R=>!R||typeof R!="object"||Array.isArray(R)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",R),!1):!0).map((R,ie)=>{var Te,Y,Ne,ce,ae,Ce;if(R.id||(R.id=`widget-${Date.now()}-${ie}-${Math.random()}`),R.dataSource||(R.dataSource={}),!R.dataSource.endpoint){const Ee=R.id.toLowerCase(),we=(R.title||"").toLowerCase(),me=`${Ee} ${we}`;let se=null;if(Ee.includes("total-invoices")||Ee.includes("totalinvoices")||Ee.startsWith("metric-total-invoices")?se="/dashboard/kpi/total-invoices":Ee.includes("pending-invoices")||Ee.includes("pendinginvoices")||Ee.startsWith("metric-pending-invoices")?se="/dashboard/kpi/pending-invoices":Ee.includes("total-revenue")||Ee.includes("totalrevenue")||Ee.startsWith("metric-total-revenue")?se="/dashboard/kpi/total-revenue":Ee.includes("pending-payments")||Ee.includes("pendingpayments")||Ee.startsWith("metric-pending-payments")?se="/dashboard/kpi/pending-payments":Ee.includes("receipts-today")||Ee.includes("receiptstoday")?se="/dashboard/kpi/receipts-today":Ee.includes("active-users")||Ee.includes("activeusers")?se="/dashboard/kpi/active-users":Ee.includes("errors-today")||Ee.includes("errorstoday")?se="/dashboard/kpi/errors-today":Ee.includes("monthly-revenue")||Ee.includes("monthlyrevenue")||Ee.startsWith("chart-monthly-revenue")?se="/dashboard/chart/monthly-revenue":Ee.includes("payment-status")||Ee.includes("paymentstatus")?se="/dashboard/chart/payment-status":Ee.includes("invoice-aging")||Ee.includes("invoiceaging")?se="/dashboard/chart/invoice-aging":Ee.includes("recent-invoices")||Ee.includes("recentinvoices")||Ee.startsWith("table-recent-invoices")?se="/dashboard/table/recent-invoices":Ee.includes("recent-payments")||Ee.includes("recentpayments")?se="/dashboard/table/recent-payments":Ee.includes("pending-receipts")||Ee.includes("pendingreceipts")?se="/dashboard/table/pending-receipts":Ee.includes("pending-approvals")||Ee.includes("pendingapprovals")||Ee.includes("approval-queue")||Ee.startsWith("approval-queue")?se="/dashboard/tasks/pending-approvals":Ee.includes("assigned-tasks")||Ee.includes("assignedtasks")?se="/dashboard/tasks/assigned":Ee.includes("payment-overdue")||Ee.includes("paymentoverdue")?se="/dashboard/alerts/payment-overdue":(Ee.includes("compliance-expiry")||Ee.includes("complianceexpiry"))&&(se="/dashboard/alerts/compliance-expiry"),se||(me.includes("total invoices")||me.includes("totalinvoices")?se="/dashboard/kpi/total-invoices":me.includes("pending invoices")||me.includes("pendinginvoices")?se="/dashboard/kpi/pending-invoices":me.includes("total revenue")||me.includes("totalrevenue")?se="/dashboard/kpi/total-revenue":me.includes("pending payments")||me.includes("pendingpayments")?se="/dashboard/kpi/pending-payments":me.includes("receipts today")||me.includes("receiptstoday")?se="/dashboard/kpi/receipts-today":me.includes("active users")||me.includes("activeusers")?se="/dashboard/kpi/active-users":me.includes("errors today")||me.includes("errorstoday")?se="/dashboard/kpi/errors-today":me.includes("monthly revenue")||me.includes("monthlyrevenue")?se="/dashboard/chart/monthly-revenue":me.includes("payment status")||me.includes("paymentstatus")?se="/dashboard/chart/payment-status":me.includes("invoice aging")||me.includes("invoiceaging")?se="/dashboard/chart/invoice-aging":me.includes("recent invoices")||me.includes("recentinvoices")?se="/dashboard/table/recent-invoices":me.includes("recent payments")||me.includes("recentpayments")?se="/dashboard/table/recent-payments":me.includes("pending receipts")||me.includes("pendingreceipts")?se="/dashboard/table/pending-receipts":me.includes("pending approvals")||me.includes("pendingapprovals")||me.includes("approval queue")?se="/dashboard/tasks/pending-approvals":me.includes("assigned tasks")||me.includes("assignedtasks")?se="/dashboard/tasks/assigned":me.includes("payment overdue")||me.includes("paymentoverdue")?se="/dashboard/alerts/payment-overdue":(me.includes("compliance expiry")||me.includes("complianceexpiry"))&&(se="/dashboard/alerts/compliance-expiry")),se)console.log(`[DashboardPage] Widget ${R.id} endpoint inferred from ID/title:`,{widgetId:R.id,widgetTitle:R.title,inferredEndpoint:se});else{const J=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];R.type==="metric"||R.type==="kpi"?se=J[ie%J.length]||"/dashboard/kpi/total-invoices":R.type==="chart"?se="/dashboard/chart/monthly-revenue":R.type==="table"?se="/dashboard/table/recent-invoices":R.type==="task-list"||R.type==="approval-queue"?se="/dashboard/tasks/pending-approvals":R.type==="alert"?se="/dashboard/alerts/payment-overdue":se=J[ie%J.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${R.id} missing endpoint, using index-based assignment:`,{widgetId:R.id,widgetTitle:R.title,widgetType:R.type,widgetIndex:ie,assignedEndpoint:se})}R.dataSource.endpoint=se}if(!R.title){const Ee=((Te=R.dataSource)==null?void 0:Te.endpoint)||"";Ee.includes("total-invoices")?R.title="Total Invoices":Ee.includes("pending-invoices")?R.title="Pending Invoices":Ee.includes("total-revenue")?R.title="Total Revenue":Ee.includes("pending-payments")?R.title="Pending Payments":Ee.includes("receipts-today")?R.title="Receipts Today":Ee.includes("active-users")?R.title="Active Users":Ee.includes("errors-today")?R.title="Errors Today":Ee.includes("monthly-revenue")?R.title="Monthly Revenue":Ee.includes("payment-status")?R.title="Payment Status":Ee.includes("invoice-aging")?R.title="Invoice Aging":Ee.includes("recent-invoices")?R.title="Recent Invoices":Ee.includes("recent-payments")?R.title="Recent Payments":Ee.includes("pending-receipts")?R.title="Pending Receipts":Ee.includes("pending-approvals")?R.title="Pending Approvals":Ee.includes("assigned-tasks")?R.title="Assigned Tasks":Ee.includes("payment-overdue")?R.title="Payment Overdue":Ee.includes("compliance-expiry")?R.title="Compliance Expiry":R.title=`Widget ${ie+1}`,console.log(`[DashboardPage] Widget ${R.id} missing title, inferred from endpoint:`,{widgetId:R.id,inferredTitle:R.title,endpoint:(Y=R.dataSource)==null?void 0:Y.endpoint})}if(!R.type){const Ee=((Ne=R.dataSource)==null?void 0:Ne.endpoint)||"";Ee.includes("/kpi/")||Ee.includes("/dashboard/kpi/")?R.type="metric":Ee.includes("/chart/")||Ee.includes("/dashboard/chart/")?R.type="chart":Ee.includes("/table/")||Ee.includes("/dashboard/table/")?R.type="table":Ee.includes("/tasks/")||Ee.includes("/approval")||Ee.includes("/dashboard/tasks/")?R.type="task-list":Ee.includes("/alerts/")||Ee.includes("/dashboard/alerts/")?R.type="alert":Ee.includes("/activity")||Ee.includes("/timeline")?R.type="activity-timeline":(R.id&&!R.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:R.id,title:R.title,endpoint:Ee||"none"}),R.type="metric")}const Ae=R.type.toLowerCase().trim(),be={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[Ae];return be?R.type=be:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(Ae)||(console.warn(`[DashboardPage] Unknown widget type "${R.type}", defaulting to "metric"`,R),R.type="metric"),(!R.gridColumn||R.gridColumn<1)&&(R.gridColumn=1),R.gridColumn>4&&(R.gridColumn=4),(ce=R.dataSource)!=null&&ce.endpoint||(console.error(`[DashboardPage] Widget ${R.id} still missing endpoint after validation!`,R),R.dataSource=R.dataSource||{},R.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:R.id,title:R.title,type:R.type,endpoint:(ae=R.dataSource)==null?void 0:ae.endpoint,hasEndpoint:!!((Ce=R.dataSource)!=null&&Ce.endpoint)}),R}).filter(R=>!R||typeof R!="object"||Array.isArray(R)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",R),!1):!R.id||!R.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",R),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(R.type)?!R.dataSource||!R.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",R),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",R),!1));console.log("[DashboardPage] Final validated widgets:",{count:z.length,widgets:z}),c(z),u(O.permissions)}catch(K){console.error("[DashboardPage] Failed to load dashboard:",K),c([]),u({})}finally{h(!1)}})()},[m,r==null?void 0:r.id,f.enabled,a.pathname]);const C=P.useMemo(()=>{const te=[];let K=[],X=0;return s.forEach(O=>{const le=O.gridColumn||1;X+le>4?(te.push(K),K=[O],X=le):(K.push(O),X+=le)}),K.length>0&&te.push(K),te},[s]);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${d?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!d&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":d?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:S.map(te=>t.jsx("li",{children:t.jsxs(Zr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:te.icon}),!d&&t.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!d&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!d&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard"})})}),t.jsxs("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:[x&&t.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),t.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",((W=f.role)==null?void 0:W.charAt(0).toUpperCase())+((q=f.role)==null?void 0:q.slice(1))]})]}),t.jsx("button",{onClick:w,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),o&&t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"dashboard-loading-spinner"}),t.jsx("p",{children:"Loading dashboard..."})]}),!o&&t.jsx("div",{className:"dashboard-widget-grid",children:C.map((te,K)=>t.jsx("div",{className:"dashboard-widget-row",children:te.map((X,O)=>!X||typeof X!="object"||Array.isArray(X)||!X.id||!X.type?(console.error("[DashboardPage] Invalid widget in render:",X),t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:"span 1"},children:t.jsx("div",{className:"widget-error",children:"Invalid widget configuration"})},`invalid-widget-${K}-${O}`)):t.jsx("div",{className:"dashboard-widget-cell",style:{gridColumn:`span ${X.gridColumn||1}`,gridRow:X.gridRow?`span ${X.gridRow}`:void 0},children:t.jsx(P.Suspense,{fallback:t.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:t.jsx(RJ,{widget:X,permissions:l,isPreviewMode:x})})},X.id||`widget-${K}-${O}`))},`row-${K}`))}),!o&&s.length===0&&t.jsxs("div",{className:"dashboard-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),t.jsx("h2",{children:"No widgets configured"}),t.jsx("p",{children:"Your dashboard is empty. Contact your administrator to configure widgets for your role."})]})]})]})]})},UJ=({catalog:r,onAddWidget:e})=>{const[n,a]=bt.useState({kpis:!0,charts:!0,tables:!0,tasks:!0,alerts:!0}),i=c=>{a(l=>({...l,[c]:!l[c]}))},s=(c,l,u,o)=>{const h=n[o];return t.jsxs("div",{className:"catalog-group",children:[t.jsxs("button",{className:"catalog-group-header",onClick:()=>i(o),children:[t.jsx("span",{className:"catalog-group-title",children:c}),t.jsxs("span",{className:"catalog-group-count",children:["(",l.length,")"]}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`catalog-group-arrow ${h?"expanded":""}`,children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),h&&t.jsx("div",{className:"catalog-group-items",children:l.length===0?t.jsx("div",{className:"catalog-empty",children:"No items available"}):l.map(d=>t.jsxs("div",{className:"catalog-item",onClick:()=>e(d,u),children:[t.jsxs("div",{className:"catalog-item-header",children:[t.jsx("span",{className:"catalog-item-title",children:d.title}),t.jsx("button",{className:"catalog-item-add-btn",onClick:A=>{A.stopPropagation(),e(d,u)},title:"Add to dashboard",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),d.description&&t.jsx("div",{className:"catalog-item-description",children:d.description}),t.jsxs("div",{className:"catalog-item-meta",children:[t.jsx("span",{className:"catalog-item-type",children:u.toUpperCase()}),d.format&&t.jsx("span",{className:"catalog-item-format",children:d.format})]})]},d.code))})]})};return t.jsxs("div",{className:"catalog-panel",children:[t.jsxs("div",{className:"catalog-panel-header",children:[t.jsx("h2",{className:"catalog-panel-title",children:"Available Widgets"}),t.jsx("p",{className:"catalog-panel-subtitle",children:"Click to add widgets to the dashboard configuration"})]}),t.jsxs("div",{className:"catalog-panel-content",children:[s("KPIs",r.kpis,"kpi","kpis"),s("Charts",r.charts,"chart","charts"),s("Tables",r.tables,"table","tables"),s("Tasks",r.tasks,"task","tasks"),s("Alerts",r.alerts,"alert","alerts")]})]})},HJ=({widgets:r,selectedWidgetId:e,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:i,onReorderWidget:s})=>{const c=u=>u===4?"Full":u===2?"Half":u===1?"Quarter":`${u}/4`,l=(u,o)=>{a(u,{gridColumn:o})};return t.jsxs("div",{className:"dashboard-canvas",children:[t.jsxs("div",{className:"dashboard-canvas-header",children:[t.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),t.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),t.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?t.jsxs("div",{className:"dashboard-canvas-empty",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),t.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),t.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):t.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((u,o)=>{const h=e===u.id,d=o>0,A=o<r.length-1;return t.jsxs("div",{className:`dashboard-canvas-widget ${h?"selected":""}`,style:{gridColumn:`span ${u.gridColumn}`},onClick:()=>n(u.id),children:[t.jsxs("div",{className:"dashboard-canvas-widget-header",children:[t.jsxs("div",{className:"dashboard-canvas-widget-info",children:[t.jsx("span",{className:"dashboard-canvas-widget-title",children:u.title}),t.jsx("span",{className:"dashboard-canvas-widget-type",children:u.type})]}),t.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[t.jsxs("select",{value:u.gridColumn,onChange:f=>l(u.id,parseInt(f.target.value,10)),onClick:f=>f.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[t.jsx("option",{value:"1",children:"Quarter"}),t.jsx("option",{value:"2",children:"Half"}),t.jsx("option",{value:"4",children:"Full"})]}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),d&&s(u.id,"up")},disabled:!d,title:"Move up",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:f=>{f.stopPropagation(),A&&s(u.id,"down")},disabled:!A,title:"Move down",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})}),t.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:f=>{f.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&i(u.id)},title:"Remove widget",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),t.jsx("div",{className:"dashboard-canvas-widget-preview",children:t.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[t.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[u.type==="metric"&&"Metric Widget",u.type==="chart"&&"Chart Widget",u.type==="table"&&"Table Widget",u.type==="task-list"&&" Task List Widget",u.type==="alert"&&"Alert Widget",!["metric","chart","table","task-list","alert"].includes(u.type)&&"Widget Preview"]}),t.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(u.gridColumn)})]})})]},u.id||`widget-${o}`)})})})]})},QJ=({widget:r,onUpdateWidget:e})=>{if(!r)return t.jsx("div",{className:"widget-settings-panel",children:t.jsxs("div",{className:"widget-settings-empty",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),t.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{e(r.id,{title:c})},a=c=>{e(r.id,{description:c})},i=c=>{e(r.id,{gridColumn:c})},s=c=>{e(r.id,{chartConfig:{...r.chartConfig,type:c}})};return t.jsxs("div",{className:"widget-settings-panel",children:[t.jsxs("div",{className:"widget-settings-header",children:[t.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),t.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),t.jsxs("div",{className:"widget-settings-content",children:[t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),t.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),t.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),t.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),t.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),t.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>i(parseInt(c.target.value,10)),className:"widget-settings-select",children:[t.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),t.jsx("option",{value:"2",children:"Half (1/2 width)"}),t.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),t.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>s(c.target.value),className:"widget-settings-select",children:[t.jsx("option",{value:"line",children:"Line Chart"}),t.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),t.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),t.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&t.jsxs("div",{className:"widget-settings-section",children:[t.jsx("label",{className:"widget-settings-label",children:"Permissions"}),t.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&t.jsxs("div",{className:"widget-settings-permission",children:[t.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),t.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,l])=>t.jsxs("div",{className:"widget-settings-permission",children:[t.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),t.jsx("span",{className:"widget-settings-permission-value",children:l})]},c))]})]})]})]})},WJ=()=>{const r=Ja(),[e,n]=bt.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,i]=bt.useState([]),[s,c]=bt.useState(""),[l,u]=bt.useState("role"),[o,h]=bt.useState(null),[d,A]=bt.useState(null),[f,g]=bt.useState(!1),[m,x]=bt.useState(!1),[y,b]=bt.useState(null);bt.useEffect(()=>{(async()=>{g(!0);try{const[K,X]=await Promise.all([Gf.getCatalog(),Gf.getAvailableRoles()]);n(K),i(X)}catch(K){console.error("Failed to load catalog:",K),b("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),bt.useEffect(()=>{s?(async()=>{g(!0);try{const K=await Gf.getDashboardConfigByTarget(s);h(K),A(null)}catch(K){console.error("Failed to load configuration:",K),b("Failed to load dashboard configuration")}finally{g(!1)}})():(h(null),A(null))},[s,l]);const w=(te,K)=>{if(!o){alert("Please select a role or department first");return}const X={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},O={id:`${te.code.toLowerCase()}-${Date.now()}`,type:X[K]||"metric",title:te.title,description:te.description,gridColumn:2,dataSource:{endpoint:te.api,method:"GET"},...K==="chart"&&te.chartTypes&&te.chartTypes.length>0&&{chartConfig:{type:te.chartTypes[0]}}};h({...o,widgets:[...o.widgets,O]}),A(O.id)},N=(te,K)=>{o&&h({...o,widgets:o.widgets.map(X=>X.id===te?{...X,...K}:X)})},S=te=>{o&&(h({...o,widgets:o.widgets.filter(K=>K.id!==te)}),d===te&&A(null))},C=(te,K)=>{if(!o)return;const X=o.widgets.findIndex(z=>z.id===te);if(X===-1)return;const O=K==="up"?X-1:X+1;if(O<0||O>=o.widgets.length)return;const le=[...o.widgets];[le[X],le[O]]=[le[O],le[X]],h({...o,widgets:le})},k=async()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}x(!0),b(null);try{const te={...o,widgets:(o.widgets||[]).filter(K=>K&&typeof K=="object"&&!Array.isArray(K)),menuItems:Array.isArray(o.menuItems)?o.menuItems:[],permissions:o.permissions&&typeof o.permissions=="object"&&!Array.isArray(o.permissions)?o.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:te.role,widgetsCount:te.widgets.length,widgets:te.widgets}),await Gf.saveDashboardConfig(te),alert("Dashboard configuration saved successfully")}catch(te){console.error("Failed to save configuration:",te);const K=(te==null?void 0:te.message)||"Failed to save dashboard configuration";b(K)}finally{x(!1)}},W=()=>{if(!o||!s){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(o)),sessionStorage.setItem("dashboard-preview-role",s),r("/dashboard?preview=true")},q=(o==null?void 0:o.widgets.find(te=>te.id===d))||null;return t.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar",children:[t.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[t.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),t.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),t.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[t.jsxs("div",{className:"dashboard-configuration-target-selector",children:[t.jsxs("select",{value:l,onChange:te=>{u(te.target.value),c("")},className:"dashboard-configuration-type-select",children:[t.jsx("option",{value:"role",children:"Role"}),t.jsx("option",{value:"department",children:"Department"})]}),t.jsxs("select",{value:s,onChange:te=>c(te.target.value),className:"dashboard-configuration-target-select",disabled:f,children:[t.jsxs("option",{value:"",children:["Select ",l,"..."]}),l==="role"&&a.map(te=>t.jsx("option",{value:te,children:te.charAt(0).toUpperCase()+te.slice(1)},te))]})]}),t.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:W,disabled:!o||!s||o.widgets.length===0,title:"Preview dashboard with current configuration",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),t.jsx("button",{className:"dashboard-configuration-btn save",onClick:k,disabled:!o||!s||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&t.jsxs("div",{className:"dashboard-configuration-error",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),t.jsxs("div",{className:"dashboard-configuration-panels",children:[t.jsx("div",{className:"dashboard-configuration-panel-left",children:f&&!e.kpis.length?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):t.jsx(UJ,{catalog:e,onAddWidget:w})}),t.jsx("div",{className:"dashboard-configuration-panel-center",children:f&&!o?t.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):o?t.jsx(HJ,{widgets:o.widgets,selectedWidgetId:d,onSelectWidget:A,onUpdateWidget:N,onRemoveWidget:S,onReorderWidget:C}):t.jsx("div",{className:"dashboard-configuration-empty-state",children:t.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),t.jsx("div",{className:"dashboard-configuration-panel-right",children:t.jsx(QJ,{widget:q,onUpdateWidget:N})})]})]})},$J=()=>{const{permissions:r,logout:e}=pa(),n=_n(),a=Ja(),[i,s]=bt.useState(!1),c=r.includes("*");if(bt.useEffect(()=>{c||a("/dashboard",{replace:!0,state:{from:n}})},[c,a,n]),!c)return null;const l=()=>{s(!i)},o=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}].filter(h=>h.path==="/dashboard"?!0:h.path==="/transaction"?Ia(r,"transaction"):h.path==="/finance"?Ia(r,"finance"):h.path==="/commercial-agreements"?Ia(r,"commercial"):h.path==="/compliance-training"?Ia(r,"compliance"):h.path==="/master"?Ia(r,"master"):h.path==="/report"?Ia(r,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:o.map(h=>t.jsx("li",{children:t.jsxs(Zr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:h.icon}),!i&&t.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Admin / Dashboard configuration"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:0,overflow:"hidden",flex:1},children:t.jsx(WJ,{})})]})]})},VJ="http://localhost:3000/api/v1",zJ=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},t0=async(r,e={})=>{const n=zJ(),a=`${VJ}${r}`;console.log("[roleService] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[roleService] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[roleService] Error response text:",h),h&&(u=JSON.parse(h),console.log("[roleService] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[roleService] Failed to parse error response:",h)}console.error("[roleService] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[roleService] Success response data:",c),c}catch(s){if(console.error("[roleService] Fetch error:",s),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},zp={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await t0("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await t0(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,e)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await t0(n,{method:"GET"})).data},updateRole:async(r,e)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",e),(await t0(`/roles/${r}`,{method:"PUT",body:JSON.stringify(e)})).data),deleteRole:async r=>{await t0(`/roles/${r}`,{method:"DELETE"})}},KJ=()=>{const r=localStorage.getItem("mw-auth-user");if(!r)return null;try{const e=JSON.parse(r);return(e==null?void 0:e.token)||null}catch{return null}};async function bj(r,e={}){const n=KJ();if(!n)throw new Error("Unauthorized: missing token");const a=await fetch(`${pA}${r}`,{...e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...e.headers||{}}});if(!a.ok){const s=await a.json().catch(()=>({})),c=(s==null?void 0:s.message)||(s==null?void 0:s.error)||`HTTP ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):String(c))}return(await a.json()).data}const wj={listPermissions:async()=>bj("/permissions",{method:"GET"}),getRolePermissionCodes:async r=>bj(`/permissions/roles/${r}`,{method:"GET"}),replaceRolePermissions:async(r,e)=>bj(`/permissions/roles/${r}`,{method:"PUT",body:JSON.stringify({permissionCodes:e})})},GJ=r=>r.reduce((e,n)=>{const a=n.moduleName||"General";return e[a]=e[a]||[],e[a].push(n),e},{}),qJ=()=>{const{permissions:r,logout:e}=pa(),n=Ja(),a=_n(),[i,s]=bt.useState(!1),c=r.includes("*"),[l,u]=bt.useState([]),[o,h]=bt.useState([]),[d,A]=bt.useState(""),[f,g]=bt.useState(new Set),[m,x]=bt.useState(""),[y,b]=bt.useState(!0),[w,N]=bt.useState(!1),[S,C]=bt.useState(null);bt.useEffect(()=>{c||n("/dashboard",{replace:!0,state:{from:a}})},[c,n,a]),bt.useEffect(()=>{(async()=>{b(!0),C(null);try{const[X,O]=await Promise.all([zp.getAllRoles(void 0,!0),wj.listPermissions()]);u(X),h(O)}catch(X){C((X==null?void 0:X.message)||"Failed to load roles/permissions")}finally{b(!1)}})()},[]),bt.useEffect(()=>{(async()=>{if(!d){g(new Set);return}C(null);try{const X=await wj.getRolePermissionCodes(d);g(new Set(X))}catch(X){C((X==null?void 0:X.message)||"Failed to load role permissions")}})()},[d]);const k=bt.useMemo(()=>{const K=m.trim().toLowerCase();return K?o.filter(X=>`${X.moduleName} ${X.permissionCode} ${X.permissionName} ${X.description||""}`.toLowerCase().includes(K)):o},[o,m]),W=bt.useMemo(()=>{const K=GJ(k);for(const X of Object.keys(K))K[X].sort((O,le)=>(O.permissionName||"").localeCompare(le.permissionName||""));return Object.entries(K).sort(([X],[O])=>X.localeCompare(O))},[k]),q=K=>{g(X=>{const O=new Set(X);return O.has(K)?O.delete(K):O.add(K),O})},te=async()=>{if(!d){C("Please select a role");return}N(!0),C(null);try{const K=Array.from(f).sort();await wj.replaceRolePermissions(d,K)}catch(K){C((K==null?void 0:K.message)||"Failed to save permissions")}finally{N(!1)}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:()=>s(K=>!K),"aria-label":i?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),(()=>{const X=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}].filter(O=>O.path==="/dashboard"?!0:O.path==="/transaction"?Ia(r,"transaction"):O.path==="/finance"?Ia(r,"finance"):O.path==="/commercial-agreements"?Ia(r,"commercial"):O.path==="/compliance-training"?Ia(r,"compliance"):O.path==="/master"?Ia(r,"master"):O.path==="/report"?Ia(r,"report"):!0);return t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:X.map(O=>t.jsx("li",{children:t.jsxs(Zr,{to:O.path,className:`nav-link ${O.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:O.icon}),!i&&t.jsx("span",{className:"nav-label",children:O.label})]})},O.path))})})})(),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"MEDI-WASTE / Admin / Permission configuration"})})}),t.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:t.jsxs("div",{className:"perm-config-page",children:[t.jsxs("div",{className:"perm-config-header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:"Permission Configuration"}),t.jsxs("p",{children:["Assign permissions to roles (writes to existing ",t.jsx("code",{children:"role_permissions"})," table)"]})]}),t.jsx("button",{className:"perm-config-save",onClick:te,disabled:w||y||!d,children:w?"Saving...":"Save"})]}),t.jsxs("div",{className:"perm-config-controls",children:[t.jsxs("div",{className:"perm-config-control",children:[t.jsx("label",{children:"Role"}),t.jsxs("select",{value:d,onChange:K=>A(K.target.value),children:[t.jsx("option",{value:"",children:"Select role..."}),l.map(K=>t.jsx("option",{value:K.roleId,children:K.roleName},K.roleId))]})]}),t.jsxs("div",{className:"perm-config-control perm-config-control--search",children:[t.jsx("label",{children:"Search"}),t.jsx("input",{value:m,onChange:K=>x(K.target.value),placeholder:"Search by module / code / name..."})]})]}),S&&t.jsx("div",{className:"perm-config-error",children:S}),y?t.jsx("div",{className:"perm-config-loading",children:"Loading..."}):d?t.jsx("div",{className:"perm-config-grid",children:W.map(([K,X])=>t.jsxs("section",{className:"perm-config-module",children:[t.jsx("h2",{children:K}),t.jsx("div",{className:"perm-config-list",children:X.map(O=>t.jsxs("label",{className:"perm-config-item",children:[t.jsx("input",{type:"checkbox",checked:f.has(O.permissionCode),onChange:()=>q(O.permissionCode)}),t.jsxs("div",{className:"perm-config-item-text",children:[t.jsxs("div",{className:"perm-config-item-title",children:[t.jsx("span",{className:"perm-code",children:O.permissionCode}),t.jsx("span",{className:"perm-name",children:O.permissionName})]}),O.description?t.jsx("div",{className:"perm-desc",children:O.description}):null]})]},O.permissionId))})]},K))}):t.jsx("div",{className:"perm-config-empty",children:"Select a role to view and assign permissions."})]})})]})]})},XJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},o=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),t.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],d={"route-assignment":"ROUTE_ASSIGNMENT_VIEW","barcode-generation":"BARCODE_LABEL_VIEW","waste-collection":"WASTE_COLLECTION_VIEW","waste-transaction-data":"WASTE_TRANSACTION_VIEW","vehicle-wise-waste-collection":"VEHICLE_WASTE_COLLECTION_VIEW","waste-processing":"WASTE_PROCESS_VIEW"},A=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?bx(m,x):!1},f=h.filter(g=>g.path==="/dashboard"?Ia(e,"dashboard"):g.path==="/transaction"?Ia(e,"transaction"):g.path==="/finance"?Ia(e,"finance"):g.path==="/commercial-agreements"?Ia(e,"commercial"):g.path==="/compliance-training"?Ia(e,"compliance"):g.path==="/master"?Ia(e,"master"):g.path==="/report"?Ia(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:f.map(g=>t.jsx("li",{children:t.jsxs(Zr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Transaction"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Transaction"}),t.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(g=>A(g.id)?t.jsxs(Zr,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id):t.jsxs("div",{className:"master-card master-card--disabled",title:"No access",style:{opacity:.5,cursor:"not-allowed",pointerEvents:"none"},children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id))})]})]})]})};function Rm(r,e){return(Array.isArray(r)?r:[]).includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:e==="/admin/dashboard-configuration"||e.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:e==="/admin/permission-configuration"||e.startsWith("/admin/permission-configuration")}]:[]}const YJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},o=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Rm(e,n.pathname)];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:h.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Finance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Finance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},ZJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},o=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Rm(e,n.pathname)];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:h.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Commercial / Agreements"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),t.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},JJ=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},o=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Rm(e,n.pathname)];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:h.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Compliance & Training"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Compliance & Training"}),t.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},eee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},o=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),t.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),t.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),t.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),t.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),t.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),t.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),t.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),t.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"}),t.jsx("path",{d:"M12 13l-2-2"}),t.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),h=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],d={company:"COMPANY_VIEW",state:"STATE_VIEW",area:"AREA_VIEW",category:"CATEGORY_VIEW","color-code":"COLOR_VIEW","pcb-zone":"PCB_ZONE_VIEW",frequency:"FREQUENCY_VIEW","hcf-type":"HCF_TYPE_VIEW","user-management":"USER_VIEW","hcf-master":"HCF_VIEW","hcf-amendments":"HCF_AMENDMENT_VIEW","fleet-management":"FLEET_VIEW","route-master":"ROUTE_VIEW","route-hcf-mapping":"ROUTE_HCF_VIEW"},A=g=>{const m=Array.isArray(e)?e:[];if(m.includes("*"))return!0;const x=d[g];return x?bx(m,x):!1},f=h.filter(g=>g.path==="/dashboard"?Ia(e,"dashboard"):g.path==="/transaction"?Ia(e,"transaction"):g.path==="/finance"?Ia(e,"finance"):g.path==="/commercial-agreements"?Ia(e,"commercial"):g.path==="/compliance-training"?Ia(e,"compliance"):g.path==="/master"?Ia(e,"master"):g.path==="/report"?Ia(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:f.map(g=>t.jsx("li",{children:t.jsxs(Zr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:g.icon}),!s&&t.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Masters"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Masters"}),t.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>i(g.target.value)})]})}),t.jsx("div",{className:"master-grid",children:o.map(g=>A(g.id)?t.jsxs(Zr,{to:g.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id):t.jsxs("div",{className:"master-card master-card--disabled",title:"No access",style:{opacity:.5,cursor:"not-allowed",pointerEvents:"none"},children:[t.jsx("div",{className:"master-card-icon",children:g.icon}),t.jsx("h3",{className:"master-card-title",children:g.title}),t.jsx("p",{className:"master-card-description",children:g.description})]},g.id))})]})]})]})},tee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},r0=async(r,e={})=>{const n=tee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{i.status===401?s="User not authenticated":i.status===403&&(s="Access forbidden")}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},$a={createCompany:async r=>(await r0("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await r0(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await r0(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data,updateCompany:async(r,e)=>(await r0(`/companies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCompany:async r=>{await r0(`/companies/${r}`,{method:"DELETE"})}},tS=(r,e)=>{if(!Array.isArray(r)||r.length===0)return!1;if(r.includes("*"))return!0;const n=(e||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const i of a)if(r.includes(i))return!0;return!1},mp=r=>tS(r,"MASTERS.CREATE")?!0:r.includes("*")||r.some(e=>e.endsWith(".CREATE")||e.endsWith("_CREATE")),ree=r=>tS(r,"MASTERS.EDIT")?!0:r.includes("*")||r.some(e=>e.endsWith(".EDIT")||e.endsWith("_EDIT")||e.endsWith(".UPDATE")||e.endsWith("_UPDATE")),nee=r=>tS(r,"MASTERS.DELETE")?!0:r.includes("*")||r.some(e=>e.endsWith(".DELETE")||e.endsWith("_DELETE"));function s2({data:r,columns:e,onEdit:n,onDelete:a,onRowClick:i,getId:s,emptyMessage:c="No data available"}){return t.jsx("div",{className:"data-table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[e.map(l=>t.jsx("th",{style:{minWidth:l.minWidth?`${l.minWidth}px`:"auto"},children:l.label},l.key)),(n||a)&&t.jsx("th",{className:"col-actions",children:"Actions"})]})}),t.jsx("tbody",{children:r.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(n||a?1:0),className:"empty-state",children:c})}):r.map(l=>t.jsxs("tr",{onClick:()=>i&&i(l),style:{cursor:i?"pointer":"default"},className:i?"data-table-row-clickable":"",children:[e.map(u=>t.jsx("td",{className:u.allowWrap?"allow-wrap":"",onClick:o=>{o.target.closest(".action-btn")&&o.stopPropagation()},children:u.render?u.render(l):l[u.key]||"-"},u.key)),(n||a)&&t.jsxs("td",{onClick:u=>u.stopPropagation(),children:[n&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>n(l),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>a(s(l)),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},s(l)))})]})})}function gp({title:r,breadcrumb:e,data:n,filteredData:a,columns:i,searchQuery:s,onSearchChange:c,onAdd:l,onEdit:u,onDelete:o,getId:h,addButtonLabel:d="Add",emptyMessage:A,children:f,showAddButton:g}){const{permissions:m}=pa(),x=g!==void 0?g:mp(m);return t.jsxs("div",{className:"master-page-layout",children:[t.jsx("div",{className:"master-page-header",children:t.jsx("h1",{className:"master-page-title",children:r})}),f&&t.jsx("div",{className:"master-page-content",children:f}),t.jsxs("div",{className:"master-page-actions",children:[t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:s,onChange:y=>c(y.target.value)})]}),x&&t.jsxs("button",{className:"add-item-btn",onClick:l,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d]})]}),t.jsx(s2,{data:a,columns:i,onEdit:u,onDelete:o,getId:h,emptyMessage:A}),t.jsxs("div",{className:"master-pagination-info",children:["Showing ",a.length," of ",n.length," Items"]})]})}function vp({tabs:r,activeTab:e,onTabChange:n}){return t.jsx("div",{className:"tabs-container",children:r.map(a=>t.jsx("button",{className:`tab-button ${e===a.id?"tab-button--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})}function qs(r,e){return[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:e==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:e==="/transaction"||e.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:e==="/finance"||e.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e==="/commercial-agreements"||e.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:e==="/compliance-training"||e.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e==="/master"||e.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:e.startsWith("/report")},...Rm(r,e)].filter(a=>a.path==="/dashboard"?Ia(r,"dashboard"):a.path==="/transaction"?Ia(r,"transaction"):a.path==="/finance"?Ia(r,"finance"):a.path==="/commercial-agreements"?Ia(r,"commercial"):a.path==="/compliance-training"?Ia(r,"compliance"):a.path==="/master"?Ia(r,"master"):a.path==="/report"?Ia(r,"report"):!0)}const aee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},c=Ja(),[l,u]=P.useState(""),[o,h]=P.useState("list"),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(!1),[y,b]=P.useState(null),[w]=P.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[N]=P.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[S,C]=P.useState([]),k=R=>({id:R.id,companyCode:R.companyCode,companyName:R.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:R.status,createdBy:R.createdBy||"System",createdOn:R.createdOn,modifiedBy:R.modifiedBy||"System",modifiedOn:R.modifiedOn}),W=async()=>{x(!0),b(null);try{const ie=(await $a.getAllCompanies(!0)).map(Ae=>k(Ae));C(ie)}catch(R){const ie=R.message||"Failed to load companies";if(console.error("Error loading companies:",R),ie.includes("not authenticated")||ie.includes("Unauthorized")||ie.includes("401")||ie.includes("403")||(R==null?void 0:R.status)===401||(R==null?void 0:R.status)===403){localStorage.removeItem("mw-auth-user"),c("/login",{replace:!0});return}b(ie)}finally{x(!1)}};P.useEffect(()=>{W()},[]);const q=qs(e,n.pathname),te=S.filter(R=>{const ie=l.toLowerCase();return(R.companyName||"").toLowerCase().includes(ie)||(R.companyCode||"").toLowerCase().includes(ie)||(R.gstin||"").toLowerCase().includes(ie)}),K=()=>{g(null),A(!0)},X=R=>{g(R),A(!0)},O=async R=>{if(window.confirm("Are you sure you want to delete this company?")){x(!0),b(null);try{await $a.deleteCompany(R),await W()}catch(ie){b(ie.message||"Failed to delete company"),console.error("Error deleting company:",ie)}finally{x(!1)}}},le=async R=>{x(!0),b(null);try{if(f){const ie={companyCode:R.companyCode,companyName:R.companyName,status:R.status};await $a.updateCompany(f.id,ie)}else{if(!R.companyCode||!R.companyName)throw new Error("Company Code and Company Name are required");const ie={companyCode:R.companyCode,companyName:R.companyName};await $a.createCompany(ie)}await W(),A(!1),g(null)}catch(ie){const Ae=ie.message||"Failed to save company";b(Ae),console.error("Error saving company:",ie),(Ae.includes("403")||Ae.includes("401")||Ae.includes("Unauthorized"))&&b("Authentication failed. Please login again.")}finally{x(!1)}},z=[{key:"companyCode",label:"Code",minWidth:110},{key:"companyName",label:"Company Name",minWidth:150,allowWrap:!0},{key:"gstin",label:"GSTIN",minWidth:130},{key:"state",label:"State",minWidth:120},{key:"pcbauthNum",label:"PCB Auth #",minWidth:110},{key:"ctoWaterNum",label:"CTO Water #",minWidth:120},{key:"ctoWaterDate",label:"CTO Wtr Date",minWidth:130},{key:"ctoWaterValidUpto",label:"CTO Wtr Valid To",minWidth:150},{key:"ctoAirNum",label:"CTO Air #",minWidth:110},{key:"ctoAirDate",label:"CTO Air Date",minWidth:130},{key:"ctoAirValidUpto",label:"CTO Air Valid To",minWidth:150},{key:"cteWaterNum",label:"CTE Water #",minWidth:120},{key:"cteWaterDate",label:"CTE Wtr Date",minWidth:130},{key:"cteWaterValidUpto",label:"CTE Wtr Valid To",minWidth:150},{key:"cteAirNum",label:"CTE Air #",minWidth:110},{key:"cteAirDate",label:"CTE Air Date",minWidth:130},{key:"cteAirValidUpto",label:"CTE Air Valid To",minWidth:150},{key:"hazardousWasteNum",label:"Haz Waste #",minWidth:140},{key:"pcbZoneID",label:"PCB Zone",minWidth:110},{key:"gstValidFrom",label:"GST From",minWidth:130},{key:"gstRate",label:"GST Rate",minWidth:100},{key:"status",label:"Status",minWidth:90,render:R=>t.jsx("span",{className:`status-badge status-badge--${R.status.toLowerCase()}`,children:R.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:q.map(R=>t.jsx("li",{children:t.jsxs(Zr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!a&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Company Master"})})}),y&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),m&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),t.jsx(gp,{title:"Company Master",breadcrumb:"/ Masters / Company Master",data:S,filteredData:te,columns:z,searchQuery:l,onSearchChange:u,onAdd:K,onEdit:X,onDelete:O,getId:R=>R.id,addButtonLabel:"Add Company",children:t.jsx(vp,{tabs:[{id:"list",label:"Company List"}],activeTab:o,onTabChange:R=>h(R)})})]}),d&&t.jsx(iee,{company:f,states:w.filter(R=>R.status==="Active"),pcbZones:N.filter(R=>R.status==="Active"),loading:m,onClose:()=>{A(!1),g(null)},onSave:le})]})},iee=({company:r,states:e,pcbZones:n,loading:a=!1,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),u=o=>{o.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"company-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Code *"}),t.jsx("input",{type:"text",value:c.companyCode||"",onChange:o=>l({...c,companyCode:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsx("input",{type:"text",value:c.companyName||"",onChange:o=>l({...c,companyName:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN *"}),t.jsx("input",{type:"text",value:c.gstin||"",onChange:o=>l({...c,gstin:o.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State *"}),t.jsxs("select",{value:c.state||"",onChange:o=>l({...c,state:o.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),e.map(o=>t.jsx("option",{value:o.stateCode,children:o.stateCode},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:c.pincode||"",onChange:o=>l({...c,pincode:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Prefix"}),t.jsx("input",{type:"text",value:c.prefix||"",onChange:o=>l({...c,prefix:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Addresses"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Registered Office Address"}),t.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:o=>l({...c,regdOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Admin Office Address"}),t.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:o=>l({...c,adminOfficeAddress:o.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Factory Address"}),t.jsx("textarea",{value:c.factoryAddress||"",onChange:o=>l({...c,factoryAddress:o.target.value}),rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Authorized Person"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Name"}),t.jsx("input",{type:"text",value:c.authPersonName||"",onChange:o=>l({...c,authPersonName:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation"}),t.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:o=>l({...c,authPersonDesignation:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:o=>l({...c,authPersonDOB:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"PCB Authorization"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Auth Num"}),t.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:o=>l({...c,pcbauthNum:o.target.value})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Num"}),t.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:o=>l({...c,ctoWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Date"}),t.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:o=>l({...c,ctoWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Water Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:o=>l({...c,ctoWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTO Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Num"}),t.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:o=>l({...c,ctoAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Date"}),t.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:o=>l({...c,ctoAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTO Air Valid Upto"}),t.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:o=>l({...c,ctoAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Water"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Num"}),t.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:o=>l({...c,cteWaterNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Date"}),t.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:o=>l({...c,cteWaterDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Water Valid Upto"}),t.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:o=>l({...c,cteWaterValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"CTE Air"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Num"}),t.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:o=>l({...c,cteAirNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Date"}),t.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:o=>l({...c,cteAirDate:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CTE Air Valid Upto"}),t.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:o=>l({...c,cteAirValidUpto:o.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hazardous Waste Num"}),t.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:o=>l({...c,hazardousWasteNum:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone ID"}),t.jsxs("select",{value:c.pcbZoneID||"",onChange:o=>l({...c,pcbZoneID:o.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(o=>t.jsx("option",{value:o.pcbZoneName,children:o.pcbZoneName},o.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Valid From"}),t.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:o=>l({...c,gstValidFrom:o.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GST Rate"}),t.jsx("input",{type:"text",value:c.gstRate||"",onChange:o=>l({...c,gstRate:o.target.value}),placeholder:"e.g., 18%"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:o=>l({...c,status:o.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":r?"Update":"Save"})]})]})]})})},see="http://localhost:3000/api/v1",oee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},n0=async(r,e={})=>{const n=oee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${see}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},P0={createState:async r=>(await n0("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await n0(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await n0(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,e)=>(await n0(`/states/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteState:async r=>{await n0(`/states/${r}`,{method:"DELETE"})}},lee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},[c,l]=P.useState(""),[u,o]=P.useState("list"),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState([]),[x,y]=P.useState(!1),[b,w]=P.useState(null),N=async()=>{y(!0),w(null);try{const le=(await P0.getAllStates(!0)).map(z=>({id:z.id,stateCode:z.stateCode,stateName:z.stateName,status:z.status,createdBy:z.createdBy||"",createdOn:z.createdOn,modifiedBy:z.modifiedBy||"",modifiedOn:z.modifiedOn}));m(le)}catch(O){const le=O instanceof Error?O.message:"Failed to load states";w(le),console.error("Error loading states:",O)}finally{y(!1)}};P.useEffect(()=>{N()},[]);const C=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:n.pathname==="/report"},...Array.isArray(e)&&e.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),t.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),t.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(O=>O.path==="/dashboard"?Ia(e,"dashboard"):O.path==="/transaction"?Ia(e,"transaction"):O.path==="/finance"?Ia(e,"finance"):O.path==="/commercial-agreements"?Ia(e,"commercial"):O.path==="/compliance-training"?Ia(e,"compliance"):O.path==="/master"?Ia(e,"master"):O.path==="/report"?Ia(e,"report"):!0),k=g.filter(O=>O.stateName.toLowerCase().includes(c.toLowerCase())||O.stateCode.toLowerCase().includes(c.toLowerCase())),W=()=>{f(null),d(!0)},q=O=>{f(O),d(!0)},te=async O=>{if(window.confirm("Are you sure you want to delete this state?"))try{y(!0),await P0.deleteState(O),await N(),alert("State deleted successfully")}catch(le){const z=le instanceof Error?le.message:"Failed to delete state";alert(`Error: ${z}`),console.error("Error deleting state:",le)}finally{y(!1)}},K=async O=>{try{if(y(!0),w(null),A)await P0.updateState(A.id,{status:O.status}),alert("State updated successfully");else{if(!O.stateCode||!O.stateName){alert("Please fill in all required fields");return}await P0.createState({stateCode:O.stateCode,stateName:O.stateName}),alert("State created successfully")}d(!1),f(null),await N()}catch(le){const z=le instanceof Error?le.message:"Failed to save state";w(z),alert(`Error: ${z}`),console.error("Error saving state:",le)}finally{y(!1)}},X=[{key:"stateCode",label:"State Code",minWidth:120},{key:"stateName",label:"State Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:O=>t.jsx("span",{className:`status-badge status-badge--${O.status.toLowerCase()}`,children:O.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:C.map(O=>t.jsx("li",{children:t.jsxs(Zr,{to:O.path,className:`nav-link ${O.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:O.icon}),!a&&t.jsx("span",{className:"nav-label",children:O.label})]})},O.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / State Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading states..."}),t.jsx(gp,{title:"State Master",breadcrumb:"/ Masters / State Master",data:g,filteredData:k,columns:X,searchQuery:c,onSearchChange:l,onAdd:W,onEdit:q,onDelete:te,getId:O=>O.id,addButtonLabel:"Add State",children:t.jsx(vp,{tabs:[{id:"list",label:"State List"}],activeTab:u,onTabChange:O=>o(O)})})]}),h&&t.jsx(cee,{state:A,onClose:()=>{d(!1),f(null)},onSave:K})]})},cee=({state:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{stateCode:"",stateName:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"state-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>i({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Name *"}),t.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>i({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},uee="http://localhost:3000/api/v1",dee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},a0=async(r,e={})=>{const n=dee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${uee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},F0={createArea:async r=>(await a0("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await a0(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await a0(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,e)=>(await a0(`/areas/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteArea:async r=>{await a0(`/areas/${r}`,{method:"DELETE"})}},hee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},[c,l]=P.useState(""),[u,o]=P.useState("list"),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState([]),[x,y]=P.useState(!1),[b,w]=P.useState(null),N=async()=>{y(!0),w(null);try{const O=(await F0.getAllAreas(!0)).map(le=>({id:le.id,areaCode:le.areaCode,areaName:le.areaName,areaPincode:le.areaPincode,status:le.status,createdBy:le.createdBy||"",createdOn:le.createdOn,modifiedBy:le.modifiedBy||"",modifiedOn:le.modifiedOn}));m(O)}catch(X){const O=X instanceof Error?X.message:"Failed to load areas";w(O),console.error("Error loading areas:",X)}finally{y(!1)}};P.useEffect(()=>{N()},[]);const S=qs(e,n.pathname),C=g.filter(X=>X.areaName.toLowerCase().includes(c.toLowerCase())||X.areaCode.toLowerCase().includes(c.toLowerCase())||X.areaPincode.toLowerCase().includes(c.toLowerCase())),k=()=>{f(null),d(!0)},W=X=>{f(X),d(!0)},q=async X=>{if(window.confirm("Are you sure you want to delete this area?"))try{y(!0),await F0.deleteArea(X),await N(),alert("Area deleted successfully")}catch(O){const le=O instanceof Error?O.message:"Failed to delete area";alert(`Error: ${le}`),console.error("Error deleting area:",O)}finally{y(!1)}},te=async X=>{try{if(y(!0),w(null),A)await F0.updateArea(A.id,{areaPincode:X.areaPincode,status:X.status}),alert("Area updated successfully");else{if(!X.areaCode||!X.areaName||!X.areaPincode){alert("Please fill in all required fields");return}await F0.createArea({areaCode:X.areaCode,areaName:X.areaName,areaPincode:X.areaPincode}),alert("Area created successfully")}d(!1),f(null),await N()}catch(O){const le=O instanceof Error?O.message:"Failed to save area";w(le),alert(`Error: ${le}`),console.error("Error saving area:",O)}finally{y(!1)}},K=[{key:"areaCode",label:"Area Code",minWidth:120},{key:"areaName",label:"Area Name",minWidth:200,allowWrap:!0},{key:"areaPincode",label:"Area Pincode",minWidth:130},{key:"status",label:"Status",minWidth:100,render:X=>t.jsx("span",{className:`status-badge status-badge--${X.status.toLowerCase()}`,children:X.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:S.map(X=>t.jsx("li",{children:t.jsxs(Zr,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:X.icon}),!a&&t.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Area Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading areas..."}),t.jsx(gp,{title:"Area Master",breadcrumb:"/ Masters / Area Master",data:g,filteredData:C,columns:K,searchQuery:c,onSearchChange:l,onAdd:k,onEdit:W,onDelete:q,getId:X=>X.id,addButtonLabel:"Add Area",children:t.jsx(vp,{tabs:[{id:"list",label:"Area List"}],activeTab:u,onTabChange:X=>o(X)})})]}),h&&t.jsx(Aee,{area:A,onClose:()=>{d(!1),f(null)},onSave:te})]})},Aee=({area:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"area-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Code *"}),t.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>i({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Name *"}),t.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>i({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area Pincode *"}),t.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>i({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},fee="http://localhost:3000/api/v1",pee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},i0=async(r,e={})=>{const n=pee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${fee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},D0={createCategory:async r=>(await i0("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await i0(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,e=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await i0(n,{method:"GET"})).data},updateCategory:async(r,e)=>(await i0(`/categories/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCategory:async r=>{await i0(`/categories/${r}`,{method:"DELETE"})}},mee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},[c,l]=P.useState(""),[u,o]=P.useState("list"),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState(!1),[N,S]=P.useState(null),C=async()=>{try{const R=(await $a.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(R)}catch(z){console.error("Error loading companies:",z)}},k=async()=>{w(!0),S(null);try{const R=(await D0.getAllCategories(void 0,!0)).map(ie=>{const Ae=x.find(Oe=>Oe.id===ie.companyId);return{id:ie.id,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown Company",categoryCode:ie.categoryCode,categoryName:ie.categoryName,status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(R)}catch(z){const R=z instanceof Error?z.message:"Failed to load categories";S(R),console.error("Error loading categories:",z),m([])}finally{w(!1)}};P.useEffect(()=>{(async()=>{await C()})()},[]),P.useEffect(()=>{x.length>0&&k()},[x.length]);const W=qs(e,n.pathname),q=g.filter(z=>z.categoryName.toLowerCase().includes(c.toLowerCase())||z.categoryCode.toLowerCase().includes(c.toLowerCase())||z.companyName.toLowerCase().includes(c.toLowerCase())),te=()=>{f(null),d(!0)},K=z=>{f(z),d(!0)},X=async z=>{if(window.confirm("Are you sure you want to delete this category?"))try{w(!0),await D0.deleteCategory(z),await k(),alert("Category deleted successfully")}catch(R){const ie=R instanceof Error?R.message:"Failed to delete category";alert(`Error: ${ie}`),console.error("Error deleting category:",R)}finally{w(!1)}},O=async z=>{try{w(!0),S(null);const R=x.find(ie=>ie.companyName===z.companyName);if(!R){alert("Please select a valid company");return}if(A)await D0.updateCategory(A.id,{status:z.status}),alert("Category updated successfully");else{if(!z.categoryCode||!z.categoryName||!z.companyName){alert("Please fill in all required fields");return}await D0.createCategory({categoryCode:z.categoryCode,categoryName:z.categoryName,companyId:R.id}),alert("Category created successfully")}d(!1),f(null),await k()}catch(R){const ie=R instanceof Error?R.message:"Failed to save category";S(ie),alert(`Error: ${ie}`),console.error("Error saving category:",R)}finally{w(!1)}},le=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"categoryCode",label:"Category Code",minWidth:140},{key:"categoryName",label:"Category Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:z=>t.jsx("span",{className:`status-badge status-badge--${z.status.toLowerCase()}`,children:z.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map(z=>t.jsx("li",{children:t.jsxs(Zr,{to:z.path,className:`nav-link ${z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:z.icon}),!a&&t.jsx("span",{className:"nav-label",children:z.label})]})},z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Category Master"})})}),N&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:N}),b&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading categories..."}),t.jsx(gp,{title:"Category Master",breadcrumb:"/ Masters / Category Master",data:g,filteredData:q,columns:le,searchQuery:c,onSearchChange:l,onAdd:te,onEdit:K,onDelete:X,getId:z=>z.id,addButtonLabel:"Add Category",children:t.jsx(vp,{tabs:[{id:"list",label:"Category List"}],activeTab:u,onTabChange:z=>o(z)})})]}),h&&t.jsx(gee,{category:A,companies:x.filter(z=>z.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:O})]})},gee=({category:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"category-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Code *"}),t.jsx("input",{type:"text",value:i.categoryCode||"",onChange:l=>s({...i,categoryCode:l.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category Name *"}),t.jsx("input",{type:"text",value:i.categoryName||"",onChange:l=>s({...i,categoryName:l.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},vee="http://localhost:3000/api/v1",xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},s0=async(r,e={})=>{const n=xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},M0={createPcbZone:async r=>(await s0("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await s0(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await s0(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,e)=>(await s0(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deletePcbZone:async r=>{await s0(`/pcb-zones/${r}`,{method:"DELETE"})}},yee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},[c,l]=P.useState(""),[u,o]=P.useState("list"),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState([]),[x,y]=P.useState(!1),[b,w]=P.useState(null),N=async()=>{y(!0),w(null);try{const O=(await M0.getAllPcbZones(!0)).map(le=>({id:le.id,pcbZoneName:le.pcbZoneName,pcbZoneAddress:le.pcbZoneAddress||"",contactNum:le.contactNum||"",contactEmail:le.contactEmail||"",alertEmail:le.alertEmail||"",status:le.status,createdBy:le.createdBy||"",createdOn:le.createdOn,modifiedBy:le.modifiedBy||"",modifiedOn:le.modifiedOn}));m(O)}catch(X){const O=X instanceof Error?X.message:"Failed to load PCB zones";w(O),console.error("Error loading PCB zones:",X)}finally{y(!1)}};P.useEffect(()=>{N()},[]);const S=qs(e,n.pathname),C=g.filter(X=>X.pcbZoneName.toLowerCase().includes(c.toLowerCase())||X.pcbZoneAddress.toLowerCase().includes(c.toLowerCase())||X.contactEmail.toLowerCase().includes(c.toLowerCase())),k=()=>{f(null),d(!0)},W=X=>{f(X),d(!0)},q=async X=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{y(!0),await M0.deletePcbZone(X),await N(),alert("PCB Zone deleted successfully")}catch(O){const le=O instanceof Error?O.message:"Failed to delete PCB zone";alert(`Error: ${le}`),console.error("Error deleting PCB zone:",O)}finally{y(!1)}},te=async X=>{try{if(y(!0),w(null),A)await M0.updatePcbZone(A.id,{pcbZoneAddress:X.pcbZoneAddress,contactNum:X.contactNum,contactEmail:X.contactEmail,alertEmail:X.alertEmail,status:X.status}),alert("PCB Zone updated successfully");else{if(!X.pcbZoneName){alert("Please fill in PCB Zone Name");return}await M0.createPcbZone({pcbZoneName:X.pcbZoneName,pcbZoneAddress:X.pcbZoneAddress,contactNum:X.contactNum,contactEmail:X.contactEmail,alertEmail:X.alertEmail}),alert("PCB Zone created successfully")}d(!1),f(null),await N()}catch(O){const le=O instanceof Error?O.message:"Failed to save PCB zone";w(le),alert(`Error: ${le}`),console.error("Error saving PCB zone:",O)}finally{y(!1)}},K=[{key:"pcbZoneName",label:"PCB Zone Name",minWidth:150,allowWrap:!0},{key:"pcbZoneAddress",label:"PCB Zone Address",minWidth:250,allowWrap:!0},{key:"contactNum",label:"Contact Number",minWidth:140},{key:"contactEmail",label:"Contact Email",minWidth:180,allowWrap:!0},{key:"alertEmail",label:"Alert Email",minWidth:180,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:X=>t.jsx("span",{className:`status-badge status-badge--${X.status.toLowerCase()}`,children:X.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:S.map(X=>t.jsx("li",{children:t.jsxs(Zr,{to:X.path,className:`nav-link ${X.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:X.icon}),!a&&t.jsx("span",{className:"nav-label",children:X.label})]})},X.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / PCB Zone Master"})})}),b&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:b}),x&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading PCB zones..."}),t.jsx(gp,{title:"PCB Zone Master",breadcrumb:"/ Masters / PCB Zone Master",data:g,filteredData:C,columns:K,searchQuery:c,onSearchChange:l,onAdd:k,onEdit:W,onDelete:q,getId:X=>X.id,addButtonLabel:"Add PCB Zone",children:t.jsx(vp,{tabs:[{id:"list",label:"PCB Zone List"}],activeTab:u,onTabChange:X=>o(X)})})]}),h&&t.jsx(bee,{pcbZone:A,onClose:()=>{d(!1),f(null)},onSave:te})]})},bee=({pcbZone:r,onClose:e,onSave:n})=>{const[a,i]=P.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),s=c=>{c.preventDefault(),n(a)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"pcb-zone-form",onSubmit:s,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone Name *"}),t.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>i({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"PCB Zone Address *"}),t.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>i({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Number *"}),t.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>i({...a,contactNum:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email *"}),t.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>i({...a,contactEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Alert Email *"}),t.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>i({...a,alertEmail:c.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:a.status||"Active",onChange:c=>i({...a,status:c.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},wee="http://localhost:3000/api/v1",jee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},o0=async(r,e={})=>{const n=jee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${wee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},rf={createRoute:async r=>(await o0("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await o0(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await o0(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,e)=>(await o0(`/routes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRoute:async r=>{await o0(`/routes/${r}`,{method:"DELETE"})}},Cee="http://localhost:3000/api/v1",Nee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},l0=async(r,e={})=>{const n=Nee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Cee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Kp={createFrequency:async r=>(await l0("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await l0(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,e=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await l0(n,{method:"GET"})).data},updateFrequency:async(r,e)=>(await l0(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFrequency:async r=>{await l0(`/frequencies/${r}`,{method:"DELETE"})}},See=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState("list"),[l,u]=P.useState(!1),[o,h]=P.useState(null),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=async()=>{try{const R=(await $a.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));g(R)}catch(z){console.error("Error loading companies:",z)}},C=async()=>{try{const R=(await Kp.getAllFrequencies(void 0,!0)).map(ie=>({id:ie.id,frequencyCode:ie.frequencyCode,frequencyName:ie.frequencyName,companyName:ie.companyName||"",status:ie.status}));x(R)}catch(z){console.error("Error loading frequencies:",z)}},k=async()=>{b(!0),N(null);try{let z=f;z.length===0&&(z=(await $a.getAllCompanies(!0)).map(be=>({id:be.id,companyCode:be.companyCode,companyName:be.companyName,status:be.status})),g(z));let R=m;R.length===0&&(R=(await Kp.getAllFrequencies(void 0,!0)).map(be=>({id:be.id,frequencyCode:be.frequencyCode,frequencyName:be.frequencyName,companyName:be.companyName||"",status:be.status})),x(R));const Ae=(await rf.getAllRoutes(!0)).map(Oe=>{const be=z.find(ce=>ce.id===Oe.companyId),Te=(be==null?void 0:be.companyName)||"Unknown",Y=R.find(ce=>ce.id===Oe.frequencyId),Ne=(Y==null?void 0:Y.frequencyCode)||Oe.frequencyId||"";return{id:Oe.id,companyName:Te,routeCode:Oe.routeCode,routeName:Oe.routeName,frequencyID:Ne,status:Oe.status,createdBy:Oe.createdBy||"",createdOn:Oe.createdOn,modifiedBy:Oe.modifiedBy||"",modifiedOn:Oe.modifiedOn}});A(Ae)}catch(z){const R=z instanceof Error?z.message:"Failed to load routes";N(R),console.error("Error loading routes:",z)}finally{b(!1)}};P.useEffect(()=>{(async()=>{await S(),await C(),await k()})()},[]);const W=qs(e,n.pathname),q=d.filter(z=>z.routeName.toLowerCase().includes(a.toLowerCase())||z.routeCode.toLowerCase().includes(a.toLowerCase())||z.frequencyID.toLowerCase().includes(a.toLowerCase())||z.companyName.toLowerCase().includes(a.toLowerCase())),te=()=>{h(null),u(!0)},K=z=>{h(z),u(!0)},X=async z=>{if(window.confirm("Are you sure you want to delete this route?"))try{b(!0),await rf.deleteRoute(z),await k(),alert("Route deleted successfully")}catch(R){const ie=R instanceof Error?R.message:"Failed to delete route";alert(`Error: ${ie}`),console.error("Error deleting route:",R)}finally{b(!1)}},O=async z=>{try{b(!0),N(null);const R=f.find(Ae=>Ae.companyName===z.companyName);if(!R){alert("Please select a valid company");return}const ie=m.find(Ae=>Ae.frequencyCode===z.frequencyID);if(o)await rf.updateRoute(o.id,{frequencyId:ie==null?void 0:ie.id,status:z.status}),alert("Route updated successfully");else{if(!z.routeCode||!z.routeName||!z.companyName){alert("Please fill in all required fields");return}await rf.createRoute({routeCode:z.routeCode,routeName:z.routeName,companyId:R.id,frequencyId:ie==null?void 0:ie.id}),alert("Route created successfully")}u(!1),h(null),await k()}catch(R){const ie=R instanceof Error?R.message:"Failed to save route";N(ie),alert(`Error: ${ie}`),console.error("Error saving route:",R)}finally{b(!1)}},le=[{key:"companyName",label:"Company Name",minWidth:180,allowWrap:!0},{key:"routeCode",label:"Route Code",minWidth:120},{key:"routeName",label:"Route Name",minWidth:200,allowWrap:!0},{key:"frequencyID",label:"Frequency ID",minWidth:130},{key:"status",label:"Status",minWidth:100,render:z=>t.jsx("span",{className:`status-badge status-badge--${z.status.toLowerCase()}`,children:z.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map(z=>t.jsx("li",{children:t.jsxs(Zr,{to:z.path,className:`nav-link ${z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:z.icon}),t.jsx("span",{className:"nav-label",children:z.label})]})},z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route Master"})})}),w&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:w}),y&&!d.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading routes..."}),t.jsx(gp,{title:"Route Master",breadcrumb:"/ Masters / Route Master",data:d,filteredData:q,columns:le,searchQuery:a,onSearchChange:i,onAdd:te,onEdit:K,onDelete:X,getId:z=>z.id,addButtonLabel:"Add Route",children:t.jsx(vp,{tabs:[{id:"list",label:"Route List"}],activeTab:s,onTabChange:z=>c(z)})})]}),l&&t.jsx(Bee,{route:o,companies:f.filter(z=>z.status==="Active"),frequencies:m.filter(z=>z.status==="Active"),onClose:()=>{u(!1),h(null)},onSave:O})]})},Bee=({route:r,companies:e,frequencies:n,onClose:a,onSave:i})=>{const[s,c]=P.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),l=u=>{u.preventDefault(),i(s)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"route-form",onSubmit:l,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:s.companyName||"",onChange:u=>c({...s,companyName:u.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(u=>t.jsx("option",{value:u.companyName,children:u.companyName},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsx("input",{type:"text",value:s.routeCode||"",onChange:u=>c({...s,routeCode:u.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Name *"}),t.jsx("input",{type:"text",value:s.routeName||"",onChange:u=>c({...s,routeName:u.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency"}),t.jsxs("select",{value:s.frequencyID||"",onChange:u=>c({...s,frequencyID:u.target.value}),children:[t.jsx("option",{value:"",children:"Select Frequency"}),n.map(u=>t.jsxs("option",{value:u.frequencyCode,children:[u.frequencyName," (",u.frequencyCode,")"]},u.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:s.status||"Active",onChange:u=>c({...s,status:u.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Eee="http://localhost:3000/api/v1",Iee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},c0=async(r,e={})=>{const n=Iee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Eee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},f1={createColor:async r=>(await c0("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await c0(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,e=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await c0(n,{method:"GET"})).data},updateColor:async(r,e)=>(await c0(`/colors/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteColor:async r=>{await c0(`/colors/${r}`,{method:"DELETE"})}},Tee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(!1),s=()=>{i(!a)},[c,l]=P.useState(""),[u,o]=P.useState("list"),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState(!1),[N,S]=P.useState(null),C=async()=>{try{const R=(await $a.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(R)}catch(z){console.error("Error loading companies:",z)}},k=async()=>{w(!0),S(null);try{const R=(await f1.getAllColors(void 0,!0)).map(ie=>{const Ae=x.find(Oe=>Oe.id===ie.companyId);return{id:ie.id,colorName:ie.colorName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown Company",status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(R)}catch(z){const R=z instanceof Error?z.message:"Failed to load color codes";S(R),console.error("Error loading color codes:",z)}finally{w(!1)}};P.useEffect(()=>{(async()=>{await C()})()},[]),P.useEffect(()=>{x.length>0&&k()},[x.length]);const W=qs(e,n.pathname),q=g.filter(z=>z.colorName.toLowerCase().includes(c.toLowerCase())||z.companyName.toLowerCase().includes(c.toLowerCase())),te=()=>{f(null),d(!0)},K=z=>{f(z),d(!0)},X=async z=>{if(window.confirm("Are you sure you want to delete this color code?"))try{w(!0),await f1.deleteColor(z),await k(),alert("Color code deleted successfully")}catch(R){const ie=R instanceof Error?R.message:"Failed to delete color code";alert(`Error: ${ie}`),console.error("Error deleting color code:",R)}finally{w(!1)}},O=async z=>{try{w(!0),S(null);const R=x.find(ie=>ie.companyName===z.companyName);if(!R){alert("Please select a valid company");return}if(A)await f1.updateColor(A.id,{status:z.status}),alert("Color code updated successfully");else{if(!z.colorName||!z.companyName){alert("Please fill in all required fields");return}await f1.createColor({colorName:z.colorName,companyId:R.id}),alert("Color code created successfully")}d(!1),f(null),await k()}catch(R){const ie=R instanceof Error?R.message:"Failed to save color code";S(ie),alert(`Error: ${ie}`),console.error("Error saving color code:",R)}finally{w(!1)}},le=[{key:"colorName",label:"Color Name",minWidth:200,allowWrap:!0},{key:"companyName",label:"Company Name",minWidth:200,allowWrap:!0},{key:"status",label:"Status",minWidth:100,render:z=>t.jsx("span",{className:`status-badge status-badge--${z.status.toLowerCase()}`,children:z.status})}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:s,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:W.map(z=>t.jsx("li",{children:t.jsxs(Zr,{to:z.path,className:`nav-link ${z.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:z.icon}),!a&&t.jsx("span",{className:"nav-label",children:z.label})]})},z.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Color Code Master"})})}),N&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:N}),b&&!g.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading color codes..."}),t.jsx(gp,{title:"Color Code Master",breadcrumb:"/ Masters / Color Code Master",data:g,filteredData:q,columns:le,searchQuery:c,onSearchChange:l,onAdd:te,onEdit:K,onDelete:X,getId:z=>z.id,addButtonLabel:"Add Color Code",children:t.jsx(vp,{tabs:[{id:"list",label:"Color Code List"}],activeTab:u,onTabChange:z=>o(z)})})]}),h&&t.jsx(_ee,{colorCode:A,companies:x.filter(z=>z.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:O})]})},_ee=({colorCode:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{colorName:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"color-code-form",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Color Name *"}),t.jsx("input",{type:"text",value:i.colorName||"",onChange:l=>s({...i,colorName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Oee="http://localhost:3000/api/v1",kee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Nh=async(r,e={})=>{const n=kee(),a=`${Oee}${r}`;console.log("[apiRequest] Making request:",{method:e.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!e.body});const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers};try{const s=await fetch(a,{...e,headers:i});if(console.log("[apiRequest] Response received:",{status:s.status,statusText:s.statusText,ok:s.ok,headers:Object.fromEntries(s.headers.entries())}),!s.ok){let l=`HTTP ${s.status}: ${s.statusText}`,u=null;try{const h=await s.text();console.log("[apiRequest] Error response text:",h),h&&(u=JSON.parse(h),console.log("[apiRequest] Error response parsed:",u),Array.isArray(u.message)?l=u.message.join(", "):typeof u.message=="string"?l=u.message:u.error?l=typeof u.error=="string"?u.error:JSON.stringify(u.error):u.message&&(l=String(u.message)))}catch(h){console.error("[apiRequest] Failed to parse error response:",h)}console.error("[apiRequest] Request failed:",{status:s.status,statusText:s.statusText,errorMessage:l,errorData:u});const o=new Error(l);throw o.status=s.status,o.statusText=s.statusText,o.errorData=u,o}if(s.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await s.json();return console.log("[apiRequest] Success response data:",c),c}catch(s){if(console.error("[apiRequest] Fetch error:",s),console.error("[apiRequest] Fetch error details:",{message:s instanceof Error?s.message:String(s),name:s instanceof Error?s.name:void 0,stack:s instanceof Error?s.stack:void 0}),s instanceof Error&&s.status)throw s;const c=new Error(s instanceof Error?`Network error: ${s.message}`:"Network error: Failed to connect to server");throw c.originalError=s,c}},zl={createUser:async r=>(await Nh("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const e=await Nh("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",e),e.data}catch(e){throw console.error("[userService] createCompleteUser error:",e),console.error("[userService] Error details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0}),e}},getUserById:async r=>(await Nh(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,e)=>(await Nh(`/users/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,updateCompleteUser:async(r,e)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",e),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await Nh(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(e)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await Nh(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,e)=>(await Nh(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(e)})).data,deactivateUser:async r=>(await Nh(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await Nh(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await Nh(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},Pee="http://localhost:3000/api/v1",Fee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},rS=async(r,e={})=>{const n=Fee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Pee}${r}`,{...e,headers:a});if(!i.ok){const c=await i.json().catch(()=>({}));let l=`HTTP error! status: ${i.status}`;throw c.message?Array.isArray(c.message)?l=c.message.join(", "):l=c.message:c.error&&(l=c.error),new Error(l)}return(await i.json()).data},Dee=async(r,e)=>rS(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(e)}),Ax=async(r,e)=>rS(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(e)}),Mee=async r=>rS(`/users/${r}/reset-password`,{method:"POST"}),Ree=({isOpen:r,onClose:e})=>{const{user:n}=pa(),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(null),[o,h]=P.useState("basic"),[d,A]=P.useState(null),[f,g]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=P.useState(!1);P.useEffect(()=>{r&&n&&y()},[r,n]);const y=async()=>{if(n){i(!0),c(null);try{if(n.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id))try{const N=await zl.getUserById(n.id);A(N),x(N.otpEnabled||!1);return}catch(N){console.log("User ID lookup failed, trying search by username:",N)}if(n.name)try{const N=await zl.getUserByUsername(n.name);A(N),x(N.otpEnabled||!1);return}catch(N){console.log("User lookup by username failed:",N)}A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}catch(w){console.error("Error loading user profile:",w),A({userName:n.name,emailAddress:n.email,status:"Active",mobileNumber:"-",employeeCode:"-",userRoleId:n.roles.join(", ")}),c("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},b=async w=>{if(w.preventDefault(),c(null),u(null),f.newPassword!==f.confirmPassword){c("New password and confirm password do not match");return}if(f.newPassword.length<8){c("New password must be at least 8 characters long");return}i(!0);try{if(!(n!=null&&n.id))throw new Error("User ID not found");const N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n.id);if(!N&&n.name){const S=await zl.getUserByUsername(n.name);await Ax(S.userId,{currentPassword:f.currentPassword,newPassword:f.newPassword})}else if(N)await Ax(n.id,{currentPassword:f.currentPassword,newPassword:f.newPassword});else throw new Error("Unable to identify user for password change");u("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e(),u(null),c(null)},1500)}catch(N){c(N.message||"Failed to change password")}finally{i(!1)}};return r?t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content profile-modal-content",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"My Profile"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body profile-modal-body",children:[s&&t.jsxs("div",{className:"profile-error-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),s]}),l&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),l]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${o==="basic"?"active":""}`,onClick:()=>h("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${o==="contact"?"active":""}`,onClick:()=>h("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${o==="security"?"active":""}`,onClick:()=>h("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!d?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading profile data..."}):t.jsxs(t.Fragment,{children:[o==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"User Name"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userName)||(n==null?void 0:n.name)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employee Code"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employeeCode)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Mobile Number"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.mobileNumber)||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Status"}),t.jsx("div",{className:"info-value",children:t.jsx("span",{className:`status-badge status-badge--${((d==null?void 0:d.status)||"active").toLowerCase()}`,children:(d==null?void 0:d.status)||"Active"})})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Role"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.userRoleId)||(n==null?void 0:n.roles.join(", "))||"-"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Employment Type"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.employmentType)||"-"})]})]})]}),o==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:"Update your contact details (email is optional)"}),t.jsxs("div",{className:"profile-info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Email Address"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emailAddress)||(n==null?void 0:n.email)||"Not provided"}),t.jsx("small",{className:"info-hint",children:"Email is optional and can be updated by admin"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{className:"info-label",children:"Emergency Contact"}),t.jsx("div",{className:"info-value",children:(d==null?void 0:d.emergencyContact)||"-"})]}),t.jsxs("div",{className:"info-item",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{className:"info-label",children:"Address"}),t.jsx("div",{className:"info-value",children:d!=null&&d.addressLine?t.jsxs("div",{children:[t.jsx("div",{children:d.addressLine}),d.area&&t.jsx("div",{children:d.area}),d.city&&t.jsxs("div",{children:[d.city,", ",d.district]}),d.pincode&&t.jsxs("div",{children:["PIN: ",d.pincode]})]}):"-"})]})]})]}),o==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"Change Password"}),t.jsxs("form",{onSubmit:b,className:"password-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"currentPassword",children:"Current Password *"}),t.jsx("input",{type:"password",id:"currentPassword",value:f.currentPassword,onChange:w=>g({...f,currentPassword:w.target.value}),required:!0,placeholder:"Enter your current password"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"newPassword",children:"New Password *"}),t.jsx("input",{type:"password",id:"newPassword",value:f.newPassword,onChange:w=>g({...f,newPassword:w.target.value}),required:!0,minLength:8,placeholder:"Enter new password (min 8 characters)"}),t.jsx("small",{className:"form-hint",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),t.jsx("input",{type:"password",id:"confirmPassword",value:f.confirmPassword,onChange:w=>g({...f,confirmPassword:w.target.value}),required:!0,minLength:8,placeholder:"Confirm new password"})]}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Changing Password...":"Change Password"})]})]}),t.jsxs("div",{className:"security-section",children:[t.jsx("h3",{className:"subsection-title",children:"OTP Settings"}),t.jsxs("div",{className:"otp-settings",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{className:"setting-label",children:"OTP Enabled"}),t.jsx("p",{className:"setting-description",children:d!=null&&d.emailAddress?"OTP can be enabled if you have an email address":"OTP requires an email address. Please contact admin to add your email."})]}),t.jsx("div",{className:"setting-control",children:t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:m,onChange:w=>x(w.target.checked),disabled:!(d!=null&&d.emailAddress)}),t.jsx("span",{className:"toggle-slider"})]})})]}),!(d!=null&&d.emailAddress)&&t.jsxs("div",{className:"setting-note",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Email address is required to enable OTP. Please contact your administrator."]})]})]})]})]})})]})]})}):null},Lee=()=>{const{user:r,logout:e}=pa(),n=_n();Ja();const[a,i]=P.useState("users"),[s,c]=P.useState(""),[l,u]=P.useState(!1),[o,h]=P.useState(!1),[d,A]=P.useState(!1),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,C]=P.useState(!1),[k,W]=P.useState(null),q=He=>{if(console.log("[extractErrorMessage] Extracting error message from:",He),He instanceof Error){const Zt=He;Zt.status&&console.log("[extractErrorMessage] Error has status:",Zt.status),Zt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Zt.errorData);const Nt=Zt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Nt),Nt}if(typeof He=="string")return He;if(He&&typeof He=="object"){const Zt=He;if(Array.isArray(Zt.message))return Zt.message.join(", ");if(Zt.message)return String(Zt.message);if(Zt.error)return Array.isArray(Zt.error)?Zt.error.join(", "):String(Zt.error);try{return JSON.stringify(Zt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[te,K]=P.useState([]),[X,O]=P.useState(!1),le=He=>({id:He.id,companyCode:He.companyCode,companyName:He.companyName,status:He.status}),z=async()=>{O(!0);try{const Zt=(await $a.getAllCompanies(!0)).map(Nt=>le(Nt));return K(Zt),Zt}catch(He){console.error("Error loading companies:",He);const Zt=q(He);return W(Zt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{O(!1)}},[R,ie]=P.useState([]),[Ae,Oe]=P.useState([]),be=He=>{if(!He)return null;if(se(He))return He;const Zt=Ae.find(Nt=>Nt.roleName===He);return Zt?Zt.id:null},Te=(He,Zt)=>{let Nt="-";if(He.userRoleId)if(Ae.length>0){const Vr=Ae.find(mr=>mr.id===He.userRoleId);Nt=Vr?Vr.roleName:"-"}else Nt=He.userRoleId;return{id:He.userId,companyName:Zt,mobileNumber:He.mobileNumber,userName:He.userName,empCode:He.employeeCode||"",userRoleID:Nt,employmentType:He.employmentType||"",designation:He.designation||"",contractorName:He.contractorName||"",companyNameThirdParty:He.companyNameThirdParty||"",grossSalary:He.grossSalary?String(He.grossSalary):"",emailAddress:He.emailAddress||"",aadhaar:He.aadhaarNumber||"",pan:He.panNumber||"",dlNum:He.drivingLicenseNumber||"",pfNum:He.pfNumber||"",uan:He.uanNumber||"",esiNum:He.esiNumber||"",address:He.addressLine||"",area:He.area||"",city:He.city||"",district:He.district||"",pincode:He.pincode||"",emergencyContact:He.emergencyContact||"",webLogin:He.webLogin,mobileApp:He.mobileAppAccess,password:"",status:He.status,passwordEnabled:He.passwordEnabled,otpEnabled:He.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:He.createdOn,modifiedBy:"",modifiedOn:He.modifiedOn}},Y=async He=>{let Zt=He||te;if(Zt.length===0&&(Zt=await z(),Zt.length===0)){ie([]),C(!1),W("No companies found. Please create a company first.");return}C(!0),W(null);try{const Nt=[];let Vr=!1;for(const mr of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(mr.id)){console.warn(`Skipping company ${mr.companyName} - ID is not a valid UUID: ${mr.id}`);continue}try{Vr=!0;const Gr=(await zl.getUsersByCompany(mr.id)).map(_r=>Te(_r,mr.companyName));Nt.push(...Gr)}catch(Jr){console.warn(`Failed to load users for company ${mr.companyName}:`,Jr);const Gr=q(Jr);Gr.includes("403")||Gr.includes("401")||Gr.includes("Unauthorized")?W("Authentication failed. Please login again."):Gr.includes("404")||console.warn(`Error loading users for ${mr.companyName}: ${Gr}`)}}Vr?(ie(Nt),Nt.length>0&&W(null)):W("No valid companies found. Please create a company first.")}catch(Nt){const Vr=q(Nt);W(Vr||"Failed to load users"),console.error("Error loading users:",Nt)}finally{C(!1)}};P.useEffect(()=>{let He=!0;return(async()=>{try{const Nt=await z();if(!He)return;if(Nt.length>0){if(await Pe(Nt),!He)return;await Y(Nt)}else W("No companies found. Please create a company first.")}catch(Nt){if(!He)return;console.error("[UserManagementPage] Error during initialization:",Nt);const Vr=q(Nt);W(Vr||"Failed to initialize page. Please refresh.")}})(),()=>{He=!1}},[]),P.useEffect(()=>{if(Ae.length>0&&R.length>0){const He=R.map(Nt=>{if(Nt.userRoleID&&se(Nt.userRoleID)){const Vr=Ae.find(mr=>mr.id===Nt.userRoleID);return Vr?{...Nt,userRoleID:Vr.roleName}:{...Nt,userRoleID:"-"}}return Nt});He.some((Nt,Vr)=>Nt.userRoleID!==R[Vr].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),ie(He))}},[Ae]);const[Ne]=P.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],ae=R.filter(He=>{const Zt=s.toLowerCase();return(He.userName||"").toLowerCase().includes(Zt)||(He.emailAddress||"").toLowerCase().includes(Zt)||(He.empCode||"").toLowerCase().includes(Zt)||(He.mobileNumber||"").toLowerCase().includes(Zt)||(He.companyName||"").toLowerCase().includes(Zt)}),Ce=Ae.filter(He=>He.roleName.toLowerCase().includes(s.toLowerCase())||He.description.toLowerCase().includes(s.toLowerCase())||He.companyName.toLowerCase().includes(s.toLowerCase())),Ee=()=>{x(null),u(!0)},we=async He=>{console.log("[handleEditUser] Editing user:",He.id),C(!0),W(null);try{const Zt=await zl.getUserById(He.id);console.log("[handleEditUser] Complete user data fetched:",Zt);const Nt=te.find(on=>on.id===Zt.companyId),Vr=(Nt==null?void 0:Nt.companyName)||He.companyName,mr=Te(Zt,Vr);console.log("[handleEditUser] Mapped user data:",mr),x(mr),u(!0)}catch(Zt){console.error("[handleEditUser] Error fetching user data:",Zt);const Nt=q(Zt);W(Nt||"Failed to load user data. Please try again."),x(He),u(!0)}finally{C(!1)}},me=async He=>{if(window.confirm("Are you sure you want to delete this user?")){C(!0),W(null);try{await zl.deleteUser(He),await Y()}catch(Zt){const Nt=q(Zt);W(Nt||"Failed to delete user"),console.error("Error deleting user:",Zt)}finally{C(!1)}}},se=He=>!He||He.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(He),J=async He=>{console.log("handleSaveUser called with formData:",He),C(!0),W(null);try{if(m){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",m.id);const Zt=te.find(mr=>mr.companyName===He.companyName)||te[0];if(!Zt)throw new Error("Please select a company");if(!se(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Nt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode||null,emailAddress:He.emailAddress||null};if(He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const mr=be(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",mr),mr&&se(mr)?(Nt.userRoleId=mr,console.log("[handleSaveUser] Using converted UUID role ID:",mr)):se(He.userRoleID)?(Nt.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:mr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Nt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Nt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Nt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Nt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Nt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,Nt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Nt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Nt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Nt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Nt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Nt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,Nt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Nt.area=He.area&&He.area.trim()?He.area.trim():null,Nt.city=He.city&&He.city.trim()?He.city.trim():null,Nt.district=He.district&&He.district.trim()?He.district.trim():null,Nt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Nt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,Nt.webLogin=He.webLogin||!1,Nt.mobileAppAccess=He.mobileApp||!1,Nt.status=He.status||"Draft",Nt.passwordEnabled=He.passwordEnabled||!1,Nt.otpEnabled=He.otpEnabled||!1,Nt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Nt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Nt.emailAddress),console.log("  - Aadhaar:",Nt.aadhaarNumber),console.log("  - PAN:",Nt.panNumber),console.log("  - ESI:",Nt.esiNumber),console.log("  - Address:",Nt.addressLine);let Vr=!1;try{const mr=await zl.updateCompleteUser(m.id,Nt);Vr=!0,console.log("[handleSaveUser] UPDATE API call successful. Result:",mr),alert("User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),W(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await Y(),console.log("[handleSaveUser] Users reloaded")}catch(on){console.error("[handleSaveUser] Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(mr){throw Vr=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",mr),mr}}else{const Zt=te.find(mr=>mr.companyName===He.companyName)||te[0];if(!Zt)throw new Error("Please select a company");if(!se(Zt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Zt.id}`);const Nt={companyId:Zt.id,userName:He.userName||"",mobileNumber:He.mobileNumber||"",employeeCode:He.empCode,emailAddress:He.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",He.emailAddress),console.log("[handleSaveUser] Email address in createData:",Nt.emailAddress),He.userRoleID&&He.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",He.userRoleID);const mr=be(He.userRoleID);console.log("[handleSaveUser] Converted role ID:",mr),mr&&se(mr)?(Nt.userRoleId=mr,console.log("[handleSaveUser] Using converted UUID role ID:",mr)):se(He.userRoleID)?(Nt.userRoleId=He.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",He.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:He.userRoleID,roleId:mr,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Nt.employmentType=He.employmentType&&He.employmentType.trim()?He.employmentType.trim():null,Nt.designation=He.designation&&He.designation.trim()?He.designation.trim():null,Nt.contractorName=He.contractorName&&He.contractorName.trim()?He.contractorName.trim():null,Nt.companyNameThirdParty=He.companyNameThirdParty&&He.companyNameThirdParty.trim()?He.companyNameThirdParty.trim():null,Nt.grossSalary=He.grossSalary&&parseFloat(String(He.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Nt.employmentType,designation:Nt.designation,contractorName:Nt.contractorName,companyNameThirdParty:Nt.companyNameThirdParty,grossSalary:Nt.grossSalary}),Nt.aadhaarNumber=He.aadhaar&&He.aadhaar.trim()?He.aadhaar.trim():null,Nt.panNumber=He.pan&&He.pan.trim()?He.pan.trim():null,Nt.drivingLicenseNumber=He.dlNum&&He.dlNum.trim()?He.dlNum.trim():null,Nt.pfNumber=He.pfNum&&He.pfNum.trim()?He.pfNum.trim():null,Nt.uanNumber=He.uan&&He.uan.trim()?He.uan.trim():null,Nt.esiNumber=He.esiNum&&He.esiNum.trim()?He.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Nt.aadhaarNumber,pan:Nt.panNumber,drivingLicense:Nt.drivingLicenseNumber,pfNumber:Nt.pfNumber,uan:Nt.uanNumber,esi:Nt.esiNumber}),Nt.addressLine=He.address&&He.address.trim()?He.address.trim():null,Nt.area=He.area&&He.area.trim()?He.area.trim():null,Nt.city=He.city&&He.city.trim()?He.city.trim():null,Nt.district=He.district&&He.district.trim()?He.district.trim():null,Nt.pincode=He.pincode&&He.pincode.trim()?He.pincode.trim():null,Nt.emergencyContact=He.emergencyContact&&He.emergencyContact.trim()?He.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Nt.addressLine,area:Nt.area,city:Nt.city,district:Nt.district,pincode:Nt.pincode,emergencyContact:Nt.emergencyContact}),Nt.webLogin=He.webLogin||!1,Nt.mobileAppAccess=He.mobileApp||!1,Nt.status=He.status||"Draft",Nt.passwordEnabled=He.passwordEnabled||!1,Nt.otpEnabled=He.otpEnabled||!1,Nt.forceOtpOnNextLogin=He.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Nt),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Nt,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Nt.emailAddress),console.log("  - Aadhaar:",Nt.aadhaarNumber),console.log("  - PAN:",Nt.panNumber),console.log("  - ESI:",Nt.esiNumber),console.log("  - Address:",Nt.addressLine),console.log("  - Area:",Nt.area),console.log("  - City:",Nt.city);let Vr=!1;try{const mr=await zl.createCompleteUser(Nt);Vr=!0,console.log("[handleSaveUser] API call successful. Result:",mr),mr||console.warn("[handleSaveUser] Warning: API returned empty result but status was 200"),alert("User created successfully!"),console.log("[handleSaveUser] Closing modal..."),u(!1),x(null),W(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await Y(),console.log("[handleSaveUser] Users reloaded")}catch(on){console.error("[handleSaveUser] Reload error (data was saved):",on)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(mr){throw Vr=!1,console.error("[handleSaveUser]  API CALL FAILED:",mr),mr}}}catch(Zt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Zt),console.error("[handleSaveUser] Error type:",typeof Zt),console.error("[handleSaveUser] Error instance check:",Zt instanceof Error);try{if(Zt instanceof Error){const mr=Zt;console.error("[handleSaveUser] Error details:",{message:mr.message,name:mr.name,stack:mr.stack,status:mr.status,statusText:mr.statusText,errorData:mr.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Zt,null,2))}catch(mr){console.error("[handleSaveUser] Could not log error details:",mr)}const Nt=q(Zt);console.error("[handleSaveUser] Extracted error message:",Nt),console.error("[handleSaveUser] ========== ERROR END ==========");const Vr=Nt||"Failed to save user. Please check console (F12) for details.";W(Vr),alert(` Error Saving User

${Vr}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{C(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},je=(He,Zt)=>({id:He.roleId,roleName:He.roleName,description:He.roleDescription||"",companyName:Zt,status:He.status,createdBy:He.createdBy||"",createdOn:He.createdOn,modifiedBy:He.modifiedBy||"",modifiedOn:He.modifiedOn}),Pe=async He=>{let Zt=He||te;if(Zt.length===0&&(Zt=await z(),Zt.length===0)){console.warn("No companies available to load roles"),Oe([]);return}C(!0),W(null);try{const Nt=[];for(const Vr of Zt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Vr.id)){console.warn(`Skipping company ${Vr.companyName} - ID is not a valid UUID: ${Vr.id}`);continue}try{const Jr=(await zp.getAllRoles(Vr.id,!1)).map(Gr=>je(Gr,Vr.companyName));Nt.push(...Jr)}catch(on){console.warn(`Failed to load roles for company ${Vr.companyName}:`,on)}}Oe(Nt),console.log(`[loadRoles] Loaded ${Nt.length} roles`)}catch(Nt){const Vr=q(Nt);W(Vr||"Failed to load roles"),console.error("Error loading roles:",Nt)}finally{C(!1)}},Le=()=>{b(null),h(!0)},Ie=He=>{b(He),h(!0)},pe=async He=>{if(window.confirm("Are you sure you want to delete this role?")){C(!0),W(null);try{await zp.deleteRole(He),await Pe(),alert("Role deleted successfully!")}catch(Zt){const Nt=q(Zt);W(Nt||"Failed to delete role"),console.error("Error deleting role:",Zt),alert(` Error Deleting Role

${Nt}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},ke=async He=>{C(!0),W(null);try{const Zt=te.find(Nt=>Nt.companyName===He.companyName);if(!Zt)throw new Error("Please select a company");if(y){const Nt={roleName:He.roleName,roleDescription:He.description||null,status:He.status};console.log("[handleSaveRole] Updating role:",y.id,Nt),await zp.updateRole(y.id,Nt),console.log("[handleSaveRole] Role updated successfully"),alert("Role updated successfully!")}else{const Nt={companyId:Zt.id,roleName:He.roleName||"",roleDescription:He.description||null,status:He.status||"Active"};console.log("[handleSaveRole] Creating role:",Nt),await zp.createRole(Nt),console.log("[handleSaveRole] Role created successfully"),alert("Role created successfully!")}h(!1),b(null),await Pe()}catch(Zt){const Nt=q(Zt);W(Nt||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Zt),alert(` Error Saving Role

${Nt}

Please check the browser console (F12) for more details.`)}finally{C(!1)}},[Ye,wt]=P.useState(!1),[Ft,Bt]=P.useState(null),Vt=async(He,Zt)=>{C(!0),W(null);try{if(Zt.passwordEnabled){const Nt=await Dee(He,Zt);Bt({userName:Nt.userName,temporaryPassword:Nt.temporaryPassword,expiry:Nt.temporaryPasswordExpiry}),wt(!0),await Y()}else await zl.activateUser(He,Zt),await Y()}catch(Nt){const Vr=q(Nt);W(Vr||"Failed to activate user"),console.error("Error activating user:",Nt)}finally{C(!1)}},Ir=async(He,Zt)=>{if(window.confirm(`Are you sure you want to reset the password for ${Zt}? A new temporary password will be generated.`)){C(!0),W(null);try{const Nt=await Mee(He);Bt({userName:Nt.userName,temporaryPassword:Nt.temporaryPassword,expiry:Nt.temporaryPasswordExpiry}),wt(!0),await Y()}catch(Nt){const Vr=q(Nt);W(Vr||"Failed to reset password"),console.error("Error resetting password:",Nt),alert(` Error Resetting Password

${Vr}

Please check the browser console (F12) for more details.`)}finally{C(!1)}}},Sr=async He=>{if(window.confirm("Are you sure you want to deactivate this user?")){C(!0),W(null);try{await zl.deactivateUser(He),await Y()}catch(Zt){const Nt=q(Zt);W(Nt||"Failed to deactivate user"),console.error("Error deactivating user:",Zt)}finally{C(!1)}}};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(He=>t.jsx("li",{children:t.jsxs(Zr,{to:He.path,className:`nav-link ${He.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:He.icon}),t.jsx("span",{className:"nav-label",children:He.label})]})},He.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsx("div",{className:"user-management-header",children:t.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})}),k&&t.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:k}),t.jsx("button",{onClick:()=>W(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),S&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),t.jsxs("div",{className:"user-management-tabs",children:[t.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>i("users"),children:"Users"}),t.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>i("roles"),children:"Roles & Permissions"})]}),t.jsxs("div",{className:"user-management-actions",children:[t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:s,onChange:He=>c(He.target.value)})]}),t.jsx("button",{className:"add-btn",onClick:a==="users"?Ee:Le,children:a==="users"?"Add User":"Add Role"})]}),a==="users"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Emp Code"}),t.jsx("th",{children:"Email Address"}),t.jsx("th",{children:"Mobile Number"}),t.jsx("th",{children:"User Role"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ae.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:S?"Loading users...":"No users found"})}):ae.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:He.userName||"-"}),t.jsx("td",{children:He.empCode||"-"}),t.jsx("td",{children:He.emailAddress||"-"}),t.jsx("td",{children:He.mobileNumber||"-"}),t.jsx("td",{children:He.userRoleID||"-"}),t.jsx("td",{children:He.employmentType||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>we(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsxs("button",{className:"action-btn action-btn--reset",onClick:()=>Ir(He.id,He.userName),title:"Reset Password - Generate new temporary password",style:{color:"#ffffff",background:"#f59e0b",border:"1px solid #f59e0b",padding:"6px 10px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]}),t.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:"Reset"})]}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",ae.length," of ",R.length," Items"]})]}),a==="roles"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ce.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:S?"Loading roles...":"No roles found"})}):Ce.map(He=>t.jsxs("tr",{children:[t.jsx("td",{children:He.roleName}),t.jsx("td",{children:He.description}),t.jsx("td",{children:He.companyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${He.status.toLowerCase()}`,children:He.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ie(He),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{N(He),A(!0)},title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>pe(He.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},He.id))})]})}),t.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",Ce.length," of ",Ae.length," Items"]})]})]})]}),l&&t.jsx(Uee,{user:m,roles:Ae.filter(He=>He.status==="Active"),companies:te.filter(He=>He.status==="Active"),onClose:()=>{u(!1),x(null)},onSave:J,onActivate:Vt,onDeactivate:Sr,loading:S}),Ye&&Ft&&t.jsx("div",{className:"modal-overlay",onClick:()=>wt(!1),children:t.jsxs("div",{className:"modal-content",onClick:He=>He.stopPropagation(),style:{maxWidth:"500px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Temporary Password Generated"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>wt(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[t.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:"600",color:"#92400e"},children:"Important: This password will only be shown once!"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"#78350f"},children:"Please copy this password and share it securely with the user. The user must change this password on their first login."})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"User Name:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px"},children:Ft.userName})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Temporary Password:"}),t.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{flex:1,padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"600",letterSpacing:"2px",color:"#1f2937"},children:Ft.temporaryPassword}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(Ft.temporaryPassword),alert("Password copied to clipboard!")},style:{padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Copy"})]})]}),Ft.expiry&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"},children:"Password Expires:"}),t.jsx("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"14px",color:"#6b7280"},children:new Date(Ft.expiry).toLocaleString()})]}),t.jsxs("div",{style:{background:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px",fontSize:"14px",color:"#1e40af"},children:[t.jsx("strong",{children:"Note:"})," The user will be forced to change this password on their first login. This temporary password expires in 24 hours."]})]}),t.jsx("div",{className:"modal-footer",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb"},children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>{wt(!1),Bt(null)},style:{width:"100%"},children:"I've Copied the Password"})})]})}),o&&t.jsx(Hee,{role:y,companies:te.filter(He=>He.status==="Active"),onClose:()=>{h(!1),b(null)},onSave:ke}),d&&w&&t.jsx(Qee,{role:w,onClose:()=>{A(!1),N(null)},onSave:He=>{console.log("Saving permissions for role:",w.roleName,He),A(!1),N(null)}}),t.jsx(Ree,{isOpen:f,onClose:()=>g(!1)})]})},Uee=({user:r,roles:e,companies:n,onClose:a,onSave:i,onActivate:s,onDeactivate:c,loading:l})=>{const u=C=>{if(!C)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(C))return C;if(e&&e.length>0){const k=e.find(W=>W.roleName===C);return k?k.id:""}return""},[o,h]=P.useState(1),[d,A]=P.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});P.useEffect(()=>{if(r)try{const C=u(r.userRoleID);A(k=>({...r,userRoleID:C||r.userRoleID||""}))}catch(C){console.error("[UserFormModal] Error converting role:",C),A(r)}},[r==null?void 0:r.id]);const f=()=>{const C=[d.companyName,d.userName,d.mobileNumber,d.empCode,d.userRoleID,d.employmentType,d.designation,d.aadhaar,d.pan,d.address,d.area,d.city,d.district,d.pincode,d.emergencyContact],k=C.filter(W=>W&&W.toString().trim()!=="").length;return Math.round(k/C.length*100)},g=(C,k)=>{A(C==="companyName"?{...d,[C]:k,userRoleID:""}:{...d,[C]:k})},m=()=>{if(console.log("handleNext called - Current step:",o),o<6){const C=o+1;console.log("Setting step to:",C),h(C)}else console.warn("handleNext called but already at step 6")},x=()=>{o>1&&h(o-1)},y=C=>{const k=[];switch(C){case 1:(!d.companyName||d.companyName.trim()==="")&&k.push("Company"),(!d.userName||d.userName.trim()==="")&&k.push("User Name"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&k.push("Mobile Number"),(!d.empCode||d.empCode.trim()==="")&&k.push("Employee Code"),(!d.userRoleID||d.userRoleID.trim()==="")&&k.push("User Role");break;case 2:(!d.employmentType||d.employmentType.trim()==="")&&k.push("Employment Type"),(!d.designation||d.designation.trim()==="")&&k.push("Designation"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&k.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!d.companyName||d.companyName.trim()==="")&&k.push("Company (Step 1)"),(!d.userName||d.userName.trim()==="")&&k.push("User Name (Step 1)"),(!d.mobileNumber||d.mobileNumber.trim()==="")&&k.push("Mobile Number (Step 1)"),(!d.empCode||d.empCode.trim()==="")&&k.push("Employee Code (Step 1)"),(!d.userRoleID||d.userRoleID.trim()==="")&&k.push("User Role (Step 1)"),(!d.employmentType||d.employmentType.trim()==="")&&k.push("Employment Type (Step 2)"),(!d.designation||d.designation.trim()==="")&&k.push("Designation (Step 2)"),d.employmentType==="Contract"&&(!d.contractorName||d.contractorName.trim()==="")&&k.push("Contractor Name (Step 2)");break}const W=k.length===0,te=W?"":`Validation Error - Step ${C}: ${C===1?"Create User":C===2?"Employee Profile":C===3?"Identity & Compliance":C===4?"Address & Emergency":C===5?"User Activation":"Summary"}

Please fill in the following required fields:

${k.map((K,X)=>`  ${X+1}. ${K}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:W,missingFields:k,message:te}},b=C=>{C&&(C.preventDefault(),C.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",o),console.log("Form data:",d);const k=y(o);if(!k.isValid){alert(k.message),console.error(`Step ${o} validation failed - Missing fields:`,k.missingFields);return}o<6?(console.log(`Moving from Step ${o} to Step ${o+1}`),m()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},w=C=>{if(C&&(C.preventDefault(),C.stopPropagation()),console.log("handleFinalSave called - Current step:",o),o===6){const k=[],W=y(1);if(W.isValid||k.push({step:1,fields:W.missingFields}),k.length>0){const te=k.map(({step:K,fields:X})=>`Step ${K}:
${X.map((O,le)=>`  ${le+1}. ${O}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${te}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",k);return}const q={...d,status:d.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",q),console.log("[handleFinalSave] Email address in finalData:",q.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(q)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",o)},N=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&a()},S=[{number:1,title:"Create user"},{number:2,title:"Employee profile"},{number:3,title:"Identity & compliance"},{number:4,title:"Address & emergency"},{number:5,title:"User activation"},{number:6,title:"Summary & confirm"}];return t.jsx("div",{className:"modal-overlay",onClick:N,children:t.jsxs("div",{className:"modal-content wizard-modal",onClick:C=>C.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit User":"Create User"}),t.jsx("button",{className:"modal-close-btn",onClick:N,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"wizard-progress",children:S.map(C=>t.jsxs("div",{className:`wizard-step ${o>=C.number?"wizard-step--active":""} ${o===C.number?"wizard-step--current":""}`,children:[t.jsx("div",{className:"wizard-step-number",children:C.number}),t.jsx("div",{className:"wizard-step-title",children:C.title})]},C.number))}),t.jsxs("div",{className:"wizard-content",children:[o===1&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Create user"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d.companyName||"",onChange:C=>g("companyName",C.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select company"}),n.map(C=>t.jsx("option",{value:C.companyName,children:C.companyName},C.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User name *"}),t.jsx("input",{type:"text",value:d.userName||"",onChange:C=>g("userName",C.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$"}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Mobile number *"}),t.jsx("input",{type:"tel",value:d.mobileNumber||"",onChange:C=>g("mobileNumber",C.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email address"}),t.jsx("input",{type:"email",value:d.emailAddress||"",onChange:C=>g("emailAddress",C.target.value),placeholder:"e.g., user@example.com",maxLength:255}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),t.jsxs("div",{className:"form-group field-emp-code",children:[t.jsx("label",{children:"Employee code *"}),t.jsx("input",{type:"text",value:d.empCode||"",onChange:C=>g("empCode",C.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50}),t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"User role *"}),t.jsxs("select",{value:d.userRoleID||"",onChange:C=>g("userRoleID",C.target.value),required:!0,disabled:!d.companyName,children:[t.jsx("option",{value:"",children:d.companyName?"Select role":"Select company first"}),d.companyName&&e.filter(C=>C.companyName===d.companyName&&C.status==="Active").map(C=>t.jsx("option",{value:C.id,children:C.roleName},C.id))]}),!d.companyName&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),d.companyName&&e.filter(C=>C.companyName===d.companyName&&C.status==="Active").length===0&&t.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),o===2&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Employee profile"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Employment type *"}),t.jsxs("select",{value:d.employmentType||"",onChange:C=>g("employmentType",C.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"Permanent",children:"Permanent"}),t.jsx("option",{value:"Contract",children:"Contract"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:d.designation||"",onChange:C=>g("designation",C.target.value),required:!0})]}),d.employmentType==="Contract"&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contractor name *"}),t.jsx("input",{type:"text",value:d.contractorName||"",onChange:C=>g("contractorName",C.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company name (if third-party)"}),t.jsx("input",{type:"text",value:d.companyNameThirdParty||"",onChange:C=>g("companyNameThirdParty",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gross salary"}),t.jsx("input",{type:"text",value:d.grossSalary||"",onChange:C=>g("grossSalary",C.target.value)})]})]})]}),o===3&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Identity & compliance details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group field-aadhaar",children:[t.jsx("label",{children:"Aadhaar"}),t.jsx("input",{type:"text",value:d.aadhaar||"",onChange:C=>g("aadhaar",C.target.value)})]}),t.jsxs("div",{className:"form-group field-pan",children:[t.jsx("label",{children:"PAN"}),t.jsx("input",{type:"text",value:d.pan||"",onChange:C=>g("pan",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driving license"}),t.jsx("input",{type:"text",value:d.dlNum||"",onChange:C=>g("dlNum",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PF number"}),t.jsx("input",{type:"text",value:d.pfNum||"",onChange:C=>g("pfNum",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"UAN"}),t.jsx("input",{type:"text",value:d.uan||"",onChange:C=>g("uan",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"ESI number"}),t.jsx("input",{type:"text",value:d.esiNum||"",onChange:C=>g("esiNum",C.target.value)})]})]})]}),o===4&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"Address & emergency"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("textarea",{value:d.address||"",onChange:C=>g("address",C.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area"}),t.jsx("input",{type:"text",value:d.area||"",onChange:C=>g("area",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",value:d.city||"",onChange:C=>g("city",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District"}),t.jsx("input",{type:"text",value:d.district||"",onChange:C=>g("district",C.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode"}),t.jsx("input",{type:"text",value:d.pincode||"",onChange:C=>g("pincode",C.target.value)})]}),t.jsxs("div",{className:"form-group field-mobile",children:[t.jsx("label",{children:"Emergency contact number"}),t.jsx("input",{type:"tel",value:d.emergencyContact||"",onChange:C=>g("emergencyContact",C.target.value)})]})]})]}),o===5&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User activation & access enablement"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Web login *"}),t.jsxs("select",{value:d.webLogin?"Yes":"No",onChange:C=>g("webLogin",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Mobile app access *"}),t.jsxs("select",{value:d.mobileApp?"Yes":"No",onChange:C=>g("mobileApp",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:d.status||"Draft",onChange:C=>g("status",C.target.value),required:!0,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password enabled *"}),t.jsxs("select",{value:d.passwordEnabled?"Yes":"No",onChange:C=>g("passwordEnabled",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"OTP enabled *"}),t.jsxs("select",{value:d.otpEnabled?"Yes":"No",onChange:C=>g("otpEnabled",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]}),t.jsxs("div",{className:"form-group field-otp",children:[t.jsx("label",{children:"Force OTP on next login *"}),t.jsxs("select",{value:d.forceOtpOnNextLogin?"Yes":"No",onChange:C=>g("forceOtpOnNextLogin",C.target.value==="Yes"),required:!0,children:[t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]})]})]})]}),o===6&&t.jsxs("div",{className:"wizard-step-content",children:[t.jsx("h3",{className:"wizard-step-header",children:"User summary & confirmation"}),t.jsx("div",{className:"activation-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"User summary"}),t.jsxs("div",{className:"summary-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Company:"}),t.jsx("span",{className:"info-value",children:d.companyName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"User name:"}),t.jsx("span",{className:"info-value",children:d.userName||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Employee code:"}),t.jsx("span",{className:"info-value",children:d.empCode||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Role:"}),t.jsx("span",{className:"info-value",children:d.userRoleID||"-"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Profile completeness:"}),t.jsxs("span",{className:"info-value",children:[f(),"%"]})]})]}),t.jsxs("div",{className:"activation-actions",children:[t.jsx("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&s&&(await s(r.id,{passwordEnabled:d.passwordEnabled||!1,otpEnabled:d.otpEnabled||!1,webLogin:d.webLogin||!1,mobileAppAccess:d.mobileApp||!1,forceOtpOnNextLogin:d.forceOtpOnNextLogin||!1}),a())},disabled:!(r!=null&&r.id)||l,children:"Activate User"}),t.jsx("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id),a())},disabled:!(r!=null&&r.id)||l,children:" Deactivate User"})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[o>1&&t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:N,children:"Cancel"}),o<6?t.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Continue button clicked!"),b(C)},disabled:l,children:"Save & Continue"}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:C=>{C.preventDefault(),C.stopPropagation(),console.log("Save & Complete button clicked!"),w(C)},disabled:l,children:"Save & Complete"})]})]})})},Hee=({role:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--role",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-single-column",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]}),r&&t.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Role name *"}),t.jsx("input",{type:"text",value:i.roleName||"",onChange:l=>s({...i,roleName:l.target.value}),required:!0,maxLength:100})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:i.description||"",onChange:l=>s({...i,description:l.target.value}),rows:3,maxLength:500})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Qee=({role:r,onClose:e,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[i,s]=P.useState(()=>{const h={};return a.forEach(d=>{d.permissions.forEach(A=>{h[A.code]=!1})}),h}),c=r.status==="Inactive",l=(h,d)=>{c||s({...i,[h]:d})},u=h=>{if(c)return;const d={...i},A=h.every(f=>i[f.code]);h.forEach(f=>{d[f.code]=!A}),s(d)},o=h=>{h.preventDefault(),n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--permissions",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"permissions-form",onSubmit:o,children:[t.jsx("div",{className:"permissions-content",children:a.map(h=>{const d=h.permissions,A=d.every(f=>i[f.code]);return d.some(f=>i[f.code]),t.jsxs("div",{className:"permissions-module",children:[t.jsxs("div",{className:"permissions-module-header",children:[t.jsx("h3",{className:"permissions-module-title",children:h.module}),t.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>u(d),disabled:c,children:A?"Deselect All":"Select All"})]}),t.jsx("div",{className:"permissions-list",children:d.map(f=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:i[f.code]||!1,onChange:g=>l(f.code,g.target.checked),disabled:c}),t.jsx("span",{className:"permission-label",children:f.name})]},f.id))})]},h.module)})}),t.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},Wee=()=>{const{logout:r}=pa(),e=_n(),[n,a]=P.useState(""),[i,s]=P.useState(!1),[c,l]=P.useState(null),[u,o]=P.useState({}),h={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[d]=P.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[A,f]=P.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=P.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),t.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),t.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:e.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:e.pathname==="/master"||e.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:e.pathname==="/master/user-management"||e.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:e.pathname.startsWith("/report")}],y=A.filter(K=>K.roleName.toLowerCase().includes(n.toLowerCase())||K.description.toLowerCase().includes(n.toLowerCase())||K.companyName.toLowerCase().includes(n.toLowerCase())),b=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),l(null),s(!0);const K={};Object.values(h).forEach(X=>{X.forEach(O=>{K[O.code]=!1})}),m(X=>({...X,permissions:K}))},w=K=>{m({roleName:K.roleName,description:K.description,companyName:K.companyName,landingPage:K.landingPage,status:K.status,accessLevel:K.accessLevel,permissions:K.permissions||{}}),l(K),s(!0)},N=K=>{window.confirm("Are you sure you want to delete this role?")&&f(A.filter(X=>X.id!==K))},S=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)f(A.map(K=>K.id===c.id?{...K,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:K));else{const K={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};f([...A,K])}s(!1),l(null)},C=(K,X)=>{m(O=>({...O,permissions:{...O.permissions,[K]:X}}))},k=(K,X)=>{const O=h[K]||[],le={...g.permissions};O.forEach(z=>{le[z.code]=X}),m(z=>({...z,permissions:le}))},W=K=>{o(X=>({...X,[K]:!X[K]}))},q=K=>{const X=h[K]||[];return X.length===0?!1:X.every(O=>g.permissions[O.code])},te=K=>{const X=h[K]||[],O=X.filter(le=>g.permissions[le.code]).length;return O>0&&O<X.length};return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsx("div",{className:"sidebar-header",children:t.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),t.jsx("nav",{className:"sidebar-nav",children:x.map(K=>t.jsxs(Zr,{to:K.path,className:`nav-item ${K.active?"nav-item--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:K.icon}),t.jsx("span",{className:"nav-label",children:K.label})]},K.path))}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${e.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"logout-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / User Management / Roles & Permissions"})})}),t.jsxs("div",{className:"user-management-page",children:[t.jsxs("div",{className:"user-management-header",children:[t.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),t.jsxs("button",{className:"btn btn-primary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),t.jsx("div",{className:"user-management-search-section",children:t.jsxs("div",{className:"user-management-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:K=>a(K.target.value)})]})}),t.jsx("div",{className:"user-management-table-container",children:t.jsxs("table",{className:"user-management-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Role Name"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:y.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(K=>t.jsxs("tr",{children:[t.jsx("td",{children:K.roleName}),t.jsx("td",{children:K.description}),t.jsx("td",{children:K.companyName}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${K.status.toLowerCase()}`,children:K.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>w(K),title:"Edit Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>w(K),title:"Manage Permissions",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>N(K.id),title:"Delete Role",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},K.id))})]})})]})]}),i&&t.jsx("div",{className:"modal-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"modal-content modal-content--role-form",onClick:K=>K.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),t.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Access Level"}),t.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(K=>t.jsxs("label",{className:"access-level-option",children:[t.jsx("input",{type:"radio",name:"accessLevel",value:K,checked:g.accessLevel===K,onChange:X=>m({...g,accessLevel:X.target.value})}),t.jsx("span",{children:K})]},K))})]}),t.jsx("div",{className:"form-section",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Role Name *"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:K=>m({...g,roleName:K.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:K=>m({...g,description:K.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Company Name *"}),t.jsxs("select",{className:"form-input",value:g.companyName,onChange:K=>m({...g,companyName:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),d.filter(K=>K.status==="Active").map(K=>t.jsx("option",{value:K.companyName,children:K.companyName},K.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Status *"}),t.jsxs("select",{className:"form-input",value:g.status,onChange:K=>m({...g,status:K.target.value}),children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"form-section",children:[t.jsx("label",{className:"form-label",children:"Permissions"}),t.jsx("div",{className:"permissions-list-container",children:Object.entries(h).map(([K,X])=>t.jsxs("div",{className:"permission-module-item",children:[t.jsxs("div",{className:"permission-module-header-row",children:[t.jsxs("div",{className:"permission-module-header-left",children:[t.jsx("input",{type:"checkbox",checked:q(K),ref:O=>{O&&(O.indeterminate=te(K))},onChange:O=>k(K,O.target.checked),className:"permission-module-checkbox"}),t.jsx("span",{className:"permission-module-title",children:K})]}),t.jsx("button",{className:"permission-module-toggle",onClick:()=>W(K),children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:u[K]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),u[K]&&t.jsx("div",{className:"permission-module-permissions",children:X.map(O=>t.jsxs("label",{className:"permission-item",children:[t.jsx("input",{type:"checkbox",checked:g.permissions[O.code]||!1,onChange:le=>C(O.code,le.target.checked)}),t.jsx("span",{children:O.name})]},O.id))})]},K))})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>s(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:S,children:"Save"})]})]})})]})},$ee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},u0=async(r,e={})=>{const n=$ee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},ks={createHcf:async r=>(await u0("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await u0(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,e=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await u0(n,{method:"GET"})).data},updateHcf:async(r,e)=>(await u0(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcf:async r=>{await u0(`/hcfs/${r}`,{method:"DELETE"})}},Vee="http://localhost:3000/api/v1",zee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},d0=async(r,e={})=>{const n=zee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Vee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},R0={createHcfType:async r=>(await d0("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await d0(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,e=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await d0(n,{method:"GET"})).data},updateHcfType:async(r,e)=>(await d0(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfType:async r=>{await d0(`/hcf-types/${r}`,{method:"DELETE"})}},Kee=()=>{const{logout:r,user:e,permissions:n}=pa(),a=_n(),i=mp(n),s=ree(n),c=nee(n);P.useEffect(()=>{e&&(console.log("HCF Master - User:",{id:e.id,email:e.email,name:e.name,roles:e.roles}),console.log("HCF Master - Permissions:",{canCreate:i,canEdit:s,canDelete:c}))},[e,i,s]);const[l,u]=P.useState(""),[o,h]=P.useState(!1),[d,A]=P.useState(null),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(!1),[w,N]=P.useState(!1),S=()=>{N(!w)},[C,k]=P.useState([]),[W,q]=P.useState([]),[te,K]=P.useState([]),[X,O]=P.useState([]),[le,z]=P.useState([]),[R,ie]=P.useState([]),[Ae,Oe]=P.useState([]),[be,Te]=P.useState([]),Y=P.useCallback(async()=>{try{const pe=await $a.getAllCompanies(void 0,!0);k(pe.map(ke=>({id:ke.id,companyCode:ke.companyCode,companyName:ke.companyName,status:ke.status})))}catch(pe){console.error("Failed to load companies:",pe)}},[]),Ne=P.useCallback(async()=>{try{const pe=await F0.getAllAreas(!0);q(pe.map(ke=>({id:ke.id,areaName:ke.areaName,status:ke.status})))}catch(pe){console.error("Failed to load areas:",pe)}},[]),ce=P.useCallback(async()=>{try{const pe=await P0.getAllStates(!0);K(pe.map(ke=>({id:ke.id,stateCode:ke.stateCode,stateName:ke.stateName,status:ke.status})))}catch(pe){console.error("Failed to load states:",pe)}},[]),ae=P.useCallback(async()=>{try{const pe=await M0.getAllPcbZones(!0);O(pe.map(ke=>({id:ke.id,pcbZoneName:ke.pcbZoneName,status:ke.status})))}catch(pe){console.error("Failed to load PCB zones:",pe)}},[]),Ce=P.useCallback(async()=>{try{const pe=await D0.getAllCategories(void 0,!0);z(pe.map(ke=>({id:ke.id,categoryName:ke.categoryName,status:ke.status})))}catch(pe){console.error("Failed to load categories:",pe)}},[]),Ee=P.useCallback(async()=>{try{const pe=await rf.getAllRoutes(!0);ie(pe.map(ke=>({id:ke.id,routeName:ke.routeName,status:ke.status})))}catch(pe){console.error("Failed to load routes:",pe)}},[]),we=P.useCallback(async()=>{try{const pe=await R0.getAllHcfTypes(void 0,!0);Oe(pe)}catch(pe){console.error("Failed to load HCF types:",pe)}},[]),me=P.useCallback(async()=>{try{g(!0),x(null);const ke=(await ks.getAllHcfs()).map(Ye=>{const wt=C.find(He=>He.id===Ye.companyId),Ft=W.find(He=>He.id===Ye.areaId),Bt=te.find(He=>He.stateCode===Ye.stateCode),Vt=X.find(He=>He.id===Ye.pcbZone),Ir=le.find(He=>He.id===Ye.category),Sr=R.find(He=>He.id===Ye.route);return{id:Ye.id,companyName:(wt==null?void 0:wt.companyName)||"",companyID:Ye.companyId,hcfCode:Ye.hcfCode,password:Ye.password||"",hcfTypeCode:Ye.hcfTypeCode||"",hcfName:Ye.hcfName,hcfShortName:Ye.hcfShortName||"",areaID:Ye.areaId||"",pincode:Ye.pincode||"",district:Ye.district||"",stateCode:Ye.stateCode||"",groupCode:Ye.groupCode||"",pcbZone:Ye.pcbZone||"",billingName:Ye.billingName||"",billingAddress:Ye.billingAddress||"",serviceAddress:Ye.serviceAddress||"",gstin:Ye.gstin||"",regnNum:Ye.regnNum||"",hospRegnDate:Ye.hospRegnDate||"",billingType:Ye.billingType||"",advAmount:Ye.advAmount||"",billingOption:Ye.billingOption||"",bedCount:Ye.bedCount||"",bedRate:Ye.bedRate||"",kgRate:Ye.kgRate||"",lumpsum:Ye.lumpsum||"",accountsLandline:Ye.accountsLandline||"",accountsMobile:Ye.accountsMobile||"",accountsEmail:Ye.accountsEmail||"",contactName:Ye.contactName||"",contactDesignation:Ye.contactDesignation||"",contactMobile:Ye.contactMobile||"",contactEmail:Ye.contactEmail||"",agrSignAuthName:Ye.agrSignAuthName||"",agrSignAuthDesignation:Ye.agrSignAuthDesignation||"",drName:Ye.drName||"",drPhNo:Ye.drPhNo||"",drEmail:Ye.drEmail||"",serviceStartDate:Ye.serviceStartDate||"",serviceEndDate:Ye.serviceEndDate||"",category:Ye.category||"",route:Ye.route||"",executive_Assigned:Ye.executive_Assigned||"",submitBy:Ye.submitBy||"",agrID:Ye.agrID||"",sortOrder:Ye.sortOrder||"",isGovt:Ye.isGovt||!1,isGSTExempt:Ye.isGSTExempt||!1,autoGen:Ye.autoGen||!1,status:Ye.status,createdBy:Ye.createdBy||"",createdOn:Ye.createdOn,modifiedBy:Ye.modifiedBy||"",modifiedOn:Ye.modifiedOn}});Te(ke)}catch(pe){console.error("Failed to load HCFs:",pe),x(pe.message||"Failed to load HCFs"),Te([])}finally{g(!1)}},[C,W,te,X,le,R]);P.useEffect(()=>{(async()=>{await Promise.all([Y(),Ne(),ce(),ae(),Ce(),Ee(),we()])})()},[Y,Ne,ce,ae,Ce,Ee,we]),P.useEffect(()=>{C.length>0&&me()},[C.length,me]);const se=be.filter(pe=>pe.hcfName.toLowerCase().includes(l.toLowerCase())||pe.hcfCode.toLowerCase().includes(l.toLowerCase())||pe.companyName.toLowerCase().includes(l.toLowerCase())||pe.hcfShortName.toLowerCase().includes(l.toLowerCase()));P.useEffect(()=>{const pe=setTimeout(()=>{const ke=document.querySelector(".add-hcf-btn"),Ye=document.querySelectorAll(".action-btn"),wt=ke?window.getComputedStyle(ke):null,Ft=Ye[0],Bt=Ft?window.getComputedStyle(Ft):null;console.log("HCF Master - Button Check:",{addButtonExists:!!ke,addButtonVisible:ke?(wt==null?void 0:wt.display)!=="none"&&(wt==null?void 0:wt.visibility)!=="hidden":!1,addButtonStyles:ke?{display:wt==null?void 0:wt.display,visibility:wt==null?void 0:wt.visibility,opacity:wt==null?void 0:wt.opacity,width:wt==null?void 0:wt.width,height:wt==null?void 0:wt.height}:null,actionButtonsCount:Ye.length,firstActionButtonStyles:Ft?{display:Bt==null?void 0:Bt.display,visibility:Bt==null?void 0:Bt.visibility,opacity:Bt==null?void 0:Bt.opacity}:null,canCreate:i,canEdit:s,hcfsCount:be.length,filteredHCFsCount:se.length})},500);return()=>clearTimeout(pe)},[i,s,be.length,se.length]);const J=()=>{A(null),h(!0)},je=pe=>{A(pe),h(!0)},Pe=async pe=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{g(!0),await ks.deleteHcf(pe),await me()}catch(ke){console.error("Failed to delete HCF:",ke),x(ke.message||"Failed to delete HCF"),alert(ke.message||"Failed to delete HCF")}finally{g(!1)}},Le=async pe=>{try{if(b(!0),x(null),d){const ke={hcfName:pe.hcfName,hcfShortName:pe.hcfShortName,areaId:pe.areaID,pincode:pe.pincode,district:pe.district,stateCode:pe.stateCode,groupCode:pe.groupCode,pcbZone:pe.pcbZone,billingName:pe.billingName,billingAddress:pe.billingAddress,serviceAddress:pe.serviceAddress,gstin:pe.gstin,regnNum:pe.regnNum,hospRegnDate:pe.hospRegnDate,billingType:pe.billingType,advAmount:pe.advAmount,billingOption:pe.billingOption,bedCount:pe.bedCount,bedRate:pe.bedRate,kgRate:pe.kgRate,lumpsum:pe.lumpsum,accountsLandline:pe.accountsLandline,accountsMobile:pe.accountsMobile,accountsEmail:pe.accountsEmail,contactName:pe.contactName,contactDesignation:pe.contactDesignation,contactMobile:pe.contactMobile,contactEmail:pe.contactEmail,agrSignAuthName:pe.agrSignAuthName,agrSignAuthDesignation:pe.agrSignAuthDesignation,drName:pe.drName,drPhNo:pe.drPhNo,drEmail:pe.drEmail,serviceStartDate:pe.serviceStartDate,serviceEndDate:pe.serviceEndDate,category:pe.category,route:pe.route,executive_Assigned:pe.executive_Assigned,submitBy:pe.submitBy,agrID:pe.agrID,sortOrder:pe.sortOrder,isGovt:pe.isGovt,isGSTExempt:pe.isGSTExempt,autoGen:pe.autoGen,status:pe.status};await ks.updateHcf(d.id,ke)}else{if(!pe.companyID)throw new Error("Company is required");if(!pe.hcfCode)throw new Error("HCF Code is required");if(!pe.hcfName)throw new Error("HCF Name is required");await ks.createHcf({companyId:pe.companyID,hcfCode:pe.hcfCode,password:pe.password,hcfTypeCode:pe.hcfTypeCode,hcfName:pe.hcfName,hcfShortName:pe.hcfShortName,areaId:pe.areaID,pincode:pe.pincode,district:pe.district,stateCode:pe.stateCode,groupCode:pe.groupCode,pcbZone:pe.pcbZone,billingName:pe.billingName,billingAddress:pe.billingAddress,serviceAddress:pe.serviceAddress,gstin:pe.gstin,regnNum:pe.regnNum,hospRegnDate:pe.hospRegnDate,billingType:pe.billingType,advAmount:pe.advAmount,billingOption:pe.billingOption,bedCount:pe.bedCount,bedRate:pe.bedRate,kgRate:pe.kgRate,lumpsum:pe.lumpsum,accountsLandline:pe.accountsLandline,accountsMobile:pe.accountsMobile,accountsEmail:pe.accountsEmail,contactName:pe.contactName,contactDesignation:pe.contactDesignation,contactMobile:pe.contactMobile,contactEmail:pe.contactEmail,agrSignAuthName:pe.agrSignAuthName,agrSignAuthDesignation:pe.agrSignAuthDesignation,drName:pe.drName,drPhNo:pe.drPhNo,drEmail:pe.drEmail,serviceStartDate:pe.serviceStartDate,serviceEndDate:pe.serviceEndDate,category:pe.category,route:pe.route,executive_Assigned:pe.executive_Assigned,submitBy:pe.submitBy,agrID:pe.agrID,sortOrder:pe.sortOrder,isGovt:pe.isGovt,isGSTExempt:pe.isGSTExempt,autoGen:pe.autoGen})}await me(),h(!1),A(null)}catch(ke){console.error("Failed to save HCF:",ke),x(ke.message||"Failed to save HCF"),alert(ke.message||"Failed to save HCF")}finally{b(!1)}},Ie=qs(n,a.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${w?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!w&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:S,"aria-label":w?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:w?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ie.map(pe=>t.jsx("li",{children:t.jsxs(Zr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:pe.icon}),!w&&t.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!w&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!w&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Master"})})}),t.jsxs("div",{className:"hcf-master-page",children:[m&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:m}),f&&be.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),t.jsx("div",{className:"hcf-master-header",children:t.jsx("h1",{className:"hcf-master-title",children:"HCF Master"})}),t.jsxs("div",{className:"hcf-master-actions",style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center",gap:"16px",marginBottom:"20px",flexWrap:"nowrap"},children:[t.jsxs("div",{className:"hcf-search-box",style:{flex:"0 1 auto",maxWidth:"400px",minWidth:"200px"},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-search-input",placeholder:"Search HCF...",value:l,onChange:pe=>u(pe.target.value)})]}),t.jsxs("button",{className:"add-hcf-btn",onClick:J,disabled:!i,style:{display:"flex !important",visibility:"visible !important",opacity:i?1:.6,cursor:i?"pointer":"not-allowed",position:"relative",zIndex:10,minWidth:"120px",minHeight:"40px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"13px",fontWeight:600,flexShrink:0,alignItems:"center",gap:"8px",whiteSpace:"nowrap"},title:i?"Add new HCF":"No permission to create HCF",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]}),t.jsx("div",{className:"hcf-table-container",children:t.jsxs("table",{className:"hcf-table",style:{width:"100%",tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"12%"},children:"Company Name"}),t.jsx("th",{style:{width:"8%"},children:"HCF Code"}),t.jsx("th",{style:{width:"12%"},children:"HCF Name"}),t.jsx("th",{style:{width:"10%"},children:"HCF Short Name"}),t.jsx("th",{style:{width:"7%"},children:"State Code"}),t.jsx("th",{style:{width:"10%"},children:"District"}),t.jsx("th",{style:{width:"8%"},children:"Pincode"}),t.jsx("th",{style:{width:"8%"},children:"Status"}),t.jsx("th",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"10px 8px",textAlign:"left",backgroundColor:"#f1f5f9"},children:"Actions"})]})}),t.jsx("tbody",{children:f&&be.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading HCFs..."})}):se.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):se.map(pe=>t.jsxs("tr",{children:[t.jsx("td",{children:pe.companyName||"-"}),t.jsx("td",{children:pe.hcfCode||"-"}),t.jsx("td",{children:pe.hcfName||"-"}),t.jsx("td",{children:pe.hcfShortName||"-"}),t.jsx("td",{children:pe.stateCode||"-"}),t.jsx("td",{children:pe.district||"-"}),t.jsx("td",{children:pe.pincode||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${pe.status.toLowerCase()}`,children:pe.status})}),t.jsx("td",{style:{width:"120px",minWidth:"120px",maxWidth:"120px",padding:"8px",whiteSpace:"nowrap",backgroundColor:"#ffffff"},children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-start",width:"100%",visibility:"visible",flexWrap:"nowrap"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>s&&je(pe),title:s?"Edit":"No permission to edit",disabled:!s,style:{display:"flex",visibility:"visible",opacity:s?1:.5,cursor:s?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:s?"#3b82f6":"#e5e7eb",color:s?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>c&&Pe(pe.id),title:c?"Delete":"No permission to delete",disabled:!c,style:{display:"flex",visibility:"visible",opacity:c?1:.5,cursor:c?"pointer":"not-allowed",width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",backgroundColor:c?"#ef4444":"#e5e7eb",color:c?"#ffffff":"#6b7280",border:"none",borderRadius:"6px",alignItems:"center",justifyContent:"center",flexShrink:0,padding:0,margin:0},children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},pe.id))})]})}),t.jsxs("div",{className:"hcf-pagination-info",children:["Showing ",se.length," of ",be.length," Items"]})]})]}),o&&t.jsx(Gee,{hcf:d,companies:C.filter(pe=>pe.status==="Active"),areas:W.filter(pe=>pe.status==="Active"),states:te.filter(pe=>pe.status==="Active"),pcbZones:X.filter(pe=>pe.status==="Active"),categories:le.filter(pe=>pe.status==="Active"),routes:R.filter(pe=>pe.status==="Active"),hcfTypes:Ae.filter(pe=>pe.status==="Active"),saving:y,onClose:()=>{h(!1),A(null)},onSave:Le})]})},Gee=({hcf:r,companies:e,areas:n,states:a,pcbZones:i,categories:s,routes:c,hcfTypes:l,saving:u,onClose:o,onSave:h})=>{const d=P.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[A,f]=P.useState(d);P.useEffect(()=>{f(d())},[r,d]);const g=m=>{m.preventDefault(),h(A)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-form",onSubmit:g,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:A.companyName||"",onChange:m=>{const x=e.find(y=>y.companyName===m.target.value);f({...A,companyName:m.target.value,companyID:(x==null?void 0:x.id)||""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.companyName,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company ID"}),t.jsx("input",{type:"text",value:A.companyID||"",readOnly:!0,style:{backgroundColor:"#f1f5f9"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsx("input",{type:"text",value:A.hcfCode||"",onChange:m=>f({...A,hcfCode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Password *"}),t.jsx("input",{type:"password",value:A.password||"",onChange:m=>f({...A,password:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code"}),t.jsxs("select",{value:A.hcfTypeCode||"",onChange:m=>f({...A,hcfTypeCode:m.target.value}),children:[t.jsx("option",{value:"",children:"Select HCF Type"}),l.map(m=>t.jsxs("option",{value:m.hcfTypeCode,children:[m.hcfTypeCode," - ",m.hcfTypeName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Name *"}),t.jsx("input",{type:"text",value:A.hcfName||"",onChange:m=>f({...A,hcfName:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Short Name"}),t.jsx("input",{type:"text",value:A.hcfShortName||"",onChange:m=>f({...A,hcfShortName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Group Code"}),t.jsx("input",{type:"text",value:A.groupCode||"",onChange:m=>f({...A,groupCode:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Location Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Area ID *"}),t.jsxs("select",{value:A.areaID||"",onChange:m=>f({...A,areaID:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Area"}),n.map(m=>t.jsx("option",{value:m.id,children:m.areaName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"State Code *"}),t.jsxs("select",{value:A.stateCode||"",onChange:m=>f({...A,stateCode:m.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select State"}),a.map(m=>t.jsxs("option",{value:m.stateCode,children:[m.stateCode," - ",m.stateName]},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"District *"}),t.jsx("input",{type:"text",value:A.district||"",onChange:m=>f({...A,district:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pincode *"}),t.jsx("input",{type:"text",value:A.pincode||"",onChange:m=>f({...A,pincode:m.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PCB Zone"}),t.jsxs("select",{value:A.pcbZone||"",onChange:m=>f({...A,pcbZone:m.target.value}),children:[t.jsx("option",{value:"",children:"Select PCB Zone"}),i.map(m=>t.jsx("option",{value:m.id,children:m.pcbZoneName},m.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Billing Address"}),t.jsx("textarea",{value:A.billingAddress||"",onChange:m=>f({...A,billingAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Service Address"}),t.jsx("textarea",{value:A.serviceAddress||"",onChange:m=>f({...A,serviceAddress:m.target.value}),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Name"}),t.jsx("input",{type:"text",value:A.billingName||"",onChange:m=>f({...A,billingName:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Registration & GST Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"GSTIN"}),t.jsx("input",{type:"text",value:A.gstin||"",onChange:m=>f({...A,gstin:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Registration Number"}),t.jsx("input",{type:"text",value:A.regnNum||"",onChange:m=>f({...A,regnNum:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Hospital Registration Date"}),t.jsx("input",{type:"date",value:A.hospRegnDate||"",onChange:m=>f({...A,hospRegnDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is GST Exempt"}),t.jsxs("select",{value:A.isGSTExempt?"true":"false",onChange:m=>f({...A,isGSTExempt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Is Government"}),t.jsxs("select",{value:A.isGovt?"true":"false",onChange:m=>f({...A,isGovt:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type"}),t.jsxs("select",{value:A.billingType||"",onChange:m=>f({...A,billingType:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option"}),t.jsxs("select",{value:A.billingOption||"",onChange:m=>f({...A,billingOption:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Billing Option"}),t.jsx("option",{value:"Per Bed",children:"Per Bed"}),t.jsx("option",{value:"Per Kg",children:"Per Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Advance Amount"}),t.jsx("input",{type:"text",value:A.advAmount||"",onChange:m=>f({...A,advAmount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:A.bedCount||"",onChange:m=>f({...A,bedCount:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:A.bedRate||"",onChange:m=>f({...A,bedRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:A.kgRate||"",onChange:m=>f({...A,kgRate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum"}),t.jsx("input",{type:"text",value:A.lumpsum||"",onChange:m=>f({...A,lumpsum:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Accounts Contact"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Landline"}),t.jsx("input",{type:"tel",value:A.accountsLandline||"",onChange:m=>f({...A,accountsLandline:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Mobile"}),t.jsx("input",{type:"tel",value:A.accountsMobile||"",onChange:m=>f({...A,accountsMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accounts Email"}),t.jsx("input",{type:"email",value:A.accountsEmail||"",onChange:m=>f({...A,accountsEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contact Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("input",{type:"text",value:A.contactName||"",onChange:m=>f({...A,contactName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Designation"}),t.jsx("input",{type:"text",value:A.contactDesignation||"",onChange:m=>f({...A,contactDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Mobile"}),t.jsx("input",{type:"tel",value:A.contactMobile||"",onChange:m=>f({...A,contactMobile:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contact Email"}),t.jsx("input",{type:"email",value:A.contactEmail||"",onChange:m=>f({...A,contactEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Signatory"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Name"}),t.jsx("input",{type:"text",value:A.agrSignAuthName||"",onChange:m=>f({...A,agrSignAuthName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Signatory Auth Designation"}),t.jsx("input",{type:"text",value:A.agrSignAuthDesignation||"",onChange:m=>f({...A,agrSignAuthDesignation:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID"}),t.jsx("input",{type:"text",value:A.agrID||"",onChange:m=>f({...A,agrID:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Doctor Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Name"}),t.jsx("input",{type:"text",value:A.drName||"",onChange:m=>f({...A,drName:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Phone Number"}),t.jsx("input",{type:"tel",value:A.drPhNo||"",onChange:m=>f({...A,drPhNo:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Doctor Email"}),t.jsx("input",{type:"email",value:A.drEmail||"",onChange:m=>f({...A,drEmail:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Service Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service Start Date"}),t.jsx("input",{type:"date",value:A.serviceStartDate||"",onChange:m=>f({...A,serviceStartDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Service End Date"}),t.jsx("input",{type:"date",value:A.serviceEndDate||"",onChange:m=>f({...A,serviceEndDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Category"}),t.jsxs("select",{value:A.category||"",onChange:m=>f({...A,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),s.map(m=>t.jsx("option",{value:m.id,children:m.categoryName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route"}),t.jsxs("select",{value:A.route||"",onChange:m=>f({...A,route:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Route"}),c.map(m=>t.jsx("option",{value:m.id,children:m.routeName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Executive Assigned"}),t.jsx("input",{type:"text",value:A.executive_Assigned||"",onChange:m=>f({...A,executive_Assigned:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Submit By"}),t.jsx("input",{type:"text",value:A.submitBy||"",onChange:m=>f({...A,submitBy:m.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Sort Order"}),t.jsx("input",{type:"text",value:A.sortOrder||"",onChange:m=>f({...A,sortOrder:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Auto Generate"}),t.jsxs("select",{value:A.autoGen?"true":"false",onChange:m=>f({...A,autoGen:m.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:A.status||"Active",onChange:m=>f({...A,status:m.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:u,children:u?"Saving...":r?"Update":"Save"})]})]})]})})},qee="http://localhost:3000/api/v1",Xee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},h0=async(r,e={})=>{const n=Xee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${qee}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},p1={createHcfAmendment:async r=>(await h0("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await h0(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,e=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await h0(n,{method:"GET"})).data},updateHcfAmendment:async(r,e)=>(await h0(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteHcfAmendment:async r=>{await h0(`/hcf-amendments/${r}`,{method:"DELETE"})}},Yee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=mp(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[h,d]=P.useState(!0),[A,f]=P.useState(null),[g,m]=P.useState(!1),[x,y]=P.useState(!1),b=()=>{y(!x)},[w,N]=P.useState([]),[S,C]=P.useState([]),[k,W]=P.useState([]);P.useCallback(async()=>{try{const R=await $a.getAllCompanies(void 0,!0);N(R)}catch(R){console.error("Failed to load companies:",R),f("Failed to load companies")}},[]),P.useCallback(async()=>{try{const R=await ks.getAllHcfs(void 0,!0);C(R)}catch(R){console.error("Failed to load HCFs:",R),f("Failed to load HCFs")}},[]);const q=P.useCallback(async()=>{try{d(!0),f(null),console.log("Loading amendments...");const R=await p1.getAllHcfAmendments();console.log("Amendments loaded:",R),W(R.map(ie=>({id:ie.id,hcfId:ie.hcfId,amendmentType:ie.amendmentType,amendmentDate:ie.amendmentDate,description:ie.description,status:ie.status,approvedBy:ie.approvedBy,approvedDate:ie.approvedDate,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}))),d(!1)}catch(R){console.error("Failed to load amendments:",R),f(R.message||"Failed to load amendments"),W([]),d(!1)}},[]);P.useEffect(()=>{k.length>0&&w.length>0&&S.length>0&&W(R=>{if(!R.some(be=>!be.hcfCode||!be.companyName))return R;const Ae=R.map(be=>{if(be.hcfCode&&be.companyName)return be;const Te=S.find(Ne=>Ne.id===be.hcfId),Y=Te?w.find(Ne=>Ne.id===Te.companyId):null;return{...be,hcfCode:(Te==null?void 0:Te.hcfCode)||"",companyName:(Y==null?void 0:Y.companyName)||""}});return Ae.some((be,Te)=>{var Y,Ne;return be.hcfCode!==((Y=R[Te])==null?void 0:Y.hcfCode)||be.companyName!==((Ne=R[Te])==null?void 0:Ne.companyName)})?Ae:R})},[w,S]),P.useEffect(()=>{let R=!0;return(async()=>{try{d(!0);const[Ae,Oe]=await Promise.all([$a.getAllCompanies(void 0,!0).catch(be=>(console.error("Failed to load companies:",be),[])),ks.getAllHcfs(void 0,!0).catch(be=>(console.error("Failed to load HCFs:",be),[]))]);if(!R)return;N(Ae),C(Oe),await q()}catch(Ae){console.error("Failed to initialize:",Ae),R&&(f("Failed to load data"),d(!1))}})(),()=>{R=!1}},[q]);const te=k.filter(R=>(R.companyName||"").toLowerCase().includes(i.toLowerCase())||(R.hcfCode||"").toLowerCase().includes(i.toLowerCase())||R.amendmentType.toLowerCase().includes(i.toLowerCase())||(R.description||"").toLowerCase().includes(i.toLowerCase())),K=()=>{o(null),l(!0)},X=R=>{o(R),l(!0)},O=async R=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{d(!0),await p1.deleteHcfAmendment(R),await q()}catch(ie){console.error("Failed to delete amendment:",ie),alert(ie.message||"Failed to delete amendment")}finally{d(!1)}},le=async R=>{try{if(m(!0),f(null),u){const ie={};R.amendmentType!==void 0&&(ie.amendmentType=R.amendmentType),R.amendmentDate!==void 0&&(ie.amendmentDate=R.amendmentDate),R.description!==void 0&&(ie.description=R.description),R.status!==void 0&&(ie.amendmentStatus=R.status),R.approvedBy!==void 0&&(ie.approvedBy=R.approvedBy),R.approvedDate!==void 0&&(ie.approvedDate=R.approvedDate),await p1.updateHcfAmendment(u.id,ie)}else{if(!R.hcfId)throw new Error("HCF is required");if(!R.amendmentType)throw new Error("Amendment type is required");if(!R.amendmentDate)throw new Error("Amendment date is required");await p1.createHcfAmendment({hcfId:R.hcfId,amendmentType:R.amendmentType,amendmentDate:R.amendmentDate,description:R.description,status:R.status,approvedBy:R.approvedBy,approvedDate:R.approvedDate})}await q(),l(!1),o(null)}catch(ie){console.error("Failed to save amendment:",ie),f(ie.message||"Failed to save amendment"),alert(ie.message||"Failed to save amendment")}finally{m(!1)}},z=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:z.map(R=>t.jsx("li",{children:t.jsxs(Zr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!x&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Amendments"})})}),t.jsxs("div",{className:"hcf-amendments-page",children:[A&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:A}),h&&k.length===0&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading amendments..."}),t.jsx("div",{className:"hcf-amendments-header",children:t.jsx("h1",{className:"hcf-amendments-title",children:"HCF Amendments"})}),t.jsxs("div",{className:"hcf-amendments-actions",children:[t.jsxs("div",{className:"hcf-amendments-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-amendments-search-input",placeholder:"Search Amendments...",value:i,onChange:R=>s(R.target.value)})]}),a&&t.jsxs("button",{className:"add-amendment-btn",onClick:K,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]}),t.jsx("div",{className:"hcf-amendments-table-container",children:t.jsxs("table",{className:"hcf-amendments-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Amendment Type"}),t.jsx("th",{children:"Amendment Date"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Approved By"}),t.jsx("th",{children:"Approved Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:h&&k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):te.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):te.map(R=>{const ie=S.find(Ae=>Ae.id===R.hcfId);return t.jsxs("tr",{children:[t.jsx("td",{children:R.companyName||"-"}),t.jsx("td",{children:ie?`${ie.hcfCode} - ${ie.hcfName}`:R.hcfCode||"-"}),t.jsx("td",{children:R.amendmentType||"-"}),t.jsx("td",{children:R.amendmentDate?new Date(R.amendmentDate).toLocaleDateString():"-"}),t.jsx("td",{children:R.description||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${(R.status||"Pending").toLowerCase()}`,children:R.status||"Pending"})}),t.jsx("td",{children:R.approvedBy||"-"}),t.jsx("td",{children:R.approvedDate?new Date(R.approvedDate).toLocaleDateString():"-"}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(R),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>O(R.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},R.id)})})]})}),t.jsxs("div",{className:"hcf-amendments-pagination-info",children:["Showing ",te.length," of ",k.length," Items"]})]})]}),c&&t.jsx(Zee,{amendment:u,companies:w.filter(R=>R.status==="Active"),hcfs:S.filter(R=>R.status==="Active"),onClose:()=>{l(!1),o(null),f(null)},onSave:le,saving:g})]})},Zee=({amendment:r,companies:e,hcfs:n,onClose:a,onSave:i,saving:s=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[l,u]=P.useState(c()),o=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[h,d]=P.useState(o());P.useEffect(()=>{h&&!r&&u(g=>({...g,hcfId:""}))},[h,r]),P.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!h){const g=n.find(m=>m.id===r.hcfId);g&&d(g.companyId)}},[r,n,h]);const A=h?n.filter(g=>g.companyId===h&&g.status==="Active"):n,f=g=>{if(g.preventDefault(),!l.hcfId){alert("Please select an HCF");return}if(!l.amendmentType){alert("Amendment type is required");return}if(!l.amendmentDate){alert("Amendment date is required");return}i(l)};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"amendment-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:h,onChange:g=>{d(g.target.value),u({...l,hcfId:""})},required:!0,disabled:!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfId||"",onChange:g=>u({...l,hcfId:g.target.value}),required:!0,disabled:!h&&!r,children:[t.jsx("option",{value:"",children:"Select HCF"}),A.length===0&&(h||r)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):A.map(g=>t.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Type *"}),t.jsx("input",{type:"text",value:l.amendmentType||"",onChange:g=>u({...l,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Amendment Date *"}),t.jsx("input",{type:"date",value:l.amendmentDate||"",onChange:g=>u({...l,amendmentDate:g.target.value}),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Description"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:l.description||"",onChange:g=>u({...l,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Approval Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:l.status||"Pending",onChange:g=>u({...l,status:g.target.value}),children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved By"}),t.jsx("input",{type:"text",value:l.approvedBy||"",onChange:g=>u({...l,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Approved Date"}),t.jsx("input",{type:"date",value:l.approvedDate||"",onChange:g=>u({...l,approvedDate:g.target.value})})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Saving...":r?"Update":"Save"})]})]})]})})},Jee=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=mp(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[h,d]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const le=(await $a.getAllCompanies(!0)).map(z=>({id:z.id,companyCode:z.companyCode,companyName:z.companyName,status:z.status}));f(le)}catch(O){console.error("Error loading companies:",O)}},C=async()=>{m(!0),y(null);try{const le=(await R0.getAllHcfTypes(void 0,!0)).map(z=>{const R=A.find(ie=>ie.id===z.companyId);return{id:z.id,companyName:(R==null?void 0:R.companyName)||"Unknown Company",hcfTypeCode:z.hcfTypeCode,hcfTypeName:z.hcfTypeName,status:z.status,createdBy:z.createdBy||"",createdOn:z.createdOn,modifiedBy:z.modifiedBy||"",modifiedOn:z.modifiedOn}});d(le)}catch(O){const le=O instanceof Error?O.message:"Failed to load HCF types";y(le),console.error("Error loading HCF types:",O),d([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&C()},[A.length]);const k=h.filter(O=>O.companyName.toLowerCase().includes(i.toLowerCase())||O.hcfTypeCode.toLowerCase().includes(i.toLowerCase())||O.hcfTypeName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},q=O=>{o(O),l(!0)},te=async O=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await R0.deleteHcfType(O),await C(),alert("HCF Type deleted successfully")}catch(le){const z=le instanceof Error?le.message:"Failed to delete HCF type";alert(`Error: ${z}`),console.error("Error deleting HCF type:",le)}finally{m(!1)}},K=async O=>{try{m(!0),y(null);const le=A.find(z=>z.companyName===O.companyName);if(!le){alert("Please select a valid company");return}if(u)await R0.updateHcfType(u.id,{status:O.status}),alert("HCF Type updated successfully");else{if(!O.hcfTypeCode||!O.hcfTypeName||!O.companyName){alert("Please fill in all required fields");return}await R0.createHcfType({hcfTypeCode:O.hcfTypeCode,hcfTypeName:O.hcfTypeName,companyId:le.id}),alert("HCF Type created successfully")}l(!1),o(null),await C()}catch(le){const z=le instanceof Error?le.message:"Failed to save HCF type";y(z),alert(`Error: ${z}`),console.error("Error saving HCF type:",le)}finally{m(!1)}},X=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:X.map(O=>t.jsx("li",{children:t.jsxs(Zr,{to:O.path,className:`nav-link ${O.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:O.icon}),!b&&t.jsx("span",{className:"nav-label",children:O.label})]})},O.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / HCF Type Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading HCF types..."}),t.jsxs("div",{className:"hcf-type-master-page",children:[t.jsx("div",{className:"hcf-type-master-header",children:t.jsx("h1",{className:"hcf-type-master-title",children:"HCF Type Master"})}),t.jsxs("div",{className:"hcf-type-master-actions",children:[t.jsxs("div",{className:"hcf-type-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"hcf-type-search-input",placeholder:"Search HCF Type...",value:i,onChange:O=>s(O.target.value)})]}),a&&t.jsxs("button",{className:"add-hcf-type-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]}),t.jsx("div",{className:"hcf-type-table-container",children:t.jsxs("table",{className:"hcf-type-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Type Code"}),t.jsx("th",{children:"HCF Type Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No HCF Type records found"})}):k.map(O=>t.jsxs("tr",{children:[t.jsx("td",{children:O.companyName||"-"}),t.jsx("td",{children:O.hcfTypeCode||"-"}),t.jsx("td",{children:O.hcfTypeName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${O.status.toLowerCase()}`,children:O.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>q(O),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(O.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},O.id))})]})}),t.jsxs("div",{className:"hcf-type-pagination-info",children:["Showing ",k.length," of ",h.length," Items"]})]})]}),c&&t.jsx(ete,{hcfType:u,companies:A.filter(O=>O.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},ete=({hcfType:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Code *"}),t.jsx("input",{type:"text",value:i.hcfTypeCode||"",onChange:l=>s({...i,hcfTypeCode:l.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Type Name *"}),t.jsx("input",{type:"text",value:i.hcfTypeName||"",onChange:l=>s({...i,hcfTypeName:l.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},tte="http://localhost:3000/api/v1",rte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},A0=async(r,e={})=>{const n=rte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${tte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Ih={createFleet:async r=>(await A0("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await A0(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,e=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await A0(n,{method:"GET"})).data},updateFleet:async(r,e)=>(await A0(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteFleet:async r=>{await A0(`/fleets/${r}`,{method:"DELETE"})}},nte=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=mp(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[h,d]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const le=(await $a.getAllCompanies(!0)).map(z=>({id:z.id,companyCode:z.companyCode,companyName:z.companyName,status:z.status}));f(le)}catch(O){console.error("Error loading companies:",O)}},C=async()=>{m(!0),y(null);try{const le=(await Ih.getAllFleets(void 0,!0)).map(z=>{const R=A.find(ie=>ie.id===z.companyId);return{id:z.id,companyName:(R==null?void 0:R.companyName)||"Unknown Company",vehicleNum:z.vehicleNum,capacity:z.capacity||"",vehMake:z.vehMake||"",vehModel:z.vehModel||"",mfgYear:z.mfgYear||"",nextFCDate:z.nextFCDate||"",pucDateValidUpto:z.pucDateValidUpto||"",insuranceValidUpto:z.insuranceValidUpto||"",ownerName:z.ownerName||"",ownerContact:z.ownerContact||"",ownerEmail:z.ownerEmail||"",ownerPAN:z.ownerPAN||"",ownerAadhaar:z.ownerAadhaar||"",pymtToName:z.pymtToName||"",pymtBankName:z.pymtBankName||"",pymtAccNum:z.pymtAccNum||"",pymtIFSCode:z.pymtIFSCode||"",pymtBranch:z.pymtBranch||"",contractAmount:z.contractAmount||"",tdsExemption:z.tdsExemption||!1,status:z.status,createdBy:z.createdBy||"",createdOn:z.createdOn,modifiedBy:z.modifiedBy||"",modifiedOn:z.modifiedOn}});d(le)}catch(O){const le=O instanceof Error?O.message:"Failed to load fleets";y(le),console.error("Error loading fleets:",O),d([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&C()},[A.length]);const k=h.filter(O=>O.companyName.toLowerCase().includes(i.toLowerCase())||O.vehicleNum.toLowerCase().includes(i.toLowerCase())||O.vehMake.toLowerCase().includes(i.toLowerCase())||O.vehModel.toLowerCase().includes(i.toLowerCase())||O.ownerName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},q=O=>{o(O),l(!0)},te=async O=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await Ih.deleteFleet(O),await C(),alert("Fleet deleted successfully")}catch(le){const z=le instanceof Error?le.message:"Failed to delete fleet";alert(`Error: ${z}`),console.error("Error deleting fleet:",le)}finally{m(!1)}},K=async O=>{try{m(!0),y(null);const le=A.find(z=>z.companyName===O.companyName);if(!le){alert("Please select a valid company");return}if(u)await Ih.updateFleet(u.id,{capacity:O.capacity,vehMake:O.vehMake,vehModel:O.vehModel,mfgYear:O.mfgYear,nextFCDate:O.nextFCDate,pucDateValidUpto:O.pucDateValidUpto,insuranceValidUpto:O.insuranceValidUpto,ownerName:O.ownerName,ownerContact:O.ownerContact,ownerEmail:O.ownerEmail,ownerPAN:O.ownerPAN,ownerAadhaar:O.ownerAadhaar,pymtToName:O.pymtToName,pymtBankName:O.pymtBankName,pymtAccNum:O.pymtAccNum,pymtIFSCode:O.pymtIFSCode,pymtBranch:O.pymtBranch,contractAmount:O.contractAmount,tdsExemption:O.tdsExemption,status:O.status}),alert("Fleet updated successfully");else{if(!O.vehicleNum||!O.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Ih.createFleet({companyId:le.id,vehicleNum:O.vehicleNum,capacity:O.capacity,vehMake:O.vehMake,vehModel:O.vehModel,mfgYear:O.mfgYear,nextFCDate:O.nextFCDate,pucDateValidUpto:O.pucDateValidUpto,insuranceValidUpto:O.insuranceValidUpto,ownerName:O.ownerName,ownerContact:O.ownerContact,ownerEmail:O.ownerEmail,ownerPAN:O.ownerPAN,ownerAadhaar:O.ownerAadhaar,pymtToName:O.pymtToName,pymtBankName:O.pymtBankName,pymtAccNum:O.pymtAccNum,pymtIFSCode:O.pymtIFSCode,pymtBranch:O.pymtBranch,contractAmount:O.contractAmount,tdsExemption:O.tdsExemption}),alert("Fleet created successfully")}l(!1),o(null),await C()}catch(le){const z=le instanceof Error?le.message:"Failed to save fleet";y(z),alert(`Error: ${z}`),console.error("Error saving fleet:",le)}finally{m(!1)}},X=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:X.map(O=>t.jsx("li",{children:t.jsxs(Zr,{to:O.path,className:`nav-link ${O.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:O.icon}),!b&&t.jsx("span",{className:"nav-label",children:O.label})]})},O.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Fleet Management"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading fleets..."}),t.jsxs("div",{className:"fleet-management-page",children:[t.jsx("div",{className:"fleet-management-header",children:t.jsx("h1",{className:"fleet-management-title",children:"Fleet Management"})}),t.jsxs("div",{className:"fleet-management-actions",children:[t.jsxs("div",{className:"fleet-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"fleet-search-input",placeholder:"Search Fleet...",value:i,onChange:O=>s(O.target.value)})]}),a&&t.jsxs("button",{className:"add-fleet-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]}),t.jsx("div",{className:"fleet-table-container",children:t.jsxs("table",{className:"fleet-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"empty-message",children:"No fleet records found"})}):k.map(O=>t.jsxs("tr",{children:[t.jsx("td",{children:O.companyName||"-"}),t.jsx("td",{children:O.vehicleNum||"-"}),t.jsx("td",{children:O.vehMake||"-"}),t.jsx("td",{children:O.vehModel||"-"}),t.jsx("td",{children:O.capacity||"-"}),t.jsx("td",{children:O.ownerName||"-"}),t.jsx("td",{children:O.ownerContact||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${O.status.toLowerCase()}`,children:O.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>q(O),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(O.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},O.id))})]})}),t.jsxs("div",{className:"fleet-pagination-info",children:["Showing ",k.length," of ",h.length," Items"]})]})]}),c&&t.jsx(ate,{fleet:u,companies:A.filter(O=>O.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},ate=({fleet:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"fleet-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Number *"}),t.jsx("input",{type:"text",value:i.vehicleNum||"",onChange:l=>s({...i,vehicleNum:l.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Capacity *"}),t.jsx("input",{type:"text",value:i.capacity||"",onChange:l=>s({...i,capacity:l.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Make *"}),t.jsx("input",{type:"text",value:i.vehMake||"",onChange:l=>s({...i,vehMake:l.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle Model *"}),t.jsx("input",{type:"text",value:i.vehModel||"",onChange:l=>s({...i,vehModel:l.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Manufacturing Year"}),t.jsx("input",{type:"text",value:i.mfgYear||"",onChange:l=>s({...i,mfgYear:l.target.value}),placeholder:"e.g., 2020"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Next FC Date"}),t.jsx("input",{type:"date",value:i.nextFCDate||"",onChange:l=>s({...i,nextFCDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"PUC Date Valid Upto"}),t.jsx("input",{type:"date",value:i.pucDateValidUpto||"",onChange:l=>s({...i,pucDateValidUpto:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Insurance Valid Upto"}),t.jsx("input",{type:"date",value:i.insuranceValidUpto||"",onChange:l=>s({...i,insuranceValidUpto:l.target.value})})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Owner Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Name *"}),t.jsx("input",{type:"text",value:i.ownerName||"",onChange:l=>s({...i,ownerName:l.target.value}),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Contact *"}),t.jsx("input",{type:"tel",value:i.ownerContact||"",onChange:l=>s({...i,ownerContact:l.target.value}),required:!0,placeholder:"+91-9876543210"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Email"}),t.jsx("input",{type:"email",value:i.ownerEmail||"",onChange:l=>s({...i,ownerEmail:l.target.value}),placeholder:"owner@example.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner PAN"}),t.jsx("input",{type:"text",value:i.ownerPAN||"",onChange:l=>s({...i,ownerPAN:l.target.value}),placeholder:"ABCDE1234F"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Owner Aadhaar"}),t.jsx("input",{type:"text",value:i.ownerAadhaar||"",onChange:l=>s({...i,ownerAadhaar:l.target.value}),placeholder:"1234-5678-9012"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment To Name"}),t.jsx("input",{type:"text",value:i.pymtToName||"",onChange:l=>s({...i,pymtToName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.pymtBankName||"",onChange:l=>s({...i,pymtBankName:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Account Number"}),t.jsx("input",{type:"text",value:i.pymtAccNum||"",onChange:l=>s({...i,pymtAccNum:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IFSC Code"}),t.jsx("input",{type:"text",value:i.pymtIFSCode||"",onChange:l=>s({...i,pymtIFSCode:l.target.value}),placeholder:"SBIN0001234"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Branch"}),t.jsx("input",{type:"text",value:i.pymtBranch||"",onChange:l=>s({...i,pymtBranch:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Amount"}),t.jsx("input",{type:"text",value:i.contractAmount||"",onChange:l=>s({...i,contractAmount:l.target.value}),placeholder:"Enter amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"TDS Exemption"}),t.jsxs("select",{value:i.tdsExemption?"true":"false",onChange:l=>s({...i,tdsExemption:l.target.value==="true"}),children:[t.jsx("option",{value:"false",children:"No"}),t.jsx("option",{value:"true",children:"Yes"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ite=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},f0=async(r,e={})=>{const n=ite(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},L0={createRouteHcfMapping:async r=>(await f0("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await f0(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,e,n,a=!1)=>{let i="/route-hcf-mappings";const s=new URLSearchParams;return r&&s.append("routeId",r),e&&s.append("hcfId",e),n&&s.append("companyId",n),a&&s.append("activeOnly","true"),s.toString()&&(i+=`?${s.toString()}`),(await f0(i,{method:"GET"})).data},updateRouteHcfMapping:async(r,e)=>(await f0(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteHcfMapping:async r=>{await f0(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},ste=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=mp(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[h,d]=P.useState(!1),[A,f]=P.useState(null),[g,m]=P.useState(null),[x,y]=P.useState(!1),b=()=>{y(!x)},[w,N]=P.useState([]),[S,C]=P.useState([]),[k,W]=P.useState([]),[q,te]=P.useState([]),K=P.useCallback(async()=>{try{const Ne=(await $a.getAllCompanies(!0)).map(ce=>({id:ce.id,companyCode:ce.companyCode,companyName:ce.companyName,status:ce.status}));N(Ne)}catch(Y){console.error("Error loading companies:",Y)}},[]),X=P.useCallback(async()=>{try{const Y=await rf.getAllRoutes(!0),Ne=await Promise.all(Y.map(async ce=>{const ae=w.find(Ce=>Ce.id===ce.companyId);return{id:ce.id,routeCode:ce.routeCode,routeName:ce.routeName,companyName:(ae==null?void 0:ae.companyName)||"Unknown",status:ce.status}}));C(Ne)}catch(Y){console.error("Error loading routes:",Y)}},[w]),O=P.useCallback(async()=>{try{const Y=await ks.getAllHcfs(void 0,!0),Ne=await Promise.all(Y.map(async ce=>{const ae=w.find(Ce=>Ce.id===ce.companyId);return{id:ce.id,hcfCode:ce.hcfCode,hcfName:ce.hcfName,companyName:(ae==null?void 0:ae.companyName)||"Unknown",status:ce.status}}));W(Ne)}catch(Y){console.error("Error loading HCFs:",Y)}},[w]),le=P.useCallback(async()=>{d(!0),f(null);try{const Ne=(await L0.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(ce=>{const ae=S.find(we=>we.id===ce.routeId),Ce=k.find(we=>we.id===ce.hcfId),Ee=w.find(we=>we.id===ce.companyId);return{id:ce.id,routeId:ce.routeId,routeCode:(ae==null?void 0:ae.routeCode)||"",routeName:(ae==null?void 0:ae.routeName)||"",hcfId:ce.hcfId,hcfCode:(Ce==null?void 0:Ce.hcfCode)||"",hcfName:(Ce==null?void 0:Ce.hcfName)||"",companyId:ce.companyId,companyName:(Ee==null?void 0:Ee.companyName)||"Unknown",sequenceOrder:ce.sequenceOrder,status:ce.status,createdBy:ce.createdBy,createdOn:ce.createdOn,modifiedBy:ce.modifiedBy,modifiedOn:ce.modifiedOn}});te(Ne)}catch(Y){const Ne=Y instanceof Error?Y.message:"Failed to load mappings";f(Ne),console.error("Error loading mappings:",Y)}finally{d(!1)}},[S,k,w]);P.useEffect(()=>{(async()=>{await K()})()},[K]),P.useEffect(()=>{w.length>0&&(X(),O())},[w,X,O]),P.useEffect(()=>{S.length>0&&k.length>0&&w.length>0&&le()},[S,k,w,le]);const z=q.filter(Y=>{var Ne,ce;return Y.routeCode.toLowerCase().includes(i.toLowerCase())||Y.hcfCode.toLowerCase().includes(i.toLowerCase())||Y.companyName.toLowerCase().includes(i.toLowerCase())||((Ne=S.find(ae=>ae.routeCode===Y.routeCode))==null?void 0:Ne.routeName.toLowerCase().includes(i.toLowerCase()))||((ce=k.find(ae=>ae.hcfCode===Y.hcfCode))==null?void 0:ce.hcfName.toLowerCase().includes(i.toLowerCase()))}),R=()=>{o(null),l(!0)},ie=Y=>{o(Y),l(!0)},Ae=async Y=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{d(!0),f(null),await L0.deleteRouteHcfMapping(Y),m("Mapping deleted successfully"),await le(),setTimeout(()=>{m(null)},3e3)}catch(Ne){let ce="Failed to delete mapping";Ne instanceof Error&&(ce=Ne.message,ce.includes("not found")?ce="This mapping could not be found. It may have already been deleted.":(ce.includes("permission")||ce.includes("unauthorized"))&&(ce="You do not have permission to delete this mapping.")),f(ce),console.error("Error deleting mapping:",Ne)}finally{d(!1)}},Oe=(Y,Ne,ce)=>{let ae="Failed to save mapping";return Y instanceof Error&&(ae=Y.message,ae.includes("already exists")||ae.includes("mapping between")?Ne&&ce?ae=`This mapping already exists: Route "${Ne.routeCode} - ${Ne.routeName}" and HCF "${ce.hcfCode} - ${ce.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:ae="This mapping already exists. Each route-HCF combination can only be mapped once.":ae.includes("not found")?ae="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":ae.includes("invalid")?ae="Invalid data provided. Please check your inputs and try again.":ae.includes("required")?ae="Please fill in all required fields.":ae.includes("permission")||ae.includes("unauthorized")?ae="You do not have permission to perform this action.":ae.includes("HTTP 409")||ae.includes("Conflict")?ae="A conflict occurred. This mapping may already exist.":ae.includes("HTTP 400")||ae.includes("Bad Request")?ae="Invalid request. Please check your inputs and try again.":(ae.includes("HTTP 500")||ae.includes("Internal Server Error"))&&(ae="An internal server error occurred. Please try again later or contact support.")),ae},be=async Y=>{try{d(!0),f(null);const Ne=w.find(Ce=>Ce.companyName===Y.companyName);if(!Ne){f("Please select a valid company");return}const ce=S.find(Ce=>Ce.routeCode===Y.routeCode&&Ce.companyName===Y.companyName);if(!ce){f("Please select a valid route");return}const ae=k.find(Ce=>Ce.hcfCode===Y.hcfCode&&Ce.companyName===Y.companyName);if(!ae){f("Please select a valid HCF");return}u?(await L0.updateRouteHcfMapping(u.id,{sequenceOrder:Y.sequenceOrder,status:Y.status}),f(null),m("Mapping updated successfully"),l(!1),o(null),await le(),setTimeout(()=>{m(null)},3e3)):(await L0.createRouteHcfMapping({routeId:ce.id,hcfId:ae.id,companyId:Ne.id,sequenceOrder:Y.sequenceOrder}),f(null),m("Mapping created successfully"),l(!1),o(null),await le(),setTimeout(()=>{m(null)},3e3))}catch(Ne){const ce=S.find(Ee=>Ee.routeCode===Y.routeCode&&Ee.companyName===Y.companyName),ae=k.find(Ee=>Ee.hcfCode===Y.hcfCode&&Ee.companyName===Y.companyName),Ce=Oe(Ne,ce,ae);f(Ce),console.error("Error saving mapping:",Ne)}finally{d(!1)}},Te=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:b,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(Y=>t.jsx("li",{children:t.jsxs(Zr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!x&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Route-HCF Mapping"})})}),g&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:g}),t.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),A&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:A}),t.jsx("button",{onClick:()=>f(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),h&&!q.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading mappings..."}),t.jsxs("div",{className:"route-hcf-mapping-page",children:[t.jsx("div",{className:"route-hcf-mapping-header",children:t.jsx("h1",{className:"route-hcf-mapping-title",children:"Route-HCF Mapping"})}),t.jsxs("div",{className:"route-hcf-mapping-actions",children:[t.jsxs("div",{className:"route-hcf-mapping-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"route-hcf-mapping-search-input",placeholder:"Search Mapping...",value:i,onChange:Y=>s(Y.target.value)})]}),a&&t.jsxs("button",{className:"add-mapping-btn",onClick:R,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]}),t.jsx("div",{className:"route-hcf-mapping-table-container",children:t.jsxs("table",{className:"route-hcf-mapping-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No mapping records found"})}):z.map(Y=>t.jsxs("tr",{children:[t.jsx("td",{children:Y.companyName||"-"}),t.jsx("td",{children:Y.routeCode?`${Y.routeCode} - ${Y.routeName}`:"-"}),t.jsx("td",{children:Y.hcfCode?`${Y.hcfCode} - ${Y.hcfName}`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${Y.status.toLowerCase()}`,children:Y.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ie(Y),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ae(Y.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Y.id))})]})}),t.jsxs("div",{className:"route-hcf-mapping-pagination-info",children:["Showing ",z.length," of ",q.length," Items"]})]})]}),c&&t.jsx(ote,{mapping:u,companies:w.filter(Y=>Y.status==="Active"),routes:S.filter(Y=>Y.status==="Active"),hcfs:k.filter(Y=>Y.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:be})]})},ote=({mapping:r,companies:e,routes:n,hcfs:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),u=c.companyName?n.filter(d=>d.companyName===c.companyName):n,o=c.companyName?a.filter(d=>d.companyName===c.companyName):a,h=d=>{d.preventDefault(),s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"mapping-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:d=>{l({...c,companyName:d.target.value,routeCode:"",hcfCode:""})},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsx("option",{value:d.companyName,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route Code *"}),t.jsxs("select",{value:c.routeCode||"",onChange:d=>l({...c,routeCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select Route"}),u.map(d=>t.jsxs("option",{value:d.routeCode,children:[d.routeCode," - ",d.routeName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:d=>l({...c,hcfCode:d.target.value}),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),o.map(d=>t.jsxs("option",{value:d.hcfCode,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Active",onChange:d=>l({...c,status:d.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},lte=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=mp(e),[i,s]=P.useState(""),[c,l]=P.useState(!1),[u,o]=P.useState(null),[h,d]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),N=()=>{w(!b)},S=async()=>{try{const le=(await $a.getAllCompanies(!0)).map(z=>({id:z.id,companyCode:z.companyCode,companyName:z.companyName,status:z.status}));f(le)}catch(O){console.error("Error loading companies:",O)}},C=async()=>{m(!0),y(null);try{const le=(await Kp.getAllFrequencies(void 0,!0)).map(z=>{const R=A.find(ie=>ie.id===z.companyId);return{id:z.id,frequencyCode:z.frequencyCode,frequencyName:z.frequencyName,companyName:(R==null?void 0:R.companyName)||"Unknown Company",status:z.status,createdBy:z.createdBy||"",createdOn:z.createdOn,modifiedBy:z.modifiedBy||"",modifiedOn:z.modifiedOn}});d(le)}catch(O){const le=O instanceof Error?O.message:"Failed to load frequencies";y(le),console.error("Error loading frequencies:",O),d([])}finally{m(!1)}};P.useEffect(()=>{(async()=>{await S()})()},[]),P.useEffect(()=>{A.length>0&&C()},[A.length]);const k=h.filter(O=>O.companyName.toLowerCase().includes(i.toLowerCase())||O.frequencyCode.toLowerCase().includes(i.toLowerCase())||O.frequencyName.toLowerCase().includes(i.toLowerCase())),W=()=>{o(null),l(!0)},q=O=>{o(O),l(!0)},te=async O=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await Kp.deleteFrequency(O),await C(),alert("Frequency deleted successfully")}catch(le){const z=le instanceof Error?le.message:"Failed to delete frequency";alert(`Error: ${z}`),console.error("Error deleting frequency:",le)}finally{m(!1)}},K=async O=>{try{m(!0),y(null);const le=A.find(z=>z.companyName===O.companyName);if(!le){alert("Please select a valid company");return}if(u)await Kp.updateFrequency(u.id,{status:O.status}),alert("Frequency updated successfully");else{if(!O.frequencyCode||!O.frequencyName||!O.companyName){alert("Please fill in all required fields");return}await Kp.createFrequency({frequencyCode:O.frequencyCode,frequencyName:O.frequencyName,companyId:le.id}),alert("Frequency created successfully")}l(!1),o(null),await C()}catch(le){const z=le instanceof Error?le.message:"Failed to save frequency";y(z),alert(`Error: ${z}`),console.error("Error saving frequency:",le)}finally{m(!1)}},X=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:N,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:X.map(O=>t.jsx("li",{children:t.jsxs(Zr,{to:O.path,className:`nav-link ${O.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:O.icon}),!b&&t.jsx("span",{className:"nav-label",children:O.label})]})},O.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Masters / Frequency Master"})})}),x&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc"},children:x}),g&&!h.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading frequencies..."}),t.jsxs("div",{className:"frequency-master-page",children:[t.jsx("div",{className:"frequency-master-header",children:t.jsx("h1",{className:"frequency-master-title",children:"Frequency Master"})}),t.jsxs("div",{className:"frequency-master-actions",children:[t.jsxs("div",{className:"frequency-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"frequency-search-input",placeholder:"Search Frequency...",value:i,onChange:O=>s(O.target.value)})]}),a&&t.jsxs("button",{className:"add-frequency-btn",onClick:W,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]}),t.jsx("div",{className:"frequency-table-container",children:t.jsxs("table",{className:"frequency-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Frequency Code"}),t.jsx("th",{children:"Frequency Name"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"empty-message",children:"No frequency records found"})}):k.map(O=>t.jsxs("tr",{children:[t.jsx("td",{children:O.companyName||"-"}),t.jsx("td",{children:O.frequencyCode||"-"}),t.jsx("td",{children:O.frequencyName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${O.status.toLowerCase()}`,children:O.status})}),t.jsxs("td",{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>q(O),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(O.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},O.id))})]})}),t.jsxs("div",{className:"frequency-pagination-info",children:["Showing ",k.length," of ",h.length," Items"]})]})]}),c&&t.jsx(cte,{frequency:u,companies:A.filter(O=>O.status==="Active"),onClose:()=>{l(!1),o(null)},onSave:K})]})},cte=({frequency:r,companies:e,onClose:n,onSave:a})=>{const[i,s]=P.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"frequency-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:i.companyName||"",onChange:l=>s({...i,companyName:l.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(l=>t.jsx("option",{value:l.companyName,children:l.companyName},l.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Code *"}),t.jsx("input",{type:"text",value:i.frequencyCode||"",onChange:l=>s({...i,frequencyCode:l.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Frequency Name *"}),t.jsx("input",{type:"text",value:i.frequencyName||"",onChange:l=>s({...i,frequencyName:l.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:i.status||"Active",onChange:l=>s({...i,status:l.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ute="http://localhost:3000/api/v1",dte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},p0=async(r,e={})=>{const n=dte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${ute}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},m0={createRouteAssignment:async r=>(await p0("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await p0(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,e,n)=>{let a="/route-assignments";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("date",e),n&&i.append("status",n),i.toString()&&(a+=`?${i.toString()}`),(await p0(a,{method:"GET"})).data},updateRouteAssignment:async(r,e)=>(await p0(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteRouteAssignment:async r=>{await p0(`/route-assignments/${r}`,{method:"DELETE"})}},hte=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState("all"),[o,h]=P.useState(!1),[d,A]=P.useState(null),[f,g]=P.useState(!1),[m,x]=P.useState(null),[y,b]=P.useState(null),[w,N]=P.useState([]),[S,C]=P.useState([]),[k,W]=P.useState([]),[q,te]=P.useState([]),[K,X]=P.useState([]),[O,le]=P.useState([]),[z,R]=P.useState([]),ie=P.useCallback(async()=>{try{const je=(await $a.getAllCompanies(!0)).map(Pe=>({id:Pe.id,companyCode:Pe.companyCode,companyName:Pe.companyName,status:Pe.status}));N(je)}catch(J){console.error("Error loading companies:",J)}},[]),Ae=P.useCallback(async J=>{try{const Pe=(await rf.getAllRoutes(J,!0)).map(Le=>({id:Le.id,routeCode:Le.routeCode,routeName:Le.routeName,companyId:Le.companyId,status:Le.status}));C(Pe)}catch(je){console.error("Error loading routes:",je)}},[]),Oe=P.useCallback(async J=>{try{const Pe=(await Ih.getAllFleets(J,!0)).map(Le=>({id:Le.id,vehicleNum:Le.vehicleNum,companyId:Le.companyId,status:Le.status}));W(Pe)}catch(je){console.error("Error loading vehicles:",je)}},[]),be=P.useCallback(async J=>{if(!J){te([]),X([]),le([]);return}try{const Le=(await zl.getUsersByCompany(J)).map(Ie=>({id:Ie.userId,userName:Ie.userName,employeeCode:Ie.employeeCode,companyId:Ie.companyId,status:Ie.status})).filter(Ie=>Ie.status==="Active");te(Le),X(Le),le(Le)}catch(je){console.error("Error loading users:",je),te([]),X([]),le([])}},[]),Te=P.useCallback(async()=>{g(!0),x(null);try{const J=await m0.getAllRouteAssignments(void 0,s,l!=="all"?l:void 0),je=await Promise.all(J.map(async Pe=>{const Le=S.find(Ft=>Ft.id===Pe.routeId),Ie=k.find(Ft=>Ft.id===Pe.vehicleId),pe=q.find(Ft=>Ft.id===Pe.driverId),ke=Pe.pickerId?K.find(Ft=>Ft.id===Pe.pickerId):null,Ye=Pe.supervisorId?O.find(Ft=>Ft.id===Pe.supervisorId):null,wt=w.find(Ft=>Ft.id===Pe.companyId);return{id:Pe.id,assignmentDate:Pe.assignmentDate,routeId:Pe.routeId,routeCode:(Le==null?void 0:Le.routeCode)||"",routeName:(Le==null?void 0:Le.routeName)||"",vehicleId:Pe.vehicleId,vehicleNum:(Ie==null?void 0:Ie.vehicleNum)||"",driverId:Pe.driverId,driverName:(pe==null?void 0:pe.userName)||"",pickerId:Pe.pickerId,pickerName:ke==null?void 0:ke.userName,supervisorId:Pe.supervisorId,supervisorName:Ye==null?void 0:Ye.userName,companyId:Pe.companyId,companyName:(wt==null?void 0:wt.companyName)||"Unknown",status:Pe.status,notes:Pe.notes,createdBy:Pe.createdBy,createdOn:Pe.createdOn,modifiedBy:Pe.modifiedBy,modifiedOn:Pe.modifiedOn}}));R(je)}catch(J){const je=J instanceof Error?J.message:"Failed to load assignments";x(je),console.error("Error loading assignments:",J)}finally{g(!1)}},[s,l,S,k,q,K,O,w]);P.useEffect(()=>{(async()=>{await ie()})()},[ie]),P.useEffect(()=>{w.length>0&&(Ae(),Oe())},[w,Ae,Oe]),P.useEffect(()=>{S.length>0&&k.length>0&&Te()},[s,l,S,k,q,K,O,w,Te]);const Y=z.filter(J=>J.routeCode.toLowerCase().includes(a.toLowerCase())||J.routeName.toLowerCase().includes(a.toLowerCase())||J.vehicleNum.toLowerCase().includes(a.toLowerCase())||J.driverName.toLowerCase().includes(a.toLowerCase())||J.companyName.toLowerCase().includes(a.toLowerCase())),Ne=()=>{A(null),h(!0)},ce=J=>{if(J.status==="In Progress"||J.status==="Completed"){x("Cannot edit assignments that are In Progress or Completed");return}A(J),h(!0)},ae=async J=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{g(!0),x(null),await m0.deleteRouteAssignment(J),b("Assignment deleted successfully"),await Te(),setTimeout(()=>b(null),3e3)}catch(je){const Pe=je instanceof Error?je.message:"Failed to delete assignment";x(Pe),console.error("Error deleting assignment:",je)}finally{g(!1)}},Ce=async J=>{try{if(g(!0),x(null),d)await m0.updateRouteAssignment(d.id,{status:J.status,pickerId:J.pickerId,supervisorId:J.supervisorId,notes:J.notes}),b("Assignment updated successfully");else{const je=w.find(Pe=>Pe.id===J.companyId);if(!je){x("Please select a valid company");return}await m0.createRouteAssignment({assignmentDate:s,routeId:J.routeId,vehicleId:J.vehicleId,driverId:J.driverId,pickerId:J.pickerId,supervisorId:J.supervisorId,companyId:je.id,status:J.status||"Draft",notes:J.notes}),b("Assignment created successfully")}h(!1),A(null),await Te(),setTimeout(()=>b(null),3e3)}catch(je){const Pe=je instanceof Error?je.message:"Failed to save assignment";x(Pe),console.error("Error saving assignment:",je)}finally{g(!1)}},Ee=async(J,je)=>{try{g(!0),x(null),await m0.updateRouteAssignment(J.id,{status:je}),b(`Assignment status changed to ${je}`),await Te(),setTimeout(()=>b(null),3e3)}catch(Pe){const Le=Pe instanceof Error?Pe.message:"Failed to update status";x(Le),console.error("Error updating status:",Pe)}finally{g(!1)}},we=J=>{switch(J){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},me=J=>J.status==="Draft"||J.status==="Assigned",se=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:se.map(J=>t.jsx("li",{children:t.jsxs(Zr,{to:J.path,className:`nav-link ${J.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:J.icon}),t.jsx("span",{className:"nav-label",children:J.label})]})},J.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Route Assignment"})})}),y&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),m&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:m}),t.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),f&&!z.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),t.jsxs("div",{className:"route-assignment-page",children:[t.jsx("div",{className:"route-assignment-header",children:t.jsx("h1",{className:"route-assignment-title",children:"Route Assignment"})}),t.jsxs("div",{className:"route-assignment-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"assignment-date",children:"Assignment Date"}),t.jsx("input",{id:"assignment-date",type:"date",value:s,onChange:J=>c(J.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:J=>u(J.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by route, vehicle, driver...",value:a,onChange:J=>i(J.target.value),className:"search-input"})]})]}),t.jsxs("button",{className:"add-assignment-btn",onClick:Ne,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]}),t.jsx("div",{className:"route-assignment-table-container",children:t.jsxs("table",{className:"route-assignment-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Route"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Driver"}),t.jsx("th",{children:"Picker"}),t.jsx("th",{children:"Supervisor"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Y.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:f?"Loading...":"No assignments found for the selected date"})}):Y.map(J=>t.jsxs("tr",{className:me(J)?"":"read-only-row",children:[t.jsx("td",{children:new Date(J.assignmentDate).toLocaleDateString()}),t.jsx("td",{children:t.jsxs("div",{className:"route-info",children:[t.jsx("span",{className:"route-code",children:J.routeCode}),t.jsx("span",{className:"route-name",children:J.routeName})]})}),t.jsx("td",{children:J.vehicleNum}),t.jsx("td",{children:J.driverName}),t.jsx("td",{children:J.pickerName||"-"}),t.jsx("td",{children:J.supervisorName||"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${we(J.status)}`,children:J.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[me(J)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ce(J),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>ae(J.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),J.status==="Assigned"&&t.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ee(J,"In Progress"),title:"Start Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),J.status==="In Progress"&&t.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ee(J,"Completed"),title:"Complete Route",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!me(J)&&t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ce(J),title:"View (Read-only)",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},J.id))})]})}),t.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",Y.length," of ",z.length," Items"]})]})]}),o&&t.jsx(Ate,{assignment:d,companies:w.filter(J=>J.status==="Active"),routes:S.filter(J=>J.status==="Active"),vehicles:k.filter(J=>J.status==="Active"),drivers:q,pickers:K,supervisors:O,selectedDate:s,onLoadUsers:be,onClose:()=>{h(!1),A(null)},onSave:Ce})]})},Ate=({assignment:r,companies:e,routes:n,vehicles:a,drivers:i,pickers:s,supervisors:c,selectedDate:l,onLoadUsers:u,onClose:o,onSave:h})=>{const[d,A]=P.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),f=r&&(r.status==="In Progress"||r.status==="Completed");P.useEffect(()=>{d.companyId&&!r&&u(d.companyId)},[d.companyId,r,u]);const g=d.companyId?n.filter(N=>N.companyId===d.companyId):n,m=d.companyId?a.filter(N=>N.companyId===d.companyId):a,x=d.companyId?i.filter(N=>N.companyId===d.companyId):i,y=d.companyId?s.filter(N=>N.companyId===d.companyId):s,b=d.companyId?c.filter(N=>N.companyId===d.companyId):c,w=N=>{N.preventDefault(),h(d)};return t.jsx("div",{className:"modal-overlay",onClick:o,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?f?"View Assignment":"Edit Assignment":"Add Assignment"}),t.jsx("button",{className:"modal-close-btn",onClick:o,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"assignment-form",onSubmit:w,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Assignment Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Assignment Date *"}),t.jsx("input",{type:"date",value:r?r.assignmentDate:l,disabled:!0,className:"form-input"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:d.companyId||"",onChange:async N=>{const S=N.target.value;A({...d,companyId:S,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),S&&await u(S)},required:!0,disabled:!!r||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(N=>t.jsx("option",{value:N.id,children:N.companyName},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Route *"}),t.jsxs("select",{value:d.routeId||"",onChange:N=>A({...d,routeId:N.target.value}),required:!0,disabled:!d.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Route"}),g.map(N=>t.jsxs("option",{value:N.id,children:[N.routeCode," - ",N.routeName]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Vehicle *"}),t.jsxs("select",{value:d.vehicleId||"",onChange:N=>A({...d,vehicleId:N.target.value}),required:!0,disabled:!d.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Vehicle"}),m.map(N=>t.jsx("option",{value:N.id,children:N.vehicleNum},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Driver *"}),t.jsxs("select",{value:d.driverId||"",onChange:N=>A({...d,driverId:N.target.value}),required:!0,disabled:!d.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Driver"}),x.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Picker"}),t.jsxs("select",{value:d.pickerId||"",onChange:N=>A({...d,pickerId:N.target.value||null}),disabled:!d.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Supervisor"}),t.jsxs("select",{value:d.supervisorId||"",onChange:N=>A({...d,supervisorId:N.target.value||null}),disabled:!d.companyId||f,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),b.map(N=>t.jsxs("option",{value:N.id,children:[N.userName," ",N.employeeCode?`(${N.employeeCode})`:""]},N.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:d.status||"Draft",onChange:N=>A({...d,status:N.target.value}),disabled:f,className:"form-select",children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Assigned",children:"Assigned"}),r&&t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:d.notes||"",onChange:N=>A({...d,notes:N.target.value||null}),disabled:f,rows:3,className:"form-textarea",placeholder:"Additional notes or instructions..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:o,children:f?"Close":"Cancel"}),!f&&t.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Create"})]})]})]})})},fte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Df=async(r,e={})=>{const n=fte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${pA}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},dA={lookupBarcode:async r=>(await Df(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await Df("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await Df(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,e,n,a,i,s)=>{let c="/waste-collections";const l=new URLSearchParams;return r&&l.append("companyId",r),e&&l.append("hcfId",e),n&&l.append("date",n),a&&l.append("endDate",a),i&&l.append("status",i),s&&l.append("routeAssignmentId",s),l.toString()&&(c+=`?${l.toString()}`),(await Df(c,{method:"GET"})).data},updateWasteCollection:async(r,e)=>(await Df(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,collectWaste:async(r,e)=>(await Df(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:e})})).data,deleteWasteCollection:async r=>{await Df(`/waste-collections/${r}`,{method:"DELETE"})}},pte=()=>{const{logout:r,user:e,permissions:n}=pa(),a=_n(),[i,s]=P.useState(""),[c,l]=P.useState(new Date().toISOString().split("T")[0]),[u,o]=P.useState("all"),[h,d]=P.useState("all"),[A,f]=P.useState(!1),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(!1),[N,S]=P.useState(null),[C,k]=P.useState(null),[W,q]=P.useState(""),[te,K]=P.useState(null),[X,O]=P.useState(!1),le=P.useRef(null),[z,R]=P.useState([]),[ie,Ae]=P.useState([]),Oe=P.useCallback(async()=>{try{const J=(await $a.getAllCompanies(!0)).map(je=>({id:je.id,companyCode:je.companyCode,companyName:je.companyName,status:je.status}));R(J)}catch(se){console.error("Error loading companies:",se)}},[]),be=P.useCallback(async()=>{w(!0),S(null);try{const se=await dA.getAllWasteCollections(void 0,void 0,c,void 0,u!=="all"?u:void 0),J=await Promise.all(se.map(async je=>{const Pe=z.find(pe=>pe.id===je.companyId);let Le="",Ie="";try{const pe=await ks.getHcfById(je.hcfId);Le=pe.hcfCode,Ie=pe.hcfName}catch(pe){console.error("Error loading HCF:",pe)}return{id:je.id,barcode:je.barcode,collectionDate:je.collectionDate,companyId:je.companyId,companyName:(Pe==null?void 0:Pe.companyName)||"Unknown",hcfId:je.hcfId,hcfCode:Le,hcfName:Ie,wasteColor:je.wasteColor,weightKg:je.weightKg,status:je.status,routeAssignmentId:je.routeAssignmentId,collectedBy:je.collectedBy,collectedAt:je.collectedAt,notes:je.notes,createdOn:je.createdOn}}));Ae(J)}catch(se){const J=se instanceof Error?se.message:"Failed to load collections";S(J),console.error("Error loading collections:",se)}finally{w(!1)}},[c,u,z]);P.useEffect(()=>{(async()=>{await Oe()})()},[Oe]),P.useEffect(()=>{z.length>0&&be()},[c,u,z,be]);const Te=async se=>{if(!se||se.length<5){S("Please enter a valid barcode (at least 5 characters)");return}O(!0),S(null),K(null);try{const J=await dA.lookupBarcode(se);K(J),ie.find(Pe=>Pe.barcode===se&&Pe.collectionDate===c)?(S(`Barcode ${se} has already been collected on ${c}`),K(null)):f(!0)}catch(J){const je=J instanceof Error?J.message:"Failed to lookup barcode";S(je),K(null)}finally{O(!1)}},Y=se=>{se==null||se.preventDefault(),W.trim()&&(Te(W.trim()),q(""))},Ne=async se=>{if(!te){S("Barcode lookup result is missing");return}try{w(!0),S(null),await dA.createWasteCollection({barcode:te.barcode,collectionDate:c,companyId:te.companyId,hcfId:te.hcfId,wasteColor:te.wasteColor,weightKg:se.weightKg||null,status:"Pending",notes:se.notes||null}),k("Waste collection recorded successfully"),f(!1),K(null),await be(),setTimeout(()=>k(null),3e3)}catch(J){const je=J instanceof Error?J.message:"Failed to save collection";S(je),console.error("Error saving collection:",J)}finally{w(!1)}},ce=async(se,J)=>{try{w(!0),S(null),await dA.collectWaste(se,J),k("Waste collected successfully"),await be(),setTimeout(()=>k(null),3e3)}catch(je){const Pe=je instanceof Error?je.message:"Failed to collect waste";S(Pe),console.error("Error collecting waste:",je)}finally{w(!1)}},ae=se=>{y(se),m(!0)},Ce=ie.filter(se=>{const J=se.barcode.toLowerCase().includes(i.toLowerCase())||se.hcfCode.toLowerCase().includes(i.toLowerCase())||se.hcfName.toLowerCase().includes(i.toLowerCase())||se.companyName.toLowerCase().includes(i.toLowerCase()),je=h==="all"||se.wasteColor===h;return J&&je}),Ee=se=>{switch(se){case"Pending":return"status-badge--pending";case"Collected":return"status-badge--collected";case"In Transit":return"status-badge--in-transit";case"Processed":return"status-badge--processed";case"Disposed":return"status-badge--disposed";default:return""}},we=se=>{switch(se){case"Yellow":return"color-badge--yellow";case"Red":return"color-badge--red";case"White":return"color-badge--white";default:return""}},me=qs(n,a.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:me.map(se=>t.jsx("li",{children:t.jsxs(Zr,{to:se.path,className:`nav-link ${se.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:se.icon}),t.jsx("span",{className:"nav-label",children:se.label})]})},se.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Collection"})})}),C&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:C}),t.jsx("button",{onClick:()=>k(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),N&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:N}),t.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),b&&!ie.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"waste-collection-page",children:[t.jsx("div",{className:"waste-collection-header",children:t.jsx("h1",{className:"waste-collection-title",children:"Waste Collection"})}),t.jsx("div",{className:"barcode-scanner-section",children:t.jsx("form",{onSubmit:Y,className:"barcode-scanner-form",children:t.jsxs("div",{className:"barcode-input-group",children:[t.jsx("label",{htmlFor:"barcode-input",children:"Scan Barcode"}),t.jsxs("div",{className:"barcode-input-wrapper",children:[t.jsx("input",{id:"barcode-input",ref:le,type:"text",value:W,onChange:se=>q(se.target.value),placeholder:"Scan or enter barcode...",className:"barcode-input",autoFocus:!0,disabled:X}),t.jsx("button",{type:"submit",className:"barcode-scan-btn",disabled:X||!W.trim(),children:X?t.jsx("span",{children:"Looking up..."}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"})}),"Scan"]})})]})]})})}),t.jsxs("div",{className:"waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:c,onChange:se=>l(se.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:u,onChange:se=>o(se.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Collected",children:"Collected"}),t.jsx("option",{value:"In Transit",children:"In Transit"}),t.jsx("option",{value:"Processed",children:"Processed"}),t.jsx("option",{value:"Disposed",children:"Disposed"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"color-filter",children:"Color"}),t.jsxs("select",{id:"color-filter",value:h,onChange:se=>d(se.target.value),className:"color-select",children:[t.jsx("option",{value:"all",children:"All Colors"}),t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by barcode, HCF, company...",value:i,onChange:se=>s(se.target.value),className:"search-input"})]})]})]}),t.jsx("div",{className:"waste-collection-table-container",children:t.jsxs("table",{className:"waste-collection-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Color"}),t.jsx("th",{children:"Weight (Kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ce.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:b?"Loading...":"No collections found for the selected date"})}):Ce.map(se=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(se.collectionDate).toLocaleDateString()}),t.jsx("td",{children:t.jsx("span",{className:"barcode-display",children:se.barcode})}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:se.hcfCode}),t.jsx("span",{className:"hcf-name",children:se.hcfName})]})}),t.jsx("td",{children:se.companyName}),t.jsx("td",{children:t.jsx("span",{className:`color-badge ${we(se.wasteColor)}`,children:se.wasteColor})}),t.jsx("td",{children:se.weightKg?`${se.weightKg} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${Ee(se.status)}`,children:se.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ae(se),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),se.status==="Pending"&&t.jsx("button",{className:"action-btn action-btn--collect",onClick:()=>{const J=prompt("Enter weight in kg:");J&&!isNaN(parseFloat(J))&&parseFloat(J)>0&&ce(se.id,parseFloat(J))},title:"Collect Waste",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]},se.id))})]})}),t.jsxs("div",{className:"waste-collection-pagination-info",children:["Showing ",Ce.length," of ",ie.length," Items"]})]})]}),A&&te&&t.jsx(mte,{barcodeLookup:te,collectionDate:c,onClose:()=>{f(!1),K(null)},onSave:Ne}),g&&x&&t.jsx(gte,{collection:x,onClose:()=>{m(!1),y(null)}})]})},mte=({barcodeLookup:r,collectionDate:e,onClose:n,onSave:a})=>{const[i,s]=P.useState({weightKg:null,notes:null}),c=l=>{l.preventDefault(),a(i)};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--medium",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Waste Collection"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"collection-form",onSubmit:c,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Barcode Information"}),t.jsxs("div",{className:"form-grid form-grid--two-columns",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode"}),t.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("input",{type:"date",value:e,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company"}),t.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF"}),t.jsx("input",{type:"text",value:`${r.hcfCode} - ${r.hcfName}`,disabled:!0,className:"form-input form-input--readonly"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"form-input form-input--readonly"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Collection Details"}),t.jsx("div",{className:"form-grid form-grid--two-columns",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (Kg) *"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:i.weightKg||"",onChange:l=>s({...i,weightKg:parseFloat(l.target.value)||null}),required:!0,className:"form-input",placeholder:"Enter weight"})]})}),t.jsxs("div",{className:"form-group form-group--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),rows:3,className:"form-textarea",placeholder:"Additional notes or observations..."})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Record Collection"})]})]})]})})},gte=({collection:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Collection Details"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"collection-detail-content",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Barcode"}),t.jsx("span",{children:r.barcode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date"}),t.jsx("span",{children:new Date(r.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:r.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Code"}),t.jsx("span",{children:r.hcfCode})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF Name"}),t.jsx("span",{children:r.hcfName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Waste Color"}),t.jsx("span",{className:`color-badge ${r.wasteColor.toLowerCase()}`,children:r.wasteColor})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Collection Details"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Weight"}),t.jsx("span",{children:r.weightKg?`${r.weightKg} kg`:"Not recorded"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`status-badge ${r.status.toLowerCase().replace(" ","-")}`,children:r.status})]}),r.collectedBy&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected By"}),t.jsx("span",{children:r.collectedBy})]}),r.collectedAt&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collected At"}),t.jsx("span",{children:new Date(r.collectedAt).toLocaleString()})]}),r.notes&&t.jsxs("div",{className:"detail-item detail-item--full-width",children:[t.jsx("label",{children:"Notes"}),t.jsx("span",{children:r.notes})]})]})]}),t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{className:"detail-section-title",children:"Audit Information"}),t.jsx("div",{className:"detail-grid",children:t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Created On"}),t.jsx("span",{children:new Date(r.createdOn).toLocaleString()})]})})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,children:"Close"})})]})}),vte="http://localhost:3000/api/v1",xte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Mf=async(r,e={})=>{const n=xte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${vte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Pp={createTransaction:async r=>(await Mf("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await Mf(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,e,n,a,i)=>{let s="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),e&&c.append("hcfId",e),n&&c.append("startDate",n),a&&c.append("endDate",a),i&&c.append("status",i),c.toString()&&(s+=`?${c.toString()}`),(await Mf(s,{method:"GET"})).data},updateTransaction:async(r,e)=>(await Mf(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitTransaction:async r=>(await Mf(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await Mf(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await Mf(`/waste-transactions/${r}`,{method:"DELETE"})}},yte=()=>{var je;const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState("all"),[o,h]=P.useState(!1),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(!1),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,C]=P.useState(!1),[k,W]=P.useState(null),[q,te]=P.useState([]),[K,X]=P.useState([]),[O,le]=P.useState([]),[z,R]=P.useState([]),[ie,Ae]=P.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),Oe=P.useCallback(async()=>{try{const Pe=await $a.getAllCompanies(void 0,!0);te(Pe)}catch(Pe){console.error("Failed to load companies:",Pe),b("Failed to load companies")}},[]),be=P.useCallback(async()=>{try{const Pe=await ks.getAllHcfs(void 0,!0);X(Pe)}catch(Pe){console.error("Failed to load HCFs:",Pe),b("Failed to load HCFs")}},[]),Te=P.useCallback(async()=>{x(!0),b(null);try{const Pe=s,Le=s,Ie=await Pp.getAllTransactions(void 0,void 0,Pe,Le,l!=="all"?l:void 0),pe=await Promise.all(Ie.map(async ke=>{const Ye=q.find(Bt=>Bt.id===ke.companyId);let wt="",Ft="";try{const Bt=await ks.getHcfById(ke.hcfId);wt=Bt.hcfName,Ft=Bt.hcfCode}catch(Bt){console.error("Error loading HCF:",Bt)}return{id:ke.id,companyId:ke.companyId,companyName:(Ye==null?void 0:Ye.companyName)||"Unknown",hcfId:ke.hcfId,hcfCode:Ft,hcfName:wt,pickupDate:ke.pickupDate,isNilPickup:ke.isNilPickup,yellowBagCount:ke.yellowBagCount,redBagCount:ke.redBagCount,whiteBagCount:ke.whiteBagCount,yellowWeightKg:ke.yellowWeightKg,redWeightKg:ke.redWeightKg,whiteWeightKg:ke.whiteWeightKg,latitude:ke.latitude,longitude:ke.longitude,segregationQuality:ke.segregationQuality,status:ke.status,notes:ke.notes,createdOn:ke.createdOn}}));R(pe)}catch(Pe){const Le=Pe instanceof Error?Pe.message:"Failed to load transactions";b(Le),console.error("Error loading transactions:",Pe)}finally{x(!1)}},[s,l,q]);P.useEffect(()=>{if(ie.companyId){const Pe=K.filter(Le=>Le.companyId===ie.companyId);le(Pe),ie.hcfId&&!Pe.find(Le=>Le.id===ie.hcfId)&&Ae(Le=>({...Le,hcfId:""}))}else le([]),Ae(Pe=>({...Pe,hcfId:""}))},[ie.companyId,K]),P.useEffect(()=>{Oe(),be()},[Oe,be]),P.useEffect(()=>{q.length>0&&Te()},[s,l,q,Te]);const Y=P.useCallback(()=>{if(!navigator.geolocation){W("Geolocation is not supported by your browser");return}C(!0),W(null),navigator.geolocation.getCurrentPosition(Pe=>{Ae(Le=>({...Le,latitude:Pe.coords.latitude,longitude:Pe.coords.longitude})),C(!1),N("GPS location captured successfully"),setTimeout(()=>N(null),3e3)},Pe=>{W(`Failed to get GPS location: ${Pe.message}`),C(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),Ne=async Pe=>{if(Pe.preventDefault(),!ie.companyId||!ie.hcfId||!ie.pickupDate){b("Please fill in all required fields");return}if(!ie.isNilPickup&&ie.yellowBagCount===0&&ie.redBagCount===0&&ie.whiteBagCount===0){b("Please enter at least one bag count or select NIL pickup");return}try{if(x(!0),b(null),ie.editingId){const Le=pe=>{if(pe==null)return null;const ke=Number(pe);return isNaN(ke)?null:ke},Ie={pickupDate:ie.pickupDate,isNilPickup:ie.isNilPickup,yellowBagCount:ie.yellowBagCount,redBagCount:ie.redBagCount,whiteBagCount:ie.whiteBagCount,yellowWeightKg:Le(ie.yellowWeightKg),redWeightKg:Le(ie.redWeightKg),whiteWeightKg:Le(ie.whiteWeightKg),latitude:Le(ie.latitude),longitude:Le(ie.longitude),segregationQuality:ie.segregationQuality,notes:ie.notes};await Pp.updateTransaction(ie.editingId,Ie),N("Transaction updated successfully")}else{const Le=pe=>{if(pe==null)return null;const ke=Number(pe);return isNaN(ke)?null:ke},Ie={companyId:ie.companyId,hcfId:ie.hcfId,pickupDate:ie.pickupDate,isNilPickup:ie.isNilPickup,yellowBagCount:ie.yellowBagCount,redBagCount:ie.redBagCount,whiteBagCount:ie.whiteBagCount,yellowWeightKg:Le(ie.yellowWeightKg),redWeightKg:Le(ie.redWeightKg),whiteWeightKg:Le(ie.whiteWeightKg),latitude:Le(ie.latitude),longitude:Le(ie.longitude),segregationQuality:ie.segregationQuality,notes:ie.notes};await Pp.createTransaction(Ie),N("Transaction created successfully")}await Te(),h(!1),Ce(),setTimeout(()=>N(null),3e3)}catch(Le){const Ie=Le instanceof Error?Le.message:"Failed to save transaction";b(Ie),console.error("Error saving transaction:",Le)}finally{x(!1)}},ce=async(Pe,Le)=>{try{x(!0),b(null),Le==="submit"?(await Pp.submitTransaction(Pe),N("Transaction submitted successfully")):(await Pp.verifyTransaction(Pe),N("Transaction verified successfully")),await Te(),A(!1),setTimeout(()=>N(null),3e3)}catch(Ie){const pe=Ie instanceof Error?Ie.message:"Failed to update status";b(pe),console.error("Error updating status:",Ie)}finally{x(!1)}},ae=async Pe=>{if(confirm("Are you sure you want to delete this transaction?"))try{x(!0),b(null),await Pp.deleteTransaction(Pe),N("Transaction deleted successfully"),await Te(),A(!1),setTimeout(()=>N(null),3e3)}catch(Le){const Ie=Le instanceof Error?Le.message:"Failed to delete transaction";b(Ie),console.error("Error deleting transaction:",Le)}finally{x(!1)}},Ce=()=>{Ae({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Ee=Pe=>{if(Pe.status!=="Draft"){b("Only draft transactions can be edited");return}Ae({companyId:Pe.companyId,hcfId:Pe.hcfId,pickupDate:Pe.pickupDate.split("T")[0],isNilPickup:Pe.isNilPickup,yellowBagCount:Pe.yellowBagCount,redBagCount:Pe.redBagCount,whiteBagCount:Pe.whiteBagCount,yellowWeightKg:Pe.yellowWeightKg,redWeightKg:Pe.redWeightKg,whiteWeightKg:Pe.whiteWeightKg,latitude:Pe.latitude,longitude:Pe.longitude,segregationQuality:Pe.segregationQuality,notes:Pe.notes,editingId:Pe.id}),h(!0)},we=Pe=>{g(Pe),A(!0)},me=z.filter(Pe=>{if(!a.trim())return!0;const Le=a.toLowerCase().trim();return Pe.companyName.toLowerCase().includes(Le)||Pe.hcfName.toLowerCase().includes(Le)||Pe.hcfCode.toLowerCase().includes(Le)}),se=!ie.editingId||((je=z.find(Pe=>Pe.id===ie.editingId))==null?void 0:je.status)==="Draft",J=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:J.map(Pe=>t.jsx("li",{children:t.jsxs(Zr,{to:Pe.path,className:`nav-link ${Pe.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Pe.icon}),t.jsx("span",{className:"nav-label",children:Pe.label})]})},Pe.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Transaction Data"})})}),w&&t.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>N(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),m&&!z.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),t.jsxs("div",{className:"waste-transaction-page",children:[t.jsx("div",{className:"waste-transaction-header",children:t.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})}),t.jsxs("div",{className:"waste-transaction-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"pickup-date",children:"Pickup Date"}),t.jsx("input",{id:"pickup-date",type:"date",value:s,onChange:Pe=>c(Pe.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:Pe=>u(Pe.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company, HCF...",value:a,onChange:Pe=>i(Pe.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-transaction-btn",onClick:()=>{Ce(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),t.jsx("div",{className:"waste-transaction-table-container",children:t.jsxs("table",{className:"waste-transaction-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"NIL"}),t.jsx("th",{children:"Yellow"}),t.jsx("th",{children:"Red"}),t.jsx("th",{children:"White"}),t.jsx("th",{children:"Total Weight"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:me.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"empty-message",children:m?"Loading...":"No transactions found for the selected date"})}):me.map(Pe=>{const Le=(Number(Pe.yellowWeightKg)||0)+(Number(Pe.redWeightKg)||0)+(Number(Pe.whiteWeightKg)||0);return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(Pe.pickupDate).toLocaleDateString()}),t.jsx("td",{children:Pe.companyName}),t.jsx("td",{children:t.jsxs("div",{className:"hcf-info",children:[t.jsx("span",{className:"hcf-code",children:Pe.hcfCode}),t.jsx("span",{className:"hcf-name",children:Pe.hcfName})]})}),t.jsx("td",{children:Pe.isNilPickup?t.jsx("span",{className:"nil-badge",children:"NIL"}):t.jsx("span",{className:"pickup-badge",children:"Yes"})}),t.jsx("td",{children:Pe.yellowBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--yellow"}),Pe.yellowBagCount,Pe.yellowWeightKg&&` (${Pe.yellowWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Pe.redBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--red"}),Pe.redBagCount,Pe.redWeightKg&&` (${Pe.redWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Pe.whiteBagCount>0?t.jsxs("div",{className:"bag-info",children:[t.jsx("span",{className:"color-indicator color-indicator--white"}),Pe.whiteBagCount,Pe.whiteWeightKg&&` (${Pe.whiteWeightKg}kg)`]}):"-"}),t.jsx("td",{children:Le>0?`${Number(Le).toFixed(2)} kg`:"-"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${Pe.status.toLowerCase()}`,children:Pe.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>we(Pe),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Pe.status==="Draft"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ee(Pe),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},Pe.id)})})]})}),t.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",me.length," of ",z.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>{h(!1),Ce()},children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Pe=>Pe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:ie.editingId?"Edit Transaction":"Add Waste Transaction"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>{h(!1),Ce()},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"waste-transaction-form",onSubmit:Ne,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:ie.companyId,onChange:Pe=>Ae({...ie,companyId:Pe.target.value,hcfId:""}),required:!0,disabled:!se,children:[t.jsx("option",{value:"",children:"Select Company"}),q.map(Pe=>t.jsxs("option",{value:Pe.id,children:[Pe.companyCode," - ",Pe.companyName]},Pe.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:ie.hcfId,onChange:Pe=>Ae({...ie,hcfId:Pe.target.value}),required:!0,disabled:!ie.companyId||!se,children:[t.jsx("option",{value:"",children:"Select HCF"}),O.map(Pe=>t.jsxs("option",{value:Pe.id,children:[Pe.hcfCode," - ",Pe.hcfName]},Pe.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date *"}),t.jsx("input",{type:"date",value:ie.pickupDate,onChange:Pe=>Ae({...ie,pickupDate:Pe.target.value}),required:!0,disabled:!se})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:ie.isNilPickup,onChange:Pe=>Ae({...ie,isNilPickup:Pe.target.checked}),disabled:!se}),"NIL Pickup (No waste collected)"]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"GPS Location"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Latitude"}),t.jsx("input",{type:"number",step:"any",value:ie.latitude||"",onChange:Pe=>Ae({...ie,latitude:Pe.target.value?parseFloat(Pe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!se})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Longitude"}),t.jsx("input",{type:"number",step:"any",value:ie.longitude||"",onChange:Pe=>Ae({...ie,longitude:Pe.target.value?parseFloat(Pe.target.value):null}),placeholder:"Auto-capture or enter manually",disabled:!se})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:""}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:Y,disabled:!se||S,children:S?"Capturing...":"Capture GPS Location"}),k&&t.jsx("div",{className:"form-error",children:k})]})]})]}),!ie.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Bag Counts & Weights"}),t.jsxs("div",{className:"color-inputs-grid",children:[t.jsxs("div",{className:"color-input-group color-input-group--yellow",children:[t.jsx("h4",{className:"color-input-title",children:"Yellow Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:ie.yellowBagCount||0,onChange:Pe=>Ae({...ie,yellowBagCount:parseInt(Pe.target.value)||0}),disabled:!se})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:ie.yellowWeightKg||"",onChange:Pe=>Ae({...ie,yellowWeightKg:Pe.target.value?parseFloat(Pe.target.value):null}),placeholder:"0.00",disabled:!se})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--red",children:[t.jsx("h4",{className:"color-input-title",children:"Red Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:ie.redBagCount||0,onChange:Pe=>Ae({...ie,redBagCount:parseInt(Pe.target.value)||0}),disabled:!se})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:ie.redWeightKg||"",onChange:Pe=>Ae({...ie,redWeightKg:Pe.target.value?parseFloat(Pe.target.value):null}),placeholder:"0.00",disabled:!se})]})]}),t.jsxs("div",{className:"color-input-group color-input-group--white",children:[t.jsx("h4",{className:"color-input-title",children:"White Bags"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bag Count"}),t.jsx("input",{type:"number",min:"0",value:ie.whiteBagCount||0,onChange:Pe=>Ae({...ie,whiteBagCount:parseInt(Pe.target.value)||0}),disabled:!se})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight (kg)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:ie.whiteWeightKg||"",onChange:Pe=>Ae({...ie,whiteWeightKg:Pe.target.value?parseFloat(Pe.target.value):null}),placeholder:"0.00",disabled:!se})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Segregation Quality"}),t.jsx("div",{className:"form-group",children:t.jsxs("select",{value:ie.segregationQuality||"",onChange:Pe=>Ae({...ie,segregationQuality:Pe.target.value||null}),disabled:!se,children:[t.jsx("option",{value:"",children:"Select Quality"}),t.jsx("option",{value:"Excellent",children:"Excellent"}),t.jsx("option",{value:"Good",children:"Good"}),t.jsx("option",{value:"Fair",children:"Fair"}),t.jsx("option",{value:"Poor",children:"Poor"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Additional Notes"}),t.jsx("div",{className:"form-group",children:t.jsx("textarea",{value:ie.notes||"",onChange:Pe=>Ae({...ie,notes:Pe.target.value||null}),placeholder:"Enter any additional notes or remarks...",rows:3,disabled:!se})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>{h(!1),Ce()},disabled:m,children:"Cancel"}),se&&t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:m,children:m?"Saving...":ie.editingId?"Update":"Create"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Pe=>Pe.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Transaction Details"}),t.jsx("button",{className:"modal-close-btn",onClick:()=>A(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"transaction-details",children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Pickup Date"}),t.jsx("span",{children:new Date(f.pickupDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"HCF"}),t.jsxs("span",{children:[f.hcfCode," - ",f.hcfName]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`badge badge--${f.status.toLowerCase()}`,children:f.status})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"NIL Pickup"}),t.jsx("span",{children:f.isNilPickup?"Yes":"No"})]})]})]}),!f.isNilPickup&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Bag Counts & Weights"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Yellow Bags"}),t.jsxs("span",{children:[f.yellowBagCount," bags",f.yellowWeightKg&&` (${f.yellowWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Red Bags"}),t.jsxs("span",{children:[f.redBagCount," bags",f.redWeightKg&&` (${f.redWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"White Bags"}),t.jsxs("span",{children:[f.whiteBagCount," bags",f.whiteWeightKg&&` (${f.whiteWeightKg} kg)`]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight"}),t.jsxs("span",{children:[Number((Number(f.yellowWeightKg)||0)+(Number(f.redWeightKg)||0)+(Number(f.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),f.segregationQuality&&t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Segregation Quality"}),t.jsx("span",{children:f.segregationQuality})]})]})]}),(f.latitude||f.longitude)&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"GPS Location"}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Latitude"}),t.jsx("span",{children:f.latitude})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Longitude"}),t.jsx("span",{children:f.longitude})]})]})]})]}),f.notes&&t.jsxs("div",{className:"detail-section",children:[t.jsx("h3",{children:"Notes"}),t.jsx("p",{children:f.notes})]}),t.jsxs("div",{className:"modal-footer",children:[f.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn--secondary",onClick:()=>{Ee(f),A(!1)},children:"Edit"}),t.jsx("button",{className:"btn btn--primary",onClick:()=>ce(f.id,"submit"),disabled:m,children:"Submit"})]}),f.status==="Submitted"&&t.jsx("button",{className:"btn btn--primary",onClick:()=>ce(f.id,"verify"),disabled:m,children:"Verify"}),f.status==="Draft"&&t.jsx("button",{className:"btn btn--danger",onClick:()=>ae(f.id),disabled:m,children:"Delete"}),t.jsx("button",{className:"btn btn--secondary",onClick:()=>A(!1),children:"Close"})]})]})]})})]})},bte="http://localhost:3000/api/v1",wte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Rf=async(r,e={})=>{const n=wte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${bte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Fp={createCollection:async r=>(await Rf("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await Rf(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,e,n,a)=>{let i="/vehicle-waste-collections";const s=new URLSearchParams;return r&&s.append("vehicleId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await Rf(i,{method:"GET"})).data},updateCollection:async(r,e)=>(await Rf(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitCollection:async r=>(await Rf(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await Rf(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await Rf(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},jte=()=>{var Y,Ne;const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState("all"),[o,h]=P.useState(!1),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(!1),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,C]=P.useState([]),[k,W]=P.useState([]),[q,te]=P.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),K=P.useCallback(async()=>{try{const ce=await Ih.getAllFleets(void 0,!0);C(ce)}catch(ce){console.error("Failed to load vehicles:",ce),b("Failed to load vehicles")}},[]),X=P.useCallback(async()=>{x(!0),b(null);try{const ce=s,ae=s,Ee=(await Fp.getAllCollections(void 0,ce,ae,l!=="all"?l:void 0)).map(we=>{const me=S.find(se=>se.id===we.vehicleId);return{id:we.id,vehicleId:we.vehicleId,vehicleNum:(me==null?void 0:me.vehicleNum)||"Unknown",collectionDate:we.collectionDate,grossWeightKg:Number(we.grossWeightKg)||0,tareWeightKg:Number(we.tareWeightKg)||0,netWeightKg:Number(we.netWeightKg)||0,incinerationWeightKg:Number(we.incinerationWeightKg)||0,autoclaveWeightKg:Number(we.autoclaveWeightKg)||0,vehicleKm:we.vehicleKm!==null&&we.vehicleKm!==void 0?Number(we.vehicleKm):null,fuelUsageLiters:we.fuelUsageLiters!==null&&we.fuelUsageLiters!==void 0?Number(we.fuelUsageLiters):null,status:we.status,notes:we.notes,createdOn:we.createdOn}});W(Ee)}catch(ce){const ae=ce instanceof Error?ce.message:"Failed to load collections";b(ae),console.error("Error loading collections:",ce)}finally{x(!1)}},[s,l,S]);P.useEffect(()=>{K()},[K]),P.useEffect(()=>{S.length>0&&X()},[s,l,S,X]),P.useEffect(()=>{const ce=q.grossWeightKg-q.tareWeightKg;ce>=0&&te(ae=>({...ae,netWeightKg:ce}))},[q.grossWeightKg,q.tareWeightKg]);const O=async ce=>{if(ce.preventDefault(),!q.vehicleId){b("Please select a vehicle");return}if(q.grossWeightKg<q.tareWeightKg){b("Gross weight must be greater than or equal to tare weight");return}try{if(x(!0),b(null),q.editingId){const ae={grossWeightKg:q.grossWeightKg,tareWeightKg:q.tareWeightKg,netWeightKg:q.netWeightKg,incinerationWeightKg:q.incinerationWeightKg,autoclaveWeightKg:q.autoclaveWeightKg,vehicleKm:q.vehicleKm!==null&&q.vehicleKm!==void 0?Number(q.vehicleKm):null,fuelUsageLiters:q.fuelUsageLiters!==null&&q.fuelUsageLiters!==void 0?Number(q.fuelUsageLiters):null,notes:q.notes};await Fp.updateCollection(q.editingId,ae),N("Collection updated successfully")}else{const ae={vehicleId:q.vehicleId,collectionDate:q.collectionDate,grossWeightKg:Number(q.grossWeightKg),tareWeightKg:Number(q.tareWeightKg),netWeightKg:Number(q.netWeightKg),incinerationWeightKg:Number(q.incinerationWeightKg),autoclaveWeightKg:Number(q.autoclaveWeightKg),vehicleKm:q.vehicleKm!==null&&q.vehicleKm!==void 0?Number(q.vehicleKm):null,fuelUsageLiters:q.fuelUsageLiters!==null&&q.fuelUsageLiters!==void 0?Number(q.fuelUsageLiters):null,notes:q.notes};await Fp.createCollection(ae),N("Collection created successfully")}await X(),h(!1),Ae(),setTimeout(()=>N(null),3e3)}catch(ae){const Ce=ae instanceof Error?ae.message:"Failed to save collection";b(Ce),console.error("Error saving collection:",ae)}finally{x(!1)}},le=async(ce,ae)=>{try{x(!0),b(null),ae==="submit"?(await Fp.submitCollection(ce),N("Collection submitted successfully")):(await Fp.verifyCollection(ce),N("Collection verified successfully")),await X(),setTimeout(()=>N(null),3e3)}catch(Ce){const Ee=Ce instanceof Error?Ce.message:"Failed to update status";b(Ee),console.error("Error updating status:",Ce)}finally{x(!1)}},z=async ce=>{if(window.confirm("Are you sure you want to delete this collection?"))try{x(!0),b(null),await Fp.deleteCollection(ce),N("Collection deleted successfully"),await X(),setTimeout(()=>N(null),3e3)}catch(ae){const Ce=ae instanceof Error?ae.message:"Failed to delete collection";b(Ce),console.error("Error deleting collection:",ae)}finally{x(!1)}},R=ce=>{te({vehicleId:ce.vehicleId,collectionDate:ce.collectionDate,grossWeightKg:ce.grossWeightKg,tareWeightKg:ce.tareWeightKg,netWeightKg:ce.netWeightKg,incinerationWeightKg:ce.incinerationWeightKg,autoclaveWeightKg:ce.autoclaveWeightKg,vehicleKm:ce.vehicleKm,fuelUsageLiters:ce.fuelUsageLiters,notes:ce.notes,editingId:ce.id,editingStatus:ce.status}),h(!0)},ie=ce=>{g(ce),A(!0)},Ae=()=>{te({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},Oe=k.filter(ce=>{if(a.trim()){const ae=a.toLowerCase().trim();if(!ce.vehicleNum.toLowerCase().includes(ae))return!1}return!0}),be=ce=>{switch(ce){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},Te=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(ce=>t.jsx("li",{children:t.jsxs(Zr,{to:ce.path,className:`nav-link ${ce.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ce.icon}),t.jsx("span",{className:"nav-label",children:ce.label})]})},ce.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Vehicle Waste Collection"})})}),w&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>N(null),"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),"aria-label":"Close error message",children:""})]}),m&&!k.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),t.jsxs("div",{className:"vehicle-waste-collection-page",children:[t.jsx("div",{className:"vehicle-waste-collection-header",children:t.jsx("h1",{className:"vehicle-waste-collection-title",children:"Vehicle Waste Collection"})}),t.jsxs("div",{className:"vehicle-waste-collection-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"collection-date",children:"Collection Date"}),t.jsx("input",{id:"collection-date",type:"date",value:s,onChange:ce=>c(ce.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:ce=>u(ce.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by vehicle number...",value:a,onChange:ce=>i(ce.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-collection-btn",onClick:()=>{Ae(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),t.jsx("div",{className:"table-container",children:Oe.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No collections found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Vehicle"}),t.jsx("th",{children:"Gross Weight (kg)"}),t.jsx("th",{children:"Tare Weight (kg)"}),t.jsx("th",{children:"Net Weight (kg)"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"KM"}),t.jsx("th",{children:"Fuel (L)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Oe.map(ce=>{var ae,Ce;return t.jsxs("tr",{children:[t.jsx("td",{children:new Date(ce.collectionDate).toLocaleDateString()}),t.jsx("td",{children:ce.vehicleNum}),t.jsx("td",{children:ce.grossWeightKg.toFixed(2)}),t.jsx("td",{children:ce.tareWeightKg.toFixed(2)}),t.jsx("td",{children:ce.netWeightKg.toFixed(2)}),t.jsx("td",{children:ce.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:ce.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:((ae=ce.vehicleKm)==null?void 0:ae.toFixed(2))||"-"}),t.jsx("td",{children:((Ce=ce.fuelUsageLiters)==null?void 0:Ce.toFixed(2))||"-"}),t.jsx("td",{children:t.jsx("span",{className:be(ce.status),children:ce.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>ie(ce),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ce.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>R(ce),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>le(ce.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>z(ce.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ce.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>le(ce.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},ce.id)})})]})}),Oe.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",Oe.length," of ",k.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content",onClick:ce=>ce.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:q.editingId?"Edit Collection":"Add Collection"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:O,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleId",children:"Vehicle *"}),t.jsxs("select",{id:"vehicleId",value:q.vehicleId,onChange:ce=>te({...q,vehicleId:ce.target.value}),required:!0,disabled:!!q.editingId,children:[t.jsx("option",{value:"",children:"Select Vehicle"}),S.filter(ce=>ce.status==="Active").map(ce=>t.jsx("option",{value:ce.id,children:ce.vehicleNum},ce.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"collectionDate",children:"Collection Date *"}),t.jsx("input",{id:"collectionDate",type:"date",value:q.collectionDate,onChange:ce=>te({...q,collectionDate:ce.target.value}),required:!0,disabled:!!q.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossWeightKg",children:"Gross Weight (kg) *"}),t.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",value:q.grossWeightKg,onChange:ce=>te({...q,grossWeightKg:parseFloat(ce.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"tareWeightKg",children:"Tare Weight (kg) *"}),t.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",value:q.tareWeightKg,onChange:ce=>te({...q,tareWeightKg:parseFloat(ce.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"netWeightKg",children:"Net Weight (kg) *"}),t.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",value:q.netWeightKg.toFixed(2),readOnly:!0,className:"readonly-input"}),t.jsx("small",{children:"Auto-calculated: Gross - Tare"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",value:q.incinerationWeightKg,onChange:ce=>te({...q,incinerationWeightKg:parseFloat(ce.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",value:q.autoclaveWeightKg,onChange:ce=>te({...q,autoclaveWeightKg:parseFloat(ce.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"vehicleKm",children:"Vehicle KM"}),t.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",value:q.vehicleKm||"",onChange:ce=>te({...q,vehicleKm:ce.target.value?parseFloat(ce.target.value):null}),disabled:!!q.editingId&&q.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"fuelUsageLiters",children:"Fuel Usage (Liters)"}),t.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",value:q.fuelUsageLiters||"",onChange:ce=>te({...q,fuelUsageLiters:ce.target.value?parseFloat(ce.target.value):null}),disabled:!!q.editingId&&q.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:q.notes||"",onChange:ce=>te({...q,notes:ce.target.value||null}),disabled:q.editingId&&q.status!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:ce=>ce.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Collection Details"}),t.jsx("button",{className:"modal-close",onClick:()=>A(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle:"}),t.jsx("span",{children:f.vehicleNum})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Collection Date:"}),t.jsx("span",{children:new Date(f.collectionDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Gross Weight:"}),t.jsxs("span",{children:[f.grossWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Tare Weight:"}),t.jsxs("span",{children:[f.tareWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Net Weight:"}),t.jsxs("span",{children:[f.netWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Vehicle KM:"}),t.jsx("span",{children:((Y=f.vehicleKm)==null?void 0:Y.toFixed(2))||"-"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Fuel Usage:"}),t.jsxs("span",{children:[((Ne=f.fuelUsageLiters)==null?void 0:Ne.toFixed(2))||"-"," L"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:be(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})},Cte="http://localhost:3000/api/v1",Nte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},VA=async(r,e={})=>{const n=Nte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Cte}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"&&(s=c.message):c.error&&(s=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},Lf={createProcess:async r=>(await VA("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await VA(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,e,n,a)=>{let i="/waste-processes";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("startDate",e),n&&s.append("endDate",n),a&&s.append("status",a),s.toString()&&(i+=`?${s.toString()}`),(await VA(i,{method:"GET"})).data},updateProcess:async(r,e)=>(await VA(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,submitProcess:async r=>(await VA(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await VA(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await VA(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await VA(`/waste-processes/${r}`,{method:"DELETE"})}},Ste=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState("all"),[o,h]=P.useState(!1),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(!1),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,C]=P.useState([]),[k,W]=P.useState([]),[q,te]=P.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),K=P.useCallback(async()=>{try{const Y=await $a.getAllCompanies(void 0,!0);C(Y)}catch(Y){console.error("Failed to load companies:",Y),b("Failed to load companies")}},[]),X=P.useCallback(async()=>{x(!0),b(null);try{const Y=s,Ne=s,ae=(await Lf.getAllProcesses(void 0,Y,Ne,l!=="all"?l:void 0)).map(Ce=>{const Ee=S.find(we=>we.id===Ce.companyId);return{id:Ce.id,companyId:Ce.companyId,companyName:(Ee==null?void 0:Ee.companyName)||"Unknown",processDate:Ce.processDate,incinerationWeightKg:Number(Ce.incinerationWeightKg)||0,autoclaveWeightKg:Number(Ce.autoclaveWeightKg)||0,status:Ce.status,notes:Ce.notes,createdOn:Ce.createdOn}});W(ae)}catch(Y){const Ne=Y instanceof Error?Y.message:"Failed to load processes";b(Ne),console.error("Error loading processes:",Y)}finally{x(!1)}},[s,l,S]);P.useEffect(()=>{K()},[K]),P.useEffect(()=>{S.length>0&&X()},[s,l,S,X]);const O=async Y=>{if(Y.preventDefault(),!q.companyId){b("Please select a company");return}if(q.incinerationWeightKg<=0){b("Incineration weight must be greater than zero");return}if(q.autoclaveWeightKg<=0){b("Autoclave weight must be greater than zero");return}try{if(x(!0),b(null),q.editingId){const Ne={incinerationWeightKg:Number(q.incinerationWeightKg),autoclaveWeightKg:Number(q.autoclaveWeightKg),notes:q.notes};await Lf.updateProcess(q.editingId,Ne),N("Process updated successfully")}else{const Ne={companyId:q.companyId,processDate:q.processDate,incinerationWeightKg:Number(q.incinerationWeightKg),autoclaveWeightKg:Number(q.autoclaveWeightKg),notes:q.notes};await Lf.createProcess(Ne),N("Process created successfully")}await X(),h(!1),Ae(),setTimeout(()=>N(null),3e3)}catch(Ne){const ce=Ne instanceof Error?Ne.message:"Failed to save process";b(ce),console.error("Error saving process:",Ne)}finally{x(!1)}},le=async(Y,Ne)=>{try{x(!0),b(null),Ne==="submit"?(await Lf.submitProcess(Y),N("Process submitted successfully")):Ne==="verify"?(await Lf.verifyProcess(Y),N("Process verified successfully")):(await Lf.closeProcess(Y),N("Process closed successfully")),await X(),setTimeout(()=>N(null),3e3)}catch(ce){const ae=ce instanceof Error?ce.message:"Failed to update status";b(ae),console.error("Error updating status:",ce)}finally{x(!1)}},z=async Y=>{if(window.confirm("Are you sure you want to delete this process?"))try{x(!0),b(null),await Lf.deleteProcess(Y),N("Process deleted successfully"),await X(),setTimeout(()=>N(null),3e3)}catch(Ne){const ce=Ne instanceof Error?Ne.message:"Failed to delete process";b(ce),console.error("Error deleting process:",Ne)}finally{x(!1)}},R=Y=>{te({companyId:Y.companyId,processDate:Y.processDate,incinerationWeightKg:Y.incinerationWeightKg,autoclaveWeightKg:Y.autoclaveWeightKg,notes:Y.notes,editingId:Y.id,editingStatus:Y.status}),h(!0)},ie=Y=>{g(Y),A(!0)},Ae=()=>{te({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},Oe=k.filter(Y=>{if(a.trim()){const Ne=a.toLowerCase().trim();if(!Y.companyName.toLowerCase().includes(Ne))return!1}return!0}),be=Y=>{switch(Y){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},Te=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:"dashboard-sidebar",children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(Y=>t.jsx("li",{children:t.jsxs(Zr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Waste Processing"})})}),w&&t.jsxs("div",{className:"success-banner",children:[t.jsx("span",{children:w}),t.jsx("button",{onClick:()=>N(null),"aria-label":"Close success message",children:""})]}),y&&t.jsxs("div",{className:"error-banner",children:[t.jsx("span",{children:y}),t.jsx("button",{onClick:()=>b(null),"aria-label":"Close error message",children:""})]}),m&&!k.length&&t.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),t.jsxs("div",{className:"waste-process-page",children:[t.jsx("div",{className:"waste-process-header",children:t.jsx("h1",{className:"waste-process-title",children:"Waste Processing"})}),t.jsxs("div",{className:"waste-process-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"process-date",children:"Process Date"}),t.jsx("input",{id:"process-date",type:"date",value:s,onChange:Y=>c(Y.target.value),className:"date-input"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:l,onChange:Y=>u(Y.target.value),className:"status-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Submitted",children:"Submitted"}),t.jsx("option",{value:"Verified",children:"Verified"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsxs("div",{className:"filter-group filter-group--search",children:[t.jsx("label",{htmlFor:"search",children:"Search"}),t.jsxs("div",{className:"search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:a,onChange:Y=>i(Y.target.value),className:"search-input"})]})]}),t.jsxs("div",{className:"filter-group filter-group--action",children:[t.jsx("label",{children:""}),t.jsxs("button",{className:"add-process-btn",onClick:()=>{Ae(),h(!0)},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})]})]}),t.jsx("div",{className:"table-container",children:Oe.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No processes found"})}):t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Incineration (kg)"}),t.jsx("th",{children:"Autoclave (kg)"}),t.jsx("th",{children:"Total (kg)"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Oe.map(Y=>t.jsxs("tr",{children:[t.jsx("td",{children:new Date(Y.processDate).toLocaleDateString()}),t.jsx("td",{children:Y.companyName}),t.jsx("td",{children:Y.incinerationWeightKg.toFixed(2)}),t.jsx("td",{children:Y.autoclaveWeightKg.toFixed(2)}),t.jsx("td",{children:(Number(Y.incinerationWeightKg)+Number(Y.autoclaveWeightKg)).toFixed(2)}),t.jsx("td",{children:t.jsx("span",{className:be(Y.status),children:Y.status})}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>ie(Y),title:"View Details",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Y.status==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-icon",onClick:()=>R(Y),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"btn btn-icon",onClick:()=>le(Y.id,"submit"),title:"Submit",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})}),t.jsx("button",{className:"btn btn-icon btn-icon--danger",onClick:()=>z(Y.id),title:"Delete",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3 6 5 6 21 6"}),t.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),Y.status==="Submitted"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>le(Y.id,"verify"),title:"Verify",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),Y.status==="Verified"&&t.jsx("button",{className:"btn btn-icon",onClick:()=>le(Y.id,"close"),title:"Close",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 6L6 18"}),t.jsx("path",{d:"M6 6l12 12"})]})})]})})]},Y.id))})]})}),Oe.length>0&&t.jsxs("div",{className:"table-footer",children:["Showing ",Oe.length," of ",k.length," Items"]})]})]}),o&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:q.editingId?"Edit Process":"Add Process"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:O,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyId",children:"Company *"}),t.jsxs("select",{id:"companyId",value:q.companyId,onChange:Y=>te({...q,companyId:Y.target.value}),required:!0,disabled:!!q.editingId,children:[t.jsx("option",{value:"",children:"Select Company"}),S.filter(Y=>Y.status==="Active").map(Y=>t.jsx("option",{value:Y.id,children:Y.companyName},Y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"processDate",children:"Process Date *"}),t.jsx("input",{id:"processDate",type:"date",value:q.processDate,onChange:Y=>te({...q,processDate:Y.target.value}),required:!0,disabled:!!q.editingId})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"incinerationWeightKg",children:"Incineration Weight (kg) *"}),t.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:q.incinerationWeightKg,onChange:Y=>te({...q,incinerationWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"autoclaveWeightKg",children:"Autoclave Weight (kg) *"}),t.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:q.autoclaveWeightKg,onChange:Y=>te({...q,autoclaveWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!q.editingId&&q.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",rows:3,value:q.notes||"",onChange:Y=>te({...q,notes:Y.target.value||null}),disabled:!!q.editingId&&q.editingStatus!=="Draft"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]})]})}),d&&f&&t.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"modal-content modal-content--large",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Process Details"}),t.jsx("button",{className:"modal-close",onClick:()=>A(!1),children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:f.companyName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Process Date:"}),t.jsx("span",{children:new Date(f.processDate).toLocaleDateString()})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Incineration Weight:"}),t.jsxs("span",{children:[f.incinerationWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Autoclave Weight:"}),t.jsxs("span",{children:[f.autoclaveWeightKg.toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Total Weight:"}),t.jsxs("span",{children:[(Number(f.incinerationWeightKg)+Number(f.autoclaveWeightKg)).toFixed(2)," kg"]})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:be(f.status),children:f.status})]}),f.notes&&t.jsxs("div",{className:"detail-item detail-item--full",children:[t.jsx("label",{children:"Notes:"}),t.jsx("span",{children:f.notes})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})},Bte="http://localhost:3000/api/v1",Ete=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},xp=async(r,e={})=>{const n=Ete(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Bte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?c=l.message.join(", "):typeof l.message=="string"?c=l.message:l.error&&(c=typeof l.error=="string"?l.error:JSON.stringify(l.error)),i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c=l.message||l.error||"Forbidden: You do not have permission to access this resource":i.status===500&&(c=l.message||l.error||"Internal server error")}catch{i.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):i.status===403?c="Forbidden: You do not have permission to access this resource":i.status===500&&(c="Internal server error")}throw new Error(c)}return(await i.json()).data},BF=async r=>{const n=new URLSearchParams().toString();return xp(`/invoices${n?`?${n}`:""}`)},X0=async r=>{const e=r?{...r}:{};e.fromDate&&!e.invoiceFromDate&&(e.invoiceFromDate=e.fromDate),e.toDate&&!e.invoiceToDate&&(e.invoiceToDate=e.toDate),e.search&&!e.searchText&&(e.searchText=e.search),e.sortDir&&!e.sortOrder&&(e.sortOrder=e.sortDir);const n={};return Object.keys(e).forEach(a=>{const i=e[a];i!=null&&i!==""&&(n[a]=i)}),xp("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},Ite=async r=>xp("/invoices",{method:"POST",body:JSON.stringify(r)}),Tte=async(r,e)=>xp(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(e)}),_te=async r=>xp("/invoices/generate",{method:"POST",body:JSON.stringify(r)}),Ote=async r=>xp("/invoices/generate-weight",{method:"POST",body:JSON.stringify(r)}),kte=async r=>xp("/invoices/generate-month",{method:"POST",body:JSON.stringify(r)}),Pte="http://localhost:3000/api/v1",Fte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Vg=async(r,e={})=>{const n=Fte(),a={"Content-Type":"application/json",...e.headers};if(n&&(a.Authorization=`Bearer ${n}`),e.body&&r.includes("/payments"))try{const c=JSON.parse(e.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const i=await fetch(`${Pte}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data};var ni=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(ni||{});const EF=async r=>Vg("/payments",{method:"POST",body:JSON.stringify(r)}),Dte=async r=>{const e=new URLSearchParams;r!=null&&r.companyId&&e.append("companyId",r.companyId),r!=null&&r.status&&e.append("status",r.status),r!=null&&r.paymentDateFrom&&e.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&e.append("paymentDateTo",r.paymentDateTo);const n=`/payments${e.toString()?`?${e.toString()}`:""}`;return Vg(n,{method:"GET"})},B6=async r=>Vg(`/payments/receipts/${r}`,{method:"GET"}),Mte=async r=>{const e=new URLSearchParams;r&&e.append("companyId",r);const n=`/payments/without-receipt${e.toString()?`?${e.toString()}`:""}`;return Vg(n,{method:"GET"})},Rte=async r=>Vg("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),Lte=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ja(),[i,s]=P.useState(""),[c,l]=P.useState("All"),[u,o]=P.useState(!1),[h,d]=P.useState(!1),[A,f]=P.useState(!1),[g,m]=P.useState(!1),[x,y]=P.useState(!1),[b,w]=P.useState(!1),[N,S]=P.useState(!1),[C,k]=P.useState(null),[W,q]=P.useState(!1),[te,K]=P.useState([]),[X,O]=P.useState(!1),[le,z]=P.useState(null),[R,ie]=P.useState(!1),[Ae,Oe]=P.useState(null),[be,Te]=P.useState(new Set),[Y,Ne]=P.useState(null),[ce,ae]=P.useState(null),[Ce,Ee]=P.useState(!1),[we,me]=P.useState(null),[se,J]=P.useState(null),[je,Pe]=P.useState(!1),Le=()=>{Pe(!je)},[Ie,pe]=P.useState([]),[ke,Ye]=P.useState([]),[wt,Ft]=P.useState([]);P.useEffect(()=>{Bt()},[]);const Bt=async()=>{Ee(!0),me(null);try{const Ot=await $a.getAllCompanies(!0),$r=Ot.map(lr=>({id:lr.id,companyCode:lr.companyCode,companyName:lr.companyName,status:lr.status}));pe($r);const tn=(await ks.getAllHcfs(void 0,!0)).map(lr=>{var ma;return{id:lr.id,hcfCode:lr.hcfCode,hcfName:lr.hcfName,companyName:((ma=Ot.find(xi=>xi.id===lr.companyId))==null?void 0:ma.companyName)||"",status:lr.status||"Active"}});Ye(tn),await Vt($r,tn)}catch(Ot){console.error("Error loading data:",Ot);const $r=Ot.message||"Failed to load data";$r.includes("Internal server error")||$r.includes("500")?me("Internal server error. Please check the backend logs."):me($r)}finally{Ee(!1)}},Vt=async(Ot,$r)=>{try{const un=await BF();console.log("Loaded invoices:",un.length),console.log("Companies available:",Ot.length),console.log("HCFs available:",$r.length);const tn=un.map(lr=>{var Cn,Es,Ni,yi,Qi,Ii,Ps,Ka;const ma=Ot.find(gs=>gs.id===lr.companyId),xi=$r.find(gs=>gs.id===lr.hcfId);return un.indexOf(lr)===0&&console.log("First invoice mapping:",{invoiceId:lr.invoiceId,companyId:lr.companyId,hcfId:lr.hcfId,foundCompany:!!ma,foundHcf:!!xi,companyName:ma==null?void 0:ma.companyName,hcfCode:xi==null?void 0:xi.hcfCode}),{...lr,id:lr.invoiceId,invoiceNum:lr.invoiceNumber,invoiceStatus:lr.status,companyName:(ma==null?void 0:ma.companyName)||lr.companyName||"",hcfCode:(xi==null?void 0:xi.hcfCode)||lr.hcfCode||"",invoiceDate:lr.invoiceDate||"",dueDate:lr.dueDate||"",billingDays:lr.billingDays!==null&&lr.billingDays!==void 0?lr.billingDays.toString():"",bedCount:lr.bedCount!==null&&lr.bedCount!==void 0?lr.bedCount.toString():"",bedRate:lr.bedRate!==null&&lr.bedRate!==void 0?lr.bedRate.toString():"",weightInKg:lr.weightInKg!==null&&lr.weightInKg!==void 0?lr.weightInKg.toString():"",kgRate:lr.kgRate!==null&&lr.kgRate!==void 0?lr.kgRate.toString():"",lumpsumAmount:lr.lumpsumAmount!==null&&lr.lumpsumAmount!==void 0?lr.lumpsumAmount.toString():"",taxableValue:((Cn=lr.taxableValue)==null?void 0:Cn.toString())||"",igst:((Es=lr.igst)==null?void 0:Es.toString())||"",cgst:((Ni=lr.cgst)==null?void 0:Ni.toString())||"",sgst:((yi=lr.sgst)==null?void 0:yi.toString())||"",roundOff:((Qi=lr.roundOff)==null?void 0:Qi.toString())||"",invoiceValue:((Ii=lr.invoiceValue)==null?void 0:Ii.toString())||"",totalPaidAmount:((Ps=lr.totalPaidAmount)==null?void 0:Ps.toString())||"",balanceAmount:((Ka=lr.balanceAmount)==null?void 0:Ka.toString())||""}});console.log("Mapped invoices:",tn.length),Ft(tn),tn.length>0&&me(null)}catch(un){console.error("Error loading invoices:",un);const tn=un.message||"Failed to load invoices";if(tn.includes("Unauthorized")||tn.includes("Forbidden")||tn.includes("permission")){me("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw tn.includes("Internal server error")||tn.includes("500")?me("Internal server error. Please check the backend logs."):me(tn),un}},Ir=async()=>{await Vt(Ie,ke)},Sr=wt.filter(Ot=>{var tn;const $r=Ot.invoiceNum.toLowerCase().includes(i.toLowerCase())||Ot.companyName.toLowerCase().includes(i.toLowerCase())||Ot.hcfCode.toLowerCase().includes(i.toLowerCase())||((tn=ke.find(lr=>lr.hcfCode===Ot.hcfCode))==null?void 0:tn.hcfName.toLowerCase().includes(i.toLowerCase())),un=c==="All"||Ot.invoiceStatus===c;return $r&&un}),He=()=>{Ne(null),o(!0)},Zt=Ot=>{ae(Ot),d(!0)},Nt=Ot=>{Ot.invoiceStatus==="Draft"?(Ne(Ot),o(!0)):alert("Only Draft invoices can be edited.")},Vr=Ot=>{if(Ot.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},mr=Ot=>{window.confirm("Are you sure you want to cancel this invoice?")&&Ft(wt.map($r=>$r.id===Ot.id?{...$r,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:$r))},on=async Ot=>{Ee(!0),me(null),J(null);try{const $r=await recordPayment(Ot);J(`Payment recorded successfully! Receipt Number: ${$r.data.receipt.receiptNumber}`);const un=await B6($r.data.receipt.receiptId);z(un.data),O(!0),await Ir(),ie(!1),Oe(null)}catch($r){console.error("Error recording payment:",$r);const un=$r.message||"Failed to record payment";me(un)}finally{Ee(!1)}},Jr=Ot=>Ot==="Generated"?"DUE":Ot,Gr=Ot=>Ot.invoiceStatus==="Generated"||Ot.invoiceStatus==="Partially Paid",_r=Ot=>be.has(Ot),hr=Ot=>{if(!Gr(Ot))return;const $r=new Set(be);$r.has(Ot.id)?$r.delete(Ot.id):$r.add(Ot.id),Te($r)},Br=()=>{if(Sr.filter(un=>be.has(un.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const $r=Array.from(be);a(`/finance/payment?invoices=${$r.join(",")}`)},Qr=()=>{const Ot=Sr.filter(un=>be.has(un.id)),$r=Ot.reduce((un,tn)=>un+parseFloat(tn.balanceAmount||"0"),0);return{count:Ot.length,totalBalance:$r}},Kr=async Ot=>{Ee(!0),me(null),J(null);try{const $r=await EF(Ot);J(`Payment processed successfully! Receipt Number: ${$r.data.receipt.receiptNumber}`);const un=await B6($r.data.receipt.receiptId);z(un.data),O(!0),await Ir(),q(!1)}catch($r){console.error("Error processing payment:",$r);const un=$r.message||"Failed to process payment";me(un)}finally{Ee(!1)}},hn=Ot=>{window.print()},Wr=()=>{alert("Export functionality will be implemented")},Wn=async(Ot,$r=!1)=>{Ee(!0),me(null),J(null);try{const un=Ie.find(lr=>lr.companyName===Ot.companyName),tn=ke.find(lr=>lr.hcfCode===Ot.hcfCode);if(!un||!tn)throw new Error("Company or HCF not found");if(Y){const lr={invoiceDate:Ot.invoiceDate,dueDate:Ot.dueDate,billingType:Ot.billingType,billingDays:Ot.billingDays?parseInt(Ot.billingDays):void 0,billingOption:Ot.billingOption,bedCount:Ot.bedCount?parseInt(Ot.bedCount):void 0,bedRate:Ot.bedRate?parseFloat(Ot.bedRate):void 0,weightInKg:Ot.weightInKg?parseFloat(Ot.weightInKg):void 0,kgRate:Ot.kgRate?parseFloat(Ot.kgRate):void 0,lumpsumAmount:Ot.lumpsumAmount?parseFloat(Ot.lumpsumAmount):void 0,taxableValue:Ot.taxableValue?parseFloat(Ot.taxableValue):void 0,igst:Ot.igst?parseFloat(Ot.igst):void 0,cgst:Ot.cgst?parseFloat(Ot.cgst):void 0,sgst:Ot.sgst?parseFloat(Ot.sgst):void 0,roundOff:Ot.roundOff?parseFloat(Ot.roundOff):void 0,invoiceValue:Ot.invoiceValue?parseFloat(Ot.invoiceValue):void 0,notes:Ot.notes};await Tte(Y.id,lr),J("Invoice updated successfully")}else{const lr={companyId:un.id,hcfId:tn.id,invoiceDate:Ot.invoiceDate||new Date().toISOString().split("T")[0],dueDate:Ot.dueDate||new Date().toISOString().split("T")[0],billingType:Ot.billingType||"Monthly",billingDays:Ot.billingDays?parseInt(Ot.billingDays):void 0,billingOption:Ot.billingOption||"Bed-wise",generationType:"Manual",bedCount:Ot.bedCount?parseInt(Ot.bedCount):void 0,bedRate:Ot.bedRate?parseFloat(Ot.bedRate):void 0,weightInKg:Ot.weightInKg?parseFloat(Ot.weightInKg):void 0,kgRate:Ot.kgRate?parseFloat(Ot.kgRate):void 0,lumpsumAmount:Ot.lumpsumAmount?parseFloat(Ot.lumpsumAmount):void 0,taxableValue:Ot.taxableValue?parseFloat(Ot.taxableValue):void 0,igst:Ot.igst?parseFloat(Ot.igst):void 0,cgst:Ot.cgst?parseFloat(Ot.cgst):void 0,sgst:Ot.sgst?parseFloat(Ot.sgst):void 0,roundOff:Ot.roundOff?parseFloat(Ot.roundOff):void 0,invoiceValue:Ot.invoiceValue?parseFloat(Ot.invoiceValue):void 0,notes:Ot.notes};await Ite(lr),J("Invoice created successfully")}await Ir(),o(!1),Ne(null)}catch(un){console.error("Error saving invoice:",un);const tn=un.message||"Failed to save invoice";tn.includes("Internal server error")||tn.includes("500")?me("Internal server error. Please check the backend logs."):me(tn)}finally{Ee(!1)}},Lr=async Ot=>{Ee(!0),me(null),J(null);try{const $r=await _te(Ot);if($r.summary.success>0&&J(`Generated ${$r.summary.success} invoice(s) successfully. ${$r.summary.failed} failed.`),$r.failed.length>0){const un=$r.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await Ir(),f(!1)}catch($r){console.error("Error generating invoices:",$r);const un=$r.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error. Please check the backend logs."):me(un)}finally{Ee(!1)}},Dr=async Ot=>{Ee(!0),me(null),J(null);try{const $r=await Ote(Ot);if($r.summary.success>0&&J(`Generated ${$r.summary.success} invoice(s) successfully (Weight-based). ${$r.summary.failed} failed.`),$r.failed.length>0){const un=$r.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await Ir(),m(!1)}catch($r){console.error("Error generating weight-based invoices:",$r);const un=$r.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error. Please check the backend logs."):me(un)}finally{Ee(!1)}},wn=async Ot=>{Ee(!0),me(null),J(null);try{const $r=await kte(Ot);if(J(`Generated ${$r.summary.success} invoice(s) successfully. ${$r.summary.failed} failed. ${$r.summary.skipped||0} skipped.`),$r.skipped&&$r.skipped.length>0&&(k({skipped:$r.skipped}),S(!0)),$r.failed.length>0){const un=$r.failed.map(tn=>`${tn.hcfCode}: ${tn.reason}`).join(", ");me(`Some invoices failed: ${un}`)}await Ir(),y(!1),w(!1)}catch($r){console.error("Error generating month-based invoices:",$r);const un=$r.message||"Failed to generate invoices";un.includes("Internal server error")||un.includes("500")?me("Internal server error during invoice generation. Please check the backend logs."):me(un)}finally{Ee(!1)}},cn=Ot=>{const $r=parseFloat(Ot.taxableValue||"0"),un=parseFloat(Ot.igst||"0"),tn=parseFloat(Ot.cgst||"0"),lr=parseFloat(Ot.sgst||"0"),ma=parseFloat(Ot.roundOff||"0");return($r+un+tn+lr+ma).toFixed(2)},la=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Rm(e,n.pathname)].filter(Ot=>Ot.path==="/dashboard"?Ia(e,"dashboard"):Ot.path==="/transaction"?Ia(e,"transaction"):Ot.path==="/finance"?Ia(e,"finance"):Ot.path==="/commercial-agreements"?Ia(e,"commercial"):Ot.path==="/compliance-training"?Ia(e,"compliance"):Ot.path==="/master"?Ia(e,"master"):Ot.path==="/report"?Ia(e,"report"):!0);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${je?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!je&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:Le,"aria-label":je?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:je?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:la.map(Ot=>t.jsx("li",{children:t.jsxs(Zr,{to:Ot.path,className:`nav-link ${Ot.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Ot.icon}),!je&&t.jsx("span",{className:"nav-label",children:Ot.label})]})},Ot.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!je&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!je&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Invoice Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Invoice Management"})}),we&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[we,t.jsx("button",{onClick:()=>me(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),se&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[se,t.jsx("button",{onClick:()=>J(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search Invoice...",value:i,onChange:Ot=>s(Ot.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:Ot=>l(Ot.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"DUE"}),t.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsxs("button",{className:"export-btn",onClick:Wr,disabled:Ce,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>y(!0),disabled:Ce,style:{marginRight:"8px",backgroundColor:"#3b82f6"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Bed / Lumpsum"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:()=>w(!0),disabled:Ce,style:{marginRight:"8px",backgroundColor:"#10b981"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})}),"Auto Generate  Weight Based"]}),t.jsxs("button",{className:"add-invoice-btn",onClick:He,disabled:Ce,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Invoice"]})]}),Ce&&!wt.length&&t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),t.jsx("div",{className:"invoice-table-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice Number"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Invoice Value"}),t.jsx("th",{children:"Paid Amount"}),t.jsx("th",{children:"Balance"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Sr.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:11,className:"empty-message",children:"No invoice records found"})}):Sr.map(Ot=>{const $r=ke.find(lr=>lr.hcfCode===Ot.hcfCode),un=Gr(Ot),tn=_r(Ot.id);return t.jsxs("tr",{style:{opacity:Ot.invoiceStatus==="Paid"?.6:1},children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:tn,onChange:()=>hr(Ot),disabled:!un,title:un?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),t.jsx("td",{children:Ot.invoiceNum||"-"}),t.jsx("td",{children:Ot.companyName||"-"}),t.jsx("td",{children:$r?`${Ot.hcfCode} - ${$r.hcfName}`:Ot.hcfCode}),t.jsx("td",{children:Ot.invoiceDate||"-"}),t.jsx("td",{children:Ot.dueDate||"-"}),t.jsxs("td",{children:["",Ot.invoiceValue||"0"]}),t.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(Ot.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(Ot.balanceAmount||"0").toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${Ot.invoiceStatus.toLowerCase().replace(" ","-")}`,children:Jr(Ot.invoiceStatus)})}),t.jsx("td",{children:t.jsxs("div",{className:"invoice-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>Zt(Ot),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Ot.invoiceStatus==="Draft"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Nt(Ot),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>Vr(Ot),title:"Generate",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>hn(),title:"Download PDF",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),Ot.invoiceStatus!=="Cancelled"&&Ot.invoiceStatus!=="Paid"&&t.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>mr(Ot),title:"Cancel",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},Ot.id)})})]})}),be.size>0&&t.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),t.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Qr().count})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Qr().totalBalance.toFixed(2)]})]})]}),t.jsx("div",{style:{flexShrink:0},children:t.jsxs("button",{onClick:Br,disabled:be.size===0,title:be.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:be.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:be.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:Ot=>{be.size>0&&(Ot.currentTarget.style.background="#059669",Ot.currentTarget.style.transform="translateY(-1px)",Ot.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:Ot=>{be.size>0&&(Ot.currentTarget.style.background="#10b981",Ot.currentTarget.style.transform="translateY(0)",Ot.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),t.jsxs("div",{className:"invoice-pagination-info",style:{marginBottom:be.size>0?"80px":"0"},children:["Showing ",Sr.length," of ",wt.length," Items"]})]})]}),u&&t.jsx(Qte,{invoice:Y,companies:Ie.filter(Ot=>Ot.status==="Active"),hcfs:ke.filter(Ot=>Ot.status==="Active"),onClose:()=>{o(!1),Ne(null)},onSave:Wn,calculateInvoiceValue:cn}),h&&ce&&t.jsx(Wte,{invoice:ce,hcfs:ke,onClose:()=>{d(!1),ae(null)},onPrint:hn}),W&&t.jsx(Vte,{invoices:te,companies:Ie.filter(Ot=>Ot.status==="Active"),onClose:()=>{q(!1),K([])},onProcessPayment:Kr,loading:Ce}),R&&Ae&&t.jsx(zte,{invoice:Ae,onClose:()=>{ie(!1),Oe(null)},onSubmit:on,loading:Ce}),X&&le&&t.jsx(Kte,{receiptData:le,onClose:()=>{O(!1),z(null)}}),A&&t.jsx(Ute,{companies:Ie.filter(Ot=>Ot.status==="Active"),hcfs:ke.filter(Ot=>Ot.status==="Active"),onClose:()=>f(!1),onGenerate:Lr,loading:Ce}),g&&t.jsx(Hte,{companies:Ie.filter(Ot=>Ot.status==="Active"),hcfs:ke.filter(Ot=>Ot.status==="Active"),onClose:()=>m(!1),onGenerate:Dr,loading:Ce}),x&&t.jsx(E6,{companies:Ie.filter(Ot=>Ot.status==="Active"),onClose:()=>y(!1),onGenerate:wn,loading:Ce,generationMode:"Bed/Lumpsum"}),b&&t.jsx(E6,{companies:Ie.filter(Ot=>Ot.status==="Active"),onClose:()=>w(!1),onGenerate:wn,loading:Ce,generationMode:"Weight Based"}),N&&C&&t.jsx($te,{skipped:C.skipped,onClose:()=>{S(!1),k(null)}})]})},Ute=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=P.useState({companyId:"",billingPeriodStart:"",billingPeriodEnd:"",billingType:"Monthly",dueDays:30}),[l,u]=P.useState([]),o=s.companyId?e.filter(d=>{const A=r.find(f=>f.id===s.companyId);return A&&d.companyName===A.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Auto Generate Invoices"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const A=Array.from(d.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period Start *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodStart,onChange:d=>c({...s,billingPeriodStart:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Period End *"}),t.jsx("input",{type:"date",required:!0,value:s.billingPeriodEnd,onChange:d=>c({...s,billingPeriodEnd:d.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Option Filter"}),t.jsxs("select",{value:s.billingOption||"",onChange:d=>c({...s,billingOption:d.target.value}),children:[t.jsx("option",{value:"",children:"All Options"}),t.jsx("option",{value:"Bed-wise",children:"Bed-wise"}),t.jsx("option",{value:"Weight-wise",children:"Weight-wise"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Filter HCFs by billing option (optional)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices"})]})]})]})})},Hte=({companies:r,hcfs:e,onClose:n,onGenerate:a,loading:i})=>{const[s,c]=P.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),[l,u]=P.useState([]),o=s.companyId?e.filter(d=>{const A=r.find(f=>f.id===s.companyId);return A&&d.companyName===A.companyName}):e,h=d=>{d.preventDefault(),a({...s,hcfIds:l.length>0?l:void 0})};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Invoice (Weight-Based)"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:s.companyId,onChange:d=>{c({...s,companyId:d.target.value}),u([])},children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(d=>t.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCFs (Optional - Leave empty for all)"}),t.jsx("select",{multiple:!0,value:l,onChange:d=>{const A=Array.from(d.target.selectedOptions,f=>f.value);u(A)},style:{minHeight:"100px"},children:o.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Hold Ctrl (Windows) or Cmd (Mac) to select multiple HCFs"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date From *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateFrom,onChange:d=>c({...s,pickupDateFrom:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Start date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Pickup Date To *"}),t.jsx("input",{type:"date",required:!0,value:s.pickupDateTo,onChange:d=>c({...s,pickupDateTo:d.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"End date for waste transaction pickup"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{required:!0,value:s.billingType,onChange:d=>c({...s,billingType:d.target.value}),children:[t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:s.dueDays||30,onChange:d=>c({...s,dueDays:parseInt(d.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Generating...":"Generate Invoices (Weight-Based)"})]})]})]})})},Qte=({invoice:r,companies:e,hcfs:n,onClose:a,onSave:i,calculateInvoiceValue:s})=>{const[c,l]=P.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),u=c.companyName?n.filter(f=>f.companyName===c.companyName):n,o=(f,g)=>{const m={...c,[f]:g};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(f)){const w=s(m);m.invoiceValue=w}const x=parseFloat(m.invoiceValue||"0"),y=parseFloat(m.totalPaidAmount||"0"),b=(x-y).toFixed(2);m.balanceAmount=b,l(m)},h=f=>{f.preventDefault(),i(c,!1)},d=f=>{if(f.preventDefault(),!c.companyName||!c.hcfCode){alert("Please fill in all required fields");return}window.confirm("Are you sure you want to generate this invoice? This action cannot be undone.")&&i(c,!0)},A=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&l({companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Invoice":"Create Invoice"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"invoice-form",onSubmit:h,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company Name *"}),t.jsxs("select",{value:c.companyName||"",onChange:f=>{o("companyName",f.target.value),o("hcfCode","")},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(f=>t.jsx("option",{value:f.companyName,children:f.companyName},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF Code *"}),t.jsxs("select",{value:c.hcfCode||"",onChange:f=>o("hcfCode",f.target.value),required:!0,disabled:!c.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),u.map(f=>t.jsxs("option",{value:f.hcfCode,children:[f.hcfCode," - ",f.hcfName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Number *"}),t.jsx("input",{type:"text",value:c.invoiceNum||"",onChange:f=>o("invoiceNum",f.target.value),required:!0,placeholder:"e.g., INV-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",value:c.invoiceDate||"",onChange:f=>o("invoiceDate",f.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Date *"}),t.jsx("input",{type:"date",value:c.dueDate||"",onChange:f=>o("dueDate",f.target.value),required:!0})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Billing Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"",onChange:f=>o("billingType",f.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Billing Type"}),t.jsx("option",{value:"Monthly",children:"Monthly"}),t.jsx("option",{value:"Quarterly",children:"Quarterly"}),t.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Days"}),t.jsx("input",{type:"text",value:c.billingDays||"",onChange:f=>o("billingDays",f.target.value),placeholder:"Enter billing days"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Count"}),t.jsx("input",{type:"text",value:c.bedCount||"",onChange:f=>o("bedCount",f.target.value),placeholder:"Enter bed count"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bed Rate"}),t.jsx("input",{type:"text",value:c.bedRate||"",onChange:f=>o("bedRate",f.target.value),placeholder:"Enter bed rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Weight in Kg"}),t.jsx("input",{type:"text",value:c.weightInKg||"",onChange:f=>o("weightInKg",f.target.value),placeholder:"Enter weight in kg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Kg Rate"}),t.jsx("input",{type:"text",value:c.kgRate||"",onChange:f=>o("kgRate",f.target.value),placeholder:"Enter kg rate"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Lumpsum Amount"}),t.jsx("input",{type:"text",value:c.lumpsumAmount||"",onChange:f=>o("lumpsumAmount",f.target.value),placeholder:"Enter lumpsum amount"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Tax & Amount Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Taxable Value *"}),t.jsx("input",{type:"text",value:c.taxableValue||"",onChange:f=>o("taxableValue",f.target.value),required:!0,placeholder:"Enter taxable value"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"IGST"}),t.jsx("input",{type:"text",value:c.igst||"",onChange:f=>o("igst",f.target.value),placeholder:"Enter IGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"CGST"}),t.jsx("input",{type:"text",value:c.cgst||"",onChange:f=>o("cgst",f.target.value),placeholder:"Enter CGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"SGST"}),t.jsx("input",{type:"text",value:c.sgst||"",onChange:f=>o("sgst",f.target.value),placeholder:"Enter SGST"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Round Off"}),t.jsx("input",{type:"text",value:c.roundOff||"0",onChange:f=>o("roundOff",f.target.value),placeholder:"Enter round off"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Value"}),t.jsx("input",{type:"text",value:c.invoiceValue||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Paid Amount"}),t.jsx("input",{type:"text",value:c.totalPaidAmount||"0",onChange:f=>o("totalPaidAmount",f.target.value),placeholder:"Enter paid amount"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Balance Amount"}),t.jsx("input",{type:"text",value:c.balanceAmount||"",readOnly:!0,style:{backgroundColor:"#f1f5f9",fontWeight:"600"},placeholder:"Auto-calculated"})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:A,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save Draft"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:d,children:"Generate Invoice"})]})]})]})})},Wte=({invoice:r,hcfs:e,onClose:n,onPrint:a})=>{const i=e.find(l=>l.hcfCode===r.hcfCode),s=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"invoice-view-content",children:[t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Company Name:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"HCF Code:"}),t.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Number:"}),t.jsx("span",{children:r.invoiceNum||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Invoice Date:"}),t.jsx("span",{children:r.invoiceDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Due Date:"}),t.jsx("span",{children:r.dueDate||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Type:"}),t.jsx("span",{children:r.billingType||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Billing Days:"}),t.jsx("span",{children:r.billingDays||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Count:"}),t.jsx("span",{children:r.bedCount||"-"})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Bed Rate:"}),t.jsxs("span",{children:["",r.bedRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Weight in Kg:"}),t.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Kg Rate:"}),t.jsxs("span",{children:["",r.kgRate||"-"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Lumpsum Amount:"}),t.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),t.jsxs("div",{className:"invoice-view-section",children:[t.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),t.jsxs("div",{className:"invoice-view-grid",children:[t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Taxable Value:"}),t.jsxs("span",{children:["",r.taxableValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"IGST:"}),t.jsxs("span",{children:["",r.igst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"CGST:"}),t.jsxs("span",{children:["",r.cgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"SGST:"}),t.jsxs("span",{children:["",r.sgst||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Round Off:"}),t.jsxs("span",{children:["",r.roundOff||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Invoice Value:"}),t.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),t.jsxs("div",{className:"invoice-view-field",children:[t.jsx("label",{children:"Total Paid Amount:"}),t.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),t.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[t.jsx("label",{children:"Balance Amount:"}),t.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),t.jsx("button",{type:"button",className:"btn btn--success",onClick:s,children:"Add Receipt"})]}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},E6=({companies:r,onClose:e,onGenerate:n,loading:a,generationMode:i})=>{const s=new Date,c=s.getMonth()+1,l=s.getFullYear();let u=c-1,o=l;u===0&&(u=12,o=l-1);const[h,d]=P.useState({companyId:"",month:u,year:o,invoiceDate:new Date().toISOString().split("T")[0],generationMode:i,dueDays:30}),A=["January","February","March","April","May","June","July","August","September","October","November","December"],f=g=>{g.preventDefault(),n(h)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Auto Generate Invoices (",i,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:h.companyId,onChange:g=>d({...h,companyId:g.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(g=>t.jsx("option",{value:g.id,children:g.companyName},g.id))]}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Month *"}),t.jsx("select",{required:!0,value:h.month,onChange:g=>d({...h,month:parseInt(g.target.value)}),children:A.map((g,m)=>t.jsxs("option",{value:m+1,disabled:m+1!==u,children:[g," ",m+1===u?"(Previous Month)":""]},m+1))}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Only previous month (",A[u-1]," ",o,") can be selected"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Year *"}),t.jsx("input",{type:"number",required:!0,min:"2000",max:"2100",value:h.year,onChange:g=>d({...h,year:parseInt(g.target.value)}),disabled:!0}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Year is automatically set to previous month's year"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Invoice Date *"}),t.jsx("input",{type:"date",required:!0,value:h.invoiceDate,onChange:g=>d({...h,invoiceDate:g.target.value})}),t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Enter the invoice date"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Due Days (from invoice date)"}),t.jsx("input",{type:"number",min:"1",value:h.dueDays||30,onChange:g=>d({...h,dueDays:parseInt(g.target.value)||30})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Generating...":`Generate Invoices (${i})`})]})]})]})})},$te=({skipped:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f5f5f5"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),t.jsx("tbody",{children:r.map((n,a)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),t.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"OK"})})]})}),Vte=({invoices:r,companies:e,onClose:n,onProcessPayment:a,loading:i})=>{const s=()=>{if(r.length===0)return"";const m=r[0],x=e.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,l]=P.useState({companyId:s(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[u,o]=P.useState("FIFO"),[h,d]=P.useState({}),A=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);P.useEffect(()=>{l(m=>({...m,paymentAmount:u==="FIFO"?A:Object.values(h).reduce((x,y)=>x+y,0)}))},[u,h,A]);const f=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:u==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:h[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(N=>N.id===m),b=parseFloat((y==null?void 0:y.balanceAmount)||"0"),w=Math.min(Math.max(0,x),b);d(N=>({...N,[m]:w}))};return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Make Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:f,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),t.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),t.jsx("tbody",{children:r.map(m=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),t.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),t.jsx("tfoot",{children:t.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[t.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),t.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",A.toFixed(2)]})]})})]})})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{required:!0,value:c.companyId,onChange:m=>l({...c,companyId:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(m=>t.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>l({...c,paymentDate:m.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>l({...c,paymentMode:m.target.value}),children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>l({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:u==="FIFO"}),u==="FIFO"&&t.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===ni.CHEQUE||c.paymentMode===ni.BANK_TRANSFER||c.paymentMode===ni.NEFT||c.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>l({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>l({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>l({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>l({...c,chequeDate:m.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:c.notes||"",onChange:m=>l({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),t.jsx("div",{style:{marginBottom:"15px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:u==="FIFO",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),t.jsx("div",{children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:u==="Manual",onChange:m=>o(m.target.value)}),t.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),u==="Manual"&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),t.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=h[m.id]||0;return t.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),t.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),t.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:b=>g(m.id,parseFloat(b.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),t.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[t.jsx("strong",{children:"Total Allocated:"})," ",Object.values(h).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",onClick:n,disabled:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Processing...":"Process Payment"})]})]})]})})},zte=({invoice:r,onClose:e,onSubmit:n,loading:a})=>{const[i,s]=P.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async l=>{l.preventDefault();const u=parseFloat(r.balanceAmount||"0");if(i.paymentAmount>u){alert(`Payment amount cannot exceed invoice balance of ${u.toFixed(2)}`);return}if(i.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(i)};return t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Record Payment"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:c,children:[t.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),t.jsxs("div",{style:{fontSize:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice #:"}),t.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Invoice Value:"}),t.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[t.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),t.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Payment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:i.paymentDate,onChange:l=>s({...i,paymentDate:l.target.value})})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:i.paymentMode,onChange:l=>s({...i,paymentMode:l.target.value}),children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Amount *"}),t.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:i.paymentAmount,onChange:l=>s({...i,paymentAmount:parseFloat(l.target.value)||0})}),t.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(i.paymentMode===ni.CHEQUE||i.paymentMode===ni.BANK_TRANSFER||i.paymentMode===ni.NEFT||i.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:i.referenceNumber||"",onChange:l=>s({...i,referenceNumber:l.target.value||null}),placeholder:"Transaction/Reference number"})]}),i.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:i.bankName||"",onChange:l=>s({...i,bankName:l.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:i.chequeNumber||"",onChange:l=>s({...i,chequeNumber:l.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:i.chequeDate||"",onChange:l=>s({...i,chequeDate:l.target.value||null})})]})]})]}),t.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{value:i.notes||"",onChange:l=>s({...i,notes:l.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,disabled:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Kte=({receiptData:r,onClose:e})=>t.jsx("div",{className:"modal-overlay",onClick:e,children:t.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),t.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[t.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),t.jsx("span",{children:r.receiptDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),t.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),t.jsx("span",{children:r.payment.paymentMode})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),t.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),t.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),t.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:r.invoices.map((n,a)=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),t.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),t.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:t.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",t.jsx("strong",{children:r.receiptNumber})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--primary",onClick:e,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),Gte=()=>{var X;const{logout:r}=pa(),e=Ja(),[n]=qN(),a=n.get("invoices")||"",i=a.split(",").filter(O=>O),[s,c]=P.useState([]),[l,u]=P.useState([]),[o,h]=P.useState(!1),[d,A]=P.useState(null),[f,g]=P.useState(null),[m,x]=P.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:ni.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,b]=P.useState(!1),[w,N]=P.useState(!1),S=P.useRef(0),C=P.useRef(null);P.useEffect(()=>{k()},[a]);const k=async()=>{var O,le;if(i.length===0){A("No invoices selected");return}h(!0),A(null);try{const z=await $a.getAllCompanies();u(z.filter(be=>be.status==="Active"));const ie=(await BF()).filter(be=>i.includes(be.invoiceId));if(ie.length===0){A("Selected invoices not found");return}const Ae=ie.map(be=>({id:be.invoiceId,invoiceId:be.invoiceId,companyId:be.companyId,companyName:be.companyName,hcfId:be.hcfId,hcfCode:be.hcfCode,invoiceNum:be.invoiceNumber,invoiceDate:be.invoiceDate,dueDate:be.dueDate,invoiceValue:be.invoiceValue,totalPaidAmount:be.totalPaidAmount,balanceAmount:be.balanceAmount,invoiceStatus:be.status}));c(Ae),Ae.length>0&&Ae[0].companyId&&x(be=>({...be,companyId:Ae[0].companyId}));const Oe=Ae.reduce((be,Te)=>be+parseFloat(Te.balanceAmount||"0"),0);S.current=Oe,x(be=>({...be,paymentAmount:Oe}))}catch(z){console.error("Error loading data:",z);let R="Failed to load invoice data";z.message?R=z.message:(le=(O=z.response)==null?void 0:O.data)!=null&&le.message?R=z.response.data.message:typeof z=="string"&&(R=z),(R.includes("Internal server error")||R.includes("500"))&&(R="Internal server error. Please check the backend logs or try again later."),A(R)}finally{h(!1)}},W=s.reduce((O,le)=>O+parseFloat(le.balanceAmount||"0"),0),q=async O=>{var z;O.preventDefault();let le=0;if(C.current){const R=C.current.value;le=R?parseFloat(R):0}if((!le||le<=0)&&(le=S.current>0?S.current:m.paymentAmount),le=Number(le),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",(z=C.current)==null?void 0:z.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",le),le>W){A(`Payment amount (${le.toFixed(2)}) cannot exceed total payable (${W.toFixed(2)})`);return}if(le<=0||isNaN(le)){A("Payment amount must be greater than zero"),le=W,S.current=W,x(R=>({...R,paymentAmount:W})),C.current&&(C.current.value=W.toString());return}S.current=le,x(R=>({...R,paymentAmount:le})),C.current&&(C.current.value=le.toString()),b(!0)},te=async()=>{var O,le,z;b(!1),N(!0),h(!0),A(null),g(null);try{let R=0;if(C.current){const Te=C.current.value;R=Te?parseFloat(Te):0,console.log("Reading from input field:",Te,"->",R)}if((!R||R<=0)&&(R=S.current>0?S.current:m.paymentAmount,console.log("Using fallback - Ref:",S.current,"FormData:",m.paymentAmount)),R=Number(R),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(O=C.current)==null?void 0:O.value),console.log("Payment Amount Ref:",S.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",R),console.log("Total Payable:",W),!R||R<=0||isNaN(R)){A(`Invalid payment amount: ${R}. Please enter a valid amount greater than zero.`),N(!1),h(!1);return}if(R>W){A(`Payment amount (${R.toFixed(2)}) cannot exceed total payable (${W.toFixed(2)})`),N(!1),h(!1);return}const ie=s.map(Te=>({invoiceId:Te.id,allocatedAmount:0})),Ae={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:R,paymentMode:m.paymentMode||ni.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:ie},Oe=Number(Ae.paymentAmount);if(!Oe||Oe<=0||isNaN(Oe)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",Ae),console.error("Payment Amount:",Ae.paymentAmount),console.error("Final Payment Amount:",Oe),A(`Invalid payment amount: ${Ae.paymentAmount}. Cannot proceed. Please check the amount and try again.`),N(!1),h(!1);return}Ae.paymentAmount=Oe,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",Ae),console.log("Payment Amount Type:",typeof Ae.paymentAmount),console.log("Payment Amount Value:",Ae.paymentAmount),console.log("Payment Amount is Number?",!isNaN(Ae.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(Ae,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(Ae).match(/"paymentAmount":\s*([^,}]+)/));const be=await EF(Ae);e("/finance/payment-success",{state:{receiptNumber:be.receipt.receiptNumber,receiptId:be.receipt.receiptId,totalAmount:be.receipt.totalAmount,receiptDate:be.receipt.receiptDate,invoiceUpdates:be.invoiceUpdates}})}catch(R){console.error("Error processing payment:",R);let ie="Failed to process payment";R.message?ie=R.message:(z=(le=R.response)==null?void 0:le.data)!=null&&z.message?ie=R.response.data.message:typeof R=="string"&&(ie=R),(ie.includes("Internal server error")||ie.includes("500"))&&(ie="Internal server error. Please check the backend logs or try again later."),A(ie),N(!1)}finally{h(!1)}},K=()=>{e("/finance/invoice-management")};return i.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[t.jsx("h2",{children:"No invoices selected"}),t.jsx("p",{children:"Please select invoices from the Invoice Management page."}),t.jsx("button",{onClick:K,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):t.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[t.jsxs("button",{onClick:K,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:O=>{O.currentTarget.style.background="#F1F5F9",O.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:O=>{O.currentTarget.style.background="#FFFFFF",O.currentTarget.style.borderColor="#E2E8F0"},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),t.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),d&&t.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[d,t.jsx("button",{onClick:()=>A(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),f&&t.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:f}),t.jsxs("form",{onSubmit:q,children:[t.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[t.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",s.length,")"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:s.map(O=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:O.invoiceNum}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),t.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(O.balanceAmount||"0").toFixed(2)]})]},O.id))}),t.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),t.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",W.toFixed(2)]})]})]}),t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),t.jsx("input",{type:"text",value:((X=l.find(O=>O.id===m.companyId))==null?void 0:X.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),t.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),t.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:O=>x(le=>({...le,paymentDate:O.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),t.jsxs("select",{required:!0,value:m.paymentMode,onChange:O=>x(le=>({...le,paymentMode:O.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[t.jsx("option",{value:ni.CASH,children:"Cash"}),t.jsx("option",{value:ni.CHEQUE,children:"Cheque"}),t.jsx("option",{value:ni.NEFT,children:"NEFT"}),t.jsx("option",{value:ni.RTGS,children:"RTGS"}),t.jsx("option",{value:ni.BANK_TRANSFER,children:"Bank Transfer"}),t.jsx("option",{value:ni.UPI,children:"UPI"}),t.jsx("option",{value:ni.OTHER,children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),t.jsx("input",{ref:C,type:"number",required:!0,min:"0.01",step:"0.01",max:W,value:m.paymentAmount>0?m.paymentAmount:"",onChange:O=>{const le=O.target.value.trim();if(le===""){x(R=>({...R,paymentAmount:0})),A(null);return}const z=parseFloat(le);if(isNaN(z)){x(R=>({...R,paymentAmount:0}));return}if(z<0){x(R=>({...R,paymentAmount:0}));return}z>W?A(`Payment amount cannot exceed total payable of ${W.toFixed(2)}`):A(null),S.current=z,x(R=>({...R,paymentAmount:z})),console.log("Payment amount updated to:",z)},onBlur:O=>{const le=O.target.value.trim();if(le===""){S.current=W,x(R=>({...R,paymentAmount:W}));return}const z=parseFloat(le);isNaN(z)||z<=0?(S.current=W,x(R=>({...R,paymentAmount:W}))):(S.current=z,x(R=>({...R,paymentAmount:z})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),t.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",W.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===ni.CHEQUE||m.paymentMode===ni.BANK_TRANSFER||m.paymentMode===ni.NEFT||m.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:O=>x({...m,referenceNumber:O.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:O=>x({...m,bankName:O.target.value||null}),placeholder:"Bank name"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:O=>x({...m,chequeNumber:O.target.value||null}),placeholder:"Cheque number"})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:O=>x({...m,chequeDate:O.target.value||null})})]})]})]}),(m.paymentMode===ni.CHEQUE||m.paymentMode===ni.BANK_TRANSFER||m.paymentMode===ni.NEFT||m.paymentMode===ni.RTGS)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),t.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:O=>x({...m,referenceNumber:O.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===ni.CHEQUE&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),t.jsx("input",{type:"text",value:m.bankName||"",onChange:O=>x({...m,bankName:O.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),t.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:O=>x({...m,chequeNumber:O.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),t.jsx("input",{type:"date",value:m.chequeDate||"",onChange:O=>x({...m,chequeDate:O.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),t.jsxs("div",{style:{gridColumn:"1 / -1"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),t.jsx("textarea",{value:m.notes||"",onChange:O=>x({...m,notes:O.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),t.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),t.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[t.jsx("button",{type:"button",onClick:K,disabled:o||w,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:o||w?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o||w,style:{padding:"12px 32px",background:w?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:w?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:w?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:O=>{!w&&!o&&(O.currentTarget.style.background="#059669",O.currentTarget.style.transform="translateY(-1px)",O.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:O=>{!w&&!o&&(O.currentTarget.style.background="#10b981",O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:w?"Processing...":o?"Loading...":"Process Payment"})]})]}),y&&t.jsx("div",{className:"modal-overlay",onClick:()=>!w&&b(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[t.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:"This action cannot be undone."}),t.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",t.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),t.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{type:"button",onClick:()=>b(!1),disabled:w,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:te,disabled:w,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:w?"not-allowed":"pointer",fontWeight:600},children:w?"Processing...":"Confirm & Process Payment"})]})]})})]})})},qte=()=>{const r=_n(),e=Ja(),n=r.state;P.useEffect(()=>{if(!(n!=null&&n.receiptId)){e("/finance/invoice-management");return}},[n,e]);const a=()=>{window.print()},i=()=>{e("/finance/invoice-management")};return n?t.jsxs("div",{className:"payment-success-page",children:[t.jsx("div",{className:"payment-success-header",children:t.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),t.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),t.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),t.jsxs("div",{className:"payment-success-content",children:[t.jsxs("div",{className:"success-card receipt-card",children:[t.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),t.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[t.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),t.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),t.jsx("div",{className:"amount-received-section",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[t.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),t.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),t.jsxs("div",{className:"success-card settlement-card",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),t.jsx("tbody",{children:n.invoiceUpdates.map(s=>t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:s.invoiceNumber}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",s.totalPaidAmount.toFixed(2)]}),t.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:s.balanceAmount>0?"#dc2626":"#059669"},children:["",s.balanceAmount.toFixed(2)]}),t.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:t.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:s.status==="Paid"?"#d1fae5":s.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:s.status==="Paid"?"#065f46":s.status==="Partially Paid"?"#92400e":"#3730a3"},children:s.status==="Generated"?"DUE":s.status})})]},s.invoiceId))})]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsxs("button",{onClick:a,className:"primary-action-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),t.jsx("button",{onClick:i,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"No payment data found. Redirecting..."})})},Xte=()=>{const{logout:r,permissions:e}=pa(),n=_n();Ja();const[a,i]=P.useState(""),[s,c]=P.useState(""),[l,u]=P.useState(!1),[o,h]=P.useState(null),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(null),[w,N]=P.useState(null),[S,C]=P.useState(!1),k=()=>{C(!S)},[W,q]=P.useState({paymentId:"",receiptDate:"",notes:null});P.useEffect(()=>{te()},[]),P.useEffect(()=>{f.length>0&&(s?K(s):K())},[s,f.length]);const te=async()=>{var R,ie;try{x(!0),b(null);const Oe=(await $a.getAllCompanies(!0)).map(be=>({id:be.id,companyCode:be.companyCode,companyName:be.companyName,status:be.status}));g(Oe),console.log("Loaded companies:",Oe.length),await K(),b(null)}catch(Ae){console.error("Error loading data:",Ae);const Oe=Ae.message||((ie=(R=Ae.response)==null?void 0:R.data)==null?void 0:ie.message)||"Failed to load data";b(Oe)}finally{x(!1)}},K=async R=>{var ie,Ae;try{x(!0),b(null);const Oe=await Mte(R),be=Array.isArray(Oe)?Oe:[];A(be),b(null),be.length>0&&(console.log("Payments loaded:",be.length),console.log("Payment company IDs:",be.map(Te=>Te.companyId)),console.log("Available companies:",f.map(Te=>({id:Te.id,name:Te.companyName}))))}catch(Oe){console.error("Error loading payments:",Oe);const be=Oe.message||((Ae=(ie=Oe.response)==null?void 0:ie.data)==null?void 0:Ae.message)||"Failed to load payments";b(be),A([])}finally{x(!1)}},X=R=>{h(R),q({paymentId:R.paymentId,receiptDate:R.paymentDate,notes:null}),u(!0)},O=async()=>{if(!W.paymentId){b("Please select a payment");return}try{x(!0),b(null),N(null);const R=await Rte(W);N(`Receipt ${R.data.receipt.receiptNumber} created successfully!`),u(!1),h(null),q({paymentId:"",receiptDate:"",notes:null}),await K(s||void 0)}catch(R){console.error("Error creating receipt:",R),b(R.message||"Failed to create receipt")}finally{x(!1)}},le=d.filter(R=>{var Oe,be;const ie=R.paymentId.toLowerCase().includes(a.toLowerCase())||((Oe=R.receiptNumber)==null?void 0:Oe.toLowerCase().includes(a.toLowerCase()))||((be=f.find(Te=>Te.id===R.companyId))==null?void 0:be.companyName.toLowerCase().includes(a.toLowerCase())),Ae=!s||R.companyId===s;return ie&&Ae}),z=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${S?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!S&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:k,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:S?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:z.map(R=>t.jsx("li",{children:t.jsxs(Zr,{to:R.path,className:`nav-link ${R.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:R.icon}),!S&&t.jsx("span",{className:"nav-label",children:R.label})]})},R.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!S&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!S&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Receipt Management"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Receipt Management"})}),y&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[y,t.jsx("button",{onClick:()=>b(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),w&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[w,t.jsx("button",{onClick:()=>N(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by payment ID, receipt number, or company...",value:a,onChange:R=>i(R.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:s,onChange:R=>c(R.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),f.filter(R=>R.status==="Active").map(R=>t.jsx("option",{value:R.id,children:R.companyName},R.id))]})]}),t.jsx("div",{className:"invoice-table-container",children:m&&d.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading payments..."}):le.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:d.length===0?"No payments found without receipts":"No payments match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Payment ID"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Amount"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:le.map(R=>{const ie=f.find(Ae=>Ae.id===R.companyId);return t.jsxs("tr",{children:[t.jsxs("td",{children:[R.paymentId.substring(0,8),"..."]}),t.jsx("td",{children:(ie==null?void 0:ie.companyName)||R.companyId||"-"}),t.jsx("td",{children:R.paymentDate}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(R.paymentAmount).toFixed(2)]}),t.jsx("td",{children:R.paymentMode}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:R.status==="Completed"?"#d1fae5":"#fef3c7",color:R.status==="Completed"?"#065f46":"#92400e"},children:R.status})}),t.jsx("td",{children:t.jsx("button",{onClick:()=>X(R),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Create Receipt"})})]},R.paymentId)})})]})}),l&&o&&t.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:t.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Create Receipt"}),t.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:t.jsxs("div",{style:{display:"grid",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),t.jsxs("span",{style:{fontWeight:600},children:[o.paymentId.substring(0,8),"..."]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),t.jsxs("span",{style:{fontWeight:600},children:["",Number(o.paymentAmount).toFixed(2)]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),t.jsx("span",{children:o.paymentDate})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),t.jsx("span",{children:o.paymentMode})]})]})}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"date",value:W.receiptDate||"",onChange:R=>q({...W,receiptDate:R.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:W.notes||"",onChange:R=>q({...W,notes:R.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>u(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:O,disabled:m||!W.receiptDate,style:{padding:"10px 20px",background:m||!W.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:m||!W.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:m?"Creating...":"Create Receipt"})]})]})})]})]})]})},IF="http://localhost:3000/api/v1",TF=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},zg=async(r,e={})=>{const n=TF(),a={"Content-Type":"application/json",...e.headers};n&&(a.Authorization=`Bearer ${n}`);const i=await fetch(`${IF}${r}`,{...e,headers:a});if(!i.ok){let c=`HTTP error! status: ${i.status}`;try{const u=await i.json();c=u.message||u.error||c,u.message&&typeof u.message=="object"&&(c=JSON.stringify(u.message))}catch{i.status===500?c="Internal server error":i.status===401?c="Unauthorized. Please login again.":i.status===403?c="Forbidden. You do not have permission.":i.status===404&&(c="Resource not found")}const l=new Error(c);throw l.status=i.status,l.response={status:i.status},l}return(await i.json()).data},Yte=async r=>{const e=r?`?companyId=${r}`:"";return zg(`/fin-balance${e}`,{method:"GET"})},Zte=async r=>zg("/fin-balance",{method:"POST",body:JSON.stringify(r)}),Jte=async(r,e)=>zg(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(e)}),ere=async r=>zg(`/fin-balance/${r}`,{method:"DELETE"}),tre=async r=>{const e=TF(),n=new FormData;n.append("file",r);const a=await fetch(`${IF}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...e&&{Authorization:`Bearer ${e}`}},body:n});if(!a.ok){let s=`HTTP error! status: ${a.status}`;try{const c=await a.json();s=c.message||c.error||s}catch{s="Failed to preview bulk upload"}throw new Error(s)}return(await a.json()).data},rre=async r=>zg("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),nre=()=>{const{logout:r,permissions:e}=pa(),n=_n();Ja();const a=P.useRef(null),[i,s]=P.useState(""),[c,l]=P.useState(""),[u,o]=P.useState([]),[h,d]=P.useState([]),[A,f]=P.useState([]),[g,m]=P.useState(!1),[x,y]=P.useState(null),[b,w]=P.useState(null),[N,S]=P.useState(!1),C=()=>{S(!N)},[k,W]=P.useState(!1),[q,te]=P.useState(!1),[K,X]=P.useState(!1),[O,le]=P.useState(null),[z,R]=P.useState(null),[ie,Ae]=P.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});P.useEffect(()=>{Oe()},[]),P.useEffect(()=>{c?be(c):be()},[c]);const Oe=async()=>{try{m(!0),y(null);const J=await $a.getAllCompanies(!0);d(J.map(Pe=>({id:Pe.id,companyCode:Pe.companyCode,companyName:Pe.companyName,status:Pe.status})));const je=await ks.getAllHcfs(void 0,!1);f(je.map(Pe=>{var Le;return{id:Pe.id,hcfCode:Pe.hcfCode,hcfName:Pe.hcfName,companyId:Pe.companyId,companyName:((Le=J.find(Ie=>Ie.id===Pe.companyId))==null?void 0:Le.companyName)||""}})),await be()}catch(J){console.error("Error loading data:",J),y(J.message||"Failed to load data")}finally{m(!1)}},be=async J=>{var je,Pe;try{m(!0),y(null);const Le=await Yte(J);o(Array.isArray(Le)?Le:[]),y(null)}catch(Le){console.error("Error loading balances:",Le);const Ie=Le.message||((Pe=(je=Le.response)==null?void 0:je.data)==null?void 0:Pe.message)||"Failed to load balances";y(Ie),o([])}finally{m(!1)}},Te=async J=>{var Pe;const je=(Pe=J.target.files)==null?void 0:Pe[0];if(je)try{m(!0),y(null),w(null);const Le=await tre(je);R(Le),X(!0)}catch(Le){console.error("Error previewing upload:",Le),y(Le.message||"Failed to preview Excel file")}finally{m(!1),a.current&&(a.current.value="")}},Y=async()=>{if(z)try{m(!0),y(null),w(null);const J=await rre(z),je=J.created.length+J.updated.length;w(`Successfully processed ${je} records (${J.created.length} created, ${J.updated.length} updated)`),X(!1),R(null),await be(c||void 0)}catch(J){console.error("Error executing bulk upload:",J),y(J.message||"Failed to execute bulk upload")}finally{m(!1)}},Ne=()=>{Ae({companyId:"",hcfId:"",openingBalance:0,notes:null}),W(!0)},ce=J=>{le(J),Ae({companyId:J.companyId,hcfId:J.hcfId,openingBalance:J.openingBalance,notes:J.notes}),te(!0)},ae=async J=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{m(!0),y(null),await ere(J),w("Financial balance deleted successfully"),await be(c||void 0)}catch(je){console.error("Error deleting balance:",je),y(je.message||"Failed to delete financial balance")}finally{m(!1)}},Ce=async()=>{try{m(!0),y(null),w(null),await Zte(ie),w("Financial balance created successfully"),W(!1),Ae({companyId:"",hcfId:"",openingBalance:0,notes:null}),await be(c||void 0)}catch(J){console.error("Error creating balance:",J),y(J.message||"Failed to create financial balance")}finally{m(!1)}},Ee=async()=>{if(O)try{m(!0),y(null),w(null);const J={openingBalance:ie.openingBalance,notes:ie.notes};await Jte(O.finBalanceId,J),w("Financial balance updated successfully (current balance reset to opening balance)"),te(!1),le(null),await be(c||void 0)}catch(J){console.error("Error updating balance:",J),y(J.message||"Failed to update financial balance")}finally{m(!1)}},we=u.filter(J=>{var Le,Ie,pe,ke;const je=((Le=J.companyName)==null?void 0:Le.toLowerCase().includes(i.toLowerCase()))||((Ie=J.companyCode)==null?void 0:Ie.toLowerCase().includes(i.toLowerCase()))||((pe=J.hcfCode)==null?void 0:pe.toLowerCase().includes(i.toLowerCase()))||((ke=J.hcfName)==null?void 0:ke.toLowerCase().includes(i.toLowerCase())),Pe=!c||J.companyId===c;return je&&Pe}),me=ie.companyId?A.filter(J=>J.companyId===ie.companyId):[],se=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${N?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!N&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:C,"aria-label":N?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:se.map(J=>t.jsx("li",{children:t.jsxs(Zr,{to:J.path,className:`nav-link ${J.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:J.icon}),!N&&t.jsx("span",{className:"nav-label",children:J.label})]})},J.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!N&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!N&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Finance / Financial Balance Summary"})})}),t.jsxs("div",{className:"invoice-management-page",children:[t.jsx("div",{className:"invoice-management-header",children:t.jsx("h1",{className:"invoice-management-title",children:"Financial Balance Summary"})}),x&&t.jsxs("div",{className:"alert alert-error",style:{margin:"16px",padding:"12px",background:"#fee",color:"#c33",borderRadius:"4px"},children:[x,t.jsx("button",{onClick:()=>y(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),b&&t.jsxs("div",{className:"alert alert-success",style:{margin:"16px",padding:"12px",background:"#efe",color:"#3c3",borderRadius:"4px"},children:[b,t.jsx("button",{onClick:()=>w(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),t.jsxs("div",{className:"invoice-management-actions",children:[t.jsxs("div",{className:"invoice-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"invoice-search-input",placeholder:"Search by company, HCF code, or name...",value:i,onChange:J=>s(J.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:J=>l(J.target.value),children:[t.jsx("option",{value:"",children:"All Companies"}),h.filter(J=>J.status==="Active").map(J=>t.jsx("option",{value:J.id,children:J.companyName},J.id))]}),t.jsxs("label",{className:"export-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"17 8 12 3 7 8"}),t.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",t.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",onChange:Te,style:{display:"none"}})]}),t.jsxs("button",{className:"add-invoice-btn",onClick:Ne,disabled:g,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]}),t.jsx("div",{className:"invoice-table-container",children:g&&u.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading balances..."}):we.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:u.length===0?"No financial balance records found":"No records match your search criteria"}):t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Opening Balance"}),t.jsx("th",{children:"Current Balance"}),t.jsx("th",{children:"Is Manual"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:we.map(J=>t.jsxs("tr",{children:[t.jsx("td",{children:J.companyName||"-"}),t.jsx("td",{children:J.hcfCode||"-"}),t.jsx("td",{children:J.hcfName||"-"}),t.jsxs("td",{style:{fontWeight:600},children:["",Number(J.openingBalance).toFixed(2)]}),t.jsxs("td",{style:{fontWeight:600,color:J.currentBalance<0?"#dc2626":"#059669"},children:["",Number(J.currentBalance).toFixed(2)]}),t.jsx("td",{children:t.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500,background:J.isManual?"#dbeafe":"#f3f4f6",color:J.isManual?"#1e40af":"#6b7280"},children:J.isManual?"Manual":"Auto"})}),t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>ce(J),style:{padding:"6px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Edit"}),t.jsx("button",{onClick:()=>ae(J.finBalanceId),style:{padding:"6px 12px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:"Delete"})]})})]},J.finBalanceId))})]})}),k&&t.jsx("div",{className:"modal-overlay",onClick:()=>W(!1),children:t.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add Financial Balance"}),t.jsx("button",{onClick:()=>W(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:ie.companyId,onChange:J=>Ae({...ie,companyId:J.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"Select Company"}),h.filter(J=>J.status==="Active").map(J=>t.jsx("option",{value:J.id,children:J.companyName},J.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:ie.hcfId,onChange:J=>Ae({...ie,hcfId:J.target.value}),required:!0,disabled:!ie.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:ie.companyId?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"",children:ie.companyId?"Select HCF":"Select Company first"}),me.map(J=>t.jsxs("option",{value:J.id,children:[J.hcfCode," - ",J.hcfName]},J.id))]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:ie.openingBalance,onChange:J=>Ae({...ie,openingBalance:parseFloat(J.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:ie.notes||"",onChange:J=>Ae({...ie,notes:J.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>W(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ce,disabled:g||!ie.companyId||!ie.hcfId||ie.openingBalance<0,style:{padding:"10px 20px",background:g||!ie.companyId||!ie.hcfId||ie.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||!ie.companyId||!ie.hcfId||ie.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Creating...":"Create"})]})]})}),q&&O&&t.jsx("div",{className:"modal-overlay",onClick:()=>te(!1),children:t.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Edit Financial Balance"}),t.jsx("button",{onClick:()=>te(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[t.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),t.jsx("input",{type:"text",value:O.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),t.jsx("input",{type:"text",value:`${O.hcfCode||""} - ${O.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:ie.openingBalance,onChange:J=>Ae({...ie,openingBalance:parseFloat(J.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),t.jsx("input",{type:"text",value:`${Number(O.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),t.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),t.jsx("textarea",{value:ie.notes||"",onChange:J=>Ae({...ie,notes:J.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>te(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:g||ie.openingBalance<0,style:{padding:"10px 20px",background:g||ie.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:g||ie.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Updating...":"Update"})]})]})}),K&&z&&t.jsx("div",{className:"modal-overlay",onClick:()=>X(!1),children:t.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Preview Bulk Upload"}),t.jsx("button",{onClick:()=>X(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:z.inserts.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:z.updates.length})]}),t.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:z.errors.length+z.parseErrors.length})]})]}),z.parseErrors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:z.parseErrors.map((J,je)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",J.row,":"]})," ",J.message]},je))})]}),z.errors.length>0&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),t.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:z.errors.map((J,je)=>t.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[t.jsxs("strong",{children:["Row ",J.row,":"]})," ",J.message]},je))})]}),(z.inserts.length>0||z.updates.length>0)&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),t.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),t.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),t.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),t.jsxs("tbody",{children:[z.inserts.map((J,je)=>{const Pe=h.find(Ie=>Ie.id===J.companyId),Le=A.find(Ie=>Ie.id===J.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),t.jsx("td",{style:{padding:"10px"},children:(Pe==null?void 0:Pe.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Le==null?void 0:Le.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Le==null?void 0:Le.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(J.openingBalance).toFixed(2)]})]},`insert-${je}`)}),z.updates.map((J,je)=>{const Pe=h.find(Ie=>Ie.id===J.data.companyId),Le=A.find(Ie=>Ie.id===J.data.hcfId);return t.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[t.jsx("td",{style:{padding:"10px"},children:t.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),t.jsx("td",{style:{padding:"10px"},children:(Pe==null?void 0:Pe.companyName)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Le==null?void 0:Le.hcfCode)||"-"}),t.jsx("td",{style:{padding:"10px"},children:(Le==null?void 0:Le.hcfName)||"-"}),t.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(J.data.openingBalance).toFixed(2)]})]},`update-${je}`)})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{onClick:()=>X(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),t.jsx("button",{onClick:Y,disabled:g||z.inserts.length===0&&z.updates.length===0,style:{padding:"10px 20px",background:g||z.inserts.length===0&&z.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:g||z.inserts.length===0&&z.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:g?"Processing...":"Save All"})]})]})})]})]})]})},are="http://localhost:3000/api/v1",ire=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},g0=async(r,e={})=>{const n=ire(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${are}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const c=await i.json();c.message?Array.isArray(c.message)?s=c.message.join(", "):typeof c.message=="string"?s=c.message:s=String(c.message):c.error&&(typeof c.error=="string"?s=c.error:c.error.message?s=typeof c.error.message=="string"?c.error.message:String(c.error.message):s=JSON.stringify(c.error));const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l.errorData=c,l}catch{const l=new Error(s);throw l.status=i.status,l.statusText=i.statusText,l}}return i.status===204?{}:i.json()},sf={generateLabels:async r=>(await g0("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await g0(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,e,n,a)=>{let i="/barcode-labels";const s=new URLSearchParams;return r&&s.append("companyId",r),e&&s.append("hcfId",e),n&&s.append("hcfCode",n),a&&s.append("barcodeType",a),s.toString()&&(i+=`?${s.toString()}`),(await g0(i,{method:"GET"})).data},getLastSequence:async(r,e)=>(await g0(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(e)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await g0(`/barcode-labels/${r}`,{method:"DELETE"})}};var m1={},v0={},g1={},I6;function dd(){if(I6)return g1;I6=1,Object.defineProperty(g1,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function n(a,i){r(this,n),this.data=a,this.text=i.text||a,this.options=i};return g1.default=e,g1}var T6;function sre(){if(T6)return v0;T6=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.CODE39=void 0;var r=(function(){function m(x,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,y,b){return y&&m(x.prototype,y),b&&m(x,b),x}})(),e=dd(),n=a(e);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function s(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var l=(function(m){c(x,m);function x(y,b){return i(this,x),y=y.toUpperCase(),b.mod43&&(y+=A(g(y))),s(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,b))}return r(x,[{key:"encode",value:function(){for(var b=h("*"),w=0;w<this.data.length;w++)b+=h(this.data[w])+"0";return b+=h("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(m){return d(f(m))}function d(m){return o[m].toString(2)}function A(m){return u[m]}function f(m){return u.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=f(m[y]);return x=x%43,x}return v0.CODE39=l,v0}var ih={},v1={},x1={},el={},_6;function Kg(){if(_6)return el;_6=1,Object.defineProperty(el,"__esModule",{value:!0});var r;function e(u,o,h){return o in u?Object.defineProperty(u,o,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[o]=h,u}var n=el.SET_A=0,a=el.SET_B=1,i=el.SET_C=2;el.SHIFT=98;var s=el.START_A=103,c=el.START_B=104,l=el.START_C=105;return el.MODULO=103,el.STOP=106,el.FNC1=207,el.SET_BY_CODE=(r={},e(r,s,n),e(r,c,a),e(r,l,i),r),el.SWAP={101:n,100:a,99:i},el.A_START_CHAR="",el.B_START_CHAR="",el.C_START_CHAR="",el.A_CHARS="[\0-_-]",el.B_CHARS="[ --]",el.C_CHARS="(*[0-9]{2}*)",el.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],el}var O6;function o2(){if(O6)return x1;O6=1,Object.defineProperty(x1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=dd(),n=i(e),a=Kg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){s(this,h);var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d.substring(1),A));return f.bytes=d.split("").map(function(g){return g.charCodeAt(0)}),f}return r(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.bytes,f=A.shift()-105,g=a.SET_BY_CODE[f];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&A.unshift(a.FNC1);var m=h.next(A,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(f)+m.result+h.getBar((m.checksum+f)%a.MODULO)+h.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var A=this.options.ean128||!1;return typeof A=="string"&&(A=A.toLowerCase()==="true"),A}}],[{key:"getBar",value:function(A){return a.BARS[A]?a.BARS[A].toString():""}},{key:"correctIndex",value:function(A,f){if(f===a.SET_A){var g=A.shift();return g<32?g+64:g-32}else return f===a.SET_B?A.shift()-32:(A.shift()-48)*10+A.shift()-48}},{key:"next",value:function(A,f,g){if(!A.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(A[0]>=200){x=A.shift()-105;var y=a.SWAP[x];y!==void 0?m=h.next(A,f+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(A[0]=g===a.SET_A?A[0]>95?A[0]-96:A[0]:A[0]<32?A[0]+96:A[0]),m=h.next(A,f+1,g))}else x=h.correctIndex(A,g),m=h.next(A,f+1,g);var b=h.getBar(x),w=x*f;return{result:b+m.result,checksum:w+m.checksum}}}]),h})(n.default);return x1.default=u,x1}var y1={},k6;function ore(){if(k6)return y1;k6=1,Object.defineProperty(y1,"__esModule",{value:!0});var r=Kg(),e=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function i(c,l){var u=l?r.A_CHARS:r.B_CHARS,o=c.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+""+s(c.substring(o[1].length));var h=c.match(new RegExp("^"+u+"+"))[0];return h.length===c.length?c:h+String.fromCharCode(l?205:206)+i(c.substring(h.length),!l)}function s(c){var l=a(c),u=l.length;if(u===c.length)return c;c=c.substring(u);var o=e(c)>=n(c);return l+String.fromCharCode(o?206:205)+i(c,o)}return y1.default=function(c){var l=void 0,u=a(c).length;if(u>=2)l=r.C_START_CHAR+s(c);else{var o=e(c)>n(c);l=(o?r.A_START_CHAR:r.B_START_CHAR)+i(c,o)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,d){return""+d})},y1}var P6;function lre(){if(P6)return v1;P6=1,Object.defineProperty(v1,"__esModule",{value:!0});var r=o2(),e=i(r),n=ore(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){if(s(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(d))var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,a.default)(d),A));else var f=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A));return c(f)}return h})(e.default);return v1.default=u,v1}var b1={},F6;function cre(){if(F6)return b1;F6=1,Object.defineProperty(b1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=o2(),n=i(e),a=Kg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.A_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),h})(n.default);return b1.default=u,b1}var w1={},D6;function ure(){if(D6)return w1;D6=1,Object.defineProperty(w1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=o2(),n=i(e),a=Kg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.B_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),h})(n.default);return w1.default=u,w1}var j1={},M6;function dre(){if(M6)return j1;M6=1,Object.defineProperty(j1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=o2(),n=i(e),a=Kg();function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,a.C_START_CHAR+d,A))}return r(h,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),h})(n.default);return j1.default=u,j1}var R6;function hre(){if(R6)return ih;R6=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.CODE128C=ih.CODE128B=ih.CODE128A=ih.CODE128=void 0;var r=lre(),e=u(r),n=cre(),a=u(n),i=ure(),s=u(i),c=dre(),l=u(c);function u(o){return o&&o.__esModule?o:{default:o}}return ih.CODE128=e.default,ih.CODE128A=a.default,ih.CODE128B=s.default,ih.CODE128C=l.default,ih}var mu={},C1={},iA={},L6;function Gg(){return L6||(L6=1,Object.defineProperty(iA,"__esModule",{value:!0}),iA.SIDE_BIN="101",iA.MIDDLE_BIN="01010",iA.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},iA.EAN2_STRUCTURE=["LL","LG","GL","GG"],iA.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],iA.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),iA}var N1={},S1={},U6;function qg(){if(U6)return S1;U6=1,Object.defineProperty(S1,"__esModule",{value:!0});var r=Gg(),e=function(a,i,s){var c=a.split("").map(function(u,o){return r.BINARIES[i[o]]}).map(function(u,o){return u?u[a[o]]:""});if(s){var l=a.length-1;c=c.map(function(u,o){return o<l?u+s:u})}return c.join("")};return S1.default=e,S1}var H6;function _F(){if(H6)return N1;H6=1,Object.defineProperty(N1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=Gg(),n=qg(),a=c(n),i=dd(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function u(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function o(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var h=(function(d){o(A,d);function A(f,g){l(this,A);var m=u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),A})(s.default);return N1.default=h,N1}var Q6;function Are(){if(Q6)return C1;Q6=1,Object.defineProperty(C1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=function d(A,f,g){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,f);if(m===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:d(x,f,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=Gg(),a=_F(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function l(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function u(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var o=function(A){var f=A.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-f%10)%10},h=(function(d){u(A,d);function A(f,g){c(this,A),f.search(/^[0-9]{12}$/)!==-1&&(f+=o(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.lastChar=g.lastChar,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),A})(i.default);return C1.default=h,C1}var B1={},W6;function fre(){if(W6)return B1;W6=1,Object.defineProperty(B1,"__esModule",{value:!0});var r=(function(){function h(d,A){for(var f=0;f<A.length;f++){var g=A[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,A,f){return A&&h(d.prototype,A),f&&h(d,f),d}})(),e=function h(d,A,f){d===null&&(d=Function.prototype);var g=Object.getOwnPropertyDescriptor(d,A);if(g===void 0){var m=Object.getPrototypeOf(d);return m===null?void 0:h(m,A,f)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(f)}},n=_F(),a=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var u=function(d){var A=d.substr(0,7).split("").map(function(f){return+f}).reduce(function(f,g,m){return m%2?f+g:f+g*3},0);return(10-A%10)%10},o=(function(h){l(d,h);function d(A,f){return s(this,d),A.search(/^[0-9]{7}$/)!==-1&&(A+=u(A)),c(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,A,f))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var f=this.data.substr(0,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftEncode",this).call(this,f,"LLLL")}},{key:"rightText",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var f=this.data.substr(4,4);return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightEncode",this).call(this,f,"RRRR")}}]),d})(a.default);return B1.default=o,B1}var E1={},$6;function pre(){if($6)return E1;$6=1,Object.defineProperty(E1,"__esModule",{value:!0});var r=(function(){function A(f,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,g,m){return g&&A(f.prototype,g),m&&A(f,m),f}})(),e=Gg(),n=qg(),a=c(n),i=dd(),s=c(i);function c(A){return A&&A.__esModule?A:{default:A}}function l(A,f){if(!(A instanceof f))throw new TypeError("Cannot call a class as a function")}function u(A,f){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:A}function o(A,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);A.prototype=Object.create(f&&f.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(A,f):A.__proto__=f)}var h=function(f){var g=f.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},d=(function(A){o(f,A);function f(g,m){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,m))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),f})(s.default);return E1.default=d,E1}var I1={},V6;function mre(){if(V6)return I1;V6=1,Object.defineProperty(I1,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})(),e=Gg(),n=qg(),a=c(n),i=dd(),s=c(i);function c(d){return d&&d.__esModule?d:{default:d}}function l(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function u(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function o(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var h=(function(d){o(A,d);function A(f,g){return l(this,A),u(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),A})(s.default);return I1.default=h,I1}var x0={},z6;function OF(){if(z6)return x0;z6=1,Object.defineProperty(x0,"__esModule",{value:!0});var r=(function(){function d(A,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,g){return f&&d(A.prototype,f),g&&d(A,g),A}})();x0.checksum=h;var e=qg(),n=s(e),a=dd(),i=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function c(d,A){if(!(d instanceof A))throw new TypeError("Cannot call a class as a function")}function l(d,A){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:d}function u(d,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);d.prototype=Object.create(A&&A.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(d,A):d.__proto__=A)}var o=(function(d){u(A,d);function A(f,g){c(this,A),f.search(/^[0-9]{11}$/)!==-1&&(f+=h(f));var m=l(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,f,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),A})(i.default);function h(d){var A=0,f;for(f=1;f<11;f+=2)A+=parseInt(d[f]);for(f=0;f<11;f+=2)A+=parseInt(d[f])*3;return(10-A%10)%10}return x0.default=o,x0}var T1={},K6;function gre(){if(K6)return T1;K6=1,Object.defineProperty(T1,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var b=x[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),e=qg(),n=c(e),a=dd(),i=c(a),s=OF();function c(g){return g&&g.__esModule?g:{default:g}}function l(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function o(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],A=(function(g){o(m,g);function m(x,y){l(this,m);var b=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(b.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)b.middleDigits=x,b.upcA=f(x,"0"),b.text=y.text||""+b.upcA[0]+x+b.upcA[b.upcA.length-1],b.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=x.substring(1,x.length-1),b.upcA=f(b.middleDigits,x[0]),b.upcA[b.upcA.length-1]===x[x.length-1])b.isValid=!0;else return u(b);else return u(b);return b.displayValue=y.displayValue,y.fontSize>y.width*10?b.fontSize=y.width*10:b.fontSize=y.fontSize,b.guardHeight=y.height+b.fontSize/2+y.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],b=this.upcA[this.upcA.length-1],w=d[parseInt(b)][parseInt(y)];return(0,n.default)(this.middleDigits,w)}}]),m})(i.default);function f(g,m){for(var x=parseInt(g[g.length-1]),y=h[x],b="",w=0,N=0;N<y.length;N++){var S=y[N];S==="X"?b+=g[w++]:b+=S}return b=""+m+b,""+b+(0,s.checksum)(b)}return T1.default=A,T1}var G6;function vre(){if(G6)return mu;G6=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.UPCE=mu.UPC=mu.EAN2=mu.EAN5=mu.EAN8=mu.EAN13=void 0;var r=Are(),e=A(r),n=fre(),a=A(n),i=pre(),s=A(i),c=mre(),l=A(c),u=OF(),o=A(u),h=gre(),d=A(h);function A(f){return f&&f.__esModule?f:{default:f}}return mu.EAN13=e.default,mu.EAN8=a.default,mu.EAN5=s.default,mu.EAN2=l.default,mu.UPC=o.default,mu.UPCE=d.default,mu}var Uf={},_1={},Dp={},q6;function xre(){return q6||(q6=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.START_BIN="1010",Dp.END_BIN="11101",Dp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Dp}var X6;function kF(){if(X6)return _1;X6=1,Object.defineProperty(_1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=xre(),n=dd(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var A=this,f=this.data.match(/.{2}/g).map(function(g){return A.encodePair(g)}).join("");return{data:e.START_BIN+f+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(A){var f=e.BINARIES[A[1]];return e.BINARIES[A[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(f[m]==="1"?"000":"0")}).join("")}}]),h})(a.default);return _1.default=u,_1}var O1={},Y6;function yre(){if(Y6)return O1;Y6=1,Object.defineProperty(O1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=kF(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=function(h){var d=h.substr(0,13).split("").map(function(A){return parseInt(A,10)}).reduce(function(A,f,g){return A+f*(3-g%2*2)},0);return Math.ceil(d/10)*10-d},u=(function(o){c(h,o);function h(d,A){return i(this,h),d.search(/^[0-9]{13}$/)!==-1&&(d+=l(d)),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),h})(n.default);return O1.default=u,O1}var Z6;function bre(){if(Z6)return Uf;Z6=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.ITF14=Uf.ITF=void 0;var r=kF(),e=i(r),n=yre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Uf.ITF=e.default,Uf.ITF14=a.default,Uf}var td={},k1={},J6;function Xg(){if(J6)return k1;J6=1,Object.defineProperty(k1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=dd(),n=a(e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function s(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function c(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var l=(function(o){c(h,o);function h(d,A){return i(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"encode",value:function(){for(var A="110",f=0;f<this.data.length;f++){var g=parseInt(this.data[f]),m=g.toString(2);m=u(m,4-m.length);for(var x=0;x<m.length;x++)A+=m[x]=="0"?"100":"110"}return A+="1001",{data:A,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(n.default);function u(o,h){for(var d=0;d<h;d++)o="0"+o;return o}return k1.default=l,k1}var P1={},y0={},eT;function l2(){if(eT)return y0;eT=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.mod10=r,y0.mod11=e;function r(n){for(var a=0,i=0;i<n.length;i++){var s=parseInt(n[i]);(i+n.length)%2===0?a+=s:a+=s*2%10+Math.floor(s*2/10)}return(10-a%10)%10}function e(n){for(var a=0,i=[2,3,4,5,6,7],s=0;s<n.length;s++){var c=parseInt(n[n.length-1-s]);a+=i[s%i.length]*c}return(11-a%11)%11}return y0}var tT;function wre(){if(tT)return P1;tT=1,Object.defineProperty(P1,"__esModule",{value:!0});var r=Xg(),e=a(r),n=l2();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod10)(h),d))}return o})(e.default);return P1.default=l,P1}var F1={},rT;function jre(){if(rT)return F1;rT=1,Object.defineProperty(F1,"__esModule",{value:!0});var r=Xg(),e=a(r),n=l2();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h+(0,n.mod11)(h),d))}return o})(e.default);return F1.default=l,F1}var D1={},nT;function Cre(){if(nT)return D1;nT=1,Object.defineProperty(D1,"__esModule",{value:!0});var r=Xg(),e=a(r),n=l2();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod10)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return D1.default=l,D1}var M1={},aT;function Nre(){if(aT)return M1;aT=1,Object.defineProperty(M1,"__esModule",{value:!0});var r=Xg(),e=a(r),n=l2();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),h+=(0,n.mod11)(h),h+=(0,n.mod10)(h),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return o})(e.default);return M1.default=l,M1}var iT;function Sre(){if(iT)return td;iT=1,Object.defineProperty(td,"__esModule",{value:!0}),td.MSI1110=td.MSI1010=td.MSI11=td.MSI10=td.MSI=void 0;var r=Xg(),e=h(r),n=wre(),a=h(n),i=jre(),s=h(i),c=Cre(),l=h(c),u=Nre(),o=h(u);function h(d){return d&&d.__esModule?d:{default:d}}return td.MSI=e.default,td.MSI10=a.default,td.MSI11=s.default,td.MSI1010=l.default,td.MSI1110=o.default,td}var b0={},sT;function Bre(){if(sT)return b0;sT=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.pharmacode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=dd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o);var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d));return A.number=parseInt(h,10),A}return r(o,[{key:"encode",value:function(){for(var d=this.number,A="";!isNaN(d)&&d!=0;)d%2===0?(A="11100"+A,d=(d-2)/2):(A="100"+A,d=(d-1)/2);return A=A.slice(0,-2),{data:A,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o})(n.default);return b0.pharmacode=l,b0}var w0={},oT;function Ere(){if(oT)return w0;oT=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.codabar=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=dd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){i(this,o),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var A=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h.toUpperCase(),d));return A.text=A.options.text||A.text.replace(/[A-D]/g,""),A}return r(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var d=[],A=this.getEncodings(),f=0;f<this.data.length;f++)d.push(A[this.data.charAt(f)]),f!==this.data.length-1&&d.push("0");return{text:this.text,data:d.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o})(n.default);return w0.codabar=l,w0}var Hf={},R1={},Mp={},lT;function Ire(){return lT||(lT=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Mp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Mp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Mp}var cT;function PF(){if(cT)return R1;cT=1,Object.defineProperty(R1,"__esModule",{value:!0});var r=(function(){function o(h,d){for(var A=0;A<d.length;A++){var f=d[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,A){return d&&o(h.prototype,d),A&&o(h,A),h}})(),e=Ire(),n=dd(),a=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function c(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function l(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var u=(function(o){l(h,o);function h(d,A){return s(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,A))}return r(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var A=this.data.split("").flatMap(function(x){return e.MULTI_SYMBOLS[x]||x}),f=A.map(function(x){return h.getEncoding(x)}).join(""),g=h.checksum(A,20),m=h.checksum(A.concat(g),15);return{text:this.text,data:h.getEncoding("")+f+h.getEncoding(g)+h.getEncoding(m)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(A){return e.BINARIES[h.symbolValue(A)]}},{key:"getSymbol",value:function(A){return e.SYMBOLS[A]}},{key:"symbolValue",value:function(A){return e.SYMBOLS.indexOf(A)}},{key:"checksum",value:function(A,f){var g=A.slice().reverse().reduce(function(m,x,y){var b=y%f+1;return m+h.symbolValue(x)*b},0);return h.getSymbol(g%47)}}]),h})(a.default);return R1.default=u,R1}var L1={},uT;function Tre(){if(uT)return L1;uT=1,Object.defineProperty(L1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=PF(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),o})(n.default);return L1.default=l,L1}var dT;function _re(){if(dT)return Hf;dT=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.CODE93FullASCII=Hf.CODE93=void 0;var r=PF(),e=i(r),n=Tre(),a=i(n);function i(s){return s&&s.__esModule?s:{default:s}}return Hf.CODE93=e.default,Hf.CODE93FullASCII=a.default,Hf}var j0={},hT;function Ore(){if(hT)return j0;hT=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.GenericBarcode=void 0;var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=dd(),n=a(e);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function c(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var l=(function(u){c(o,u);function o(h,d){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h,d))}return r(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o})(n.default);return j0.GenericBarcode=l,j0}var AT;function kre(){if(AT)return m1;AT=1,Object.defineProperty(m1,"__esModule",{value:!0});var r=sre(),e=hre(),n=vre(),a=bre(),i=Sre(),s=Bre(),c=Ere(),l=_re(),u=Ore();return m1.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:u.GenericBarcode},m1}var U1={},fT;function c2(){if(fT)return U1;fT=1,Object.defineProperty(U1,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};return U1.default=function(e,n){return r({},e,n)},U1}var H1={},pT;function Pre(){if(pT)return H1;pT=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=r;function r(e){var n=[];function a(i){if(Array.isArray(i))for(var s=0;s<i.length;s++)a(i[s]);else i.text=i.text||"",i.data=i.data||"",n.push(i)}return a(e),n}return H1}var Q1={},mT;function Fre(){if(mT)return Q1;mT=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Q1}var W1={},$1={},V1={},gT;function FF(){if(gT)return V1;gT=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.default=r;function r(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof e[a]=="string"&&(e[a]=parseInt(e[a],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return V1}var z1={},vT;function DF(){if(vT)return z1;vT=1,Object.defineProperty(z1,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return z1.default=r,z1}var xT;function Dre(){if(xT)return $1;xT=1,Object.defineProperty($1,"__esModule",{value:!0});var r=FF(),e=i(r),n=DF(),a=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function s(c){var l={};for(var u in a.default)a.default.hasOwnProperty(u)&&(c.hasAttribute("jsbarcode-"+u.toLowerCase())&&(l[u]=c.getAttribute("jsbarcode-"+u.toLowerCase())),c.hasAttribute("data-"+u.toLowerCase())&&(l[u]=c.getAttribute("data-"+u.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,e.default)(l),l}return $1.default=s,$1}var K1={},G1={},rd={},yT;function MF(){if(yT)return rd;yT=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.getTotalWidthOfEncodings=rd.calculateEncodingAttributes=rd.getBarcodePadding=rd.getEncodingHeight=rd.getMaximumHeightOfEncodings=void 0;var r=c2(),e=n(r);function n(o){return o&&o.__esModule?o:{default:o}}function a(o,h){return h.height+(h.displayValue&&o.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function i(o,h,d){if(d.displayValue&&h<o){if(d.textAlign=="center")return Math.floor((o-h)/2);if(d.textAlign=="left")return 0;if(d.textAlign=="right")return Math.floor(o-h)}return 0}function s(o,h,d){for(var A=0;A<o.length;A++){var f=o[A],g=(0,e.default)(h,f.options),m;g.displayValue?m=u(f.text,g,d):m=0;var x=f.data.length*g.width;f.width=Math.ceil(Math.max(m,x)),f.height=a(f,g),f.barcodePadding=i(m,x,g)}}function c(o){for(var h=0,d=0;d<o.length;d++)h+=o[d].width;return h}function l(o){for(var h=0,d=0;d<o.length;d++)o[d].height>h&&(h=o[d].height);return h}function u(o,h,d){var A;if(d)A=d;else if(typeof document<"u")A=document.createElement("canvas").getContext("2d");else return 0;A.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var f=A.measureText(o);if(!f)return 0;var g=f.width;return g}return rd.getMaximumHeightOfEncodings=l,rd.getEncodingHeight=a,rd.getBarcodePadding=i,rd.calculateEncodingAttributes=s,rd.getTotalWidthOfEncodings=c,rd}var bT;function Mre(){if(bT)return G1;bT=1,Object.defineProperty(G1,"__esModule",{value:!0});var r=(function(){function l(u,o){for(var h=0;h<o.length;h++){var d=o[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,o,h){return o&&l(u.prototype,o),h&&l(u,h),u}})(),e=c2(),n=i(e),a=MF();function i(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var c=(function(){function l(u,o,h){s(this,l),this.canvas=u,this.encodings=o,this.options=h}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var h=(0,n.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(h,this.encodings[o]),this.drawCanvasText(h,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,o);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=d,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,h){var d=this.canvas.getContext("2d"),A=h.data,f;o.textPosition=="top"?f=o.marginTop+o.fontSize+o.textMargin:f=o.marginTop,d.fillStyle=o.lineColor;for(var g=0;g<A.length;g++){var m=g*o.width+h.barcodePadding;A[g]==="1"?d.fillRect(m,f,o.width,o.height):A[g]&&d.fillRect(m,f,o.width,o.height*A[g])}}},{key:"drawCanvasText",value:function(o,h){var d=this.canvas.getContext("2d"),A=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var f,g;o.textPosition=="top"?g=o.marginTop+o.fontSize-o.textMargin:g=o.height+o.textMargin+o.marginTop+o.fontSize,d.font=A,o.textAlign=="left"||h.barcodePadding>0?(f=0,d.textAlign="left"):o.textAlign=="right"?(f=h.width-1,d.textAlign="right"):(f=h.width/2,d.textAlign="center"),d.fillText(h.text,f,g)}}},{key:"moveCanvasDrawing",value:function(o){var h=this.canvas.getContext("2d");h.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),l})();return G1.default=c,G1}var q1={},wT;function Rre(){if(wT)return q1;wT=1,Object.defineProperty(q1,"__esModule",{value:!0});var r=(function(){function u(o,h){for(var d=0;d<h.length;d++){var A=h[d];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,A.key,A)}}return function(o,h,d){return h&&u(o.prototype,h),d&&u(o,d),o}})(),e=c2(),n=i(e),a=MF();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=(function(){function u(o,h,d){s(this,u),this.svg=o,this.encodings=h,this.options=d,this.document=d.xmlDocument||document}return r(u,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var d=0;d<this.encodings.length;d++){var A=this.encodings[d],f=(0,n.default)(this.options,A.options),g=this.createGroup(h,f.marginTop,this.svg);this.setGroupOptions(g,f),this.drawSvgBarcode(g,f,A),this.drawSVGText(g,f,A),h+=A.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,a.getTotalWidthOfEncodings)(this.encodings),d=(0,a.getMaximumHeightOfEncodings)(this.encodings),A=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(A,d),this.options.background&&this.drawRect(0,0,A,d,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,d,A){var f=A.data,g;d.textPosition=="top"?g=d.fontSize+d.textMargin:g=0;for(var m=0,x=0,y=0;y<f.length;y++)x=y*d.width+A.barcodePadding,f[y]==="1"?m++:m>0&&(this.drawRect(x-d.width*m,g,d.width*m,d.height,h),m=0);m>0&&this.drawRect(x-d.width*(m-1),g,d.width*m,d.height,h)}},{key:"drawSVGText",value:function(h,d,A){var f=this.document.createElementNS(c,"text");if(d.displayValue){var g,m;f.setAttribute("font-family",d.font),f.setAttribute("font-size",d.fontSize),d.fontOptions.includes("bold")&&f.setAttribute("font-weight","bold"),d.fontOptions.includes("italic")&&f.setAttribute("font-style","italic"),d.textPosition=="top"?m=d.fontSize-d.textMargin:m=d.height+d.textMargin+d.fontSize,d.textAlign=="left"||A.barcodePadding>0?(g=0,f.setAttribute("text-anchor","start")):d.textAlign=="right"?(g=A.width-1,f.setAttribute("text-anchor","end")):(g=A.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",g),f.setAttribute("y",m),f.appendChild(this.document.createTextNode(A.text)),h.appendChild(f)}}},{key:"setSvgAttributes",value:function(h,d){var A=this.svg;A.setAttribute("width",h+"px"),A.setAttribute("height",d+"px"),A.setAttribute("x","0px"),A.setAttribute("y","0px"),A.setAttribute("viewBox","0 0 "+h+" "+d),A.setAttribute("xmlns",c),A.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,d,A){var f=this.document.createElementNS(c,"g");return f.setAttribute("transform","translate("+h+", "+d+")"),A.appendChild(f),f}},{key:"setGroupOptions",value:function(h,d){h.setAttribute("fill",d.lineColor)}},{key:"drawRect",value:function(h,d,A,f,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",h),m.setAttribute("y",d),m.setAttribute("width",A),m.setAttribute("height",f),g.appendChild(m),m}}]),u})();return q1.default=l,q1}var X1={},jT;function Lre(){if(jT)return X1;jT=1,Object.defineProperty(X1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i,s,c){e(this,a),this.object=i,this.encodings=s,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return X1.default=n,X1}var CT;function Ure(){if(CT)return K1;CT=1,Object.defineProperty(K1,"__esModule",{value:!0});var r=Mre(),e=c(r),n=Rre(),a=c(n),i=Lre(),s=c(i);function c(l){return l&&l.__esModule?l:{default:l}}return K1.default={CanvasRenderer:e.default,SVGRenderer:a.default,ObjectRenderer:s.default},K1}var Rp={},NT;function RF(){if(NT)return Rp;NT=1,Object.defineProperty(Rp,"__esModule",{value:!0});function r(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function e(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function n(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var a=(function(c){n(l,c);function l(u,o){r(this,l);var h=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return h.name="InvalidInputException",h.symbology=u,h.input=o,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return l})(Error),i=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return l})(Error),s=(function(c){n(l,c);function l(){r(this,l);var u=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return l})(Error);return Rp.InvalidInputException=a,Rp.InvalidElementException=i,Rp.NoElementException=s,Rp}var ST;function Hre(){if(ST)return W1;ST=1,Object.defineProperty(W1,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e=Dre(),n=c(e),a=Ure(),i=c(a),s=RF();function c(h){return h&&h.__esModule?h:{default:h}}function l(h){if(typeof h=="string")return u(h);if(Array.isArray(h)){for(var d=[],A=0;A<h.length;A++)d.push(l(h[A]));return d}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return o(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,n.default)(h),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,n.default)(h),renderer:i.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:i.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":r(h))==="object"&&!h.nodeName)return{element:h,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}}function u(h){var d=document.querySelectorAll(h);if(d.length!==0){for(var A=[],f=0;f<d.length;f++)A.push(l(d[f]));return A}}function o(h){var d=document.createElement("canvas");return{element:d,options:(0,n.default)(h),renderer:i.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",d.toDataURL())}}}return W1.default=l,W1}var Y1={},BT;function Qre(){if(BT)return Y1;BT=1,Object.defineProperty(Y1,"__esModule",{value:!0});var r=(function(){function a(i,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,s,c){return s&&a(i.prototype,s),c&&a(i,c),i}})();function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(i){e(this,a),this.api=i}return r(a,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),a})();return Y1.default=n,Y1}var jj,ET;function Wre(){if(ET)return jj;ET=1;var r=kre(),e=y(r),n=c2(),a=y(n),i=Pre(),s=y(i),c=Fre(),l=y(c),u=Hre(),o=y(u),h=FF(),d=y(h),A=Qre(),f=y(A),g=RF(),m=DF(),x=y(m);function y(q){return q&&q.__esModule?q:{default:q}}var b=function(){},w=function(te,K,X){var O=new b;if(typeof te>"u")throw Error("No element to render on was provided.");return O._renderProperties=(0,o.default)(te),O._encodings=[],O._options=x.default,O._errorHandler=new f.default(O),typeof K<"u"&&(X=X||{},X.format||(X.format=k()),O.options(X)[X.format](K,X).render()),O};w.getModule=function(q){return e.default[q]};for(var N in e.default)e.default.hasOwnProperty(N)&&S(e.default,N);function S(q,te){b.prototype[te]=b.prototype[te.toUpperCase()]=b.prototype[te.toLowerCase()]=function(K,X){var O=this;return O._errorHandler.wrapBarcodeCall(function(){X.text=typeof X.text>"u"?void 0:""+X.text;var le=(0,a.default)(O._options,X);le=(0,d.default)(le);var z=q[te],R=C(K,z,le);return O._encodings.push(R),O})}}function C(q,te,K){q=""+q;var X=new te(q,K);if(!X.valid())throw new g.InvalidInputException(X.constructor.name,q);var O=X.encode();O=(0,s.default)(O);for(var le=0;le<O.length;le++)O[le].options=(0,a.default)(K,O[le].options);return O}function k(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}b.prototype.options=function(q){return this._options=(0,a.default)(this._options,q),this},b.prototype.blank=function(q){var te=new Array(q+1).join("0");return this._encodings.push({data:te}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var q;for(var te in this._renderProperties){q=this._renderProperties[te];var K=(0,a.default)(this._options,q.options);K.format=="auto"&&(K.format=k()),this._errorHandler.wrapBarcodeCall(function(){var X=K.value,O=e.default[K.format.toUpperCase()],le=C(X,O,K);W(q,le,K)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var q=0;q<this._renderProperties.length;q++)W(this._renderProperties[q],this._encodings,this._options);else W(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=x.default;function W(q,te,K){te=(0,s.default)(te);for(var X=0;X<te.length;X++)te[X].options=(0,a.default)(K,te[X].options),(0,l.default)(te[X].options);(0,l.default)(K);var O=q.renderer,le=new O(q.element,te,K);le.render(),q.afterRender&&q.afterRender()}return typeof window<"u"&&(window.JsBarcode=w),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(q,te){var K=[];return jQuery(this).each(function(){K.push(this)}),w(K,q,te)}),jj=w,jj}var $re=Wre();const IT=es($re);var Lp={},Cj,TT;function Vre(){return TT||(TT=1,Cj=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Cj}var Nj={},zA={},_T;function yp(){if(_T)return zA;_T=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return zA.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},zA.getSymbolTotalCodewords=function(a){return e[a]},zA.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},zA.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},zA.isKanjiModeEnabled=function(){return typeof r<"u"},zA.toSJIS=function(a){return r(a)},zA}var Sj={},OT;function nS(){return OT||(OT=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,i){if(r.isValid(a))return a;try{return e(a)}catch{return i}}})(Sj)),Sj}var Bj,kT;function zre(){if(kT)return Bj;kT=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let a=0;a<n;a++)this.putBit((e>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Bj=r,Bj}var Ej,PT;function Kre(){if(PT)return Ej;PT=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,n,a,i){const s=e*this.size+n;this.data[s]=a,i&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,n){return this.data[e*this.size+n]},r.prototype.xor=function(e,n,a){this.data[e*this.size+n]^=a},r.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Ej=r,Ej}var Ij={},FT;function Gre(){return FT||(FT=1,(function(r){const e=yp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const i=Math.floor(a/7)+2,s=e(a),c=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let u=1;u<i-1;u++)l[u]=l[u-1]-c;return l.push(6),l.reverse()},r.getPositions=function(a){const i=[],s=r.getRowColCoords(a),c=s.length;for(let l=0;l<c;l++)for(let u=0;u<c;u++)l===0&&u===0||l===0&&u===c-1||l===c-1&&u===0||i.push([s[l],s[u]]);return i}})(Ij)),Ij}var Tj={},DT;function qre(){if(DT)return Tj;DT=1;const r=yp().getSymbolSize,e=7;return Tj.getPositions=function(a){const i=r(a);return[[0,0],[i-e,0],[0,i-e]]},Tj}var _j={},MT;function Xre(){return MT||(MT=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let c=0,l=0,u=0,o=null,h=null;for(let d=0;d<s;d++){l=u=0,o=h=null;for(let A=0;A<s;A++){let f=i.get(d,A);f===o?l++:(l>=5&&(c+=e.N1+(l-5)),o=f,l=1),f=i.get(A,d),f===h?u++:(u>=5&&(c+=e.N1+(u-5)),h=f,u=1)}l>=5&&(c+=e.N1+(l-5)),u>=5&&(c+=e.N1+(u-5))}return c},r.getPenaltyN2=function(i){const s=i.size;let c=0;for(let l=0;l<s-1;l++)for(let u=0;u<s-1;u++){const o=i.get(l,u)+i.get(l,u+1)+i.get(l+1,u)+i.get(l+1,u+1);(o===4||o===0)&&c++}return c*e.N2},r.getPenaltyN3=function(i){const s=i.size;let c=0,l=0,u=0;for(let o=0;o<s;o++){l=u=0;for(let h=0;h<s;h++)l=l<<1&2047|i.get(o,h),h>=10&&(l===1488||l===93)&&c++,u=u<<1&2047|i.get(h,o),h>=10&&(u===1488||u===93)&&c++}return c*e.N3},r.getPenaltyN4=function(i){let s=0;const c=i.data.length;for(let u=0;u<c;u++)s+=i.data[u];return Math.abs(Math.ceil(s*100/c/5)-10)*e.N4};function n(a,i,s){switch(a){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(i,s){const c=s.size;for(let l=0;l<c;l++)for(let u=0;u<c;u++)s.isReserved(u,l)||s.xor(u,l,n(i,u,l))},r.getBestMask=function(i,s){const c=Object.keys(r.Patterns).length;let l=0,u=1/0;for(let o=0;o<c;o++){s(o),r.applyMask(o,i);const h=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(o,i),h<u&&(u=h,l=o)}return l}})(_j)),_j}var Z1={},RT;function LF(){if(RT)return Z1;RT=1;const r=nS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Z1.getBlocksCount=function(i,s){switch(s){case r.L:return e[(i-1)*4+0];case r.M:return e[(i-1)*4+1];case r.Q:return e[(i-1)*4+2];case r.H:return e[(i-1)*4+3];default:return}},Z1.getTotalCodewordsCount=function(i,s){switch(s){case r.L:return n[(i-1)*4+0];case r.M:return n[(i-1)*4+1];case r.Q:return n[(i-1)*4+2];case r.H:return n[(i-1)*4+3];default:return}},Z1}var Oj={},C0={},LT;function Yre(){if(LT)return C0;LT=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let a=1;for(let i=0;i<255;i++)r[i]=a,e[a]=i,a<<=1,a&256&&(a^=285);for(let i=255;i<512;i++)r[i]=r[i-255]})(),C0.log=function(a){if(a<1)throw new Error("log("+a+")");return e[a]},C0.exp=function(a){return r[a]},C0.mul=function(a,i){return a===0||i===0?0:r[e[a]+e[i]]},C0}var UT;function Zre(){return UT||(UT=1,(function(r){const e=Yre();r.mul=function(a,i){const s=new Uint8Array(a.length+i.length-1);for(let c=0;c<a.length;c++)for(let l=0;l<i.length;l++)s[c+l]^=e.mul(a[c],i[l]);return s},r.mod=function(a,i){let s=new Uint8Array(a);for(;s.length-i.length>=0;){const c=s[0];for(let u=0;u<i.length;u++)s[u]^=e.mul(i[u],c);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},r.generateECPolynomial=function(a){let i=new Uint8Array([1]);for(let s=0;s<a;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Oj)),Oj}var kj,HT;function Jre(){if(HT)return kj;HT=1;const r=Zre();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(a.length+this.degree);i.set(a);const s=r.mod(i,this.genPoly),c=this.degree-s.length;if(c>0){const l=new Uint8Array(this.degree);return l.set(s,c),l}return s},kj=e,kj}var Pj={},Fj={},Dj={},QT;function UF(){return QT||(QT=1,Dj.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Dj}var Sh={},WT;function HF(){if(WT)return Sh;WT=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Sh.KANJI=new RegExp(n,"g"),Sh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Sh.BYTE=new RegExp(a,"g"),Sh.NUMERIC=new RegExp(r,"g"),Sh.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Sh.testKanji=function(u){return i.test(u)},Sh.testNumeric=function(u){return s.test(u)},Sh.testAlphanumeric=function(u){return c.test(u)},Sh}var $T;function bp(){return $T||($T=1,(function(r){const e=UF(),n=HF();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return n.testNumeric(s)?r.NUMERIC:n.testAlphanumeric(s)?r.ALPHANUMERIC:n.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function a(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,c){if(r.isValid(s))return s;try{return a(s)}catch{return c}}})(Fj)),Fj}var VT;function ene(){return VT||(VT=1,(function(r){const e=yp(),n=LF(),a=nS(),i=bp(),s=UF(),c=7973,l=e.getBCHDigit(c);function u(A,f,g){for(let m=1;m<=40;m++)if(f<=r.getCapacity(m,g,A))return m}function o(A,f){return i.getCharCountIndicator(A,f)+4}function h(A,f){let g=0;return A.forEach(function(m){const x=o(m.mode,f);g+=x+m.getBitsLength()}),g}function d(A,f){for(let g=1;g<=40;g++)if(h(A,g)<=r.getCapacity(g,f,i.MIXED))return g}r.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},r.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const x=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,g),b=(x-y)*8;if(m===i.MIXED)return b;const w=b-o(m,f);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(f,g){let m;const x=a.from(g,a.M);if(Array.isArray(f)){if(f.length>1)return d(f,x);if(f.length===0)return 1;m=f[0]}else m=f;return u(m.mode,m.getLength(),x)},r.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-l>=0;)g^=c<<e.getBCHDigit(g)-l;return f<<12|g}})(Pj)),Pj}var Mj={},zT;function tne(){if(zT)return Mj;zT=1;const r=yp(),e=1335,n=21522,a=r.getBCHDigit(e);return Mj.getEncodedBits=function(s,c){const l=s.bit<<3|c;let u=l<<10;for(;r.getBCHDigit(u)-a>=0;)u^=e<<r.getBCHDigit(u)-a;return(l<<10|u)^n},Mj}var Rj={},Lj,KT;function rne(){if(KT)return Lj;KT=1;const r=bp();function e(n){this.mode=r.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let i,s,c;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),c=parseInt(s,10),a.put(c,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),c=parseInt(s,10),a.put(c,l*3+1))},Lj=e,Lj}var Uj,GT;function nne(){if(GT)return Uj;GT=1;const r=bp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let c=e.indexOf(this.data[s])*45;c+=e.indexOf(this.data[s+1]),i.put(c,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},Uj=n,Uj}var Hj,qT;function ane(){if(qT)return Hj;qT=1;const r=bp();function e(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(a){return a*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let a=0,i=this.data.length;a<i;a++)n.put(this.data[a],8)},Hj=e,Hj}var Qj,XT;function ine(){if(XT)return Qj;XT=1;const r=bp(),e=yp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),a.put(s,13)}},Qj=n,Qj}var Wj={exports:{}},YT;function sne(){return YT||(YT=1,(function(r){var e={single_source_shortest_paths:function(n,a,i){var s={},c={};c[a]=0;var l=e.PriorityQueue.make();l.push(a,0);for(var u,o,h,d,A,f,g,m,x;!l.empty();){u=l.pop(),o=u.value,d=u.cost,A=n[o]||{};for(h in A)A.hasOwnProperty(h)&&(f=A[h],g=d+f,m=c[h],x=typeof c[h]>"u",(x||m>g)&&(c[h]=g,l.push(h,g),s[h]=o))}if(typeof i<"u"&&typeof c[i]>"u"){var y=["Could not find a path from ",a," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,a){for(var i=[],s=a;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,a,i){var s=e.single_source_shortest_paths(n,a,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var a=e.PriorityQueue,i={},s;n=n||{};for(s in a)a.hasOwnProperty(s)&&(i[s]=a[s]);return i.queue=[],i.sorter=n.sorter||a.default_sorter,i},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var i={value:n,cost:a};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Wj)),Wj.exports}var ZT;function one(){return ZT||(ZT=1,(function(r){const e=bp(),n=rne(),a=nne(),i=ane(),s=ine(),c=HF(),l=yp(),u=sne();function o(y){return unescape(encodeURIComponent(y)).length}function h(y,b,w){const N=[];let S;for(;(S=y.exec(w))!==null;)N.push({data:S[0],index:S.index,mode:b,length:S[0].length});return N}function d(y){const b=h(c.NUMERIC,e.NUMERIC,y),w=h(c.ALPHANUMERIC,e.ALPHANUMERIC,y);let N,S;return l.isKanjiModeEnabled()?(N=h(c.BYTE,e.BYTE,y),S=h(c.KANJI,e.KANJI,y)):(N=h(c.BYTE_KANJI,e.BYTE,y),S=[]),b.concat(w,N,S).sort(function(k,W){return k.index-W.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function A(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return a.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,w){const N=b.length-1>=0?b[b.length-1]:null;return N&&N.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function g(y){const b=[];for(let w=0;w<y.length;w++){const N=y[w];switch(N.mode){case e.NUMERIC:b.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:b.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:b.push([N,{data:N.data,mode:e.BYTE,length:o(N.data)}]);break;case e.BYTE:b.push([{data:N.data,mode:e.BYTE,length:o(N.data)}])}}return b}function m(y,b){const w={},N={start:{}};let S=["start"];for(let C=0;C<y.length;C++){const k=y[C],W=[];for(let q=0;q<k.length;q++){const te=k[q],K=""+C+q;W.push(K),w[K]={node:te,lastCount:0},N[K]={};for(let X=0;X<S.length;X++){const O=S[X];w[O]&&w[O].node.mode===te.mode?(N[O][K]=A(w[O].lastCount+te.length,te.mode)-A(w[O].lastCount,te.mode),w[O].lastCount+=te.length):(w[O]&&(w[O].lastCount=te.length),N[O][K]=A(te.length,te.mode)+4+e.getCharCountIndicator(te.mode,b))}}S=W}for(let C=0;C<S.length;C++)N[S[C]].end=0;return{map:N,table:w}}function x(y,b){let w;const N=e.getBestModeForData(y);if(w=e.from(b,N),w!==e.BYTE&&w.bit<N.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(N));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new a(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}r.fromArray=function(b){return b.reduce(function(w,N){return typeof N=="string"?w.push(x(N,null)):N.data&&w.push(x(N.data,N.mode)),w},[])},r.fromString=function(b,w){const N=d(b,l.isKanjiModeEnabled()),S=g(N),C=m(S,w),k=u.find_path(C.map,"start","end"),W=[];for(let q=1;q<k.length-1;q++)W.push(C.table[k[q]].node);return r.fromArray(f(W))},r.rawSplit=function(b){return r.fromArray(d(b,l.isKanjiModeEnabled()))}})(Rj)),Rj}var JT;function lne(){if(JT)return Nj;JT=1;const r=yp(),e=nS(),n=zre(),a=Kre(),i=Gre(),s=qre(),c=Xre(),l=LF(),u=Jre(),o=ene(),h=tne(),d=bp(),A=one();function f(C,k){const W=C.size,q=s.getPositions(k);for(let te=0;te<q.length;te++){const K=q[te][0],X=q[te][1];for(let O=-1;O<=7;O++)if(!(K+O<=-1||W<=K+O))for(let le=-1;le<=7;le++)X+le<=-1||W<=X+le||(O>=0&&O<=6&&(le===0||le===6)||le>=0&&le<=6&&(O===0||O===6)||O>=2&&O<=4&&le>=2&&le<=4?C.set(K+O,X+le,!0,!0):C.set(K+O,X+le,!1,!0))}}function g(C){const k=C.size;for(let W=8;W<k-8;W++){const q=W%2===0;C.set(W,6,q,!0),C.set(6,W,q,!0)}}function m(C,k){const W=i.getPositions(k);for(let q=0;q<W.length;q++){const te=W[q][0],K=W[q][1];for(let X=-2;X<=2;X++)for(let O=-2;O<=2;O++)X===-2||X===2||O===-2||O===2||X===0&&O===0?C.set(te+X,K+O,!0,!0):C.set(te+X,K+O,!1,!0)}}function x(C,k){const W=C.size,q=o.getEncodedBits(k);let te,K,X;for(let O=0;O<18;O++)te=Math.floor(O/3),K=O%3+W-8-3,X=(q>>O&1)===1,C.set(te,K,X,!0),C.set(K,te,X,!0)}function y(C,k,W){const q=C.size,te=h.getEncodedBits(k,W);let K,X;for(K=0;K<15;K++)X=(te>>K&1)===1,K<6?C.set(K,8,X,!0):K<8?C.set(K+1,8,X,!0):C.set(q-15+K,8,X,!0),K<8?C.set(8,q-K-1,X,!0):K<9?C.set(8,15-K-1+1,X,!0):C.set(8,15-K-1,X,!0);C.set(q-8,8,1,!0)}function b(C,k){const W=C.size;let q=-1,te=W-1,K=7,X=0;for(let O=W-1;O>0;O-=2)for(O===6&&O--;;){for(let le=0;le<2;le++)if(!C.isReserved(te,O-le)){let z=!1;X<k.length&&(z=(k[X]>>>K&1)===1),C.set(te,O-le,z),K--,K===-1&&(X++,K=7)}if(te+=q,te<0||W<=te){te-=q,q=-q;break}}}function w(C,k,W){const q=new n;W.forEach(function(le){q.put(le.mode.bit,4),q.put(le.getLength(),d.getCharCountIndicator(le.mode,C)),le.write(q)});const te=r.getSymbolTotalCodewords(C),K=l.getTotalCodewordsCount(C,k),X=(te-K)*8;for(q.getLengthInBits()+4<=X&&q.put(0,4);q.getLengthInBits()%8!==0;)q.putBit(0);const O=(X-q.getLengthInBits())/8;for(let le=0;le<O;le++)q.put(le%2?17:236,8);return N(q,C,k)}function N(C,k,W){const q=r.getSymbolTotalCodewords(k),te=l.getTotalCodewordsCount(k,W),K=q-te,X=l.getBlocksCount(k,W),O=q%X,le=X-O,z=Math.floor(q/X),R=Math.floor(K/X),ie=R+1,Ae=z-R,Oe=new u(Ae);let be=0;const Te=new Array(X),Y=new Array(X);let Ne=0;const ce=new Uint8Array(C.buffer);for(let me=0;me<X;me++){const se=me<le?R:ie;Te[me]=ce.slice(be,be+se),Y[me]=Oe.encode(Te[me]),be+=se,Ne=Math.max(Ne,se)}const ae=new Uint8Array(q);let Ce=0,Ee,we;for(Ee=0;Ee<Ne;Ee++)for(we=0;we<X;we++)Ee<Te[we].length&&(ae[Ce++]=Te[we][Ee]);for(Ee=0;Ee<Ae;Ee++)for(we=0;we<X;we++)ae[Ce++]=Y[we][Ee];return ae}function S(C,k,W,q){let te;if(Array.isArray(C))te=A.fromArray(C);else if(typeof C=="string"){let z=k;if(!z){const R=A.rawSplit(C);z=o.getBestVersionForData(R,W)}te=A.fromString(C,z||40)}else throw new Error("Invalid data");const K=o.getBestVersionForData(te,W);if(!K)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=K;else if(k<K)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+K+`.
`);const X=w(k,W,te),O=r.getSymbolSize(k),le=new a(O);return f(le,k),g(le),m(le,k),y(le,W,0),k>=7&&x(le,k),b(le,X),isNaN(q)&&(q=c.getBestMask(le,y.bind(null,le,W))),c.applyMask(q,le),y(le,W,q),{modules:le,version:k,errorCorrectionLevel:W,maskPattern:q,segments:te}}return Nj.create=function(k,W){if(typeof k>"u"||k==="")throw new Error("No input text");let q=e.M,te,K;return typeof W<"u"&&(q=e.from(W.errorCorrectionLevel,e.M),te=o.from(W.version),K=c.from(W.maskPattern),W.toSJISFunc&&r.setToSJISFunction(W.toSJISFunc)),S(k,te,q,K)},Nj}var $j={},Vj={},e_;function QF(){return e_||(e_=1,(function(r){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(s){return[s,s]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,s=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:s,scale:s?4:c,margin:i,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},r.getImageWidth=function(a,i){const s=r.getScale(a,i);return Math.floor((a+i.margin*2)*s)},r.qrToImageData=function(a,i,s){const c=i.modules.size,l=i.modules.data,u=r.getScale(c,s),o=Math.floor((c+s.margin*2)*u),h=s.margin*u,d=[s.color.light,s.color.dark];for(let A=0;A<o;A++)for(let f=0;f<o;f++){let g=(A*o+f)*4,m=s.color.light;if(A>=h&&f>=h&&A<o-h&&f<o-h){const x=Math.floor((A-h)/u),y=Math.floor((f-h)/u);m=d[l[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})(Vj)),Vj}var t_;function cne(){return t_||(t_=1,(function(r){const e=QF();function n(i,s,c){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,c,l){let u=l,o=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(o=a()),u=e.getOptions(u);const h=e.getImageWidth(s.modules.size,u),d=o.getContext("2d"),A=d.createImageData(h,h);return e.qrToImageData(A.data,s,u),n(d,o,h),d.putImageData(A,0,0),o},r.renderToDataURL=function(s,c,l){let u=l;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={});const o=r.render(s,c,u),h=u.type||"image/png",d=u.rendererOpts||{};return o.toDataURL(h,d.quality)}})($j)),$j}var zj={},r_;function une(){if(r_)return zj;r_=1;const r=QF();function e(i,s){const c=i.a/255,l=s+'="'+i.hex+'"';return c<1?l+" "+s+'-opacity="'+c.toFixed(2).slice(1)+'"':l}function n(i,s,c){let l=i+s;return typeof c<"u"&&(l+=" "+c),l}function a(i,s,c){let l="",u=0,o=!1,h=0;for(let d=0;d<i.length;d++){const A=Math.floor(d%s),f=Math.floor(d/s);!A&&!o&&(o=!0),i[d]?(h++,d>0&&A>0&&i[d-1]||(l+=o?n("M",A+c,.5+f+c):n("m",u,0),u=0,o=!1),A+1<s&&i[d+1]||(l+=n("h",h),h=0)):u++}return l}return zj.render=function(s,c,l){const u=r.getOptions(c),o=s.modules.size,h=s.modules.data,d=o+u.margin*2,A=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",f="<path "+e(u.color.dark,"stroke")+' d="'+a(h,o,u.margin)+'"/>',g='viewBox="0 0 '+d+" "+d+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+g+' shape-rendering="crispEdges">'+A+f+`</svg>
`;return typeof l=="function"&&l(null,x),x},zj}var n_;function dne(){if(n_)return Lp;n_=1;const r=Vre(),e=lne(),n=cne(),a=une();function i(s,c,l,u,o){const h=[].slice.call(arguments,1),d=h.length,A=typeof h[d-1]=="function";if(!A&&!r())throw new Error("Callback required as last argument");if(A){if(d<2)throw new Error("Too few arguments provided");d===2?(o=l,l=c,c=u=void 0):d===3&&(c.getContext&&typeof o>"u"?(o=u,u=void 0):(o=u,u=l,l=c,c=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(l=c,c=u=void 0):d===2&&!c.getContext&&(u=l,l=c,c=void 0),new Promise(function(f,g){try{const m=e.create(l,u);f(s(m,c,u))}catch(m){g(m)}})}try{const f=e.create(l,u);o(null,s(f,c,u))}catch(f){o(f)}}return Lp.create=e.create,Lp.toCanvas=i.bind(null,n.render),Lp.toDataURL=i.bind(null,n.renderToDataURL),Lp.toString=i.bind(null,function(s,c,l){return a.render(s,l)}),Lp}var hne=dne();const a_=es(hne),Ane=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),[l,u]=P.useState(!1),[o,h]=P.useState([]),d=P.useRef(null),[A,f]=P.useState([]),[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState(!1),[C,k]=P.useState(null),[W,q]=P.useState(!1),te=()=>{q(!W)},[K,X]=P.useState({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1}),O=P.useCallback(async()=>{try{const be=await $a.getAllCompanies(void 0,!0);f(be)}catch(be){console.error("Failed to load companies:",be),k("Failed to load companies")}},[]),le=P.useCallback(async()=>{try{const be=await ks.getAllHcfs(void 0,!0);m(be)}catch(be){console.error("Failed to load HCFs:",be),k("Failed to load HCFs")}},[]);P.useEffect(()=>{if(K.companyId){const be=g.filter(Te=>Te.companyId===K.companyId);y(be),K.hcfId&&!be.find(Te=>Te.id===K.hcfId)&&X(Te=>({...Te,hcfId:""}))}else y([]),X(be=>({...be,hcfId:""}))},[K.companyId,g]);const z=P.useCallback(async()=>{try{S(!0);const be=await sf.getAllBarcodeLabels(),Te=await Promise.all(be.map(async Y=>{const Ne=A.find(ae=>ae.id===Y.companyId);let ce="";try{ce=(await ks.getHcfById(Y.hcfId)).hcfName}catch(ae){console.error("Error loading HCF:",ae)}return{id:Y.id,hcfCode:Y.hcfCode,hcfName:ce,companyId:Y.companyId,companyName:(Ne==null?void 0:Ne.companyName)||"Unknown",sequenceNumber:Y.sequenceNumber,barcodeType:Y.barcodeType,colorBlock:Y.colorBlock,barcodeValue:Y.barcodeValue,createdAt:Y.createdOn}}));w(Te)}catch(be){console.error("Failed to load labels:",be),k("Failed to load labels")}finally{S(!1)}},[A]);P.useEffect(()=>{O(),le()},[O,le]),P.useEffect(()=>{A.length>0&&z()},[A,z]),P.useCallback(async(be,Te)=>{try{return await sf.getLastSequence(be,Te)}catch(Y){return console.error("Failed to get last sequence:",Y),0}},[]);const R=async()=>{if(!K.companyId||!K.hcfId||K.count<1){k("Please select company, HCF, and enter valid count");return}const be=x.find(Y=>Y.id===K.hcfId),Te=A.find(Y=>Y.id===K.companyId);if(!be||!Te){k("Invalid selection");return}try{S(!0),k(null);const Ne=(await sf.generateLabels({hcfId:K.hcfId,companyId:K.companyId,barcodeType:K.barcodeType,colorBlock:K.colorBlock,count:K.count})).map(ce=>({id:ce.id,hcfCode:ce.hcfCode,hcfName:be.hcfName,companyId:ce.companyId,companyName:Te.companyName,sequenceNumber:ce.sequenceNumber,barcodeType:ce.barcodeType,colorBlock:ce.colorBlock,barcodeValue:ce.barcodeValue,createdAt:ce.createdOn}));await z(),h(Ne),u(!0),c(!1),X({companyId:"",hcfId:"",barcodeType:"Barcode",colorBlock:"White",count:1})}catch(Y){const Ne=Y instanceof Error?Y.message:"Failed to generate labels";k(Ne),console.error("Error generating labels:",Y)}finally{S(!1)}};P.useEffect(()=>{l&&d.current&&o.length>0&&setTimeout(()=>{const be=d.current;if(!be)return;const Te=be.querySelectorAll(".barcode-svg"),Y=be.querySelectorAll(".qr-canvas");Te.forEach((Ne,ce)=>{const ae=o[ce];if(ae&&ae.barcodeType==="Barcode")try{Ne.innerHTML="",IT(Ne,ae.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Ce){console.error("Failed to generate barcode:",Ce)}}),Y.forEach((Ne,ce)=>{const ae=o[ce];ae&&ae.barcodeType==="QR Code"&&a_.toCanvas(Ne,ae.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Ce=>{console.error("Failed to generate QR code:",Ce)})})},100)},[o,l]);const ie=()=>{!d.current||o.length===0||setTimeout(()=>{const be=d.current;if(!be)return;const Te=be.querySelectorAll(".barcode-svg"),Y=be.querySelectorAll(".qr-canvas");Te.forEach((Ne,ce)=>{const ae=o[ce];if(ae&&ae.barcodeType==="Barcode")try{Ne.innerHTML="",IT(Ne,ae.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Ce){console.error("Failed to generate barcode:",Ce)}}),Y.forEach((Ne,ce)=>{const ae=o[ce];ae&&ae.barcodeType==="QR Code"&&a_.toCanvas(Ne,ae.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Ce=>{console.error("Failed to generate QR code:",Ce)})}),setTimeout(()=>{window.print()},200)},100)},Ae=b.filter(be=>be.hcfCode.toLowerCase().includes(a.toLowerCase())||be.hcfName.toLowerCase().includes(a.toLowerCase())||be.companyName.toLowerCase().includes(a.toLowerCase())||be.barcodeValue.toLowerCase().includes(a.toLowerCase())),Oe=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${W?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!W&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:te,"aria-label":W?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Oe.map(be=>t.jsx("li",{children:t.jsxs(Zr,{to:be.path,className:`nav-link ${be.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:be.icon}),!W&&t.jsx("span",{className:"nav-label",children:be.label})]})},be.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!W&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!W&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Transaction / Barcode Generation"})})}),t.jsxs("div",{className:"barcode-generation-page",children:[t.jsxs("div",{className:"barcode-generation-header",children:[t.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),t.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]}),t.jsxs("div",{className:"barcode-generation-actions",children:[t.jsxs("div",{className:"barcode-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:a,onChange:be=>i(be.target.value)})]}),t.jsxs("button",{className:"generate-btn",onClick:()=>c(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]}),C&&t.jsxs("div",{className:"barcode-error-banner",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),C]}),t.jsx("div",{className:"barcode-table-container",children:t.jsxs("table",{className:"barcode-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sequence"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ae.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:'No labels generated yet. Click "Generate Labels" to create barcode/QR labels.'})}):Ae.map(be=>t.jsxs("tr",{children:[t.jsx("td",{className:"sequence-cell",children:be.sequenceNumber}),t.jsx("td",{className:"hcf-code-cell",children:be.hcfCode}),t.jsx("td",{children:be.hcfName}),t.jsx("td",{children:be.companyName}),t.jsx("td",{children:t.jsx("span",{className:`barcode-type-badge barcode-type-badge--${be.barcodeType.toLowerCase().replace(" ","-")}`,children:be.barcodeType})}),t.jsx("td",{children:t.jsx("span",{className:`color-block-badge color-block-badge--${be.colorBlock.toLowerCase()}`,children:be.colorBlock})}),t.jsx("td",{className:"barcode-value-cell",children:be.barcodeValue}),t.jsx("td",{children:t.jsx("div",{className:"barcode-action-buttons",children:t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>{h([be]),u(!0)},title:"Preview & Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})})})]},be.id))})]})}),t.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",Ae.length," of ",b.length," Labels"]})]})]}),s&&t.jsx(fne,{companies:A,hcfs:x,formData:K,setFormData:X,onClose:()=>c(!1),onGenerate:R}),l&&o.length>0&&t.jsx(pne,{labels:o,printContainerRef:d,onClose:()=>u(!1),onPrint:ie}),t.jsx("div",{className:"print-container",ref:d,children:o.map(be=>t.jsxs("div",{className:"print-label",children:[t.jsxs("div",{className:"print-label-header",children:[t.jsx("div",{className:`print-color-block-square print-color-block-square--${be.colorBlock.toLowerCase()}`,children:be.colorBlock.toUpperCase()}),t.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",be.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsxs("div",{className:"print-barcode-container",children:[be.barcodeType==="QR Code"?t.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):t.jsx("svg",{className:"barcode-svg"}),t.jsx("div",{className:"print-barcode-value",children:be.barcodeValue})]}),t.jsx("div",{className:"print-label-footer",children:t.jsx("div",{className:"print-type-label",children:be.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},be.id))})]})},fne=({companies:r,hcfs:e,formData:n,setFormData:a,onClose:i,onGenerate:s})=>{const c=e.find(f=>f.id===n.hcfId),[l,u]=P.useState(0),[o,h]=P.useState(0),[d,A]=P.useState(!1);return P.useEffect(()=>{c?(A(!0),Promise.all([sf.getLastSequence(c.hcfCode,"Barcode").catch(()=>0),sf.getLastSequence(c.hcfCode,"QR Code").catch(()=>0)]).then(([f,g])=>{u(f),h(g),A(!1)}).catch(()=>{A(!1)})):(u(0),h(0))},[c]),t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:"Generate Barcode/QR Labels"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"barcode-form",onSubmit:f=>{f.preventDefault(),s()},children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Label Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:n.companyId,onChange:f=>a({...n,companyId:f.target.value,hcfId:""}),required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),r.map(f=>t.jsxs("option",{value:f.id,children:[f.companyCode," - ",f.companyName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:n.hcfId,onChange:f=>a({...n,hcfId:f.target.value}),required:!0,disabled:!n.companyId,children:[t.jsx("option",{value:"",children:"Select HCF"}),e.map(f=>t.jsxs("option",{value:f.id,children:[f.hcfCode," - ",f.hcfName]},f.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Type *"}),t.jsxs("select",{value:n.barcodeType,onChange:f=>a({...n,barcodeType:f.target.value}),required:!0,children:[t.jsx("option",{value:"Barcode",children:"Barcode (Code128)"}),t.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Print Color Block *"}),t.jsxs("select",{value:n.colorBlock,onChange:f=>a({...n,colorBlock:f.target.value}),required:!0,children:[t.jsx("option",{value:"Yellow",children:"Yellow"}),t.jsx("option",{value:"Red",children:"Red"}),t.jsx("option",{value:"White",children:"White"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Barcode Count *"}),t.jsx("input",{type:"number",value:n.count,onChange:f=>a({...n,count:parseInt(f.target.value)||1}),required:!0,min:1,max:1e3,placeholder:"Enter count (1-1000)"})]}),c&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Sequence"}),t.jsx("input",{type:"text",value:d?"Loading...":`Barcode: ${l} | QR: ${o}`,readOnly:!0,style:{backgroundColor:"#f1f5f9",cursor:"not-allowed"}})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Generate Labels"})]})]})]})})},pne=({labels:r,printContainerRef:e,onClose:n,onPrint:a})=>{var i,s,c,l,u,o,h;return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--preview",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Preview Labels (",r.length,")"]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"preview-content",children:[t.jsxs("div",{className:"preview-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"HCF:"})," ",(i=r[0])==null?void 0:i.hcfCode," - ",(s=r[0])==null?void 0:s.hcfName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Company:"})," ",(c=r[0])==null?void 0:c.companyName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",(l=r[0])==null?void 0:l.barcodeType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Color Block:"})," ",(u=r[0])==null?void 0:u.colorBlock]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Sequence Range:"})," ",(o=r[0])==null?void 0:o.sequenceNumber," - ",(h=r[r.length-1])==null?void 0:h.sequenceNumber]})]}),t.jsx("div",{className:"preview-labels-grid",children:r.slice(0,6).map(d=>t.jsxs("div",{className:"preview-label",children:[t.jsxs("div",{className:"preview-label-header",children:[t.jsx("div",{className:`preview-color-block-square preview-color-block-square--${d.colorBlock.toLowerCase()}`,children:d.colorBlock.toUpperCase()}),t.jsxs("div",{className:"preview-sequence-text",children:["Seq. No. ",d.sequenceNumber.toString().padStart(15,"0")]})]}),t.jsx("div",{className:"preview-barcode-placeholder",children:d.barcodeType==="QR Code"?"QR Code":"Barcode"}),t.jsx("div",{className:"preview-barcode-value",children:d.barcodeValue}),t.jsx("div",{className:"preview-label-footer",children:t.jsx("div",{className:"preview-type-label",children:d.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},d.id))}),r.length>6&&t.jsxs("p",{className:"preview-more-info",children:["... and ",r.length-6," more labels"]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:a,children:"Print Labels"})]})]})})},mne="http://localhost:3000/api/v1",gne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},N0=async(r,e={})=>{const n=gne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${mne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},ov={createCertificate:async r=>(await N0("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await N0(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,e,n)=>{let a="/training-certificates";const i=new URLSearchParams;return r&&i.append("companyId",r),e&&i.append("activeOnly","true"),n!=null&&n.hcfId&&i.append("hcfId",n.hcfId),n!=null&&n.status&&i.append("status",n.status),n!=null&&n.dateFrom&&i.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&i.append("dateTo",n.dateTo),n!=null&&n.search&&i.append("search",n.search),i.toString()&&(a+=`?${i.toString()}`),(await N0(a,{method:"GET"})).data},updateCertificate:async(r,e)=>(await N0(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteCertificate:async r=>{await N0(`/training-certificates/${r}`,{method:"DELETE"})}},vne=()=>{const{logout:r,user:e,permissions:n}=pa(),a=_n(),[i,s]=P.useState(""),[c,l]=P.useState("All"),[u,o]=P.useState("All"),[h,d]=P.useState("All"),[A,f]=P.useState(""),[g,m]=P.useState(""),[x,y]=P.useState(!1),[b,w]=P.useState(!1),[N,S]=P.useState(null),[C,k]=P.useState(null),[W,q]=P.useState(!0),[te,K]=P.useState(null),[X,O]=P.useState(!1),[le,z]=P.useState(!1),R=()=>{z(!le)},[ie,Ae]=P.useState([]),[Oe,be]=P.useState([]),[Te,Y]=P.useState([]),Ne=P.useCallback(async()=>{try{const ke=await $a.getAllCompanies(void 0,!0);Ae(ke)}catch(ke){console.error("Failed to load companies:",ke),K("Failed to load companies")}},[]),ce=P.useCallback(async ke=>{try{const Ye=await ks.getAllHcfs(ke,!0);be(Ye)}catch(Ye){console.error("Failed to load HCFs:",Ye),K("Failed to load HCFs")}},[]),ae=P.useCallback(async()=>{var ke;try{q(!0),K(null);const Ye=c!=="All"?(ke=ie.find(Vt=>Vt.companyName===c))==null?void 0:ke.id:void 0,wt={};if(u!=="All"){const Vt=Oe.find(Ir=>Ir.hcfCode===u);Vt&&(wt.hcfId=Vt.id)}h!=="All"&&(wt.status=h),A&&(wt.dateFrom=A),g&&(wt.dateTo=g),i&&(wt.search=i);const Bt=(await ov.getAllCertificates(Ye,!1,Object.keys(wt).length>0?wt:void 0)).map(Vt=>{const Ir=ie.find(He=>He.id===Vt.companyId),Sr=Oe.find(He=>He.id===Vt.hcfId);return{id:Vt.id,certificateNo:Vt.certificateNo,staffName:Vt.staffName,staffCode:Vt.staffCode,designation:Vt.designation||"",hcfCode:(Sr==null?void 0:Sr.hcfCode)||"",hcfId:Vt.hcfId,trainingDate:Vt.trainingDate,status:Vt.status,companyName:(Ir==null?void 0:Ir.companyName)||"",companyId:Vt.companyId,trainedBy:Vt.trainedBy,createdBy:Vt.createdBy||"",createdOn:Vt.createdOn,modifiedBy:Vt.modifiedBy||"",modifiedOn:Vt.modifiedOn}});Y(Bt)}catch(Ye){console.error("Failed to load certificates:",Ye),K(Ye.message||"Failed to load certificates")}finally{q(!1)}},[c,u,h,A,g,i,ie,Oe]);P.useEffect(()=>{(async()=>{await Ne(),await ce()})()},[Ne,ce]),P.useEffect(()=>{ie.length>0&&Oe.length>0&&ae()},[c,u,h,A,g,i,ie,Oe,ae]),P.useEffect(()=>{if(c!=="All"){const ke=ie.find(Ye=>Ye.companyName===c);ke&&ce(ke.id)}else ce()},[c,ie,ce]);const Ce=Te,Ee=()=>{S(null),y(!0)},we=ke=>{k(ke),w(!0)},me=ke=>{ke.status==="Active"?(S(ke),y(!0)):alert("Only Active certificates can be edited.")},se=ke=>{window.print()},J=()=>{alert("Export functionality will be implemented")},je=async ke=>{try{if(O(!0),K(null),N){const Ye={};ke.staffName!==void 0&&(Ye.staffName=ke.staffName),ke.staffCode!==void 0&&(Ye.staffCode=ke.staffCode),ke.designation!==void 0&&(Ye.designation=ke.designation),ke.hcfId!==void 0&&(Ye.hcfId=ke.hcfId),ke.trainingDate!==void 0&&(Ye.trainingDate=ke.trainingDate),ke.trainedBy!==void 0&&(Ye.trainedBy=ke.trainedBy),ke.status!==void 0&&(Ye.status=ke.status),await ov.updateCertificate(N.id,Ye)}else{const Ye=ie.find(wt=>wt.companyName===ke.companyName);if(!Ye)throw new Error("Company not found");if(!ke.hcfId)throw new Error("HCF is required");if(!ke.certificateNo)throw new Error("Certificate number is required");await ov.createCertificate({certificateNo:ke.certificateNo||Pe(),staffName:ke.staffName||"",staffCode:ke.staffCode||"",designation:ke.designation,hcfId:ke.hcfId,trainingDate:ke.trainingDate||new Date().toISOString().split("T")[0],companyId:Ye.id,trainedBy:ke.trainedBy||""})}await ae(),y(!1),S(null)}catch(Ye){console.error("Failed to save certificate:",Ye),K(Ye.message||"Failed to save certificate"),alert(Ye.message||"Failed to save certificate")}finally{O(!1)}},Pe=()=>{const ke=new Date().getFullYear(),Ye=Te.length+1;return`CERT-${ke}-${Ye.toString().padStart(3,"0")}`},Le=ke=>{if(ke==="All")return Oe.filter(wt=>wt.status==="Active");const Ye=ie.find(wt=>wt.companyName===ke);return Ye?Oe.filter(wt=>wt.companyId===Ye.id&&wt.status==="Active"):[]},Ie=qs(n,a.pathname),pe=Le(c);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${le?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!le&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:R,"aria-label":le?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:le?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Ie.map(ke=>t.jsx("li",{children:t.jsxs(Zr,{to:ke.path,className:`nav-link ${ke.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ke.icon}),!le&&t.jsx("span",{className:"nav-label",children:ke.label})]})},ke.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!le&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!le&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Compliance & Training / Training Certificate Management"})})}),t.jsxs("div",{className:"training-certificate-page",children:[te&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:te}),W&&t.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading..."}),t.jsx("div",{className:"training-certificate-header",children:t.jsx("h1",{className:"training-certificate-title",children:"Training Certificate Management"})}),t.jsx("div",{className:"training-certificate-filters",children:t.jsxs("div",{className:"filter-row",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Company"}),t.jsxs("select",{className:"filter-select",value:c,onChange:ke=>{l(ke.target.value),ke.target.value==="All"&&o("All")},children:[t.jsx("option",{value:"All",children:"All Companies"}),ie.filter(ke=>ke.status==="Active").map(ke=>t.jsx("option",{value:ke.companyName,children:ke.companyName},ke.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"HCF"}),t.jsxs("select",{className:"filter-select",value:u,onChange:ke=>o(ke.target.value),children:[t.jsx("option",{value:"All",children:"All HCFs"}),pe.map(ke=>t.jsxs("option",{value:ke.hcfCode,children:[ke.hcfCode," - ",ke.hcfName]},ke.id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date From"}),t.jsx("input",{type:"date",className:"filter-input",value:A,onChange:ke=>f(ke.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Date To"}),t.jsx("input",{type:"date",className:"filter-input",value:g,onChange:ke=>m(ke.target.value)})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{className:"filter-select",value:h,onChange:ke=>d(ke.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsx("div",{className:"filter-group",children:t.jsx("button",{className:"clear-filters-btn",onClick:()=>{l("All"),o("All"),d("All"),f(""),m("")},children:"Clear Filters"})})]})}),t.jsxs("div",{className:"training-certificate-actions",children:[t.jsxs("div",{className:"certificate-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"certificate-search-input",placeholder:"Search Certificate...",value:i,onChange:ke=>s(ke.target.value)})]}),t.jsxs("button",{className:"export-btn",onClick:J,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]}),t.jsxs("button",{className:"add-certificate-btn",onClick:Ee,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]}),t.jsx("div",{className:"certificate-table-container",children:t.jsxs("table",{className:"certificate-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Designation"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Ce.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"empty-message",children:"No certificate records found"})}):Ce.map(ke=>{const Ye=Oe.find(wt=>wt.hcfCode===ke.hcfCode);return t.jsxs("tr",{children:[t.jsx("td",{className:"certificate-no-cell",children:ke.certificateNo}),t.jsx("td",{children:ke.staffName}),t.jsx("td",{children:ke.staffCode}),t.jsx("td",{children:ke.designation}),t.jsx("td",{children:Ye?`${ke.hcfCode} - ${Ye.hcfName}`:ke.hcfCode}),t.jsx("td",{children:ke.trainingDate}),t.jsx("td",{children:t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${ke.status.toLowerCase()}`,children:ke.status})}),t.jsx("td",{children:t.jsxs("div",{className:"certificate-action-buttons",children:[t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>we(ke),title:"View",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),ke.status==="Active"&&t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>me(ke),title:"Edit",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--print",onClick:()=>se(),title:"Print",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},ke.id)})})]})}),t.jsxs("div",{className:"certificate-pagination-info",children:["Showing ",Ce.length," of ",Te.length," Items"]})]})]}),x&&t.jsx(xne,{certificate:N,companies:ie.filter(ke=>ke.status==="Active"),hcfs:Oe.filter(ke=>ke.status==="Active"),onClose:()=>{y(!1),S(null)},onSave:je,generateCertificateNo:Pe}),b&&C&&t.jsx(yne,{certificate:C,hcfs:Oe,companies:ie,onClose:()=>{w(!1),k(null)},onPrint:se})]})},xne=({certificate:r,companies:e,hcfs:n,onClose:a,onSave:i,generateCertificateNo:s})=>{const c=()=>{if(r){const y=e.find(b=>b.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[l,u]=P.useState(c()),[o,h]=P.useState(r?"manual":"auto");P.useEffect(()=>{if(l.companyName&&!l.companyId&&e.length>0){const y=e.find(b=>b.companyName===l.companyName);y&&u(b=>({...b,companyId:y.id}))}},[l.companyName,e.length]);const d=(()=>{if(!l.companyId&&!l.companyName)return[];const y=l.companyId?e.find(w=>w.id===l.companyId):e.find(w=>w.companyName===l.companyName);return y?n.filter(w=>w.companyId===y.id):[]})(),A=(y,b)=>{const w={[y]:b};if(y==="companyName"){const N=e.find(S=>S.companyName===b);N&&(w.companyId=N.id),w.hcfCode="",w.hcfId=""}if(y==="hcfCode"){const N=d.find(S=>S.hcfCode===b);N&&(w.hcfId=N.id)}u({...l,...w})},f=y=>{h(y),u(y==="auto"?{...l,certificateNo:s()}:{...l,certificateNo:""})},g=()=>{u({...l,certificateNo:s()})},m=y=>{if(y.preventDefault(),!l.companyName||!l.hcfCode||!l.staffName||!l.staffCode||!l.trainingDate){alert("Please fill in all required fields");return}i(l)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&u({certificateNo:o==="auto"?s():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"certificate-form",onSubmit:m,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Organization Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:l.companyName||"",onChange:y=>{A("companyName",y.target.value)},required:!0,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(y=>t.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:l.hcfCode||"",onChange:y=>A("hcfCode",y.target.value),required:!0,disabled:!l.companyId&&!l.companyName,children:[t.jsx("option",{value:"",children:"Select HCF"}),d.length===0&&(l.companyId||l.companyName)?t.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):d.map(y=>t.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Staff Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Code *"}),t.jsx("input",{type:"text",value:l.staffCode||"",onChange:y=>A("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Staff Name *"}),t.jsx("input",{type:"text",value:l.staffName||"",onChange:y=>A("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Designation *"}),t.jsx("input",{type:"text",value:l.designation||"",onChange:y=>A("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Training Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Certificate Number *"}),t.jsxs("div",{className:"certificate-no-input-group",children:[t.jsxs("div",{className:"certificate-no-mode-toggle",children:[t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="auto"?"active":""}`,onClick:()=>f("auto"),children:"Auto"}),t.jsx("button",{type:"button",className:`mode-toggle-btn ${o==="manual"?"active":""}`,onClick:()=>f("manual"),children:"Manual"})]}),t.jsx("input",{type:"text",value:l.certificateNo||"",onChange:y=>A("certificateNo",y.target.value),required:!0,placeholder:o==="auto"?"Auto-generated":"Enter certificate number",disabled:o==="auto"&&!r,style:{flex:1}}),o==="auto"&&!r&&t.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Training Date *"}),t.jsx("input",{type:"date",value:l.trainingDate||"",onChange:y=>A("trainingDate",y.target.value),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Trained By *"}),t.jsx("input",{type:"text",value:l.trainedBy||"",onChange:y=>A("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Status"}),t.jsx("div",{className:"form-grid",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status *"}),t.jsxs("select",{value:l.status||"Active",onChange:y=>A("status",y.target.value),required:!0,children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},yne=({certificate:r,hcfs:e,companies:n,onClose:a,onPrint:i})=>{const s=e.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),t.jsx("div",{className:"modal-overlay",onClick:a,children:t.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),t.jsx("button",{className:"modal-close-btn",onClick:a,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"certificate-view-content",children:[t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Company:"}),t.jsx("span",{children:r.companyName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"HCF:"}),t.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Code:"}),t.jsx("span",{children:r.staffCode||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Staff Name:"}),t.jsx("span",{children:r.staffName||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Designation:"}),t.jsx("span",{children:r.designation||"-"})]})]})]}),t.jsxs("div",{className:"certificate-view-section",children:[t.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),t.jsxs("div",{className:"certificate-view-grid",children:[t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Certificate Number:"}),t.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Training Date:"}),t.jsx("span",{children:r.trainingDate||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Trained By:"}),t.jsx("span",{children:r.trainedBy||"-"})]}),t.jsxs("div",{className:"certificate-view-field",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>i(r),children:"Print Certificate"})]})]})})},bne=({contracts:r,searchQuery:e,statusFilter:n})=>({filteredContracts:P.useMemo(()=>r.filter(i=>{const s=e===""||i.contractNum.toLowerCase().includes(e.toLowerCase())||i.companyName.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),wne="http://localhost:3000/api/v1",jne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},S0=async(r,e={})=>{const n=jne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${wne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},of={getAllContracts:async(r,e)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await S0(n,{method:"GET"})).data},getContractById:async r=>(await S0(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await S0("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,e)=>(await S0(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,deleteContract:async r=>{await S0(`/contracts/${r}`,{method:"DELETE"})}},Cne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),a=Ja(),[i,s]=P.useState(""),[c,l]=P.useState("All"),[u,o]=P.useState(!1),[h,d]=P.useState(null),[A,f]=P.useState([]),[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState(!1),[C,k]=P.useState(null),[W,q]=P.useState(!1),[te,K]=P.useState(!1),X=()=>{K(!te)},O=P.useCallback(async()=>{try{const ae=await $a.getAllCompanies(!0);m(ae.map(Ce=>({id:Ce.id,companyCode:Ce.companyCode,companyName:Ce.companyName})))}catch(ae){console.error("Failed to load companies:",ae)}},[]),le=P.useCallback(async()=>{try{const ae=await ks.getAllHcfs(void 0,!0);y(ae.map(Ce=>({id:Ce.id,hcfCode:Ce.hcfCode,hcfName:Ce.hcfName,companyId:Ce.companyId})))}catch(ae){console.error("Failed to load HCFs:",ae)}},[]),z=P.useCallback(async()=>{try{S(!0),k(null);const ae=await of.getAllContracts(),Ce=await Promise.all(ae.map(async Ee=>{const we=g.find(se=>se.id===Ee.companyId),me=x.find(se=>se.id===Ee.hcfId);return{id:Ee.id,contractID:Ee.contractID,contractNum:Ee.contractNum,companyName:(we==null?void 0:we.companyName)||"Unknown",companyID:Ee.companyId,hcfName:(me==null?void 0:me.hcfName)||"Unknown",hcfID:Ee.hcfId,startDate:Ee.startDate,endDate:Ee.endDate,billingType:Ee.billingType,status:Ee.status}}));f(Ce)}catch(ae){console.error("Failed to load contracts:",ae),k(ae.message||"Failed to load contracts")}finally{S(!1)}},[g,x]);P.useEffect(()=>{(async()=>{await Promise.all([O(),le()])})()},[O,le]),P.useEffect(()=>{g.length>0&&x.length>0&&z()},[g.length,x.length,z]),P.useEffect(()=>{h!=null&&h.companyID?w(x.filter(ae=>ae.companyId===h.companyID)):w(x)},[h==null?void 0:h.companyID,x]);const{filteredContracts:R}=bne({contracts:A,searchQuery:i,statusFilter:c}),ie=()=>{d(null),o(!0)},Ae=(ae,Ce)=>{Ce.stopPropagation(),d(ae),o(!0)},Oe=async ae=>{try{q(!0),k(null),h?await of.updateContract(h.id,{contractNum:ae.contractNum,startDate:ae.startDate,endDate:ae.endDate,billingType:ae.billingType,status:ae.status}):await of.createContract({contractNum:ae.contractNum,companyId:ae.companyID,hcfId:ae.hcfID,startDate:ae.startDate,endDate:ae.endDate,billingType:ae.billingType,status:ae.status||"Draft"}),o(!1),d(null),await z()}catch(Ce){console.error("Failed to save contract:",Ce),k(Ce.message||"Failed to save contract"),alert(Ce.message||"Failed to save contract")}finally{q(!1)}},be=ae=>{a(`/commercial-agreements/agreement?contractId=${ae.id}`)},Te=({status:ae})=>{const Ce=`contract-status-badge contract-status-badge--${ae.toLowerCase()}`;return t.jsx("span",{className:Ce,children:ae})},Y=({contract:ae})=>t.jsx("div",{className:"contract-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:t.jsx("button",{className:"action-btn action-btn--edit",onClick:Ce=>Ae(ae,Ce),title:"Edit Contract","aria-label":`Edit contract ${ae.contractNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),Ne=[{key:"contractNum",label:"Contract Number",minWidth:180,render:ae=>t.jsx("span",{className:"contract-num-cell",children:ae.contractNum})},{key:"contractID",label:"Contract ID",minWidth:120},{key:"companyName",label:"Company",minWidth:150,render:ae=>ae.companyName},{key:"hcfName",label:"HCF",minWidth:150,render:ae=>ae.hcfName},{key:"startDate",label:"Start Date",minWidth:120},{key:"endDate",label:"End Date",minWidth:120},{key:"billingType",label:"Billing Type",minWidth:120},{key:"status",label:"Status",minWidth:100,render:ae=>t.jsx(Te,{status:ae.status})},{key:"actions",label:"Actions",minWidth:100,render:ae=>t.jsx(Y,{contract:ae})}],ce=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${te?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!te&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:X,"aria-label":te?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:te?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(ae=>t.jsx("li",{children:t.jsxs(Zr,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ae.icon}),!te&&t.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!te&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!te&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Contract Master"})})}),t.jsxs("div",{className:"contract-master-page",children:[t.jsx("div",{className:"contract-master-header",children:t.jsx("h1",{className:"contract-master-title",children:"Contract Master"})}),C&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:C}),t.jsxs("div",{className:"contract-master-actions",children:[t.jsxs("div",{className:"contract-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"contract-search-input",placeholder:"Search by contract number or company...",value:i,onChange:ae=>s(ae.target.value)})]}),t.jsxs("select",{className:"status-filter-select",value:c,onChange:ae=>l(ae.target.value),children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]}),t.jsxs("button",{className:"add-contract-btn",onClick:ie,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]}),N&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),t.jsx("div",{className:"contract-table-container",children:t.jsx(s2,{data:R,columns:Ne,getId:ae=>ae.id,onRowClick:be,emptyMessage:"No contract records found"})}),t.jsxs("div",{className:"contract-pagination-info",children:["Showing ",R.length," of ",A.length," Items"]})]})]}),u&&t.jsx(Nne,{contract:h,companies:g,hcfs:b,saving:W,onClose:()=>{o(!1),d(null)},onSave:Oe})]})},Nne=({contract:r,companies:e,hcfs:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),u=d=>{l({...c,companyID:d,hcfID:""})},o=d=>{if(d.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}s(c)},h=c.companyID?n.filter(d=>d.companyId===c.companyID):[];return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"contract-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Contract Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract Number *"}),t.jsx("input",{type:"text",value:c.contractNum||"",onChange:d=>l({...c,contractNum:d.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Company *"}),t.jsxs("select",{value:c.companyID||"",onChange:d=>u(d.target.value),required:!0,disabled:a||!!r,children:[t.jsx("option",{value:"",children:"Select Company"}),e.map(d=>t.jsxs("option",{value:d.id,children:[d.companyCode," - ",d.companyName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"HCF *"}),t.jsxs("select",{value:c.hcfID||"",onChange:d=>l({...c,hcfID:d.target.value}),required:!0,disabled:a||!c.companyID,children:[t.jsx("option",{value:"",children:"Select HCF"}),h.map(d=>t.jsxs("option",{value:d.id,children:[d.hcfCode," - ",d.hcfName]},d.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Start Date *"}),t.jsx("input",{type:"date",value:c.startDate||"",onChange:d=>l({...c,startDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"End Date *"}),t.jsx("input",{type:"date",value:c.endDate||"",onChange:d=>l({...c,endDate:d.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Billing Type *"}),t.jsxs("select",{value:c.billingType||"Bed",onChange:d=>l({...c,billingType:d.target.value}),required:!0,disabled:a,children:[t.jsx("option",{value:"Bed",children:"Bed"}),t.jsx("option",{value:"Kg",children:"Kg"}),t.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:d=>l({...c,status:d.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},Sne=({agreements:r,searchQuery:e,statusFilter:n})=>({filteredAgreements:P.useMemo(()=>r.filter(i=>{const s=e===""||i.agreementNum.toLowerCase().includes(e.toLowerCase()),c=n==="All"||i.status===n;return s&&c}),[r,e,n])}),WF="http://localhost:3000/api/v1",$F=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},J1=async(r,e={})=>{const n=$F(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${WF}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},Y0={getAllAgreements:async(r,e)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await J1(n,{method:"GET"})).data},getAgreementById:async r=>(await J1(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await J1("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,e)=>(await J1(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,downloadAgreementPDF:async r=>{const e=$F(),n=await fetch(`${WF}/agreements/${r}/download`,{method:"GET",headers:{...e&&{Authorization:`Bearer ${e}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const i=await n.json();i.message&&(a=i.message)}catch{}throw new Error(a)}return n.blob()}},Bne="http://localhost:3000/api/v1",Ene=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},B0=async(r,e={})=>{const n=Ene(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...e.headers},i=await fetch(`${Bne}${r}`,{...e,headers:a});if(!i.ok){let s=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?s=l.message.join(", "):typeof l.message=="string"?s=l.message:l.error?s=typeof l.error=="string"?l.error:JSON.stringify(l.error):l.message&&(s=String(l.message))}catch{}const c=new Error(s);throw c.status=i.status,c.statusText=i.statusText,c}return i.status===204?{}:i.json()},qA={getAllClauses:async(r,e)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),e&&a.append("status",e),a.toString()&&(n+=`?${a.toString()}`),(await B0(n,{method:"GET"})).data},getClauseById:async r=>(await B0(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await B0("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,e)=>(await B0(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(e)})).data,reorderClause:async(r,e)=>(await B0(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:e})})).data};var Kj={exports:{}},lv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var Ine=lv.exports,i_;function Tne(){return i_||(i_=1,(function(r,e){(function(n,a){r.exports=a()})(Ine,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,E){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,U){L.__proto__=U}||function(L,U){for(var xe in U)Object.prototype.hasOwnProperty.call(U,xe)&&(L[xe]=U[xe])},n(F,E)};function a(F,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");n(F,E);function L(){this.constructor=F}F.prototype=E===null?Object.create(E):(L.prototype=E.prototype,new L)}var i=function(){return i=Object.assign||function(E){for(var L,U=1,xe=arguments.length;U<xe;U++){L=arguments[U];for(var Me in L)Object.prototype.hasOwnProperty.call(L,Me)&&(E[Me]=L[Me])}return E},i.apply(this,arguments)};function s(F,E,L,U){function xe(Me){return Me instanceof L?Me:new L(function(ze){ze(Me)})}return new(L||(L=Promise))(function(Me,ze){function ct(Ht){try{Lt(U.next(Ht))}catch(tr){ze(tr)}}function lt(Ht){try{Lt(U.throw(Ht))}catch(tr){ze(tr)}}function Lt(Ht){Ht.done?Me(Ht.value):xe(Ht.value).then(ct,lt)}Lt((U=U.apply(F,[])).next())})}function c(F,E){var L={label:0,sent:function(){if(Me[0]&1)throw Me[1];return Me[1]},trys:[],ops:[]},U,xe,Me,ze;return ze={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function ct(Lt){return function(Ht){return lt([Lt,Ht])}}function lt(Lt){if(U)throw new TypeError("Generator is already executing.");for(;L;)try{if(U=1,xe&&(Me=Lt[0]&2?xe.return:Lt[0]?xe.throw||((Me=xe.return)&&Me.call(xe),0):xe.next)&&!(Me=Me.call(xe,Lt[1])).done)return Me;switch(xe=0,Me&&(Lt=[Lt[0]&2,Me.value]),Lt[0]){case 0:case 1:Me=Lt;break;case 4:return L.label++,{value:Lt[1],done:!1};case 5:L.label++,xe=Lt[1],Lt=[0];continue;case 7:Lt=L.ops.pop(),L.trys.pop();continue;default:if(Me=L.trys,!(Me=Me.length>0&&Me[Me.length-1])&&(Lt[0]===6||Lt[0]===2)){L=0;continue}if(Lt[0]===3&&(!Me||Lt[1]>Me[0]&&Lt[1]<Me[3])){L.label=Lt[1];break}if(Lt[0]===6&&L.label<Me[1]){L.label=Me[1],Me=Lt;break}if(Me&&L.label<Me[2]){L.label=Me[2],L.ops.push(Lt);break}Me[2]&&L.ops.pop(),L.trys.pop();continue}Lt=E.call(F,L)}catch(Ht){Lt=[6,Ht],xe=0}finally{U=Me=0}if(Lt[0]&5)throw Lt[1];return{value:Lt[0]?Lt[1]:void 0,done:!0}}}function l(F,E,L){if(arguments.length===2)for(var U=0,xe=E.length,Me;U<xe;U++)(Me||!(U in E))&&(Me||(Me=Array.prototype.slice.call(E,0,U)),Me[U]=E[U]);return F.concat(Me||E)}for(var u=(function(){function F(E,L,U,xe){this.left=E,this.top=L,this.width=U,this.height=xe}return F.prototype.add=function(E,L,U,xe){return new F(this.left+E,this.top+L,this.width+U,this.height+xe)},F.fromClientRect=function(E,L){return new F(L.left+E.windowBounds.left,L.top+E.windowBounds.top,L.width,L.height)},F.fromDOMRectList=function(E,L){var U=Array.from(L).find(function(xe){return xe.width!==0});return U?new F(U.left+E.windowBounds.left,U.top+E.windowBounds.top,U.width,U.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),o=function(F,E){return u.fromClientRect(F,E.getBoundingClientRect())},h=function(F){var E=F.body,L=F.documentElement;if(!E||!L)throw new Error("Unable to get document size");var U=Math.max(Math.max(E.scrollWidth,L.scrollWidth),Math.max(E.offsetWidth,L.offsetWidth),Math.max(E.clientWidth,L.clientWidth)),xe=Math.max(Math.max(E.scrollHeight,L.scrollHeight),Math.max(E.offsetHeight,L.offsetHeight),Math.max(E.clientHeight,L.clientHeight));return new u(0,0,U,xe)},d=function(F){for(var E=[],L=0,U=F.length;L<U;){var xe=F.charCodeAt(L++);if(xe>=55296&&xe<=56319&&L<U){var Me=F.charCodeAt(L++);(Me&64512)===56320?E.push(((xe&1023)<<10)+(Me&1023)+65536):(E.push(xe),L--)}else E.push(xe)}return E},A=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var U=[],xe=-1,Me="";++xe<L;){var ze=F[xe];ze<=65535?U.push(ze):(ze-=65536,U.push((ze>>10)+55296,ze%1024+56320)),(xe+1===L||U.length>16384)&&(Me+=String.fromCharCode.apply(String,U),U.length=0)}return Me},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)g[f.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<x.length;b++)y[x.charCodeAt(b)]=b;for(var w=function(F){var E=F.length*.75,L=F.length,U,xe=0,Me,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(U=0;U<L;U+=4)Me=y[F.charCodeAt(U)],ze=y[F.charCodeAt(U+1)],ct=y[F.charCodeAt(U+2)],lt=y[F.charCodeAt(U+3)],Ht[xe++]=Me<<2|ze>>4,Ht[xe++]=(ze&15)<<4|ct>>2,Ht[xe++]=(ct&3)<<6|lt&63;return Lt},N=function(F){for(var E=F.length,L=[],U=0;U<E;U+=2)L.push(F[U+1]<<8|F[U]);return L},S=function(F){for(var E=F.length,L=[],U=0;U<E;U+=4)L.push(F[U+3]<<24|F[U+2]<<16|F[U+1]<<8|F[U]);return L},C=5,k=11,W=2,q=k-C,te=65536>>C,K=1<<C,X=K-1,O=1024>>C,le=te+O,z=le,R=32,ie=z+R,Ae=65536>>k,Oe=1<<q,be=Oe-1,Te=function(F,E,L){return F.slice?F.slice(E,L):new Uint16Array(Array.prototype.slice.call(F,E,L))},Y=function(F,E,L){return F.slice?F.slice(E,L):new Uint32Array(Array.prototype.slice.call(F,E,L))},Ne=function(F,E){var L=w(F),U=Array.isArray(L)?S(L):new Uint32Array(L),xe=Array.isArray(L)?N(L):new Uint16Array(L),Me=24,ze=Te(xe,Me/2,U[4]/2),ct=U[5]===2?Te(xe,(Me+U[4])/2):Y(U,Math.ceil((Me+U[4])/4));return new ce(U[0],U[1],U[2],U[3],ze,ct)},ce=(function(){function F(E,L,U,xe,Me,ze){this.initialValue=E,this.errorValue=L,this.highStart=U,this.highValueIndex=xe,this.index=Me,this.data=ze}return F.prototype.get=function(E){var L;if(E>=0){if(E<55296||E>56319&&E<=65535)return L=this.index[E>>C],L=(L<<W)+(E&X),this.data[L];if(E<=65535)return L=this.index[te+(E-55296>>C)],L=(L<<W)+(E&X),this.data[L];if(E<this.highStart)return L=ie-Ae+(E>>k),L=this.index[L],L+=E>>C&be,L=this.index[L],L=(L<<W)+(E&X),this.data[L];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ee=0;Ee<ae.length;Ee++)Ce[ae.charCodeAt(Ee)]=Ee;var we="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",me=50,se=1,J=2,je=3,Pe=4,Le=5,Ie=7,pe=8,ke=9,Ye=10,wt=11,Ft=12,Bt=13,Vt=14,Ir=15,Sr=16,He=17,Zt=18,Nt=19,Vr=20,mr=21,on=22,Jr=23,Gr=24,_r=25,hr=26,Br=27,Qr=28,Kr=29,hn=30,Wr=31,Wn=32,Lr=33,Dr=34,wn=35,cn=36,Ln=37,la=38,Ot=39,$r=40,un=41,tn=42,lr=43,ma=[9001,65288],xi="!",Cn="",Es="",Ni=Ne(we),yi=[hn,cn],Qi=[se,J,je,Le],Ii=[Ye,pe],Ps=[Br,hr],Ka=Qi.concat(Ii),gs=[la,Ot,$r,Dr,wn],Va=[Ir,Bt],Cc=function(F,E){E===void 0&&(E="strict");var L=[],U=[],xe=[];return F.forEach(function(Me,ze){var ct=Ni.get(Me);if(ct>me?(xe.push(!0),ct-=me):xe.push(!1),["normal","auto","loose"].indexOf(E)!==-1&&[8208,8211,12316,12448].indexOf(Me)!==-1)return U.push(ze),L.push(Sr);if(ct===Pe||ct===wt){if(ze===0)return U.push(ze),L.push(hn);var lt=L[ze-1];return Ka.indexOf(lt)===-1?(U.push(U[ze-1]),L.push(lt)):(U.push(ze),L.push(hn))}if(U.push(ze),ct===Wr)return L.push(E==="strict"?mr:Ln);if(ct===tn||ct===Kr)return L.push(hn);if(ct===lr)return Me>=131072&&Me<=196605||Me>=196608&&Me<=262141?L.push(Ln):L.push(hn);L.push(ct)}),[U,L,xe]},vs=function(F,E,L,U){var xe=U[L];if(Array.isArray(F)?F.indexOf(xe)!==-1:F===xe)for(var Me=L;Me<=U.length;){Me++;var ze=U[Me];if(ze===E)return!0;if(ze!==Ye)break}if(xe===Ye)for(var Me=L;Me>0;){Me--;var ct=U[Me];if(Array.isArray(F)?F.indexOf(ct)!==-1:F===ct)for(var lt=L;lt<=U.length;){lt++;var ze=U[lt];if(ze===E)return!0;if(ze!==Ye)break}if(ct!==Ye)break}return!1},Bl=function(F,E){for(var L=F;L>=0;){var U=E[L];if(U===Ye)L--;else return U}return 0},Nc=function(F,E,L,U,xe){if(L[U]===0)return Cn;var Me=U-1;if(Array.isArray(xe)&&xe[Me]===!0)return Cn;var ze=Me-1,ct=Me+1,lt=E[Me],Lt=ze>=0?E[ze]:0,Ht=E[ct];if(lt===J&&Ht===je)return Cn;if(Qi.indexOf(lt)!==-1)return xi;if(Qi.indexOf(Ht)!==-1||Ii.indexOf(Ht)!==-1)return Cn;if(Bl(Me,E)===pe)return Es;if(Ni.get(F[Me])===wt||(lt===Wn||lt===Lr)&&Ni.get(F[ct])===wt||lt===Ie||Ht===Ie||lt===ke||[Ye,Bt,Ir].indexOf(lt)===-1&&Ht===ke||[He,Zt,Nt,Gr,Qr].indexOf(Ht)!==-1||Bl(Me,E)===on||vs(Jr,on,Me,E)||vs([He,Zt],mr,Me,E)||vs(Ft,Ft,Me,E))return Cn;if(lt===Ye)return Es;if(lt===Jr||Ht===Jr)return Cn;if(Ht===Sr||lt===Sr)return Es;if([Bt,Ir,mr].indexOf(Ht)!==-1||lt===Vt||Lt===cn&&Va.indexOf(lt)!==-1||lt===Qr&&Ht===cn||Ht===Vr||yi.indexOf(Ht)!==-1&&lt===_r||yi.indexOf(lt)!==-1&&Ht===_r||lt===Br&&[Ln,Wn,Lr].indexOf(Ht)!==-1||[Ln,Wn,Lr].indexOf(lt)!==-1&&Ht===hr||yi.indexOf(lt)!==-1&&Ps.indexOf(Ht)!==-1||Ps.indexOf(lt)!==-1&&yi.indexOf(Ht)!==-1||[Br,hr].indexOf(lt)!==-1&&(Ht===_r||[on,Ir].indexOf(Ht)!==-1&&E[ct+1]===_r)||[on,Ir].indexOf(lt)!==-1&&Ht===_r||lt===_r&&[_r,Qr,Gr].indexOf(Ht)!==-1)return Cn;if([_r,Qr,Gr,He,Zt].indexOf(Ht)!==-1)for(var tr=Me;tr>=0;){var Cr=E[tr];if(Cr===_r)return Cn;if([Qr,Gr].indexOf(Cr)!==-1)tr--;else break}if([Br,hr].indexOf(Ht)!==-1)for(var tr=[He,Zt].indexOf(lt)!==-1?ze:Me;tr>=0;){var Cr=E[tr];if(Cr===_r)return Cn;if([Qr,Gr].indexOf(Cr)!==-1)tr--;else break}if(la===lt&&[la,Ot,Dr,wn].indexOf(Ht)!==-1||[Ot,Dr].indexOf(lt)!==-1&&[Ot,$r].indexOf(Ht)!==-1||[$r,wn].indexOf(lt)!==-1&&Ht===$r||gs.indexOf(lt)!==-1&&[Vr,hr].indexOf(Ht)!==-1||gs.indexOf(Ht)!==-1&&lt===Br||yi.indexOf(lt)!==-1&&yi.indexOf(Ht)!==-1||lt===Gr&&yi.indexOf(Ht)!==-1||yi.concat(_r).indexOf(lt)!==-1&&Ht===on&&ma.indexOf(F[ct])===-1||yi.concat(_r).indexOf(Ht)!==-1&&lt===Zt)return Cn;if(lt===un&&Ht===un){for(var bn=L[Me],nn=1;bn>0&&(bn--,E[bn]===un);)nn++;if(nn%2!==0)return Cn}return lt===Wn&&Ht===Lr?Cn:Es},El=function(F,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var L=Cc(F,E.lineBreak),U=L[0],xe=L[1],Me=L[2];(E.wordBreak==="break-all"||E.wordBreak==="break-word")&&(xe=xe.map(function(ct){return[_r,hn,tn].indexOf(ct)!==-1?Ln:ct}));var ze=E.wordBreak==="keep-all"?Me.map(function(ct,lt){return ct&&F[lt]>=19968&&F[lt]<=40959}):void 0;return[U,xe,ze]},Wi=(function(){function F(E,L,U,xe){this.codePoints=E,this.required=L===xi,this.start=U,this.end=xe}return F.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),xo=function(F,E){var L=d(F),U=El(L,E),xe=U[0],Me=U[1],ze=U[2],ct=L.length,lt=0,Lt=0;return{next:function(){if(Lt>=ct)return{done:!0,value:null};for(var Ht=Cn;Lt<ct&&(Ht=Nc(L,Me,xe,++Lt,ze))===Cn;);if(Ht!==Cn||Lt===ct){var tr=new Wi(L,Ht,lt,Lt);return lt=Lt,{value:tr,done:!1}}return{done:!0,value:null}}}},ha=1,Jl=2,ai=4,Io=8,Xs=10,To=47,rl=92,_o=9,Ws=32,Si=34,ii=61,pl=35,Oo=36,Hc=37,cs=39,Gn=40,$i=41,xs=95,ys=45,ko=33,Ri=60,lo=62,Zi=64,Fi=91,yo=93,Po=61,ga=123,Vi=63,bs=125,Ys=124,Fs=126,Fo=128,Ut=65533,H=42,oe=43,ue=44,M=58,Q=59,re=46,ye=0,De=8,Ge=11,it=14,I=31,B=127,D=-1,V=48,Z=97,ne=101,Se=102,fe=117,ge=122,Re=65,Ve=69,et=70,st=85,Fe=90,vt=function(F){return F>=V&&F<=57},mt=function(F){return F>=55296&&F<=57343},yt=function(F){return vt(F)||F>=Re&&F<=et||F>=Z&&F<=Se},nt=function(F){return F>=Z&&F<=ge},kt=function(F){return F>=Re&&F<=Fe},Gt=function(F){return nt(F)||kt(F)},St=function(F){return F>=Fo},tt=function(F){return F===Xs||F===_o||F===Ws},Qt=function(F){return Gt(F)||St(F)||F===xs},cr=function(F){return Qt(F)||vt(F)||F===ys},Xt=function(F){return F>=ye&&F<=De||F===Ge||F>=it&&F<=I||F===B},Tt=function(F,E){return F!==rl?!1:E!==Xs},or=function(F,E,L){return F===ys?Qt(E)||Tt(E,L):Qt(F)?!0:!!(F===rl&&Tt(F,E))},at=function(F,E,L){return F===oe||F===ys?vt(E)?!0:E===re&&vt(L):vt(F===re?E:F)},dt=function(F){var E=0,L=1;(F[E]===oe||F[E]===ys)&&(F[E]===ys&&(L=-1),E++);for(var U=[];vt(F[E]);)U.push(F[E++]);var xe=U.length?parseInt(A.apply(void 0,U),10):0;F[E]===re&&E++;for(var Me=[];vt(F[E]);)Me.push(F[E++]);var ze=Me.length,ct=ze?parseInt(A.apply(void 0,Me),10):0;(F[E]===Ve||F[E]===ne)&&E++;var lt=1;(F[E]===oe||F[E]===ys)&&(F[E]===ys&&(lt=-1),E++);for(var Lt=[];vt(F[E]);)Lt.push(F[E++]);var Ht=Lt.length?parseInt(A.apply(void 0,Lt),10):0;return L*(xe+ct*Math.pow(10,-ze))*Math.pow(10,lt*Ht)},Et={type:2},It={type:3},ur={type:4},pr={type:13},yr={type:8},Jt={type:21},vr={type:9},Xr={type:10},Ur={type:11},Ze={type:12},xt={type:14},Ct={type:23},Wt={type:1},Kt={type:25},nr={type:24},gr={type:26},xr={type:27},Pr={type:28},Yr={type:29},Nn={type:31},Bn={type:32},ca=(function(){function F(){this._value=[]}return F.prototype.write=function(E){this._value=this._value.concat(d(E))},F.prototype.read=function(){for(var E=[],L=this.consumeToken();L!==Bn;)E.push(L),L=this.consumeToken();return E},F.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case Si:return this.consumeStringToken(Si);case pl:var L=this.peekCodePoint(0),U=this.peekCodePoint(1),xe=this.peekCodePoint(2);if(cr(L)||Tt(U,xe)){var Me=or(L,U,xe)?Jl:ha,ze=this.consumeName();return{type:5,value:ze,flags:Me}}break;case Oo:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),pr;break;case cs:return this.consumeStringToken(cs);case Gn:return Et;case $i:return It;case H:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),xt;break;case oe:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case ue:return ur;case ys:var ct=E,lt=this.peekCodePoint(0),Lt=this.peekCodePoint(1);if(at(ct,lt,Lt))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(or(ct,lt,Lt))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(lt===ys&&Lt===lo)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case re:if(at(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case To:if(this.peekCodePoint(0)===H)for(this.consumeCodePoint();;){var Ht=this.consumeCodePoint();if(Ht===H&&(Ht=this.consumeCodePoint(),Ht===To))return this.consumeToken();if(Ht===D)return this.consumeToken()}break;case M:return gr;case Q:return xr;case Ri:if(this.peekCodePoint(0)===ko&&this.peekCodePoint(1)===ys&&this.peekCodePoint(2)===ys)return this.consumeCodePoint(),this.consumeCodePoint(),Kt;break;case Zi:var tr=this.peekCodePoint(0),Cr=this.peekCodePoint(1),bn=this.peekCodePoint(2);if(or(tr,Cr,bn)){var ze=this.consumeName();return{type:7,value:ze}}break;case Fi:return Pr;case rl:if(Tt(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case yo:return Yr;case Po:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),yr;break;case ga:return Ur;case bs:return Ze;case fe:case st:var nn=this.peekCodePoint(0),vn=this.peekCodePoint(1);return nn===oe&&(yt(vn)||vn===Vi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case Ys:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),vr;if(this.peekCodePoint(0)===Ys)return this.consumeCodePoint(),Jt;break;case Fs:if(this.peekCodePoint(0)===ii)return this.consumeCodePoint(),Xr;break;case D:return Bn}return tt(E)?(this.consumeWhiteSpace(),Nn):vt(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):Qt(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:A(E)}},F.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},F.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},F.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},F.prototype.consumeUnicodeRangeToken=function(){for(var E=[],L=this.consumeCodePoint();yt(L)&&E.length<6;)E.push(L),L=this.consumeCodePoint();for(var U=!1;L===Vi&&E.length<6;)E.push(L),L=this.consumeCodePoint(),U=!0;if(U){var xe=parseInt(A.apply(void 0,E.map(function(lt){return lt===Vi?V:lt})),16),Me=parseInt(A.apply(void 0,E.map(function(lt){return lt===Vi?et:lt})),16);return{type:30,start:xe,end:Me}}var ze=parseInt(A.apply(void 0,E),16);if(this.peekCodePoint(0)===ys&&yt(this.peekCodePoint(1))){this.consumeCodePoint(),L=this.consumeCodePoint();for(var ct=[];yt(L)&&ct.length<6;)ct.push(L),L=this.consumeCodePoint();var Me=parseInt(A.apply(void 0,ct),16);return{type:30,start:ze,end:Me}}else return{type:30,start:ze,end:ze}},F.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return E.toLowerCase()==="url"&&this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Gn?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},F.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===D)return{type:22,value:""};var L=this.peekCodePoint(0);if(L===cs||L===Si){var U=this.consumeStringToken(this.consumeCodePoint());return U.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===$i)?(this.consumeCodePoint(),{type:22,value:U.value}):(this.consumeBadUrlRemnants(),Ct)}for(;;){var xe=this.consumeCodePoint();if(xe===D||xe===$i)return{type:22,value:A.apply(void 0,E)};if(tt(xe))return this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===$i?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,E)}):(this.consumeBadUrlRemnants(),Ct);if(xe===Si||xe===cs||xe===Gn||Xt(xe))return this.consumeBadUrlRemnants(),Ct;if(xe===rl)if(Tt(xe,this.peekCodePoint(0)))E.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ct;else E.push(xe)}},F.prototype.consumeWhiteSpace=function(){for(;tt(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(E===$i||E===D)return;Tt(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(E){for(var L=5e4,U="";E>0;){var xe=Math.min(L,E);U+=A.apply(void 0,this._value.splice(0,xe)),E-=xe}return this._value.shift(),U},F.prototype.consumeStringToken=function(E){var L="",U=0;do{var xe=this._value[U];if(xe===D||xe===void 0||xe===E)return L+=this.consumeStringSlice(U),{type:0,value:L};if(xe===Xs)return this._value.splice(0,U),Wt;if(xe===rl){var Me=this._value[U+1];Me!==D&&Me!==void 0&&(Me===Xs?(L+=this.consumeStringSlice(U),U=-1,this._value.shift()):Tt(xe,Me)&&(L+=this.consumeStringSlice(U),L+=A(this.consumeEscapedCodePoint()),U=-1))}U++}while(!0)},F.prototype.consumeNumber=function(){var E=[],L=ai,U=this.peekCodePoint(0);for((U===oe||U===ys)&&E.push(this.consumeCodePoint());vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());U=this.peekCodePoint(0);var xe=this.peekCodePoint(1);if(U===re&&vt(xe))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),L=Io;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());U=this.peekCodePoint(0),xe=this.peekCodePoint(1);var Me=this.peekCodePoint(2);if((U===Ve||U===ne)&&((xe===oe||xe===ys)&&vt(Me)||vt(xe)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),L=Io;vt(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[dt(E),L]},F.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),L=E[0],U=E[1],xe=this.peekCodePoint(0),Me=this.peekCodePoint(1),ze=this.peekCodePoint(2);if(or(xe,Me,ze)){var ct=this.consumeName();return{type:15,number:L,flags:U,unit:ct}}return xe===Hc?(this.consumeCodePoint(),{type:16,number:L,flags:U}):{type:17,number:L,flags:U}},F.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(yt(E)){for(var L=A(E);yt(this.peekCodePoint(0))&&L.length<6;)L+=A(this.consumeCodePoint());tt(this.peekCodePoint(0))&&this.consumeCodePoint();var U=parseInt(L,16);return U===0||mt(U)||U>1114111?Ut:U}return E===D?Ut:E},F.prototype.consumeName=function(){for(var E="";;){var L=this.consumeCodePoint();if(cr(L))E+=A(L);else if(Tt(L,this.peekCodePoint(0)))E+=A(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(L),E}},F})(),ut=(function(){function F(E){this._tokens=E}return F.create=function(E){var L=new ca;return L.write(E),new F(L.read())},F.parseValue=function(E){return F.create(E).parseComponentValue()},F.parseValues=function(E){return F.create(E).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var E=this.consumeToken();E.type===31;)E=this.consumeToken();if(E.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var L=this.consumeComponentValue();do E=this.consumeToken();while(E.type===31);if(E.type===32)return L;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var E=[];;){var L=this.consumeComponentValue();if(L.type===32)return E;E.push(L),E.push()}},F.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},F.prototype.consumeSimpleBlock=function(E){for(var L={type:E,values:[]},U=this.consumeToken();;){if(U.type===32||pi(U,E))return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue()),U=this.consumeToken()}},F.prototype.consumeFunction=function(E){for(var L={name:E.value,values:[],type:18};;){var U=this.consumeToken();if(U.type===32||U.type===3)return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?Bn:E},F.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},F})(),An=function(F){return F.type===15},va=function(F){return F.type===17},dn=function(F){return F.type===20},Hr=function(F){return F.type===0},sa=function(F,E){return dn(F)&&F.value===E},Dn=function(F){return F.type!==31},Zn=function(F){return F.type!==31&&F.type!==4},Mn=function(F){var E=[],L=[];return F.forEach(function(U){if(U.type===4){if(L.length===0)throw new Error("Error parsing function args, zero tokens for arg");E.push(L),L=[];return}U.type!==31&&L.push(U)}),L.length&&E.push(L),E},pi=function(F,E){return E===11&&F.type===12||E===28&&F.type===29?!0:E===2&&F.type===3},Ha=function(F){return F.type===17||F.type===15},Fn=function(F){return F.type===16||Ha(F)},oi=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},oa={type:17,number:0,flags:ai},On={type:16,number:50,flags:ai},ua={type:16,number:100,flags:ai},kn=function(F,E,L){var U=F[0],xe=F[1];return[ja(U,E),ja(typeof xe<"u"?xe:U,L)]},ja=function(F,E){if(F.type===16)return F.number/100*E;if(An(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},ui="deg",Ga="grad",qa="rad",ts="turn",zn={name:"angle",parse:function(F,E){if(E.type===15)switch(E.unit){case ui:return Math.PI*E.number/180;case Ga:return Math.PI/200*E.number;case qa:return E.number;case ts:return Math.PI*2*E.number}throw new Error("Unsupported angle type")}},Ti=function(F){return F.type===15&&(F.unit===ui||F.unit===Ga||F.unit===qa||F.unit===ts)},xa=function(F){var E=F.filter(dn).map(function(L){return L.value}).join(" ");switch(E){case"to bottom right":case"to right bottom":case"left top":case"top left":return[oa,oa];case"to top":case"bottom":return Vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[oa,ua];case"to right":case"left":return Vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ua,ua];case"to bottom":case"top":return Vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ua,oa];case"to left":case"right":return Vn(270)}return 0},Vn=function(F){return Math.PI*F/180},_i={name:"color",parse:function(F,E){if(E.type===18){var L=Aa[E.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return L(F,E.values)}if(E.type===5){if(E.value.length===3){var U=E.value.substring(0,1),xe=E.value.substring(1,2),Me=E.value.substring(2,3);return ei(parseInt(U+U,16),parseInt(xe+xe,16),parseInt(Me+Me,16),1)}if(E.value.length===4){var U=E.value.substring(0,1),xe=E.value.substring(1,2),Me=E.value.substring(2,3),ze=E.value.substring(3,4);return ei(parseInt(U+U,16),parseInt(xe+xe,16),parseInt(Me+Me,16),parseInt(ze+ze,16)/255)}if(E.value.length===6){var U=E.value.substring(0,2),xe=E.value.substring(2,4),Me=E.value.substring(4,6);return ei(parseInt(U,16),parseInt(xe,16),parseInt(Me,16),1)}if(E.value.length===8){var U=E.value.substring(0,2),xe=E.value.substring(2,4),Me=E.value.substring(4,6),ze=E.value.substring(6,8);return ei(parseInt(U,16),parseInt(xe,16),parseInt(Me,16),parseInt(ze,16)/255)}}if(E.type===20){var ct=wo[E.value.toUpperCase()];if(typeof ct<"u")return ct}return wo.TRANSPARENT}},Ca=function(F){return(255&F)===0},En=function(F){var E=255&F,L=255&F>>8,U=255&F>>16,xe=255&F>>24;return E<255?"rgba("+xe+","+U+","+L+","+E/255+")":"rgb("+xe+","+U+","+L+")"},ei=function(F,E,L,U){return(F<<24|E<<16|L<<8|Math.round(U*255)<<0)>>>0},ru=function(F,E){if(F.type===17)return F.number;if(F.type===16){var L=E===3?1:255;return E===3?F.number/100*L:Math.round(F.number/100*L)}return 0},$s=function(F,E){var L=E.filter(Zn);if(L.length===3){var U=L.map(ru),xe=U[0],Me=U[1],ze=U[2];return ei(xe,Me,ze,1)}if(L.length===4){var ct=L.map(ru),xe=ct[0],Me=ct[1],ze=ct[2],lt=ct[3];return ei(xe,Me,ze,lt)}return 0};function bo(F,E,L){return L<0&&(L+=1),L>=1&&(L-=1),L<1/6?(E-F)*L*6+F:L<1/2?E:L<2/3?(E-F)*6*(2/3-L)+F:F}var Sc=function(F,E){var L=E.filter(Zn),U=L[0],xe=L[1],Me=L[2],ze=L[3],ct=(U.type===17?Vn(U.number):zn.parse(F,U))/(Math.PI*2),lt=Fn(xe)?xe.number/100:0,Lt=Fn(Me)?Me.number/100:0,Ht=typeof ze<"u"&&Fn(ze)?ja(ze,1):1;if(lt===0)return ei(Lt*255,Lt*255,Lt*255,1);var tr=Lt<=.5?Lt*(lt+1):Lt+lt-Lt*lt,Cr=Lt*2-tr,bn=bo(Cr,tr,ct+1/3),nn=bo(Cr,tr,ct),vn=bo(Cr,tr,ct-1/3);return ei(bn*255,nn*255,vn*255,Ht)},Aa={hsl:Sc,hsla:Sc,rgb:$s,rgba:$s},ws=function(F,E){return _i.parse(F,ut.create(E).parseComponentValue())},wo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Il={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(L){if(dn(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ds={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Di=function(F,E){var L=_i.parse(F,E[0]),U=E[1];return U&&Fn(U)?{color:L,stop:U}:{color:L,stop:null}},Is=function(F,E){var L=F[0],U=F[F.length-1];L.stop===null&&(L.stop=oa),U.stop===null&&(U.stop=ua);for(var xe=[],Me=0,ze=0;ze<F.length;ze++){var ct=F[ze].stop;if(ct!==null){var lt=ja(ct,E);lt>Me?xe.push(lt):xe.push(Me),Me=lt}else xe.push(null)}for(var Lt=null,ze=0;ze<xe.length;ze++){var Ht=xe[ze];if(Ht===null)Lt===null&&(Lt=ze);else if(Lt!==null){for(var tr=ze-Lt,Cr=xe[Lt-1],bn=(Ht-Cr)/(tr+1),nn=1;nn<=tr;nn++)xe[Lt+nn-1]=bn*nn;Lt=null}}return F.map(function(vn,ri){var Xn=vn.color;return{color:Xn,stop:Math.max(Math.min(1,xe[ri]/E),0)}})},co=function(F,E,L){var U=E/2,xe=L/2,Me=ja(F[0],E)-U,ze=xe-ja(F[1],L);return(Math.atan2(ze,Me)+Math.PI*2)%(Math.PI*2)},nu=function(F,E,L){var U=typeof F=="number"?F:co(F,E,L),xe=Math.abs(E*Math.sin(U))+Math.abs(L*Math.cos(U)),Me=E/2,ze=L/2,ct=xe/2,lt=Math.sin(U-Math.PI/2)*ct,Lt=Math.cos(U-Math.PI/2)*ct;return[xe,Me-Lt,Me+Lt,ze-lt,ze+lt]},Zs=function(F,E){return Math.sqrt(F*F+E*E)},nl=function(F,E,L,U,xe){var Me=[[0,0],[0,E],[F,0],[F,E]];return Me.reduce(function(ze,ct){var lt=ct[0],Lt=ct[1],Ht=Zs(L-lt,U-Lt);return(xe?Ht<ze.optimumDistance:Ht>ze.optimumDistance)?{optimumCorner:ct,optimumDistance:Ht}:ze},{optimumDistance:xe?1/0:-1/0,optimumCorner:null}).optimumCorner},Bc=function(F,E,L,U,xe){var Me=0,ze=0;switch(F.size){case 0:F.shape===0?Me=ze=Math.min(Math.abs(E),Math.abs(E-U),Math.abs(L),Math.abs(L-xe)):F.shape===1&&(Me=Math.min(Math.abs(E),Math.abs(E-U)),ze=Math.min(Math.abs(L),Math.abs(L-xe)));break;case 2:if(F.shape===0)Me=ze=Math.min(Zs(E,L),Zs(E,L-xe),Zs(E-U,L),Zs(E-U,L-xe));else if(F.shape===1){var ct=Math.min(Math.abs(L),Math.abs(L-xe))/Math.min(Math.abs(E),Math.abs(E-U)),lt=nl(U,xe,E,L,!0),Lt=lt[0],Ht=lt[1];Me=Zs(Lt-E,(Ht-L)/ct),ze=ct*Me}break;case 1:F.shape===0?Me=ze=Math.max(Math.abs(E),Math.abs(E-U),Math.abs(L),Math.abs(L-xe)):F.shape===1&&(Me=Math.max(Math.abs(E),Math.abs(E-U)),ze=Math.max(Math.abs(L),Math.abs(L-xe)));break;case 3:if(F.shape===0)Me=ze=Math.max(Zs(E,L),Zs(E,L-xe),Zs(E-U,L),Zs(E-U,L-xe));else if(F.shape===1){var ct=Math.max(Math.abs(L),Math.abs(L-xe))/Math.max(Math.abs(E),Math.abs(E-U)),tr=nl(U,xe,E,L,!1),Lt=tr[0],Ht=tr[1];Me=Zs(Lt-E,(Ht-L)/ct),ze=ct*Me}break}return Array.isArray(F.size)&&(Me=ja(F.size[0],U),ze=F.size.length===2?ja(F.size[1],xe):Me),[Me,ze]},ec=function(F,E){var L=Vn(180),U=[];return Mn(E).forEach(function(xe,Me){if(Me===0){var ze=xe[0];if(ze.type===20&&ze.value==="to"){L=xa(xe);return}else if(Ti(ze)){L=zn.parse(F,ze);return}}var ct=Di(F,xe);U.push(ct)}),{angle:L,stops:U,type:1}},Js=function(F,E){var L=Vn(180),U=[];return Mn(E).forEach(function(xe,Me){if(Me===0){var ze=xe[0];if(ze.type===20&&["top","left","right","bottom"].indexOf(ze.value)!==-1){L=xa(xe);return}else if(Ti(ze)){L=(zn.parse(F,ze)+Vn(270))%Vn(360);return}}var ct=Di(F,xe);U.push(ct)}),{angle:L,stops:U,type:1}},al=function(F,E){var L=Vn(180),U=[],xe=1,Me=0,ze=3,ct=[];return Mn(E).forEach(function(lt,Lt){var Ht=lt[0];if(Lt===0){if(dn(Ht)&&Ht.value==="linear"){xe=1;return}else if(dn(Ht)&&Ht.value==="radial"){xe=2;return}}if(Ht.type===18){if(Ht.name==="from"){var tr=_i.parse(F,Ht.values[0]);U.push({stop:oa,color:tr})}else if(Ht.name==="to"){var tr=_i.parse(F,Ht.values[0]);U.push({stop:ua,color:tr})}else if(Ht.name==="color-stop"){var Cr=Ht.values.filter(Zn);if(Cr.length===2){var tr=_i.parse(F,Cr[1]),bn=Cr[0];va(bn)&&U.push({stop:{type:16,number:bn.number*100,flags:bn.flags},color:tr})}}}}),xe===1?{angle:(L+Vn(180))%Vn(360),stops:U,type:xe}:{size:ze,shape:Me,stops:U,position:ct,type:xe}},Tl="closest-side",zo="farthest-side",Do="closest-corner",tc="farthest-corner",_l="circle",Ec="ellipse",hd="cover",Qc="contain",Ad=function(F,E){var L=0,U=3,xe=[],Me=[];return Mn(E).forEach(function(ze,ct){var lt=!0;if(ct===0){var Lt=!1;lt=ze.reduce(function(tr,Cr){if(Lt)if(dn(Cr))switch(Cr.value){case"center":return Me.push(On),tr;case"top":case"left":return Me.push(oa),tr;case"right":case"bottom":return Me.push(ua),tr}else(Fn(Cr)||Ha(Cr))&&Me.push(Cr);else if(dn(Cr))switch(Cr.value){case _l:return L=0,!1;case Ec:return L=1,!1;case"at":return Lt=!0,!1;case Tl:return U=0,!1;case hd:case zo:return U=1,!1;case Qc:case Do:return U=2,!1;case tc:return U=3,!1}else if(Ha(Cr)||Fn(Cr))return Array.isArray(U)||(U=[]),U.push(Cr),!1;return tr},lt)}if(lt){var Ht=Di(F,ze);xe.push(Ht)}}),{size:U,shape:L,stops:xe,position:Me,type:2}},au=function(F,E){var L=0,U=3,xe=[],Me=[];return Mn(E).forEach(function(ze,ct){var lt=!0;if(ct===0?lt=ze.reduce(function(Ht,tr){if(dn(tr))switch(tr.value){case"center":return Me.push(On),!1;case"top":case"left":return Me.push(oa),!1;case"right":case"bottom":return Me.push(ua),!1}else if(Fn(tr)||Ha(tr))return Me.push(tr),!1;return Ht},lt):ct===1&&(lt=ze.reduce(function(Ht,tr){if(dn(tr))switch(tr.value){case _l:return L=0,!1;case Ec:return L=1,!1;case Qc:case Tl:return U=0,!1;case zo:return U=1,!1;case Do:return U=2,!1;case hd:case tc:return U=3,!1}else if(Ha(tr)||Fn(tr))return Array.isArray(U)||(U=[]),U.push(tr),!1;return Ht},lt)),lt){var Lt=Di(F,ze);xe.push(Lt)}}),{size:U,shape:L,stops:xe,position:Me,type:2}},Ko=function(F){return F.type===1},iu=function(F){return F.type===2},ju={name:"image",parse:function(F,E){if(E.type===22){var L={url:E.value,type:0};return F.cache.addImage(E.value),L}if(E.type===18){var U=Ol[E.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return U(F,E.values)}throw new Error("Unsupported image type "+E.type)}};function Hu(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!Ol[F.name])}var Ol={"linear-gradient":ec,"-moz-linear-gradient":Js,"-ms-linear-gradient":Js,"-o-linear-gradient":Js,"-webkit-linear-gradient":Js,"radial-gradient":Ad,"-moz-radial-gradient":au,"-ms-radial-gradient":au,"-o-radial-gradient":au,"-webkit-radial-gradient":au,"-webkit-gradient":al},Qu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var L=E[0];return L.type===20&&L.value==="none"?[]:E.filter(function(U){return Zn(U)&&Hu(U)}).map(function(U){return ju.parse(F,U)})}},Wu={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,E){return E.map(function(L){if(dn(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rc={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,E){return Mn(E).map(function(L){return L.filter(Fn)}).map(oi)}},$u={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,E){return Mn(E).map(function(L){return L.filter(dn).map(function(U){return U.value}).join(" ")}).map(Cu)}},Cu=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ba;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ba||(ba={}));var fd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,E){return Mn(E).map(function(L){return L.filter(nc)})}},nc=function(F){return dn(F)||Fn(F)},bi=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pd=bi("top"),ml=bi("right"),Ts=bi("bottom"),Ic=bi("left"),su=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(E,L){return oi(L.filter(Fn))}}},kl=su("top-left"),Vu=su("top-right"),Go=su("bottom-right"),md=su("bottom-left"),Nu=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,L){switch(L){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},gd=Nu("top"),ou=Nu("right"),Su=Nu("bottom"),Bu=Nu("left"),Eu=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,L){return An(L)?L.number:0}}},Iu=Eu("top"),vd=Eu("right"),Pl=Eu("bottom"),Lh=Eu("left"),Tu={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,E){switch(E){case"rtl":return 1;case"ltr":default:return 0}}},Uh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,E){return E.filter(dn).reduce(function(L,U){return L|Na(U.value)},0)}},Na=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Wc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,E){return E.type===20&&E.value==="normal"?0:E.type===17||E.type===15?E.number:0}},Tc;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Tc||(Tc={}));var jo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"strict":return Tc.STRICT;case"normal":default:return Tc.NORMAL}}},Fl={name:"line-height",initialValue:"normal",prefix:!1,type:4},ac=function(F,E){return dn(F)&&F.value==="normal"?1.2*E:F.type===17?E*F.number:Fn(F)?ja(F,E):E},zd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,E){return E.type===20&&E.value==="none"?null:ju.parse(F,E)}},gl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,E){switch(E){case"inside":return 0;case"outside":default:return 1}}},zu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},qo=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},_u=qo("top"),vl=qo("right"),xd=qo("bottom"),_c=qo("left"),ic={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,E){return E.filter(dn).map(function(L){switch(L.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Dl={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-word":return"break-word";case"normal":default:return"normal"}}},di=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Oi=di("top"),Ml=di("right"),js=di("bottom"),Ms=di("left"),Oc={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,E){switch(E){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Mo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&sa(E[0],"none")?[]:Mn(E).map(function(L){for(var U={color:wo.TRANSPARENT,offsetX:oa,offsetY:oa,blur:oa},xe=0,Me=0;Me<L.length;Me++){var ze=L[Me];Ha(ze)?(xe===0?U.offsetX=ze:xe===1?U.offsetY=ze:U.blur=ze,xe++):U.color=_i.parse(F,ze)}return U})}},sc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$c={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,E){if(E.type===20&&E.value==="none")return null;if(E.type===18){var L=Gd[E.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return L(E.values)}return null}},Kd=function(F){var E=F.filter(function(L){return L.type===17}).map(function(L){return L.number});return E.length===6?E:null},Vc=function(F){var E=F.filter(function(lt){return lt.type===17}).map(function(lt){return lt.number}),L=E[0],U=E[1];E[2],E[3];var xe=E[4],Me=E[5];E[6],E[7],E[8],E[9],E[10],E[11];var ze=E[12],ct=E[13];return E[14],E[15],E.length===16?[L,U,xe,Me,ze,ct]:null},Gd={matrix:Kd,matrix3d:Vc},de={type:16,number:50,flags:ai},Qe=[de,de],gt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,E){var L=E.filter(Fn);return L.length!==2?Qe:[L[0],L[1]]}},_t={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,E){switch(E){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},qt;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(qt||(qt={}));for(var br={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"break-all":return qt.BREAK_ALL;case"keep-all":return qt.KEEP_ALL;case"normal":default:return qt.NORMAL}}},Fr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,E){if(E.type===20)return{auto:!0,order:0};if(va(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},In={name:"time",parse:function(F,E){if(E.type===15)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},Un={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,E){return va(E)?E.number:1}},fa={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},na={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,E){return E.filter(dn).map(function(L){switch(L.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(L){return L!==0})}},Pa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,E){var L=[],U=[];return E.forEach(function(xe){switch(xe.type){case 20:case 0:L.push(xe.value);break;case 17:L.push(xe.number.toString());break;case 4:U.push(L.join(" ")),L.length=0;break}}),L.length&&U.push(L.join(" ")),U.map(function(xe){return xe.indexOf(" ")===-1?xe:"'"+xe+"'"})}},Mi={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Li={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,E){if(va(E))return E.number;if(dn(E))switch(E.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ai={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.filter(dn).map(function(L){return L.value})}},us={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},T=function(F,E){return(F&E)!==0},Ue={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,E){if(E.length===0)return[];var L=E[0];return L.type===20&&L.value==="none"?[]:E}},ee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var L=E[0];if(L.type===20&&L.value==="none")return null;for(var U=[],xe=E.filter(Dn),Me=0;Me<xe.length;Me++){var ze=xe[Me],ct=xe[Me+1];if(ze.type===20){var lt=ct&&va(ct)?ct.number:1;U.push({counter:ze.value,increment:lt})}}return U}},Xe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return[];for(var L=[],U=E.filter(Dn),xe=0;xe<U.length;xe++){var Me=U[xe],ze=U[xe+1];if(dn(Me)&&Me.value!=="none"){var ct=ze&&va(ze)?ze.number:0;L.push({counter:Me.value,reset:ct})}}return L}},ht={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,E){return E.filter(An).map(function(L){return In.parse(F,L)})}},ot={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,E){if(E.length===0)return null;var L=E[0];if(L.type===20&&L.value==="none")return null;var U=[],xe=E.filter(Hr);if(xe.length%2!==0)return null;for(var Me=0;Me<xe.length;Me+=2){var ze=xe[Me].value,ct=xe[Me+1].value;U.push({open:ze,close:ct})}return U}},er=function(F,E,L){if(!F)return"";var U=F[Math.min(E,F.length-1)];return U?L?U.open:U.close:""},$t={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,E){return E.length===1&&sa(E[0],"none")?[]:Mn(E).map(function(L){for(var U={color:255,offsetX:oa,offsetY:oa,blur:oa,spread:oa,inset:!1},xe=0,Me=0;Me<L.length;Me++){var ze=L[Me];sa(ze,"inset")?U.inset=!0:Ha(ze)?(xe===0?U.offsetX=ze:xe===1?U.offsetY=ze:xe===2?U.blur=ze:U.spread=ze,xe++):U.color=_i.parse(F,ze)}return U})}},Sn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,E){var L=[0,1,2],U=[];return E.filter(dn).forEach(function(xe){switch(xe.value){case"stroke":U.push(1);break;case"fill":U.push(0);break;case"markers":U.push(2);break}}),L.forEach(function(xe){U.indexOf(xe)===-1&&U.push(xe)}),U}},Pt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ir={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,E){return An(E)?E.number:0}},ya=(function(){function F(E,L){var U,xe;this.animationDuration=wr(E,ht,L.animationDuration),this.backgroundClip=wr(E,Il,L.backgroundClip),this.backgroundColor=wr(E,Ds,L.backgroundColor),this.backgroundImage=wr(E,Qu,L.backgroundImage),this.backgroundOrigin=wr(E,Wu,L.backgroundOrigin),this.backgroundPosition=wr(E,rc,L.backgroundPosition),this.backgroundRepeat=wr(E,$u,L.backgroundRepeat),this.backgroundSize=wr(E,fd,L.backgroundSize),this.borderTopColor=wr(E,pd,L.borderTopColor),this.borderRightColor=wr(E,ml,L.borderRightColor),this.borderBottomColor=wr(E,Ts,L.borderBottomColor),this.borderLeftColor=wr(E,Ic,L.borderLeftColor),this.borderTopLeftRadius=wr(E,kl,L.borderTopLeftRadius),this.borderTopRightRadius=wr(E,Vu,L.borderTopRightRadius),this.borderBottomRightRadius=wr(E,Go,L.borderBottomRightRadius),this.borderBottomLeftRadius=wr(E,md,L.borderBottomLeftRadius),this.borderTopStyle=wr(E,gd,L.borderTopStyle),this.borderRightStyle=wr(E,ou,L.borderRightStyle),this.borderBottomStyle=wr(E,Su,L.borderBottomStyle),this.borderLeftStyle=wr(E,Bu,L.borderLeftStyle),this.borderTopWidth=wr(E,Iu,L.borderTopWidth),this.borderRightWidth=wr(E,vd,L.borderRightWidth),this.borderBottomWidth=wr(E,Pl,L.borderBottomWidth),this.borderLeftWidth=wr(E,Lh,L.borderLeftWidth),this.boxShadow=wr(E,$t,L.boxShadow),this.color=wr(E,Tu,L.color),this.direction=wr(E,Vd,L.direction),this.display=wr(E,Uh,L.display),this.float=wr(E,Wc,L.cssFloat),this.fontFamily=wr(E,Pa,L.fontFamily),this.fontSize=wr(E,Mi,L.fontSize),this.fontStyle=wr(E,us,L.fontStyle),this.fontVariant=wr(E,Ai,L.fontVariant),this.fontWeight=wr(E,Li,L.fontWeight),this.letterSpacing=wr(E,fh,L.letterSpacing),this.lineBreak=wr(E,jo,L.lineBreak),this.lineHeight=wr(E,Fl,L.lineHeight),this.listStyleImage=wr(E,zd,L.listStyleImage),this.listStylePosition=wr(E,gl,L.listStylePosition),this.listStyleType=wr(E,zu,L.listStyleType),this.marginTop=wr(E,_u,L.marginTop),this.marginRight=wr(E,vl,L.marginRight),this.marginBottom=wr(E,xd,L.marginBottom),this.marginLeft=wr(E,_c,L.marginLeft),this.opacity=wr(E,Un,L.opacity);var Me=wr(E,ic,L.overflow);this.overflowX=Me[0],this.overflowY=Me[Me.length>1?1:0],this.overflowWrap=wr(E,Dl,L.overflowWrap),this.paddingTop=wr(E,Oi,L.paddingTop),this.paddingRight=wr(E,Ml,L.paddingRight),this.paddingBottom=wr(E,js,L.paddingBottom),this.paddingLeft=wr(E,Ms,L.paddingLeft),this.paintOrder=wr(E,Sn,L.paintOrder),this.position=wr(E,lu,L.position),this.textAlign=wr(E,Oc,L.textAlign),this.textDecorationColor=wr(E,fa,(U=L.textDecorationColor)!==null&&U!==void 0?U:L.color),this.textDecorationLine=wr(E,na,(xe=L.textDecorationLine)!==null&&xe!==void 0?xe:L.textDecoration),this.textShadow=wr(E,Mo,L.textShadow),this.textTransform=wr(E,sc,L.textTransform),this.transform=wr(E,$c,L.transform),this.transformOrigin=wr(E,gt,L.transformOrigin),this.visibility=wr(E,_t,L.visibility),this.webkitTextStrokeColor=wr(E,Pt,L.webkitTextStrokeColor),this.webkitTextStrokeWidth=wr(E,ir,L.webkitTextStrokeWidth),this.wordBreak=wr(E,br,L.wordBreak),this.zIndex=wr(E,Fr,L.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return Ca(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return T(this.display,4)||T(this.display,33554432)||T(this.display,268435456)||T(this.display,536870912)||T(this.display,67108864)||T(this.display,134217728)},F})(),fn=(function(){function F(E,L){this.content=wr(E,Ue,L.content),this.quotes=wr(E,ot,L.quotes)}return F})(),Mr=(function(){function F(E,L){this.counterIncrement=wr(E,ee,L.counterIncrement),this.counterReset=wr(E,Xe,L.counterReset)}return F})(),wr=function(F,E,L){var U=new ca,xe=L!==null&&typeof L<"u"?L.toString():E.initialValue;U.write(xe);var Me=new ut(U.read());switch(E.type){case 2:var ze=Me.parseComponentValue();return E.parse(F,dn(ze)?ze.value:E.initialValue);case 0:return E.parse(F,Me.parseComponentValue());case 1:return E.parse(F,Me.parseComponentValues());case 4:return Me.parseComponentValue();case 3:switch(E.format){case"angle":return zn.parse(F,Me.parseComponentValue());case"color":return _i.parse(F,Me.parseComponentValue());case"image":return ju.parse(F,Me.parseComponentValue());case"length":var ct=Me.parseComponentValue();return Ha(ct)?ct:oa;case"length-percentage":var lt=Me.parseComponentValue();return Fn(lt)?lt:oa;case"time":return In.parse(F,Me.parseComponentValue())}break}},Ui="data-html2canvas-debug",wa=function(F){var E=F.getAttribute(Ui);switch(E){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},aa=function(F,E){var L=wa(F);return L===1||E===L},Sa=(function(){function F(E,L){if(this.context=E,this.textNodes=[],this.elements=[],this.flags=0,aa(L,3))debugger;this.styles=new ya(E,window.getComputedStyle(L,null)),Sd(L)&&(this.styles.animationDuration.some(function(U){return U>0})&&(L.style.animationDuration="0s"),this.styles.transform!==null&&(L.style.transform="none")),this.bounds=o(this.context,L),aa(L,4)&&(this.flags|=16)}return F})(),ti="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta=typeof Uint8Array>"u"?[]:new Uint8Array(256),rs=0;rs<an.length;rs++)Ta[an.charCodeAt(rs)]=rs;for(var Jn=function(F){var E=F.length*.75,L=F.length,U,xe=0,Me,ze,ct,lt;F[F.length-1]==="="&&(E--,F[F.length-2]==="="&&E--);var Lt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),Ht=Array.isArray(Lt)?Lt:new Uint8Array(Lt);for(U=0;U<L;U+=4)Me=Ta[F.charCodeAt(U)],ze=Ta[F.charCodeAt(U+1)],ct=Ta[F.charCodeAt(U+2)],lt=Ta[F.charCodeAt(U+3)],Ht[xe++]=Me<<2|ze>>4,Ht[xe++]=(ze&15)<<4|ct>>2,Ht[xe++]=(ct&3)<<6|lt&63;return Lt},li=function(F){for(var E=F.length,L=[],U=0;U<E;U+=2)L.push(F[U+1]<<8|F[U]);return L},Fa=function(F){for(var E=F.length,L=[],U=0;U<E;U+=4)L.push(F[U+3]<<24|F[U+2]<<16|F[U+1]<<8|F[U]);return L},Hn=5,da=11,Co=2,oc=da-Hn,Ro=65536>>Hn,uo=1<<Hn,lc=uo-1,Vs=1024>>Hn,Hh=Ro+Vs,Xo=Hh,il=32,qd=Xo+il,ph=65536>>da,kc=1<<oc,zc=kc-1,Kc=function(F,E,L){return F.slice?F.slice(E,L):new Uint16Array(Array.prototype.slice.call(F,E,L))},Ku=function(F,E,L){return F.slice?F.slice(E,L):new Uint32Array(Array.prototype.slice.call(F,E,L))},cu=function(F,E){var L=Jn(F),U=Array.isArray(L)?Fa(L):new Uint32Array(L),xe=Array.isArray(L)?li(L):new Uint16Array(L),Me=24,ze=Kc(xe,Me/2,U[4]/2),ct=U[5]===2?Kc(xe,(Me+U[4])/2):Ku(U,Math.ceil((Me+U[4])/4));return new yd(U[0],U[1],U[2],U[3],ze,ct)},yd=(function(){function F(E,L,U,xe,Me,ze){this.initialValue=E,this.errorValue=L,this.highStart=U,this.highValueIndex=xe,this.index=Me,this.data=ze}return F.prototype.get=function(E){var L;if(E>=0){if(E<55296||E>56319&&E<=65535)return L=this.index[E>>Hn],L=(L<<Co)+(E&lc),this.data[L];if(E<=65535)return L=this.index[Ro+(E-55296>>Hn)],L=(L<<Co)+(E&lc),this.data[L];if(E<this.highStart)return L=qd-ph+(E>>da),L=this.index[L],L+=E>>Hn&zc,L=this.index[L],L=(L<<Co)+(E&lc),this.data[L];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Lo=0;Lo<Pc.length;Lo++)xl[Pc.charCodeAt(Lo)]=Lo;var cc=1,hi=2,Hi=3,ds=4,ho=5,uu=7,ns=8,du=9,bd=10,Qh=11,mh=12,Wh=13,Gu=14,Cs=15,No=function(F){for(var E=[],L=0,U=F.length;L<U;){var xe=F.charCodeAt(L++);if(xe>=55296&&xe<=56319&&L<U){var Me=F.charCodeAt(L++);(Me&64512)===56320?E.push(((xe&1023)<<10)+(Me&1023)+65536):(E.push(xe),L--)}else E.push(xe)}return E},eo=function(){for(var F=[],E=0;E<arguments.length;E++)F[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var L=F.length;if(!L)return"";for(var U=[],xe=-1,Me="";++xe<L;){var ze=F[xe];ze<=65535?U.push(ze):(ze-=65536,U.push((ze>>10)+55296,ze%1024+56320)),(xe+1===L||U.length>16384)&&(Me+=String.fromCharCode.apply(String,U),U.length=0)}return Me},$h=cu(ti),sl="",wd="",wp=function(F){return $h.get(F)},ol=function(F,E,L){var U=L-2,xe=E[U],Me=E[L-1],ze=E[L];if(Me===hi&&ze===Hi)return sl;if(Me===hi||Me===Hi||Me===ds||ze===hi||ze===Hi||ze===ds)return wd;if(Me===ns&&[ns,du,Qh,mh].indexOf(ze)!==-1||(Me===Qh||Me===du)&&(ze===du||ze===bd)||(Me===mh||Me===bd)&&ze===bd||ze===Wh||ze===ho||ze===uu||Me===cc)return sl;if(Me===Wh&&ze===Gu){for(;xe===ho;)xe=E[--U];if(xe===Gu)return sl}if(Me===Cs&&ze===Cs){for(var ct=0;xe===Cs;)ct++,xe=E[--U];if(ct%2===0)return sl}return wd},jA=function(F){var E=No(F),L=E.length,U=0,xe=0,Me=E.map(wp);return{next:function(){if(U>=L)return{done:!0,value:null};for(var ze=sl;U<L&&(ze=ol(E,Me,++U))===sl;);if(ze!==sl||U===L){var ct=eo.apply(null,E.slice(xe,U));return xe=U,{value:ct,done:!1}}return{done:!0,value:null}}}},CA=function(F){for(var E=jA(F),L=[],U;!(U=E.next()).done;)U.value&&L.push(U.value.slice());return L},NA=function(F){var E=123;if(F.createRange){var L=F.createRange();if(L.getBoundingClientRect){var U=F.createElement("boundtest");U.style.height=E+"px",U.style.display="block",F.body.appendChild(U),L.selectNode(U);var xe=L.getBoundingClientRect(),Me=Math.round(xe.height);if(F.body.removeChild(U),Me===E)return!0}}return!1},Gc=function(F){var E=F.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",F.body.appendChild(E);var L=F.createRange();E.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var U=E.firstChild,xe=d(U.data).map(function(lt){return A(lt)}),Me=0,ze={},ct=xe.every(function(lt,Lt){L.setStart(U,Me),L.setEnd(U,Me+lt.length);var Ht=L.getBoundingClientRect();Me+=lt.length;var tr=Ht.x>ze.x||Ht.y>ze.y;return ze=Ht,Lt===0?!0:tr});return F.body.removeChild(E),ct},Rl=function(){return typeof new Image().crossOrigin<"u"},ll=function(){return typeof new XMLHttpRequest().responseType=="string"},uc=function(F){var E=new Image,L=F.createElement("canvas"),U=L.getContext("2d");if(!U)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{U.drawImage(E,0,0),L.toDataURL()}catch{return!1}return!0},Xd=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Vh=function(F){var E=F.createElement("canvas"),L=100;E.width=L,E.height=L;var U=E.getContext("2d");if(!U)return Promise.reject(!1);U.fillStyle="rgb(0, 255, 0)",U.fillRect(0,0,L,L);var xe=new Image,Me=E.toDataURL();xe.src=Me;var ze=zh(L,L,0,0,xe);return U.fillStyle="red",U.fillRect(0,0,L,L),gh(ze).then(function(ct){U.drawImage(ct,0,0);var lt=U.getImageData(0,0,L,L).data;U.fillStyle="red",U.fillRect(0,0,L,L);var Lt=F.createElement("div");return Lt.style.backgroundImage="url("+Me+")",Lt.style.height=L+"px",Xd(lt)?gh(zh(L,L,0,0,Lt)):Promise.reject(!1)}).then(function(ct){return U.drawImage(ct,0,0),Xd(U.getImageData(0,0,L,L).data)}).catch(function(){return!1})},zh=function(F,E,L,U,xe){var Me="http://www.w3.org/2000/svg",ze=document.createElementNS(Me,"svg"),ct=document.createElementNS(Me,"foreignObject");return ze.setAttributeNS(null,"width",F.toString()),ze.setAttributeNS(null,"height",E.toString()),ct.setAttributeNS(null,"width","100%"),ct.setAttributeNS(null,"height","100%"),ct.setAttributeNS(null,"x",L.toString()),ct.setAttributeNS(null,"y",U.toString()),ct.setAttributeNS(null,"externalResourcesRequired","true"),ze.appendChild(ct),ct.appendChild(xe),ze},gh=function(F){return new Promise(function(E,L){var U=new Image;U.onload=function(){return E(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Ao={get SUPPORT_RANGE_BOUNDS(){var F=NA(document);return Object.defineProperty(Ao,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=Ao.SUPPORT_RANGE_BOUNDS&&Gc(document);return Object.defineProperty(Ao,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=uc(document);return Object.defineProperty(Ao,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Vh(document):Promise.resolve(!1);return Object.defineProperty(Ao,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Rl();return Object.defineProperty(Ao,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=ll();return Object.defineProperty(Ao,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ao,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ao,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},jd=(function(){function F(E,L){this.text=E,this.bounds=L}return F})(),mf=function(F,E,L,U){var xe=EA(E,L),Me=[],ze=0;return xe.forEach(function(ct){if(L.textDecorationLine.length||ct.trim().length>0)if(Ao.SUPPORT_RANGE_BOUNDS){var lt=Kh(U,ze,ct.length).getClientRects();if(lt.length>1){var Lt=Ou(ct),Ht=0;Lt.forEach(function(Cr){Me.push(new jd(Cr,u.fromDOMRectList(F,Kh(U,Ht+ze,Cr.length).getClientRects()))),Ht+=Cr.length})}else Me.push(new jd(ct,u.fromDOMRectList(F,lt)))}else{var tr=U.splitText(ct.length);Me.push(new jd(ct,SA(F,U))),U=tr}else Ao.SUPPORT_RANGE_BOUNDS||(U=U.splitText(ct.length));ze+=ct.length}),Me},SA=function(F,E){var L=E.ownerDocument;if(L){var U=L.createElement("html2canvaswrapper");U.appendChild(E.cloneNode(!0));var xe=E.parentNode;if(xe){xe.replaceChild(U,E);var Me=o(F,U);return U.firstChild&&xe.replaceChild(U.firstChild,U),Me}}return u.EMPTY},Kh=function(F,E,L){var U=F.ownerDocument;if(!U)throw new Error("Node has no owner document");var xe=U.createRange();return xe.setStart(F,E),xe.setEnd(F,E+L),xe},Ou=function(F){if(Ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(F)).map(function(L){return L.segment})}return CA(F)},BA=function(F,E){if(Ao.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(L.segment(F)).map(function(U){return U.segment})}return gf(F,E)},EA=function(F,E){return E.letterSpacing!==0?Ou(F):BA(F,E)},IA=[32,160,4961,65792,65793,4153,4241],gf=function(F,E){for(var L=xo(F,{lineBreak:E.lineBreak,wordBreak:E.overflowWrap==="break-word"?"break-word":E.wordBreak}),U=[],xe,Me=function(){if(xe.value){var ze=xe.value.slice(),ct=d(ze),lt="";ct.forEach(function(Lt){IA.indexOf(Lt)===-1?lt+=A(Lt):(lt.length&&U.push(lt),U.push(A(Lt)),lt="")}),lt.length&&U.push(lt)}};!(xe=L.next()).done;)Me();return U},vf=(function(){function F(E,L,U){this.text=jp(L.data,U.textTransform),this.textBounds=mf(E,this.text,U,L)}return F})(),jp=function(F,E){switch(E){case 1:return F.toLowerCase();case 3:return F.replace(Cp,Np);case 2:return F.toUpperCase();default:return F}},Cp=/(^|\s|:|-|\(|\))([a-z])/g,Np=function(F,E,L){return F.length>0?E+L.toUpperCase():F},xf=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.src=U.currentSrc||U.src,xe.intrinsicWidth=U.naturalWidth,xe.intrinsicHeight=U.naturalHeight,xe.context.cache.addImage(xe.src),xe}return E})(Sa),vh=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.canvas=U,xe.intrinsicWidth=U.width,xe.intrinsicHeight=U.height,xe}return E})(Sa),Gh=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this,Me=new XMLSerializer,ze=o(L,U);return U.setAttribute("width",ze.width+"px"),U.setAttribute("height",ze.height+"px"),xe.svg="data:image/svg+xml,"+encodeURIComponent(Me.serializeToString(U)),xe.intrinsicWidth=U.width.baseVal.value,xe.intrinsicHeight=U.height.baseVal.value,xe.context.cache.addImage(xe.svg),xe}return E})(Sa),Yd=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.value=U.value,xe}return E})(Sa),TA=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.start=U.start,xe.reversed=typeof U.reversed=="boolean"&&U.reversed===!0,xe}return E})(Sa),Hm=[{type:15,flags:0,unit:"px",number:3}],yf=[{type:16,flags:0,number:50}],Qm=function(F){return F.width>F.height?new u(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new u(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Wm=function(F){var E=F.type===qu?new Array(F.value.length+1).join(""):F.value;return E.length===0?F.placeholder||"":E},qh="checkbox",Xh="radio",qu="password",Ll=707406591,hu=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;switch(xe.type=U.type.toLowerCase(),xe.checked=U.checked,xe.value=Wm(U),(xe.type===qh||xe.type===Xh)&&(xe.styles.backgroundColor=3739148031,xe.styles.borderTopColor=xe.styles.borderRightColor=xe.styles.borderBottomColor=xe.styles.borderLeftColor=2779096575,xe.styles.borderTopWidth=xe.styles.borderRightWidth=xe.styles.borderBottomWidth=xe.styles.borderLeftWidth=1,xe.styles.borderTopStyle=xe.styles.borderRightStyle=xe.styles.borderBottomStyle=xe.styles.borderLeftStyle=1,xe.styles.backgroundClip=[0],xe.styles.backgroundOrigin=[0],xe.bounds=Qm(xe.bounds)),xe.type){case qh:xe.styles.borderTopRightRadius=xe.styles.borderTopLeftRadius=xe.styles.borderBottomRightRadius=xe.styles.borderBottomLeftRadius=Hm;break;case Xh:xe.styles.borderTopRightRadius=xe.styles.borderTopLeftRadius=xe.styles.borderBottomRightRadius=xe.styles.borderBottomLeftRadius=yf;break}return xe}return E})(Sa),Sp=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this,Me=U.options[U.selectedIndex||0];return xe.value=Me&&Me.text||"",xe}return E})(Sa),bf=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.value=U.value,xe}return E})(Sa),Uo=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;xe.src=U.src,xe.width=parseInt(U.width,10)||0,xe.height=parseInt(U.height,10)||0,xe.backgroundColor=xe.styles.backgroundColor;try{if(U.contentWindow&&U.contentWindow.document&&U.contentWindow.document.documentElement){xe.tree=_A(L,U.contentWindow.document.documentElement);var Me=U.contentWindow.document.documentElement?ws(L,getComputedStyle(U.contentWindow.document.documentElement).backgroundColor):wo.TRANSPARENT,ze=U.contentWindow.document.body?ws(L,getComputedStyle(U.contentWindow.document.body).backgroundColor):wo.TRANSPARENT;xe.backgroundColor=Ca(Me)?Ca(ze)?xe.styles.backgroundColor:ze:Me}}catch{}return xe}return E})(Sa),dc=["OL","UL","MENU"],Zd=function(F,E,L,U){for(var xe=E.firstChild,Me=void 0;xe;xe=Me)if(Me=xe.nextSibling,Cd(xe)&&xe.data.trim().length>0)L.textNodes.push(new vf(F,xe,L.styles));else if(Nd(xe))if(DA(xe)&&xe.assignedNodes)xe.assignedNodes().forEach(function(ct){return Zd(F,ct,L,U)});else{var ze=wf(F,xe);ze.styles.isVisible()&&(jf(xe,ze,U)?ze.flags|=4:OA(ze.styles)&&(ze.flags|=2),dc.indexOf(xe.tagName)!==-1&&(ze.flags|=8),L.elements.push(ze),xe.slot,xe.shadowRoot?Zd(F,xe.shadowRoot,ze,U):!Zh(xe)&&!Nf(xe)&&!yh(xe)&&Zd(F,xe,ze,U))}},wf=function(F,E){return PA(E)?new xf(F,E):Ul(E)?new vh(F,E):Nf(E)?new Gh(F,E):xh(E)?new Yd(F,E):kA(E)?new TA(F,E):Bp(E)?new hu(F,E):yh(E)?new Sp(F,E):Zh(E)?new bf(F,E):Bf(E)?new Uo(F,E):new Sa(F,E)},_A=function(F,E){var L=wf(F,E);return L.flags|=4,Zd(F,E,L,L),L},jf=function(F,E,L){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||Sf(F)&&L.styles.isTransparent()},OA=function(F){return F.isPositioned()||F.isFloating()},Cd=function(F){return F.nodeType===Node.TEXT_NODE},Nd=function(F){return F.nodeType===Node.ELEMENT_NODE},Sd=function(F){return Nd(F)&&typeof F.style<"u"&&!Jd(F)},Jd=function(F){return typeof F.className=="object"},xh=function(F){return F.tagName==="LI"},kA=function(F){return F.tagName==="OL"},Bp=function(F){return F.tagName==="INPUT"},Cf=function(F){return F.tagName==="HTML"},Nf=function(F){return F.tagName==="svg"},Sf=function(F){return F.tagName==="BODY"},Ul=function(F){return F.tagName==="CANVAS"},yl=function(F){return F.tagName==="VIDEO"},PA=function(F){return F.tagName==="IMG"},Bf=function(F){return F.tagName==="IFRAME"},FA=function(F){return F.tagName==="STYLE"},Yh=function(F){return F.tagName==="SCRIPT"},Zh=function(F){return F.tagName==="TEXTAREA"},yh=function(F){return F.tagName==="SELECT"},DA=function(F){return F.tagName==="SLOT"},_=function(F){return F.tagName.indexOf("-")>0},G=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(E){var L=this.counters[E];return L&&L.length?L[L.length-1]:1},F.prototype.getCounterValues=function(E){var L=this.counters[E];return L||[]},F.prototype.pop=function(E){var L=this;E.forEach(function(U){return L.counters[U].pop()})},F.prototype.parse=function(E){var L=this,U=E.counterIncrement,xe=E.counterReset,Me=!0;U!==null&&U.forEach(function(ct){var lt=L.counters[ct.counter];lt&&ct.increment!==0&&(Me=!1,lt.length||lt.push(1),lt[Math.max(0,lt.length-1)]+=ct.increment)});var ze=[];return Me&&xe.forEach(function(ct){var lt=L.counters[ct.counter];ze.push(ct.counter),lt||(lt=L.counters[ct.counter]=[]),lt.push(ct.reset)}),ze},F})(),ve={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_e={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},We={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qe=function(F,E,L,U,xe,Me){return F<E||F>L?Rr(F,xe,Me.length>0):U.integers.reduce(function(ze,ct,lt){for(;F>=ct;)F-=ct,ze+=U.values[lt];return ze},"")+Me},Je=function(F,E,L,U){var xe="";do L||F--,xe=U(F)+xe,F/=E;while(F*E>=E);return xe},rt=function(F,E,L,U,xe){var Me=L-E+1;return(F<0?"-":"")+(Je(Math.abs(F),Me,U,function(ze){return A(Math.floor(ze%Me)+E)})+xe)},pt=function(F,E,L){L===void 0&&(L=". ");var U=E.length;return Je(Math.abs(F),U,!1,function(xe){return E[Math.floor(xe%U)]})+L},Dt=1,rr=2,At=4,Rt=8,Yt=function(F,E,L,U,xe,Me){if(F<-9999||F>9999)return Rr(F,4,xe.length>0);var ze=Math.abs(F),ct=xe;if(ze===0)return E[0]+ct;for(var lt=0;ze>0&&lt<=4;lt++){var Lt=ze%10;Lt===0&&T(Me,Dt)&&ct!==""?ct=E[Lt]+ct:Lt>1||Lt===1&&lt===0||Lt===1&&lt===1&&T(Me,rr)||Lt===1&&lt===1&&T(Me,At)&&F>100||Lt===1&&lt>1&&T(Me,Rt)?ct=E[Lt]+(lt>0?L[lt-1]:"")+ct:Lt===1&&lt>0&&(ct=L[lt-1]+ct),ze=Math.floor(ze/10)}return(F<0?U:"")+ct},jr="",ar="",Nr="",Tr="",Rr=function(F,E,L){var U=L?". ":"",xe=L?"":"",Me=L?", ":"",ze=L?" ":"";switch(E){case 0:return""+ze;case 1:return""+ze;case 2:return""+ze;case 5:var ct=rt(F,48,57,!0,U);return ct.length<4?"0"+ct:ct;case 4:return pt(F,"",xe);case 6:return qe(F,1,3999,ve,3,U).toLowerCase();case 7:return qe(F,1,3999,ve,3,U);case 8:return rt(F,945,969,!1,U);case 9:return rt(F,97,122,!1,U);case 10:return rt(F,65,90,!1,U);case 11:return rt(F,1632,1641,!0,U);case 12:case 49:return qe(F,1,9999,_e,3,U);case 35:return qe(F,1,9999,_e,3,U).toLowerCase();case 13:return rt(F,2534,2543,!0,U);case 14:case 30:return rt(F,6112,6121,!0,U);case 15:return pt(F,"",xe);case 16:return pt(F,"",xe);case 17:case 48:return Yt(F,"",jr,"",xe,rr|At|Rt);case 47:return Yt(F,"",ar,"",xe,Dt|rr|At|Rt);case 42:return Yt(F,"",jr,"",xe,rr|At|Rt);case 41:return Yt(F,"",ar,"",xe,Dt|rr|At|Rt);case 26:return Yt(F,"","",Nr,xe,0);case 25:return Yt(F,"","",Nr,xe,Dt|rr|At);case 31:return Yt(F,"","",Tr,Me,Dt|rr|At);case 33:return Yt(F,"","",Tr,Me,0);case 32:return Yt(F,"","",Tr,Me,Dt|rr|At);case 18:return rt(F,2406,2415,!0,U);case 20:return qe(F,1,19999,Ke,3,U);case 21:return rt(F,2790,2799,!0,U);case 22:return rt(F,2662,2671,!0,U);case 22:return qe(F,1,10999,We,3,U);case 23:return pt(F,"");case 24:return pt(F,"");case 27:return rt(F,3302,3311,!0,U);case 28:return pt(F,"",xe);case 29:return pt(F,"",xe);case 34:return rt(F,3792,3801,!0,U);case 37:return rt(F,6160,6169,!0,U);case 38:return rt(F,4160,4169,!0,U);case 39:return rt(F,2918,2927,!0,U);case 40:return rt(F,1776,1785,!0,U);case 43:return rt(F,3046,3055,!0,U);case 44:return rt(F,3174,3183,!0,U);case 45:return rt(F,3664,3673,!0,U);case 46:return rt(F,3872,3881,!0,U);case 3:default:return rt(F,48,57,!0,U)}},Or="data-html2canvas-ignore",ea=(function(){function F(E,L,U){if(this.context=E,this.options=U,this.scrolledElements=[],this.referenceElement=L,this.counters=new G,this.quoteDepth=0,!L.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(L.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(E,L){var U=this,xe=za(E,L);if(!xe.contentWindow)return Promise.reject("Unable to find iframe window");var Me=E.defaultView.pageXOffset,ze=E.defaultView.pageYOffset,ct=xe.contentWindow,lt=ct.document,Lt=ln(xe).then(function(){return s(U,void 0,void 0,function(){var Ht,tr;return c(this,function(Cr){switch(Cr.label){case 0:return this.scrolledElements.forEach(Da),ct&&(ct.scrollTo(L.left,L.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ct.scrollY!==L.top||ct.scrollX!==L.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ct.scrollX-L.left,ct.scrollY-L.top,0,0))),Ht=this.options.onclone,tr=this.clonedReferenceElement,typeof tr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:lt.fonts&&lt.fonts.ready?[4,lt.fonts.ready]:[3,2];case 1:Cr.sent(),Cr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,wi(lt)]:[3,4];case 3:Cr.sent(),Cr.label=4;case 4:return typeof Ht=="function"?[2,Promise.resolve().then(function(){return Ht(lt,tr)}).then(function(){return xe})]:[2,xe]}})})});return lt.open(),lt.write(pn(document.doctype)+"<html></html>"),fo(this.referenceElement.ownerDocument,Me,ze),lt.replaceChild(lt.adoptNode(this.documentElement),lt.documentElement),lt.close(),Lt},F.prototype.createElementClone=function(E){if(aa(E,2))debugger;if(Ul(E))return this.createCanvasClone(E);if(yl(E))return this.createVideoClone(E);if(FA(E))return this.createStyleClone(E);var L=E.cloneNode(!1);return PA(L)&&(PA(E)&&E.currentSrc&&E.currentSrc!==E.src&&(L.src=E.currentSrc,L.srcset=""),L.loading==="lazy"&&(L.loading="eager")),_(L)?this.createCustomElementClone(L):L},F.prototype.createCustomElementClone=function(E){var L=document.createElement("html2canvascustomelement");return Qn(E.style,L),L},F.prototype.createStyleClone=function(E){try{var L=E.sheet;if(L&&L.cssRules){var U=[].slice.call(L.cssRules,0).reduce(function(Me,ze){return ze&&typeof ze.cssText=="string"?Me+ze.cssText:Me},""),xe=E.cloneNode(!1);return xe.textContent=U,xe}}catch(Me){if(this.context.logger.error("Unable to access cssRules property",Me),Me.name!=="SecurityError")throw Me}return E.cloneNode(!1)},F.prototype.createCanvasClone=function(E){var L;if(this.options.inlineImages&&E.ownerDocument){var U=E.ownerDocument.createElement("img");try{return U.src=E.toDataURL(),U}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var xe=E.cloneNode(!1);try{xe.width=E.width,xe.height=E.height;var Me=E.getContext("2d"),ze=xe.getContext("2d");if(ze)if(!this.options.allowTaint&&Me)ze.putImageData(Me.getImageData(0,0,E.width,E.height),0,0);else{var ct=(L=E.getContext("webgl2"))!==null&&L!==void 0?L:E.getContext("webgl");if(ct){var lt=ct.getContextAttributes();(lt==null?void 0:lt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}ze.drawImage(E,0,0)}return xe}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return xe},F.prototype.createVideoClone=function(E){var L=E.ownerDocument.createElement("canvas");L.width=E.offsetWidth,L.height=E.offsetHeight;var U=L.getContext("2d");try{return U&&(U.drawImage(E,0,0,L.width,L.height),this.options.allowTaint||U.getImageData(0,0,L.width,L.height)),L}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var xe=E.ownerDocument.createElement("canvas");return xe.width=E.offsetWidth,xe.height=E.offsetHeight,xe},F.prototype.appendChildNode=function(E,L,U){(!Nd(L)||!Yh(L)&&!L.hasAttribute(Or)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(L)))&&(!this.options.copyStyles||!Nd(L)||!FA(L))&&E.appendChild(this.cloneNode(L,U))},F.prototype.cloneChildNodes=function(E,L,U){for(var xe=this,Me=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;Me;Me=Me.nextSibling)if(Nd(Me)&&DA(Me)&&typeof Me.assignedNodes=="function"){var ze=Me.assignedNodes();ze.length&&ze.forEach(function(ct){return xe.appendChildNode(L,ct,U)})}else this.appendChildNode(L,Me,U)},F.prototype.cloneNode=function(E,L){if(Cd(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var U=E.ownerDocument.defaultView;if(U&&Nd(E)&&(Sd(E)||Jd(E))){var xe=this.createElementClone(E);xe.style.transitionProperty="none";var Me=U.getComputedStyle(E),ze=U.getComputedStyle(E,":before"),ct=U.getComputedStyle(E,":after");this.referenceElement===E&&Sd(xe)&&(this.clonedReferenceElement=xe),Sf(xe)&&Zo(xe);var lt=this.counters.parse(new Mr(this.context,Me)),Lt=this.resolvePseudoContent(E,xe,ze,Pn.BEFORE);_(E)&&(L=!0),yl(E)||this.cloneChildNodes(E,xe,L),Lt&&xe.insertBefore(Lt,xe.firstChild);var Ht=this.resolvePseudoContent(E,xe,ct,Pn.AFTER);return Ht&&xe.appendChild(Ht),this.counters.pop(lt),(Me&&(this.options.copyStyles||Jd(E))&&!Bf(E)||L)&&Qn(Me,xe),(E.scrollTop!==0||E.scrollLeft!==0)&&this.scrolledElements.push([xe,E.scrollLeft,E.scrollTop]),(Zh(E)||yh(E))&&(Zh(xe)||yh(xe))&&(xe.value=E.value),xe}return E.cloneNode(!1)},F.prototype.resolvePseudoContent=function(E,L,U,xe){var Me=this;if(U){var ze=U.content,ct=L.ownerDocument;if(!(!ct||!ze||ze==="none"||ze==="-moz-alt-content"||U.display==="none")){this.counters.parse(new Mr(this.context,U));var lt=new fn(this.context,U),Lt=ct.createElement("html2canvaspseudoelement");Qn(U,Lt),lt.content.forEach(function(tr){if(tr.type===0)Lt.appendChild(ct.createTextNode(tr.value));else if(tr.type===22){var Cr=ct.createElement("img");Cr.src=tr.value,Cr.style.opacity="1",Lt.appendChild(Cr)}else if(tr.type===18){if(tr.name==="attr"){var bn=tr.values.filter(dn);bn.length&&Lt.appendChild(ct.createTextNode(E.getAttribute(bn[0].value)||""))}else if(tr.name==="counter"){var nn=tr.values.filter(Zn),vn=nn[0],ri=nn[1];if(vn&&dn(vn)){var Xn=Me.counters.getCounterValue(vn.value),$n=ri&&dn(ri)?zu.parse(Me.context,ri.value):3;Lt.appendChild(ct.createTextNode(Rr(Xn,$n,!1)))}}else if(tr.name==="counters"){var qi=tr.values.filter(Zn),vn=qi[0],si=qi[1],ri=qi[2];if(vn&&dn(vn)){var Wa=Me.counters.getCounterValues(vn.value),Tn=ri&&dn(ri)?zu.parse(Me.context,ri.value):3,Pi=si&&si.type===0?si.value:"",ji=Wa.map(function(fc){return Rr(fc,Tn,!1)}).join(Pi);Lt.appendChild(ct.createTextNode(ji))}}}else if(tr.type===20)switch(tr.value){case"open-quote":Lt.appendChild(ct.createTextNode(er(lt.quotes,Me.quoteDepth++,!0)));break;case"close-quote":Lt.appendChild(ct.createTextNode(er(lt.quotes,--Me.quoteDepth,!1)));break;default:Lt.appendChild(ct.createTextNode(tr.value))}}),Lt.className=So+" "+Yo;var Ht=xe===Pn.BEFORE?" "+So:" "+Yo;return Jd(L)?L.className.baseValue+=Ht:L.className+=Ht,Lt}}},F.destroy=function(E){return E.parentNode?(E.parentNode.removeChild(E),!0):!1},F})(),Pn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(Pn||(Pn={}));var za=function(F,E){var L=F.createElement("iframe");return L.className="html2canvas-container",L.style.visibility="hidden",L.style.position="fixed",L.style.left="-10000px",L.style.top="0px",L.style.border="0",L.width=E.width.toString(),L.height=E.height.toString(),L.scrolling="no",L.setAttribute(Or,"true"),F.body.appendChild(L),L},yn=function(F){return new Promise(function(E){if(F.complete){E();return}if(!F.src){E();return}F.onload=E,F.onerror=E})},wi=function(F){return Promise.all([].slice.call(F.images,0).map(yn))},ln=function(F){return new Promise(function(E,L){var U=F.contentWindow;if(!U)return L("No window assigned for iframe");var xe=U.document;U.onload=F.onload=function(){U.onload=F.onload=null;var Me=setInterval(function(){xe.body.childNodes.length>0&&xe.readyState==="complete"&&(clearInterval(Me),E(F))},50)}})},La=["all","d","content"],Qn=function(F,E){for(var L=F.length-1;L>=0;L--){var U=F.item(L);La.indexOf(U)===-1&&E.style.setProperty(U,F.getPropertyValue(U))}return E},pn=function(F){var E="";return F&&(E+="<!DOCTYPE ",F.name&&(E+=F.name),F.internalSubset&&(E+=F.internalSubset),F.publicId&&(E+='"'+F.publicId+'"'),F.systemId&&(E+='"'+F.systemId+'"'),E+=">"),E},fo=function(F,E,L){F&&F.defaultView&&(E!==F.defaultView.pageXOffset||L!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(E,L)},Da=function(F){var E=F[0],L=F[1],U=F[2];E.scrollLeft=L,E.scrollTop=U},fi=":before",hs=":after",So="___html2canvas___pseudoelement_before",Yo="___html2canvas___pseudoelement_after",Rs=`{
    content: "" !important;
    display: none !important;
}`,Zo=function(F){cl(F,"."+So+fi+Rs+`
         .`+Yo+hs+Rs)},cl=function(F,E){var L=F.ownerDocument;if(L){var U=L.createElement("style");U.textContent=E,F.appendChild(U)}},mi=(function(){function F(){}return F.getOrigin=function(E){var L=F._link;return L?(L.href=E,L.href=L.href,L.protocol+L.hostname+L.port):"about:blank"},F.isSameOrigin=function(E){return F.getOrigin(E)===F._origin},F.setContext=function(E){F._link=E.document.createElement("a"),F._origin=F.getOrigin(E.location.href)},F._origin="about:blank",F})(),Xa=(function(){function F(E,L){this.context=E,this._options=L,this._cache={}}return F.prototype.addImage=function(E){var L=Promise.resolve();return this.has(E)||(bl(E)||As(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),L},F.prototype.match=function(E){return this._cache[E]},F.prototype.loadImage=function(E){return s(this,void 0,void 0,function(){var L,U,xe,Me,ze=this;return c(this,function(ct){switch(ct.label){case 0:return L=mi.isSameOrigin(E),U=!hc(E)&&this._options.useCORS===!0&&Ao.SUPPORT_CORS_IMAGES&&!L,xe=!hc(E)&&!L&&!bl(E)&&typeof this._options.proxy=="string"&&Ao.SUPPORT_CORS_XHR&&!U,!L&&this._options.allowTaint===!1&&!hc(E)&&!bl(E)&&!xe&&!U?[2]:(Me=E,xe?[4,this.proxy(Me)]:[3,2]);case 1:Me=ct.sent(),ct.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(lt,Lt){var Ht=new Image;Ht.onload=function(){return lt(Ht)},Ht.onerror=Lt,(Ki(Me)||U)&&(Ht.crossOrigin="anonymous"),Ht.src=Me,Ht.complete===!0&&setTimeout(function(){return lt(Ht)},500),ze._options.imageTimeout>0&&setTimeout(function(){return Lt("Timed out ("+ze._options.imageTimeout+"ms) loading image")},ze._options.imageTimeout)})];case 3:return[2,ct.sent()]}})})},F.prototype.has=function(E){return typeof this._cache[E]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(E){var L=this,U=this._options.proxy;if(!U)throw new Error("No proxy defined");var xe=E.substring(0,256);return new Promise(function(Me,ze){var ct=Ao.SUPPORT_RESPONSE_TYPE?"blob":"text",lt=new XMLHttpRequest;lt.onload=function(){if(lt.status===200)if(ct==="text")Me(lt.response);else{var tr=new FileReader;tr.addEventListener("load",function(){return Me(tr.result)},!1),tr.addEventListener("error",function(Cr){return ze(Cr)},!1),tr.readAsDataURL(lt.response)}else ze("Failed to proxy resource "+xe+" with status code "+lt.status)},lt.onerror=ze;var Lt=U.indexOf("?")>-1?"&":"?";if(lt.open("GET",""+U+Lt+"url="+encodeURIComponent(E)+"&responseType="+ct),ct!=="text"&&lt instanceof XMLHttpRequest&&(lt.responseType=ct),L._options.imageTimeout){var Ht=L._options.imageTimeout;lt.timeout=Ht,lt.ontimeout=function(){return ze("Timed out ("+Ht+"ms) proxying "+xe)}}lt.send()})},F})(),gi=/^data:image\/svg\+xml/i,zs=/^data:image\/.*;base64,/i,zi=/^data:image\/.*/i,As=function(F){return Ao.SUPPORT_SVG_DRAWING||!as(F)},hc=function(F){return zi.test(F)},Ki=function(F){return zs.test(F)},bl=function(F){return F.substr(0,4)==="blob"},as=function(F){return F.substr(-3).toLowerCase()==="svg"||gi.test(F)},rn=(function(){function F(E,L){this.type=0,this.x=E,this.y=L}return F.prototype.add=function(E,L){return new F(this.x+E,this.y+L)},F})(),Ho=function(F,E,L){return new rn(F.x+(E.x-F.x)*L,F.y+(E.y-F.y)*L)},Qo=(function(){function F(E,L,U,xe){this.type=1,this.start=E,this.startControl=L,this.endControl=U,this.end=xe}return F.prototype.subdivide=function(E,L){var U=Ho(this.start,this.startControl,E),xe=Ho(this.startControl,this.endControl,E),Me=Ho(this.endControl,this.end,E),ze=Ho(U,xe,E),ct=Ho(xe,Me,E),lt=Ho(ze,ct,E);return L?new F(this.start,U,ze,lt):new F(lt,ct,Me,this.end)},F.prototype.add=function(E,L){return new F(this.start.add(E,L),this.startControl.add(E,L),this.endControl.add(E,L),this.end.add(E,L))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Ls=function(F){return F.type===1},wl=(function(){function F(E){var L=E.styles,U=E.bounds,xe=kn(L.borderTopLeftRadius,U.width,U.height),Me=xe[0],ze=xe[1],ct=kn(L.borderTopRightRadius,U.width,U.height),lt=ct[0],Lt=ct[1],Ht=kn(L.borderBottomRightRadius,U.width,U.height),tr=Ht[0],Cr=Ht[1],bn=kn(L.borderBottomLeftRadius,U.width,U.height),nn=bn[0],vn=bn[1],ri=[];ri.push((Me+lt)/U.width),ri.push((nn+tr)/U.width),ri.push((ze+vn)/U.height),ri.push((Lt+Cr)/U.height);var Xn=Math.max.apply(Math,ri);Xn>1&&(Me/=Xn,ze/=Xn,lt/=Xn,Lt/=Xn,tr/=Xn,Cr/=Xn,nn/=Xn,vn/=Xn);var $n=U.width-lt,qi=U.height-Cr,si=U.width-tr,Wa=U.height-vn,Tn=L.borderTopWidth,Pi=L.borderRightWidth,ji=L.borderBottomWidth,Ra=L.borderLeftWidth,Wo=ja(L.paddingTop,E.bounds.width),fc=ja(L.paddingRight,E.bounds.width),fu=ja(L.paddingBottom,E.bounds.width),fs=ja(L.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=Me>0||ze>0?Ma(U.left+Ra/3,U.top+Tn/3,Me-Ra/3,ze-Tn/3,Qa.TOP_LEFT):new rn(U.left+Ra/3,U.top+Tn/3),this.topRightBorderDoubleOuterBox=Me>0||ze>0?Ma(U.left+$n,U.top+Tn/3,lt-Pi/3,Lt-Tn/3,Qa.TOP_RIGHT):new rn(U.left+U.width-Pi/3,U.top+Tn/3),this.bottomRightBorderDoubleOuterBox=tr>0||Cr>0?Ma(U.left+si,U.top+qi,tr-Pi/3,Cr-ji/3,Qa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi/3,U.top+U.height-ji/3),this.bottomLeftBorderDoubleOuterBox=nn>0||vn>0?Ma(U.left+Ra/3,U.top+Wa,nn-Ra/3,vn-ji/3,Qa.BOTTOM_LEFT):new rn(U.left+Ra/3,U.top+U.height-ji/3),this.topLeftBorderDoubleInnerBox=Me>0||ze>0?Ma(U.left+Ra*2/3,U.top+Tn*2/3,Me-Ra*2/3,ze-Tn*2/3,Qa.TOP_LEFT):new rn(U.left+Ra*2/3,U.top+Tn*2/3),this.topRightBorderDoubleInnerBox=Me>0||ze>0?Ma(U.left+$n,U.top+Tn*2/3,lt-Pi*2/3,Lt-Tn*2/3,Qa.TOP_RIGHT):new rn(U.left+U.width-Pi*2/3,U.top+Tn*2/3),this.bottomRightBorderDoubleInnerBox=tr>0||Cr>0?Ma(U.left+si,U.top+qi,tr-Pi*2/3,Cr-ji*2/3,Qa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi*2/3,U.top+U.height-ji*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||vn>0?Ma(U.left+Ra*2/3,U.top+Wa,nn-Ra*2/3,vn-ji*2/3,Qa.BOTTOM_LEFT):new rn(U.left+Ra*2/3,U.top+U.height-ji*2/3),this.topLeftBorderStroke=Me>0||ze>0?Ma(U.left+Ra/2,U.top+Tn/2,Me-Ra/2,ze-Tn/2,Qa.TOP_LEFT):new rn(U.left+Ra/2,U.top+Tn/2),this.topRightBorderStroke=Me>0||ze>0?Ma(U.left+$n,U.top+Tn/2,lt-Pi/2,Lt-Tn/2,Qa.TOP_RIGHT):new rn(U.left+U.width-Pi/2,U.top+Tn/2),this.bottomRightBorderStroke=tr>0||Cr>0?Ma(U.left+si,U.top+qi,tr-Pi/2,Cr-ji/2,Qa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi/2,U.top+U.height-ji/2),this.bottomLeftBorderStroke=nn>0||vn>0?Ma(U.left+Ra/2,U.top+Wa,nn-Ra/2,vn-ji/2,Qa.BOTTOM_LEFT):new rn(U.left+Ra/2,U.top+U.height-ji/2),this.topLeftBorderBox=Me>0||ze>0?Ma(U.left,U.top,Me,ze,Qa.TOP_LEFT):new rn(U.left,U.top),this.topRightBorderBox=lt>0||Lt>0?Ma(U.left+$n,U.top,lt,Lt,Qa.TOP_RIGHT):new rn(U.left+U.width,U.top),this.bottomRightBorderBox=tr>0||Cr>0?Ma(U.left+si,U.top+qi,tr,Cr,Qa.BOTTOM_RIGHT):new rn(U.left+U.width,U.top+U.height),this.bottomLeftBorderBox=nn>0||vn>0?Ma(U.left,U.top+Wa,nn,vn,Qa.BOTTOM_LEFT):new rn(U.left,U.top+U.height),this.topLeftPaddingBox=Me>0||ze>0?Ma(U.left+Ra,U.top+Tn,Math.max(0,Me-Ra),Math.max(0,ze-Tn),Qa.TOP_LEFT):new rn(U.left+Ra,U.top+Tn),this.topRightPaddingBox=lt>0||Lt>0?Ma(U.left+Math.min($n,U.width-Pi),U.top+Tn,$n>U.width+Pi?0:Math.max(0,lt-Pi),Math.max(0,Lt-Tn),Qa.TOP_RIGHT):new rn(U.left+U.width-Pi,U.top+Tn),this.bottomRightPaddingBox=tr>0||Cr>0?Ma(U.left+Math.min(si,U.width-Ra),U.top+Math.min(qi,U.height-ji),Math.max(0,tr-Pi),Math.max(0,Cr-ji),Qa.BOTTOM_RIGHT):new rn(U.left+U.width-Pi,U.top+U.height-ji),this.bottomLeftPaddingBox=nn>0||vn>0?Ma(U.left+Ra,U.top+Math.min(Wa,U.height-ji),Math.max(0,nn-Ra),Math.max(0,vn-ji),Qa.BOTTOM_LEFT):new rn(U.left+Ra,U.top+U.height-ji),this.topLeftContentBox=Me>0||ze>0?Ma(U.left+Ra+fs,U.top+Tn+Wo,Math.max(0,Me-(Ra+fs)),Math.max(0,ze-(Tn+Wo)),Qa.TOP_LEFT):new rn(U.left+Ra+fs,U.top+Tn+Wo),this.topRightContentBox=lt>0||Lt>0?Ma(U.left+Math.min($n,U.width+Ra+fs),U.top+Tn+Wo,$n>U.width+Ra+fs?0:lt-Ra+fs,Lt-(Tn+Wo),Qa.TOP_RIGHT):new rn(U.left+U.width-(Pi+fc),U.top+Tn+Wo),this.bottomRightContentBox=tr>0||Cr>0?Ma(U.left+Math.min(si,U.width-(Ra+fs)),U.top+Math.min(qi,U.height+Tn+Wo),Math.max(0,tr-(Pi+fc)),Cr-(ji+fu),Qa.BOTTOM_RIGHT):new rn(U.left+U.width-(Pi+fc),U.top+U.height-(ji+fu)),this.bottomLeftContentBox=nn>0||vn>0?Ma(U.left+Ra+fs,U.top+Wa,Math.max(0,nn-(Ra+fs)),vn-(ji+fu),Qa.BOTTOM_LEFT):new rn(U.left+Ra+fs,U.top+U.height-(ji+fu))}return F})(),Qa;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Qa||(Qa={}));var Ma=function(F,E,L,U,xe){var Me=4*((Math.sqrt(2)-1)/3),ze=L*Me,ct=U*Me,lt=F+L,Lt=E+U;switch(xe){case Qa.TOP_LEFT:return new Qo(new rn(F,Lt),new rn(F,Lt-ct),new rn(lt-ze,E),new rn(lt,E));case Qa.TOP_RIGHT:return new Qo(new rn(F,E),new rn(F+ze,E),new rn(lt,Lt-ct),new rn(lt,Lt));case Qa.BOTTOM_RIGHT:return new Qo(new rn(lt,E),new rn(lt,E+ct),new rn(F+ze,Lt),new rn(F,Lt));case Qa.BOTTOM_LEFT:default:return new Qo(new rn(lt,Lt),new rn(lt-ze,Lt),new rn(F,E+ct),new rn(F,E))}},qn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},Gi=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},ki=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},Ks=(function(){function F(E,L,U){this.offsetX=E,this.offsetY=L,this.matrix=U,this.type=0,this.target=6}return F})(),Us=(function(){function F(E,L){this.path=E,this.target=L,this.type=1}return F})(),to=(function(){function F(E){this.opacity=E,this.type=2,this.target=6}return F})(),ro=function(F){return F.type===0},Bd=function(F){return F.type===1},ku=function(F){return F.type===2},Xu=function(F,E){return F.length===E.length?F.some(function(L,U){return L===E[U]}):!1},Ef=function(F,E,L,U,xe){return F.map(function(Me,ze){switch(ze){case 0:return Me.add(E,L);case 1:return Me.add(E+U,L);case 2:return Me.add(E+U,L+xe);case 3:return Me.add(E,L+xe)}return Me})},bh=(function(){function F(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),ul=(function(){function F(E,L){if(this.container=E,this.parent=L,this.effects=[],this.curves=new wl(this.container),this.container.styles.opacity<1&&this.effects.push(new to(this.container.styles.opacity)),this.container.styles.transform!==null){var U=this.container.bounds.left+this.container.styles.transformOrigin[0].number,xe=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Me=this.container.styles.transform;this.effects.push(new Ks(U,xe,Me))}if(this.container.styles.overflowX!==0){var ze=qn(this.curves),ct=ki(this.curves);Xu(ze,ct)?this.effects.push(new Us(ze,6)):(this.effects.push(new Us(ze,2)),this.effects.push(new Us(ct,4)))}}return F.prototype.getEffects=function(E){for(var L=[2,3].indexOf(this.container.styles.position)===-1,U=this.parent,xe=this.effects.slice(0);U;){var Me=U.effects.filter(function(lt){return!Bd(lt)});if(L||U.container.styles.position!==0||!U.parent){if(xe.unshift.apply(xe,Me),L=[2,3].indexOf(U.container.styles.position)===-1,U.container.styles.overflowX!==0){var ze=qn(U.curves),ct=ki(U.curves);Xu(ze,ct)||xe.unshift(new Us(ct,6))}}else xe.unshift.apply(xe,Me);U=U.parent}return xe.filter(function(lt){return T(lt.target,E)})},F})(),qc=function(F,E,L,U){F.container.elements.forEach(function(xe){var Me=T(xe.flags,4),ze=T(xe.flags,2),ct=new ul(xe,F);T(xe.styles.display,2048)&&U.push(ct);var lt=T(xe.flags,8)?[]:U;if(Me||ze){var Lt=Me||xe.styles.isPositioned()?L:E,Ht=new bh(ct);if(xe.styles.isPositioned()||xe.styles.opacity<1||xe.styles.isTransformed()){var tr=xe.styles.zIndex.order;if(tr<0){var Cr=0;Lt.negativeZIndex.some(function(nn,vn){return tr>nn.element.container.styles.zIndex.order?(Cr=vn,!1):Cr>0}),Lt.negativeZIndex.splice(Cr,0,Ht)}else if(tr>0){var bn=0;Lt.positiveZIndex.some(function(nn,vn){return tr>=nn.element.container.styles.zIndex.order?(bn=vn+1,!1):bn>0}),Lt.positiveZIndex.splice(bn,0,Ht)}else Lt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ht)}else xe.styles.isFloating()?Lt.nonPositionedFloats.push(Ht):Lt.nonPositionedInlineLevel.push(Ht);qc(ct,Ht,Me?Ht:L,lt)}else xe.styles.isInlineLevel()?E.inlineLevel.push(ct):E.nonInlineLevel.push(ct),qc(ct,E,L,lt);T(xe.flags,8)&&eh(xe,lt)})},eh=function(F,E){for(var L=F instanceof TA?F.start:1,U=F instanceof TA?F.reversed:!1,xe=0;xe<E.length;xe++){var Me=E[xe];Me.container instanceof Yd&&typeof Me.container.value=="number"&&Me.container.value!==0&&(L=Me.container.value),Me.listValue=Rr(L,Me.container.styles.listStyleType,!0),L+=U?-1:1}},Yu=function(F){var E=new ul(F,null),L=new bh(E),U=[];return qc(E,L,L,U),eh(E.container,U),L},Jh=function(F,E){switch(E){case 0:return Jo(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return Jo(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return Jo(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return Jo(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},MA=function(F,E){switch(E){case 0:return Jo(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return Jo(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return Jo(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return Jo(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},Au=function(F,E){switch(E){case 0:return Jo(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return Jo(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return Jo(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return Jo(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},eA=function(F,E){switch(E){case 0:return Xc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Xc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Xc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Xc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Xc=function(F,E){var L=[];return Ls(F)?L.push(F.subdivide(.5,!1)):L.push(F),Ls(E)?L.push(E.subdivide(.5,!0)):L.push(E),L},Jo=function(F,E,L,U){var xe=[];return Ls(F)?xe.push(F.subdivide(.5,!1)):xe.push(F),Ls(L)?xe.push(L.subdivide(.5,!0)):xe.push(L),Ls(U)?xe.push(U.subdivide(.5,!0).reverse()):xe.push(U),Ls(E)?xe.push(E.subdivide(.5,!1).reverse()):xe.push(E),xe},Ed=function(F){var E=F.bounds,L=F.styles;return E.add(L.borderLeftWidth,L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth),-(L.borderTopWidth+L.borderBottomWidth))},Pu=function(F){var E=F.styles,L=F.bounds,U=ja(E.paddingLeft,L.width),xe=ja(E.paddingRight,L.width),Me=ja(E.paddingTop,L.width),ze=ja(E.paddingBottom,L.width);return L.add(U+E.borderLeftWidth,Me+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+U+xe),-(E.borderTopWidth+E.borderBottomWidth+Me+ze))},tA=function(F,E){return F===0?E.bounds:F===2?Pu(E):Ed(E)},RA=function(F,E){return F===0?E.bounds:F===2?Pu(E):Ed(E)},Bo=function(F,E,L){var U=tA(Id(F.styles.backgroundOrigin,E),F),xe=RA(Id(F.styles.backgroundClip,E),F),Me=po(Id(F.styles.backgroundSize,E),L,U),ze=Me[0],ct=Me[1],lt=kn(Id(F.styles.backgroundPosition,E),U.width-ze,U.height-ct),Lt=LA(Id(F.styles.backgroundRepeat,E),lt,Me,U,xe),Ht=Math.round(U.left+lt[0]),tr=Math.round(U.top+lt[1]);return[Lt,Ht,tr,ze,ct]},Ac=function(F){return dn(F)&&F.value===ba.AUTO},jl=function(F){return typeof F=="number"},po=function(F,E,L){var U=E[0],xe=E[1],Me=E[2],ze=F[0],ct=F[1];if(!ze)return[0,0];if(Fn(ze)&&ct&&Fn(ct))return[ja(ze,L.width),ja(ct,L.height)];var lt=jl(Me);if(dn(ze)&&(ze.value===ba.CONTAIN||ze.value===ba.COVER)){if(jl(Me)){var Lt=L.width/L.height;return Lt<Me!=(ze.value===ba.COVER)?[L.width,L.width/Me]:[L.height*Me,L.height]}return[L.width,L.height]}var Ht=jl(U),tr=jl(xe),Cr=Ht||tr;if(Ac(ze)&&(!ct||Ac(ct))){if(Ht&&tr)return[U,xe];if(!lt&&!Cr)return[L.width,L.height];if(Cr&&lt){var bn=Ht?U:xe*Me,nn=tr?xe:U/Me;return[bn,nn]}var vn=Ht?U:L.width,ri=tr?xe:L.height;return[vn,ri]}if(lt){var Xn=0,$n=0;return Fn(ze)?Xn=ja(ze,L.width):Fn(ct)&&($n=ja(ct,L.height)),Ac(ze)?Xn=$n*Me:(!ct||Ac(ct))&&($n=Xn/Me),[Xn,$n]}var qi=null,si=null;if(Fn(ze)?qi=ja(ze,L.width):ct&&Fn(ct)&&(si=ja(ct,L.height)),qi!==null&&(!ct||Ac(ct))&&(si=Ht&&tr?qi/U*xe:L.height),si!==null&&Ac(ze)&&(qi=Ht&&tr?si/xe*U:L.width),qi!==null&&si!==null)return[qi,si];throw new Error("Unable to calculate background-size for element")},Id=function(F,E){var L=F[E];return typeof L>"u"?F[0]:L},LA=function(F,E,L,U,xe){var Me=E[0],ze=E[1],ct=L[0],lt=L[1];switch(F){case 2:return[new rn(Math.round(U.left),Math.round(U.top+ze)),new rn(Math.round(U.left+U.width),Math.round(U.top+ze)),new rn(Math.round(U.left+U.width),Math.round(lt+U.top+ze)),new rn(Math.round(U.left),Math.round(lt+U.top+ze))];case 3:return[new rn(Math.round(U.left+Me),Math.round(U.top)),new rn(Math.round(U.left+Me+ct),Math.round(U.top)),new rn(Math.round(U.left+Me+ct),Math.round(U.height+U.top)),new rn(Math.round(U.left+Me),Math.round(U.height+U.top))];case 1:return[new rn(Math.round(U.left+Me),Math.round(U.top+ze)),new rn(Math.round(U.left+Me+ct),Math.round(U.top+ze)),new rn(Math.round(U.left+Me+ct),Math.round(U.top+ze+lt)),new rn(Math.round(U.left+Me),Math.round(U.top+ze+lt))];default:return[new rn(Math.round(xe.left),Math.round(xe.top)),new rn(Math.round(xe.left+xe.width),Math.round(xe.top)),new rn(Math.round(xe.left+xe.width),Math.round(xe.height+xe.top)),new rn(Math.round(xe.left),Math.round(xe.height+xe.top))]}},If="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Tf="Hidden Text",Fc=(function(){function F(E){this._data={},this._document=E}return F.prototype.parseMetrics=function(E,L){var U=this._document.createElement("div"),xe=this._document.createElement("img"),Me=this._document.createElement("span"),ze=this._document.body;U.style.visibility="hidden",U.style.fontFamily=E,U.style.fontSize=L,U.style.margin="0",U.style.padding="0",U.style.whiteSpace="nowrap",ze.appendChild(U),xe.src=If,xe.width=1,xe.height=1,xe.style.margin="0",xe.style.padding="0",xe.style.verticalAlign="baseline",Me.style.fontFamily=E,Me.style.fontSize=L,Me.style.margin="0",Me.style.padding="0",Me.appendChild(this._document.createTextNode(Tf)),U.appendChild(Me),U.appendChild(xe);var ct=xe.offsetTop-Me.offsetTop+2;U.removeChild(Me),U.appendChild(this._document.createTextNode(Tf)),U.style.lineHeight="normal",xe.style.verticalAlign="super";var lt=xe.offsetTop-U.offsetTop+2;return ze.removeChild(U),{baseline:ct,middle:lt}},F.prototype.getMetrics=function(E,L){var U=E+" "+L;return typeof this._data[U]>"u"&&(this._data[U]=this.parseMetrics(E,L)),this._data[U]},F})(),_f=(function(){function F(E,L){this.context=E,this.options=L}return F})(),UA=1e4,th=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe._activeEffects=[],xe.canvas=U.canvas?U.canvas:document.createElement("canvas"),xe.ctx=xe.canvas.getContext("2d"),U.canvas||(xe.canvas.width=Math.floor(U.width*U.scale),xe.canvas.height=Math.floor(U.height*U.scale),xe.canvas.style.width=U.width+"px",xe.canvas.style.height=U.height+"px"),xe.fontMetrics=new Fc(document),xe.ctx.scale(xe.options.scale,xe.options.scale),xe.ctx.translate(-U.x,-U.y),xe.ctx.textBaseline="bottom",xe._activeEffects=[],xe.context.logger.debug("Canvas renderer initialized ("+U.width+"x"+U.height+") with scale "+U.scale),xe}return E.prototype.applyEffects=function(L){for(var U=this;this._activeEffects.length;)this.popEffect();L.forEach(function(xe){return U.applyEffect(xe)})},E.prototype.applyEffect=function(L){this.ctx.save(),ku(L)&&(this.ctx.globalAlpha=L.opacity),ro(L)&&(this.ctx.translate(L.offsetX,L.offsetY),this.ctx.transform(L.matrix[0],L.matrix[1],L.matrix[2],L.matrix[3],L.matrix[4],L.matrix[5]),this.ctx.translate(-L.offsetX,-L.offsetY)),Bd(L)&&(this.path(L.path),this.ctx.clip()),this._activeEffects.push(L)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(L){return s(this,void 0,void 0,function(){var U;return c(this,function(xe){switch(xe.label){case 0:return U=L.element.container.styles,U.isVisible()?[4,this.renderStackContent(L)]:[3,2];case 1:xe.sent(),xe.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(L){return s(this,void 0,void 0,function(){return c(this,function(U){switch(U.label){case 0:if(T(L.container.flags,16))debugger;return L.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(L)]:[3,3];case 1:return U.sent(),[4,this.renderNodeContent(L)];case 2:U.sent(),U.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(L,U,xe){var Me=this;if(U===0)this.ctx.fillText(L.text,L.bounds.left,L.bounds.top+xe);else{var ze=Ou(L.text);ze.reduce(function(ct,lt){return Me.ctx.fillText(lt,ct,L.bounds.top+xe),ct+Me.ctx.measureText(lt).width},L.bounds.left)}},E.prototype.createFontStyle=function(L){var U=L.fontVariant.filter(function(ze){return ze==="normal"||ze==="small-caps"}).join(""),xe=jh(L.fontFamily).join(", "),Me=An(L.fontSize)?""+L.fontSize.number+L.fontSize.unit:L.fontSize.number+"px";return[[L.fontStyle,U,L.fontWeight,Me,xe].join(" "),xe,Me]},E.prototype.renderTextNode=function(L,U){return s(this,void 0,void 0,function(){var xe,Me,ze,ct,lt,Lt,Ht,tr,Cr=this;return c(this,function(bn){return xe=this.createFontStyle(U),Me=xe[0],ze=xe[1],ct=xe[2],this.ctx.font=Me,this.ctx.direction=U.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",lt=this.fontMetrics.getMetrics(ze,ct),Lt=lt.baseline,Ht=lt.middle,tr=U.paintOrder,L.textBounds.forEach(function(nn){tr.forEach(function(vn){switch(vn){case 0:Cr.ctx.fillStyle=En(U.color),Cr.renderTextWithLetterSpacing(nn,U.letterSpacing,Lt);var ri=U.textShadow;ri.length&&nn.text.trim().length&&(ri.slice(0).reverse().forEach(function(Xn){Cr.ctx.shadowColor=En(Xn.color),Cr.ctx.shadowOffsetX=Xn.offsetX.number*Cr.options.scale,Cr.ctx.shadowOffsetY=Xn.offsetY.number*Cr.options.scale,Cr.ctx.shadowBlur=Xn.blur.number,Cr.renderTextWithLetterSpacing(nn,U.letterSpacing,Lt)}),Cr.ctx.shadowColor="",Cr.ctx.shadowOffsetX=0,Cr.ctx.shadowOffsetY=0,Cr.ctx.shadowBlur=0),U.textDecorationLine.length&&(Cr.ctx.fillStyle=En(U.textDecorationColor||U.color),U.textDecorationLine.forEach(function(Xn){switch(Xn){case 1:Cr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+Lt),nn.bounds.width,1);break;case 2:Cr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:Cr.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+Ht),nn.bounds.width,1);break}}));break;case 1:U.webkitTextStrokeWidth&&nn.text.trim().length&&(Cr.ctx.strokeStyle=En(U.webkitTextStrokeColor),Cr.ctx.lineWidth=U.webkitTextStrokeWidth,Cr.ctx.lineJoin=window.chrome?"miter":"round",Cr.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+Lt)),Cr.ctx.strokeStyle="",Cr.ctx.lineWidth=0,Cr.ctx.lineJoin="miter";break}})}),[2]})})},E.prototype.renderReplacedElement=function(L,U,xe){if(xe&&L.intrinsicWidth>0&&L.intrinsicHeight>0){var Me=Pu(L),ze=ki(U);this.path(ze),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(xe,0,0,L.intrinsicWidth,L.intrinsicHeight,Me.left,Me.top,Me.width,Me.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(L){return s(this,void 0,void 0,function(){var U,xe,Me,ze,ct,lt,$n,$n,Lt,Ht,tr,Cr,si,bn,nn,Wa,vn,ri,Xn,$n,qi,si,Wa;return c(this,function(Tn){switch(Tn.label){case 0:this.applyEffects(L.getEffects(4)),U=L.container,xe=L.curves,Me=U.styles,ze=0,ct=U.textNodes,Tn.label=1;case 1:return ze<ct.length?(lt=ct[ze],[4,this.renderTextNode(lt,Me)]):[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return ze++,[3,1];case 4:if(!(U instanceof xf))return[3,8];Tn.label=5;case 5:return Tn.trys.push([5,7,,8]),[4,this.context.cache.match(U.src)];case 6:return $n=Tn.sent(),this.renderReplacedElement(U,xe,$n),[3,8];case 7:return Tn.sent(),this.context.logger.error("Error loading image "+U.src),[3,8];case 8:if(U instanceof vh&&this.renderReplacedElement(U,xe,U.canvas),!(U instanceof Gh))return[3,12];Tn.label=9;case 9:return Tn.trys.push([9,11,,12]),[4,this.context.cache.match(U.svg)];case 10:return $n=Tn.sent(),this.renderReplacedElement(U,xe,$n),[3,12];case 11:return Tn.sent(),this.context.logger.error("Error loading svg "+U.svg.substring(0,255)),[3,12];case 12:return U instanceof Uo&&U.tree?(Lt=new E(this.context,{scale:this.options.scale,backgroundColor:U.backgroundColor,x:0,y:0,width:U.width,height:U.height}),[4,Lt.render(U.tree)]):[3,14];case 13:Ht=Tn.sent(),U.width&&U.height&&this.ctx.drawImage(Ht,0,0,U.width,U.height,U.bounds.left,U.bounds.top,U.bounds.width,U.bounds.height),Tn.label=14;case 14:if(U instanceof hu&&(tr=Math.min(U.bounds.width,U.bounds.height),U.type===qh?U.checked&&(this.ctx.save(),this.path([new rn(U.bounds.left+tr*.39363,U.bounds.top+tr*.79),new rn(U.bounds.left+tr*.16,U.bounds.top+tr*.5549),new rn(U.bounds.left+tr*.27347,U.bounds.top+tr*.44071),new rn(U.bounds.left+tr*.39694,U.bounds.top+tr*.5649),new rn(U.bounds.left+tr*.72983,U.bounds.top+tr*.23),new rn(U.bounds.left+tr*.84,U.bounds.top+tr*.34085),new rn(U.bounds.left+tr*.39363,U.bounds.top+tr*.79)]),this.ctx.fillStyle=En(Ll),this.ctx.fill(),this.ctx.restore()):U.type===Xh&&U.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(U.bounds.left+tr/2,U.bounds.top+tr/2,tr/4,0,Math.PI*2,!0),this.ctx.fillStyle=En(Ll),this.ctx.fill(),this.ctx.restore())),HA(U)&&U.value.length){switch(Cr=this.createFontStyle(Me),si=Cr[0],bn=Cr[1],nn=this.fontMetrics.getMetrics(si,bn).baseline,this.ctx.font=si,this.ctx.fillStyle=En(Me.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wh(U.styles.textAlign),Wa=Pu(U),vn=0,U.styles.textAlign){case 1:vn+=Wa.width/2;break;case 2:vn+=Wa.width;break}ri=Wa.add(vn,0,0,-Wa.height/2+1),this.ctx.save(),this.path([new rn(Wa.left,Wa.top),new rn(Wa.left+Wa.width,Wa.top),new rn(Wa.left+Wa.width,Wa.top+Wa.height),new rn(Wa.left,Wa.top+Wa.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new jd(U.value,ri),Me.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!T(U.styles.display,2048))return[3,20];if(U.styles.listStyleImage===null)return[3,19];if(Xn=U.styles.listStyleImage,Xn.type!==0)return[3,18];$n=void 0,qi=Xn.url,Tn.label=15;case 15:return Tn.trys.push([15,17,,18]),[4,this.context.cache.match(qi)];case 16:return $n=Tn.sent(),this.ctx.drawImage($n,U.bounds.left-($n.width+10),U.bounds.top),[3,18];case 17:return Tn.sent(),this.context.logger.error("Error loading list-style-image "+qi),[3,18];case 18:return[3,20];case 19:L.listValue&&U.styles.listStyleType!==-1&&(si=this.createFontStyle(Me)[0],this.ctx.font=si,this.ctx.fillStyle=En(Me.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Wa=new u(U.bounds.left,U.bounds.top+ja(U.styles.paddingTop,U.bounds.width),U.bounds.width,ac(Me.lineHeight,Me.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new jd(L.listValue,Wa),Me.letterSpacing,ac(Me.lineHeight,Me.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Tn.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(L){return s(this,void 0,void 0,function(){var U,xe,Xn,Me,ze,Xn,ct,lt,Xn,Lt,Ht,Xn,tr,Cr,Xn,bn,nn,Xn,vn,ri,Xn;return c(this,function($n){switch($n.label){case 0:if(T(L.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(L.element)];case 1:$n.sent(),U=0,xe=L.negativeZIndex,$n.label=2;case 2:return U<xe.length?(Xn=xe[U],[4,this.renderStack(Xn)]):[3,5];case 3:$n.sent(),$n.label=4;case 4:return U++,[3,2];case 5:return[4,this.renderNodeContent(L.element)];case 6:$n.sent(),Me=0,ze=L.nonInlineLevel,$n.label=7;case 7:return Me<ze.length?(Xn=ze[Me],[4,this.renderNode(Xn)]):[3,10];case 8:$n.sent(),$n.label=9;case 9:return Me++,[3,7];case 10:ct=0,lt=L.nonPositionedFloats,$n.label=11;case 11:return ct<lt.length?(Xn=lt[ct],[4,this.renderStack(Xn)]):[3,14];case 12:$n.sent(),$n.label=13;case 13:return ct++,[3,11];case 14:Lt=0,Ht=L.nonPositionedInlineLevel,$n.label=15;case 15:return Lt<Ht.length?(Xn=Ht[Lt],[4,this.renderStack(Xn)]):[3,18];case 16:$n.sent(),$n.label=17;case 17:return Lt++,[3,15];case 18:tr=0,Cr=L.inlineLevel,$n.label=19;case 19:return tr<Cr.length?(Xn=Cr[tr],[4,this.renderNode(Xn)]):[3,22];case 20:$n.sent(),$n.label=21;case 21:return tr++,[3,19];case 22:bn=0,nn=L.zeroOrAutoZIndexOrTransformedOrOpacity,$n.label=23;case 23:return bn<nn.length?(Xn=nn[bn],[4,this.renderStack(Xn)]):[3,26];case 24:$n.sent(),$n.label=25;case 25:return bn++,[3,23];case 26:vn=0,ri=L.positiveZIndex,$n.label=27;case 27:return vn<ri.length?(Xn=ri[vn],[4,this.renderStack(Xn)]):[3,30];case 28:$n.sent(),$n.label=29;case 29:return vn++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(L){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(L.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(L){this.ctx.beginPath(),this.formatPath(L),this.ctx.closePath()},E.prototype.formatPath=function(L){var U=this;L.forEach(function(xe,Me){var ze=Ls(xe)?xe.start:xe;Me===0?U.ctx.moveTo(ze.x,ze.y):U.ctx.lineTo(ze.x,ze.y),Ls(xe)&&U.ctx.bezierCurveTo(xe.startControl.x,xe.startControl.y,xe.endControl.x,xe.endControl.y,xe.end.x,xe.end.y)})},E.prototype.renderRepeat=function(L,U,xe,Me){this.path(L),this.ctx.fillStyle=U,this.ctx.translate(xe,Me),this.ctx.fill(),this.ctx.translate(-xe,-Me)},E.prototype.resizeImage=function(L,U,xe){var Me;if(L.width===U&&L.height===xe)return L;var ze=(Me=this.canvas.ownerDocument)!==null&&Me!==void 0?Me:document,ct=ze.createElement("canvas");ct.width=Math.max(1,U),ct.height=Math.max(1,xe);var lt=ct.getContext("2d");return lt.drawImage(L,0,0,L.width,L.height,0,0,U,xe),ct},E.prototype.renderBackgroundImage=function(L){return s(this,void 0,void 0,function(){var U,xe,Me,ze,ct,lt;return c(this,function(Lt){switch(Lt.label){case 0:U=L.styles.backgroundImage.length-1,xe=function(Ht){var tr,Cr,bn,Wo,pc,Hl,fs,dl,ji,nn,Wo,pc,Hl,fs,dl,vn,ri,Xn,$n,qi,si,Wa,Tn,Pi,ji,Ra,Wo,fc,fu,fs,dl,Zu,pc,Hl,Ch,kd,Ju,nA,ed,nh,Pd,p;return c(this,function(v){switch(v.label){case 0:if(Ht.type!==0)return[3,5];tr=void 0,Cr=Ht.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Me.context.cache.match(Cr)];case 2:return tr=v.sent(),[3,4];case 3:return v.sent(),Me.context.logger.error("Error loading background-image "+Cr),[3,4];case 4:return tr&&(bn=Bo(L,U,[tr.width,tr.height,tr.width/tr.height]),Wo=bn[0],pc=bn[1],Hl=bn[2],fs=bn[3],dl=bn[4],ji=Me.ctx.createPattern(Me.resizeImage(tr,fs,dl),"repeat"),Me.renderRepeat(Wo,ji,pc,Hl)),[3,6];case 5:Ko(Ht)?(nn=Bo(L,U,[null,null,null]),Wo=nn[0],pc=nn[1],Hl=nn[2],fs=nn[3],dl=nn[4],vn=nu(Ht.angle,fs,dl),ri=vn[0],Xn=vn[1],$n=vn[2],qi=vn[3],si=vn[4],Wa=document.createElement("canvas"),Wa.width=fs,Wa.height=dl,Tn=Wa.getContext("2d"),Pi=Tn.createLinearGradient(Xn,qi,$n,si),Is(Ht.stops,ri).forEach(function(j){return Pi.addColorStop(j.stop,En(j.color))}),Tn.fillStyle=Pi,Tn.fillRect(0,0,fs,dl),fs>0&&dl>0&&(ji=Me.ctx.createPattern(Wa,"repeat"),Me.renderRepeat(Wo,ji,pc,Hl))):iu(Ht)&&(Ra=Bo(L,U,[null,null,null]),Wo=Ra[0],fc=Ra[1],fu=Ra[2],fs=Ra[3],dl=Ra[4],Zu=Ht.position.length===0?[On]:Ht.position,pc=ja(Zu[0],fs),Hl=ja(Zu[Zu.length-1],dl),Ch=Bc(Ht,pc,Hl,fs,dl),kd=Ch[0],Ju=Ch[1],kd>0&&Ju>0&&(nA=Me.ctx.createRadialGradient(fc+pc,fu+Hl,0,fc+pc,fu+Hl,kd),Is(Ht.stops,kd*2).forEach(function(j){return nA.addColorStop(j.stop,En(j.color))}),Me.path(Wo),Me.ctx.fillStyle=nA,kd!==Ju?(ed=L.bounds.left+.5*L.bounds.width,nh=L.bounds.top+.5*L.bounds.height,Pd=Ju/kd,p=1/Pd,Me.ctx.save(),Me.ctx.translate(ed,nh),Me.ctx.transform(1,0,0,Pd,0,0),Me.ctx.translate(-ed,-nh),Me.ctx.fillRect(fc,p*(fu-nh)+nh,fs,dl*p),Me.ctx.restore()):Me.ctx.fill())),v.label=6;case 6:return U--,[2]}})},Me=this,ze=0,ct=L.styles.backgroundImage.slice(0).reverse(),Lt.label=1;case 1:return ze<ct.length?(lt=ct[ze],[5,xe(lt)]):[3,4];case 2:Lt.sent(),Lt.label=3;case 3:return ze++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(L,U,xe){return s(this,void 0,void 0,function(){return c(this,function(Me){return this.path(Jh(xe,U)),this.ctx.fillStyle=En(L),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(L,U,xe,Me){return s(this,void 0,void 0,function(){var ze,ct;return c(this,function(lt){switch(lt.label){case 0:return U<3?[4,this.renderSolidBorder(L,xe,Me)]:[3,2];case 1:return lt.sent(),[2];case 2:return ze=MA(Me,xe),this.path(ze),this.ctx.fillStyle=En(L),this.ctx.fill(),ct=Au(Me,xe),this.path(ct),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(L){return s(this,void 0,void 0,function(){var U,xe,Me,ze,ct,lt,Lt,Ht,tr=this;return c(this,function(Cr){switch(Cr.label){case 0:return this.applyEffects(L.getEffects(2)),U=L.container.styles,xe=!Ca(U.backgroundColor)||U.backgroundImage.length,Me=[{style:U.borderTopStyle,color:U.borderTopColor,width:U.borderTopWidth},{style:U.borderRightStyle,color:U.borderRightColor,width:U.borderRightWidth},{style:U.borderBottomStyle,color:U.borderBottomColor,width:U.borderBottomWidth},{style:U.borderLeftStyle,color:U.borderLeftColor,width:U.borderLeftWidth}],ze=rh(Id(U.backgroundClip,0),L.curves),xe||U.boxShadow.length?(this.ctx.save(),this.path(ze),this.ctx.clip(),Ca(U.backgroundColor)||(this.ctx.fillStyle=En(U.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(L.container)]):[3,2];case 1:Cr.sent(),this.ctx.restore(),U.boxShadow.slice(0).reverse().forEach(function(bn){tr.ctx.save();var nn=qn(L.curves),vn=bn.inset?0:UA,ri=Ef(nn,-vn+(bn.inset?1:-1)*bn.spread.number,(bn.inset?1:-1)*bn.spread.number,bn.spread.number*(bn.inset?-2:2),bn.spread.number*(bn.inset?-2:2));bn.inset?(tr.path(nn),tr.ctx.clip(),tr.mask(ri)):(tr.mask(nn),tr.ctx.clip(),tr.path(ri)),tr.ctx.shadowOffsetX=bn.offsetX.number+vn,tr.ctx.shadowOffsetY=bn.offsetY.number,tr.ctx.shadowColor=En(bn.color),tr.ctx.shadowBlur=bn.blur.number,tr.ctx.fillStyle=bn.inset?En(bn.color):"rgba(0,0,0,1)",tr.ctx.fill(),tr.ctx.restore()}),Cr.label=2;case 2:ct=0,lt=0,Lt=Me,Cr.label=3;case 3:return lt<Lt.length?(Ht=Lt[lt],Ht.style!==0&&!Ca(Ht.color)&&Ht.width>0?Ht.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,L.curves,2)]:[3,11]):[3,13];case 4:return Cr.sent(),[3,11];case 5:return Ht.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ht.color,Ht.width,ct,L.curves,3)];case 6:return Cr.sent(),[3,11];case 7:return Ht.style!==4?[3,9]:[4,this.renderDoubleBorder(Ht.color,Ht.width,ct,L.curves)];case 8:return Cr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ht.color,ct,L.curves)];case 10:Cr.sent(),Cr.label=11;case 11:ct++,Cr.label=12;case 12:return lt++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(L,U,xe,Me,ze){return s(this,void 0,void 0,function(){var ct,lt,Lt,Ht,tr,Cr,bn,nn,vn,ri,Xn,$n,qi,si,Wa,Tn,Wa,Tn;return c(this,function(Pi){return this.ctx.save(),ct=eA(Me,xe),lt=Jh(Me,xe),ze===2&&(this.path(lt),this.ctx.clip()),Ls(lt[0])?(Lt=lt[0].start.x,Ht=lt[0].start.y):(Lt=lt[0].x,Ht=lt[0].y),Ls(lt[1])?(tr=lt[1].end.x,Cr=lt[1].end.y):(tr=lt[1].x,Cr=lt[1].y),xe===0||xe===2?bn=Math.abs(Lt-tr):bn=Math.abs(Ht-Cr),this.ctx.beginPath(),ze===3?this.formatPath(ct):this.formatPath(lt.slice(0,2)),nn=U<3?U*3:U*2,vn=U<3?U*2:U,ze===3&&(nn=U,vn=U),ri=!0,bn<=nn*2?ri=!1:bn<=nn*2+vn?(Xn=bn/(2*nn+vn),nn*=Xn,vn*=Xn):($n=Math.floor((bn+vn)/(nn+vn)),qi=(bn-$n*nn)/($n-1),si=(bn-($n+1)*nn)/$n,vn=si<=0||Math.abs(vn-qi)<Math.abs(vn-si)?qi:si),ri&&(ze===3?this.ctx.setLineDash([0,nn+vn]):this.ctx.setLineDash([nn,vn])),ze===3?(this.ctx.lineCap="round",this.ctx.lineWidth=U):this.ctx.lineWidth=U*2+1.1,this.ctx.strokeStyle=En(L),this.ctx.stroke(),this.ctx.setLineDash([]),ze===2&&(Ls(lt[0])&&(Wa=lt[3],Tn=lt[0],this.ctx.beginPath(),this.formatPath([new rn(Wa.end.x,Wa.end.y),new rn(Tn.start.x,Tn.start.y)]),this.ctx.stroke()),Ls(lt[1])&&(Wa=lt[1],Tn=lt[2],this.ctx.beginPath(),this.formatPath([new rn(Wa.end.x,Wa.end.y),new rn(Tn.start.x,Tn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(L){return s(this,void 0,void 0,function(){var U;return c(this,function(xe){switch(xe.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),U=Yu(L),[4,this.renderStack(U)];case 1:return xe.sent(),this.applyEffects([]),[2,this.canvas]}})})},E})(_f),HA=function(F){return F instanceof bf||F instanceof Sp?!0:F instanceof hu&&F.type!==Xh&&F.type!==qh},rh=function(F,E){switch(F){case 0:return qn(E);case 2:return Gi(E);case 1:default:return ki(E)}},wh=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},QA=["-apple-system","system-ui"],jh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(E){return QA.indexOf(E)===-1}):F},Yc=(function(F){a(E,F);function E(L,U){var xe=F.call(this,L,U)||this;return xe.canvas=U.canvas?U.canvas:document.createElement("canvas"),xe.ctx=xe.canvas.getContext("2d"),xe.options=U,xe.canvas.width=Math.floor(U.width*U.scale),xe.canvas.height=Math.floor(U.height*U.scale),xe.canvas.style.width=U.width+"px",xe.canvas.style.height=U.height+"px",xe.ctx.scale(xe.options.scale,xe.options.scale),xe.ctx.translate(-U.x,-U.y),xe.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+U.width+"x"+U.height+" at "+U.x+","+U.y+") with scale "+U.scale),xe}return E.prototype.render=function(L){return s(this,void 0,void 0,function(){var U,xe;return c(this,function(Me){switch(Me.label){case 0:return U=zh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,L),[4,Td(U)];case 1:return xe=Me.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(xe,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E})(_f),Td=function(F){return new Promise(function(E,L){var U=new Image;U.onload=function(){E(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},_d=(function(){function F(E){var L=E.id,U=E.enabled;this.id=L,this.enabled=U,this.start=Date.now()}return F.prototype.debug=function(){for(var E=[],L=0;L<arguments.length;L++)E[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var E=[],L=0;L<arguments.length;L++)E[L]=arguments[L];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],E))},F.prototype.warn=function(){for(var E=[],L=0;L<arguments.length;L++)E[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.prototype.error=function(){for(var E=[],L=0;L<arguments.length;L++)E[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},F.instances={},F})(),rA=(function(){function F(E,L){var U;this.windowBounds=L,this.instanceName="#"+F.instanceCount++,this.logger=new _d({id:this.instanceName,enabled:E.logging}),this.cache=(U=E.cache)!==null&&U!==void 0?U:new Xa(this,E)}return F.instanceCount=1,F})(),WA=function(F,E){return E===void 0&&(E={}),Od(F,E)};typeof window<"u"&&mi.setContext(window);var Od=function(F,E){return s(void 0,void 0,void 0,function(){var L,U,xe,Me,ze,ct,lt,Lt,Ht,tr,Cr,bn,nn,vn,ri,Xn,$n,qi,si,Wa,Pi,Tn,Pi,ji,Ra,Wo,fc,fu,fs,dl,Zu,pc,Hl,Ch,kd,Ju,nA,ed,nh,Pd;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(L=F.ownerDocument,!L)throw new Error("Element is not attached to a Document");if(U=L.defaultView,!U)throw new Error("Document is not attached to a Window");return xe={allowTaint:(ji=E.allowTaint)!==null&&ji!==void 0?ji:!1,imageTimeout:(Ra=E.imageTimeout)!==null&&Ra!==void 0?Ra:15e3,proxy:E.proxy,useCORS:(Wo=E.useCORS)!==null&&Wo!==void 0?Wo:!1},Me=i({logging:(fc=E.logging)!==null&&fc!==void 0?fc:!0,cache:E.cache},xe),ze={windowWidth:(fu=E.windowWidth)!==null&&fu!==void 0?fu:U.innerWidth,windowHeight:(fs=E.windowHeight)!==null&&fs!==void 0?fs:U.innerHeight,scrollX:(dl=E.scrollX)!==null&&dl!==void 0?dl:U.pageXOffset,scrollY:(Zu=E.scrollY)!==null&&Zu!==void 0?Zu:U.pageYOffset},ct=new u(ze.scrollX,ze.scrollY,ze.windowWidth,ze.windowHeight),lt=new rA(Me,ct),Lt=(pc=E.foreignObjectRendering)!==null&&pc!==void 0?pc:!1,Ht={allowTaint:(Hl=E.allowTaint)!==null&&Hl!==void 0?Hl:!1,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:Lt,copyStyles:Lt},lt.logger.debug("Starting document clone with size "+ct.width+"x"+ct.height+" scrolled to "+-ct.left+","+-ct.top),tr=new ea(lt,F,Ht),Cr=tr.clonedReferenceElement,Cr?[4,tr.toIFrame(L,ct)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return bn=p.sent(),nn=Sf(Cr)||Cf(Cr)?h(Cr.ownerDocument):o(lt,Cr),vn=nn.width,ri=nn.height,Xn=nn.left,$n=nn.top,qi=$m(lt,Cr,E.backgroundColor),si={canvas:E.canvas,backgroundColor:qi,scale:(kd=(Ch=E.scale)!==null&&Ch!==void 0?Ch:U.devicePixelRatio)!==null&&kd!==void 0?kd:1,x:((Ju=E.x)!==null&&Ju!==void 0?Ju:0)+Xn,y:((nA=E.y)!==null&&nA!==void 0?nA:0)+$n,width:(ed=E.width)!==null&&ed!==void 0?ed:Math.ceil(vn),height:(nh=E.height)!==null&&nh!==void 0?nh:Math.ceil(ri)},Lt?(lt.logger.debug("Document cloned, using foreign object rendering"),Pi=new Yc(lt,si),[4,Pi.render(Cr)]):[3,3];case 2:return Wa=p.sent(),[3,5];case 3:return lt.logger.debug("Document cloned, element located at "+Xn+","+$n+" with size "+vn+"x"+ri+" using computed rendering"),lt.logger.debug("Starting DOM parsing"),Tn=_A(lt,Cr),qi===Tn.styles.backgroundColor&&(Tn.styles.backgroundColor=wo.TRANSPARENT),lt.logger.debug("Starting renderer for element at "+si.x+","+si.y+" with size "+si.width+"x"+si.height),Pi=new th(lt,si),[4,Pi.render(Tn)];case 4:Wa=p.sent(),p.label=5;case 5:return(!((Pd=E.removeContainer)!==null&&Pd!==void 0)||Pd)&&(ea.destroy(bn)||lt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),lt.logger.debug("Finished rendering"),[2,Wa]}})})},$m=function(F,E,L){var U=E.ownerDocument,xe=U.documentElement?ws(F,getComputedStyle(U.documentElement).backgroundColor):wo.TRANSPARENT,Me=U.body?ws(F,getComputedStyle(U.body).backgroundColor):wo.TRANSPARENT,ze=typeof L=="string"?ws(F,L):L===null?wo.TRANSPARENT:4294967295;return E===U.documentElement?Ca(xe)?Ca(Me)?ze:Me:xe:ze};return WA}))})(lv)),lv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var s_;function _ne(){return s_||(s_=1,(function(r,e){(function(a,i){r.exports=i(Tne())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,A){(A==null||A>d.length)&&(A=d.length);for(var f=0,g=Array(A);f<A;f++)g[f]=d[f];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){if(Array.isArray(d))return d}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});function h(A,f,g,m,x,y,b){try{var w=A[y](b),N=w.value}catch(S){return void g(S)}w.done?f(N):Promise.resolve(N).then(m,x)}function d(A){return function(){var f=this,g=arguments;return new Promise(function(m,x){var y=A.apply(f,g);function b(N){h(y,m,x,b,w,"next",N)}function w(N){h(y,m,x,b,w,"throw",N)}b(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function d(A,f,g){return(f=(0,h.default)(f))in A?Object.defineProperty(A,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):A[f]=g,A}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d,A){var f=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(f!=null){var g,m,x,y,b=[],w=!0,N=!1;try{if(x=(f=f.call(d)).next,A===0){if(Object(f)!==f)return;w=!1}else for(;!(w=(g=x.call(f)).done)&&(b.push(g.value),b.length!==A);w=!0);}catch(S){N=!0,m=S}finally{try{if(!w&&f.return!=null&&(y=f.return(),Object(y)!==y))return}finally{if(N)throw m}}return b}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return g}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),d=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),A=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),f=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,h.default)(m)||(0,d.default)(m,x)||(0,A.default)(m,x)||(0,f.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function d(A,f){if((0,h.default)(A)!="object"||!A)return A;var g=A[Symbol.toPrimitive];if(g!==void 0){var m=g.call(A,f||"default");if((0,h.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(A)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return A}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function A(f){var g=(0,d.default)(f,"string");return(0,h.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return h}});function h(d){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(d)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return d}});var h=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function d(A,f){if(A){if(typeof A=="string")return(0,h.default)(A,f);var g={}.toString.call(A).slice(8,-1);return g==="Object"&&A.constructor&&(g=A.constructor.name),g==="Map"||g==="Set"?Array.from(A):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,h.default)(A,f):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(l,u,o){o.r(u),o.d(u,{AElement:function(){return El},AnimateColorElement:function(){return gs},AnimateElement:function(){return Ka},AnimateTransformElement:function(){return Va},BoundingBox:function(){return hn},CB1:function(){return ce},CB2:function(){return ae},CB3:function(){return Ce},CB4:function(){return Ee},Canvg:function(){return Fo},CircleElement:function(){return $r},ClipPathElement:function(){return cs},DefsElement:function(){return Es},DescElement:function(){return lo},Document:function(){return bs},Element:function(){return Jr},EllipseElement:function(){return un},FeColorMatrixElement:function(){return pl},FeCompositeElement:function(){return ys},FeDropShadowElement:function(){return $i},FeGaussianBlurElement:function(){return ko},FeMorphologyElement:function(){return xs},FilterElement:function(){return Gn},Font:function(){return Kr},FontElement:function(){return Cc},FontFaceElement:function(){return vs},GElement:function(){return Ni},GlyphElement:function(){return Dr},GradientElement:function(){return yi},ImageElement:function(){return ai},LineElement:function(){return tn},LinearGradientElement:function(){return Qi},MarkerElement:function(){return Cn},MaskElement:function(){return Oo},Matrix:function(){return Sr},MissingGlyphElement:function(){return Bl},Mouse:function(){return Le},PSEUDO_ZERO:function(){return be},Parser:function(){return Ft},PathElement:function(){return Lr},PathParser:function(){return Wr},PatternElement:function(){return xi},Point:function(){return Pe},PolygonElement:function(){return ma},PolylineElement:function(){return lr},Property:function(){return J},QB1:function(){return we},QB2:function(){return me},QB3:function(){return se},RadialGradientElement:function(){return Ii},RectElement:function(){return Ot},RenderedElement:function(){return Wn},Rotate:function(){return Vt},SVGElement:function(){return la},SVGFontLoader:function(){return Xs},Scale:function(){return Ir},Screen:function(){return ke},Skew:function(){return He},SkewX:function(){return Zt},SkewY:function(){return Nt},StopElement:function(){return Ps},StyleElement:function(){return To},SymbolElement:function(){return Io},TRefElement:function(){return Nc},TSpanElement:function(){return cn},TextElement:function(){return wn},TextPathElement:function(){return ha},TitleElement:function(){return Ri},Transform:function(){return on},Translate:function(){return Bt},UnknownElement:function(){return Gr},UseElement:function(){return rl},ViewPort:function(){return je},compressSpaces:function(){return w},default:function(){return Fo},getSelectorSpecificity:function(){return Oe},normalizeAttributeName:function(){return W},normalizeColor:function(){return te},parseExternalUrl:function(){return q},presets:function(){return b},toNumbers:function(){return C},trimLeft:function(){return N},trimRight:function(){return S},vectorMagnitude:function(){return Te},vectorsAngle:function(){return Ne},vectorsRatio:function(){return Y}}),o("./node_modules/core-js/modules/es.promise.js");var h=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var A=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var f=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var g=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var m=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Ut}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Ut,createCanvas(oe,ue){return new OffscreenCanvas(oe,ue)},createImage(oe){return(0,h.default)(function*(){var ue=yield fetch(oe),M=yield ue.blob(),Q=yield createImageBitmap(M);return Q})()}};return(typeof DOMParser<"u"||typeof Ut>"u")&&Reflect.deleteProperty(H,"DOMParser"),H}function y(Ut){var{DOMParser:H,canvas:oe,fetch:ue}=Ut;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:H,fetch:ue,createCanvas:oe.createCanvas,createImage:oe.loadImage}}var b=Object.freeze({__proto__:null,offscreen:x,node:y});function w(Ut){return Ut.replace(/(?!\u3000)\s+/gm," ")}function N(Ut){return Ut.replace(/^[\n \t]+/,"")}function S(Ut){return Ut.replace(/[\n \t]+$/,"")}function C(Ut){var H=(Ut||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return H.map(parseFloat)}var k=/^[A-Z-]+$/;function W(Ut){return k.test(Ut)?Ut.toLowerCase():Ut}function q(Ut){var H=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Ut)||[];return H[2]||H[3]||H[4]}function te(Ut){if(!Ut.startsWith("rgb"))return Ut;var H=3,oe=Ut.replace(/\d+(\.\d+)?/g,(ue,M)=>H--&&M?String(Math.round(parseFloat(ue))):ue);return oe}var K=/(\[[^\]]+\])/g,X=/(#[^\s+>~.[:]+)/g,O=/(\.[^\s+>~.[:]+)/g,le=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,z=/(:[\w-]+\([^)]*\))/gi,R=/(:[^\s+>~.[:]+)/g,ie=/([^\s+>~.[:]+)/g;function Ae(Ut,H){var oe=H.exec(Ut);return oe?[Ut.replace(H," "),oe.length]:[Ut,0]}function Oe(Ut){var H=[0,0,0],oe=Ut.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ue=0;return[oe,ue]=Ae(oe,K),H[1]+=ue,[oe,ue]=Ae(oe,X),H[0]+=ue,[oe,ue]=Ae(oe,O),H[1]+=ue,[oe,ue]=Ae(oe,le),H[2]+=ue,[oe,ue]=Ae(oe,z),H[1]+=ue,[oe,ue]=Ae(oe,R),H[1]+=ue,oe=oe.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[oe,ue]=Ae(oe,ie),H[2]+=ue,H.join("")}var be=1e-8;function Te(Ut){return Math.sqrt(Math.pow(Ut[0],2)+Math.pow(Ut[1],2))}function Y(Ut,H){return(Ut[0]*H[0]+Ut[1]*H[1])/(Te(Ut)*Te(H))}function Ne(Ut,H){return(Ut[0]*H[1]<Ut[1]*H[0]?-1:1)*Math.acos(Y(Ut,H))}function ce(Ut){return Ut*Ut*Ut}function ae(Ut){return 3*Ut*Ut*(1-Ut)}function Ce(Ut){return 3*Ut*(1-Ut)*(1-Ut)}function Ee(Ut){return(1-Ut)*(1-Ut)*(1-Ut)}function we(Ut){return Ut*Ut}function me(Ut){return 2*Ut*(1-Ut)}function se(Ut){return(1-Ut)*(1-Ut)}class J{constructor(H,oe,ue){this.document=H,this.name=oe,this.value=ue,this.isNormalizedColor=!1}static empty(H){return new J(H,"EMPTY","")}split(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:oe,name:ue}=this;return w(this.getString()).trim().split(H).map(M=>new J(oe,ue,M))}hasValue(H){var{value:oe}=this;return oe!==null&&oe!==""&&(H||oe!==0)&&typeof oe<"u"}isString(H){var{value:oe}=this,ue=typeof oe=="string";return!ue||!H?ue:H.test(oe)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var H=this.getString();switch(!0){case H.endsWith("px"):case/^[0-9]+$/.test(H):return!0;default:return!1}}setValue(H){return this.value=H,this}getValue(H){return typeof H>"u"||this.hasValue()?this.value:H}getNumber(H){if(!this.hasValue())return typeof H>"u"?0:parseFloat(H);var{value:oe}=this,ue=parseFloat(oe);return this.isString(/%$/)&&(ue/=100),ue}getString(H){return typeof H>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(H)}getColor(H){var oe=this.getString(H);return this.isNormalizedColor||(this.isNormalizedColor=!0,oe=te(oe),this.value=oe),oe}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ue,M]=typeof H=="boolean"?[void 0,H]:[H],{viewPort:Q}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(Q.computeSize("x"),Q.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(Q.computeSize("x"),Q.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*Q.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*Q.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&M):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*Q.computeSize(ue);default:{var re=this.getNumber();return oe&&re<1?re*Q.computeSize(ue):re}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var H=this.getString(),oe=/#([^)'"]+)/.exec(H);return oe&&(oe=oe[1]),oe||(oe=H),this.document.definitions[oe]}getFillStyleDefinition(H,oe){var ue=this.getDefinition();if(!ue)return null;if(typeof ue.createGradient=="function")return ue.createGradient(this.document.ctx,H,oe);if(typeof ue.createPattern=="function"){if(ue.getHrefAttribute().hasValue()){var M=ue.getAttribute("patternTransform");ue=ue.getHrefAttribute().getDefinition(),M.hasValue()&&ue.getAttribute("patternTransform",!0).setValue(M.value)}return ue.createPattern(this.document.ctx,H,oe)}return null}getTextBaseline(){return this.hasValue()?J.textBaselineMapping[this.getString()]:null}addOpacity(H){for(var oe=this.getColor(),ue=oe.length,M=0,Q=0;Q<ue&&(oe[Q]===","&&M++,M!==3);Q++);if(H.hasValue()&&this.isString()&&M!==3){var re=new f(oe);re.ok&&(re.alpha=H.getNumber(),oe=re.toRGBA())}return new J(this.document,this.name,oe)}}J.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class je{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(H,oe){this.viewPorts.push({width:H,height:oe})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:H}=this;return H[H.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(H){return typeof H=="number"?H:H==="x"?this.width:H==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Pe{constructor(H,oe){this.x=H,this.y=oe}static parse(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ue=oe,M=oe]=C(H);return new Pe(ue,M)}static parseScale(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ue=oe,M=ue]=C(H);return new Pe(ue,M)}static parsePath(H){for(var oe=C(H),ue=oe.length,M=[],Q=0;Q<ue;Q+=2)M.push(new Pe(oe[Q],oe[Q+1]));return M}angleTo(H){return Math.atan2(H.y-this.y,H.x-this.x)}applyTransform(H){var{x:oe,y:ue}=this,M=oe*H[0]+ue*H[2]+H[4],Q=oe*H[1]+ue*H[3]+H[5];this.x=M,this.y=Q}}class Le{constructor(H){this.screen=H,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:H,onClick:oe,onMouseMove:ue}=this,M=H.ctx.canvas;M.onclick=oe,M.onmousemove=ue,this.working=!0}}stop(){if(this.working){var H=this.screen.ctx.canvas;this.working=!1,H.onclick=null,H.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:H,events:oe,eventElements:ue}=this,{style:M}=H.ctx.canvas;M&&(M.cursor=""),oe.forEach((Q,re)=>{for(var{run:ye}=Q,De=ue[re];De;)ye(De),De=De.parent}),this.events=[],this.eventElements=[]}}checkPath(H,oe){if(!(!this.working||!oe)){var{events:ue,eventElements:M}=this;ue.forEach((Q,re)=>{var{x:ye,y:De}=Q;!M[re]&&oe.isPointInPath&&oe.isPointInPath(ye,De)&&(M[re]=H)})}}checkBoundingBox(H,oe){if(!(!this.working||!oe)){var{events:ue,eventElements:M}=this;ue.forEach((Q,re)=>{var{x:ye,y:De}=Q;!M[re]&&oe.isPointInBox(ye,De)&&(M[re]=H)})}}mapXY(H,oe){for(var{window:ue,ctx:M}=this.screen,Q=new Pe(H,oe),re=M.canvas;re;)Q.x-=re.offsetLeft,Q.y-=re.offsetTop,re=re.offsetParent;return ue.scrollX&&(Q.x+=ue.scrollX),ue.scrollY&&(Q.y+=ue.scrollY),Q}onClick(H){var{x:oe,y:ue}=this.mapXY(H.clientX,H.clientY);this.events.push({type:"onclick",x:oe,y:ue,run(M){M.onClick&&M.onClick()}})}onMouseMove(H){var{x:oe,y:ue}=this.mapXY(H.clientX,H.clientY);this.events.push({type:"onmousemove",x:oe,y:ue,run(M){M.onMouseMove&&M.onMouseMove()}})}}var Ie=typeof window<"u"?window:null,pe=typeof fetch<"u"?fetch.bind(void 0):null;class ke{constructor(H){var{fetch:oe=pe,window:ue=Ie}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=H,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new je,this.mouse=new Le(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ue,this.fetch=oe}wait(H){this.waits.push(H)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var H=this.waits.every(oe=>oe());return H&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=H,H}setDefaults(H){H.strokeStyle="rgba(0,0,0,0)",H.lineCap="butt",H.lineJoin="miter",H.miterLimit=4}setViewBox(H){var{document:oe,ctx:ue,aspectRatio:M,width:Q,desiredWidth:re,height:ye,desiredHeight:De,minX:Ge=0,minY:it=0,refX:I,refY:B,clip:D=!1,clipX:V=0,clipY:Z=0}=H,ne=w(M).replace(/^defer\s/,""),[Se,fe]=ne.split(" "),ge=Se||"xMidYMid",Re=fe||"meet",Ve=Q/re,et=ye/De,st=Math.min(Ve,et),Fe=Math.max(Ve,et),vt=re,mt=De;Re==="meet"&&(vt*=st,mt*=st),Re==="slice"&&(vt*=Fe,mt*=Fe);var yt=new J(oe,"refX",I),nt=new J(oe,"refY",B),kt=yt.hasValue()&&nt.hasValue();if(kt&&ue.translate(-st*yt.getPixels("x"),-st*nt.getPixels("y")),D){var Gt=st*V,St=st*Z;ue.beginPath(),ue.moveTo(Gt,St),ue.lineTo(Q,St),ue.lineTo(Q,ye),ue.lineTo(Gt,ye),ue.closePath(),ue.clip()}if(!kt){var tt=Re==="meet"&&st===et,Qt=Re==="slice"&&Fe===et,cr=Re==="meet"&&st===Ve,Xt=Re==="slice"&&Fe===Ve;ge.startsWith("xMid")&&(tt||Qt)&&ue.translate(Q/2-vt/2,0),ge.endsWith("YMid")&&(cr||Xt)&&ue.translate(0,ye/2-mt/2),ge.startsWith("xMax")&&(tt||Qt)&&ue.translate(Q-vt,0),ge.endsWith("YMax")&&(cr||Xt)&&ue.translate(0,ye-mt)}switch(!0){case ge==="none":ue.scale(Ve,et);break;case Re==="meet":ue.scale(st,st);break;case Re==="slice":ue.scale(Fe,Fe);break}ue.translate(-Ge,-it)}start(H){var{enableRedraw:oe=!1,ignoreMouse:ue=!1,ignoreAnimation:M=!1,ignoreDimensions:Q=!1,ignoreClear:re=!1,forceRedraw:ye,scaleWidth:De,scaleHeight:Ge,offsetX:it,offsetY:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:B,mouse:D}=this,V=1e3/B;if(this.frameDuration=V,this.readyPromise=new Promise(ge=>{this.resolveReady=ge}),this.isReady()&&this.render(H,Q,re,De,Ge,it,I),!!oe){var Z=Date.now(),ne=Z,Se=0,fe=()=>{Z=Date.now(),Se=Z-ne,Se>=V&&(ne=Z-Se%V,this.shouldUpdate(M,ye)&&(this.render(H,Q,re,De,Ge,it,I),D.runEvents())),this.intervalId=A(fe)};ue||D.start(),this.intervalId=A(fe)}}stop(){this.intervalId&&(A.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(H,oe){if(!H){var{frameDuration:ue}=this,M=this.animations.reduce((Q,re)=>re.update(ue)||Q,!1);if(M)return!0}return!!(typeof oe=="function"&&oe()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(H,oe,ue,M,Q,re,ye){var{CLIENT_WIDTH:De,CLIENT_HEIGHT:Ge,viewPort:it,ctx:I,isFirstRender:B}=this,D=I.canvas;it.clear(),D.width&&D.height?it.setCurrent(D.width,D.height):it.setCurrent(De,Ge);var V=H.getStyle("width"),Z=H.getStyle("height");!oe&&(B||typeof M!="number"&&typeof Q!="number")&&(V.hasValue()&&(D.width=V.getPixels("x"),D.style&&(D.style.width="".concat(D.width,"px"))),Z.hasValue()&&(D.height=Z.getPixels("y"),D.style&&(D.style.height="".concat(D.height,"px"))));var ne=D.clientWidth||D.width,Se=D.clientHeight||D.height;if(oe&&V.hasValue()&&Z.hasValue()&&(ne=V.getPixels("x"),Se=Z.getPixels("y")),it.setCurrent(ne,Se),typeof re=="number"&&H.getAttribute("x",!0).setValue(re),typeof ye=="number"&&H.getAttribute("y",!0).setValue(ye),typeof M=="number"||typeof Q=="number"){var fe=C(H.getAttribute("viewBox").getString()),ge=0,Re=0;if(typeof M=="number"){var Ve=H.getStyle("width");Ve.hasValue()?ge=Ve.getPixels("x")/M:isNaN(fe[2])||(ge=fe[2]/M)}if(typeof Q=="number"){var et=H.getStyle("height");et.hasValue()?Re=et.getPixels("y")/Q:isNaN(fe[3])||(Re=fe[3]/Q)}ge||(ge=Re),Re||(Re=ge),H.getAttribute("width",!0).setValue(M),H.getAttribute("height",!0).setValue(Q);var st=H.getStyle("transform",!0,!0);st.setValue("".concat(st.getString()," scale(").concat(1/ge,", ").concat(1/Re,")"))}ue||I.clearRect(0,0,ne,Se),H.render(I),B&&(this.isFirstRender=!1)}}ke.defaultWindow=Ie,ke.defaultFetch=pe;var{defaultFetch:Ye}=ke,wt=typeof DOMParser<"u"?DOMParser:null;class Ft{constructor(){var{fetch:H=Ye,DOMParser:oe=wt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=H,this.DOMParser=oe}parse(H){var oe=this;return(0,h.default)(function*(){return H.startsWith("<")?oe.parseFromString(H):oe.load(H)})()}parseFromString(H){var oe=new this.DOMParser;try{return this.checkDocument(oe.parseFromString(H,"image/svg+xml"))}catch{return this.checkDocument(oe.parseFromString(H,"text/xml"))}}checkDocument(H){var oe=H.getElementsByTagName("parsererror")[0];if(oe)throw new Error(oe.textContent);return H}load(H){var oe=this;return(0,h.default)(function*(){var ue=yield oe.fetch(H),M=yield ue.text();return oe.parseFromString(M)})()}}class Bt{constructor(H,oe){this.type="translate",this.point=null,this.point=Pe.parse(oe)}apply(H){var{x:oe,y:ue}=this.point;H.translate(oe||0,ue||0)}unapply(H){var{x:oe,y:ue}=this.point;H.translate(-1*oe||0,-1*ue||0)}applyToPoint(H){var{x:oe,y:ue}=this.point;H.applyTransform([1,0,0,1,oe||0,ue||0])}}class Vt{constructor(H,oe,ue){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var M=C(oe);this.angle=new J(H,"angle",M[0]),this.originX=ue[0],this.originY=ue[1],this.cx=M[1]||0,this.cy=M[2]||0}apply(H){var{cx:oe,cy:ue,originX:M,originY:Q,angle:re}=this,ye=oe+M.getPixels("x"),De=ue+Q.getPixels("y");H.translate(ye,De),H.rotate(re.getRadians()),H.translate(-ye,-De)}unapply(H){var{cx:oe,cy:ue,originX:M,originY:Q,angle:re}=this,ye=oe+M.getPixels("x"),De=ue+Q.getPixels("y");H.translate(ye,De),H.rotate(-1*re.getRadians()),H.translate(-ye,-De)}applyToPoint(H){var{cx:oe,cy:ue,angle:M}=this,Q=M.getRadians();H.applyTransform([1,0,0,1,oe||0,ue||0]),H.applyTransform([Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0]),H.applyTransform([1,0,0,1,-oe||0,-ue||0])}}class Ir{constructor(H,oe,ue){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var M=Pe.parseScale(oe);(M.x===0||M.y===0)&&(M.x=be,M.y=be),this.scale=M,this.originX=ue[0],this.originY=ue[1]}apply(H){var{scale:{x:oe,y:ue},originX:M,originY:Q}=this,re=M.getPixels("x"),ye=Q.getPixels("y");H.translate(re,ye),H.scale(oe,ue||oe),H.translate(-re,-ye)}unapply(H){var{scale:{x:oe,y:ue},originX:M,originY:Q}=this,re=M.getPixels("x"),ye=Q.getPixels("y");H.translate(re,ye),H.scale(1/oe,1/ue||oe),H.translate(-re,-ye)}applyToPoint(H){var{x:oe,y:ue}=this.scale;H.applyTransform([oe||0,0,0,ue||0,0,0])}}class Sr{constructor(H,oe,ue){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=C(oe),this.originX=ue[0],this.originY=ue[1]}apply(H){var{originX:oe,originY:ue,matrix:M}=this,Q=oe.getPixels("x"),re=ue.getPixels("y");H.translate(Q,re),H.transform(M[0],M[1],M[2],M[3],M[4],M[5]),H.translate(-Q,-re)}unapply(H){var{originX:oe,originY:ue,matrix:M}=this,Q=M[0],re=M[2],ye=M[4],De=M[1],Ge=M[3],it=M[5],I=0,B=0,D=1,V=1/(Q*(Ge*D-it*B)-re*(De*D-it*I)+ye*(De*B-Ge*I)),Z=oe.getPixels("x"),ne=ue.getPixels("y");H.translate(Z,ne),H.transform(V*(Ge*D-it*B),V*(it*I-De*D),V*(ye*B-re*D),V*(Q*D-ye*I),V*(re*it-ye*Ge),V*(ye*De-Q*it)),H.translate(-Z,-ne)}applyToPoint(H){H.applyTransform(this.matrix)}}class He extends Sr{constructor(H,oe,ue){super(H,oe,ue),this.type="skew",this.angle=null,this.angle=new J(H,"angle",oe)}}class Zt extends He{constructor(H,oe,ue){super(H,oe,ue),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Nt extends He{constructor(H,oe,ue){super(H,oe,ue),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Vr(Ut){return w(Ut).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function mr(Ut){var[H,oe]=Ut.split("(");return[H.trim(),oe.trim().replace(")","")]}class on{constructor(H,oe,ue){this.document=H,this.transforms=[];var M=Vr(oe);M.forEach(Q=>{if(Q!=="none"){var[re,ye]=mr(Q),De=on.transformTypes[re];typeof De<"u"&&this.transforms.push(new De(this.document,ye,ue))}})}static fromElement(H,oe){var ue=oe.getStyle("transform",!1,!0),[M,Q=M]=oe.getStyle("transform-origin",!1,!0).split(),re=[M,Q];return ue.hasValue()?new on(H,ue.getString(),re):null}apply(H){for(var{transforms:oe}=this,ue=oe.length,M=0;M<ue;M++)oe[M].apply(H)}unapply(H){for(var{transforms:oe}=this,ue=oe.length,M=ue-1;M>=0;M--)oe[M].unapply(H)}applyToPoint(H){for(var{transforms:oe}=this,ue=oe.length,M=0;M<ue;M++)oe[M].applyToPoint(H)}}on.transformTypes={translate:Bt,rotate:Vt,scale:Ir,matrix:Sr,skewX:Zt,skewY:Nt};class Jr{constructor(H,oe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=H,this.node=oe,this.captureTextNodes=ue,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!oe||oe.nodeType!==1)){if(Array.from(oe.attributes).forEach(ye=>{var De=W(ye.nodeName);this.attributes[De]=new J(H,De,ye.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var M=this.getAttribute("style").getString().split(";").map(ye=>ye.trim());M.forEach(ye=>{if(ye){var[De,Ge]=ye.split(":").map(it=>it.trim());this.styles[De]=new J(H,De,Ge)}})}var{definitions:Q}=H,re=this.getAttribute("id");re.hasValue()&&(Q[re.getString()]||(Q[re.getString()]=this)),Array.from(oe.childNodes).forEach(ye=>{if(ye.nodeType===1)this.addChild(ye);else if(ue&&(ye.nodeType===3||ye.nodeType===4)){var De=H.createTextNode(ye);De.getText().length>0&&this.addChild(De)}})}}getAttribute(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=this.attributes[H];if(!ue&&oe){var M=new J(this.document,H,"");return this.attributes[H]=M,M}return ue||J.empty(this.document)}getHrefAttribute(){for(var H in this.attributes)if(H==="href"||H.endsWith(":href"))return this.attributes[H];return J.empty(this.document)}getStyle(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.styles[H];if(M)return M;var Q=this.getAttribute(H);if(Q!=null&&Q.hasValue())return this.styles[H]=Q,Q;if(!ue){var{parent:re}=this;if(re){var ye=re.getStyle(H);if(ye!=null&&ye.hasValue())return ye}}if(oe){var De=new J(this.document,H,"");return this.styles[H]=De,De}return M||J.empty(this.document)}render(H){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(H.save(),this.getStyle("mask").hasValue()){var oe=this.getStyle("mask").getDefinition();oe&&(this.applyEffects(H),oe.apply(H,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ue=this.getStyle("filter").getDefinition();ue&&(this.applyEffects(H),ue.apply(H,this))}else this.setContext(H),this.renderChildren(H),this.clearContext(H);H.restore()}}setContext(H){}applyEffects(H){var oe=on.fromElement(this.document,this);oe&&oe.apply(H);var ue=this.getStyle("clip-path",!1,!0);if(ue.hasValue()){var M=ue.getDefinition();M&&M.apply(H)}}clearContext(H){}renderChildren(H){this.children.forEach(oe=>{oe.render(H)})}addChild(H){var oe=H instanceof Jr?H:this.document.createElement(H);oe.parent=this,Jr.ignoreChildTypes.includes(oe.type)||this.children.push(oe)}matchesSelector(H){var oe,{node:ue}=this;if(typeof ue.matches=="function")return ue.matches(H);var M=(oe=ue.getAttribute)===null||oe===void 0?void 0:oe.call(ue,"class");return!M||M===""?!1:M.split(" ").some(Q=>".".concat(Q)===H)}addStylesFromStyleDefinition(){var{styles:H,stylesSpecificity:oe}=this.document;for(var ue in H)if(!ue.startsWith("@")&&this.matchesSelector(ue)){var M=H[ue],Q=oe[ue];if(M)for(var re in M){var ye=this.stylesSpecificity[re];typeof ye>"u"&&(ye="000"),Q>=ye&&(this.styles[re]=M[re],this.stylesSpecificity[re]=Q)}}}removeStyles(H,oe){var ue=oe.reduce((M,Q)=>{var re=H.getStyle(Q);if(!re.hasValue())return M;var ye=re.getString();return re.setValue(""),[...M,[Q,ye]]},[]);return ue}restoreStyles(H,oe){oe.forEach(ue=>{var[M,Q]=ue;H.getStyle(M,!0).setValue(Q)})}isFirstChild(){var H;return((H=this.parent)===null||H===void 0?void 0:H.children.indexOf(this))===0}}Jr.ignoreChildTypes=["title"];class Gr extends Jr{constructor(H,oe,ue){super(H,oe,ue)}}function _r(Ut){var H=Ut.trim();return/^('|")/.test(H)?H:'"'.concat(H,'"')}function hr(Ut){return typeof process>"u"?Ut:Ut.trim().split(",").map(_r).join(",")}function Br(Ut){if(!Ut)return"";var H=Ut.trim().toLowerCase();switch(H){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return H;default:return/^oblique\s+(-|)\d+deg$/.test(H)?H:""}}function Qr(Ut){if(!Ut)return"";var H=Ut.trim().toLowerCase();switch(H){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return H;default:return/^[\d.]+$/.test(H)?H:""}}class Kr{constructor(H,oe,ue,M,Q,re){var ye=re?typeof re=="string"?Kr.parse(re):re:{};this.fontFamily=Q||ye.fontFamily,this.fontSize=M||ye.fontSize,this.fontStyle=H||ye.fontStyle,this.fontWeight=ue||ye.fontWeight,this.fontVariant=oe||ye.fontVariant}static parse(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",oe=arguments.length>1?arguments[1]:void 0,ue="",M="",Q="",re="",ye="",De=w(H).trim().split(" "),Ge={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return De.forEach(it=>{switch(!0){case(!Ge.fontStyle&&Kr.styles.includes(it)):it!=="inherit"&&(ue=it),Ge.fontStyle=!0;break;case(!Ge.fontVariant&&Kr.variants.includes(it)):it!=="inherit"&&(M=it),Ge.fontStyle=!0,Ge.fontVariant=!0;break;case(!Ge.fontWeight&&Kr.weights.includes(it)):it!=="inherit"&&(Q=it),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0;break;case!Ge.fontSize:it!=="inherit"&&([re]=it.split("/")),Ge.fontStyle=!0,Ge.fontVariant=!0,Ge.fontWeight=!0,Ge.fontSize=!0;break;default:it!=="inherit"&&(ye+=it)}}),new Kr(ue,M,Q,re,ye,oe)}toString(){return[Br(this.fontStyle),this.fontVariant,Qr(this.fontWeight),this.fontSize,hr(this.fontFamily)].join(" ").trim()}}Kr.styles="normal|italic|oblique|inherit",Kr.variants="normal|small-caps|inherit",Kr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class hn{constructor(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=H,this.y1=oe,this.x2=ue,this.y2=M,this.addPoint(H,oe),this.addPoint(ue,M)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(H,oe){typeof H<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=H,this.x2=H),H<this.x1&&(this.x1=H),H>this.x2&&(this.x2=H)),typeof oe<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=oe,this.y2=oe),oe<this.y1&&(this.y1=oe),oe>this.y2&&(this.y2=oe))}addX(H){this.addPoint(H,null)}addY(H){this.addPoint(null,H)}addBoundingBox(H){if(H){var{x1:oe,y1:ue,x2:M,y2:Q}=H;this.addPoint(oe,ue),this.addPoint(M,Q)}}sumCubic(H,oe,ue,M,Q){return Math.pow(1-H,3)*oe+3*Math.pow(1-H,2)*H*ue+3*(1-H)*Math.pow(H,2)*M+Math.pow(H,3)*Q}bezierCurveAdd(H,oe,ue,M,Q){var re=6*oe-12*ue+6*M,ye=-3*oe+9*ue-9*M+3*Q,De=3*ue-3*oe;if(ye===0){if(re===0)return;var Ge=-De/re;0<Ge&&Ge<1&&(H?this.addX(this.sumCubic(Ge,oe,ue,M,Q)):this.addY(this.sumCubic(Ge,oe,ue,M,Q)));return}var it=Math.pow(re,2)-4*De*ye;if(!(it<0)){var I=(-re+Math.sqrt(it))/(2*ye);0<I&&I<1&&(H?this.addX(this.sumCubic(I,oe,ue,M,Q)):this.addY(this.sumCubic(I,oe,ue,M,Q)));var B=(-re-Math.sqrt(it))/(2*ye);0<B&&B<1&&(H?this.addX(this.sumCubic(B,oe,ue,M,Q)):this.addY(this.sumCubic(B,oe,ue,M,Q)))}}addBezierCurve(H,oe,ue,M,Q,re,ye,De){this.addPoint(H,oe),this.addPoint(ye,De),this.bezierCurveAdd(!0,H,ue,Q,ye),this.bezierCurveAdd(!1,oe,M,re,De)}addQuadraticCurve(H,oe,ue,M,Q,re){var ye=H+.6666666666666666*(ue-H),De=oe+2/3*(M-oe),Ge=ye+1/3*(Q-H),it=De+1/3*(re-oe);this.addBezierCurve(H,oe,ye,Ge,De,it,Q,re)}isPointInBox(H,oe){var{x1:ue,y1:M,x2:Q,y2:re}=this;return ue<=H&&H<=Q&&M<=oe&&oe<=re}}class Wr extends g.SVGPathData{constructor(H){super(H.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Pe(0,0),this.control=new Pe(0,0),this.current=new Pe(0,0),this.points=[],this.angles=[]}isEnd(){var{i:H,commands:oe}=this;return H>=oe.length-1}next(){var H=this.commands[++this.i];return this.previousCommand=this.command,this.command=H,H}getPoint(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ue=new Pe(this.command[H],this.command[oe]);return this.makeAbsolute(ue)}getAsControlPoint(H,oe){var ue=this.getPoint(H,oe);return this.control=ue,ue}getAsCurrentPoint(H,oe){var ue=this.getPoint(H,oe);return this.current=ue,ue}getReflectedControlPoint(){var H=this.previousCommand.type;if(H!==g.SVGPathData.CURVE_TO&&H!==g.SVGPathData.SMOOTH_CURVE_TO&&H!==g.SVGPathData.QUAD_TO&&H!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:oe,y:ue},control:{x:M,y:Q}}=this,re=new Pe(2*oe-M,2*ue-Q);return re}makeAbsolute(H){if(this.command.relative){var{x:oe,y:ue}=this.current;H.x+=oe,H.y+=ue}return H}addMarker(H,oe,ue){var{points:M,angles:Q}=this;ue&&Q.length>0&&!Q[Q.length-1]&&(Q[Q.length-1]=M[M.length-1].angleTo(ue)),this.addMarkerAngle(H,oe?oe.angleTo(H):null)}addMarkerAngle(H,oe){this.points.push(H),this.angles.push(oe)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:H}=this,oe=H.length,ue=0;ue<oe;ue++)if(!H[ue]){for(var M=ue+1;M<oe;M++)if(H[M]){H[ue]=H[M];break}}return H}}class Wn extends Jr{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var H=1,oe=this;oe;){var ue=oe.getStyle("opacity",!1,!0);ue.hasValue(!0)&&(H*=ue.getNumber()),oe=oe.parent}return H}setContext(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!oe){var ue=this.getStyle("fill"),M=this.getStyle("fill-opacity"),Q=this.getStyle("stroke"),re=this.getStyle("stroke-opacity");if(ue.isUrlDefinition()){var ye=ue.getFillStyleDefinition(this,M);ye&&(H.fillStyle=ye)}else if(ue.hasValue()){ue.getString()==="currentColor"&&ue.setValue(this.getStyle("color").getColor());var De=ue.getColor();De!=="inherit"&&(H.fillStyle=De==="none"?"rgba(0,0,0,0)":De)}if(M.hasValue()){var Ge=new J(this.document,"fill",H.fillStyle).addOpacity(M).getColor();H.fillStyle=Ge}if(Q.isUrlDefinition()){var it=Q.getFillStyleDefinition(this,re);it&&(H.strokeStyle=it)}else if(Q.hasValue()){Q.getString()==="currentColor"&&Q.setValue(this.getStyle("color").getColor());var I=Q.getString();I!=="inherit"&&(H.strokeStyle=I==="none"?"rgba(0,0,0,0)":I)}if(re.hasValue()){var B=new J(this.document,"stroke",H.strokeStyle).addOpacity(re).getString();H.strokeStyle=B}var D=this.getStyle("stroke-width");if(D.hasValue()){var V=D.getPixels();H.lineWidth=V||be}var Z=this.getStyle("stroke-linecap"),ne=this.getStyle("stroke-linejoin"),Se=this.getStyle("stroke-miterlimit"),fe=this.getStyle("stroke-dasharray"),ge=this.getStyle("stroke-dashoffset");if(Z.hasValue()&&(H.lineCap=Z.getString()),ne.hasValue()&&(H.lineJoin=ne.getString()),Se.hasValue()&&(H.miterLimit=Se.getNumber()),fe.hasValue()&&fe.getString()!=="none"){var Re=C(fe.getString());typeof H.setLineDash<"u"?H.setLineDash(Re):typeof H.webkitLineDash<"u"?H.webkitLineDash=Re:typeof H.mozDash<"u"&&!(Re.length===1&&Re[0]===0)&&(H.mozDash=Re);var Ve=ge.getPixels();typeof H.lineDashOffset<"u"?H.lineDashOffset=Ve:typeof H.webkitLineDashOffset<"u"?H.webkitLineDashOffset=Ve:typeof H.mozDashOffset<"u"&&(H.mozDashOffset=Ve)}}if(this.modifiedEmSizeStack=!1,typeof H.font<"u"){var et=this.getStyle("font"),st=this.getStyle("font-style"),Fe=this.getStyle("font-variant"),vt=this.getStyle("font-weight"),mt=this.getStyle("font-size"),yt=this.getStyle("font-family"),nt=new Kr(st.getString(),Fe.getString(),vt.getString(),mt.hasValue()?"".concat(mt.getPixels(!0),"px"):"",yt.getString(),Kr.parse(et.getString(),H.font));st.setValue(nt.fontStyle),Fe.setValue(nt.fontVariant),vt.setValue(nt.fontWeight),mt.setValue(nt.fontSize),yt.setValue(nt.fontFamily),H.font=nt.toString(),mt.isPixels()&&(this.document.emSize=mt.getPixels(),this.modifiedEmSizeStack=!0)}oe||(this.applyEffects(H),H.globalAlpha=this.calculateOpacity())}clearContext(H){super.clearContext(H),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Lr extends Wn{constructor(H,oe,ue){super(H,oe,ue),this.type="path",this.pathParser=null,this.pathParser=new Wr(this.getAttribute("d").getString())}path(H){var{pathParser:oe}=this,ue=new hn;for(oe.reset(),H&&H.beginPath();!oe.isEnd();)switch(oe.next().type){case Wr.MOVE_TO:this.pathM(H,ue);break;case Wr.LINE_TO:this.pathL(H,ue);break;case Wr.HORIZ_LINE_TO:this.pathH(H,ue);break;case Wr.VERT_LINE_TO:this.pathV(H,ue);break;case Wr.CURVE_TO:this.pathC(H,ue);break;case Wr.SMOOTH_CURVE_TO:this.pathS(H,ue);break;case Wr.QUAD_TO:this.pathQ(H,ue);break;case Wr.SMOOTH_QUAD_TO:this.pathT(H,ue);break;case Wr.ARC:this.pathA(H,ue);break;case Wr.CLOSE_PATH:this.pathZ(H,ue);break}return ue}getBoundingBox(H){return this.path()}getMarkers(){var{pathParser:H}=this,oe=H.getMarkerPoints(),ue=H.getMarkerAngles(),M=oe.map((Q,re)=>[Q,ue[re]]);return M}renderChildren(H){this.path(H),this.document.screen.mouse.checkPath(this,H);var oe=this.getStyle("fill-rule");H.fillStyle!==""&&(oe.getString("inherit")!=="inherit"?H.fill(oe.getString()):H.fill()),H.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(H.save(),H.setTransform(1,0,0,1,0,0),H.stroke(),H.restore()):H.stroke());var ue=this.getMarkers();if(ue){var M=ue.length-1,Q=this.getStyle("marker-start"),re=this.getStyle("marker-mid"),ye=this.getStyle("marker-end");if(Q.isUrlDefinition()){var De=Q.getDefinition(),[Ge,it]=ue[0];De.render(H,Ge,it)}if(re.isUrlDefinition())for(var I=re.getDefinition(),B=1;B<M;B++){var[D,V]=ue[B];I.render(H,D,V)}if(ye.isUrlDefinition()){var Z=ye.getDefinition(),[ne,Se]=ue[M];Z.render(H,ne,Se)}}}static pathM(H){var oe=H.getAsCurrentPoint();return H.start=H.current,{point:oe}}pathM(H,oe){var{pathParser:ue}=this,{point:M}=Lr.pathM(ue),{x:Q,y:re}=M;ue.addMarker(M),oe.addPoint(Q,re),H&&H.moveTo(Q,re)}static pathL(H){var{current:oe}=H,ue=H.getAsCurrentPoint();return{current:oe,point:ue}}pathL(H,oe){var{pathParser:ue}=this,{current:M,point:Q}=Lr.pathL(ue),{x:re,y:ye}=Q;ue.addMarker(Q,M),oe.addPoint(re,ye),H&&H.lineTo(re,ye)}static pathH(H){var{current:oe,command:ue}=H,M=new Pe((ue.relative?oe.x:0)+ue.x,oe.y);return H.current=M,{current:oe,point:M}}pathH(H,oe){var{pathParser:ue}=this,{current:M,point:Q}=Lr.pathH(ue),{x:re,y:ye}=Q;ue.addMarker(Q,M),oe.addPoint(re,ye),H&&H.lineTo(re,ye)}static pathV(H){var{current:oe,command:ue}=H,M=new Pe(oe.x,(ue.relative?oe.y:0)+ue.y);return H.current=M,{current:oe,point:M}}pathV(H,oe){var{pathParser:ue}=this,{current:M,point:Q}=Lr.pathV(ue),{x:re,y:ye}=Q;ue.addMarker(Q,M),oe.addPoint(re,ye),H&&H.lineTo(re,ye)}static pathC(H){var{current:oe}=H,ue=H.getPoint("x1","y1"),M=H.getAsControlPoint("x2","y2"),Q=H.getAsCurrentPoint();return{current:oe,point:ue,controlPoint:M,currentPoint:Q}}pathC(H,oe){var{pathParser:ue}=this,{current:M,point:Q,controlPoint:re,currentPoint:ye}=Lr.pathC(ue);ue.addMarker(ye,re,Q),oe.addBezierCurve(M.x,M.y,Q.x,Q.y,re.x,re.y,ye.x,ye.y),H&&H.bezierCurveTo(Q.x,Q.y,re.x,re.y,ye.x,ye.y)}static pathS(H){var{current:oe}=H,ue=H.getReflectedControlPoint(),M=H.getAsControlPoint("x2","y2"),Q=H.getAsCurrentPoint();return{current:oe,point:ue,controlPoint:M,currentPoint:Q}}pathS(H,oe){var{pathParser:ue}=this,{current:M,point:Q,controlPoint:re,currentPoint:ye}=Lr.pathS(ue);ue.addMarker(ye,re,Q),oe.addBezierCurve(M.x,M.y,Q.x,Q.y,re.x,re.y,ye.x,ye.y),H&&H.bezierCurveTo(Q.x,Q.y,re.x,re.y,ye.x,ye.y)}static pathQ(H){var{current:oe}=H,ue=H.getAsControlPoint("x1","y1"),M=H.getAsCurrentPoint();return{current:oe,controlPoint:ue,currentPoint:M}}pathQ(H,oe){var{pathParser:ue}=this,{current:M,controlPoint:Q,currentPoint:re}=Lr.pathQ(ue);ue.addMarker(re,Q,Q),oe.addQuadraticCurve(M.x,M.y,Q.x,Q.y,re.x,re.y),H&&H.quadraticCurveTo(Q.x,Q.y,re.x,re.y)}static pathT(H){var{current:oe}=H,ue=H.getReflectedControlPoint();H.control=ue;var M=H.getAsCurrentPoint();return{current:oe,controlPoint:ue,currentPoint:M}}pathT(H,oe){var{pathParser:ue}=this,{current:M,controlPoint:Q,currentPoint:re}=Lr.pathT(ue);ue.addMarker(re,Q,Q),oe.addQuadraticCurve(M.x,M.y,Q.x,Q.y,re.x,re.y),H&&H.quadraticCurveTo(Q.x,Q.y,re.x,re.y)}static pathA(H){var{current:oe,command:ue}=H,{rX:M,rY:Q,xRot:re,lArcFlag:ye,sweepFlag:De}=ue,Ge=re*(Math.PI/180),it=H.getAsCurrentPoint(),I=new Pe(Math.cos(Ge)*(oe.x-it.x)/2+Math.sin(Ge)*(oe.y-it.y)/2,-Math.sin(Ge)*(oe.x-it.x)/2+Math.cos(Ge)*(oe.y-it.y)/2),B=Math.pow(I.x,2)/Math.pow(M,2)+Math.pow(I.y,2)/Math.pow(Q,2);B>1&&(M*=Math.sqrt(B),Q*=Math.sqrt(B));var D=(ye===De?-1:1)*Math.sqrt((Math.pow(M,2)*Math.pow(Q,2)-Math.pow(M,2)*Math.pow(I.y,2)-Math.pow(Q,2)*Math.pow(I.x,2))/(Math.pow(M,2)*Math.pow(I.y,2)+Math.pow(Q,2)*Math.pow(I.x,2)));isNaN(D)&&(D=0);var V=new Pe(D*M*I.y/Q,D*-Q*I.x/M),Z=new Pe((oe.x+it.x)/2+Math.cos(Ge)*V.x-Math.sin(Ge)*V.y,(oe.y+it.y)/2+Math.sin(Ge)*V.x+Math.cos(Ge)*V.y),ne=Ne([1,0],[(I.x-V.x)/M,(I.y-V.y)/Q]),Se=[(I.x-V.x)/M,(I.y-V.y)/Q],fe=[(-I.x-V.x)/M,(-I.y-V.y)/Q],ge=Ne(Se,fe);return Y(Se,fe)<=-1&&(ge=Math.PI),Y(Se,fe)>=1&&(ge=0),{currentPoint:it,rX:M,rY:Q,sweepFlag:De,xAxisRotation:Ge,centp:Z,a1:ne,ad:ge}}pathA(H,oe){var{pathParser:ue}=this,{currentPoint:M,rX:Q,rY:re,sweepFlag:ye,xAxisRotation:De,centp:Ge,a1:it,ad:I}=Lr.pathA(ue),B=1-ye?1:-1,D=it+B*(I/2),V=new Pe(Ge.x+Q*Math.cos(D),Ge.y+re*Math.sin(D));if(ue.addMarkerAngle(V,D-B*Math.PI/2),ue.addMarkerAngle(M,D-B*Math.PI),oe.addPoint(M.x,M.y),H&&!isNaN(it)&&!isNaN(I)){var Z=Q>re?Q:re,ne=Q>re?1:Q/re,Se=Q>re?re/Q:1;H.translate(Ge.x,Ge.y),H.rotate(De),H.scale(ne,Se),H.arc(0,0,Z,it,it+I,!!(1-ye)),H.scale(1/ne,1/Se),H.rotate(-De),H.translate(-Ge.x,-Ge.y)}}static pathZ(H){H.current=H.start}pathZ(H,oe){Lr.pathZ(this.pathParser),H&&oe.x1!==oe.x2&&oe.y1!==oe.y2&&H.closePath()}}class Dr extends Lr{constructor(H,oe,ue){super(H,oe,ue),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class wn extends Wn{constructor(H,oe,ue){super(H,oe,new.target===wn?!0:ue),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(H,oe);var ue=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ue&&(H.textBaseline=ue)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(H){if(this.type!=="text")return this.getTElementBoundingBox(H);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(H);var oe=null;return this.children.forEach((ue,M)=>{var Q=this.getChildBoundingBox(H,this,this,M);oe?oe.addBoundingBox(Q):oe=Q}),oe}getFontSize(){var{document:H,parent:oe}=this,ue=Kr.parse(H.ctx.font).fontSize,M=oe.getStyle("font-size").getNumber(ue);return M}getTElementBoundingBox(H){var oe=this.getFontSize();return new hn(this.x,this.y-oe,this.x+this.measureText(H),this.y)}getGlyph(H,oe,ue){var M=oe[ue],Q=null;if(H.isArabic){var re=oe.length,ye=oe[ue-1],De=oe[ue+1],Ge="isolated";if((ue===0||ye===" ")&&ue<re-1&&De!==" "&&(Ge="terminal"),ue>0&&ye!==" "&&ue<re-1&&De!==" "&&(Ge="medial"),ue>0&&ye!==" "&&(ue===re-1||De===" ")&&(Ge="initial"),typeof H.glyphs[M]<"u"){var it=H.glyphs[M];Q=it instanceof Dr?it:it[Ge]}}else Q=H.glyphs[M];return Q||(Q=H.missingGlyph),Q}getText(){return""}getTextFromNode(H){var oe=H||this.node,ue=Array.from(oe.parentNode.childNodes),M=ue.indexOf(oe),Q=ue.length-1,re=w(oe.textContent||"");return M===0&&(re=N(re)),M===Q&&(re=S(re)),re}renderChildren(H){if(this.type!=="text"){this.renderTElementChildren(H);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(H),this.children.forEach((ue,M)=>{this.renderChild(H,this,this,M)});var{mouse:oe}=this.document.screen;oe.isWorking()&&oe.checkBoundingBox(this,this.getBoundingBox(H))}renderTElementChildren(H){var{document:oe,parent:ue}=this,M=this.getText(),Q=ue.getStyle("font-family").getDefinition();if(Q){for(var{unitsPerEm:re}=Q.fontFace,ye=Kr.parse(oe.ctx.font),De=ue.getStyle("font-size").getNumber(ye.fontSize),Ge=ue.getStyle("font-style").getString(ye.fontStyle),it=De/re,I=Q.isRTL?M.split("").reverse().join(""):M,B=C(ue.getAttribute("dx").getString()),D=I.length,V=0;V<D;V++){var Z=this.getGlyph(Q,I,V);H.translate(this.x,this.y),H.scale(it,-it);var ne=H.lineWidth;H.lineWidth=H.lineWidth*re/De,Ge==="italic"&&H.transform(1,0,.4,1,0,0),Z.render(H),Ge==="italic"&&H.transform(1,0,-.4,1,0,0),H.lineWidth=ne,H.scale(1/it,-1/it),H.translate(-this.x,-this.y),this.x+=De*(Z.horizAdvX||Q.horizAdvX)/re,typeof B[V]<"u"&&!isNaN(B[V])&&(this.x+=B[V])}return}var{x:Se,y:fe}=this;H.fillStyle&&H.fillText(M,Se,fe),H.strokeStyle&&H.strokeText(M,Se,fe)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var H=this.leafTexts[this.textChunkStart],oe=H.getStyle("text-anchor").getString("start"),ue=!1,M=0;oe==="start"&&!ue||oe==="end"&&ue?M=H.x-this.minX:oe==="end"&&!ue||oe==="start"&&ue?M=H.x-this.maxX:M=H.x-(this.minX+this.maxX)/2;for(var Q=this.textChunkStart;Q<this.leafTexts.length;Q++)this.leafTexts[Q].x+=M;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(H){this.children.forEach((oe,ue)=>{this.adjustChildCoordinatesRecursiveCore(H,this,this,ue)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(H,oe,ue,M){var Q=ue.children[M];Q.children.length>0?Q.children.forEach((re,ye)=>{oe.adjustChildCoordinatesRecursiveCore(H,oe,Q,ye)}):this.adjustChildCoordinates(H,oe,ue,M)}adjustChildCoordinates(H,oe,ue,M){var Q=ue.children[M];if(typeof Q.measureText!="function")return Q;H.save(),Q.setContext(H,!0);var re=Q.getAttribute("x"),ye=Q.getAttribute("y"),De=Q.getAttribute("dx"),Ge=Q.getAttribute("dy"),it=Q.getStyle("font-family").getDefinition(),I=!!it&&it.isRTL;M===0&&(re.hasValue()||re.setValue(Q.getInheritedAttribute("x")),ye.hasValue()||ye.setValue(Q.getInheritedAttribute("y")),De.hasValue()||De.setValue(Q.getInheritedAttribute("dx")),Ge.hasValue()||Ge.setValue(Q.getInheritedAttribute("dy")));var B=Q.measureText(H);return I&&(oe.x-=B),re.hasValue()?(oe.applyAnchoring(),Q.x=re.getPixels("x"),De.hasValue()&&(Q.x+=De.getPixels("x"))):(De.hasValue()&&(oe.x+=De.getPixels("x")),Q.x=oe.x),oe.x=Q.x,I||(oe.x+=B),ye.hasValue()?(Q.y=ye.getPixels("y"),Ge.hasValue()&&(Q.y+=Ge.getPixels("y"))):(Ge.hasValue()&&(oe.y+=Ge.getPixels("y")),Q.y=oe.y),oe.y=Q.y,oe.leafTexts.push(Q),oe.minX=Math.min(oe.minX,Q.x,Q.x+B),oe.maxX=Math.max(oe.maxX,Q.x,Q.x+B),Q.clearContext(H),H.restore(),Q}getChildBoundingBox(H,oe,ue,M){var Q=ue.children[M];if(typeof Q.getBoundingBox!="function")return null;var re=Q.getBoundingBox(H);return re?(Q.children.forEach((ye,De)=>{var Ge=oe.getChildBoundingBox(H,oe,Q,De);re.addBoundingBox(Ge)}),re):null}renderChild(H,oe,ue,M){var Q=ue.children[M];Q.render(H),Q.children.forEach((re,ye)=>{oe.renderChild(H,oe,Q,ye)})}measureText(H){var{measureCache:oe}=this;if(~oe)return oe;var ue=this.getText(),M=this.measureTargetText(H,ue);return this.measureCache=M,M}measureTargetText(H,oe){if(!oe.length)return 0;var{parent:ue}=this,M=ue.getStyle("font-family").getDefinition();if(M){for(var Q=this.getFontSize(),re=M.isRTL?oe.split("").reverse().join(""):oe,ye=C(ue.getAttribute("dx").getString()),De=re.length,Ge=0,it=0;it<De;it++){var I=this.getGlyph(M,re,it);Ge+=(I.horizAdvX||M.horizAdvX)*Q/M.fontFace.unitsPerEm,typeof ye[it]<"u"&&!isNaN(ye[it])&&(Ge+=ye[it])}return Ge}if(!H.measureText)return oe.length*10;H.save(),this.setContext(H,!0);var{width:B}=H.measureText(oe);return this.clearContext(H),H.restore(),B}getInheritedAttribute(H){for(var oe=this;oe instanceof wn&&oe.isFirstChild();){var ue=oe.parent.getAttribute(H);if(ue.hasValue(!0))return ue.getValue("0");oe=oe.parent}return null}}class cn extends wn{constructor(H,oe,ue){super(H,oe,new.target===cn?!0:ue),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Ln extends cn{constructor(){super(...arguments),this.type="textNode"}}class la extends Wn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(H){var oe,{document:ue}=this,{screen:M,window:Q}=ue,re=H.canvas;if(M.setDefaults(H),re.style&&typeof H.font<"u"&&Q&&typeof Q.getComputedStyle<"u"){H.font=Q.getComputedStyle(re).getPropertyValue("font");var ye=new J(ue,"fontSize",Kr.parse(H.font).fontSize);ye.hasValue()&&(ue.rootEmSize=ye.getPixels("y"),ue.emSize=ue.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:De,height:Ge}=M.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var it=this.getAttribute("refX"),I=this.getAttribute("refY"),B=this.getAttribute("viewBox"),D=B.hasValue()?C(B.getString()):null,V=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",Z=0,ne=0,Se=0,fe=0;D&&(Z=D[0],ne=D[1]),this.root||(De=this.getStyle("width").getPixels("x"),Ge=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Se=Z,fe=ne,Z=0,ne=0)),M.viewPort.setCurrent(De,Ge),this.node&&(!this.parent||((oe=this.node.parentNode)===null||oe===void 0?void 0:oe.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(H),H.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),D&&(De=D[2],Ge=D[3]),ue.setViewBox({ctx:H,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:M.viewPort.width,desiredWidth:De,height:M.viewPort.height,desiredHeight:Ge,minX:Z,minY:ne,refX:it.getValue(),refY:I.getValue(),clip:V,clipX:Se,clipY:fe}),D&&(M.viewPort.removeCurrent(),M.viewPort.setCurrent(De,Ge))}clearContext(H){super.clearContext(H),this.document.screen.viewPort.removeCurrent()}resize(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.getAttribute("width",!0),Q=this.getAttribute("height",!0),re=this.getAttribute("viewBox"),ye=this.getAttribute("style"),De=M.getNumber(0),Ge=Q.getNumber(0);if(ue)if(typeof ue=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ue);else{var it=this.getAttribute("preserveAspectRatio");it.hasValue()&&it.setValue(it.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(M.setValue(H),Q.setValue(oe),re.hasValue()||re.setValue("0 0 ".concat(De||H," ").concat(Ge||oe)),ye.hasValue()){var I=this.getStyle("width"),B=this.getStyle("height");I.hasValue()&&I.setValue("".concat(H,"px")),B.hasValue()&&B.setValue("".concat(oe,"px"))}}}class Ot extends Lr{constructor(){super(...arguments),this.type="rect"}path(H){var oe=this.getAttribute("x").getPixels("x"),ue=this.getAttribute("y").getPixels("y"),M=this.getStyle("width",!1,!0).getPixels("x"),Q=this.getStyle("height",!1,!0).getPixels("y"),re=this.getAttribute("rx"),ye=this.getAttribute("ry"),De=re.getPixels("x"),Ge=ye.getPixels("y");if(re.hasValue()&&!ye.hasValue()&&(Ge=De),ye.hasValue()&&!re.hasValue()&&(De=Ge),De=Math.min(De,M/2),Ge=Math.min(Ge,Q/2),H){var it=4*((Math.sqrt(2)-1)/3);H.beginPath(),Q>0&&M>0&&(H.moveTo(oe+De,ue),H.lineTo(oe+M-De,ue),H.bezierCurveTo(oe+M-De+it*De,ue,oe+M,ue+Ge-it*Ge,oe+M,ue+Ge),H.lineTo(oe+M,ue+Q-Ge),H.bezierCurveTo(oe+M,ue+Q-Ge+it*Ge,oe+M-De+it*De,ue+Q,oe+M-De,ue+Q),H.lineTo(oe+De,ue+Q),H.bezierCurveTo(oe+De-it*De,ue+Q,oe,ue+Q-Ge+it*Ge,oe,ue+Q-Ge),H.lineTo(oe,ue+Ge),H.bezierCurveTo(oe,ue+Ge-it*Ge,oe+De-it*De,ue,oe+De,ue),H.closePath())}return new hn(oe,ue,oe+M,ue+Q)}getMarkers(){return null}}class $r extends Lr{constructor(){super(...arguments),this.type="circle"}path(H){var oe=this.getAttribute("cx").getPixels("x"),ue=this.getAttribute("cy").getPixels("y"),M=this.getAttribute("r").getPixels();return H&&M>0&&(H.beginPath(),H.arc(oe,ue,M,0,Math.PI*2,!1),H.closePath()),new hn(oe-M,ue-M,oe+M,ue+M)}getMarkers(){return null}}class un extends Lr{constructor(){super(...arguments),this.type="ellipse"}path(H){var oe=4*((Math.sqrt(2)-1)/3),ue=this.getAttribute("rx").getPixels("x"),M=this.getAttribute("ry").getPixels("y"),Q=this.getAttribute("cx").getPixels("x"),re=this.getAttribute("cy").getPixels("y");return H&&ue>0&&M>0&&(H.beginPath(),H.moveTo(Q+ue,re),H.bezierCurveTo(Q+ue,re+oe*M,Q+oe*ue,re+M,Q,re+M),H.bezierCurveTo(Q-oe*ue,re+M,Q-ue,re+oe*M,Q-ue,re),H.bezierCurveTo(Q-ue,re-oe*M,Q-oe*ue,re-M,Q,re-M),H.bezierCurveTo(Q+oe*ue,re-M,Q+ue,re-oe*M,Q+ue,re),H.closePath()),new hn(Q-ue,re-M,Q+ue,re+M)}getMarkers(){return null}}class tn extends Lr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Pe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Pe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(H){var[{x:oe,y:ue},{x:M,y:Q}]=this.getPoints();return H&&(H.beginPath(),H.moveTo(oe,ue),H.lineTo(M,Q)),new hn(oe,ue,M,Q)}getMarkers(){var[H,oe]=this.getPoints(),ue=H.angleTo(oe);return[[H,ue],[oe,ue]]}}class lr extends Lr{constructor(H,oe,ue){super(H,oe,ue),this.type="polyline",this.points=[],this.points=Pe.parsePath(this.getAttribute("points").getString())}path(H){var{points:oe}=this,[{x:ue,y:M}]=oe,Q=new hn(ue,M);return H&&(H.beginPath(),H.moveTo(ue,M)),oe.forEach(re=>{var{x:ye,y:De}=re;Q.addPoint(ye,De),H&&H.lineTo(ye,De)}),Q}getMarkers(){var{points:H}=this,oe=H.length-1,ue=[];return H.forEach((M,Q)=>{Q!==oe&&ue.push([M,M.angleTo(H[Q+1])])}),ue.length>0&&ue.push([H[H.length-1],ue[ue.length-1][1]]),ue}}class ma extends lr{constructor(){super(...arguments),this.type="polygon"}path(H){var oe=super.path(H),[{x:ue,y:M}]=this.points;return H&&(H.lineTo(ue,M),H.closePath()),oe}}class xi extends Jr{constructor(){super(...arguments),this.type="pattern"}createPattern(H,oe,ue){var M=this.getStyle("width").getPixels("x",!0),Q=this.getStyle("height").getPixels("y",!0),re=new la(this.document,null);re.attributes.viewBox=new J(this.document,"viewBox",this.getAttribute("viewBox").getValue()),re.attributes.width=new J(this.document,"width","".concat(M,"px")),re.attributes.height=new J(this.document,"height","".concat(Q,"px")),re.attributes.transform=new J(this.document,"transform",this.getAttribute("patternTransform").getValue()),re.children=this.children;var ye=this.document.createCanvas(M,Q),De=ye.getContext("2d"),Ge=this.getAttribute("x"),it=this.getAttribute("y");Ge.hasValue()&&it.hasValue()&&De.translate(Ge.getPixels("x",!0),it.getPixels("y",!0)),ue.hasValue()?this.styles["fill-opacity"]=ue:Reflect.deleteProperty(this.styles,"fill-opacity");for(var I=-1;I<=1;I++)for(var B=-1;B<=1;B++)De.save(),re.attributes.x=new J(this.document,"x",I*ye.width),re.attributes.y=new J(this.document,"y",B*ye.height),re.render(De),De.restore();var D=H.createPattern(ye,"repeat");return D}}class Cn extends Jr{constructor(){super(...arguments),this.type="marker"}render(H,oe,ue){if(oe){var{x:M,y:Q}=oe,re=this.getAttribute("orient").getString("auto"),ye=this.getAttribute("markerUnits").getString("strokeWidth");H.translate(M,Q),re==="auto"&&H.rotate(ue),ye==="strokeWidth"&&H.scale(H.lineWidth,H.lineWidth),H.save();var De=new la(this.document,null);De.type=this.type,De.attributes.viewBox=new J(this.document,"viewBox",this.getAttribute("viewBox").getValue()),De.attributes.refX=new J(this.document,"refX",this.getAttribute("refX").getValue()),De.attributes.refY=new J(this.document,"refY",this.getAttribute("refY").getValue()),De.attributes.width=new J(this.document,"width",this.getAttribute("markerWidth").getValue()),De.attributes.height=new J(this.document,"height",this.getAttribute("markerHeight").getValue()),De.attributes.overflow=new J(this.document,"overflow",this.getAttribute("overflow").getValue()),De.attributes.fill=new J(this.document,"fill",this.getAttribute("fill").getColor("black")),De.attributes.stroke=new J(this.document,"stroke",this.getAttribute("stroke").getValue("none")),De.children=this.children,De.render(H),H.restore(),ye==="strokeWidth"&&H.scale(1/H.lineWidth,1/H.lineWidth),re==="auto"&&H.rotate(-ue),H.translate(-M,-Q)}}}class Es extends Jr{constructor(){super(...arguments),this.type="defs"}render(){}}class Ni extends Wn{constructor(){super(...arguments),this.type="g"}getBoundingBox(H){var oe=new hn;return this.children.forEach(ue=>{oe.addBoundingBox(ue.getBoundingBox(H))}),oe}}class yi extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:M,children:Q}=this;Q.forEach(re=>{re.type==="stop"&&M.push(re)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(H,oe,ue){var M=this;this.getHrefAttribute().hasValue()&&(M=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(M));var{stops:Q}=M,re=this.getGradient(H,oe);if(!re)return this.addParentOpacity(ue,Q[Q.length-1].color);if(Q.forEach(ne=>{re.addColorStop(ne.offset,this.addParentOpacity(ue,ne.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ye}=this,{MAX_VIRTUAL_PIXELS:De,viewPort:Ge}=ye.screen,[it]=Ge.viewPorts,I=new Ot(ye,null);I.attributes.x=new J(ye,"x",-De/3),I.attributes.y=new J(ye,"y",-De/3),I.attributes.width=new J(ye,"width",De),I.attributes.height=new J(ye,"height",De);var B=new Ni(ye,null);B.attributes.transform=new J(ye,"transform",this.getAttribute("gradientTransform").getValue()),B.children=[I];var D=new la(ye,null);D.attributes.x=new J(ye,"x",0),D.attributes.y=new J(ye,"y",0),D.attributes.width=new J(ye,"width",it.width),D.attributes.height=new J(ye,"height",it.height),D.children=[B];var V=ye.createCanvas(it.width,it.height),Z=V.getContext("2d");return Z.fillStyle=re,D.render(Z),Z.createPattern(V,"no-repeat")}return re}inheritStopContainer(H){this.attributesToInherit.forEach(oe=>{!this.getAttribute(oe).hasValue()&&H.getAttribute(oe).hasValue()&&this.getAttribute(oe,!0).setValue(H.getAttribute(oe).getValue())})}addParentOpacity(H,oe){if(H.hasValue()){var ue=new J(this.document,"color",oe);return ue.addOpacity(H).getColor()}return oe}}class Qi extends yi{constructor(H,oe,ue){super(H,oe,ue),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(H,oe){var ue=this.getGradientUnits()==="objectBoundingBox",M=ue?oe.getBoundingBox(H):null;if(ue&&!M)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var Q=ue?M.x+M.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),re=ue?M.y+M.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ye=ue?M.x+M.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),De=ue?M.y+M.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return Q===ye&&re===De?null:H.createLinearGradient(Q,re,ye,De)}}class Ii extends yi{constructor(H,oe,ue){super(H,oe,ue),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(H,oe){var ue=this.getGradientUnits()==="objectBoundingBox",M=oe.getBoundingBox(H);if(ue&&!M)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var Q=ue?M.x+M.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),re=ue?M.y+M.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ye=Q,De=re;this.getAttribute("fx").hasValue()&&(ye=ue?M.x+M.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(De=ue?M.y+M.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ge=ue?(M.width+M.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),it=this.getAttribute("fr").getPixels();return H.createRadialGradient(ye,De,it,Q,re,Ge)}}class Ps extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="stop";var M=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),Q=this.getStyle("stop-opacity"),re=this.getStyle("stop-color",!0);re.getString()===""&&re.setValue("#000"),Q.hasValue()&&(re=re.addOpacity(Q)),this.offset=M,this.color=re.getColor()}}class Ka extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,H.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new J(H,"values",null);var M=this.getAttribute("values");M.hasValue()&&this.values.setValue(M.getString().split(";"))}getProperty(){var H=this.getAttribute("attributeType").getString(),oe=this.getAttribute("attributeName").getString();return H==="CSS"?this.parent.getStyle(oe,!0):this.parent.getAttribute(oe,!0)}calcValue(){var{initialUnits:H}=this,{progress:oe,from:ue,to:M}=this.getProgress(),Q=ue.getNumber()+(M.getNumber()-ue.getNumber())*oe;return H==="%"&&(Q*=100),"".concat(Q).concat(H)}update(H){var{parent:oe}=this,ue=this.getProperty();if(this.initialValue||(this.initialValue=ue.getString(),this.initialUnits=ue.getUnits()),this.duration>this.maxDuration){var M=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(M==="freeze"&&!this.frozen)this.frozen=!0,oe.animationFrozen=!0,oe.animationFrozenValue=ue.getString();else if(M==="remove"&&!this.removed)return this.removed=!0,ue.setValue(oe.animationFrozen?oe.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=H;var Q=!1;if(this.begin<this.duration){var re=this.calcValue(),ye=this.getAttribute("type");if(ye.hasValue()){var De=ye.getString();re="".concat(De,"(").concat(re,")")}ue.setValue(re),Q=!0}return Q}getProgress(){var{document:H,values:oe}=this,ue={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(oe.hasValue()){var M=ue.progress*(oe.getValue().length-1),Q=Math.floor(M),re=Math.ceil(M);ue.from=new J(H,"from",parseFloat(oe.getValue()[Q])),ue.to=new J(H,"to",parseFloat(oe.getValue()[re])),ue.progress=(M-Q)/(re-Q)}else ue.from=this.from,ue.to=this.to;return ue}}class gs extends Ka{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:H,from:oe,to:ue}=this.getProgress(),M=new f(oe.getColor()),Q=new f(ue.getColor());if(M.ok&&Q.ok){var re=M.r+(Q.r-M.r)*H,ye=M.g+(Q.g-M.g)*H,De=M.b+(Q.b-M.b)*H;return"rgb(".concat(Math.floor(re),", ").concat(Math.floor(ye),", ").concat(Math.floor(De),")")}return this.getAttribute("from").getColor()}}class Va extends Ka{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:H,from:oe,to:ue}=this.getProgress(),M=C(oe.getString()),Q=C(ue.getString()),re=M.map((ye,De)=>{var Ge=Q[De];return ye+(Ge-ye)*H}).join(" ");return re}}class Cc extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:M}=H,{children:Q}=this;for(var re of Q)switch(re.type){case"font-face":{this.fontFace=re;var ye=re.getStyle("font-family");ye.hasValue()&&(M[ye.getString()]=this);break}case"missing-glyph":this.missingGlyph=re;break;case"glyph":{var De=re;De.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[De.unicode]>"u"&&(this.glyphs[De.unicode]=Object.create(null)),this.glyphs[De.unicode][De.arabicForm]=De):this.glyphs[De.unicode]=De;break}}}render(){}}class vs extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Bl extends Lr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Nc extends wn{constructor(){super(...arguments),this.type="tref"}getText(){var H=this.getHrefAttribute().getDefinition();if(H){var oe=H.children[0];if(oe)return oe.getText()}return""}}class El extends wn{constructor(H,oe,ue){super(H,oe,ue),this.type="a";var{childNodes:M}=oe,Q=M[0],re=M.length>0&&Array.from(M).every(ye=>ye.nodeType===3);this.hasText=re,this.text=re?this.getTextFromNode(Q):""}getText(){return this.text}renderChildren(H){if(this.hasText){super.renderChildren(H);var{document:oe,x:ue,y:M}=this,{mouse:Q}=oe.screen,re=new J(oe,"fontSize",Kr.parse(oe.ctx.font).fontSize);Q.isWorking()&&Q.checkBoundingBox(this,new hn(ue,M-re.getPixels("y"),ue+this.measureText(H),M))}else if(this.children.length>0){var ye=new Ni(this.document,null);ye.children=this.children,ye.parent=this,ye.render(H)}}onClick(){var{window:H}=this.document;H&&H.open(this.getHrefAttribute().getString())}onMouseMove(){var H=this.document.ctx;H.canvas.style.cursor="pointer"}}function Wi(Ut,H){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);H&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),oe.push.apply(oe,ue)}return oe}function xo(Ut){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?Wi(Object(oe),!0).forEach(function(ue){(0,d.default)(Ut,ue,oe[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):Wi(Object(oe)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(oe,ue))})}return Ut}class ha extends wn{constructor(H,oe,ue){super(H,oe,ue),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var M=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(M)}getText(){return this.text}path(H){var{dataArray:oe}=this;H&&H.beginPath(),oe.forEach(ue=>{var{type:M,points:Q}=ue;switch(M){case Wr.LINE_TO:H&&H.lineTo(Q[0],Q[1]);break;case Wr.MOVE_TO:H&&H.moveTo(Q[0],Q[1]);break;case Wr.CURVE_TO:H&&H.bezierCurveTo(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);break;case Wr.QUAD_TO:H&&H.quadraticCurveTo(Q[0],Q[1],Q[2],Q[3]);break;case Wr.ARC:{var[re,ye,De,Ge,it,I,B,D]=Q,V=De>Ge?De:Ge,Z=De>Ge?1:De/Ge,ne=De>Ge?Ge/De:1;H&&(H.translate(re,ye),H.rotate(B),H.scale(Z,ne),H.arc(0,0,V,it,it+I,!!(1-D)),H.scale(1/Z,1/ne),H.rotate(-B),H.translate(-re,-ye));break}case Wr.CLOSE_PATH:H&&H.closePath();break}})}renderChildren(H){this.setTextData(H),H.save();var oe=this.parent.getStyle("text-decoration").getString(),ue=this.getFontSize(),{glyphInfo:M}=this,Q=H.fillStyle;oe==="underline"&&H.beginPath(),M.forEach((re,ye)=>{var{p0:De,p1:Ge,rotation:it,text:I}=re;H.save(),H.translate(De.x,De.y),H.rotate(it),H.fillStyle&&H.fillText(I,0,0),H.strokeStyle&&H.strokeText(I,0,0),H.restore(),oe==="underline"&&(ye===0&&H.moveTo(De.x,De.y+ue/8),H.lineTo(Ge.x,Ge.y+ue/5))}),oe==="underline"&&(H.lineWidth=ue/20,H.strokeStyle=Q,H.stroke(),H.closePath()),H.restore()}getLetterSpacingAt(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[H]||0}findSegmentToFitChar(H,oe,ue,M,Q,re,ye,De,Ge){var it=re,I=this.measureText(H,De);De===" "&&oe==="justify"&&ue<M&&(I+=(M-ue)/Q),Ge>-1&&(it+=this.getLetterSpacingAt(Ge));var B=this.textHeight/20,D=this.getEquidistantPointOnPath(it,B,0),V=this.getEquidistantPointOnPath(it+I,B,0),Z={p0:D,p1:V},ne=D&&V?Math.atan2(V.y-D.y,V.x-D.x):0;if(ye){var Se=Math.cos(Math.PI/2+ne)*ye,fe=Math.cos(-ne)*ye;Z.p0=xo(xo({},D),{},{x:D.x+Se,y:D.y+fe}),Z.p1=xo(xo({},V),{},{x:V.x+Se,y:V.y+fe})}return it+=I,{offset:it,segment:Z,rotation:ne}}measureText(H,oe){var{measuresCache:ue}=this,M=oe||this.getText();if(ue.has(M))return ue.get(M);var Q=this.measureTargetText(H,M);return ue.set(M,Q),Q}setTextData(H){if(!this.glyphInfo){var oe=this.getText(),ue=oe.split(""),M=oe.split(" ").length-1,Q=this.parent.getAttribute("dx").split().map(Re=>Re.getPixels("x")),re=this.parent.getAttribute("dy").getPixels("y"),ye=this.parent.getStyle("text-anchor").getString("start"),De=this.getStyle("letter-spacing"),Ge=this.parent.getStyle("letter-spacing"),it=0;!De.hasValue()||De.getValue()==="inherit"?it=Ge.getPixels():De.hasValue()&&De.getValue()!=="initial"&&De.getValue()!=="unset"&&(it=De.getPixels());var I=[],B=oe.length;this.letterSpacingCache=I;for(var D=0;D<B;D++)I.push(typeof Q[D]<"u"?Q[D]:it);var V=I.reduce((Re,Ve,et)=>et===0?0:Re+Ve||0,0),Z=this.measureText(H),ne=Math.max(Z+V,0);this.textWidth=Z,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Se=this.getPathLength(),fe=this.getStyle("startOffset").getNumber(0)*Se,ge=0;(ye==="middle"||ye==="center")&&(ge=-ne/2),(ye==="end"||ye==="right")&&(ge=-ne),ge+=fe,ue.forEach((Re,Ve)=>{var{offset:et,segment:st,rotation:Fe}=this.findSegmentToFitChar(H,ye,ne,Se,M,ge,re,Re,Ve);ge=et,!(!st.p0||!st.p1)&&this.glyphInfo.push({text:ue[Ve],p0:st.p0,p1:st.p1,rotation:Fe})})}}parsePathData(H){if(this.pathLength=-1,!H)return[];var oe=[],{pathParser:ue}=H;for(ue.reset();!ue.isEnd();){var{current:M}=ue,Q=M?M.x:0,re=M?M.y:0,ye=ue.next(),De=ye.type,Ge=[];switch(ye.type){case Wr.MOVE_TO:this.pathM(ue,Ge);break;case Wr.LINE_TO:De=this.pathL(ue,Ge);break;case Wr.HORIZ_LINE_TO:De=this.pathH(ue,Ge);break;case Wr.VERT_LINE_TO:De=this.pathV(ue,Ge);break;case Wr.CURVE_TO:this.pathC(ue,Ge);break;case Wr.SMOOTH_CURVE_TO:De=this.pathS(ue,Ge);break;case Wr.QUAD_TO:this.pathQ(ue,Ge);break;case Wr.SMOOTH_QUAD_TO:De=this.pathT(ue,Ge);break;case Wr.ARC:Ge=this.pathA(ue);break;case Wr.CLOSE_PATH:Lr.pathZ(ue);break}ye.type!==Wr.CLOSE_PATH?oe.push({type:De,points:Ge,start:{x:Q,y:re},pathLength:this.calcLength(Q,re,De,Ge)}):oe.push({type:Wr.CLOSE_PATH,points:[],pathLength:0})}return oe}pathM(H,oe){var{x:ue,y:M}=Lr.pathM(H).point;oe.push(ue,M)}pathL(H,oe){var{x:ue,y:M}=Lr.pathL(H).point;return oe.push(ue,M),Wr.LINE_TO}pathH(H,oe){var{x:ue,y:M}=Lr.pathH(H).point;return oe.push(ue,M),Wr.LINE_TO}pathV(H,oe){var{x:ue,y:M}=Lr.pathV(H).point;return oe.push(ue,M),Wr.LINE_TO}pathC(H,oe){var{point:ue,controlPoint:M,currentPoint:Q}=Lr.pathC(H);oe.push(ue.x,ue.y,M.x,M.y,Q.x,Q.y)}pathS(H,oe){var{point:ue,controlPoint:M,currentPoint:Q}=Lr.pathS(H);return oe.push(ue.x,ue.y,M.x,M.y,Q.x,Q.y),Wr.CURVE_TO}pathQ(H,oe){var{controlPoint:ue,currentPoint:M}=Lr.pathQ(H);oe.push(ue.x,ue.y,M.x,M.y)}pathT(H,oe){var{controlPoint:ue,currentPoint:M}=Lr.pathT(H);return oe.push(ue.x,ue.y,M.x,M.y),Wr.QUAD_TO}pathA(H){var{rX:oe,rY:ue,sweepFlag:M,xAxisRotation:Q,centp:re,a1:ye,ad:De}=Lr.pathA(H);return M===0&&De>0&&(De-=2*Math.PI),M===1&&De<0&&(De+=2*Math.PI),[re.x,re.y,oe,ue,ye,De,Q,M]}calcLength(H,oe,ue,M){var Q=0,re=null,ye=null,De=0;switch(ue){case Wr.LINE_TO:return this.getLineLength(H,oe,M[0],M[1]);case Wr.CURVE_TO:for(Q=0,re=this.getPointOnCubicBezier(0,H,oe,M[0],M[1],M[2],M[3],M[4],M[5]),De=.01;De<=1;De+=.01)ye=this.getPointOnCubicBezier(De,H,oe,M[0],M[1],M[2],M[3],M[4],M[5]),Q+=this.getLineLength(re.x,re.y,ye.x,ye.y),re=ye;return Q;case Wr.QUAD_TO:for(Q=0,re=this.getPointOnQuadraticBezier(0,H,oe,M[0],M[1],M[2],M[3]),De=.01;De<=1;De+=.01)ye=this.getPointOnQuadraticBezier(De,H,oe,M[0],M[1],M[2],M[3]),Q+=this.getLineLength(re.x,re.y,ye.x,ye.y),re=ye;return Q;case Wr.ARC:{Q=0;var Ge=M[4],it=M[5],I=M[4]+it,B=Math.PI/180;if(Math.abs(Ge-I)<B&&(B=Math.abs(Ge-I)),re=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],Ge,0),it<0)for(De=Ge-B;De>I;De-=B)ye=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],De,0),Q+=this.getLineLength(re.x,re.y,ye.x,ye.y),re=ye;else for(De=Ge+B;De<I;De+=B)ye=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],De,0),Q+=this.getLineLength(re.x,re.y,ye.x,ye.y),re=ye;return ye=this.getPointOnEllipticalArc(M[0],M[1],M[2],M[3],I,0),Q+=this.getLineLength(re.x,re.y,ye.x,ye.y),Q}}return 0}getPointOnLine(H,oe,ue,M,Q){var re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:oe,ye=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ue,De=(Q-ue)/(M-oe+be),Ge=Math.sqrt(H*H/(1+De*De));M<oe&&(Ge*=-1);var it=De*Ge,I=null;if(M===oe)I={x:re,y:ye+it};else if((ye-ue)/(re-oe+be)===De)I={x:re+Ge,y:ye+it};else{var B=0,D=0,V=this.getLineLength(oe,ue,M,Q);if(V<be)return null;var Z=(re-oe)*(M-oe)+(ye-ue)*(Q-ue);Z/=V*V,B=oe+Z*(M-oe),D=ue+Z*(Q-ue);var ne=this.getLineLength(re,ye,B,D),Se=Math.sqrt(H*H-ne*ne);Ge=Math.sqrt(Se*Se/(1+De*De)),M<oe&&(Ge*=-1),it=De*Ge,I={x:B+Ge,y:D+it}}return I}getPointOnPath(H){var oe=this.getPathLength(),ue=0,M=null;if(H<-5e-5||H-5e-5>oe)return null;var{dataArray:Q}=this;for(var re of Q){if(re&&(re.pathLength<5e-5||ue+re.pathLength+5e-5<H)){ue+=re.pathLength;continue}var ye=H-ue,De=0;switch(re.type){case Wr.LINE_TO:M=this.getPointOnLine(ye,re.start.x,re.start.y,re.points[0],re.points[1],re.start.x,re.start.y);break;case Wr.ARC:{var Ge=re.points[4],it=re.points[5],I=re.points[4]+it;if(De=Ge+ye/re.pathLength*it,it<0&&De<I||it>=0&&De>I)break;M=this.getPointOnEllipticalArc(re.points[0],re.points[1],re.points[2],re.points[3],De,re.points[6]);break}case Wr.CURVE_TO:De=ye/re.pathLength,De>1&&(De=1),M=this.getPointOnCubicBezier(De,re.start.x,re.start.y,re.points[0],re.points[1],re.points[2],re.points[3],re.points[4],re.points[5]);break;case Wr.QUAD_TO:De=ye/re.pathLength,De>1&&(De=1),M=this.getPointOnQuadraticBezier(De,re.start.x,re.start.y,re.points[0],re.points[1],re.points[2],re.points[3]);break}if(M)return M;break}return null}getLineLength(H,oe,ue,M){return Math.sqrt((ue-H)*(ue-H)+(M-oe)*(M-oe))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((H,oe)=>oe.pathLength>0?H+oe.pathLength:H,0)),this.pathLength}getPointOnCubicBezier(H,oe,ue,M,Q,re,ye,De,Ge){var it=De*ce(H)+re*ae(H)+M*Ce(H)+oe*Ee(H),I=Ge*ce(H)+ye*ae(H)+Q*Ce(H)+ue*Ee(H);return{x:it,y:I}}getPointOnQuadraticBezier(H,oe,ue,M,Q,re,ye){var De=re*we(H)+M*me(H)+oe*se(H),Ge=ye*we(H)+Q*me(H)+ue*se(H);return{x:De,y:Ge}}getPointOnEllipticalArc(H,oe,ue,M,Q,re){var ye=Math.cos(re),De=Math.sin(re),Ge={x:ue*Math.cos(Q),y:M*Math.sin(Q)};return{x:H+(Ge.x*ye-Ge.y*De),y:oe+(Ge.x*De+Ge.y*ye)}}buildEquidistantCache(H,oe){var ue=this.getPathLength(),M=oe||.25,Q=H||ue/100;if(!this.equidistantCache||this.equidistantCache.step!==Q||this.equidistantCache.precision!==M){this.equidistantCache={step:Q,precision:M,points:[]};for(var re=0,ye=0;ye<=ue;ye+=M){var De=this.getPointOnPath(ye),Ge=this.getPointOnPath(ye+M);!De||!Ge||(re+=this.getLineLength(De.x,De.y,Ge.x,Ge.y),re>=Q&&(this.equidistantCache.points.push({x:De.x,y:De.y,distance:ye}),re-=Q))}}}getEquidistantPointOnPath(H,oe,ue){if(this.buildEquidistantCache(oe,ue),H<0||H-this.getPathLength()>5e-5)return null;var M=Math.round(H/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[M]||null}}var Jl=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ai extends Wn{constructor(H,oe,ue){super(H,oe,ue),this.type="image",this.loaded=!1;var M=this.getHrefAttribute().getString();if(M){var Q=M.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(M);H.images.push(this),Q?this.loadSvg(M):this.loadImage(M),this.isSvg=Q}}loadImage(H){var oe=this;return(0,h.default)(function*(){try{var ue=yield oe.document.createImage(H);oe.image=ue}catch(M){console.error('Error while loading image "'.concat(H,'":'),M)}oe.loaded=!0})()}loadSvg(H){var oe=this;return(0,h.default)(function*(){var ue=Jl.exec(H);if(ue){var M=ue[5];ue[4]==="base64"?oe.image=atob(M):oe.image=decodeURIComponent(M)}else try{var Q=yield oe.document.fetch(H),re=yield Q.text();oe.image=re}catch(ye){console.error('Error while loading image "'.concat(H,'":'),ye)}oe.loaded=!0})()}renderChildren(H){var{document:oe,image:ue,loaded:M}=this,Q=this.getAttribute("x").getPixels("x"),re=this.getAttribute("y").getPixels("y"),ye=this.getStyle("width").getPixels("x"),De=this.getStyle("height").getPixels("y");if(!(!M||!ue||!ye||!De)){if(H.save(),H.translate(Q,re),this.isSvg){var Ge=oe.canvg.forkString(H,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ye,scaleHeight:De});Ge.document.documentElement.parent=this,Ge.render()}else{var it=this.image;oe.setViewBox({ctx:H,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ye,desiredWidth:it.width,height:De,desiredHeight:it.height}),this.loaded&&(typeof it.complete>"u"||it.complete)&&H.drawImage(it,0,0)}H.restore()}}getBoundingBox(){var H=this.getAttribute("x").getPixels("x"),oe=this.getAttribute("y").getPixels("y"),ue=this.getStyle("width").getPixels("x"),M=this.getStyle("height").getPixels("y");return new hn(H,oe,H+ue,oe+M)}}class Io extends Wn{constructor(){super(...arguments),this.type="symbol"}render(H){}}class Xs{constructor(H){this.document=H,this.loaded=!1,H.fonts.push(this)}load(H,oe){var ue=this;return(0,h.default)(function*(){try{var{document:M}=ue,Q=yield M.canvg.parser.load(oe),re=Q.getElementsByTagName("font");Array.from(re).forEach(ye=>{var De=M.createElement(ye);M.definitions[H]=De})}catch(ye){console.error('Error while loading font "'.concat(oe,'":'),ye)}ue.loaded=!0})()}}class To extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="style";var M=w(Array.from(oe.childNodes).map(re=>re.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),Q=M.split("}");Q.forEach(re=>{var ye=re.trim();if(ye){var De=ye.split("{"),Ge=De[0].split(","),it=De[1].split(";");Ge.forEach(I=>{var B=I.trim();if(B){var D=H.styles[B]||{};if(it.forEach(ne=>{var Se=ne.indexOf(":"),fe=ne.substr(0,Se).trim(),ge=ne.substr(Se+1,ne.length-Se).trim();fe&&ge&&(D[fe]=new J(H,fe,ge))}),H.styles[B]=D,H.stylesSpecificity[B]=Oe(B),B==="@font-face"){var V=D["font-family"].getString().replace(/"|'/g,""),Z=D.src.getString().split(",");Z.forEach(ne=>{if(ne.indexOf('format("svg")')>0){var Se=q(ne);Se&&new Xs(H).load(V,Se)}})}}})}})}}To.parseExternalUrl=q;class rl extends Wn{constructor(){super(...arguments),this.type="use"}setContext(H){super.setContext(H);var oe=this.getAttribute("x"),ue=this.getAttribute("y");oe.hasValue()&&H.translate(oe.getPixels("x"),0),ue.hasValue()&&H.translate(0,ue.getPixels("y"))}path(H){var{element:oe}=this;oe&&oe.path(H)}renderChildren(H){var{document:oe,element:ue}=this;if(ue){var M=ue;if(ue.type==="symbol"&&(M=new la(oe,null),M.attributes.viewBox=new J(oe,"viewBox",ue.getAttribute("viewBox").getString()),M.attributes.preserveAspectRatio=new J(oe,"preserveAspectRatio",ue.getAttribute("preserveAspectRatio").getString()),M.attributes.overflow=new J(oe,"overflow",ue.getAttribute("overflow").getString()),M.children=ue.children,ue.styles.opacity=new J(oe,"opacity",this.calculateOpacity())),M.type==="svg"){var Q=this.getStyle("width",!1,!0),re=this.getStyle("height",!1,!0);Q.hasValue()&&(M.attributes.width=new J(oe,"width",Q.getString())),re.hasValue()&&(M.attributes.height=new J(oe,"height",re.getString()))}var ye=M.parent;M.parent=this,M.render(H),M.parent=ye}}getBoundingBox(H){var{element:oe}=this;return oe?oe.getBoundingBox(H):null}elementTransform(){var{document:H,element:oe}=this;return on.fromElement(H,oe)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function _o(Ut,H,oe,ue,M,Q){return Ut[oe*ue*4+H*4+Q]}function Ws(Ut,H,oe,ue,M,Q,re){Ut[oe*ue*4+H*4+Q]=re}function Si(Ut,H,oe){var ue=Ut[H];return ue*oe}function ii(Ut,H,oe,ue){return H+Math.cos(Ut)*oe+Math.sin(Ut)*ue}class pl extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="feColorMatrix";var M=C(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var Q=M[0];M=[.213+.787*Q,.715-.715*Q,.072-.072*Q,0,0,.213-.213*Q,.715+.285*Q,.072-.072*Q,0,0,.213-.213*Q,.715-.715*Q,.072+.928*Q,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var re=M[0]*Math.PI/180;M=[ii(re,.213,.787,-.213),ii(re,.715,-.715,-.715),ii(re,.072,-.072,.928),0,0,ii(re,.213,-.213,.143),ii(re,.715,.285,.14),ii(re,.072,-.072,-.283),0,0,ii(re,.213,-.213,-.787),ii(re,.715,-.715,.715),ii(re,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=M,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(H,oe,ue,M,Q){for(var{includeOpacity:re,matrix:ye}=this,De=H.getImageData(0,0,M,Q),Ge=0;Ge<Q;Ge++)for(var it=0;it<M;it++){var I=_o(De.data,it,Ge,M,Q,0),B=_o(De.data,it,Ge,M,Q,1),D=_o(De.data,it,Ge,M,Q,2),V=_o(De.data,it,Ge,M,Q,3),Z=Si(ye,0,I)+Si(ye,1,B)+Si(ye,2,D)+Si(ye,3,V)+Si(ye,4,1),ne=Si(ye,5,I)+Si(ye,6,B)+Si(ye,7,D)+Si(ye,8,V)+Si(ye,9,1),Se=Si(ye,10,I)+Si(ye,11,B)+Si(ye,12,D)+Si(ye,13,V)+Si(ye,14,1),fe=Si(ye,15,I)+Si(ye,16,B)+Si(ye,17,D)+Si(ye,18,V)+Si(ye,19,1);re&&(Z=0,ne=0,Se=0,fe*=V/255),Ws(De.data,it,Ge,M,Q,0,Z),Ws(De.data,it,Ge,M,Q,1,ne),Ws(De.data,it,Ge,M,Q,2,Se),Ws(De.data,it,Ge,M,Q,3,fe)}H.clearRect(0,0,M,Q),H.putImageData(De,0,0)}}class Oo extends Jr{constructor(){super(...arguments),this.type="mask"}apply(H,oe){var{document:ue}=this,M=this.getAttribute("x").getPixels("x"),Q=this.getAttribute("y").getPixels("y"),re=this.getStyle("width").getPixels("x"),ye=this.getStyle("height").getPixels("y");if(!re&&!ye){var De=new hn;this.children.forEach(V=>{De.addBoundingBox(V.getBoundingBox(H))}),M=Math.floor(De.x1),Q=Math.floor(De.y1),re=Math.floor(De.width),ye=Math.floor(De.height)}var Ge=this.removeStyles(oe,Oo.ignoreStyles),it=ue.createCanvas(M+re,Q+ye),I=it.getContext("2d");ue.screen.setDefaults(I),this.renderChildren(I),new pl(ue,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(I,0,0,M+re,Q+ye);var B=ue.createCanvas(M+re,Q+ye),D=B.getContext("2d");ue.screen.setDefaults(D),oe.render(D),D.globalCompositeOperation="destination-in",D.fillStyle=I.createPattern(it,"no-repeat"),D.fillRect(0,0,M+re,Q+ye),H.fillStyle=D.createPattern(B,"no-repeat"),H.fillRect(0,0,M+re,Q+ye),this.restoreStyles(oe,Ge)}render(H){}}Oo.ignoreStyles=["mask","transform","clip-path"];var Hc=()=>{};class cs extends Jr{constructor(){super(...arguments),this.type="clipPath"}apply(H){var{document:oe}=this,ue=Reflect.getPrototypeOf(H),{beginPath:M,closePath:Q}=H;ue&&(ue.beginPath=Hc,ue.closePath=Hc),Reflect.apply(M,H,[]),this.children.forEach(re=>{if(!(typeof re.path>"u")){var ye=typeof re.elementTransform<"u"?re.elementTransform():null;ye||(ye=on.fromElement(oe,re)),ye&&ye.apply(H),re.path(H),ue&&(ue.closePath=Q),ye&&ye.unapply(H)}}),Reflect.apply(Q,H,[]),H.clip(),ue&&(ue.beginPath=M,ue.closePath=Q)}render(H){}}class Gn extends Jr{constructor(){super(...arguments),this.type="filter"}apply(H,oe){var{document:ue,children:M}=this,Q=oe.getBoundingBox(H);if(Q){var re=0,ye=0;M.forEach(Se=>{var fe=Se.extraFilterDistance||0;re=Math.max(re,fe),ye=Math.max(ye,fe)});var De=Math.floor(Q.width),Ge=Math.floor(Q.height),it=De+2*re,I=Ge+2*ye;if(!(it<1||I<1)){var B=Math.floor(Q.x),D=Math.floor(Q.y),V=this.removeStyles(oe,Gn.ignoreStyles),Z=ue.createCanvas(it,I),ne=Z.getContext("2d");ue.screen.setDefaults(ne),ne.translate(-B+re,-D+ye),oe.render(ne),M.forEach(Se=>{typeof Se.apply=="function"&&Se.apply(ne,0,0,it,I)}),H.drawImage(Z,0,0,it,I,B-re,D-ye,it,I),this.restoreStyles(oe,V)}}}render(H){}}Gn.ignoreStyles=["filter","transform","clip-path"];class $i extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(H,oe,ue,M,Q){}}class xs extends Jr{constructor(){super(...arguments),this.type="feMorphology"}apply(H,oe,ue,M,Q){}}class ys extends Jr{constructor(){super(...arguments),this.type="feComposite"}apply(H,oe,ue,M,Q){}}class ko extends Jr{constructor(H,oe,ue){super(H,oe,ue),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(H,oe,ue,M,Q){var{document:re,blurRadius:ye}=this,De=re.window?re.window.document.body:null,Ge=H.canvas;Ge.id=re.getUniqueId(),De&&(Ge.style.display="none",De.appendChild(Ge)),(0,m.canvasRGBA)(Ge,oe,ue,M,Q,ye),De&&De.removeChild(Ge)}}class Ri extends Jr{constructor(){super(...arguments),this.type="title"}}class lo extends Jr{constructor(){super(...arguments),this.type="desc"}}var Zi={svg:la,rect:Ot,circle:$r,ellipse:un,line:tn,polyline:lr,polygon:ma,path:Lr,pattern:xi,marker:Cn,defs:Es,linearGradient:Qi,radialGradient:Ii,stop:Ps,animate:Ka,animateColor:gs,animateTransform:Va,font:Cc,"font-face":vs,"missing-glyph":Bl,glyph:Dr,text:wn,tspan:cn,tref:Nc,a:El,textPath:ha,image:ai,g:Ni,symbol:Io,style:To,use:rl,mask:Oo,clipPath:cs,filter:Gn,feDropShadow:$i,feMorphology:xs,feComposite:ys,feColorMatrix:pl,feGaussianBlur:ko,title:Ri,desc:lo};function Fi(Ut,H){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);H&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),oe.push.apply(oe,ue)}return oe}function yo(Ut){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?Fi(Object(oe),!0).forEach(function(ue){(0,d.default)(Ut,ue,oe[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):Fi(Object(oe)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(oe,ue))})}return Ut}function Po(Ut,H){var oe=document.createElement("canvas");return oe.width=Ut,oe.height=H,oe}function ga(Ut){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,h.default)(function*(Ut){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=document.createElement("img");return H&&(oe.crossOrigin="Anonymous"),new Promise((ue,M)=>{oe.onload=()=>{ue(oe)},oe.onerror=(Q,re,ye,De,Ge)=>{M(Ge)},oe.src=Ut})}),Vi.apply(this,arguments)}class bs{constructor(H){var{rootEmSize:oe=12,emSize:ue=12,createCanvas:M=bs.createCanvas,createImage:Q=bs.createImage,anonymousCrossOrigin:re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=H,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=H.screen,this.rootEmSize=oe,this.emSize=ue,this.createCanvas=M,this.createImage=this.bindCreateImage(Q,re),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(H,oe){return typeof oe=="boolean"?(ue,M)=>H(ue,typeof M=="boolean"?M:oe):H}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:H}=this;return H[H.length-1]}set emSize(H){var{emSizeStack:oe}=this;oe.push(H)}popEmSize(){var{emSizeStack:H}=this;H.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(H=>H.loaded)}isFontsLoaded(){return this.fonts.every(H=>H.loaded)}createDocumentElement(H){var oe=this.createElement(H.documentElement);return oe.root=!0,oe.addStylesFromStyleDefinition(),this.documentElement=oe,oe}createElement(H){var oe=H.nodeName.replace(/^[^:]+:/,""),ue=bs.elementTypes[oe];return typeof ue<"u"?new ue(this,H):new Gr(this,H)}createTextNode(H){return new Ln(this,H)}setViewBox(H){this.screen.setViewBox(yo({document:this},H))}}bs.createCanvas=Po,bs.createImage=ga,bs.elementTypes=Zi;function Ys(Ut,H){var oe=Object.keys(Ut);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(Ut);H&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(Ut,M).enumerable})),oe.push.apply(oe,ue)}return oe}function Fs(Ut){for(var H=1;H<arguments.length;H++){var oe=arguments[H]!=null?arguments[H]:{};H%2?Ys(Object(oe),!0).forEach(function(ue){(0,d.default)(Ut,ue,oe[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(oe)):Ys(Object(oe)).forEach(function(ue){Object.defineProperty(Ut,ue,Object.getOwnPropertyDescriptor(oe,ue))})}return Ut}class Fo{constructor(H,oe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Ft(ue),this.screen=new ke(H,ue),this.options=ue;var M=new bs(this,ue),Q=M.createDocumentElement(oe);this.document=M,this.documentElement=Q}static from(H,oe){var ue=arguments;return(0,h.default)(function*(){var M=ue.length>2&&ue[2]!==void 0?ue[2]:{},Q=new Ft(M),re=yield Q.parse(oe);return new Fo(H,re,M)})()}static fromString(H,oe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=new Ft(ue),Q=M.parseFromString(oe);return new Fo(H,Q,ue)}fork(H,oe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Fo.from(H,oe,Fs(Fs({},this.options),ue))}forkString(H,oe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Fo.fromString(H,oe,Fs(Fs({},this.options),ue))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var H=arguments,oe=this;return(0,h.default)(function*(){var ue=H.length>0&&H[0]!==void 0?H[0]:{};oe.start(Fs({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ue)),yield oe.ready(),oe.stop()})()}start(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:oe,screen:ue,options:M}=this;ue.start(oe,Fs(Fs({enableRedraw:!0},M),H))}stop(){this.screen.stop()}resize(H){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(H,oe,ue)}}}),"./node_modules/core-js/internals/a-callable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-constructor.js"),d=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-possible-prototype.js"),d=String,A=TypeError;l.exports=function(f){if(h(f))return f;throw new A("Can't set "+d(f)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js").has;l.exports=function(d){return h(d),d}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/object-define-property.js").f,f=h("unscopables"),g=Array.prototype;g[f]===void 0&&A(g,f,{configurable:!0,value:d(null)}),l.exports=function(m){g[f][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt;l.exports=function(d,A,f){return A+(f?h(d,A).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-is-prototype-of.js"),d=TypeError;l.exports=function(A,f){if(h(f,A))return A;throw new d("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=String,A=TypeError;l.exports=function(f){if(h(f))return f;throw new A(d(f)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=h(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-iteration.js").forEach,d=o("./node_modules/core-js/internals/array-method-is-strict.js"),A=d("forEach");l.exports=A?[].forEach:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),w=o("./node_modules/core-js/internals/get-iterator-method.js"),N=Array;l.exports=function(C){var k=A(C),W=m(this),q=arguments.length,te=q>1?arguments[1]:void 0,K=te!==void 0;K&&(te=h(te,q>2?arguments[2]:void 0));var X=w(k),O=0,le,z,R,ie,Ae,Oe;if(X&&!(this===N&&g(X)))for(z=W?new this:[],ie=b(k,X),Ae=ie.next;!(R=d(Ae,ie)).done;O++)Oe=K?f(ie,te,[R.value,O],!0):R.value,y(z,O,Oe);else for(le=x(k),z=W?new this(le):N(le);le>O;O++)Oe=K?te(k[O],O):k[O],y(z,O,Oe);return z.length=O,z}}),"./node_modules/core-js/internals/array-includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/to-absolute-index.js"),A=o("./node_modules/core-js/internals/length-of-array-like.js"),f=function(g){return function(m,x,y){var b=h(m),w=A(b);if(w===0)return!g&&-1;var N=d(y,w),S;if(g&&x!==x){for(;w>N;)if(S=b[N++],S!==S)return!0}else for(;w>N;N++)if((g||N in b)&&b[N]===x)return g||N||0;return!g&&-1}};l.exports={includes:f(!0),indexOf:f(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/length-of-array-like.js"),m=o("./node_modules/core-js/internals/array-species-create.js"),x=d([].push),y=function(b){var w=b===1,N=b===2,S=b===3,C=b===4,k=b===6,W=b===7,q=b===5||k;return function(te,K,X,O){for(var le=f(te),z=A(le),R=g(z),ie=h(K,X),Ae=0,Oe=O||m,be=w?Oe(te,R):N||W?Oe(te,0):void 0,Te,Y;R>Ae;Ae++)if((q||Ae in z)&&(Te=z[Ae],Y=ie(Te,Ae,le),b))if(w)be[Ae]=Y;else if(Y)switch(b){case 3:return!0;case 5:return Te;case 6:return Ae;case 2:x(be,Te)}else switch(b){case 4:return!1;case 7:x(be,Te)}return k?-1:S||C?C:be}};l.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/environment-v8-version.js"),f=d("species");l.exports=function(g){return A>=51||!h(function(){var m=[],x=m.constructor={};return x[f]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d,A){var f=[][d];return!!f&&h(function(){f.call(null,A||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(b,w,N,S){var C=d(b),k=A(C),W=f(C);if(h(w),W===0&&N<2)throw new g(m);var q=y?W-1:0,te=y?-1:1;if(N<2)for(;;){if(q in k){S=k[q],q+=te;break}if(q+=te,y?q<0:W<=q)throw new g(m)}for(;y?q>=0:W>q;q+=te)q in k&&(S=w(S,k[q],q,C));return S}};l.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-array.js"),d=o("./node_modules/core-js/internals/is-constructor.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species"),m=Array;l.exports=function(x){var y;return h(x)&&(y=x.constructor,d(y)&&(y===m||h(y.prototype))?y=void 0:A(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(d,A){return new(h(d))(A===0?0:A)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(A,f,g,m){try{return m?f(h(g)[0],g[1]):f(g)}catch(x){d(A,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("iterator"),A=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){A=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}l.exports=function(m,x){try{if(!x&&!A)return!1}catch{return!1}var y=!1;try{var b={};b[d]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=h({}.toString),A=h("".slice);l.exports=function(f){return A(d(f),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("toStringTag"),m=Object,x=A((function(){return arguments})())==="Arguments",y=function(b,w){try{return b[w]}catch{}};l.exports=h?A:function(b){var w,N,S;return b===void 0?"Undefined":b===null?"Null":typeof(N=y(w=m(b),g))=="string"?N:x?A(w):(S=A(w))==="Object"&&d(w.callee)?"Arguments":S}}),"./node_modules/core-js/internals/collection-strong.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-create.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/define-built-ins.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/an-instance.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/descriptors.js"),S=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,C=o("./node_modules/core-js/internals/internal-state.js"),k=C.set,W=C.getterFor;l.exports={getConstructor:function(q,te,K,X){var O=q(function(Ae,Oe){g(Ae,le),k(Ae,{type:te,index:h(null),first:null,last:null,size:0}),N||(Ae.size=0),m(Oe)||x(Oe,Ae[X],{that:Ae,AS_ENTRIES:K})}),le=O.prototype,z=W(te),R=function(Ae,Oe,be){var Te=z(Ae),Y=ie(Ae,Oe),Ne,ce;return Y?Y.value=be:(Te.last=Y={index:ce=S(Oe,!0),key:Oe,value:be,previous:Ne=Te.last,next:null,removed:!1},Te.first||(Te.first=Y),Ne&&(Ne.next=Y),N?Te.size++:Ae.size++,ce!=="F"&&(Te.index[ce]=Y)),Ae},ie=function(Ae,Oe){var be=z(Ae),Te=S(Oe),Y;if(Te!=="F")return be.index[Te];for(Y=be.first;Y;Y=Y.next)if(Y.key===Oe)return Y};return A(le,{clear:function(){for(var Oe=this,be=z(Oe),Te=be.first;Te;)Te.removed=!0,Te.previous&&(Te.previous=Te.previous.next=null),Te=Te.next;be.first=be.last=null,be.index=h(null),N?be.size=0:Oe.size=0},delete:function(Ae){var Oe=this,be=z(Oe),Te=ie(Oe,Ae);if(Te){var Y=Te.next,Ne=Te.previous;delete be.index[Te.index],Te.removed=!0,Ne&&(Ne.next=Y),Y&&(Y.previous=Ne),be.first===Te&&(be.first=Y),be.last===Te&&(be.last=Ne),N?be.size--:Oe.size--}return!!Te},forEach:function(Oe){for(var be=z(this),Te=f(Oe,arguments.length>1?arguments[1]:void 0),Y;Y=Y?Y.next:be.first;)for(Te(Y.value,Y.key,this);Y&&Y.removed;)Y=Y.previous},has:function(Oe){return!!ie(this,Oe)}}),A(le,K?{get:function(Oe){var be=ie(this,Oe);return be&&be.value},set:function(Oe,be){return R(this,Oe===0?0:Oe,be)}}:{add:function(Oe){return R(this,Oe=Oe===0?0:Oe,Oe)}}),N&&d(le,"size",{configurable:!0,get:function(){return z(this).size}}),O},setStrong:function(q,te,K){var X=te+" Iterator",O=W(te),le=W(X);y(q,te,function(z,R){k(this,{type:X,target:z,state:O(z),kind:R,last:null})},function(){for(var z=le(this),R=z.kind,ie=z.last;ie&&ie.removed;)ie=ie.previous;return!z.target||!(z.last=ie=ie?ie.next:z.state.first)?(z.target=null,b(void 0,!0)):b(R==="keys"?ie.key:R==="values"?ie.value:[ie.key,ie.value],!1)},K?"entries":"values",!K,!0),w(te)}}}),"./node_modules/core-js/internals/collection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/internal-metadata.js"),x=o("./node_modules/core-js/internals/iterate.js"),y=o("./node_modules/core-js/internals/an-instance.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/is-null-or-undefined.js"),N=o("./node_modules/core-js/internals/is-object.js"),S=o("./node_modules/core-js/internals/fails.js"),C=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),k=o("./node_modules/core-js/internals/set-to-string-tag.js"),W=o("./node_modules/core-js/internals/inherit-if-required.js");l.exports=function(q,te,K){var X=q.indexOf("Map")!==-1,O=q.indexOf("Weak")!==-1,le=X?"set":"add",z=d[q],R=z&&z.prototype,ie=z,Ae={},Oe=function(Ce){var Ee=A(R[Ce]);g(R,Ce,Ce==="add"?function(me){return Ee(this,me===0?0:me),this}:Ce==="delete"?function(we){return O&&!N(we)?!1:Ee(this,we===0?0:we)}:Ce==="get"?function(me){return O&&!N(me)?void 0:Ee(this,me===0?0:me)}:Ce==="has"?function(me){return O&&!N(me)?!1:Ee(this,me===0?0:me)}:function(me,se){return Ee(this,me===0?0:me,se),this})},be=f(q,!b(z)||!(O||R.forEach&&!S(function(){new z().entries().next()})));if(be)ie=K.getConstructor(te,q,X,le),m.enable();else if(f(q,!0)){var Te=new ie,Y=Te[le](O?{}:-0,1)!==Te,Ne=S(function(){Te.has(1)}),ce=C(function(Ce){new z(Ce)}),ae=!O&&S(function(){for(var Ce=new z,Ee=5;Ee--;)Ce[le](Ee,Ee);return!Ce.has(-0)});ce||(ie=te(function(Ce,Ee){y(Ce,R);var we=W(new z,Ce,ie);return w(Ee)||x(Ee,we[le],{that:we,AS_ENTRIES:X}),we}),ie.prototype=R,R.constructor=ie),(Ne||ae)&&(Oe("delete"),Oe("has"),X&&Oe("get")),(ae||Y)&&Oe(le),O&&R.clear&&delete R.clear}return Ae[q]=ie,h({global:!0,constructor:!0,forced:ie!==z},Ae),k(ie,q),O||K.setStrong(ie,q,X),ie}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/own-keys.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),f=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(g,m,x){for(var y=d(m),b=f.f,w=A.f,N=0;N<y.length;N++){var S=y[N];!h(g,S)&&!(x&&h(x,S))&&b(g,S,w(m,S))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("match");l.exports=function(A){var f=/./;try{"/./"[A](f)}catch{try{return f[d]=!1,"/./"[A](f)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=/"/g,g=h("".replace);l.exports=function(m,x,y,b){var w=A(d(m)),N="<"+x;return y!==""&&(N+=" "+y+'="'+g(A(b),f,"&quot;")+'"'),N+">"+w+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(l){l.exports=function(u,o){return{value:u,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=h?function(f,g,m){return d.f(f,g,A(1,m))}:function(f,g,m){return f[g]=m,f}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(l){l.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(f,g,m){h?d.f(f,g,A(0,m)):f[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/make-built-in.js"),d=o("./node_modules/core-js/internals/object-define-property.js");l.exports=function(A,f,g){return g.get&&h(g.get,f,{getter:!0}),g.set&&h(g.set,f,{setter:!0}),d.f(A,f,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/make-built-in.js"),f=o("./node_modules/core-js/internals/define-global-property.js");l.exports=function(g,m,x,y){y||(y={});var b=y.enumerable,w=y.name!==void 0?y.name:m;if(h(x)&&A(x,w,y),y.global)b?g[m]=x:f(m,x);else{try{y.unsafe?g[m]&&(b=!0):delete g[m]}catch{}b?g[m]=x:d.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(d,A,f){for(var g in A)h(d,g,A[g],f);return d}}),"./node_modules/core-js/internals/define-global-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=Object.defineProperty;l.exports=function(A,f){try{d(h,A,{value:f,configurable:!0,writable:!0})}catch{h[A]=f}return f}}),"./node_modules/core-js/internals/descriptors.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=h.document,f=d(A)&&d(A.createElement);l.exports=function(g){return f?A.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(l){var u=TypeError,o=9007199254740991;l.exports=function(h){if(h>o)throw u("Maximum allowed index exceeded");return h}}),"./node_modules/core-js/internals/dom-iterables.js":(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/document-create-element.js"),d=h("span").classList,A=d&&d.constructor&&d.constructor.prototype;l.exports=A===Object.prototype?void 0:A}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/ipad|iphone|ipod/i.test(h)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)}),"./node_modules/core-js/internals/environment-is-node.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment.js");l.exports=h==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-user-agent.js");l.exports=/web0s(?!.*chrome)/i.test(h)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=h.navigator,A=d&&d.userAgent;l.exports=A?String(A):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),A=h.process,f=h.Deno,g=A&&A.versions||f&&f.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&d&&(x=d.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=d.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),l.exports=y}),"./node_modules/core-js/internals/environment.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/environment-user-agent.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=function(g){return d.slice(0,g.length)===g};l.exports=(function(){return f("Bun/")?"BUN":f("Cloudflare-Workers")?"CLOUDFLARE":f("Deno/")?"DENO":f("Node.js/")?"NODE":h.Bun&&typeof Bun.version=="string"?"BUN":h.Deno&&typeof Deno.version=="object"?"DENO":A(h.process)==="process"?"NODE":h.window&&h.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js"),m=o("./node_modules/core-js/internals/copy-constructor-properties.js"),x=o("./node_modules/core-js/internals/is-forced.js");l.exports=function(y,b){var w=y.target,N=y.global,S=y.stat,C,k,W,q,te,K;if(N?k=h:S?k=h[w]||g(w,{}):k=h[w]&&h[w].prototype,k)for(W in b){if(te=b[W],y.dontCallGetSet?(K=d(k,W),q=K&&K.value):q=k[W],C=x(N?W:w+(S?".":"#")+W,y.forced),!C&&q!==void 0){if(typeof te==typeof q)continue;m(te,q)}(y.sham||q&&q.sham)&&A(te,"sham",!0),f(k,W,te,y)}}}),"./node_modules/core-js/internals/fails.js":(function(l){l.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/regexp-exec.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;l.exports=function(b,w,N,S){var C=g(b),k=!f(function(){var K={};return K[C]=function(){return 7},""[b](K)!==7}),W=k&&!f(function(){var K=!1,X=/a/;if(b==="split"){var O={};O[x]=function(){return X},X={constructor:O,flags:""},X[C]=/./[C]}return X.exec=function(){return K=!0,null},X[C](""),!K});if(!k||!W||N){var q=/./[C],te=w(C,""[b],function(K,X,O,le,z){var R=X.exec;return R===A||R===y.exec?k&&!z?{done:!0,value:h(q,X,O,le)}:{done:!0,value:h(K,O,X,le)}:{done:!1}});d(String.prototype,b,te[0]),d(y,C,te[1])}S&&m(y[C],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,A=d.apply,f=d.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(h?f.bind(A):function(){return f.apply(A,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/function-bind-native.js"),f=h(h.bind);l.exports=function(g,m){return d(g),m===void 0?g:A?f(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype.call;l.exports=h?d.bind(d):function(){return d.apply(d,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=Function.prototype,f=h&&Object.getOwnPropertyDescriptor,g=d(A,"name"),m=g&&(function(){}).name==="something",x=g&&(!h||h&&f(A,"name").configurable);l.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/a-callable.js");l.exports=function(A,f,g){try{return h(d(Object.getOwnPropertyDescriptor(A,f)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=function(A){if(h(A)==="Function")return d(A)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-native.js"),d=Function.prototype,A=d.call,f=h&&d.bind.bind(A,A);l.exports=h?f:function(g){return function(){return A.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=function(f){return d(f)?f:void 0};l.exports=function(f,g){return arguments.length<2?A(h[f]):h[f]&&h[f][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(l){l.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/get-method.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");l.exports=function(x){if(!A(x))return d(x,m)||d(x,"@@iterator")||f[h(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;l.exports=function(x,y){var b=arguments.length<2?g(x):y;if(d(b))return A(h(b,x));throw new m(f(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/is-null-or-undefined.js");l.exports=function(A,f){var g=A[f];return d(g)?void 0:h(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,b=Math.max,w=function(N,S){this.set=N,this.size=b(S,0),this.has=h(N.has),this.keys=h(N.keys)};w.prototype={getIterator:function(){return g(d(A(this.keys,this.set)))},includes:function(N){return A(this.has,this.set,N)}},l.exports=function(N){d(N);var S=+N.size;if(S!==S)throw new y(m);var C=f(S);if(C<0)throw new x(m);return new w(N,C)}}),"./node_modules/core-js/internals/get-substitution.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=Math.floor,f=h("".charAt),g=h("".replace),m=h("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;l.exports=function(b,w,N,S,C,k){var W=N+b.length,q=S.length,te=y;return C!==void 0&&(C=d(C),te=x),g(k,te,function(K,X){var O;switch(f(X,0)){case"$":return"$";case"&":return b;case"`":return m(w,0,N);case"'":return m(w,W);case"<":O=C[m(X,1,-1)];break;default:var le=+X;if(le===0)return K;if(le>q){var z=A(le/10);return z===0?K:z<=q?S[z-1]===void 0?f(X,1):S[z-1]+f(X,1):K}O=S[le-1]}return O===void 0?"":O})}}),"./node_modules/core-js/internals/global-this.js":(function(l){var u=function(o){return o&&o.Math===Math&&o};l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof oA=="object"&&oA)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=h({}.hasOwnProperty);l.exports=Object.hasOwn||function(g,m){return A(d(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(l){l.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js");l.exports=h("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/document-create-element.js");l.exports=!h&&!d(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=Object,g=h("".split);l.exports=d(function(){return!f("z").propertyIsEnumerable(0)})?function(m){return A(m)==="String"?g(m,""):f(m)}:f}),"./node_modules/core-js/internals/inherit-if-required.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(f,g,m){var x,y;return A&&h(x=g.constructor)&&x!==m&&d(y=x.prototype)&&y!==m.prototype&&A(f,y),f}}),"./node_modules/core-js/internals/inspect-source.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/shared-store.js"),f=h(Function.toString);d(A.inspectSource)||(A.inspectSource=function(g){return f(g)}),l.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/hidden-keys.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=o("./node_modules/core-js/internals/object-get-own-property-names.js"),y=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=o("./node_modules/core-js/internals/object-is-extensible.js"),w=o("./node_modules/core-js/internals/uid.js"),N=o("./node_modules/core-js/internals/freezing.js"),S=!1,C=w("meta"),k=0,W=function(le){m(le,C,{value:{objectID:"O"+k++,weakData:{}}})},q=function(le,z){if(!f(le))return typeof le=="symbol"?le:(typeof le=="string"?"S":"P")+le;if(!g(le,C)){if(!b(le))return"F";if(!z)return"E";W(le)}return le[C].objectID},te=function(le,z){if(!g(le,C)){if(!b(le))return!0;if(!z)return!1;W(le)}return le[C].weakData},K=function(le){return N&&S&&b(le)&&!g(le,C)&&W(le),le},X=function(){O.enable=function(){},S=!0;var le=x.f,z=d([].splice),R={};R[C]=1,le(R).length&&(x.f=function(ie){for(var Ae=le(ie),Oe=0,be=Ae.length;Oe<be;Oe++)if(Ae[Oe]===C){z(Ae,Oe,1);break}return Ae},h({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},O=l.exports={enable:X,fastKey:q,getWeakData:te,onFreeze:K};A[C]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/shared-store.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=o("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",w=d.TypeError,N=d.WeakMap,S,C,k,W=function(X){return k(X)?C(X):S(X,{})},q=function(X){return function(O){var le;if(!A(O)||(le=C(O)).type!==X)throw new w("Incompatible receiver, "+X+" required");return le}};if(h||m.state){var te=m.state||(m.state=new N);te.get=te.get,te.has=te.has,te.set=te.set,S=function(X,O){if(te.has(X))throw new w(b);return O.facade=X,te.set(X,O),O},C=function(X){return te.get(X)||{}},k=function(X){return te.has(X)}}else{var K=x("state");y[K]=!0,S=function(X,O){if(g(X,K))throw new w(b);return O.facade=X,f(X,K,O),O},C=function(X){return g(X,K)?X[K]:{}},k=function(X){return g(X,K)}}l.exports={set:S,get:C,has:k,enforce:W,getterFor:q}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=o("./node_modules/core-js/internals/iterators.js"),A=h("iterator"),f=Array.prototype;l.exports=function(g){return g!==void 0&&(d.Array===g||f[A]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(A){return h(A)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(l){var u=typeof document=="object"&&document.all;l.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),b=/^\s*(?:class|function)\b/,w=h(b.exec),N=!b.test(x),S=function(W){if(!A(W))return!1;try{return y(x,[],W),!0}catch{return!1}},C=function(W){if(!A(W))return!1;switch(f(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N||!!w(b,m(W))}catch{return!0}};C.sham=!0,l.exports=!y||d(function(){var k;return S(S.call)||!S(Object)||!S(function(){k=!0})||k})?C:S}),"./node_modules/core-js/internals/is-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=/#|\.prototype\./,f=function(b,w){var N=m[g(b)];return N===y?!0:N===x?!1:d(w)?h(w):!!w},g=f.normalize=function(b){return String(b).replace(A,".").toLowerCase()},m=f.data={},x=f.NATIVE="N",y=f.POLYFILL="P";l.exports=f}),"./node_modules/core-js/internals/is-iterable.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=f("iterator"),x=Object;l.exports=function(y){if(A(y))return!1;var b=x(y);return b[m]!==void 0||"@@iterator"in b||d(g,h(b))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(l){l.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-callable.js");l.exports=function(d){return typeof d=="object"?d!==null:h(d)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js");l.exports=function(d){return h(d)||d===null}}),"./node_modules/core-js/internals/is-pure.js":(function(l){l.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/internal-state.js").get;l.exports=function(f){if(!h(f))return!1;var g=d(f);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-object.js"),d=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("match");l.exports=function(g){var m;return h(g)&&((m=g[f])!==void 0?!!m:d(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;l.exports=f?function(m){return typeof m=="symbol"}:function(m){var x=h("Symbol");return d(x)&&A(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js");l.exports=function(d,A,f){for(var g=f?d:d.iterator,m=d.next,x,y;!(x=h(m,g)).done;)if(y=A(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-bind-context.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/get-iterator.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=TypeError,S=function(k,W){this.stopped=k,this.result=W},C=S.prototype;l.exports=function(k,W,q){var te=q&&q.that,K=!!(q&&q.AS_ENTRIES),X=!!(q&&q.IS_RECORD),O=!!(q&&q.IS_ITERATOR),le=!!(q&&q.INTERRUPTED),z=h(W,te),R,ie,Ae,Oe,be,Te,Y,Ne=function(ae){return R&&w(R,"normal"),new S(!0,ae)},ce=function(ae){return K?(A(ae),le?z(ae[0],ae[1],Ne):z(ae[0],ae[1])):le?z(ae,Ne):z(ae)};if(X)R=k.iterator;else if(O)R=k;else{if(ie=b(k),!ie)throw new N(f(k)+" is not iterable");if(g(ie)){for(Ae=0,Oe=m(k);Oe>Ae;Ae++)if(be=ce(k[Ae]),be&&x(C,be))return be;return new S(!1)}R=y(k,ie)}for(Te=X?k.next:R.next;!(Y=d(Te,R)).done;){try{be=ce(Y.value)}catch(ae){w(R,"throw",ae)}if(typeof be=="object"&&be&&x(C,be))return be}return new S(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(d,A,f){for(var g=d.length-1;g>=0;g--)if(d[g]!==void 0)try{f=h(d[g].iterator,A,f)}catch(m){A="throw",f=m}if(A==="throw")throw f;return f}}),"./node_modules/core-js/internals/iterator-close.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/get-method.js");l.exports=function(f,g,m){var x,y;d(f);try{if(x=A(f,"return"),!x){if(g==="throw")throw m;return m}x=h(x,f)}catch(b){y=!0,x=b}if(g==="throw")throw m;if(y)throw x;return d(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js"),f=o("./node_modules/core-js/internals/set-to-string-tag.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=function(){return this};l.exports=function(x,y,b,w){var N=y+" Iterator";return x.prototype=d(h,{next:A(+!w,b)}),f(x,N,!1,!0),g[N]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/get-method.js"),y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=o("./node_modules/core-js/internals/create-iter-result-object.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),N=o("./node_modules/core-js/internals/iterator-close-all.js"),S=g("toStringTag"),C="IteratorHelper",k="WrapForValidIterator",W="normal",q="throw",te=m.set,K=function(le){var z=m.getterFor(le?k:C);return f(d(y),{next:function(){var ie=z(this);if(le)return ie.nextHandler();if(ie.done)return b(void 0,!0);try{var Ae=ie.nextHandler();return ie.returnHandlerResult?Ae:b(Ae,ie.done)}catch(Oe){throw ie.done=!0,Oe}},return:function(){var R=z(this),ie=R.iterator;if(R.done=!0,le){var Ae=x(ie,"return");return Ae?h(Ae,ie):b(void 0,!0)}if(R.inner)try{w(R.inner.iterator,W)}catch(Oe){return w(ie,q,Oe)}if(R.openIters)try{N(R.openIters,W)}catch(Oe){return w(ie,q,Oe)}return ie&&w(ie,W),b(void 0,!0)}})},X=K(!0),O=K(!1);A(O,S,"Iterator Helper"),l.exports=function(le,z,R){var ie=function(Oe,be){be?(be.iterator=Oe.iterator,be.next=Oe.next):be=Oe,be.type=z?k:C,be.returnHandlerResult=!!R,be.nextHandler=le,be.counter=0,be.done=!1,te(this,be)};return ie.prototype=z?X:O,ie}}),"./node_modules/core-js/internals/iterator-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/function-name.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/iterator-create-constructor.js"),x=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=o("./node_modules/core-js/internals/define-built-in.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),C=o("./node_modules/core-js/internals/iterators.js"),k=o("./node_modules/core-js/internals/iterators-core.js"),W=f.PROPER,q=f.CONFIGURABLE,te=k.IteratorPrototype,K=k.BUGGY_SAFARI_ITERATORS,X=S("iterator"),O="keys",le="values",z="entries",R=function(){return this};l.exports=function(ie,Ae,Oe,be,Te,Y,Ne){m(Oe,Ae,be);var ce=function(Le){if(Le===Te&&me)return me;if(!K&&Le&&Le in Ee)return Ee[Le];switch(Le){case O:return function(){return new Oe(this,Le)};case le:return function(){return new Oe(this,Le)};case z:return function(){return new Oe(this,Le)}}return function(){return new Oe(this)}},ae=Ae+" Iterator",Ce=!1,Ee=ie.prototype,we=Ee[X]||Ee["@@iterator"]||Te&&Ee[Te],me=!K&&we||ce(Te),se=Ae==="Array"&&Ee.entries||we,J,je,Pe;if(se&&(J=x(se.call(new ie)),J!==Object.prototype&&J.next&&(!A&&x(J)!==te&&(y?y(J,te):g(J[X])||N(J,X,R)),b(J,ae,!0,!0),A&&(C[ae]=R))),W&&Te===le&&we&&we.name!==le&&(!A&&q?w(Ee,"name",le):(Ce=!0,me=function(){return d(we,this)})),Te)if(je={values:ce(le),keys:Y?me:ce(O),entries:ce(z)},Ne)for(Pe in je)(K||Ce||!(Pe in Ee))&&N(Ee,Pe,je[Pe]);else h({target:Ae,proto:!0,forced:K||Ce},je);return(!A||Ne)&&Ee[X]!==me&&N(Ee,X,me,{name:Te}),C[Ae]=me,je}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(l){l.exports=function(u,o){var h=typeof Iterator=="function"&&Iterator.prototype[u];if(h)try{h.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=function(d,A){var f=h.Iterator,g=f&&f.prototype,m=g&&g[d],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof A||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/object-create.js"),g=o("./node_modules/core-js/internals/object-get-prototype-of.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),w=!1,N,S,C;[].keys&&(C=[].keys(),"next"in C?(S=g(g(C)),S!==Object.prototype&&(N=S)):w=!0);var k=!A(N)||h(function(){var W={};return N[b].call(W)!==W});k?N={}:y&&(N=f(N)),d(N[b])||m(N,b,function(){return this}),l.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:w}}),"./node_modules/core-js/internals/iterators.js":(function(l){l.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-length.js");l.exports=function(d){return h(d.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/internal-state.js"),b=y.enforce,w=y.get,N=String,S=Object.defineProperty,C=h("".slice),k=h("".replace),W=h([].join),q=g&&!d(function(){return S(function(){},"length",{value:8}).length!==8}),te=String(String).split("String"),K=l.exports=function(X,O,le){C(N(O),0,7)==="Symbol("&&(O="["+k(N(O),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),le&&le.getter&&(O="get "+O),le&&le.setter&&(O="set "+O),(!f(X,"name")||m&&X.name!==O)&&(g?S(X,"name",{value:O,configurable:!0}):X.name=O),q&&le&&f(le,"arity")&&X.length!==le.arity&&S(X,"length",{value:le.arity});try{le&&f(le,"constructor")&&le.constructor?g&&S(X,"prototype",{writable:!1}):X.prototype&&(X.prototype=void 0)}catch{}var z=b(X);return f(z,"source")||(z.source=W(te,typeof O=="string"?O:"")),X};Function.prototype.toString=K(function(){return A(this)&&w(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(l){var u=Math.ceil,o=Math.floor;l.exports=Math.trunc||function(d){var A=+d;return(A>0?o:u)(A)}}),"./node_modules/core-js/internals/microtask.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/safe-get-built-in.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/task.js").set,g=o("./node_modules/core-js/internals/queue.js"),m=o("./node_modules/core-js/internals/environment-is-ios.js"),x=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),w=h.MutationObserver||h.WebKitMutationObserver,N=h.document,S=h.process,C=h.Promise,k=d("queueMicrotask"),W,q,te,K,X;if(!k){var O=new g,le=function(){var z,R;for(b&&(z=S.domain)&&z.exit();R=O.get();)try{R()}catch(ie){throw O.head&&W(),ie}z&&z.enter()};!m&&!b&&!y&&w&&N?(q=!0,te=N.createTextNode(""),new w(le).observe(te,{characterData:!0}),W=function(){te.data=q=!q}):!x&&C&&C.resolve?(K=C.resolve(void 0),K.constructor=C,X=A(K.then,K),W=function(){X(le)}):b?W=function(){S.nextTick(le)}:(f=A(f,h),W=function(){f(le)}),k=function(z){O.head||W(),O.add(z)}}l.exports=k}),"./node_modules/core-js/internals/native-raw-json.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=!h(function(){var d="9007199254740993",A=JSON.rawJSON(d);return!JSON.isRawJSON(A)||JSON.stringify(A)!==d})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-callable.js"),d=TypeError,A=function(f){var g,m;this.promise=new f(function(x,y){if(g!==void 0||m!==void 0)throw new d("Bad Promise constructor");g=x,m=y}),this.resolve=h(g),this.reject=h(m)};l.exports.f=function(f){return new A(f)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-regexp.js"),d=TypeError;l.exports=function(A){if(h(A))throw new d("The method doesn't accept regular expressions");return A}}),"./node_modules/core-js/internals/object-assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-keys.js"),m=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/indexed-object.js"),w=Object.assign,N=Object.defineProperty,S=d([].concat);l.exports=!w||f(function(){if(h&&w({b:1},w(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var C={},k={},W=Symbol("assign detection"),q="abcdefghijklmnopqrst";return C[W]=7,q.split("").forEach(function(te){k[te]=te}),w({},C)[W]!==7||g(w({},k)).join("")!==q})?function(k,W){for(var q=y(k),te=arguments.length,K=1,X=m.f,O=x.f;te>K;)for(var le=b(arguments[K++]),z=X?S(g(le),X(le)):g(le),R=z.length,ie=0,Ae;R>ie;)Ae=z[ie++],(!h||A(O,le,Ae))&&(q[Ae]=le[Ae]);return q}:w}),"./node_modules/core-js/internals/object-create.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/object-define-properties.js"),A=o("./node_modules/core-js/internals/enum-bug-keys.js"),f=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/html.js"),m=o("./node_modules/core-js/internals/document-create-element.js"),x=o("./node_modules/core-js/internals/shared-key.js"),y=">",b="<",w="prototype",N="script",S=x("IE_PROTO"),C=function(){},k=function(X){return b+N+y+X+b+"/"+N+y},W=function(X){X.write(k("")),X.close();var O=X.parentWindow.Object;return X=null,O},q=function(){var X=m("iframe"),O="java"+N+":",le;return X.style.display="none",g.appendChild(X),X.src=String(O),le=X.contentWindow.document,le.open(),le.write(k("document.F=Object")),le.close(),le.F},te,K=function(){try{te=new ActiveXObject("htmlfile")}catch{}K=typeof document<"u"?document.domain&&te?W(te):q():W(te);for(var X=A.length;X--;)delete K[w][A[X]];return K()};f[S]=!0,l.exports=Object.create||function(O,le){var z;return O!==null?(C[w]=h(O),z=new C,C[w]=null,z[S]=O):z=K(),le===void 0?z:d.f(z,le)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/object-keys.js");u.f=h&&!d?Object.defineProperties:function(y,b){f(y);for(var w=g(b),N=m(b),S=N.length,C=0,k;S>C;)A.f(y,k=N[C++],w[k]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/ie8-dom-define.js"),A=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b="enumerable",w="configurable",N="writable";u.f=h?A?function(C,k,W){if(f(C),k=g(k),f(W),typeof C=="function"&&k==="prototype"&&"value"in W&&N in W&&!W[N]){var q=y(C,k);q&&q[N]&&(C[k]=W.value,W={configurable:w in W?W[w]:q[w],enumerable:b in W?W[b]:q[b],writable:!1})}return x(C,k,W)}:x:function(C,k,W){if(f(C),k=g(k),f(W),d)try{return x(C,k,W)}catch{}if("get"in W||"set"in W)throw new m("Accessors not supported");return"value"in W&&(C[k]=W.value),C}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-property-key.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;u.f=h?b:function(N,S){if(N=g(N),S=m(S),y)try{return b(N,S)}catch{}if(x(N,S))return f(!d(A.f,N,S),N[S])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof-raw.js"),d=o("./node_modules/core-js/internals/to-indexed-object.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,f=o("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return A(x)}catch{return f(g)}};l.exports.f=function(y){return g&&h(y)==="Window"?m(y):A(d(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js"),A=d.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return h(g,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(l,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/has-own-property.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/shared-key.js"),g=o("./node_modules/core-js/internals/correct-prototype-getter.js"),m=f("IE_PROTO"),x=Object,y=x.prototype;l.exports=g?x.getPrototypeOf:function(b){var w=A(b);if(h(w,m))return w[m];var N=w.constructor;return d(N)&&w instanceof N?N.prototype:w instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=h(function(){});l.exports=m||f?function(y){return!d(y)||f&&A(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/array-includes.js").indexOf,g=o("./node_modules/core-js/internals/hidden-keys.js"),m=h([].push);l.exports=function(x,y){var b=A(x),w=0,N=[],S;for(S in b)!d(g,S)&&d(b,S)&&m(N,S);for(;y.length>w;)d(b,S=y[w++])&&(~f(N,S)||m(N,S));return N}}),"./node_modules/core-js/internals/object-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-keys-internal.js"),d=o("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(f){return h(f,d)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(l,u){var o={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,d=h&&!o.call({1:2},1);u.f=d?function(f){var g=h(this,f);return!!g&&g.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=h(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(b,w){return A(b),f(w),d(b)&&(g?x(b,w):b.__proto__=w),b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/classof.js");l.exports=h?{}.toString:function(){return"[object "+d(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),f=TypeError;l.exports=function(g,m){var x,y;if(m==="string"&&d(x=g.toString)&&!A(y=h(x,g))||d(x=g.valueOf)&&!A(y=h(x,g))||m!=="string"&&d(x=g.toString)&&!A(y=h(x,g)))return y;throw new f("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=d([].concat);l.exports=h("Reflect","ownKeys")||function(y){var b=A.f(g(y)),w=f.f;return w?m(b,w(y)):b}}),"./node_modules/core-js/internals/parse-json-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=SyntaxError,f=parseInt,g=String.fromCharCode,m=h("".charAt),x=h("".slice),y=h(/./.exec),b={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},w=/^[\da-f]{4}$/i,N=/^[\u0000-\u001F]$/;l.exports=function(S,C){for(var k=!0,W="";C<S.length;){var q=m(S,C);if(q==="\\"){var te=x(S,C,C+2);if(d(b,te))W+=b[te],C+=2;else if(te==="\\u"){C+=2;var K=x(S,C,C+4);if(!y(w,K))throw new A("Bad Unicode escape at: "+C);W+=g(f(K,16)),C+=4}else throw new A('Unknown escape sequence: "'+te+'"')}else if(q==='"'){k=!1,C++;break}else{if(y(N,q))throw new A("Bad control character in string literal at: "+C);W+=q,C++}}if(k)throw new A("Unterminated string at: "+C);return{value:W,end:C}}}),"./node_modules/core-js/internals/path.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h}),"./node_modules/core-js/internals/perform.js":(function(l){l.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/promise-native-constructor.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/inspect-source.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/environment.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/environment-v8-version.js"),w=d&&d.prototype,N=m("species"),S=!1,C=A(h.PromiseRejectionEvent),k=f("Promise",function(){var W=g(d),q=W!==String(d);if(!q&&b===66||y&&!(w.catch&&w.finally))return!0;if(!b||b<51||!/native code/.test(W)){var te=new d(function(O){O(1)}),K=function(O){O(function(){},function(){})},X=te.constructor={};if(X[N]=K,S=te.then(function(){})instanceof K,!S)return!0}return!q&&(x==="BROWSER"||x==="DENO")&&!C});l.exports={CONSTRUCTOR:k,REJECTION_EVENT:C,SUBCLASSING:S}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js");l.exports=h.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js");l.exports=function(f,g){if(h(f),d(g)&&g.constructor===f)return g;var m=A.f(f),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/promise-native-constructor.js"),d=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;l.exports=A||!d(function(f){h.all(f).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(l){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var h={item:o,next:null},d=this.tail;d?d.next=h:this.head=h,this.tail=h},get:function(){var o=this.head;if(o){var h=this.head=o.next;return h===null&&(this.tail=null),o.item}}},l.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;l.exports=function(x,y){var b=x.exec;if(A(b)){var w=h(b,x,y);return w!==null&&d(w),w}if(f(x)==="RegExp")return h(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/regexp-flags.js"),g=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/object-create.js"),y=o("./node_modules/core-js/internals/internal-state.js").get,b=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),w=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),N=m("native-string-replace",String.prototype.replace),S=RegExp.prototype.exec,C=S,k=d("".charAt),W=d("".indexOf),q=d("".replace),te=d("".slice),K=(function(){var z=/a/,R=/b*/g;return h(S,z,"a"),h(S,R,"a"),z.lastIndex!==0||R.lastIndex!==0})(),X=g.BROKEN_CARET,O=/()??/.exec("")[1]!==void 0,le=K||O||X||b||w;le&&(C=function(R){var ie=this,Ae=y(ie),Oe=A(R),be=Ae.raw,Te,Y,Ne,ce,ae,Ce,Ee;if(be)return be.lastIndex=ie.lastIndex,Te=h(C,be,Oe),ie.lastIndex=be.lastIndex,Te;var we=Ae.groups,me=X&&ie.sticky,se=h(f,ie),J=ie.source,je=0,Pe=Oe;if(me&&(se=q(se,"y",""),W(se,"g")===-1&&(se+="g"),Pe=te(Oe,ie.lastIndex),ie.lastIndex>0&&(!ie.multiline||ie.multiline&&k(Oe,ie.lastIndex-1)!==`
`)&&(J="(?: "+J+")",Pe=" "+Pe,je++),Y=new RegExp("^(?:"+J+")",se)),O&&(Y=new RegExp("^"+J+"$(?!\\s)",se)),K&&(Ne=ie.lastIndex),ce=h(S,me?Y:ie,Pe),me?ce?(ce.input=te(ce.input,je),ce[0]=te(ce[0],je),ce.index=ie.lastIndex,ie.lastIndex+=ce[0].length):ie.lastIndex=0:K&&ce&&(ie.lastIndex=ie.global?ce.index+ce[0].length:Ne),O&&ce&&ce.length>1&&h(N,ce[0],Y,function(){for(ae=1;ae<arguments.length-2;ae++)arguments[ae]===void 0&&(ce[ae]=void 0)}),ce&&we)for(ce.groups=Ce=x(null),ae=0;ae<we.length;ae++)Ee=we[ae],Ce[Ee[0]]=ce[Ee[1]];return ce}),l.exports=C}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/fails.js"),A=h.RegExp,f=!d(function(){var g=!0;try{A(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",b=function(C,k){Object.defineProperty(m,C,{get:function(){return x+=k,!0}})},w={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(w.hasIndices="d");for(var N in w)b(N,w[N]);var S=Object.getOwnPropertyDescriptor(A.prototype,"flags").get.call(m);return S!==y||x!==y});l.exports={correct:f}}),"./node_modules/core-js/internals/regexp-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js");l.exports=function(){var d=h(this),A="";return d.hasIndices&&(A+="d"),d.global&&(A+="g"),d.ignoreCase&&(A+="i"),d.multiline&&(A+="m"),d.dotAll&&(A+="s"),d.unicode&&(A+="u"),d.unicodeSets&&(A+="v"),d.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=o("./node_modules/core-js/internals/regexp-flags-detection.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;l.exports=f.correct?function(x){return x.flags}:function(x){return!f.correct&&A(m,x)&&!d(x,"flags")?h(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp,f=h(function(){var x=A("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=f||h(function(){return!A("a","y").sticky}),m=f||h(function(){var x=A("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:f}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp;l.exports=h(function(){var f=A(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=d.RegExp;l.exports=h(function(){var f=A("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-null-or-undefined.js"),d=TypeError;l.exports=function(A){if(h(A))throw new d("Can't call method on "+A);return A}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/descriptors.js"),A=Object.getOwnPropertyDescriptor;l.exports=function(f){if(!d)return h[f];var g=A(h,f);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/environment.js"),g=o("./node_modules/core-js/internals/environment-user-agent.js"),m=o("./node_modules/core-js/internals/array-slice.js"),x=o("./node_modules/core-js/internals/validate-arguments-length.js"),y=h.Function,b=/MSIE .\./.test(g)||f==="BUN"&&(function(){var w=h.Bun.version.split(".");return w.length<3||w[0]==="0"&&(w[1]<3||w[1]==="3"&&w[2]==="0")})();l.exports=function(w,N){var S=N?2:1;return b?function(C,k){var W=x(arguments.length,1)>S,q=A(C)?C:y(C),te=W?m(arguments,S):[],K=W?function(){d(q,this,te)}:q;return N?w(K,k):w(K)}:w}}),"./node_modules/core-js/internals/set-clone.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/set-helpers.js"),d=o("./node_modules/core-js/internals/set-iterate.js"),A=h.Set,f=h.add;l.exports=function(g){var m=new A;return d(g,function(x){f(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),y=d.has,b=d.remove;l.exports=function(N){var S=h(this),C=g(N),k=A(S);return f(S)<=C.size?m(S,function(W){C.includes(W)&&b(k,W)}):x(C.getIterator(),function(W){y(k,W)&&b(k,W)}),k}}),"./node_modules/core-js/internals/set-helpers.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=Set.prototype;l.exports={Set,add:h(d.add),has:h(d.has),remove:h(d.delete),proto:d}}),"./node_modules/core-js/internals/set-intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=d.Set,y=d.add,b=d.has;l.exports=function(N){var S=h(this),C=f(N),k=new x;return A(S)>C.size?m(C.getIterator(),function(W){b(S,W)&&y(k,W)}):g(S,function(W){C.includes(W)&&y(k,W)}),k}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(b){var w=h(this),N=f(b);if(A(w)<=N.size)return g(w,function(C){if(N.includes(C))return!1},!0)!==!1;var S=N.getIterator();return m(S,function(C){if(d(w,C))return x(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),f=o("./node_modules/core-js/internals/get-set-record.js");l.exports=function(m){var x=h(this),y=f(m);return d(x)>y.size?!1:A(x,function(b){if(!y.includes(b))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=o("./node_modules/core-js/internals/iterator-close.js");l.exports=function(y){var b=h(this),w=f(y);if(A(b)<w.size)return!1;var N=w.getIterator();return g(N,function(S){if(!d(b,S))return m(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/iterate-simple.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),f=A.Set,g=A.proto,m=h(g.forEach),x=h(g.keys),y=x(new f).next;l.exports=function(b,w,N){return N?d({iterator:x(b),next:y},w):m(b,w)}}),"./node_modules/core-js/internals/set-size.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),d=o("./node_modules/core-js/internals/set-helpers.js");l.exports=h(d.proto,"size","get")||function(A){return A.size}}),"./node_modules/core-js/internals/set-species.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/descriptors.js"),g=A("species");l.exports=function(m){var x=h(m);f&&x&&!x[g]&&d(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),m=d.add,x=d.has,y=d.remove;l.exports=function(w){var N=h(this),S=f(w).getIterator(),C=A(N);return g(S,function(k){x(N,k)?y(C,k):m(C,k)}),C}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/object-define-property.js").f,d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=A("toStringTag");l.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!d(g,f)&&h(g,f,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/a-set.js"),d=o("./node_modules/core-js/internals/set-helpers.js").add,A=o("./node_modules/core-js/internals/set-clone.js"),f=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js");l.exports=function(x){var y=h(this),b=f(x).getIterator(),w=A(y);return g(b,function(N){d(w,N)}),w}}),"./node_modules/core-js/internals/shared-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared.js"),d=o("./node_modules/core-js/internals/uid.js"),A=h("keys");l.exports=function(f){return A[f]||(A[f]=d(f))}}),"./node_modules/core-js/internals/shared-store.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/is-pure.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/define-global-property.js"),f="__core-js_shared__",g=l.exports=d[f]||A(f,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:h?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/shared-store.js");l.exports=function(d,A){return h[d]||(h[d]=A||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/an-object.js"),d=o("./node_modules/core-js/internals/a-constructor.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("species");l.exports=function(m,x){var y=h(m).constructor,b;return y===void 0||A(b=h(y)[g])?x:d(b)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/fails.js");l.exports=function(d){return h(function(){var A=""[d]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=h("".charAt),m=h("".charCodeAt),x=h("".slice),y=function(b){return function(w,N){var S=A(f(w)),C=d(N),k=S.length,W,q;return C<0||C>=k?b?"":void 0:(W=m(S,C),W<55296||W>56319||C+1===k||(q=m(S,C+1))<56320||q>57343?b?g(S,C):W:b?x(S,C,C+2):(W-55296<<10)+(q-56320)+65536)}};l.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/whitespaces.js"),f="";l.exports=function(g){return d(function(){return!!A[g]()||f[g]()!==f||h&&A[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/whitespaces.js"),g=h("".replace),m=RegExp("^["+f+"]+"),x=RegExp("(^|[^"+f+"])["+f+"]+$"),y=function(b){return function(w){var N=A(d(w));return b&1&&(N=g(N,m,"")),b&2&&(N=g(N,x,"$1")),N}};l.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/environment-v8-version.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=A.String;l.exports=!!Object.getOwnPropertySymbols&&!d(function(){var g=Symbol("symbol detection");return!f(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&h&&h<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/define-built-in.js");l.exports=function(){var g=d("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=A("toPrimitive");m&&!m[y]&&f(m,y,function(b){return h(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/array-slice.js"),b=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),N=o("./node_modules/core-js/internals/environment-is-ios.js"),S=o("./node_modules/core-js/internals/environment-is-node.js"),C=h.setImmediate,k=h.clearImmediate,W=h.process,q=h.Dispatch,te=h.Function,K=h.MessageChannel,X=h.String,O=0,le={},z="onreadystatechange",R,ie,Ae,Oe;m(function(){R=h.location});var be=function(ce){if(g(le,ce)){var ae=le[ce];delete le[ce],ae()}},Te=function(ce){return function(){be(ce)}},Y=function(ce){be(ce.data)},Ne=function(ce){h.postMessage(X(ce),R.protocol+"//"+R.host)};(!C||!k)&&(C=function(ae){w(arguments.length,1);var Ce=f(ae)?ae:te(ae),Ee=y(arguments,1);return le[++O]=function(){d(Ce,void 0,Ee)},ie(O),O},k=function(ae){delete le[ae]},S?ie=function(ce){W.nextTick(Te(ce))}:q&&q.now?ie=function(ce){q.now(Te(ce))}:K&&!N?(Ae=new K,Oe=Ae.port2,Ae.port1.onmessage=Y,ie=A(Oe.postMessage,Oe)):h.addEventListener&&f(h.postMessage)&&!h.importScripts&&R&&R.protocol!=="file:"&&!m(Ne)?(ie=Ne,h.addEventListener("message",Y,!1)):z in b("script")?ie=function(ce){x.appendChild(b("script"))[z]=function(){x.removeChild(this),be(ce)}}:ie=function(ce){setTimeout(Te(ce),0)}),l.exports={set:C,clear:k}}),"./node_modules/core-js/internals/this-number-value.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js");l.exports=h(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.max,A=Math.min;l.exports=function(f,g){var m=h(f);return m<0?d(m+g,0):A(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/indexed-object.js"),d=o("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(A){return h(d(A))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/math-trunc.js");l.exports=function(d){var A=+d;return A!==A||A===0?0:h(A)}}),"./node_modules/core-js/internals/to-length.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),d=Math.min;l.exports=function(A){var f=h(A);return f>0?d(f,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/require-object-coercible.js"),d=Object;l.exports=function(A){return d(h(A))}}),"./node_modules/core-js/internals/to-primitive.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/get-method.js"),g=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");l.exports=function(b,w){if(!d(b)||A(b))return b;var N=f(b,y),S;if(N){if(w===void 0&&(w="default"),S=h(N,b,w),!d(S)||A(S))return S;throw new x("Can't convert object to primitive value")}return w===void 0&&(w="number"),g(b,w)}}),"./node_modules/core-js/internals/to-property-key.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-primitive.js"),d=o("./node_modules/core-js/internals/is-symbol.js");l.exports=function(A){var f=h(A,"string");return d(f)?f:f+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/get-built-in.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-iterable.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=h("Set"),m=function(x){return f(x)&&typeof x.size=="number"&&d(x.has)&&d(x.keys)};l.exports=function(x){return m(x)?x:A(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js"),d=h("toStringTag"),A={};A[d]="z",l.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/classof.js"),d=String;l.exports=function(A){if(h(A)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(A)}}),"./node_modules/core-js/internals/try-to-string.js":(function(l){var u=String;l.exports=function(o){try{return u(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-uncurry-this.js"),d=0,A=Math.random(),f=h(1.1.toString);l.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+f(++d+A,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/symbol-constructor-detection.js");l.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/fails.js");l.exports=h&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(l){var u=TypeError;l.exports=function(o,h){if(o<h)throw new u("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/is-callable.js"),A=h.WeakMap;l.exports=d(A)&&/native code/.test(String(A))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/path.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),f=o("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(g){var m=h.Symbol||(h.Symbol={});d(m,g)||f(m,g,{value:A.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=h}),"./node_modules/core-js/internals/well-known-symbol.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/shared.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/uid.js"),g=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=h.Symbol,y=d("wks"),b=m?x.for||x:x&&x.withoutSetter||f;l.exports=function(w){return A(y,w)||(y[w]=g&&A(x,w)?x[w]:b("Symbol."+w)),y[w]}}),"./node_modules/core-js/internals/whitespaces.js":(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/array-species-create.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/environment-v8-version.js"),C=N("isConcatSpreadable"),k=S>=51||!d(function(){var te=[];return te[C]=!1,te.concat()[0]!==te}),W=function(te){if(!f(te))return!1;var K=te[C];return K!==void 0?!!K:A(te)},q=!k||!w("concat");h({target:"Array",proto:!0,arity:1,forced:q},{concat:function(K){var X=g(this),O=b(X,0),le=0,z,R,ie,Ae,Oe;for(z=-1,ie=arguments.length;z<ie;z++)if(Oe=z===-1?X:arguments[z],W(Oe))for(Ae=m(Oe),x(le+Ae),R=0;R<Ae;R++,le++)R in Oe&&y(O,le,Oe[R]);else x(le+1),y(O,le++,Oe);return O.length=le,O}})}),"./node_modules/core-js/modules/es.array.from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-from.js"),A=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=!A(function(g){Array.from(g)});h({target:"Array",stat:!0,forced:f},{from:d})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/array-includes.js").indexOf,f=o("./node_modules/core-js/internals/array-method-is-strict.js"),g=d([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!f("indexOf");h({target:"Array",proto:!0,forced:x},{indexOf:function(b){var w=arguments.length>1?arguments[1]:void 0;return m?g(this,b,w)||0:A(this,b,w)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-indexed-object.js"),d=o("./node_modules/core-js/internals/add-to-unscopables.js"),A=o("./node_modules/core-js/internals/iterators.js"),f=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/iterator-define.js"),x=o("./node_modules/core-js/internals/create-iter-result-object.js"),y=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/descriptors.js"),w="Array Iterator",N=f.set,S=f.getterFor(w);l.exports=m(Array,"Array",function(k,W){N(this,{type:w,target:h(k),index:0,kind:W})},function(){var k=S(this),W=k.target,q=k.index++;if(!W||q>=W.length)return k.target=null,x(void 0,!0);switch(k.kind){case"keys":return x(q,!1);case"values":return x(W[q],!1)}return x([q,W[q]],!1)},"values");var C=A.Arguments=A.Array;if(d("keys"),d("values"),d("entries"),!y&&b&&C.name!=="values")try{g(C,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-method-is-strict.js"),m=d([].join),x=A!==Object,y=x||!g("join",",");h({target:"Array",proto:!0,forced:y},{join:function(w){return m(f(this),w===void 0?",":w)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-iteration.js").map,A=o("./node_modules/core-js/internals/array-method-has-species-support.js"),f=A("map");h({target:"Array",proto:!0,forced:!f},{map:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/array-reduce.js").left,A=o("./node_modules/core-js/internals/array-method-is-strict.js"),f=o("./node_modules/core-js/internals/environment-v8-version.js"),g=o("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&f>79&&f<83,x=m||!A("reduce");h({target:"Array",proto:!0,forced:x},{reduce:function(b){var w=arguments.length;return d(this,b,w,w>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/is-array.js"),f=d([].reverse),g=[1,2];h({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return A(this)&&(this.length=this.length),f(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-array.js"),A=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-absolute-index.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/array-method-has-species-support.js"),N=o("./node_modules/core-js/internals/array-slice.js"),S=w("slice"),C=b("species"),k=Array,W=Math.max;h({target:"Array",proto:!0,forced:!S},{slice:function(te,K){var X=x(this),O=m(X),le=g(te,O),z=g(K===void 0?O:K,O),R,ie,Ae;if(d(X)&&(R=X.constructor,A(R)&&(R===k||d(R.prototype))?R=void 0:f(R)&&(R=R[C],R===null&&(R=void 0)),R===k||R===void 0))return N(X,le,z);for(ie=new(R===void 0?k:R)(W(z-le,0)),Ae=0;le<z;le++,Ae++)le in X&&y(ie,Ae,X[le]);return ie.length=Ae,ie}})}),"./node_modules/core-js/modules/es.function.name.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/descriptors.js"),d=o("./node_modules/core-js/internals/function-name.js").EXISTS,A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=A(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=A(x.exec),b="name";h&&!d&&f(g,b,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/an-instance.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-get-prototype-of.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),y=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),N=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,C=o("./node_modules/core-js/internals/descriptors.js"),k=o("./node_modules/core-js/internals/is-pure.js"),W="constructor",q="Iterator",te=N("toStringTag"),K=TypeError,X=d[q],O=k||!g(X)||X.prototype!==S||!b(function(){X({})}),le=function(){if(A(this,S),m(this)===S)throw new K("Abstract class Iterator not directly constructable")},z=function(R,ie){C?x(S,R,{configurable:!0,get:function(){return ie},set:function(Ae){if(f(this),this===S)throw new K("You can't redefine this property");w(this,R)?this[R]=Ae:y(this,R,Ae)}}):S[R]=ie};w(S,te)||z(te,q),(O||!w(S,W)||S[W]===Object)&&z(W,le),le.prototype=S,h({global:!0,constructor:!0,forced:O},{Iterator:le})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/iterate.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x=o("./node_modules/core-js/internals/iterator-close.js"),y=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=y("forEach",TypeError);h({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(N){g(this);try{f(N)}catch(k){x(this,"throw",k)}if(b)return d(b,this,N);var S=m(this),C=0;A(S,function(k){N(k,C++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),m=o("./node_modules/core-js/internals/iterator-create-proxy.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),w=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=o("./node_modules/core-js/internals/is-pure.js"),S=!N&&!b("map",function(){}),C=!N&&!S&&w("map",TypeError),k=N||S||C,W=m(function(){var q=this.iterator,te=f(d(this.next,q)),K=this.done=!!te.done;if(!K)return x(q,this.mapper,[te.value,this.counter++],!0)});h({target:"Iterator",proto:!0,real:!0,forced:k},{map:function(te){f(this);try{A(te)}catch(K){y(this,"throw",K)}return C?d(C,this,te):new W(g(this),{mapper:te})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/is-array.js"),y=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/is-raw-json.js"),w=o("./node_modules/core-js/internals/is-symbol.js"),N=o("./node_modules/core-js/internals/classof-raw.js"),S=o("./node_modules/core-js/internals/to-string.js"),C=o("./node_modules/core-js/internals/array-slice.js"),k=o("./node_modules/core-js/internals/parse-json-string.js"),W=o("./node_modules/core-js/internals/uid.js"),q=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),te=o("./node_modules/core-js/internals/native-raw-json.js"),K=String,X=d("JSON","stringify"),O=g(/./.exec),le=g("".charAt),z=g("".charCodeAt),R=g("".replace),ie=g("".slice),Ae=g([].push),Oe=g(1.1.toString),be=/[\uD800-\uDFFF]/g,Te=/^[\uD800-\uDBFF]$/,Y=/^[\uDC00-\uDFFF]$/,Ne=W(),ce=Ne.length,ae=!q||m(function(){var se=d("Symbol")("stringify detection");return X([se])!=="[null]"||X({a:se})!=="{}"||X(Object(se))!=="{}"}),Ce=m(function(){return X("\uDF06\uD834")!=='"\\udf06\\ud834"'||X("\uDEAD")!=='"\\udead"'}),Ee=ae?function(se,J){var je=C(arguments),Pe=me(J);if(!(!y(Pe)&&(se===void 0||w(se))))return je[1]=function(Le,Ie){if(y(Pe)&&(Ie=f(Pe,this,K(Le),Ie)),!w(Ie))return Ie},A(X,null,je)}:X,we=function(se,J,je){var Pe=le(je,J-1),Le=le(je,J+1);return O(Te,se)&&!O(Y,Le)||O(Y,se)&&!O(Te,Pe)?"\\u"+Oe(z(se,0),16):se},me=function(se){if(y(se))return se;if(x(se)){for(var J=se.length,je=[],Pe=0;Pe<J;Pe++){var Le=se[Pe];typeof Le=="string"?Ae(je,Le):(typeof Le=="number"||N(Le)==="Number"||N(Le)==="String")&&Ae(je,S(Le))}var Ie=je.length,pe=!0;return function(ke,Ye){if(pe)return pe=!1,Ye;if(x(this))return Ye;for(var wt=0;wt<Ie;wt++)if(je[wt]===ke)return Ye}}};X&&h({target:"JSON",stat:!0,arity:3,forced:ae||Ce||!te},{stringify:function(J,je,Pe){var Le=me(je),Ie=[],pe=Ee(J,function(Ir,Sr){var He=y(Le)?f(Le,this,K(Ir),Sr):Sr;return!te&&b(He)?Ne+(Ae(Ie,He.rawJSON)-1):He},Pe);if(typeof pe!="string"||(Ce&&(pe=R(pe,be,we)),te))return pe;for(var ke="",Ye=pe.length,wt=0;wt<Ye;wt++){var Ft=le(pe,wt);if(Ft==='"'){var Bt=k(pe,++wt).end-1,Vt=ie(pe,wt,Bt);ke+=ie(Vt,0,ce)===Ne?Ie[ie(Vt,ce)]:'"'+Vt+'"',wt=Bt}else ke+=Ft}return ke}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),y=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/inherit-if-required.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/is-symbol.js"),S=o("./node_modules/core-js/internals/to-primitive.js"),C=o("./node_modules/core-js/internals/fails.js"),k=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,W=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,q=o("./node_modules/core-js/internals/object-define-property.js").f,te=o("./node_modules/core-js/internals/this-number-value.js"),K=o("./node_modules/core-js/internals/string-trim.js").trim,X="Number",O=f[X],le=g[X],z=O.prototype,R=f.TypeError,ie=m("".slice),Ae=m("".charCodeAt),Oe=function(ae){var Ce=S(ae,"number");return typeof Ce=="bigint"?Ce:be(Ce)},be=function(ae){var Ce=S(ae,"number"),Ee,we,me,se,J,je,Pe,Le;if(N(Ce))throw new R("Cannot convert a Symbol value to a number");if(typeof Ce=="string"&&Ce.length>2){if(Ce=K(Ce),Ee=Ae(Ce,0),Ee===43||Ee===45){if(we=Ae(Ce,2),we===88||we===120)return NaN}else if(Ee===48){switch(Ae(Ce,1)){case 66:case 98:me=2,se=49;break;case 79:case 111:me=8,se=55;break;default:return+Ce}for(J=ie(Ce,2),je=J.length,Pe=0;Pe<je;Pe++)if(Le=Ae(J,Pe),Le<48||Le>se)return NaN;return parseInt(J,me)}}return+Ce},Te=x(X,!O(" 0o1")||!O("0b1")||O("+0x1")),Y=function(ae){return w(z,ae)&&C(function(){te(ae)})},Ne=function(Ce){var Ee=arguments.length<1?0:O(Oe(Ce));return Y(this)?b(Object(Ee),this,Ne):Ee};Ne.prototype=z,Te&&!d&&(z.constructor=Ne),h({global:!0,constructor:!0,wrap:!0,forced:Te},{Number:Ne});var ce=function(ae,Ce){for(var Ee=A?k(Ce):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),we=0,me;Ee.length>we;we++)y(Ce,me=Ee[we])&&!y(ae,me)&&q(ae,me,W(Ce,me))};d&&le&&ce(g[X],le),(Te||d)&&ce(g[X],O)}),"./node_modules/core-js/modules/es.object.assign.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/object-assign.js");h({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),A=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=!d||A(function(){f.f(1)});h({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var b=f.f;return b?b(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/object-keys.js"),f=o("./node_modules/core-js/internals/fails.js"),g=f(function(){A(1)});h({target:"Object",stat:!0,forced:g},{keys:function(x){return A(d(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/to-string-tag-support.js"),d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/object-to-string.js");h||d(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{all:function(b){var w=this,N=f.f(w),S=N.resolve,C=N.reject,k=g(function(){var W=A(w.resolve),q=[],te=0,K=1;m(b,function(X){var O=te++,le=!1;K++,d(W,w,X).then(function(z){le||(le=!0,q[O]=z,--K||S(q))},C)}),--K||S(q)});return k.error&&C(k.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=f&&f.prototype;if(h({target:"Promise",proto:!0,forced:A,real:!0},{catch:function(w){return this.then(void 0,w)}}),!d&&m(f)){var b=g("Promise").prototype.catch;y.catch!==b&&x(y,"catch",b,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/environment-is-node.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/set-species.js"),N=o("./node_modules/core-js/internals/a-callable.js"),S=o("./node_modules/core-js/internals/is-callable.js"),C=o("./node_modules/core-js/internals/is-object.js"),k=o("./node_modules/core-js/internals/an-instance.js"),W=o("./node_modules/core-js/internals/species-constructor.js"),q=o("./node_modules/core-js/internals/task.js").set,te=o("./node_modules/core-js/internals/microtask.js"),K=o("./node_modules/core-js/internals/host-report-errors.js"),X=o("./node_modules/core-js/internals/perform.js"),O=o("./node_modules/core-js/internals/queue.js"),le=o("./node_modules/core-js/internals/internal-state.js"),z=o("./node_modules/core-js/internals/promise-native-constructor.js"),R=o("./node_modules/core-js/internals/promise-constructor-detection.js"),ie=o("./node_modules/core-js/internals/new-promise-capability.js"),Ae="Promise",Oe=R.CONSTRUCTOR,be=R.REJECTION_EVENT,Te=R.SUBCLASSING,Y=le.getterFor(Ae),Ne=le.set,ce=z&&z.prototype,ae=z,Ce=ce,Ee=f.TypeError,we=f.document,me=f.process,se=ie.f,J=se,je=!!(we&&we.createEvent&&f.dispatchEvent),Pe="unhandledrejection",Le="rejectionhandled",Ie=0,pe=1,ke=2,Ye=1,wt=2,Ft,Bt,Vt,Ir,Sr=function(hr){var Br;return C(hr)&&S(Br=hr.then)?Br:!1},He=function(hr,Br){var Qr=Br.value,Kr=Br.state===pe,hn=Kr?hr.ok:hr.fail,Wr=hr.resolve,Wn=hr.reject,Lr=hr.domain,Dr,wn,cn;try{hn?(Kr||(Br.rejection===wt&&on(Br),Br.rejection=Ye),hn===!0?Dr=Qr:(Lr&&Lr.enter(),Dr=hn(Qr),Lr&&(Lr.exit(),cn=!0)),Dr===hr.promise?Wn(new Ee("Promise-chain cycle")):(wn=Sr(Dr))?m(wn,Dr,Wr,Wn):Wr(Dr)):Wn(Qr)}catch(Ln){Lr&&!cn&&Lr.exit(),Wn(Ln)}},Zt=function(hr,Br){hr.notified||(hr.notified=!0,te(function(){for(var Qr=hr.reactions,Kr;Kr=Qr.get();)He(Kr,hr);hr.notified=!1,Br&&!hr.rejection&&Vr(hr)}))},Nt=function(hr,Br,Qr){var Kr,hn;je?(Kr=we.createEvent("Event"),Kr.promise=Br,Kr.reason=Qr,Kr.initEvent(hr,!1,!0),f.dispatchEvent(Kr)):Kr={promise:Br,reason:Qr},!be&&(hn=f["on"+hr])?hn(Kr):hr===Pe&&K("Unhandled promise rejection",Qr)},Vr=function(hr){m(q,f,function(){var Br=hr.facade,Qr=hr.value,Kr=mr(hr),hn;if(Kr&&(hn=X(function(){A?me.emit("unhandledRejection",Qr,Br):Nt(Pe,Br,Qr)}),hr.rejection=A||mr(hr)?wt:Ye,hn.error))throw hn.value})},mr=function(hr){return hr.rejection!==Ye&&!hr.parent},on=function(hr){m(q,f,function(){var Br=hr.facade;A?me.emit("rejectionHandled",Br):Nt(Le,Br,hr.value)})},Jr=function(hr,Br,Qr){return function(Kr){hr(Br,Kr,Qr)}},Gr=function(hr,Br,Qr){hr.done||(hr.done=!0,Qr&&(hr=Qr),hr.value=Br,hr.state=ke,Zt(hr,!0))},_r=function(hr,Br,Qr){if(!hr.done){hr.done=!0,Qr&&(hr=Qr);try{if(hr.facade===Br)throw new Ee("Promise can't be resolved itself");var Kr=Sr(Br);Kr?te(function(){var hn={done:!1};try{m(Kr,Br,Jr(_r,hn,hr),Jr(Gr,hn,hr))}catch(Wr){Gr(hn,Wr,hr)}}):(hr.value=Br,hr.state=pe,Zt(hr,!1))}catch(hn){Gr({done:!1},hn,hr)}}};if(Oe&&(ae=function(Br){k(this,Ce),N(Br),m(Ft,this);var Qr=Y(this);try{Br(Jr(_r,Qr),Jr(Gr,Qr))}catch(Kr){Gr(Qr,Kr)}},Ce=ae.prototype,Ft=function(Br){Ne(this,{type:Ae,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:Ie,value:null})},Ft.prototype=x(Ce,"then",function(Br,Qr){var Kr=Y(this),hn=se(W(this,ae));return Kr.parent=!0,hn.ok=S(Br)?Br:!0,hn.fail=S(Qr)&&Qr,hn.domain=A?me.domain:void 0,Kr.state===Ie?Kr.reactions.add(hn):te(function(){He(hn,Kr)}),hn.promise}),Bt=function(){var hr=new Ft,Br=Y(hr);this.promise=hr,this.resolve=Jr(_r,Br),this.reject=Jr(Gr,Br)},ie.f=se=function(hr){return hr===ae||hr===Vt?new Bt(hr):J(hr)},!d&&S(z)&&ce!==Object.prototype)){Ir=ce.then,Te||x(ce,"then",function(Br,Qr){var Kr=this;return new ae(function(hn,Wr){m(Ir,Kr,hn,Wr)}).then(Br,Qr)},{unsafe:!0});try{delete ce.constructor}catch{}y&&y(ce,Ce)}h({global:!0,constructor:!0,wrap:!0,forced:Oe},{Promise:ae}),Vt=g.Promise,b(ae,Ae,!1,!0),w(Ae)}),"./node_modules/core-js/modules/es.promise.js":(function(l,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),m=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");h({target:"Promise",stat:!0,forced:x},{race:function(b){var w=this,N=f.f(w),S=N.reject,C=g(function(){var k=A(w.resolve);m(b,function(W){d(k,w,W).then(N.resolve,S)})});return C.error&&S(C.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/new-promise-capability.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;h({target:"Promise",stat:!0,forced:A},{reject:function(g){var m=d.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=o("./node_modules/core-js/internals/promise-resolve.js"),x=d("Promise"),y=A&&!g;h({target:"Promise",stat:!0,forced:A||g},{resolve:function(w){return m(y&&this===x?f:this,w)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/regexp-exec.js");h({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(l,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,b=/[ac]/;return b.exec=function(){return y=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&y})(),x=/./.test;h({target:"RegExp",proto:!0,forced:!m},{test:function(y){var b=f(this),w=g(y),N=b.exec;if(!A(N))return d(x,b,w);var S=d(N,b,w);return S===null?!1:(f(S),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-name.js").PROPER,d=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,b=y[x],w=g(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),N=h&&b.name!==x;(w||N)&&d(y,x,function(){var C=A(this),k=f(C.source),W=f(m(C));return"/"+k+"/"+W},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/collection.js"),d=o("./node_modules/core-js/internals/collection-strong.js");h("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},d)}),"./node_modules/core-js/modules/es.set.js":(function(l,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),N=Math.min,S=y("endsWith"),C=!b&&!S&&!!(function(){var k=A(String.prototype,"endsWith");return k&&!k.writable})();h({target:"String",proto:!0,forced:!C&&!S},{endsWith:function(W){var q=g(x(this));m(W);var te=arguments.length>1?arguments[1]:void 0,K=q.length,X=te===void 0?K:N(f(te),K),O=g(W);return w(q,X-O.length,X)===O}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/not-a-regexp.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=d("".indexOf);h({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~x(g(f(this)),g(A(b)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/string-multibyte.js").charAt,d=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/internal-state.js"),f=o("./node_modules/core-js/internals/iterator-define.js"),g=o("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=A.set,y=A.getterFor(m);f(String,"String",function(b){x(this,{type:m,string:d(b),index:0})},function(){var w=y(this),N=w.string,S=w.index,C;return S>=N.length?g(void 0,!0):(C=h(N,S),w.index+=C.length,g(C,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/create-html.js"),A=o("./node_modules/core-js/internals/string-html-forced.js");h({target:"String",proto:!0,forced:A("link")},{link:function(g){return d(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-length.js"),x=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/get-method.js"),w=o("./node_modules/core-js/internals/advance-string-index.js"),N=o("./node_modules/core-js/internals/regexp-get-flags.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=d("".indexOf);A("match",function(k,W,q){return[function(K){var X=y(this),O=g(K)?b(K,k):void 0;return O?h(O,K,X):new RegExp(K)[k](x(X))},function(te){var K=f(this),X=x(te),O=q(W,K,X);if(O.done)return O.value;var le=x(N(K));if(C(le,"g")===-1)return S(K,X);var z=C(le,"u")!==-1;K.lastIndex=0;for(var R=[],ie=0,Ae;(Ae=S(K,X))!==null;){var Oe=x(Ae[0]);R[ie]=Oe,Oe===""&&(K.lastIndex=w(X,m(K.lastIndex),z)),ie++}return ie===0?null:R}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-apply.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),w=o("./node_modules/core-js/internals/to-length.js"),N=o("./node_modules/core-js/internals/to-string.js"),S=o("./node_modules/core-js/internals/require-object-coercible.js"),C=o("./node_modules/core-js/internals/advance-string-index.js"),k=o("./node_modules/core-js/internals/get-method.js"),W=o("./node_modules/core-js/internals/get-substitution.js"),q=o("./node_modules/core-js/internals/regexp-get-flags.js"),te=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),K=o("./node_modules/core-js/internals/well-known-symbol.js"),X=K("replace"),O=Math.max,le=Math.min,z=A([].concat),R=A([].push),ie=A("".indexOf),Ae=A("".slice),Oe=function(Ne){return Ne===void 0?Ne:String(Ne)},be=(function(){return"a".replace(/./,"$0")==="$0"})(),Te=(function(){return/./[X]?/./[X]("a","$0")==="":!1})(),Y=!g(function(){var Ne=/./;return Ne.exec=function(){var ce=[];return ce.groups={a:"7"},ce},"".replace(Ne,"$<a>")!=="7"});f("replace",function(Ne,ce,ae){var Ce=Te?"$":"$0";return[function(we,me){var se=S(this),J=y(we)?k(we,X):void 0;return J?d(J,we,se,me):d(ce,N(se),we,me)},function(Ee,we){var me=m(this),se=N(Ee);if(typeof we=="string"&&ie(we,Ce)===-1&&ie(we,"$<")===-1){var J=ae(ce,me,se,we);if(J.done)return J.value}var je=x(we);je||(we=N(we));var Pe=N(q(me)),Le=ie(Pe,"g")!==-1,Ie;Le&&(Ie=ie(Pe,"u")!==-1,me.lastIndex=0);for(var pe=[],ke;ke=te(me,se),!(ke===null||(R(pe,ke),!Le));){var Ye=N(ke[0]);Ye===""&&(me.lastIndex=C(se,w(me.lastIndex),Ie))}for(var wt="",Ft=0,Bt=0;Bt<pe.length;Bt++){ke=pe[Bt];for(var Vt=N(ke[0]),Ir=O(le(b(ke.index),se.length),0),Sr=[],He,Zt=1;Zt<ke.length;Zt++)R(Sr,Oe(ke[Zt]));var Nt=ke.groups;if(je){var Vr=z([Vt],Sr,Ir,se);Nt!==void 0&&R(Vr,Nt),He=N(h(we,void 0,Vr))}else He=W(Vt,se,Ir,Sr,Nt,we);Ir>=Ft&&(wt+=Ae(se,Ft,Ir)+He,Ft=Ir+Vt.length)}return wt+Ae(se,Ft)}]},!Y||!be||Te)}),"./node_modules/core-js/modules/es.string.split.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/function-call.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/species-constructor.js"),y=o("./node_modules/core-js/internals/advance-string-index.js"),b=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),N=o("./node_modules/core-js/internals/get-method.js"),S=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),C=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),k=o("./node_modules/core-js/internals/fails.js"),W=C.UNSUPPORTED_Y,q=4294967295,te=Math.min,K=d([].push),X=d("".slice),O=!k(function(){var z=/(?:)/,R=z.exec;z.exec=function(){return R.apply(this,arguments)};var ie="ab".split(z);return ie.length!==2||ie[0]!=="a"||ie[1]!=="b"}),le="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;A("split",function(z,R,ie){var Ae="0".split(void 0,0).length?function(Oe,be){return Oe===void 0&&be===0?[]:h(R,this,Oe,be)}:R;return[function(be,Te){var Y=m(this),Ne=g(be)?N(be,z):void 0;return Ne?h(Ne,be,Y,Te):h(Ae,w(Y),be,Te)},function(Oe,be){var Te=f(this),Y=w(Oe);if(!le){var Ne=ie(Ae,Te,Y,be,Ae!==R);if(Ne.done)return Ne.value}var ce=x(Te,RegExp),ae=Te.unicode,Ce=(Te.ignoreCase?"i":"")+(Te.multiline?"m":"")+(Te.unicode?"u":"")+(W?"g":"y"),Ee=new ce(W?"^(?:"+Te.source+")":Te,Ce),we=be===void 0?q:be>>>0;if(we===0)return[];if(Y.length===0)return S(Ee,Y)===null?[Y]:[];for(var me=0,se=0,J=[];se<Y.length;){Ee.lastIndex=W?0:se;var je=S(Ee,W?X(Y,se):Y),Pe;if(je===null||(Pe=te(b(Ee.lastIndex+(W?se:0)),Y.length))===me)se=y(Y,se,ae);else{if(K(J,X(Y,me,se)),J.length===we)return J;for(var Le=1;Le<=je.length-1;Le++)if(K(J,je[Le]),J.length===we)return J;se=me=Pe}}return K(J,X(Y,me)),J}]},le||!O,W)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=d("".slice),N=Math.min,S=y("startsWith"),C=!b&&!S&&!!(function(){var k=A(String.prototype,"startsWith");return k&&!k.writable})();h({target:"String",proto:!0,forced:!C&&!S},{startsWith:function(W){var q=g(x(this));m(W);var te=f(N(arguments.length>1?arguments[1]:void 0,q.length)),K=g(W);return w(q,te,te+K.length)===K}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/string-trim.js").trim,A=o("./node_modules/core-js/internals/string-trim-forced.js");h({target:"String",proto:!0,forced:A("trim")},{trim:function(){return d(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),N=o("./node_modules/core-js/internals/an-object.js"),S=o("./node_modules/core-js/internals/to-indexed-object.js"),C=o("./node_modules/core-js/internals/to-property-key.js"),k=o("./node_modules/core-js/internals/to-string.js"),W=o("./node_modules/core-js/internals/create-property-descriptor.js"),q=o("./node_modules/core-js/internals/object-create.js"),te=o("./node_modules/core-js/internals/object-keys.js"),K=o("./node_modules/core-js/internals/object-get-own-property-names.js"),X=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),O=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),le=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),z=o("./node_modules/core-js/internals/object-define-property.js"),R=o("./node_modules/core-js/internals/object-define-properties.js"),ie=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),Ae=o("./node_modules/core-js/internals/define-built-in.js"),Oe=o("./node_modules/core-js/internals/define-built-in-accessor.js"),be=o("./node_modules/core-js/internals/shared.js"),Te=o("./node_modules/core-js/internals/shared-key.js"),Y=o("./node_modules/core-js/internals/hidden-keys.js"),Ne=o("./node_modules/core-js/internals/uid.js"),ce=o("./node_modules/core-js/internals/well-known-symbol.js"),ae=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ce=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Ee=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),we=o("./node_modules/core-js/internals/set-to-string-tag.js"),me=o("./node_modules/core-js/internals/internal-state.js"),se=o("./node_modules/core-js/internals/array-iteration.js").forEach,J=Te("hidden"),je="Symbol",Pe="prototype",Le=me.set,Ie=me.getterFor(je),pe=Object[Pe],ke=d.Symbol,Ye=ke&&ke[Pe],wt=d.RangeError,Ft=d.TypeError,Bt=d.QObject,Vt=le.f,Ir=z.f,Sr=X.f,He=ie.f,Zt=f([].push),Nt=be("symbols"),Vr=be("op-symbols"),mr=be("wks"),on=!Bt||!Bt[Pe]||!Bt[Pe].findChild,Jr=function(Lr,Dr,wn){var cn=Vt(pe,Dr);cn&&delete pe[Dr],Ir(Lr,Dr,wn),cn&&Lr!==pe&&Ir(pe,Dr,cn)},Gr=m&&y(function(){return q(Ir({},"a",{get:function(){return Ir(this,"a",{value:7}).a}})).a!==7})?Jr:Ir,_r=function(Lr,Dr){var wn=Nt[Lr]=q(Ye);return Le(wn,{type:je,tag:Lr,description:Dr}),m||(wn.description=Dr),wn},hr=function(Dr,wn,cn){Dr===pe&&hr(Vr,wn,cn),N(Dr);var Ln=C(wn);return N(cn),b(Nt,Ln)?(cn.enumerable?(b(Dr,J)&&Dr[J][Ln]&&(Dr[J][Ln]=!1),cn=q(cn,{enumerable:W(0,!1)})):(b(Dr,J)||Ir(Dr,J,W(1,q(null))),Dr[J][Ln]=!0),Gr(Dr,Ln,cn)):Ir(Dr,Ln,cn)},Br=function(Dr,wn){N(Dr);var cn=S(wn),Ln=te(cn).concat(Wn(cn));return se(Ln,function(la){(!m||A(Kr,cn,la))&&hr(Dr,la,cn[la])}),Dr},Qr=function(Dr,wn){return wn===void 0?q(Dr):Br(q(Dr),wn)},Kr=function(Dr){var wn=C(Dr),cn=A(He,this,wn);return this===pe&&b(Nt,wn)&&!b(Vr,wn)?!1:cn||!b(this,wn)||!b(Nt,wn)||b(this,J)&&this[J][wn]?cn:!0},hn=function(Dr,wn){var cn=S(Dr),Ln=C(wn);if(!(cn===pe&&b(Nt,Ln)&&!b(Vr,Ln))){var la=Vt(cn,Ln);return la&&b(Nt,Ln)&&!(b(cn,J)&&cn[J][Ln])&&(la.enumerable=!0),la}},Wr=function(Dr){var wn=Sr(S(Dr)),cn=[];return se(wn,function(Ln){!b(Nt,Ln)&&!b(Y,Ln)&&Zt(cn,Ln)}),cn},Wn=function(Lr){var Dr=Lr===pe,wn=Sr(Dr?Vr:S(Lr)),cn=[];return se(wn,function(Ln){b(Nt,Ln)&&(!Dr||b(pe,Ln))&&Zt(cn,Nt[Ln])}),cn};x||(ke=function(){if(w(Ye,this))throw new Ft("Symbol is not a constructor");var Dr=!arguments.length||arguments[0]===void 0?void 0:k(arguments[0]),wn=Ne(Dr),cn=function(Ln){var la=this===void 0?d:this;la===pe&&A(cn,Vr,Ln),b(la,J)&&b(la[J],wn)&&(la[J][wn]=!1);var Ot=W(1,Ln);try{Gr(la,wn,Ot)}catch($r){if(!($r instanceof wt))throw $r;Jr(la,wn,Ot)}};return m&&on&&Gr(pe,wn,{configurable:!0,set:cn}),_r(wn,Dr)},Ye=ke[Pe],Ae(Ye,"toString",function(){return Ie(this).tag}),Ae(ke,"withoutSetter",function(Lr){return _r(Ne(Lr),Lr)}),ie.f=Kr,z.f=hr,R.f=Br,le.f=hn,K.f=X.f=Wr,O.f=Wn,ae.f=function(Lr){return _r(ce(Lr),Lr)},m&&(Oe(Ye,"description",{configurable:!0,get:function(){return Ie(this).description}}),g||Ae(pe,"propertyIsEnumerable",Kr,{unsafe:!0}))),h({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:ke}),se(te(mr),function(Lr){Ce(Lr)}),h({target:je,stat:!0,forced:!x},{useSetter:function(){on=!0},useSimple:function(){on=!1}}),h({target:"Object",stat:!0,forced:!x,sham:!m},{create:Qr,defineProperty:hr,defineProperties:Br,getOwnPropertyDescriptor:hn}),h({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Wr}),Ee(),we(ke,je),Y[J]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/descriptors.js"),A=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/object-is-prototype-of.js"),y=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/define-built-in-accessor.js"),w=o("./node_modules/core-js/internals/copy-constructor-properties.js"),N=A.Symbol,S=N&&N.prototype;if(d&&m(N)&&(!("description"in S)||N().description!==void 0)){var C={},k=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),R=x(S,this)?new N(z):z===void 0?N():N(z);return z===""&&(C[R]=!0),R};w(k,N),k.prototype=S,S.constructor=k;var W=String(N("description detection"))==="Symbol(description detection)",q=f(S.valueOf),te=f(S.toString),K=/^Symbol\((.*)\)[^)]+$/,X=f("".replace),O=f("".slice);b(S,"description",{configurable:!0,get:function(){var z=q(this);if(g(C,z))return"";var R=te(z),ie=W?O(R,7,-1):X(R,K,"$1");return ie===""?void 0:ie}}),h({global:!0,constructor:!0,forced:!0},{Symbol:k})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{for:function(b){var w=f(b);if(A(x,w))return x[w];var N=d("Symbol")(w);return x[w]=N,y[N]=w,N}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/well-known-symbol-define.js");h("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(l,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");h({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!A(b))throw new TypeError(f(b)+" is not a symbol");if(d(x,b))return x[b]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(l,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").add;h({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=d(this),m=0,x=arguments.length;m<x;m++)A(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").remove;h({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=d(this),m=!0,x,y=0,b=arguments.length;y<b;y++)x=A(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(!y(b,b,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;h({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var w=A(this),N=d(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(C){N(C,C,w)&&x(S,C)}),S}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0),b=f(x,function(w){if(y(w,w,x))return{value:w}},!0);return b&&b.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-intersection.js");h({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-disjoint-from.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-subset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-is-superset-of.js");h({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=d([].join),x=d([].push);h({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var w=A(this),N=b===void 0?",":g(b),S=[];return f(w,function(C){x(S,C)}),m(S,N)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=f.Set,x=f.add;h({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var w=A(this),N=d(b,arguments.length>1?arguments[1]:void 0),S=new m;return g(w,function(C){x(S,N(C,C,w))}),S}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;h({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=A(this),b=arguments.length<2,w=b?void 0:arguments[1];if(d(x),f(y,function(N){b?(b=!1,w=N):w=x(w,N,N,y)}),b)throw new g("Reduce of empty set with no initial value");return w}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-iterate.js");h({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=A(this),y=d(m,arguments.length>1?arguments[1]:void 0);return f(x,function(b){if(y(b,b,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-symmetric-difference.js");h({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),f=o("./node_modules/core-js/internals/set-union.js");h({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return d(f,this,A(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/internals/array-for-each.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==f)try{g(y,"forEach",f)}catch{y.forEach=f}};for(var x in d)d[x]&&m(h[x]&&h[x].prototype);m(A)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/global-this.js"),d=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),f=o("./node_modules/core-js/modules/es.array.iterator.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=o("./node_modules/core-js/internals/set-to-string-tag.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),b=f.values,w=function(S,C){if(S){if(S[y]!==b)try{g(S,y,b)}catch{S[y]=b}if(m(S,C,!0),d[C]){for(var k in f)if(S[k]!==f[k])try{g(S,k,f[k])}catch{S[k]=f[k]}}}};for(var N in d)w(h[N]&&h[N].prototype,N);w(A,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(d.setInterval,!0);h({global:!0,bind:!0,forced:d.setInterval!==f},{setInterval:f})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(l,u,o){var h=o("./node_modules/core-js/internals/export.js"),d=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),f=A(d.setTimeout,!0);h({global:!0,bind:!0,forced:d.setTimeout!==f},{setTimeout:f})}),"./node_modules/core-js/modules/web.timers.js":(function(l,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(l,u,o){o.r(u),o.d(u,{default:function(){return Jr}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:h,setPrototypeOf:d,isFrozen:A,getPrototypeOf:f,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:b,construct:w}=typeof Reflect<"u"&&Reflect;m||(m=function(_r){return _r}),x||(x=function(_r){return _r}),b||(b=function(_r,hr){for(var Br=arguments.length,Qr=new Array(Br>2?Br-2:0),Kr=2;Kr<Br;Kr++)Qr[Kr-2]=arguments[Kr];return _r.apply(hr,Qr)}),w||(w=function(_r){for(var hr=arguments.length,Br=new Array(hr>1?hr-1:0),Qr=1;Qr<hr;Qr++)Br[Qr-1]=arguments[Qr];return new _r(...Br)});const N=Ae(Array.prototype.forEach),S=Ae(Array.prototype.lastIndexOf),C=Ae(Array.prototype.pop),k=Ae(Array.prototype.push),W=Ae(Array.prototype.splice),q=Ae(String.prototype.toLowerCase),te=Ae(String.prototype.toString),K=Ae(String.prototype.match),X=Ae(String.prototype.replace),O=Ae(String.prototype.indexOf),le=Ae(String.prototype.trim),z=Ae(Object.prototype.hasOwnProperty),R=Ae(RegExp.prototype.test),ie=Oe(TypeError);function Ae(Gr){return function(_r){_r instanceof RegExp&&(_r.lastIndex=0);for(var hr=arguments.length,Br=new Array(hr>1?hr-1:0),Qr=1;Qr<hr;Qr++)Br[Qr-1]=arguments[Qr];return b(Gr,_r,Br)}}function Oe(Gr){return function(){for(var _r=arguments.length,hr=new Array(_r),Br=0;Br<_r;Br++)hr[Br]=arguments[Br];return w(Gr,hr)}}function be(Gr,_r){let hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q;d&&d(Gr,null);let Br=_r.length;for(;Br--;){let Qr=_r[Br];if(typeof Qr=="string"){const Kr=hr(Qr);Kr!==Qr&&(A(_r)||(_r[Br]=Kr),Qr=Kr)}Gr[Qr]=!0}return Gr}function Te(Gr){for(let _r=0;_r<Gr.length;_r++)z(Gr,_r)||(Gr[_r]=null);return Gr}function Y(Gr){const _r=y(null);for(const[hr,Br]of h(Gr))z(Gr,hr)&&(Array.isArray(Br)?_r[hr]=Te(Br):Br&&typeof Br=="object"&&Br.constructor===Object?_r[hr]=Y(Br):_r[hr]=Br);return _r}function Ne(Gr,_r){for(;Gr!==null;){const Br=g(Gr,_r);if(Br){if(Br.get)return Ae(Br.get);if(typeof Br.value=="function")return Ae(Br.value)}Gr=f(Gr)}function hr(){return null}return hr}const ce=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ae=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ce=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ee=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),we=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),me=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),se=m(["#text"]),J=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),je=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pe=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Le=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ie=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pe=x(/<%[\w\W]*|[\w\W]*%>/gm),ke=x(/\$\{[\w\W]*/gm),Ye=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),wt=x(/^aria-[\-\w]+$/),Ft=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Bt=x(/^(?:\w+script|data):/i),Vt=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ir=x(/^html$/i),Sr=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var He=Object.freeze({__proto__:null,ARIA_ATTR:wt,ATTR_WHITESPACE:Vt,CUSTOM_ELEMENT:Sr,DATA_ATTR:Ye,DOCTYPE_NAME:Ir,ERB_EXPR:pe,IS_ALLOWED_URI:Ft,IS_SCRIPT_OR_DATA:Bt,MUSTACHE_EXPR:Ie,TMPLIT_EXPR:ke});const Zt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Nt=function(){return typeof window>"u"?null:window},Vr=function(_r,hr){if(typeof _r!="object"||typeof _r.createPolicy!="function")return null;let Br=null;const Qr="data-tt-policy-suffix";hr&&hr.hasAttribute(Qr)&&(Br=hr.getAttribute(Qr));const Kr="dompurify"+(Br?"#"+Br:"");try{return _r.createPolicy(Kr,{createHTML(hn){return hn},createScriptURL(hn){return hn}})}catch{return console.warn("TrustedTypes policy "+Kr+" could not be created."),null}},mr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function on(){let Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nt();const _r=St=>on(St);if(_r.version="3.3.1",_r.removed=[],!Gr||!Gr.document||Gr.document.nodeType!==Zt.document||!Gr.Element)return _r.isSupported=!1,_r;let{document:hr}=Gr;const Br=hr,Qr=Br.currentScript,{DocumentFragment:Kr,HTMLTemplateElement:hn,Node:Wr,Element:Wn,NodeFilter:Lr,NamedNodeMap:Dr=Gr.NamedNodeMap||Gr.MozNamedAttrMap,HTMLFormElement:wn,DOMParser:cn,trustedTypes:Ln}=Gr,la=Wn.prototype,Ot=Ne(la,"cloneNode"),$r=Ne(la,"remove"),un=Ne(la,"nextSibling"),tn=Ne(la,"childNodes"),lr=Ne(la,"parentNode");if(typeof hn=="function"){const St=hr.createElement("template");St.content&&St.content.ownerDocument&&(hr=St.content.ownerDocument)}let ma,xi="";const{implementation:Cn,createNodeIterator:Es,createDocumentFragment:Ni,getElementsByTagName:yi}=hr,{importNode:Qi}=Br;let Ii=mr();_r.isSupported=typeof h=="function"&&typeof lr=="function"&&Cn&&Cn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ps,ERB_EXPR:Ka,TMPLIT_EXPR:gs,DATA_ATTR:Va,ARIA_ATTR:Cc,IS_SCRIPT_OR_DATA:vs,ATTR_WHITESPACE:Bl,CUSTOM_ELEMENT:Nc}=He;let{IS_ALLOWED_URI:El}=He,Wi=null;const xo=be({},[...ce,...ae,...Ce,...we,...se]);let ha=null;const Jl=be({},[...J,...je,...Pe,...Le]);let ai=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Io=null,Xs=null;const To=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rl=!0,_o=!0,Ws=!1,Si=!0,ii=!1,pl=!0,Oo=!1,Hc=!1,cs=!1,Gn=!1,$i=!1,xs=!1,ys=!0,ko=!1;const Ri="user-content-";let lo=!0,Zi=!1,Fi={},yo=null;const Po=be({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ga=null;const Vi=be({},["audio","video","img","source","image","track"]);let bs=null;const Ys=be({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fs="http://www.w3.org/1998/Math/MathML",Fo="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let H=Ut,oe=!1,ue=null;const M=be({},[Fs,Fo,Ut],te);let Q=be({},["mi","mo","mn","ms","mtext"]),re=be({},["annotation-xml"]);const ye=be({},["title","style","font","a","script"]);let De=null;const Ge=["application/xhtml+xml","text/html"],it="text/html";let I=null,B=null;const D=hr.createElement("form"),V=function(tt){return tt instanceof RegExp||tt instanceof Function},Z=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(B&&B===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=Y(tt),De=Ge.indexOf(tt.PARSER_MEDIA_TYPE)===-1?it:tt.PARSER_MEDIA_TYPE,I=De==="application/xhtml+xml"?te:q,Wi=z(tt,"ALLOWED_TAGS")?be({},tt.ALLOWED_TAGS,I):xo,ha=z(tt,"ALLOWED_ATTR")?be({},tt.ALLOWED_ATTR,I):Jl,ue=z(tt,"ALLOWED_NAMESPACES")?be({},tt.ALLOWED_NAMESPACES,te):M,bs=z(tt,"ADD_URI_SAFE_ATTR")?be(Y(Ys),tt.ADD_URI_SAFE_ATTR,I):Ys,ga=z(tt,"ADD_DATA_URI_TAGS")?be(Y(Vi),tt.ADD_DATA_URI_TAGS,I):Vi,yo=z(tt,"FORBID_CONTENTS")?be({},tt.FORBID_CONTENTS,I):Po,Io=z(tt,"FORBID_TAGS")?be({},tt.FORBID_TAGS,I):Y({}),Xs=z(tt,"FORBID_ATTR")?be({},tt.FORBID_ATTR,I):Y({}),Fi=z(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,rl=tt.ALLOW_ARIA_ATTR!==!1,_o=tt.ALLOW_DATA_ATTR!==!1,Ws=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Si=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ii=tt.SAFE_FOR_TEMPLATES||!1,pl=tt.SAFE_FOR_XML!==!1,Oo=tt.WHOLE_DOCUMENT||!1,Gn=tt.RETURN_DOM||!1,$i=tt.RETURN_DOM_FRAGMENT||!1,xs=tt.RETURN_TRUSTED_TYPE||!1,cs=tt.FORCE_BODY||!1,ys=tt.SANITIZE_DOM!==!1,ko=tt.SANITIZE_NAMED_PROPS||!1,lo=tt.KEEP_CONTENT!==!1,Zi=tt.IN_PLACE||!1,El=tt.ALLOWED_URI_REGEXP||Ft,H=tt.NAMESPACE||Ut,Q=tt.MATHML_TEXT_INTEGRATION_POINTS||Q,re=tt.HTML_INTEGRATION_POINTS||re,ai=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&V(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ai.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&V(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ai.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ai.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ii&&(_o=!1),$i&&(Gn=!0),Fi&&(Wi=be({},se),ha=[],Fi.html===!0&&(be(Wi,ce),be(ha,J)),Fi.svg===!0&&(be(Wi,ae),be(ha,je),be(ha,Le)),Fi.svgFilters===!0&&(be(Wi,Ce),be(ha,je),be(ha,Le)),Fi.mathMl===!0&&(be(Wi,we),be(ha,Pe),be(ha,Le))),tt.ADD_TAGS&&(typeof tt.ADD_TAGS=="function"?To.tagCheck=tt.ADD_TAGS:(Wi===xo&&(Wi=Y(Wi)),be(Wi,tt.ADD_TAGS,I))),tt.ADD_ATTR&&(typeof tt.ADD_ATTR=="function"?To.attributeCheck=tt.ADD_ATTR:(ha===Jl&&(ha=Y(ha)),be(ha,tt.ADD_ATTR,I))),tt.ADD_URI_SAFE_ATTR&&be(bs,tt.ADD_URI_SAFE_ATTR,I),tt.FORBID_CONTENTS&&(yo===Po&&(yo=Y(yo)),be(yo,tt.FORBID_CONTENTS,I)),tt.ADD_FORBID_CONTENTS&&(yo===Po&&(yo=Y(yo)),be(yo,tt.ADD_FORBID_CONTENTS,I)),lo&&(Wi["#text"]=!0),Oo&&be(Wi,["html","head","body"]),Wi.table&&(be(Wi,["tbody"]),delete Io.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ma=tt.TRUSTED_TYPES_POLICY,xi=ma.createHTML("")}else ma===void 0&&(ma=Vr(Ln,Qr)),ma!==null&&typeof xi=="string"&&(xi=ma.createHTML(""));m&&m(tt),B=tt}},ne=be({},[...ae,...Ce,...Ee]),Se=be({},[...we,...me]),fe=function(tt){let Qt=lr(tt);(!Qt||!Qt.tagName)&&(Qt={namespaceURI:H,tagName:"template"});const cr=q(tt.tagName),Xt=q(Qt.tagName);return ue[tt.namespaceURI]?tt.namespaceURI===Fo?Qt.namespaceURI===Ut?cr==="svg":Qt.namespaceURI===Fs?cr==="svg"&&(Xt==="annotation-xml"||Q[Xt]):!!ne[cr]:tt.namespaceURI===Fs?Qt.namespaceURI===Ut?cr==="math":Qt.namespaceURI===Fo?cr==="math"&&re[Xt]:!!Se[cr]:tt.namespaceURI===Ut?Qt.namespaceURI===Fo&&!re[Xt]||Qt.namespaceURI===Fs&&!Q[Xt]?!1:!Se[cr]&&(ye[cr]||!ne[cr]):!!(De==="application/xhtml+xml"&&ue[tt.namespaceURI]):!1},ge=function(tt){k(_r.removed,{element:tt});try{lr(tt).removeChild(tt)}catch{$r(tt)}},Re=function(tt,Qt){try{k(_r.removed,{attribute:Qt.getAttributeNode(tt),from:Qt})}catch{k(_r.removed,{attribute:null,from:Qt})}if(Qt.removeAttribute(tt),tt==="is")if(Gn||$i)try{ge(Qt)}catch{}else try{Qt.setAttribute(tt,"")}catch{}},Ve=function(tt){let Qt=null,cr=null;if(cs)tt="<remove></remove>"+tt;else{const or=K(tt,/^[\r\n\t ]+/);cr=or&&or[0]}De==="application/xhtml+xml"&&H===Ut&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const Xt=ma?ma.createHTML(tt):tt;if(H===Ut)try{Qt=new cn().parseFromString(Xt,De)}catch{}if(!Qt||!Qt.documentElement){Qt=Cn.createDocument(H,"template",null);try{Qt.documentElement.innerHTML=oe?xi:Xt}catch{}}const Tt=Qt.body||Qt.documentElement;return tt&&cr&&Tt.insertBefore(hr.createTextNode(cr),Tt.childNodes[0]||null),H===Ut?yi.call(Qt,Oo?"html":"body")[0]:Oo?Qt.documentElement:Tt},et=function(tt){return Es.call(tt.ownerDocument||tt,tt,Lr.SHOW_ELEMENT|Lr.SHOW_COMMENT|Lr.SHOW_TEXT|Lr.SHOW_PROCESSING_INSTRUCTION|Lr.SHOW_CDATA_SECTION,null)},st=function(tt){return tt instanceof wn&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof Dr)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Fe=function(tt){return typeof Wr=="function"&&tt instanceof Wr};function vt(St,tt,Qt){N(St,cr=>{cr.call(_r,tt,Qt,B)})}const mt=function(tt){let Qt=null;if(vt(Ii.beforeSanitizeElements,tt,null),st(tt))return ge(tt),!0;const cr=I(tt.nodeName);if(vt(Ii.uponSanitizeElement,tt,{tagName:cr,allowedTags:Wi}),pl&&tt.hasChildNodes()&&!Fe(tt.firstElementChild)&&R(/<[/\w!]/g,tt.innerHTML)&&R(/<[/\w!]/g,tt.textContent)||tt.nodeType===Zt.progressingInstruction||pl&&tt.nodeType===Zt.comment&&R(/<[/\w]/g,tt.data))return ge(tt),!0;if(!(To.tagCheck instanceof Function&&To.tagCheck(cr))&&(!Wi[cr]||Io[cr])){if(!Io[cr]&&nt(cr)&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,cr)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(cr)))return!1;if(lo&&!yo[cr]){const Xt=lr(tt)||tt.parentNode,Tt=tn(tt)||tt.childNodes;if(Tt&&Xt){const or=Tt.length;for(let at=or-1;at>=0;--at){const dt=Ot(Tt[at],!0);dt.__removalCount=(tt.__removalCount||0)+1,Xt.insertBefore(dt,un(tt))}}}return ge(tt),!0}return tt instanceof Wn&&!fe(tt)||(cr==="noscript"||cr==="noembed"||cr==="noframes")&&R(/<\/no(script|embed|frames)/i,tt.innerHTML)?(ge(tt),!0):(ii&&tt.nodeType===Zt.text&&(Qt=tt.textContent,N([Ps,Ka,gs],Xt=>{Qt=X(Qt,Xt," ")}),tt.textContent!==Qt&&(k(_r.removed,{element:tt.cloneNode()}),tt.textContent=Qt)),vt(Ii.afterSanitizeElements,tt,null),!1)},yt=function(tt,Qt,cr){if(ys&&(Qt==="id"||Qt==="name")&&(cr in hr||cr in D))return!1;if(!(_o&&!Xs[Qt]&&R(Va,Qt))){if(!(rl&&R(Cc,Qt))){if(!(To.attributeCheck instanceof Function&&To.attributeCheck(Qt,tt))){if(!ha[Qt]||Xs[Qt]){if(!(nt(tt)&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,tt)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(tt))&&(ai.attributeNameCheck instanceof RegExp&&R(ai.attributeNameCheck,Qt)||ai.attributeNameCheck instanceof Function&&ai.attributeNameCheck(Qt,tt))||Qt==="is"&&ai.allowCustomizedBuiltInElements&&(ai.tagNameCheck instanceof RegExp&&R(ai.tagNameCheck,cr)||ai.tagNameCheck instanceof Function&&ai.tagNameCheck(cr))))return!1}else if(!bs[Qt]){if(!R(El,X(cr,Bl,""))){if(!((Qt==="src"||Qt==="xlink:href"||Qt==="href")&&tt!=="script"&&O(cr,"data:")===0&&ga[tt])){if(!(Ws&&!R(vs,X(cr,Bl,"")))){if(cr)return!1}}}}}}}return!0},nt=function(tt){return tt!=="annotation-xml"&&K(tt,Nc)},kt=function(tt){vt(Ii.beforeSanitizeAttributes,tt,null);const{attributes:Qt}=tt;if(!Qt||st(tt))return;const cr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ha,forceKeepAttr:void 0};let Xt=Qt.length;for(;Xt--;){const Tt=Qt[Xt],{name:or,namespaceURI:at,value:dt}=Tt,Et=I(or),It=dt;let ur=or==="value"?It:le(It);if(cr.attrName=Et,cr.attrValue=ur,cr.keepAttr=!0,cr.forceKeepAttr=void 0,vt(Ii.uponSanitizeAttribute,tt,cr),ur=cr.attrValue,ko&&(Et==="id"||Et==="name")&&(Re(or,tt),ur=Ri+ur),pl&&R(/((--!?|])>)|<\/(style|title|textarea)/i,ur)){Re(or,tt);continue}if(Et==="attributename"&&K(ur,"href")){Re(or,tt);continue}if(cr.forceKeepAttr)continue;if(!cr.keepAttr){Re(or,tt);continue}if(!Si&&R(/\/>/i,ur)){Re(or,tt);continue}ii&&N([Ps,Ka,gs],yr=>{ur=X(ur,yr," ")});const pr=I(tt.nodeName);if(!yt(pr,Et,ur)){Re(or,tt);continue}if(ma&&typeof Ln=="object"&&typeof Ln.getAttributeType=="function"&&!at)switch(Ln.getAttributeType(pr,Et)){case"TrustedHTML":{ur=ma.createHTML(ur);break}case"TrustedScriptURL":{ur=ma.createScriptURL(ur);break}}if(ur!==It)try{at?tt.setAttributeNS(at,or,ur):tt.setAttribute(or,ur),st(tt)?ge(tt):C(_r.removed)}catch{Re(or,tt)}}vt(Ii.afterSanitizeAttributes,tt,null)},Gt=function St(tt){let Qt=null;const cr=et(tt);for(vt(Ii.beforeSanitizeShadowDOM,tt,null);Qt=cr.nextNode();)vt(Ii.uponSanitizeShadowNode,Qt,null),mt(Qt),kt(Qt),Qt.content instanceof Kr&&St(Qt.content);vt(Ii.afterSanitizeShadowDOM,tt,null)};return _r.sanitize=function(St){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qt=null,cr=null,Xt=null,Tt=null;if(oe=!St,oe&&(St="<!-->"),typeof St!="string"&&!Fe(St))if(typeof St.toString=="function"){if(St=St.toString(),typeof St!="string")throw ie("dirty is not a string, aborting")}else throw ie("toString is not a function");if(!_r.isSupported)return St;if(Hc||Z(tt),_r.removed=[],typeof St=="string"&&(Zi=!1),Zi){if(St.nodeName){const dt=I(St.nodeName);if(!Wi[dt]||Io[dt])throw ie("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof Wr)Qt=Ve("<!---->"),cr=Qt.ownerDocument.importNode(St,!0),cr.nodeType===Zt.element&&cr.nodeName==="BODY"||cr.nodeName==="HTML"?Qt=cr:Qt.appendChild(cr);else{if(!Gn&&!ii&&!Oo&&St.indexOf("<")===-1)return ma&&xs?ma.createHTML(St):St;if(Qt=Ve(St),!Qt)return Gn?null:xs?xi:""}Qt&&cs&&ge(Qt.firstChild);const or=et(Zi?St:Qt);for(;Xt=or.nextNode();)mt(Xt),kt(Xt),Xt.content instanceof Kr&&Gt(Xt.content);if(Zi)return St;if(Gn){if($i)for(Tt=Ni.call(Qt.ownerDocument);Qt.firstChild;)Tt.appendChild(Qt.firstChild);else Tt=Qt;return(ha.shadowroot||ha.shadowrootmode)&&(Tt=Qi.call(Br,Tt,!0)),Tt}let at=Oo?Qt.outerHTML:Qt.innerHTML;return Oo&&Wi["!doctype"]&&Qt.ownerDocument&&Qt.ownerDocument.doctype&&Qt.ownerDocument.doctype.name&&R(Ir,Qt.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+Qt.ownerDocument.doctype.name+`>
`+at),ii&&N([Ps,Ka,gs],dt=>{at=X(at,dt," ")}),ma&&xs?ma.createHTML(at):at},_r.setConfig=function(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(St),Hc=!0},_r.clearConfig=function(){B=null,Hc=!1},_r.isValidAttribute=function(St,tt,Qt){B||Z({});const cr=I(St),Xt=I(tt);return yt(cr,Xt,Qt)},_r.addHook=function(St,tt){typeof tt=="function"&&k(Ii[St],tt)},_r.removeHook=function(St,tt){if(tt!==void 0){const Qt=S(Ii[St],tt);return Qt===-1?void 0:W(Ii[St],Qt,1)[0]}return C(Ii[St])},_r.removeHooks=function(St){Ii[St]=[]},_r.removeAllHooks=function(){Ii=mr()},_r}var Jr=on()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return b}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");class b extends h.IOBuffer{constructor(C,k={}){super(C);Xi(this,"_checkCrc");Xi(this,"_inflator");Xi(this,"_png");Xi(this,"_apng");Xi(this,"_end");Xi(this,"_hasPalette");Xi(this,"_palette");Xi(this,"_hasTransparency");Xi(this,"_transparency");Xi(this,"_compressionMethod");Xi(this,"_filterMethod");Xi(this,"_interlaceMethod");Xi(this,"_colorType");Xi(this,"_isAnimated");Xi(this,"_numberOfFrames");Xi(this,"_numberOfPlays");Xi(this,"_frames");Xi(this,"_writingDataChunks");const{checkCrc:W=!1}=k;this._checkCrc=W,this._inflator=new d.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const C=this.readUint32(),k=this.readChars(4);this.decodeChunk(C,k)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const C=this.readUint32(),k=this.readChars(4);this.decodeApngChunk(C,k)}return this.decodeApngImage(),this._apng}decodeChunk(C,k){const W=this.offset;switch(k){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(C);break;case"IDAT":this.decodeIDAT(C);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(C);break;case"iCCP":this.decodeiCCP(C);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,C);break;case"pHYs":this.decodepHYs();break;default:this.skip(C);break}if(this.offset-W!==C)throw new Error(`Length mismatch while decoding chunk ${k}`);this._checkCrc?(0,A.checkCrc)(this,C+4,k):this.skip(4)}decodeApngChunk(C,k){const W=this.offset;switch(k!=="fdAT"&&k!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),k){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(C);break;default:this.decodeChunk(C,k),this.offset=W+C;break}if(this.offset-W!==C)throw new Error(`Length mismatch while decoding chunk ${k}`);this._checkCrc?(0,A.checkCrc)(this,C+4,k):this.skip(4)}decodeIHDR(){const C=this._png;C.width=this.readUint32(),C.height=this.readUint32(),C.depth=w(this.readUint8());const k=this.readUint8();this._colorType=k;let W;switch(k){case y.ColorType.GREYSCALE:W=1;break;case y.ColorType.TRUECOLOUR:W=3;break;case y.ColorType.INDEXED_COLOUR:W=1;break;case y.ColorType.GREYSCALE_ALPHA:W=2;break;case y.ColorType.TRUECOLOUR_ALPHA:W=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${k}`)}if(this._png.channels=W,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const C={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(C)}decodePLTE(C){if(C%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${C}`);const k=C/3;this._hasPalette=!0;const W=[];this._palette=W;for(let q=0;q<k;q++)W.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(C){this._writingDataChunks=!0;const k=C,W=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,W,k)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodeFDAT(C){this._writingDataChunks=!0;let k=C,W=this.offset+this.byteOffset;if(W+=4,k-=4,this._inflator.push(new Uint8Array(this.buffer,W,k)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodetRNS(C){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(C%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${C}`);if(C/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${C/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(C/2);for(let k=0;k<C/2;k++)this._transparency[k]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(C>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${C} vs ${this._palette.length})`);let k=0;for(;k<C;k++){const W=this.readByte();this._palette[k].push(W)}for(;k<this._palette.length;k++)this._palette[k].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(C){const k=(0,x.readKeyword)(this),W=this.readUint8();if(W!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${W}`);const q=this.readBytes(C-k.length-2);this._png.iccEmbeddedProfile={name:k,profile:(0,d.inflate)(q)}}decodepHYs(){const C=this.readUint32(),k=this.readUint32(),W=this.readByte();this._png.resolution={x:C,y:k,unit:W}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let C=0;C<this._numberOfFrames;C++){const k={sequenceNumber:this._frames[C].sequenceNumber,delayNumber:this._frames[C].delayNumber,delayDenominator:this._frames[C].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},W=this._frames.at(C);if(W){if(W.data=(0,g.decodeInterlaceNull)({data:W.data,width:W.width,height:W.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),C===0||W.xOffset===0&&W.yOffset===0&&W.width===this._png.width&&W.height===this._png.height)k.data=W.data;else{const q=this._apng.frames.at(C-1);this.disposeFrame(W,q,k),this.addFrameDataToCanvas(k,W)}this._apng.frames.push(k)}}return this._apng}disposeFrame(C,k,W){switch(C.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let q=0;q<this._png.height;q++)for(let te=0;te<this._png.width;te++){const K=(q*C.width+te)*this._png.channels;for(let X=0;X<this._png.channels;X++)W.data[K+X]=0}break;case y.DisposeOpType.PREVIOUS:W.data.set(k.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(C,k){const W=1<<this._png.depth,q=(te,K)=>{const X=((te+k.yOffset)*this._png.width+k.xOffset+K)*this._png.channels,O=(te*k.width+K)*this._png.channels;return{index:X,frameIndex:O}};switch(k.blendOp){case y.BlendOpType.SOURCE:for(let te=0;te<k.height;te++)for(let K=0;K<k.width;K++){const{index:X,frameIndex:O}=q(te,K);for(let le=0;le<this._png.channels;le++)C.data[X+le]=k.data[O+le]}break;case y.BlendOpType.OVER:for(let te=0;te<k.height;te++)for(let K=0;K<k.width;K++){const{index:X,frameIndex:O}=q(te,K);for(let le=0;le<this._png.channels;le++){const z=k.data[O+this._png.channels-1]/W,R=le%(this._png.channels-1)===0?1:k.data[O+le],ie=Math.floor(z*R+(1-z)*C.data[X+le]);C.data[X+le]+=ie}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var k;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const C=this._isAnimated?((k=this._frames)==null?void 0:k.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,f.decodeInterlaceAdam7)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const C=this._inflator.result,k=this._frames.at(-1);k?k.data=C:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:C}),this._inflator=new d.Inflate,this._writingDataChunks=!1}}function w(N){if(N!==1&&N!==2&&N!==4&&N!==8&&N!==16)throw new Error(`invalid bit depth: ${N}`);return N}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(l,u,o){o.r(u),o.d(u,{default:function(){return y}});var h=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),f=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=o("./node_modules/fast-png/lib-esm/helpers/text.js"),m=o("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends h.IOBuffer{constructor(q,te={}){super();Xi(this,"_png");Xi(this,"_zlibOptions");Xi(this,"_colorType");Xi(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...te.zlib},this._png=this._checkData(q),this._interlaceMethod=(te.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,f.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[q,te]of Object.entries(this._png.text))(0,g.encodetEXt)(this,q,te);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,A.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,A.writeCrc)(this,4)}encodePLTE(){var te;const q=((te=this._png.palette)==null?void 0:te.length)*3;this.writeUint32(q),this.writeChars("PLTE");for(const K of this._png.palette)this.writeByte(K[0]),this.writeByte(K[1]),this.writeByte(K[2]);(0,A.writeCrc)(this,4+q)}encodeTRNS(){const q=this._png.palette.filter(te=>te.at(-1)!==255);this.writeUint32(q.length),this.writeChars("tRNS");for(const te of q)this.writeByte(te.at(-1));(0,A.writeCrc)(this,4+q.length)}encodeIDAT(q){this.writeUint32(q.length),this.writeChars("IDAT"),this.writeBytes(q),(0,A.writeCrc)(this,q.length+4)}encodeData(){const{width:q,height:te,channels:K,depth:X,data:O}=this._png,le=X<=8?Math.ceil(q*X/8)*K:Math.ceil(q*X/8*K/2),z=new h.IOBuffer().setBigEndian();let R=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let Oe=0;Oe<te;Oe++)z.writeByte(0),X===16?R=C(O,z,le,R):R=N(O,z,le,R);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&(R=S(this._png,O,z,R));const ie=z.toArray(),Ae=(0,d.deflate)(ie,this._zlibOptions);this.encodeIDAT(Ae)}_checkData(q){const{colorType:te,channels:K,depth:X}=w(q,q.palette),O={width:b(q.width,"width"),height:b(q.height,"height"),channels:K,data:q.data,depth:X,text:q.text,palette:q.palette};this._colorType=te;const le=X<8?Math.ceil(O.width*X/8)*O.height*K:O.width*O.height*K;if(O.data.length!==le)throw new RangeError(`wrong data size. Found ${O.data.length}, expected ${le}`);return O}}function b(k,W){if(Number.isInteger(k)&&k>0)return k;throw new TypeError(`${W} must be a positive integer`)}function w(k,W){const{channels:q=4,depth:te=8}=k;if(q!==4&&q!==3&&q!==2&&q!==1)throw new RangeError(`unsupported number of channels: ${q}`);const K={channels:q,depth:te,colorType:m.ColorType.UNKNOWN};switch(q){case 4:K.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:K.colorType=m.ColorType.TRUECOLOUR;break;case 1:W?K.colorType=m.ColorType.INDEXED_COLOUR:K.colorType=m.ColorType.GREYSCALE;break;case 2:K.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return K}function N(k,W,q,te){for(let K=0;K<q;K++)W.writeByte(k[te++]);return te}function S(k,W,q,te){const K=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:X,height:O,channels:le,depth:z}=k;let R=0;z===16?R=le*z/8/2:R=le*z/8;for(let ie=0;ie<7;ie++){const Ae=K[ie],Oe=Math.floor((X-Ae.x+Ae.xStep-1)/Ae.xStep),be=Math.floor((O-Ae.y+Ae.yStep-1)/Ae.yStep);if(Oe<=0||be<=0)continue;const Te=Oe*R;for(let Y=0;Y<be;Y++){const Ne=Ae.y+Y*Ae.yStep,ce=z<=8?new Uint8Array(Te):new Uint16Array(Te);let ae=0;for(let Ce=0;Ce<Oe;Ce++){const Ee=Ae.x+Ce*Ae.xStep;if(Ee<X&&Ne<O){const we=(Ne*X+Ee)*R;for(let me=0;me<R;me++)ce[ae++]=W[we+me]}}if(q.writeByte(0),z===8)q.writeBytes(ce);else if(z===16)for(const Ce of ce)q.writeByte(Ce>>8&255),q.writeByte(Ce&255)}}return te}function C(k,W,q,te){for(let K=0;K<q;K++)W.writeUint16(k[te++]);return te}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(l,u,o){o.r(u),o.d(u,{convertIndexedToRgb:function(){return h}});function h(A){const f=A.palette,g=A.depth;if(!f)throw new Error("Color palette is undefined.");d(A);const m=A.width*A.height,x=m*f[0].length,y=new Uint8Array(x);let b=0,w=0;const N=new Uint8Array(m);let S=255;switch(g){case 1:S=128;break;case 2:S=192;break;case 4:S=240;break;case 8:S=255;break;default:throw new Error("Incorrect depth value")}for(const C of A.data){let k=S,W=8;for(;k&&(W-=g,N[b++]=(C&k)>>W,k=k>>g,b%A.width!==0););}if(A.palette)for(const C of N){const k=A.palette.at(C);if(!k)throw new Error("Incorrect index of palette color");y.set(k,w),w+=k.length}return y}function d(A){const f=A.depth<8?Math.ceil(A.width*A.depth/8)*A.height*A.channels:A.width*A.height*A.channels;if(A.data.length!==f)throw new RangeError(`wrong data size. Found ${A.data.length}, expected ${f}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(l,u,o){o.r(u),o.d(u,{applyUnfilter:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function d(A,f,g,m,x,y){switch(A){case 0:(0,h.unfilterNone)(f,g,x);break;case 1:(0,h.unfilterSub)(f,g,x,y);break;case 2:(0,h.unfilterUp)(f,g,m,x);break;case 3:(0,h.unfilterAverage)(f,g,m,x,y);break;case 4:(0,h.unfilterPaeth)(f,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${A}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(l,u,o){o.r(u),o.d(u,{checkCrc:function(){return g},writeCrc:function(){return m}});const h=[];for(let x=0;x<256;x++){let y=x;for(let b=0;b<8;b++)y&1?y=3988292384^y>>>1:y=y>>>1;h[x]=y}const d=4294967295;function A(x,y,b){let w=x;for(let N=0;N<b;N++)w=h[(w^y[N])&255]^w>>>8;return w}function f(x,y){return(A(d,x,y)^d)>>>0}function g(x,y,b){const w=x.readUint32(),N=f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(N!==w)throw new Error(`CRC mismatch for chunk ${b}. Expected ${w}, found ${N}`)}function m(x,y){x.writeUint32(f(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceAdam7:function(){return g}});var h=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const d=new Uint16Array([255]),f=new Uint8Array(d.buffer)[0]===255;function g(x){const{data:y,width:b,height:w,channels:N,depth:S}=x,C=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],k=Math.ceil(S/8)*N,W=new Uint8Array(w*b*k);let q=0;for(let te=0;te<7;te++){const K=C[te],X=Math.ceil((b-K.x)/K.xStep),O=Math.ceil((w-K.y)/K.yStep);if(X<=0||O<=0)continue;const le=X*k,z=new Uint8Array(le);for(let R=0;R<O;R++){const ie=y[q++],Ae=y.subarray(q,q+le);q+=le;const Oe=new Uint8Array(le);(0,h.applyUnfilter)(ie,Ae,Oe,z,le,k),z.set(Oe);for(let be=0;be<X;be++){const Te=K.x+be*K.xStep,Y=K.y+R*K.yStep;if(!(Te>=b||Y>=w))for(let Ne=0;Ne<k;Ne++)W[(Y*b+Te)*k+Ne]=Oe[be*k+Ne]}}}if(S===16){const te=new Uint16Array(W.buffer);if(f)for(let K=0;K<te.length;K++)te[K]=m(te[K]);return te}else return W}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(l,u,o){o.r(u),o.d(u,{decodeInterlaceNull:function(){return m}});var h=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const d=new Uint16Array([255]),f=new Uint8Array(d.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:b,width:w,height:N,channels:S,depth:C}=y,k=Math.ceil(C/8)*S,W=Math.ceil(C/8*S*w),q=new Uint8Array(N*W);let te=g,K=0,X,O;for(let le=0;le<N;le++){switch(X=b.subarray(K+1,K+1+W),O=q.subarray(le*W,(le+1)*W),b[K]){case 0:(0,h.unfilterNone)(X,O,W);break;case 1:(0,h.unfilterSub)(X,O,W,k);break;case 2:(0,h.unfilterUp)(X,O,te,W);break;case 3:(0,h.unfilterAverage)(X,O,te,W,k);break;case 4:(0,h.unfilterPaeth)(X,O,te,W,k);break;default:throw new Error(`Unsupported filter: ${b[K]}`)}te=O,K+=W+1}if(C===16){const le=new Uint16Array(q.buffer);if(f)for(let z=0;z<le.length;z++)le[z]=x(le[z]);return le}else return q}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(l,u,o){o.r(u),o.d(u,{checkSignature:function(){return A},hasPngSignature:function(){return f},writeSignature:function(){return d}});const h=Uint8Array.of(137,80,78,71,13,10,26,10);function d(g){g.writeBytes(h)}function A(g){if(!f(g.readBytes(h.length)))throw new Error("wrong PNG signature")}function f(g){if(g.length<h.length)return!1;for(let m=0;m<h.length;m++)if(g[m]!==h[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(l,u,o){o.r(u),o.d(u,{decodetEXt:function(){return y},encodetEXt:function(){return b},readKeyword:function(){return w},readLatin1:function(){return N},textChunkName:function(){return d}});var h=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const d="tEXt",A=0,f=new TextDecoder("latin1");function g(S){if(x(S),S.length===0||S.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(S){if(!m.test(S))throw new Error("invalid latin1 text")}function y(S,C,k){const W=w(C);S[W]=N(C,k-W.length-1)}function b(S,C,k){g(C),x(k);const W=C.length+1+k.length;S.writeUint32(W),S.writeChars(d),S.writeChars(C),S.writeByte(A),S.writeChars(k),(0,h.writeCrc)(S,W+4)}function w(S){for(S.mark();S.readByte()!==A;);const C=S.offset;S.reset();const k=f.decode(S.readBytes(C-S.offset-1));return S.skip(1),g(k),k}function N(S,C){return f.decode(S.readBytes(C))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(l,u,o){o.r(u),o.d(u,{unfilterAverage:function(){return f},unfilterNone:function(){return h},unfilterPaeth:function(){return g},unfilterSub:function(){return d},unfilterUp:function(){return A}});function h(x,y,b){for(let w=0;w<b;w++)y[w]=x[w]}function d(x,y,b,w){let N=0;for(;N<w;N++)y[N]=x[N];for(;N<b;N++)y[N]=x[N]+y[N-w]&255}function A(x,y,b,w){let N=0;if(b.length===0)for(;N<w;N++)y[N]=x[N];else for(;N<w;N++)y[N]=x[N]+b[N]&255}function f(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+(y[S-N]>>1)&255}else{for(;S<N;S++)y[S]=x[S]+(b[S]>>1)&255;for(;S<w;S++)y[S]=x[S]+(y[S-N]+b[S]>>1)&255}}function g(x,y,b,w,N){let S=0;if(b.length===0){for(;S<N;S++)y[S]=x[S];for(;S<w;S++)y[S]=x[S]+y[S-N]&255}else{for(;S<N;S++)y[S]=x[S]+b[S]&255;for(;S<w;S++)y[S]=x[S]+m(y[S-N],b[S],b[S-N])&255}}function m(x,y,b){const w=x+y-b,N=Math.abs(w-x),S=Math.abs(w-y),C=Math.abs(w-b);return N<=S&&N<=C?x:S<=C?y:b}}),"./node_modules/fast-png/lib-esm/index.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return f.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return A.hasPngSignature}});var h=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),d=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),A=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),f=o("./node_modules/fast-png/lib-esm/types.js"),g=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(b,w){return new h.default(b,w).decode()}function x(b,w){return new d.default(b,w).encode()}function y(b,w){return new h.default(b,w).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(l,u,o){o.r(u),o.d(u,{BlendOpType:function(){return m},ColorType:function(){return h},CompressionMethod:function(){return d},DisposeOpType:function(){return g},FilterMethod:function(){return A},InterlaceMethod:function(){return f}});const h={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d={UNKNOWN:-1,DEFLATE:0},A={UNKNOWN:-1,ADAPTIVE:0},f={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(l,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return h}});var h;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.METRE=1]="METRE"})(h||(h={}))}),"./node_modules/fflate/esm/browser.js":(function(l,u,o){o.r(u),o.d(u,{AsyncCompress:function(){return Ii},AsyncDecompress:function(){return Xs},AsyncDeflate:function(){return lr},AsyncGunzip:function(){return Va},AsyncGzip:function(){return Ii},AsyncInflate:function(){return Es},AsyncUnzipInflate:function(){return Fo},AsyncUnzlib:function(){return ha},AsyncZipDeflate:function(){return Po},AsyncZlib:function(){return Nc},Compress:function(){return Qi},DecodeUTF8:function(){return Oo},Decompress:function(){return Io},Deflate:function(){return tn},EncodeUTF8:function(){return Hc},FlateErrorCode:function(){return ce},Gunzip:function(){return gs},Gzip:function(){return Qi},Inflate:function(){return Cn},Unzip:function(){return Ut},UnzipInflate:function(){return Fs},UnzipPassThrough:function(){return Ys},Unzlib:function(){return xo},Zip:function(){return ga},ZipDeflate:function(){return yo},ZipPassThrough:function(){return Fi},Zlib:function(){return Bl},compress:function(){return Ps},compressSync:function(){return Ka},decompress:function(){return To},decompressSync:function(){return rl},deflate:function(){return ma},deflateSync:function(){return xi},gunzip:function(){return Cc},gunzipSync:function(){return vs},gzip:function(){return Ps},gzipSync:function(){return Ka},inflate:function(){return Ni},inflateSync:function(){return yi},strFromU8:function(){return Gn},strToU8:function(){return cs},unzip:function(){return oe},unzipSync:function(){return ue},unzlib:function(){return Jl},unzlibSync:function(){return ai},zip:function(){return Vi},zipSync:function(){return bs},zlib:function(){return El},zlibSync:function(){return Wi}});var h={},d=(function(M,Q,re,ye,De){var Ge=new Worker(h[Q]||(h[Q]=URL.createObjectURL(new Blob([M+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ge.onmessage=function(it){var I=it.data,B=I.$e$;if(B){var D=new Error(B[0]);D.code=B[1],D.stack=B[2],De(D,null)}else De(null,I)},Ge.postMessage(re,ye),Ge}),A=Uint8Array,f=Uint16Array,g=Int32Array,m=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=function(M,Q){for(var re=new f(31),ye=0;ye<31;++ye)re[ye]=Q+=1<<M[ye-1];for(var De=new g(re[30]),ye=1;ye<30;++ye)for(var Ge=re[ye];Ge<re[ye+1];++Ge)De[Ge]=Ge-re[ye]<<5|ye;return{b:re,r:De}},w=b(m,2),N=w.b,S=w.r;N[28]=258,S[258]=28;for(var C=b(x,0),k=C.b,W=C.r,q=new f(32768),te=0;te<32768;++te){var K=(te&43690)>>1|(te&21845)<<1;K=(K&52428)>>2|(K&13107)<<2,K=(K&61680)>>4|(K&3855)<<4,q[te]=((K&65280)>>8|(K&255)<<8)>>1}for(var X=(function(M,Q,re){for(var ye=M.length,De=0,Ge=new f(Q);De<ye;++De)M[De]&&++Ge[M[De]-1];var it=new f(Q);for(De=1;De<Q;++De)it[De]=it[De-1]+Ge[De-1]<<1;var I;if(re){I=new f(1<<Q);var B=15-Q;for(De=0;De<ye;++De)if(M[De])for(var D=De<<4|M[De],V=Q-M[De],Z=it[M[De]-1]++<<V,ne=Z|(1<<V)-1;Z<=ne;++Z)I[q[Z]>>B]=D}else for(I=new f(ye),De=0;De<ye;++De)M[De]&&(I[De]=q[it[M[De]-1]++]>>15-M[De]);return I}),O=new A(288),te=0;te<144;++te)O[te]=8;for(var te=144;te<256;++te)O[te]=9;for(var te=256;te<280;++te)O[te]=7;for(var te=280;te<288;++te)O[te]=8;for(var le=new A(32),te=0;te<32;++te)le[te]=5;var z=X(O,9,0),R=X(O,9,1),ie=X(le,5,0),Ae=X(le,5,1),Oe=function(M){for(var Q=M[0],re=1;re<M.length;++re)M[re]>Q&&(Q=M[re]);return Q},be=function(M,Q,re){var ye=Q/8|0;return(M[ye]|M[ye+1]<<8)>>(Q&7)&re},Te=function(M,Q){var re=Q/8|0;return(M[re]|M[re+1]<<8|M[re+2]<<16)>>(Q&7)},Y=function(M){return(M+7)/8|0},Ne=function(M,Q,re){return(Q==null||Q<0)&&(Q=0),(re==null||re>M.length)&&(re=M.length),new A(M.subarray(Q,re))},ce={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},ae=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ce=function(M,Q,re){var ye=new Error(Q||ae[M]);if(ye.code=M,Error.captureStackTrace&&Error.captureStackTrace(ye,Ce),!re)throw ye;return ye},Ee=function(M,Q,re,ye){var De=M.length,Ge=ye?ye.length:0;if(!De||Q.f&&!Q.l)return re||new A(0);var it=!re,I=it||Q.i!=2,B=Q.i;it&&(re=new A(De*3));var D=function(Ct){var Wt=re.length;if(Ct>Wt){var Kt=new A(Math.max(Wt*2,Ct));Kt.set(re),re=Kt}},V=Q.f||0,Z=Q.p||0,ne=Q.b||0,Se=Q.l,fe=Q.d,ge=Q.m,Re=Q.n,Ve=De*8;do{if(!Se){V=be(M,Z,1);var et=be(M,Z+1,3);if(Z+=3,et)if(et==1)Se=R,fe=Ae,ge=9,Re=5;else if(et==2){var mt=be(M,Z,31)+257,yt=be(M,Z+10,15)+4,nt=mt+be(M,Z+5,31)+1;Z+=14;for(var kt=new A(nt),Gt=new A(19),St=0;St<yt;++St)Gt[y[St]]=be(M,Z+St*3,7);Z+=yt*3;for(var tt=Oe(Gt),Qt=(1<<tt)-1,cr=X(Gt,tt,1),St=0;St<nt;){var Xt=cr[be(M,Z,Qt)];Z+=Xt&15;var st=Xt>>4;if(st<16)kt[St++]=st;else{var Tt=0,or=0;for(st==16?(or=3+be(M,Z,3),Z+=2,Tt=kt[St-1]):st==17?(or=3+be(M,Z,7),Z+=3):st==18&&(or=11+be(M,Z,127),Z+=7);or--;)kt[St++]=Tt}}var at=kt.subarray(0,mt),dt=kt.subarray(mt);ge=Oe(at),Re=Oe(dt),Se=X(at,ge,1),fe=X(dt,Re,1)}else Ce(1);else{var st=Y(Z)+4,Fe=M[st-4]|M[st-3]<<8,vt=st+Fe;if(vt>De){B&&Ce(0);break}I&&D(ne+Fe),re.set(M.subarray(st,vt),ne),Q.b=ne+=Fe,Q.p=Z=vt*8,Q.f=V;continue}if(Z>Ve){B&&Ce(0);break}}I&&D(ne+131072);for(var Et=(1<<ge)-1,It=(1<<Re)-1,ur=Z;;ur=Z){var Tt=Se[Te(M,Z)&Et],pr=Tt>>4;if(Z+=Tt&15,Z>Ve){B&&Ce(0);break}if(Tt||Ce(2),pr<256)re[ne++]=pr;else if(pr==256){ur=Z,Se=null;break}else{var yr=pr-254;if(pr>264){var St=pr-257,Jt=m[St];yr=be(M,Z,(1<<Jt)-1)+N[St],Z+=Jt}var vr=fe[Te(M,Z)&It],Xr=vr>>4;vr||Ce(3),Z+=vr&15;var dt=k[Xr];if(Xr>3){var Jt=x[Xr];dt+=Te(M,Z)&(1<<Jt)-1,Z+=Jt}if(Z>Ve){B&&Ce(0);break}I&&D(ne+131072);var Ur=ne+yr;if(ne<dt){var Ze=Ge-dt,xt=Math.min(dt,Ur);for(Ze+ne<0&&Ce(3);ne<xt;++ne)re[ne]=ye[Ze+ne]}for(;ne<Ur;++ne)re[ne]=re[ne-dt]}}Q.l=Se,Q.p=ur,Q.b=ne,Q.f=V,Se&&(V=1,Q.m=ge,Q.d=fe,Q.n=Re)}while(!V);return ne!=re.length&&it?Ne(re,0,ne):re.subarray(0,ne)},we=function(M,Q,re){re<<=Q&7;var ye=Q/8|0;M[ye]|=re,M[ye+1]|=re>>8},me=function(M,Q,re){re<<=Q&7;var ye=Q/8|0;M[ye]|=re,M[ye+1]|=re>>8,M[ye+2]|=re>>16},se=function(M,Q){for(var re=[],ye=0;ye<M.length;++ye)M[ye]&&re.push({s:ye,f:M[ye]});var De=re.length,Ge=re.slice();if(!De)return{t:ke,l:0};if(De==1){var it=new A(re[0].s+1);return it[re[0].s]=1,{t:it,l:1}}re.sort(function(vt,mt){return vt.f-mt.f}),re.push({s:-1,f:25001});var I=re[0],B=re[1],D=0,V=1,Z=2;for(re[0]={s:-1,f:I.f+B.f,l:I,r:B};V!=De-1;)I=re[re[D].f<re[Z].f?D++:Z++],B=re[D!=V&&re[D].f<re[Z].f?D++:Z++],re[V++]={s:-1,f:I.f+B.f,l:I,r:B};for(var ne=Ge[0].s,ye=1;ye<De;++ye)Ge[ye].s>ne&&(ne=Ge[ye].s);var Se=new f(ne+1),fe=J(re[V-1],Se,0);if(fe>Q){var ye=0,ge=0,Re=fe-Q,Ve=1<<Re;for(Ge.sort(function(mt,yt){return Se[yt.s]-Se[mt.s]||mt.f-yt.f});ye<De;++ye){var et=Ge[ye].s;if(Se[et]>Q)ge+=Ve-(1<<fe-Se[et]),Se[et]=Q;else break}for(ge>>=Re;ge>0;){var st=Ge[ye].s;Se[st]<Q?ge-=1<<Q-Se[st]++-1:++ye}for(;ye>=0&&ge;--ye){var Fe=Ge[ye].s;Se[Fe]==Q&&(--Se[Fe],++ge)}fe=Q}return{t:new A(Se),l:fe}},J=function(M,Q,re){return M.s==-1?Math.max(J(M.l,Q,re+1),J(M.r,Q,re+1)):Q[M.s]=re},je=function(M){for(var Q=M.length;Q&&!M[--Q];);for(var re=new f(++Q),ye=0,De=M[0],Ge=1,it=function(B){re[ye++]=B},I=1;I<=Q;++I)if(M[I]==De&&I!=Q)++Ge;else{if(!De&&Ge>2){for(;Ge>138;Ge-=138)it(32754);Ge>2&&(it(Ge>10?Ge-11<<5|28690:Ge-3<<5|12305),Ge=0)}else if(Ge>3){for(it(De),--Ge;Ge>6;Ge-=6)it(8304);Ge>2&&(it(Ge-3<<5|8208),Ge=0)}for(;Ge--;)it(De);Ge=1,De=M[I]}return{c:re.subarray(0,ye),n:Q}},Pe=function(M,Q){for(var re=0,ye=0;ye<Q.length;++ye)re+=M[ye]*Q[ye];return re},Le=function(M,Q,re){var ye=re.length,De=Y(Q+2);M[De]=ye&255,M[De+1]=ye>>8,M[De+2]=M[De]^255,M[De+3]=M[De+1]^255;for(var Ge=0;Ge<ye;++Ge)M[De+Ge+4]=re[Ge];return(De+4+ye)*8},Ie=function(M,Q,re,ye,De,Ge,it,I,B,D,V){we(Q,V++,re),++De[256];for(var Z=se(De,15),ne=Z.t,Se=Z.l,fe=se(Ge,15),ge=fe.t,Re=fe.l,Ve=je(ne),et=Ve.c,st=Ve.n,Fe=je(ge),vt=Fe.c,mt=Fe.n,yt=new f(19),nt=0;nt<et.length;++nt)++yt[et[nt]&31];for(var nt=0;nt<vt.length;++nt)++yt[vt[nt]&31];for(var kt=se(yt,7),Gt=kt.t,St=kt.l,tt=19;tt>4&&!Gt[y[tt-1]];--tt);var Qt=D+5<<3,cr=Pe(De,O)+Pe(Ge,le)+it,Xt=Pe(De,ne)+Pe(Ge,ge)+it+14+3*tt+Pe(yt,Gt)+2*yt[16]+3*yt[17]+7*yt[18];if(B>=0&&Qt<=cr&&Qt<=Xt)return Le(Q,V,M.subarray(B,B+D));var Tt,or,at,dt;if(we(Q,V,1+(Xt<cr)),V+=2,Xt<cr){Tt=X(ne,Se,0),or=ne,at=X(ge,Re,0),dt=ge;var Et=X(Gt,St,0);we(Q,V,st-257),we(Q,V+5,mt-1),we(Q,V+10,tt-4),V+=14;for(var nt=0;nt<tt;++nt)we(Q,V+3*nt,Gt[y[nt]]);V+=3*tt;for(var It=[et,vt],ur=0;ur<2;++ur)for(var pr=It[ur],nt=0;nt<pr.length;++nt){var yr=pr[nt]&31;we(Q,V,Et[yr]),V+=Gt[yr],yr>15&&(we(Q,V,pr[nt]>>5&127),V+=pr[nt]>>12)}}else Tt=z,or=O,at=ie,dt=le;for(var nt=0;nt<I;++nt){var Jt=ye[nt];if(Jt>255){var yr=Jt>>18&31;me(Q,V,Tt[yr+257]),V+=or[yr+257],yr>7&&(we(Q,V,Jt>>23&31),V+=m[yr]);var vr=Jt&31;me(Q,V,at[vr]),V+=dt[vr],vr>3&&(me(Q,V,Jt>>5&8191),V+=x[vr])}else me(Q,V,Tt[Jt]),V+=or[Jt]}return me(Q,V,Tt[256]),V+or[256]},pe=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ke=new A(0),Ye=function(M,Q,re,ye,De,Ge){var it=Ge.z||M.length,I=new A(ye+it+5*(1+Math.ceil(it/7e3))+De),B=I.subarray(ye,I.length-De),D=Ge.l,V=(Ge.r||0)&7;if(Q){V&&(B[0]=Ge.r>>3);for(var Z=pe[Q-1],ne=Z>>13,Se=Z&8191,fe=(1<<re)-1,ge=Ge.p||new f(32768),Re=Ge.h||new f(fe+1),Ve=Math.ceil(re/3),et=2*Ve,st=function(nr){return(M[nr]^M[nr+1]<<Ve^M[nr+2]<<et)&fe},Fe=new g(25e3),vt=new f(288),mt=new f(32),yt=0,nt=0,kt=Ge.i||0,Gt=0,St=Ge.w||0,tt=0;kt+2<it;++kt){var Qt=st(kt),cr=kt&32767,Xt=Re[Qt];if(ge[cr]=Xt,Re[Qt]=cr,St<=kt){var Tt=it-kt;if((yt>7e3||Gt>24576)&&(Tt>423||!D)){V=Ie(M,B,0,Fe,vt,mt,nt,Gt,tt,kt-tt,V),Gt=yt=nt=0,tt=kt;for(var or=0;or<286;++or)vt[or]=0;for(var or=0;or<30;++or)mt[or]=0}var at=2,dt=0,Et=Se,It=cr-Xt&32767;if(Tt>2&&Qt==st(kt-It))for(var ur=Math.min(ne,Tt)-1,pr=Math.min(32767,kt),yr=Math.min(258,Tt);It<=pr&&--Et&&cr!=Xt;){if(M[kt+at]==M[kt+at-It]){for(var Jt=0;Jt<yr&&M[kt+Jt]==M[kt+Jt-It];++Jt);if(Jt>at){if(at=Jt,dt=It,Jt>ur)break;for(var vr=Math.min(It,Jt-2),Xr=0,or=0;or<vr;++or){var Ur=kt-It+or&32767,Ze=ge[Ur],xt=Ur-Ze&32767;xt>Xr&&(Xr=xt,Xt=Ur)}}}cr=Xt,Xt=ge[cr],It+=cr-Xt&32767}if(dt){Fe[Gt++]=268435456|S[at]<<18|W[dt];var Ct=S[at]&31,Wt=W[dt]&31;nt+=m[Ct]+x[Wt],++vt[257+Ct],++mt[Wt],St=kt+at,++yt}else Fe[Gt++]=M[kt],++vt[M[kt]]}}for(kt=Math.max(kt,St);kt<it;++kt)Fe[Gt++]=M[kt],++vt[M[kt]];V=Ie(M,B,D,Fe,vt,mt,nt,Gt,tt,kt-tt,V),D||(Ge.r=V&7|B[V/8|0]<<3,V-=7,Ge.h=Re,Ge.p=ge,Ge.i=kt,Ge.w=St)}else{for(var kt=Ge.w||0;kt<it+D;kt+=65535){var Kt=kt+65535;Kt>=it&&(B[V/8|0]=D,Kt=it),V=Le(B,V+1,M.subarray(kt,Kt))}Ge.i=it}return Ne(I,0,ye+Y(V)+De)},wt=(function(){for(var M=new Int32Array(256),Q=0;Q<256;++Q){for(var re=Q,ye=9;--ye;)re=(re&1&&-306674912)^re>>>1;M[Q]=re}return M})(),Ft=function(){var M=-1;return{p:function(Q){for(var re=M,ye=0;ye<Q.length;++ye)re=wt[re&255^Q[ye]]^re>>>8;M=re},d:function(){return~M}}},Bt=function(){var M=1,Q=0;return{p:function(re){for(var ye=M,De=Q,Ge=re.length|0,it=0;it!=Ge;){for(var I=Math.min(it+2655,Ge);it<I;++it)De+=ye+=re[it];ye=(ye&65535)+15*(ye>>16),De=(De&65535)+15*(De>>16)}M=ye,Q=De},d:function(){return M%=65521,Q%=65521,(M&255)<<24|(M&65280)<<8|(Q&255)<<8|Q>>8}}},Vt=function(M,Q,re,ye,De){if(!De&&(De={l:1},Q.dictionary)){var Ge=Q.dictionary.subarray(-32768),it=new A(Ge.length+M.length);it.set(Ge),it.set(M,Ge.length),M=it,De.w=Ge.length}return Ye(M,Q.level==null?6:Q.level,Q.mem==null?De.l?Math.ceil(Math.max(8,Math.min(13,Math.log(M.length)))*1.5):20:12+Q.mem,re,ye,De)},Ir=function(M,Q){var re={};for(var ye in M)re[ye]=M[ye];for(var ye in Q)re[ye]=Q[ye];return re},Sr=function(M,Q,re){for(var ye=M(),De=M.toString(),Ge=De.slice(De.indexOf("[")+1,De.lastIndexOf("]")).replace(/\s+/g,"").split(","),it=0;it<ye.length;++it){var I=ye[it],B=Ge[it];if(typeof I=="function"){Q+=";"+B+"=";var D=I.toString();if(I.prototype)if(D.indexOf("[native code]")!=-1){var V=D.indexOf(" ",8)+1;Q+=D.slice(V,D.indexOf("(",V))}else{Q+=D;for(var Z in I.prototype)Q+=";"+B+".prototype."+Z+"="+I.prototype[Z].toString()}else Q+=D}else re[B]=I}return Q},He=[],Zt=function(M){var Q=[];for(var re in M)M[re].buffer&&Q.push((M[re]=new M[re].constructor(M[re])).buffer);return Q},Nt=function(M,Q,re,ye){if(!He[re]){for(var De="",Ge={},it=M.length-1,I=0;I<it;++I)De=Sr(M[I],De,Ge);He[re]={c:Sr(M[it],De,Ge),e:Ge}}var B=Ir({},He[re].e);return d(He[re].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+Q.toString()+"}",re,B,Zt(B),ye)},Vr=function(){return[A,f,g,m,x,y,N,k,R,Ae,q,ae,X,Oe,be,Te,Y,Ne,Ce,Ee,yi,hr,Br]},mr=function(){return[A,f,g,m,x,y,S,W,z,O,ie,le,q,pe,ke,X,we,me,se,J,je,Pe,Le,Ie,Y,Ne,Ye,Vt,xi,hr]},on=function(){return[wn,la,Dr,Ft,wt]},Jr=function(){return[cn,Ln]},Gr=function(){return[Ot,Dr,Bt]},_r=function(){return[$r]},hr=function(M){return postMessage(M,[M.buffer])},Br=function(M){return M&&{out:M.size&&new A(M.size),dictionary:M.dictionary}},Qr=function(M,Q,re,ye,De,Ge){var it=Nt(re,ye,De,function(I,B){it.terminate(),Ge(I,B)});return it.postMessage([M,Q],Q.consume?[M.buffer]:[]),function(){it.terminate()}},Kr=function(M){return M.ondata=function(Q,re){return postMessage([Q,re],[Q.buffer])},function(Q){Q.data.length?(M.push(Q.data[0],Q.data[1]),postMessage([Q.data[0].length])):M.flush()}},hn=function(M,Q,re,ye,De,Ge,it){var I,B=Nt(M,ye,De,function(D,V){D?(B.terminate(),Q.ondata.call(Q,D)):Array.isArray(V)?V.length==1?(Q.queuedSize-=V[0],Q.ondrain&&Q.ondrain(V[0])):(V[1]&&B.terminate(),Q.ondata.call(Q,D,V[0],V[1])):it(V)});B.postMessage(re),Q.queuedSize=0,Q.push=function(D,V){Q.ondata||Ce(5),I&&Q.ondata(Ce(4,0,1),null,!!V),Q.queuedSize+=D.length,B.postMessage([D,I=V],[D.buffer])},Q.terminate=function(){B.terminate()},Ge&&(Q.flush=function(){B.postMessage([])})},Wr=function(M,Q){return M[Q]|M[Q+1]<<8},Wn=function(M,Q){return(M[Q]|M[Q+1]<<8|M[Q+2]<<16|M[Q+3]<<24)>>>0},Lr=function(M,Q){return Wn(M,Q)+Wn(M,Q+4)*4294967296},Dr=function(M,Q,re){for(;re;++Q)M[Q]=re,re>>>=8},wn=function(M,Q){var re=Q.filename;if(M[0]=31,M[1]=139,M[2]=8,M[8]=Q.level<2?4:Q.level==9?2:0,M[9]=3,Q.mtime!=0&&Dr(M,4,Math.floor(new Date(Q.mtime||Date.now())/1e3)),re){M[3]=8;for(var ye=0;ye<=re.length;++ye)M[ye+10]=re.charCodeAt(ye)}},cn=function(M){(M[0]!=31||M[1]!=139||M[2]!=8)&&Ce(6,"invalid gzip data");var Q=M[3],re=10;Q&4&&(re+=(M[10]|M[11]<<8)+2);for(var ye=(Q>>3&1)+(Q>>4&1);ye>0;ye-=!M[re++]);return re+(Q&2)},Ln=function(M){var Q=M.length;return(M[Q-4]|M[Q-3]<<8|M[Q-2]<<16|M[Q-1]<<24)>>>0},la=function(M){return 10+(M.filename?M.filename.length+1:0)},Ot=function(M,Q){var re=Q.level,ye=re==0?0:re<6?1:re==9?3:2;if(M[0]=120,M[1]=ye<<6|(Q.dictionary&&32),M[1]|=31-(M[0]<<8|M[1])%31,Q.dictionary){var De=Bt();De.p(Q.dictionary),Dr(M,2,De.d())}},$r=function(M,Q){return((M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31)&&Ce(6,"invalid zlib data"),(M[1]>>5&1)==+!Q&&Ce(6,"invalid zlib data: "+(M[1]&32?"need":"unexpected")+" dictionary"),(M[1]>>3&4)+2};function un(M,Q){return typeof M=="function"&&(Q=M,M={}),this.ondata=Q,M}var tn=(function(){function M(Q,re){if(typeof Q=="function"&&(re=Q,Q={}),this.ondata=re,this.o=Q||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var ye=this.o.dictionary.subarray(-32768);this.b.set(ye,32768-ye.length),this.s.i=32768-ye.length}}return M.prototype.p=function(Q,re){this.ondata(Vt(Q,this.o,0,0,this.s),re)},M.prototype.push=function(Q,re){this.ondata||Ce(5),this.s.l&&Ce(4);var ye=Q.length+this.s.z;if(ye>this.b.length){if(ye>2*this.b.length-32768){var De=new A(ye&-32768);De.set(this.b.subarray(0,this.s.z)),this.b=De}var Ge=this.b.length-this.s.z;this.b.set(Q.subarray(0,Ge),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(Q.subarray(Ge),32768),this.s.z=Q.length-Ge+32768,this.s.i=32766,this.s.w=32768}else this.b.set(Q,this.s.z),this.s.z+=Q.length;this.s.l=re&1,(this.s.z>this.s.w+8191||re)&&(this.p(this.b,re||!1),this.s.w=this.s.i,this.s.i-=2)},M.prototype.flush=function(){this.ondata||Ce(5),this.s.l&&Ce(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},M})(),lr=(function(){function M(Q,re){hn([mr,function(){return[Kr,tn]}],this,un.call(this,Q,re),function(ye){var De=new tn(ye.data);onmessage=Kr(De)},6,1)}return M})();function ma(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[mr],function(ye){return hr(xi(ye.data[0],ye.data[1]))},0,re)}function xi(M,Q){return Vt(M,Q||{},0,0)}var Cn=(function(){function M(Q,re){typeof Q=="function"&&(re=Q,Q={}),this.ondata=re;var ye=Q&&Q.dictionary&&Q.dictionary.subarray(-32768);this.s={i:0,b:ye?ye.length:0},this.o=new A(32768),this.p=new A(0),ye&&this.o.set(ye)}return M.prototype.e=function(Q){if(this.ondata||Ce(5),this.d&&Ce(4),!this.p.length)this.p=Q;else if(Q.length){var re=new A(this.p.length+Q.length);re.set(this.p),re.set(Q,this.p.length),this.p=re}},M.prototype.c=function(Q){this.s.i=+(this.d=Q||!1);var re=this.s.b,ye=Ee(this.p,this.s,this.o);this.ondata(Ne(ye,re,this.s.b),this.d),this.o=Ne(ye,this.s.b-32768),this.s.b=this.o.length,this.p=Ne(this.p,this.s.p/8|0),this.s.p&=7},M.prototype.push=function(Q,re){this.e(Q),this.c(re)},M})(),Es=(function(){function M(Q,re){hn([Vr,function(){return[Kr,Cn]}],this,un.call(this,Q,re),function(ye){var De=new Cn(ye.data);onmessage=Kr(De)},7,0)}return M})();function Ni(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[Vr],function(ye){return hr(yi(ye.data[0],Br(ye.data[1])))},1,re)}function yi(M,Q){return Ee(M,{i:2},Q&&Q.out,Q&&Q.dictionary)}var Qi=(function(){function M(Q,re){this.c=Ft(),this.l=0,this.v=1,tn.call(this,Q,re)}return M.prototype.push=function(Q,re){this.c.p(Q),this.l+=Q.length,tn.prototype.push.call(this,Q,re)},M.prototype.p=function(Q,re){var ye=Vt(Q,this.o,this.v&&la(this.o),re&&8,this.s);this.v&&(wn(ye,this.o),this.v=0),re&&(Dr(ye,ye.length-8,this.c.d()),Dr(ye,ye.length-4,this.l)),this.ondata(ye,re)},M.prototype.flush=function(){tn.prototype.flush.call(this)},M})(),Ii=(function(){function M(Q,re){hn([mr,on,function(){return[Kr,tn,Qi]}],this,un.call(this,Q,re),function(ye){var De=new Qi(ye.data);onmessage=Kr(De)},8,1)}return M})();function Ps(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[mr,on,function(){return[Ka]}],function(ye){return hr(Ka(ye.data[0],ye.data[1]))},2,re)}function Ka(M,Q){Q||(Q={});var re=Ft(),ye=M.length;re.p(M);var De=Vt(M,Q,la(Q),8),Ge=De.length;return wn(De,Q),Dr(De,Ge-8,re.d()),Dr(De,Ge-4,ye),De}var gs=(function(){function M(Q,re){this.v=1,this.r=0,Cn.call(this,Q,re)}return M.prototype.push=function(Q,re){if(Cn.prototype.e.call(this,Q),this.r+=Q.length,this.v){var ye=this.p.subarray(this.v-1),De=ye.length>3?cn(ye):4;if(De>ye.length){if(!re)return}else this.v>1&&this.onmember&&this.onmember(this.r-ye.length);this.p=ye.subarray(De),this.v=0}Cn.prototype.c.call(this,re),this.s.f&&!this.s.l&&!re&&(this.v=Y(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),re))},M})(),Va=(function(){function M(Q,re){var ye=this;hn([Vr,Jr,function(){return[Kr,Cn,gs]}],this,un.call(this,Q,re),function(De){var Ge=new gs(De.data);Ge.onmember=function(it){return postMessage(it)},onmessage=Kr(Ge)},9,0,function(De){return ye.onmember&&ye.onmember(De)})}return M})();function Cc(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[Vr,Jr,function(){return[vs]}],function(ye){return hr(vs(ye.data[0],ye.data[1]))},3,re)}function vs(M,Q){var re=cn(M);return re+8>M.length&&Ce(6,"invalid gzip data"),Ee(M.subarray(re,-8),{i:2},Q&&Q.out||new A(Ln(M)),Q&&Q.dictionary)}var Bl=(function(){function M(Q,re){this.c=Bt(),this.v=1,tn.call(this,Q,re)}return M.prototype.push=function(Q,re){this.c.p(Q),tn.prototype.push.call(this,Q,re)},M.prototype.p=function(Q,re){var ye=Vt(Q,this.o,this.v&&(this.o.dictionary?6:2),re&&4,this.s);this.v&&(Ot(ye,this.o),this.v=0),re&&Dr(ye,ye.length-4,this.c.d()),this.ondata(ye,re)},M.prototype.flush=function(){tn.prototype.flush.call(this)},M})(),Nc=(function(){function M(Q,re){hn([mr,Gr,function(){return[Kr,tn,Bl]}],this,un.call(this,Q,re),function(ye){var De=new Bl(ye.data);onmessage=Kr(De)},10,1)}return M})();function El(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[mr,Gr,function(){return[Wi]}],function(ye){return hr(Wi(ye.data[0],ye.data[1]))},4,re)}function Wi(M,Q){Q||(Q={});var re=Bt();re.p(M);var ye=Vt(M,Q,Q.dictionary?6:2,4);return Ot(ye,Q),Dr(ye,ye.length-4,re.d()),ye}var xo=(function(){function M(Q,re){Cn.call(this,Q,re),this.v=Q&&Q.dictionary?2:1}return M.prototype.push=function(Q,re){if(Cn.prototype.e.call(this,Q),this.v){if(this.p.length<6&&!re)return;this.p=this.p.subarray($r(this.p,this.v-1)),this.v=0}re&&(this.p.length<4&&Ce(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Cn.prototype.c.call(this,re)},M})(),ha=(function(){function M(Q,re){hn([Vr,_r,function(){return[Kr,Cn,xo]}],this,un.call(this,Q,re),function(ye){var De=new xo(ye.data);onmessage=Kr(De)},11,0)}return M})();function Jl(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),Qr(M,Q,[Vr,_r,function(){return[ai]}],function(ye){return hr(ai(ye.data[0],Br(ye.data[1])))},5,re)}function ai(M,Q){return Ee(M.subarray($r(M,Q&&Q.dictionary),-4),{i:2},Q&&Q.out,Q&&Q.dictionary)}var Io=(function(){function M(Q,re){this.o=un.call(this,Q,re)||{},this.G=gs,this.I=Cn,this.Z=xo}return M.prototype.i=function(){var Q=this;this.s.ondata=function(re,ye){Q.ondata(re,ye)}},M.prototype.push=function(Q,re){if(this.ondata||Ce(5),this.s)this.s.push(Q,re);else{if(this.p&&this.p.length){var ye=new A(this.p.length+Q.length);ye.set(this.p),ye.set(Q,this.p.length)}else this.p=Q;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,re),this.p=null)}},M})(),Xs=(function(){function M(Q,re){Io.call(this,Q,re),this.queuedSize=0,this.G=Va,this.I=Es,this.Z=ha}return M.prototype.i=function(){var Q=this;this.s.ondata=function(re,ye,De){Q.ondata(re,ye,De)},this.s.ondrain=function(re){Q.queuedSize-=re,Q.ondrain&&Q.ondrain(re)}},M.prototype.push=function(Q,re){this.queuedSize+=Q.length,Io.prototype.push.call(this,Q,re)},M})();function To(M,Q,re){return re||(re=Q,Q={}),typeof re!="function"&&Ce(7),M[0]==31&&M[1]==139&&M[2]==8?Cc(M,Q,re):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?Ni(M,Q,re):Jl(M,Q,re)}function rl(M,Q){return M[0]==31&&M[1]==139&&M[2]==8?vs(M,Q):(M[0]&15)!=8||M[0]>>4>7||(M[0]<<8|M[1])%31?yi(M,Q):ai(M,Q)}var _o=function(M,Q,re,ye){for(var De in M){var Ge=M[De],it=Q+De,I=ye;Array.isArray(Ge)&&(I=Ir(ye,Ge[1]),Ge=Ge[0]),Ge instanceof A?re[it]=[Ge,I]:(re[it+="/"]=[new A(0),I],_o(Ge,it,re,ye))}},Ws=typeof TextEncoder<"u"&&new TextEncoder,Si=typeof TextDecoder<"u"&&new TextDecoder,ii=0;try{Si.decode(ke,{stream:!0}),ii=1}catch{}var pl=function(M){for(var Q="",re=0;;){var ye=M[re++],De=(ye>127)+(ye>223)+(ye>239);if(re+De>M.length)return{s:Q,r:Ne(M,re-1)};De?De==3?(ye=((ye&15)<<18|(M[re++]&63)<<12|(M[re++]&63)<<6|M[re++]&63)-65536,Q+=String.fromCharCode(55296|ye>>10,56320|ye&1023)):De&1?Q+=String.fromCharCode((ye&31)<<6|M[re++]&63):Q+=String.fromCharCode((ye&15)<<12|(M[re++]&63)<<6|M[re++]&63):Q+=String.fromCharCode(ye)}},Oo=(function(){function M(Q){this.ondata=Q,ii?this.t=new TextDecoder:this.p=ke}return M.prototype.push=function(Q,re){if(this.ondata||Ce(5),re=!!re,this.t){this.ondata(this.t.decode(Q,{stream:!0}),re),re&&(this.t.decode().length&&Ce(8),this.t=null);return}this.p||Ce(4);var ye=new A(this.p.length+Q.length);ye.set(this.p),ye.set(Q,this.p.length);var De=pl(ye),Ge=De.s,it=De.r;re?(it.length&&Ce(8),this.p=null):this.p=it,this.ondata(Ge,re)},M})(),Hc=(function(){function M(Q){this.ondata=Q}return M.prototype.push=function(Q,re){this.ondata||Ce(5),this.d&&Ce(4),this.ondata(cs(Q),this.d=re||!1)},M})();function cs(M,Q){if(Q){for(var re=new A(M.length),ye=0;ye<M.length;++ye)re[ye]=M.charCodeAt(ye);return re}if(Ws)return Ws.encode(M);for(var De=M.length,Ge=new A(M.length+(M.length>>1)),it=0,I=function(V){Ge[it++]=V},ye=0;ye<De;++ye){if(it+5>Ge.length){var B=new A(it+8+(De-ye<<1));B.set(Ge),Ge=B}var D=M.charCodeAt(ye);D<128||Q?I(D):D<2048?(I(192|D>>6),I(128|D&63)):D>55295&&D<57344?(D=65536+(D&1047552)|M.charCodeAt(++ye)&1023,I(240|D>>18),I(128|D>>12&63),I(128|D>>6&63),I(128|D&63)):(I(224|D>>12),I(128|D>>6&63),I(128|D&63))}return Ne(Ge,0,it)}function Gn(M,Q){if(Q){for(var re="",ye=0;ye<M.length;ye+=16384)re+=String.fromCharCode.apply(null,M.subarray(ye,ye+16384));return re}else{if(Si)return Si.decode(M);var De=pl(M),Ge=De.s,re=De.r;return re.length&&Ce(8),Ge}}var $i=function(M){return M==1?3:M<6?2:M==9?1:0},xs=function(M,Q){return Q+30+Wr(M,Q+26)+Wr(M,Q+28)},ys=function(M,Q,re){var ye=Wr(M,Q+28),De=Gn(M.subarray(Q+46,Q+46+ye),!(Wr(M,Q+8)&2048)),Ge=Q+46+ye,it=Wn(M,Q+20),I=re&&it==4294967295?ko(M,Ge):[it,Wn(M,Q+24),Wn(M,Q+42)],B=I[0],D=I[1],V=I[2];return[Wr(M,Q+10),B,D,De,Ge+Wr(M,Q+30)+Wr(M,Q+32),V]},ko=function(M,Q){for(;Wr(M,Q)!=1;Q+=4+Wr(M,Q+2));return[Lr(M,Q+12),Lr(M,Q+4),Lr(M,Q+20)]},Ri=function(M){var Q=0;if(M)for(var re in M){var ye=M[re].length;ye>65535&&Ce(9),Q+=ye+4}return Q},lo=function(M,Q,re,ye,De,Ge,it,I){var B=ye.length,D=re.extra,V=I&&I.length,Z=Ri(D);Dr(M,Q,it!=null?33639248:67324752),Q+=4,it!=null&&(M[Q++]=20,M[Q++]=re.os),M[Q]=20,Q+=2,M[Q++]=re.flag<<1|(Ge<0&&8),M[Q++]=De&&8,M[Q++]=re.compression&255,M[Q++]=re.compression>>8;var ne=new Date(re.mtime==null?Date.now():re.mtime),Se=ne.getFullYear()-1980;if((Se<0||Se>119)&&Ce(10),Dr(M,Q,Se<<25|ne.getMonth()+1<<21|ne.getDate()<<16|ne.getHours()<<11|ne.getMinutes()<<5|ne.getSeconds()>>1),Q+=4,Ge!=-1&&(Dr(M,Q,re.crc),Dr(M,Q+4,Ge<0?-Ge-2:Ge),Dr(M,Q+8,re.size)),Dr(M,Q+12,B),Dr(M,Q+14,Z),Q+=16,it!=null&&(Dr(M,Q,V),Dr(M,Q+6,re.attrs),Dr(M,Q+10,it),Q+=14),M.set(ye,Q),Q+=B,Z)for(var fe in D){var ge=D[fe],Re=ge.length;Dr(M,Q,+fe),Dr(M,Q+2,Re),M.set(ge,Q+4),Q+=4+Re}return V&&(M.set(I,Q),Q+=V),Q},Zi=function(M,Q,re,ye,De){Dr(M,Q,101010256),Dr(M,Q+8,re),Dr(M,Q+10,re),Dr(M,Q+12,ye),Dr(M,Q+16,De)},Fi=(function(){function M(Q){this.filename=Q,this.c=Ft(),this.size=0,this.compression=0}return M.prototype.process=function(Q,re){this.ondata(null,Q,re)},M.prototype.push=function(Q,re){this.ondata||Ce(5),this.c.p(Q),this.size+=Q.length,re&&(this.crc=this.c.d()),this.process(Q,re||!1)},M})(),yo=(function(){function M(Q,re){var ye=this;re||(re={}),Fi.call(this,Q),this.d=new tn(re,function(De,Ge){ye.ondata(null,De,Ge)}),this.compression=8,this.flag=$i(re.level)}return M.prototype.process=function(Q,re){try{this.d.push(Q,re)}catch(ye){this.ondata(ye,null,re)}},M.prototype.push=function(Q,re){Fi.prototype.push.call(this,Q,re)},M})(),Po=(function(){function M(Q,re){var ye=this;re||(re={}),Fi.call(this,Q),this.d=new lr(re,function(De,Ge,it){ye.ondata(De,Ge,it)}),this.compression=8,this.flag=$i(re.level),this.terminate=this.d.terminate}return M.prototype.process=function(Q,re){this.d.push(Q,re)},M.prototype.push=function(Q,re){Fi.prototype.push.call(this,Q,re)},M})(),ga=(function(){function M(Q){this.ondata=Q,this.u=[],this.d=1}return M.prototype.add=function(Q){var re=this;if(this.ondata||Ce(5),this.d&2)this.ondata(Ce(4+(this.d&1)*8,0,1),null,!1);else{var ye=cs(Q.filename),De=ye.length,Ge=Q.comment,it=Ge&&cs(Ge),I=De!=Q.filename.length||it&&Ge.length!=it.length,B=De+Ri(Q.extra)+30;De>65535&&this.ondata(Ce(11,0,1),null,!1);var D=new A(B);lo(D,0,Q,ye,I,-1);var V=[D],Z=function(){for(var Re=0,Ve=V;Re<Ve.length;Re++){var et=Ve[Re];re.ondata(null,et,!1)}V=[]},ne=this.d;this.d=0;var Se=this.u.length,fe=Ir(Q,{f:ye,u:I,o:it,t:function(){Q.terminate&&Q.terminate()},r:function(){if(Z(),ne){var Re=re.u[Se+1];Re?Re.r():re.d=1}ne=1}}),ge=0;Q.ondata=function(Re,Ve,et){if(Re)re.ondata(Re,Ve,et),re.terminate();else if(ge+=Ve.length,V.push(Ve),et){var st=new A(16);Dr(st,0,134695760),Dr(st,4,Q.crc),Dr(st,8,ge),Dr(st,12,Q.size),V.push(st),fe.c=ge,fe.b=B+ge+16,fe.crc=Q.crc,fe.size=Q.size,ne&&fe.r(),ne=1}else ne&&Z()},this.u.push(fe)}},M.prototype.end=function(){var Q=this;if(this.d&2){this.ondata(Ce(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){Q.d&1&&(Q.u.splice(-1,1),Q.e())},t:function(){}}),this.d=3},M.prototype.e=function(){for(var Q=0,re=0,ye=0,De=0,Ge=this.u;De<Ge.length;De++){var it=Ge[De];ye+=46+it.f.length+Ri(it.extra)+(it.o?it.o.length:0)}for(var I=new A(ye+22),B=0,D=this.u;B<D.length;B++){var it=D[B];lo(I,Q,it,it.f,it.u,-it.c-2,re,it.o),Q+=46+it.f.length+Ri(it.extra)+(it.o?it.o.length:0),re+=it.b}Zi(I,Q,this.u.length,ye,re),this.ondata(null,I,!0),this.d=2},M.prototype.terminate=function(){for(var Q=0,re=this.u;Q<re.length;Q++){var ye=re[Q];ye.t()}this.d=2},M})();function Vi(M,Q,re){re||(re=Q,Q={}),typeof re!="function"&&Ce(7);var ye={};_o(M,"",ye,Q);var De=Object.keys(ye),Ge=De.length,it=0,I=0,B=Ge,D=new Array(Ge),V=[],Z=function(){for(var Re=0;Re<V.length;++Re)V[Re]()},ne=function(Re,Ve){H(function(){re(Re,Ve)})};H(function(){ne=re});var Se=function(){var Re=new A(I+22),Ve=it,et=I-it;I=0;for(var st=0;st<B;++st){var Fe=D[st];try{var vt=Fe.c.length;lo(Re,I,Fe,Fe.f,Fe.u,vt);var mt=30+Fe.f.length+Ri(Fe.extra),yt=I+mt;Re.set(Fe.c,yt),lo(Re,it,Fe,Fe.f,Fe.u,vt,I,Fe.m),it+=16+mt+(Fe.m?Fe.m.length:0),I=yt+vt}catch(nt){return ne(nt,null)}}Zi(Re,it,D.length,et,Ve),ne(null,Re)};Ge||Se();for(var fe=function(Re){var Ve=De[Re],et=ye[Ve],st=et[0],Fe=et[1],vt=Ft(),mt=st.length;vt.p(st);var yt=cs(Ve),nt=yt.length,kt=Fe.comment,Gt=kt&&cs(kt),St=Gt&&Gt.length,tt=Ri(Fe.extra),Qt=Fe.level==0?0:8,cr=function(Xt,Tt){if(Xt)Z(),ne(Xt,null);else{var or=Tt.length;D[Re]=Ir(Fe,{size:mt,crc:vt.d(),c:Tt,f:yt,m:Gt,u:nt!=Ve.length||Gt&&kt.length!=St,compression:Qt}),it+=30+nt+tt+or,I+=76+2*(nt+tt)+(St||0)+or,--Ge||Se()}};if(nt>65535&&cr(Ce(11,0,1),null),!Qt)cr(null,st);else if(mt<16e4)try{cr(null,xi(st,Fe))}catch(Xt){cr(Xt,null)}else V.push(ma(st,Fe,cr))},ge=0;ge<B;++ge)fe(ge);return Z}function bs(M,Q){Q||(Q={});var re={},ye=[];_o(M,"",re,Q);var De=0,Ge=0;for(var it in re){var I=re[it],B=I[0],D=I[1],V=D.level==0?0:8,Z=cs(it),ne=Z.length,Se=D.comment,fe=Se&&cs(Se),ge=fe&&fe.length,Re=Ri(D.extra);ne>65535&&Ce(11);var Ve=V?xi(B,D):B,et=Ve.length,st=Ft();st.p(B),ye.push(Ir(D,{size:B.length,crc:st.d(),c:Ve,f:Z,m:fe,u:ne!=it.length||fe&&Se.length!=ge,o:De,compression:V})),De+=30+ne+Re+et,Ge+=76+2*(ne+Re)+(ge||0)+et}for(var Fe=new A(Ge+22),vt=De,mt=Ge-De,yt=0;yt<ye.length;++yt){var Z=ye[yt];lo(Fe,Z.o,Z,Z.f,Z.u,Z.c.length);var nt=30+Z.f.length+Ri(Z.extra);Fe.set(Z.c,Z.o+nt),lo(Fe,De,Z,Z.f,Z.u,Z.c.length,Z.o,Z.m),De+=16+nt+(Z.m?Z.m.length:0)}return Zi(Fe,De,ye.length,mt,vt),Fe}var Ys=(function(){function M(){}return M.prototype.push=function(Q,re){this.ondata(null,Q,re)},M.compression=0,M})(),Fs=(function(){function M(){var Q=this;this.i=new Cn(function(re,ye){Q.ondata(null,re,ye)})}return M.prototype.push=function(Q,re){try{this.i.push(Q,re)}catch(ye){this.ondata(ye,null,re)}},M.compression=8,M})(),Fo=(function(){function M(Q,re){var ye=this;re<32e4?this.i=new Cn(function(De,Ge){ye.ondata(null,De,Ge)}):(this.i=new Es(function(De,Ge,it){ye.ondata(De,Ge,it)}),this.terminate=this.i.terminate)}return M.prototype.push=function(Q,re){this.i.terminate&&(Q=Ne(Q,0)),this.i.push(Q,re)},M.compression=8,M})(),Ut=(function(){function M(Q){this.onfile=Q,this.k=[],this.o={0:Ys},this.p=ke}return M.prototype.push=function(Q,re){var ye=this;if(this.onfile||Ce(5),this.p||Ce(4),this.c>0){var De=Math.min(this.c,Q.length),Ge=Q.subarray(0,De);if(this.c-=De,this.d?this.d.push(Ge,!this.c):this.k[0].push(Ge),Q=Q.subarray(De),Q.length)return this.push(Q,re)}else{var it=0,I=0,B=void 0,D=void 0;this.p.length?Q.length?(D=new A(this.p.length+Q.length),D.set(this.p),D.set(Q,this.p.length)):D=this.p:D=Q;for(var V=D.length,Z=this.c,ne=Z&&this.d,Se=function(){var Ve,et=Wn(D,I);if(et==67324752){it=1,B=I,fe.d=null,fe.c=0;var st=Wr(D,I+6),Fe=Wr(D,I+8),vt=st&2048,mt=st&8,yt=Wr(D,I+26),nt=Wr(D,I+28);if(V>I+30+yt+nt){var kt=[];fe.k.unshift(kt),it=2;var Gt=Wn(D,I+18),St=Wn(D,I+22),tt=Gn(D.subarray(I+30,I+=30+yt),!vt);Gt==4294967295?(Ve=mt?[-2]:ko(D,I),Gt=Ve[0],St=Ve[1]):mt&&(Gt=-1),I+=nt,fe.c=Gt;var Qt,cr={name:tt,compression:Fe,start:function(){if(cr.ondata||Ce(5),!Gt)cr.ondata(null,ke,!0);else{var Xt=ye.o[Fe];Xt||cr.ondata(Ce(14,"unknown compression type "+Fe,1),null,!1),Qt=Gt<0?new Xt(tt):new Xt(tt,Gt,St),Qt.ondata=function(dt,Et,It){cr.ondata(dt,Et,It)};for(var Tt=0,or=kt;Tt<or.length;Tt++){var at=or[Tt];Qt.push(at,!1)}ye.k[0]==kt&&ye.c?ye.d=Qt:Qt.push(ke,!0)}},terminate:function(){Qt&&Qt.terminate&&Qt.terminate()}};Gt>=0&&(cr.size=Gt,cr.originalSize=St),fe.onfile(cr)}return"break"}else if(Z){if(et==134695760)return B=I+=12+(Z==-2&&8),it=3,fe.c=0,"break";if(et==33639248)return B=I-=4,it=3,fe.c=0,"break"}},fe=this;I<V-4;++I){var ge=Se();if(ge==="break")break}if(this.p=ke,Z<0){var Re=it?D.subarray(0,B-12-(Z==-2&&8)-(Wn(D,B-16)==134695760&&4)):D.subarray(0,I);ne?ne.push(Re,!!it):this.k[+(it==2)].push(Re)}if(it&2)return this.push(D.subarray(I),re);this.p=D.subarray(I)}re&&(this.c&&Ce(13),this.p=null)},M.prototype.register=function(Q){this.o[Q.compression]=Q},M})(),H=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(M){M()};function oe(M,Q,re){re||(re=Q,Q={}),typeof re!="function"&&Ce(7);var ye=[],De=function(){for(var Re=0;Re<ye.length;++Re)ye[Re]()},Ge={},it=function(Re,Ve){H(function(){re(Re,Ve)})};H(function(){it=re});for(var I=M.length-22;Wn(M,I)!=101010256;--I)if(!I||M.length-I>65558)return it(Ce(13,0,1),null),De;var B=Wr(M,I+8);if(B){var D=B,V=Wn(M,I+16),Z=V==4294967295||D==65535;if(Z){var ne=Wn(M,I-12);Z=Wn(M,ne)==101075792,Z&&(D=B=Wn(M,ne+32),V=Wn(M,ne+48))}for(var Se=Q&&Q.filter,fe=function(Re){var Ve=ys(M,V,Z),et=Ve[0],st=Ve[1],Fe=Ve[2],vt=Ve[3],mt=Ve[4],yt=Ve[5],nt=xs(M,yt);V=mt;var kt=function(St,tt){St?(De(),it(St,null)):(tt&&(Ge[vt]=tt),--B||it(null,Ge))};if(!Se||Se({name:vt,size:st,originalSize:Fe,compression:et}))if(!et)kt(null,Ne(M,nt,nt+st));else if(et==8){var Gt=M.subarray(nt,nt+st);if(Fe<524288||st>.8*Fe)try{kt(null,yi(Gt,{out:new A(Fe)}))}catch(St){kt(St,null)}else ye.push(Ni(Gt,{size:Fe},kt))}else kt(Ce(14,"unknown compression type "+et,1),null);else kt(null,null)},ge=0;ge<D;++ge)fe(ge)}else it(null,{});return De}function ue(M,Q){for(var re={},ye=M.length-22;Wn(M,ye)!=101010256;--ye)(!ye||M.length-ye>65558)&&Ce(13);var De=Wr(M,ye+8);if(!De)return{};var Ge=Wn(M,ye+16),it=Ge==4294967295||De==65535;if(it){var I=Wn(M,ye-12);it=Wn(M,I)==101075792,it&&(De=Wn(M,I+32),Ge=Wn(M,I+48))}for(var B=Q&&Q.filter,D=0;D<De;++D){var V=ys(M,Ge,it),Z=V[0],ne=V[1],Se=V[2],fe=V[3],ge=V[4],Re=V[5],Ve=xs(M,Re);Ge=ge,(!B||B({name:fe,size:ne,originalSize:Se,compression:Z}))&&(Z?Z==8?re[fe]=yi(M.subarray(Ve,Ve+ne),{out:new A(Se)}):Ce(14,"unknown compression type "+Z):re[fe]=Ne(M,Ve,Ve+ne))}return re}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(l,u,o){o.r(u),o.d(u,{IOBuffer:function(){return g}});var h=o("./node_modules/iobuffer/lib-esm/text.js");const d=1024*8,A=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),f={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=d,y={}){Xi(this,"buffer");Xi(this,"byteLength");Xi(this,"byteOffset");Xi(this,"length");Xi(this,"offset");Xi(this,"lastWrittenByte");Xi(this,"littleEndian");Xi(this,"_data");Xi(this,"_mark");Xi(this,"_marks");let b=!1;typeof x=="number"?x=new ArrayBuffer(x):(b=!0,this.lastWrittenByte=x.byteLength);const w=y.offset?y.offset>>>0:0,N=x.byteLength-w;let S=w;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(S=x.byteOffset+w),x=x.buffer),b?this.lastWrittenByte=N:this.lastWrittenByte=0,this.buffer=x,this.length=N,this.byteLength=N,this.byteOffset=S,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,S,N),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const b=(this.offset+x)*2,w=new Uint8Array(b);w.set(new Uint8Array(this.buffer)),this.buffer=w.buffer,this.length=b,this.byteLength=b,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const b=f[y].BYTES_PER_ELEMENT*x,w=this.byteOffset+this.offset,N=this.buffer.slice(w,w+b);if(this.littleEndian===A&&y!=="uint8"&&y!=="int8"){const C=new Uint8Array(this.buffer.slice(w,w+b));C.reverse();const k=new f[y](C.buffer);return this.offset+=b,k.reverse(),k}const S=new f[y](N);return this.offset+=b,S}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let b=0;b<x;b++)y+=this.readChar();return y}readUtf8(x=1){return(0,h.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,h.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,h.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(l,u,o){o.r(u),o.d(u,{decode:function(){return h},encode:function(){return A}});function h(f,g="utf8"){return new TextDecoder(g).decode(f)}const d=new TextEncoder;function A(f){return d.encode(f)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(l,u,o){o.r(u),o.d(u,{AcroForm:function(){return xi},AcroFormAppearance:function(){return lr},AcroFormButton:function(){return cn},AcroFormCheckBox:function(){return $r},AcroFormChoiceField:function(){return Wn},AcroFormComboBox:function(){return Dr},AcroFormEditBox:function(){return wn},AcroFormListBox:function(){return Lr},AcroFormPasswordField:function(){return tn},AcroFormPushButton:function(){return Ln},AcroFormRadioButton:function(){return la},AcroFormTextField:function(){return un},GState:function(){return Ee},ShadingPattern:function(){return me},TilingPattern:function(){return se},default:function(){return J},jsPDF:function(){return J}});var h=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=o("./node_modules/fflate/esm/browser.js"),A=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),f=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof oA<"u"?oA:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(I){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(I){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(I))}};function y(I,B,D){var V=new XMLHttpRequest;V.open("GET",I),V.responseType="blob",V.onload=function(){N(V.response,B,D)},V.onerror=function(){x.error("could not download file")},V.send()}function b(I){var B=new XMLHttpRequest;B.open("HEAD",I,!1);try{B.send()}catch{}return B.status>=200&&B.status<=299}function w(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(B)}}var N=g.saveAs||((typeof window>"u"?"undefined":(0,h.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(I,B,D){var V=g.URL||g.webkitURL,Z=document.createElement("a");B=B||I.name||"download",Z.download=B,Z.rel="noopener",typeof I=="string"?(Z.href=I,Z.origin!==location.origin?b(Z.href)?y(I,B,D):w(Z,Z.target="_blank"):w(Z)):(Z.href=V.createObjectURL(I),setTimeout(function(){V.revokeObjectURL(Z.href)},4e4),setTimeout(function(){w(Z)},0))}:"msSaveOrOpenBlob"in navigator?function(I,B,D){if(B=B||I.name||"download",typeof I=="string")if(b(I))y(I,B,D);else{var V=document.createElement("a");V.href=I,V.target="_blank",setTimeout(function(){w(V)})}else navigator.msSaveOrOpenBlob((function(Z,ne){return ne===void 0?ne={autoBom:!1}:(0,h.default)(ne)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),ne={autoBom:!ne}),ne.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Z.type)?new Blob(["\uFEFF",Z],{type:Z.type}):Z})(I,D),B)}:function(I,B,D,V){if((V=V||open("","_blank"))&&(V.document.title=V.document.body.innerText="downloading..."),typeof I=="string")return y(I,B,D);var Z=I.type==="application/octet-stream",ne=/constructor/i.test(g.HTMLElement)||g.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||Z&&ne)&&(typeof FileReader>"u"?"undefined":(0,h.default)(FileReader))==="object"){var fe=new FileReader;fe.onloadend=function(){var Ve=fe.result;Ve=Se?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),V?V.location.href=Ve:location=Ve,V=null},fe.readAsDataURL(I)}else{var ge=g.URL||g.webkitURL,Re=ge.createObjectURL(I);V?V.location=Re:location.href=Re,V=null,setTimeout(function(){ge.revokeObjectURL(Re)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S(I){var B;I=I||"",this.ok=!1,I.charAt(0)=="#"&&(I=I.substr(1,6)),I={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[I=(I=I.replace(/ /g,"")).toLowerCase()]||I;for(var D=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(fe){return[parseInt(fe[1]),parseInt(fe[2]),parseInt(fe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(fe){return[parseInt(fe[1],16),parseInt(fe[2],16),parseInt(fe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(fe){return[parseInt(fe[1]+fe[1],16),parseInt(fe[2]+fe[2],16),parseInt(fe[3]+fe[3],16)]}}],V=0;V<D.length;V++){var Z=D[V].re,ne=D[V].process,Se=Z.exec(I);Se&&(B=ne(Se),this.r=B[0],this.g=B[1],this.b=B[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var fe=this.r.toString(16),ge=this.g.toString(16),Re=this.b.toString(16);return fe.length==1&&(fe="0"+fe),ge.length==1&&(ge="0"+ge),Re.length==1&&(Re="0"+Re),"#"+fe+ge+Re}}var C=g.atob.bind(g),k=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W(I,B){var D=I[0],V=I[1],Z=I[2],ne=I[3];D=te(D,V,Z,ne,B[0],7,-680876936),ne=te(ne,D,V,Z,B[1],12,-389564586),Z=te(Z,ne,D,V,B[2],17,606105819),V=te(V,Z,ne,D,B[3],22,-1044525330),D=te(D,V,Z,ne,B[4],7,-176418897),ne=te(ne,D,V,Z,B[5],12,1200080426),Z=te(Z,ne,D,V,B[6],17,-1473231341),V=te(V,Z,ne,D,B[7],22,-45705983),D=te(D,V,Z,ne,B[8],7,1770035416),ne=te(ne,D,V,Z,B[9],12,-1958414417),Z=te(Z,ne,D,V,B[10],17,-42063),V=te(V,Z,ne,D,B[11],22,-1990404162),D=te(D,V,Z,ne,B[12],7,1804603682),ne=te(ne,D,V,Z,B[13],12,-40341101),Z=te(Z,ne,D,V,B[14],17,-1502002290),D=K(D,V=te(V,Z,ne,D,B[15],22,1236535329),Z,ne,B[1],5,-165796510),ne=K(ne,D,V,Z,B[6],9,-1069501632),Z=K(Z,ne,D,V,B[11],14,643717713),V=K(V,Z,ne,D,B[0],20,-373897302),D=K(D,V,Z,ne,B[5],5,-701558691),ne=K(ne,D,V,Z,B[10],9,38016083),Z=K(Z,ne,D,V,B[15],14,-660478335),V=K(V,Z,ne,D,B[4],20,-405537848),D=K(D,V,Z,ne,B[9],5,568446438),ne=K(ne,D,V,Z,B[14],9,-1019803690),Z=K(Z,ne,D,V,B[3],14,-187363961),V=K(V,Z,ne,D,B[8],20,1163531501),D=K(D,V,Z,ne,B[13],5,-1444681467),ne=K(ne,D,V,Z,B[2],9,-51403784),Z=K(Z,ne,D,V,B[7],14,1735328473),D=X(D,V=K(V,Z,ne,D,B[12],20,-1926607734),Z,ne,B[5],4,-378558),ne=X(ne,D,V,Z,B[8],11,-2022574463),Z=X(Z,ne,D,V,B[11],16,1839030562),V=X(V,Z,ne,D,B[14],23,-35309556),D=X(D,V,Z,ne,B[1],4,-1530992060),ne=X(ne,D,V,Z,B[4],11,1272893353),Z=X(Z,ne,D,V,B[7],16,-155497632),V=X(V,Z,ne,D,B[10],23,-1094730640),D=X(D,V,Z,ne,B[13],4,681279174),ne=X(ne,D,V,Z,B[0],11,-358537222),Z=X(Z,ne,D,V,B[3],16,-722521979),V=X(V,Z,ne,D,B[6],23,76029189),D=X(D,V,Z,ne,B[9],4,-640364487),ne=X(ne,D,V,Z,B[12],11,-421815835),Z=X(Z,ne,D,V,B[15],16,530742520),D=O(D,V=X(V,Z,ne,D,B[2],23,-995338651),Z,ne,B[0],6,-198630844),ne=O(ne,D,V,Z,B[7],10,1126891415),Z=O(Z,ne,D,V,B[14],15,-1416354905),V=O(V,Z,ne,D,B[5],21,-57434055),D=O(D,V,Z,ne,B[12],6,1700485571),ne=O(ne,D,V,Z,B[3],10,-1894986606),Z=O(Z,ne,D,V,B[10],15,-1051523),V=O(V,Z,ne,D,B[1],21,-2054922799),D=O(D,V,Z,ne,B[8],6,1873313359),ne=O(ne,D,V,Z,B[15],10,-30611744),Z=O(Z,ne,D,V,B[6],15,-1560198380),V=O(V,Z,ne,D,B[13],21,1309151649),D=O(D,V,Z,ne,B[4],6,-145523070),ne=O(ne,D,V,Z,B[11],10,-1120210379),Z=O(Z,ne,D,V,B[2],15,718787259),V=O(V,Z,ne,D,B[9],21,-343485551),I[0]=Te(D,I[0]),I[1]=Te(V,I[1]),I[2]=Te(Z,I[2]),I[3]=Te(ne,I[3])}function q(I,B,D,V,Z,ne){return B=Te(Te(B,I),Te(V,ne)),Te(B<<Z|B>>>32-Z,D)}function te(I,B,D,V,Z,ne,Se){return q(B&D|~B&V,I,B,Z,ne,Se)}function K(I,B,D,V,Z,ne,Se){return q(B&V|D&~V,I,B,Z,ne,Se)}function X(I,B,D,V,Z,ne,Se){return q(B^D^V,I,B,Z,ne,Se)}function O(I,B,D,V,Z,ne,Se){return q(D^(B|~V),I,B,Z,ne,Se)}function le(I){var B,D=I.length,V=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=I.length;B+=64)W(V,z(I.substring(B-64,B)));I=I.substring(B-64);var Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<I.length;B++)Z[B>>2]|=I.charCodeAt(B)<<(B%4<<3);if(Z[B>>2]|=128<<(B%4<<3),B>55)for(W(V,Z),B=0;B<16;B++)Z[B]=0;return Z[14]=8*D,W(V,Z),V}function z(I){var B,D=[];for(B=0;B<64;B+=4)D[B>>2]=I.charCodeAt(B)+(I.charCodeAt(B+1)<<8)+(I.charCodeAt(B+2)<<16)+(I.charCodeAt(B+3)<<24);return D}var R="0123456789abcdef".split("");function ie(I){for(var B="",D=0;D<4;D++)B+=R[I>>8*D+4&15]+R[I>>8*D&15];return B}function Ae(I){return String.fromCharCode(255&I,(65280&I)>>8,(16711680&I)>>16,(4278190080&I)>>24)}function Oe(I){return le(I).map(Ae).join("")}var be=(function(I){for(var B=0;B<I.length;B++)I[B]=ie(I[B]);return I.join("")})(le("hello"))!="5d41402abc4b2a76b9719d911017c592";function Te(I,B){if(be){var D=(65535&I)+(65535&B);return(I>>16)+(B>>16)+(D>>16)<<16|65535&D}return I+B&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y(I,B){var D,V,Z,ne;if(I!==D){for(var Se=(Z=I,ne=1+(256/I.length|0),new Array(ne+1).join(Z)),fe=[],ge=0;ge<256;ge++)fe[ge]=ge;var Re=0;for(ge=0;ge<256;ge++){var Ve=fe[ge];Re=(Re+Ve+Se.charCodeAt(ge))%256,fe[ge]=fe[Re],fe[Re]=Ve}D=I,V=fe}else fe=V;var et=B.length,st=0,Fe=0,vt="";for(ge=0;ge<et;ge++)Fe=(Fe+(Ve=fe[st=(st+1)%256]))%256,fe[st]=fe[Fe],fe[Fe]=Ve,Se=fe[(fe[st]+fe[Fe])%256],vt+=String.fromCharCode(B.charCodeAt(ge)^Se);return vt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ne={print:4,modify:8,copy:16,"annot-forms":32};function ce(I,B,D,V){this.v=1,this.r=2;var Z=192;I.forEach(function(fe){if(Ne.perm!==void 0)throw new Error("Invalid permission: "+fe);Z+=Ne[fe]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ne=(B+this.padding).substr(0,32),Se=(D+this.padding).substr(0,32);this.O=this.processOwnerPassword(ne,Se),this.P=-(1+(255^Z)),this.encryptionKey=Oe(ne+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(V)).substr(0,5),this.U=Y(this.encryptionKey,this.padding)}function ae(I){if(/[^\u0000-\u00ff]/.test(I))throw new Error("Invalid PDF Name Object: "+I+", Only accept ASCII characters.");for(var B="",D=I.length,V=0;V<D;V++){var Z=I.charCodeAt(V);B+=Z<33||Z===35||Z===37||Z===40||Z===41||Z===47||Z===60||Z===62||Z===91||Z===93||Z===123||Z===125||Z>126?"#"+("0"+Z.toString(16)).slice(-2):I[V]}return B}function Ce(I){if((0,h.default)(I)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var B={};this.subscribe=function(D,V,Z){if(Z=Z||!1,typeof D!="string"||typeof V!="function"||typeof Z!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");B.hasOwnProperty(D)||(B[D]={});var ne=Math.random().toString(35);return B[D][ne]=[V,!!Z],ne},this.unsubscribe=function(D){for(var V in B)if(B[V][D])return delete B[V][D],Object.keys(B[V]).length===0&&delete B[V],!0;return!1},this.publish=function(D){if(B.hasOwnProperty(D)){var V=Array.prototype.slice.call(arguments,1),Z=[];for(var ne in B[D]){var Se=B[D][ne];try{Se[0].apply(I,V)}catch(fe){g.console&&x.error("jsPDF PubSub Error",fe.message,fe)}Se[1]&&Z.push(ne)}Z.length&&Z.forEach(this.unsubscribe)}},this.getTopics=function(){return B}}function Ee(I){if(!(this instanceof Ee))return new Ee(I);var B="opacity,stroke-opacity".split(",");for(var D in I)I.hasOwnProperty(D)&&B.indexOf(D)>=0&&(this[D]=I[D]);this.id="",this.objectNumber=-1}function we(I,B){this.gState=I,this.matrix=B,this.id="",this.objectNumber=-1}function me(I,B,D,V,Z){if(!(this instanceof me))return new me(I,B,D,V,Z);this.type=I==="axial"?2:3,this.coords=B,this.colors=D,we.call(this,V,Z)}function se(I,B,D,V,Z){if(!(this instanceof se))return new se(I,B,D,V,Z);this.boundingBox=I,this.xStep=B,this.yStep=D,this.stream="",this.cloneIndex=0,we.call(this,V,Z)}function J(I){var B,D=typeof arguments[0]=="string"?arguments[0]:"p",V=arguments[1],Z=arguments[2],ne=arguments[3],Se=[],fe=1,ge=16,Re="S",Ve=null;(0,h.default)(I=I||{})==="object"&&(D=I.orientation,V=I.unit||V,Z=I.format||Z,ne=I.compress||I.compressPdf||ne,(Ve=I.encryption||null)!==null&&(Ve.userPassword=Ve.userPassword||"",Ve.ownerPassword=Ve.ownerPassword||"",Ve.userPermissions=Ve.userPermissions||[]),fe=typeof I.userUnit=="number"?Math.abs(I.userUnit):1,I.precision!==void 0&&(B=I.precision),I.floatPrecision!==void 0&&(ge=I.floatPrecision),Re=I.defaultPathOperation||"S"),Se=I.filters||(ne===!0?["FlateEncode"]:Se),V=V||"mm",D=(""+(D||"P")).toLowerCase();var et=I.putOnlyUsedFonts||!1,st={},Fe={internal:{},__private__:{}};Fe.__private__.PubSub=Ce;var vt="1.3",mt=Fe.__private__.getPdfVersion=function(){return vt};Fe.__private__.setPdfVersion=function(de){vt=de};var yt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Fe.__private__.getPageFormats=function(){return yt};var nt=Fe.__private__.getPageFormat=function(de){return yt[de]};Z=Z||"a4";var kt="compat",Gt="advanced",St=kt;function tt(){this.saveGraphicsState(),ut(new Aa(ua,0,0,-ua,0,Vc()*ua).toString()+" cm"),this.setFontSize(this.getFontSize()/ua),Re="n",St=Gt}function Qt(){this.restoreGraphicsState(),Re="S",St=kt}var cr=Fe.__private__.combineFontStyleAndFontWeight=function(de,Qe){if(de=="bold"&&Qe=="normal"||de=="bold"&&Qe==400||de=="normal"&&Qe=="italic"||de=="bold"&&Qe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qe&&(de=Qe==400||Qe==="normal"?de==="italic"?"italic":"normal":Qe!=700&&Qe!=="bold"||de!=="normal"?(Qe==700?"bold":Qe)+""+de:"bold"),de};Fe.advancedAPI=function(de){var Qe=St===kt;return Qe&&tt.call(this),typeof de!="function"||(de(this),Qe&&Qt.call(this)),this},Fe.compatAPI=function(de){var Qe=St===Gt;return Qe&&Qt.call(this),typeof de!="function"||(de(this),Qe&&tt.call(this)),this},Fe.isAdvancedAPI=function(){return St===Gt};var Xt,Tt=function(de){if(St!==Gt)throw new Error(de+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},or=Fe.roundToPrecision=Fe.__private__.roundToPrecision=function(de,Qe){var gt=B||Qe;if(isNaN(de)||isNaN(gt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return de.toFixed(gt).replace(/0+$/,"")};Xt=Fe.hpf=Fe.__private__.hpf=typeof ge=="number"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,ge)}:ge==="smart"?function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,de>-1&&de<1?16:5)}:function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.hpf");return or(de,16)};var at=Fe.f2=Fe.__private__.f2=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f2");return or(de,2)},dt=Fe.__private__.f3=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.f3");return or(de,3)},Et=Fe.scale=Fe.__private__.scale=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.scale");return St===kt?de*ua:St===Gt?de:void 0},It=function(de){return Et((function(Qe){return St===kt?Vc()-Qe:St===Gt?Qe:void 0})(de))};Fe.__private__.setPrecision=Fe.setPrecision=function(de){typeof parseInt(de,10)=="number"&&(B=parseInt(de,10))};var ur,pr="00000000000000000000000000000000",yr=Fe.__private__.getFileId=function(){return pr},Jt=Fe.__private__.setFileId=function(de){return pr=de!==void 0&&/^[a-fA-F0-9]{32}$/.test(de)?de.toUpperCase():pr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ve!==null&&(Ts=new ce(Ve.userPermissions,Ve.userPassword,Ve.ownerPassword,pr)),pr};Fe.setFileId=function(de){return Jt(de),this},Fe.getFileId=function(){return yr()};var vr=Fe.__private__.convertDateToPDFDate=function(de){var Qe=de.getTimezoneOffset(),gt=Qe<0?"+":"-",_t=Math.floor(Math.abs(Qe/60)),qt=Math.abs(Qe%60),br=[gt,Ct(_t),"'",Ct(qt),"'"].join("");return["D:",de.getFullYear(),Ct(de.getMonth()+1),Ct(de.getDate()),Ct(de.getHours()),Ct(de.getMinutes()),Ct(de.getSeconds()),br].join("")},Xr=Fe.__private__.convertPDFDateToDate=function(de){var Qe=parseInt(de.substr(2,4),10),gt=parseInt(de.substr(6,2),10)-1,_t=parseInt(de.substr(8,2),10),qt=parseInt(de.substr(10,2),10),br=parseInt(de.substr(12,2),10),Fr=parseInt(de.substr(14,2),10);return new Date(Qe,gt,_t,qt,br,Fr,0)},Ur=Fe.__private__.setCreationDate=function(de){var Qe;if(de===void 0&&(de=new Date),de instanceof Date)Qe=vr(de);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(de))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qe=de}return ur=Qe},Ze=Fe.__private__.getCreationDate=function(de){var Qe=ur;return de==="jsDate"&&(Qe=Xr(ur)),Qe};Fe.setCreationDate=function(de){return Ur(de),this},Fe.getCreationDate=function(de){return Ze(de)};var xt,Ct=Fe.__private__.padd2=function(de){return("0"+parseInt(de)).slice(-2)},Wt=Fe.__private__.padd2Hex=function(de){return("00"+(de=de.toString())).substr(de.length)},Kt=0,nr=[],gr=[],xr=0,Pr=[],Yr=[],Nn=!1,Bn=gr;Fe.__private__.setCustomOutputDestination=function(de){Nn=!0,Bn=de};var ca=function(de){Nn||(Bn=de)};Fe.__private__.resetCustomOutputDestination=function(){Nn=!1,Bn=gr};var ut=Fe.__private__.out=function(de){return de=de.toString(),xr+=de.length+1,Bn.push(de),Bn},An=Fe.__private__.write=function(de){return ut(arguments.length===1?de.toString():Array.prototype.join.call(arguments," "))},va=Fe.__private__.getArrayBuffer=function(de){for(var Qe=de.length,gt=new ArrayBuffer(Qe),_t=new Uint8Array(gt);Qe--;)_t[Qe]=de.charCodeAt(Qe);return gt},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Fe.__private__.getStandardFonts=function(){return dn};var Hr=I.fontSize||16;Fe.__private__.setFontSize=Fe.setFontSize=function(de){return Hr=St===Gt?de/ua:de,this};var sa,Dn=Fe.__private__.getFontSize=Fe.getFontSize=function(){return St===kt?Hr:Hr*ua},Zn=I.R2L||!1;Fe.__private__.setR2L=Fe.setR2L=function(de){return Zn=de,this},Fe.__private__.getR2L=Fe.getR2L=function(){return Zn};var Mn,pi=Fe.__private__.setZoomMode=function(de){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(de))sa=de;else if(isNaN(de)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(de)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+de+'" is not recognized.');sa=de}else sa=parseInt(de,10)};Fe.__private__.getZoomMode=function(){return sa};var Ha,Fn=Fe.__private__.setPageMode=function(de){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(de)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+de+'" is not recognized.');Mn=de};Fe.__private__.getPageMode=function(){return Mn};var oi=Fe.__private__.setLayoutMode=function(de){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(de)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+de+'" is not recognized.');Ha=de};Fe.__private__.getLayoutMode=function(){return Ha},Fe.__private__.setDisplayMode=Fe.setDisplayMode=function(de,Qe,gt){return pi(de),oi(Qe),Fn(gt),this};var oa={title:"",subject:"",author:"",keywords:"",creator:""};Fe.__private__.getDocumentProperty=function(de){if(Object.keys(oa).indexOf(de)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oa[de]},Fe.__private__.getDocumentProperties=function(){return oa},Fe.__private__.setDocumentProperties=Fe.setProperties=Fe.setDocumentProperties=function(de){for(var Qe in oa)oa.hasOwnProperty(Qe)&&de[Qe]&&(oa[Qe]=de[Qe]);return this},Fe.__private__.setDocumentProperty=function(de,Qe){if(Object.keys(oa).indexOf(de)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oa[de]=Qe};var On,ua,kn,ja,ui,Ga={},qa={},ts=[],zn={},Ti={},xa={},Vn={},_i=null,Ca=0,En=[],ei=new Ce(Fe),ru=I.hotfixes||[],$s={},bo={},Sc=[],Aa=function de(Qe,gt,_t,qt,br,Fr){if(!(this instanceof de))return new de(Qe,gt,_t,qt,br,Fr);isNaN(Qe)&&(Qe=1),isNaN(gt)&&(gt=0),isNaN(_t)&&(_t=0),isNaN(qt)&&(qt=1),isNaN(br)&&(br=0),isNaN(Fr)&&(Fr=0),this._matrix=[Qe,gt,_t,qt,br,Fr]};Object.defineProperty(Aa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(Aa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(Aa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(Aa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(Aa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(Aa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(Aa.prototype,"a",{get:function(){return this._matrix[0]},set:function(de){this._matrix[0]=de}}),Object.defineProperty(Aa.prototype,"b",{get:function(){return this._matrix[1]},set:function(de){this._matrix[1]=de}}),Object.defineProperty(Aa.prototype,"c",{get:function(){return this._matrix[2]},set:function(de){this._matrix[2]=de}}),Object.defineProperty(Aa.prototype,"d",{get:function(){return this._matrix[3]},set:function(de){this._matrix[3]=de}}),Object.defineProperty(Aa.prototype,"e",{get:function(){return this._matrix[4]},set:function(de){this._matrix[4]=de}}),Object.defineProperty(Aa.prototype,"f",{get:function(){return this._matrix[5]},set:function(de){this._matrix[5]=de}}),Object.defineProperty(Aa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Aa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Aa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Aa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Aa.prototype.join=function(de){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Xt).join(de)},Aa.prototype.multiply=function(de){var Qe=de.sx*this.sx+de.shy*this.shx,gt=de.sx*this.shy+de.shy*this.sy,_t=de.shx*this.sx+de.sy*this.shx,qt=de.shx*this.shy+de.sy*this.sy,br=de.tx*this.sx+de.ty*this.shx+this.tx,Fr=de.tx*this.shy+de.ty*this.sy+this.ty;return new Aa(Qe,gt,_t,qt,br,Fr)},Aa.prototype.decompose=function(){var de=this.sx,Qe=this.shy,gt=this.shx,_t=this.sy,qt=this.tx,br=this.ty,Fr=Math.sqrt(de*de+Qe*Qe),In=(de/=Fr)*gt+(Qe/=Fr)*_t;gt-=de*In,_t-=Qe*In;var Un=Math.sqrt(gt*gt+_t*_t);return In/=Un,de*(_t/=Un)<Qe*(gt/=Un)&&(de=-de,Qe=-Qe,In=-In,Fr=-Fr),{scale:new Aa(Fr,0,0,Un,0,0),translate:new Aa(1,0,0,1,qt,br),rotate:new Aa(de,Qe,-Qe,de,0,0),skew:new Aa(1,0,In,1,0,0)}},Aa.prototype.toString=function(de){return this.join(" ")},Aa.prototype.inversed=function(){var de=this.sx,Qe=this.shy,gt=this.shx,_t=this.sy,qt=this.tx,br=this.ty,Fr=1/(de*_t-Qe*gt),In=_t*Fr,Un=-Qe*Fr,fa=-gt*Fr,na=de*Fr;return new Aa(In,Un,fa,na,-In*qt-fa*br,-Un*qt-na*br)},Aa.prototype.applyToPoint=function(de){var Qe=de.x*this.sx+de.y*this.shx+this.tx,gt=de.x*this.shy+de.y*this.sy+this.ty;return new di(Qe,gt)},Aa.prototype.applyToRectangle=function(de){var Qe=this.applyToPoint(de),gt=this.applyToPoint(new di(de.x+de.w,de.y+de.h));return new Oi(Qe.x,Qe.y,gt.x-Qe.x,gt.y-Qe.y)},Aa.prototype.clone=function(){var de=this.sx,Qe=this.shy,gt=this.shx,_t=this.sy,qt=this.tx,br=this.ty;return new Aa(de,Qe,gt,_t,qt,br)},Fe.Matrix=Aa;var ws=Fe.matrixMult=function(de,Qe){return Qe.multiply(de)},wo=new Aa(1,0,0,1,0,0);Fe.unitMatrix=Fe.identityMatrix=wo;var Il=function(de,Qe){if(!Ti[de]){var gt=(Qe instanceof me?"Sh":"P")+(Object.keys(zn).length+1).toString(10);Qe.id=gt,Ti[de]=gt,zn[gt]=Qe,ei.publish("addPattern",Qe)}};Fe.ShadingPattern=me,Fe.TilingPattern=se,Fe.addShadingPattern=function(de,Qe){return Tt("addShadingPattern()"),Il(de,Qe),this},Fe.beginTilingPattern=function(de){Tt("beginTilingPattern()"),js(de.boundingBox[0],de.boundingBox[1],de.boundingBox[2]-de.boundingBox[0],de.boundingBox[3]-de.boundingBox[1],de.matrix)},Fe.endTilingPattern=function(de,Qe){Tt("endTilingPattern()"),Qe.stream=Yr[xt].join(`
`),Il(de,Qe),ei.publish("endTilingPattern",Qe),Sc.pop().restore()};var Ds,Di=Fe.__private__.newObject=function(){var de=Is();return co(de,!0),de},Is=Fe.__private__.newObjectDeferred=function(){return Kt++,nr[Kt]=function(){return xr},Kt},co=function(de,Qe){return Qe=typeof Qe=="boolean"&&Qe,nr[de]=xr,Qe&&ut(de+" 0 obj"),de},nu=Fe.__private__.newAdditionalObject=function(){var de={objId:Is(),content:""};return Pr.push(de),de},Zs=Is(),nl=Is(),Bc=Fe.__private__.decodeColorString=function(de){var Qe=de.split(" ");if(Qe.length!==2||Qe[1]!=="g"&&Qe[1]!=="G")Qe.length!==5||Qe[4]!=="k"&&Qe[4]!=="K"||(Qe=[(1-Qe[0])*(1-Qe[3]),(1-Qe[1])*(1-Qe[3]),(1-Qe[2])*(1-Qe[3]),"r"]);else{var gt=parseFloat(Qe[0]);Qe=[gt,gt,gt,"r"]}for(var _t="#",qt=0;qt<3;qt++)_t+=("0"+Math.floor(255*parseFloat(Qe[qt])).toString(16)).slice(-2);return _t},ec=Fe.__private__.encodeColorString=function(de){var Qe;typeof de=="string"&&(de={ch1:de});var gt=de.ch1,_t=de.ch2,qt=de.ch3,br=de.ch4,Fr=de.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof gt=="string"&&gt.charAt(0)!=="#"){var In=new S(gt);if(In.ok)gt=In.toHex();else if(!/^\d*\.?\d*$/.test(gt))throw new Error('Invalid color "'+gt+'" passed to jsPDF.encodeColorString.')}if(typeof gt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(gt)&&(gt="#"+gt[1]+gt[1]+gt[2]+gt[2]+gt[3]+gt[3]),typeof gt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(gt)){var Un=parseInt(gt.substr(1),16);gt=Un>>16&255,_t=Un>>8&255,qt=255&Un}if(_t===void 0||br===void 0&&gt===_t&&_t===qt)Qe=typeof gt=="string"?gt+" "+Fr[0]:de.precision===2?at(gt/255)+" "+Fr[0]:dt(gt/255)+" "+Fr[0];else if(br===void 0||(0,h.default)(br)==="object"){if(br&&!isNaN(br.a)&&br.a===0)return["1.","1.","1.",Fr[1]].join(" ");Qe=typeof gt=="string"?[gt,_t,qt,Fr[1]].join(" "):de.precision===2?[at(gt/255),at(_t/255),at(qt/255),Fr[1]].join(" "):[dt(gt/255),dt(_t/255),dt(qt/255),Fr[1]].join(" ")}else Qe=typeof gt=="string"?[gt,_t,qt,br,Fr[2]].join(" "):de.precision===2?[at(gt),at(_t),at(qt),at(br),Fr[2]].join(" "):[dt(gt),dt(_t),dt(qt),dt(br),Fr[2]].join(" ");return Qe},Js=Fe.__private__.getFilters=function(){return Se},al=Fe.__private__.putStream=function(de){var Qe=(de=de||{}).data||"",gt=de.filters||Js(),_t=de.alreadyAppliedFilters||[],qt=de.addLength1||!1,br=Qe.length,Fr=de.objectId,In=function(us){return us};if(Ve!==null&&Fr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ve!==null&&(In=Ts.encryptor(Fr,0));var Un={};gt===!0&&(gt=["FlateEncode"]);var fa=de.additionalKeyValues||[],na=(Un=J.API.processDataByFilters!==void 0?J.API.processDataByFilters(Qe,gt):{data:Qe,reverseChain:[]}).reverseChain+(Array.isArray(_t)?_t.join(" "):_t.toString());if(Un.data.length!==0&&(fa.push({key:"Length",value:Un.data.length}),qt===!0&&fa.push({key:"Length1",value:br})),na.length!=0)if(na.split("/").length-1==1)fa.push({key:"Filter",value:na});else{fa.push({key:"Filter",value:"["+na+"]"});for(var Pa=0;Pa<fa.length;Pa+=1)if(fa[Pa].key==="DecodeParms"){for(var Mi=[],Li=0;Li<Un.reverseChain.split("/").length-1;Li+=1)Mi.push("null");Mi.push(fa[Pa].value),fa[Pa].value="["+Mi.join(" ")+"]"}}ut("<<");for(var Ai=0;Ai<fa.length;Ai++)ut("/"+fa[Ai].key+" "+fa[Ai].value);ut(">>"),Un.data.length!==0&&(ut("stream"),ut(In(Un.data)),ut("endstream"))},Tl=Fe.__private__.putPage=function(de){var Qe=de.number,gt=de.data,_t=de.objId,qt=de.contentsObjId;co(_t,!0),ut("<</Type /Page"),ut("/Parent "+de.rootDictionaryObjId+" 0 R"),ut("/Resources "+de.resourceDictionaryObjId+" 0 R"),ut("/MediaBox ["+parseFloat(Xt(de.mediaBox.bottomLeftX))+" "+parseFloat(Xt(de.mediaBox.bottomLeftY))+" "+Xt(de.mediaBox.topRightX)+" "+Xt(de.mediaBox.topRightY)+"]"),de.cropBox!==null&&ut("/CropBox ["+Xt(de.cropBox.bottomLeftX)+" "+Xt(de.cropBox.bottomLeftY)+" "+Xt(de.cropBox.topRightX)+" "+Xt(de.cropBox.topRightY)+"]"),de.bleedBox!==null&&ut("/BleedBox ["+Xt(de.bleedBox.bottomLeftX)+" "+Xt(de.bleedBox.bottomLeftY)+" "+Xt(de.bleedBox.topRightX)+" "+Xt(de.bleedBox.topRightY)+"]"),de.trimBox!==null&&ut("/TrimBox ["+Xt(de.trimBox.bottomLeftX)+" "+Xt(de.trimBox.bottomLeftY)+" "+Xt(de.trimBox.topRightX)+" "+Xt(de.trimBox.topRightY)+"]"),de.artBox!==null&&ut("/ArtBox ["+Xt(de.artBox.bottomLeftX)+" "+Xt(de.artBox.bottomLeftY)+" "+Xt(de.artBox.topRightX)+" "+Xt(de.artBox.topRightY)+"]"),typeof de.userUnit=="number"&&de.userUnit!==1&&ut("/UserUnit "+de.userUnit),ei.publish("putPage",{objId:_t,pageContext:En[Qe],pageNumber:Qe,page:gt}),ut("/Contents "+qt+" 0 R"),ut(">>"),ut("endobj");var br=gt.join(`
`);return St===Gt&&(br+=`
Q`),co(qt,!0),al({data:br,filters:Js(),objectId:qt}),ut("endobj"),_t},zo=Fe.__private__.putPages=function(){var de,Qe,gt=[];for(de=1;de<=Ca;de++)En[de].objId=Is(),En[de].contentsObjId=Is();for(de=1;de<=Ca;de++)gt.push(Tl({number:de,data:Yr[de],objId:En[de].objId,contentsObjId:En[de].contentsObjId,mediaBox:En[de].mediaBox,cropBox:En[de].cropBox,bleedBox:En[de].bleedBox,trimBox:En[de].trimBox,artBox:En[de].artBox,userUnit:En[de].userUnit,rootDictionaryObjId:Zs,resourceDictionaryObjId:nl}));co(Zs,!0),ut("<</Type /Pages");var _t="/Kids [";for(Qe=0;Qe<Ca;Qe++)_t+=gt[Qe]+" 0 R ";ut(_t+"]"),ut("/Count "+Ca),ut(">>"),ut("endobj"),ei.publish("postPutPages")},Do=function(de){ei.publish("putFont",{font:de,out:ut,newObject:Di,putStream:al}),de.isAlreadyPutted!==!0&&(de.objectNumber=Di(),ut("<<"),ut("/Type /Font"),ut("/BaseFont /"+ae(de.postScriptName)),ut("/Subtype /Type1"),typeof de.encoding=="string"&&ut("/Encoding /"+de.encoding),ut("/FirstChar 32"),ut("/LastChar 255"),ut(">>"),ut("endobj"))},tc=function(de){de.objectNumber=Di();var Qe=[];Qe.push({key:"Type",value:"/XObject"}),Qe.push({key:"Subtype",value:"/Form"}),Qe.push({key:"BBox",value:"["+[Xt(de.x),Xt(de.y),Xt(de.x+de.width),Xt(de.y+de.height)].join(" ")+"]"}),Qe.push({key:"Matrix",value:"["+de.matrix.toString()+"]"});var gt=de.pages[1].join(`
`);al({data:gt,additionalKeyValues:Qe,objectId:de.objectNumber}),ut("endobj")},_l=function(de,Qe){Qe||(Qe=21);var gt=Di(),_t=(function(Fr,In){var Un,fa=[],na=1/(In-1);for(Un=0;Un<1;Un+=na)fa.push(Un);if(fa.push(1),Fr[0].offset!=0){var Pa={offset:0,color:Fr[0].color};Fr.unshift(Pa)}if(Fr[Fr.length-1].offset!=1){var Mi={offset:1,color:Fr[Fr.length-1].color};Fr.push(Mi)}for(var Li="",Ai=0,us=0;us<fa.length;us++){for(Un=fa[us];Un>Fr[Ai+1].offset;)Ai++;var T=Fr[Ai].offset,Ue=(Un-T)/(Fr[Ai+1].offset-T),ee=Fr[Ai].color,Xe=Fr[Ai+1].color;Li+=Wt(Math.round((1-Ue)*ee[0]+Ue*Xe[0]).toString(16))+Wt(Math.round((1-Ue)*ee[1]+Ue*Xe[1]).toString(16))+Wt(Math.round((1-Ue)*ee[2]+Ue*Xe[2]).toString(16))}return Li.trim()})(de.colors,Qe),qt=[];qt.push({key:"FunctionType",value:"0"}),qt.push({key:"Domain",value:"[0.0 1.0]"}),qt.push({key:"Size",value:"["+Qe+"]"}),qt.push({key:"BitsPerSample",value:"8"}),qt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),al({data:_t,additionalKeyValues:qt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:gt}),ut("endobj"),de.objectNumber=Di(),ut("<< /ShadingType "+de.type),ut("/ColorSpace /DeviceRGB");var br="/Coords ["+Xt(parseFloat(de.coords[0]))+" "+Xt(parseFloat(de.coords[1]))+" ";de.type===2?br+=Xt(parseFloat(de.coords[2]))+" "+Xt(parseFloat(de.coords[3])):br+=Xt(parseFloat(de.coords[2]))+" "+Xt(parseFloat(de.coords[3]))+" "+Xt(parseFloat(de.coords[4]))+" "+Xt(parseFloat(de.coords[5])),ut(br+="]"),de.matrix&&ut("/Matrix ["+de.matrix.toString()+"]"),ut("/Function "+gt+" 0 R"),ut("/Extend [true true]"),ut(">>"),ut("endobj")},Ec=function(de,Qe){var gt=Is(),_t=Di();Qe.push({resourcesOid:gt,objectOid:_t}),de.objectNumber=_t;var qt=[];qt.push({key:"Type",value:"/Pattern"}),qt.push({key:"PatternType",value:"1"}),qt.push({key:"PaintType",value:"1"}),qt.push({key:"TilingType",value:"1"}),qt.push({key:"BBox",value:"["+de.boundingBox.map(Xt).join(" ")+"]"}),qt.push({key:"XStep",value:Xt(de.xStep)}),qt.push({key:"YStep",value:Xt(de.yStep)}),qt.push({key:"Resources",value:gt+" 0 R"}),de.matrix&&qt.push({key:"Matrix",value:"["+de.matrix.toString()+"]"}),al({data:de.stream,additionalKeyValues:qt,objectId:de.objectNumber}),ut("endobj")},hd=function(de){for(var Qe in de.objectNumber=Di(),ut("<<"),de)switch(Qe){case"opacity":ut("/ca "+at(de[Qe]));break;case"stroke-opacity":ut("/CA "+at(de[Qe]))}ut(">>"),ut("endobj")},Qc=function(de){co(de.resourcesOid,!0),ut("<<"),ut("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Qe in ut("/Font <<"),Ga)Ga.hasOwnProperty(Qe)&&(et===!1||et===!0&&st.hasOwnProperty(Qe))&&ut("/"+Qe+" "+Ga[Qe].objectNumber+" 0 R");ut(">>")})(),(function(){if(Object.keys(zn).length>0){for(var Qe in ut("/Shading <<"),zn)zn.hasOwnProperty(Qe)&&zn[Qe]instanceof me&&zn[Qe].objectNumber>=0&&ut("/"+Qe+" "+zn[Qe].objectNumber+" 0 R");ei.publish("putShadingPatternDict"),ut(">>")}})(),(function(Qe){if(Object.keys(zn).length>0){for(var gt in ut("/Pattern <<"),zn)zn.hasOwnProperty(gt)&&zn[gt]instanceof Fe.TilingPattern&&zn[gt].objectNumber>=0&&zn[gt].objectNumber<Qe&&ut("/"+gt+" "+zn[gt].objectNumber+" 0 R");ei.publish("putTilingPatternDict"),ut(">>")}})(de.objectOid),(function(){if(Object.keys(xa).length>0){var Qe;for(Qe in ut("/ExtGState <<"),xa)xa.hasOwnProperty(Qe)&&xa[Qe].objectNumber>=0&&ut("/"+Qe+" "+xa[Qe].objectNumber+" 0 R");ei.publish("putGStateDict"),ut(">>")}})(),(function(){for(var Qe in ut("/XObject <<"),$s)$s.hasOwnProperty(Qe)&&$s[Qe].objectNumber>=0&&ut("/"+Qe+" "+$s[Qe].objectNumber+" 0 R");ei.publish("putXobjectDict"),ut(">>")})(),ut(">>"),ut("endobj")},Ad=function(de){qa[de.fontName]=qa[de.fontName]||{},qa[de.fontName][de.fontStyle]=de.id},au=function(de,Qe,gt,_t,qt){var br={id:"F"+(Object.keys(Ga).length+1).toString(10),postScriptName:de,fontName:Qe,fontStyle:gt,encoding:_t,isStandardFont:qt||!1,metadata:{}};return ei.publish("addFont",{font:br,instance:this}),Ga[br.id]=br,Ad(br),br.id},Ko=Fe.__private__.pdfEscape=Fe.pdfEscape=function(de,Qe){return(function(gt,_t){var qt,br,Fr,In,Un,fa,na,Pa,Mi;if(Fr=(_t=_t||{}).sourceEncoding||"Unicode",Un=_t.outputEncoding,(_t.autoencode||Un)&&Ga[On].metadata&&Ga[On].metadata[Fr]&&Ga[On].metadata[Fr].encoding&&(In=Ga[On].metadata[Fr].encoding,!Un&&Ga[On].encoding&&(Un=Ga[On].encoding),!Un&&In.codePages&&(Un=In.codePages[0]),typeof Un=="string"&&(Un=In[Un]),Un)){for(na=!1,fa=[],qt=0,br=gt.length;qt<br;qt++)(Pa=Un[gt.charCodeAt(qt)])?fa.push(String.fromCharCode(Pa)):fa.push(gt[qt]),fa[qt].charCodeAt(0)>>8&&(na=!0);gt=fa.join("")}for(qt=gt.length;na===void 0&&qt!==0;)gt.charCodeAt(qt-1)>>8&&(na=!0),qt--;if(!na)return gt;for(fa=_t.noBOM?[]:[254,255],qt=0,br=gt.length;qt<br;qt++){if((Mi=(Pa=gt.charCodeAt(qt))>>8)>>8)throw new Error("Character at position "+qt+" of string '"+gt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fa.push(Mi),fa.push(Pa-(Mi<<8))}return String.fromCharCode.apply(void 0,fa)})(de,Qe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},iu=Fe.__private__.beginPage=function(de){Yr[++Ca]=[],En[Ca]={objId:0,contentsObjId:0,userUnit:Number(fe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(de[0]),topRightY:Number(de[1])}},Ol(Ca),ca(Yr[xt])},ju=function(de,Qe){var gt,_t,qt;switch(D=Qe||D,typeof de=="string"&&(gt=nt(de.toLowerCase()),Array.isArray(gt)&&(_t=gt[0],qt=gt[1])),Array.isArray(de)&&(_t=de[0]*ua,qt=de[1]*ua),isNaN(_t)&&(_t=Z[0],qt=Z[1]),(_t>14400||qt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_t=Math.min(14400,_t),qt=Math.min(14400,qt)),Z=[_t,qt],D.substr(0,1)){case"l":qt>_t&&(Z=[qt,_t]);break;case"p":_t>qt&&(Z=[qt,_t])}iu(Z),Na(Vd),ut(gl),_c!==0&&ut(_c+" J"),ic!==0&&ut(ic+" j"),ei.publish("addPage",{pageNumber:Ca})},Hu=function(de){de>0&&de<=Ca&&(Yr.splice(de,1),En.splice(de,1),Ca--,xt>Ca&&(xt=Ca),this.setPage(xt))},Ol=function(de){de>0&&de<=Ca&&(xt=de)},Qu=Fe.__private__.getNumberOfPages=Fe.getNumberOfPages=function(){return Yr.length-1},Wu=function(de,Qe,gt){var _t,qt=void 0;return gt=gt||{},de=de!==void 0?de:Ga[On].fontName,Qe=Qe!==void 0?Qe:Ga[On].fontStyle,_t=de.toLowerCase(),qa[_t]!==void 0&&qa[_t][Qe]!==void 0?qt=qa[_t][Qe]:qa[de]!==void 0&&qa[de][Qe]!==void 0?qt=qa[de][Qe]:gt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+de+"', '"+Qe+"'. Refer to getFontList() for available fonts."),qt||gt.noFallback||(qt=qa.times[Qe])==null&&(qt=qa.times.normal),qt},rc=Fe.__private__.putInfo=function(){var de=Di(),Qe=function(_t){return _t};for(var gt in Ve!==null&&(Qe=Ts.encryptor(de,0)),ut("<<"),ut("/Producer ("+Ko(Qe("jsPDF "+J.version))+")"),oa)oa.hasOwnProperty(gt)&&oa[gt]&&ut("/"+gt.substr(0,1).toUpperCase()+gt.substr(1)+" ("+Ko(Qe(oa[gt]))+")");ut("/CreationDate ("+Ko(Qe(ur))+")"),ut(">>"),ut("endobj")},$u=Fe.__private__.putCatalog=function(de){var Qe=(de=de||{}).rootDictionaryObjId||Zs;switch(Di(),ut("<<"),ut("/Type /Catalog"),ut("/Pages "+Qe+" 0 R"),sa||(sa="fullwidth"),sa){case"fullwidth":ut("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ut("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ut("/OpenAction [3 0 R /Fit]");break;case"original":ut("/OpenAction [3 0 R /XYZ null null 1]");break;default:var gt=""+sa;gt.substr(gt.length-1)==="%"&&(sa=parseInt(sa)/100),typeof sa=="number"&&ut("/OpenAction [3 0 R /XYZ null null "+at(sa)+"]")}switch(Ha||(Ha="continuous"),Ha){case"continuous":ut("/PageLayout /OneColumn");break;case"single":ut("/PageLayout /SinglePage");break;case"two":case"twoleft":ut("/PageLayout /TwoColumnLeft");break;case"tworight":ut("/PageLayout /TwoColumnRight")}Mn&&ut("/PageMode /"+Mn),ei.publish("putCatalog"),ut(">>"),ut("endobj")},Cu=Fe.__private__.putTrailer=function(){ut("trailer"),ut("<<"),ut("/Size "+(Kt+1)),ut("/Root "+Kt+" 0 R"),ut("/Info "+(Kt-1)+" 0 R"),Ve!==null&&ut("/Encrypt "+Ts.oid+" 0 R"),ut("/ID [ <"+pr+"> <"+pr+"> ]"),ut(">>")},ba=Fe.__private__.putHeader=function(){ut("%PDF-"+vt),ut("%")},fd=Fe.__private__.putXRef=function(){var de="0000000000";ut("xref"),ut("0 "+(Kt+1)),ut("0000000000 65535 f ");for(var Qe=1;Qe<=Kt;Qe++)typeof nr[Qe]=="function"?ut((de+nr[Qe]()).slice(-10)+" 00000 n "):nr[Qe]!==void 0?ut((de+nr[Qe]).slice(-10)+" 00000 n "):ut("0000000000 00000 n ")},nc=Fe.__private__.buildDocument=function(){var de;Kt=0,xr=0,gr=[],nr=[],Pr=[],Zs=Is(),nl=Is(),ca(gr),ei.publish("buildDocument"),ba(),zo(),(function(){ei.publish("putAdditionalObjects");for(var gt=0;gt<Pr.length;gt++){var _t=Pr[gt];co(_t.objId,!0),ut(_t.content),ut("endobj")}ei.publish("postPutAdditionalObjects")})(),de=[],(function(){for(var gt in Ga)Ga.hasOwnProperty(gt)&&(et===!1||et===!0&&st.hasOwnProperty(gt))&&Do(Ga[gt])})(),(function(){var gt;for(gt in xa)xa.hasOwnProperty(gt)&&hd(xa[gt])})(),(function(){for(var gt in $s)$s.hasOwnProperty(gt)&&tc($s[gt])})(),(function(gt){var _t;for(_t in zn)zn.hasOwnProperty(_t)&&(zn[_t]instanceof me?_l(zn[_t]):zn[_t]instanceof se&&Ec(zn[_t],gt))})(de),ei.publish("putResources"),de.forEach(Qc),Qc({resourcesOid:nl,objectOid:Number.MAX_SAFE_INTEGER}),ei.publish("postPutResources"),Ve!==null&&(Ts.oid=Di(),ut("<<"),ut("/Filter /Standard"),ut("/V "+Ts.v),ut("/R "+Ts.r),ut("/U <"+Ts.toHexString(Ts.U)+">"),ut("/O <"+Ts.toHexString(Ts.O)+">"),ut("/P "+Ts.P),ut(">>"),ut("endobj")),rc(),$u();var Qe=xr;return fd(),Cu(),ut("startxref"),ut(""+Qe),ut("%%EOF"),ca(Yr[xt]),gr.join(`
`)},bi=Fe.__private__.getBlob=function(de){return new Blob([va(de)],{type:"application/pdf"})},pd=Fe.output=Fe.__private__.output=(Ds=function(de,Qe){switch(typeof(Qe=Qe||{})=="string"?Qe={filename:Qe}:Qe.filename=Qe.filename||"generated.pdf",de){case void 0:return nc();case"save":Fe.save(Qe.filename);break;case"arraybuffer":return va(nc());case"blob":return bi(nc());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(bi(nc()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var gt="",_t=nc();try{gt=k(_t)}catch{gt=k(unescape(encodeURIComponent(_t)))}return"data:application/pdf;filename="+Qe.filename+";base64,"+gt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var qt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",br=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qe.pdfObjectUrl&&(qt=Qe.pdfObjectUrl,br="");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qt+'"'+br+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qe)+");<\/script></body></html>",In=g.open();return In!==null&&In.document.write(Fr),In}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qe.filename+'" width="500px" height="400px" /></body></html>',fa=g.open();if(fa!==null){fa.document.write(Un);var na=this;fa.document.documentElement.querySelector("#pdfViewer").onload=function(){fa.document.title=Qe.filename,fa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(na.output("bloburl"))}}return fa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qe)+'"></iframe></body></html>',Mi=g.open();if(Mi!==null&&(Mi.document.write(Pa),Mi.document.title=Qe.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Qe);default:return null}},Ds.foo=function(){try{return Ds.apply(this,arguments)}catch(gt){var de=gt.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Qe="Error in function "+de.split(`
`)[0].split("<")[0]+": "+gt.message;if(!g.console)throw new Error(Qe);g.console.error(Qe,gt),g.alert&&alert(Qe)}},Ds.foo.bar=Ds,Ds.foo),ml=function(de){return Array.isArray(ru)===!0&&ru.indexOf(de)>-1};switch(V){case"pt":ua=1;break;case"mm":ua=2.834645669291339;break;case"cm":ua=28.346456692913385;break;case"in":ua=72;break;case"px":ua=ml("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":ua=12;break;case"ex":ua=6;break;default:if(typeof V!="number")throw new Error("Invalid unit: "+V);ua=V}var Ts=null;Ur(),Jt();var Ic=Fe.__private__.getPageInfo=Fe.getPageInfo=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[de].objId,pageNumber:de,pageContext:En[de]}},su=Fe.__private__.getPageInfoByObjId=function(de){if(isNaN(de)||de%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qe in En)if(En[Qe].objId===de)break;return Ic(Qe)},kl=Fe.__private__.getCurrentPageInfo=Fe.getCurrentPageInfo=function(){return{objId:En[xt].objId,pageNumber:xt,pageContext:En[xt]}};Fe.addPage=function(){return ju.apply(this,arguments),this},Fe.setPage=function(){return Ol.apply(this,arguments),ca.call(this,Yr[xt]),this},Fe.insertPage=function(de){return this.addPage(),this.movePage(xt,de),this},Fe.movePage=function(de,Qe){var gt,_t;if(de>Qe){gt=Yr[de],_t=En[de];for(var qt=de;qt>Qe;qt--)Yr[qt]=Yr[qt-1],En[qt]=En[qt-1];Yr[Qe]=gt,En[Qe]=_t,this.setPage(Qe)}else if(de<Qe){gt=Yr[de],_t=En[de];for(var br=de;br<Qe;br++)Yr[br]=Yr[br+1],En[br]=En[br+1];Yr[Qe]=gt,En[Qe]=_t,this.setPage(Qe)}return this},Fe.deletePage=function(){return Hu.apply(this,arguments),this},Fe.__private__.text=Fe.text=function(de,Qe,gt,_t,qt){var br,Fr,In,Un,fa,na,Pa,Mi,Li,Ai=(_t=_t||{}).scope||this;if(typeof de=="number"&&typeof Qe=="number"&&(typeof gt=="string"||Array.isArray(gt))){var us=gt;gt=Qe,Qe=de,de=us}if(arguments[3]instanceof Aa==0?(In=arguments[4],Un=arguments[5],(0,h.default)(Pa=arguments[3])==="object"&&Pa!==null||(typeof In=="string"&&(Un=In,In=null),typeof Pa=="string"&&(Un=Pa,Pa=null),typeof Pa=="number"&&(In=Pa,Pa=null),_t={flags:Pa,angle:In,align:Un})):(Tt("The transform parameter of text() with a Matrix value"),Li=qt),isNaN(Qe)||isNaN(gt)||de==null)throw new Error("Invalid arguments passed to jsPDF.text");if(de.length===0)return Ai;var T,Ue="",ee=typeof _t.lineHeightFactor=="number"?_t.lineHeightFactor:Tu,Xe=Ai.internal.scaleFactor;function ht(hi){return hi=hi.split("	").join(Array(_t.TabLen||9).join(" ")),Ko(hi,Pa)}function ot(hi){for(var Hi,ds=hi.concat(),ho=[],uu=ds.length;uu--;)typeof(Hi=ds.shift())=="string"?ho.push(Hi):Array.isArray(hi)&&(Hi.length===1||Hi[1]===void 0&&Hi[2]===void 0)?ho.push(Hi[0]):ho.push([Hi[0],Hi[1],Hi[2]]);return ho}function er(hi,Hi){var ds;if(typeof hi=="string")ds=Hi(hi)[0];else if(Array.isArray(hi)){for(var ho,uu,ns=hi.concat(),du=[],bd=ns.length;bd--;)typeof(ho=ns.shift())=="string"?du.push(Hi(ho)[0]):Array.isArray(ho)&&typeof ho[0]=="string"&&(uu=Hi(ho[0],ho[1],ho[2]),du.push([uu[0],uu[1],uu[2]]));ds=du}return ds}var $t=!1,Sn=!0;if(typeof de=="string")$t=!0;else if(Array.isArray(de)){var Pt=de.concat();Fr=[];for(var ir,ya=Pt.length;ya--;)(typeof(ir=Pt.shift())!="string"||Array.isArray(ir)&&typeof ir[0]!="string")&&(Sn=!1);$t=Sn}if($t===!1)throw new Error('Type of text must be string or Array. "'+de+'" is not recognized.');typeof de=="string"&&(de=de.match(/[\r?\n]/)?de.split(/\r\n|\r|\n/g):[de]);var fn=Hr/Ai.internal.scaleFactor,Mr=fn*(ee-1);switch(_t.baseline){case"bottom":gt-=Mr;break;case"top":gt+=fn-Mr;break;case"hanging":gt+=fn-2*Mr;break;case"middle":gt+=fn/2-Mr}if((na=_t.maxWidth||0)>0&&(typeof de=="string"?de=Ai.splitTextToSize(de,na):Object.prototype.toString.call(de)==="[object Array]"&&(de=de.reduce(function(hi,Hi){return hi.concat(Ai.splitTextToSize(Hi,na))},[]))),br={text:de,x:Qe,y:gt,options:_t,mutex:{pdfEscape:Ko,activeFontKey:On,fonts:Ga,activeFontSize:Hr}},ei.publish("preProcessText",br),de=br.text,In=(_t=br.options).angle,Li instanceof Aa==0&&In&&typeof In=="number"){In*=Math.PI/180,_t.rotationDirection===0&&(In=-In),St===Gt&&(In=-In);var wr=Math.cos(In),Ui=Math.sin(In);Li=new Aa(wr,Ui,-Ui,wr,0,0)}else In&&In instanceof Aa&&(Li=In);St!==Gt||Li||(Li=wo),(fa=_t.charSpace||vl)!==void 0&&(Ue+=Xt(Et(fa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=_t.horizontalScale)!==void 0&&(Ue+=Xt(100*Mi)+` Tz
`),_t.lang;var wa=-1,aa=_t.renderingMode!==void 0?_t.renderingMode:_t.stroke,Sa=Ai.internal.getCurrentPageInfo().pageContext;switch(aa){case 0:case!1:case"fill":wa=0;break;case 1:case!0:case"stroke":wa=1;break;case 2:case"fillThenStroke":wa=2;break;case 3:case"invisible":wa=3;break;case 4:case"fillAndAddForClipping":wa=4;break;case 5:case"strokeAndAddPathForClipping":wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wa=6;break;case 7:case"addToPathForClipping":wa=7}var ti=Sa.usedRenderingMode!==void 0?Sa.usedRenderingMode:-1;wa!==-1?Ue+=wa+` Tr
`:ti!==-1&&(Ue+=`0 Tr
`),wa!==-1&&(Sa.usedRenderingMode=wa),Un=_t.align||"left";var an,Ta=Hr*ee,rs=Ai.internal.pageSize.getWidth(),Jn=Ga[On];fa=_t.charSpace||vl,na=_t.maxWidth||0,Pa=Object.assign({autoencode:!0,noBOM:!0},_t.flags);var li=[],Fa=function(hi){return Ai.getStringUnitWidth(hi,{font:Jn,charSpace:fa,fontSize:Hr,doKerning:!1})*Hr/Xe};if(Object.prototype.toString.call(de)==="[object Array]"){var Hn;Fr=ot(de),Un!=="left"&&(an=Fr.map(Fa));var da,Co=0;if(Un==="right"){Qe-=an[0],de=[],ya=Fr.length;for(var oc=0;oc<ya;oc++)oc===0?(da=jo(Qe),Hn=Fl(gt)):(da=Et(Co-an[oc]),Hn=-Ta),de.push([Fr[oc],da,Hn]),Co=an[oc]}else if(Un==="center"){Qe-=an[0]/2,de=[],ya=Fr.length;for(var Ro=0;Ro<ya;Ro++)Ro===0?(da=jo(Qe),Hn=Fl(gt)):(da=Et((Co-an[Ro])/2),Hn=-Ta),de.push([Fr[Ro],da,Hn]),Co=an[Ro]}else if(Un==="left"){de=[],ya=Fr.length;for(var uo=0;uo<ya;uo++)de.push(Fr[uo])}else if(Un==="justify"&&Jn.encoding==="Identity-H"){de=[],ya=Fr.length,na=na!==0?na:rs;for(var lc=0,Vs=0;Vs<ya;Vs++)if(Hn=Vs===0?Fl(gt):-Ta,da=Vs===0?jo(Qe):lc,Vs<ya-1){var Hh=Et((na-an[Vs])/(Fr[Vs].split(" ").length-1)),Xo=Fr[Vs].split(" ");de.push([Xo[0]+" ",da,Hn]),lc=0;for(var il=1;il<Xo.length;il++){var qd=(Fa(Xo[il-1]+" "+Xo[il])-Fa(Xo[il]))*Xe+Hh;il==Xo.length-1?de.push([Xo[il],qd,0]):de.push([Xo[il]+" ",qd,0]),lc-=qd}}else de.push([Fr[Vs],da,Hn]);de.push(["",lc,0])}else{if(Un!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(de=[],ya=Fr.length,na=na!==0?na:rs,Vs=0;Vs<ya;Vs++){Hn=Vs===0?Fl(gt):-Ta,da=Vs===0?jo(Qe):0;var ph=Fr[Vs].split(" ").length-1,kc=ph>0?(na-an[Vs])/ph:0;Vs<ya-1?li.push(Xt(Et(kc))):li.push(0),de.push([Fr[Vs],da,Hn])}}}(typeof _t.R2L=="boolean"?_t.R2L:Zn)===!0&&(de=er(de,function(hi,Hi,ds){return[hi.split("").reverse().join(""),Hi,ds]})),br={text:de,x:Qe,y:gt,options:_t,mutex:{pdfEscape:Ko,activeFontKey:On,fonts:Ga,activeFontSize:Hr}},ei.publish("postProcessText",br),de=br.text,T=br.mutex.isHex||!1;var zc=Ga[On].encoding;zc!=="WinAnsiEncoding"&&zc!=="StandardEncoding"||(de=er(de,function(hi,Hi,ds){return[ht(hi),Hi,ds]})),Fr=ot(de),de=[];for(var Kc,Ku,cu,yd=Array.isArray(Fr[0])?1:0,Pc="",xl=function(hi,Hi,ds){var ho="";return ds instanceof Aa?(ds=typeof _t.angle=="number"?ws(ds,new Aa(1,0,0,1,hi,Hi)):ws(new Aa(1,0,0,1,hi,Hi),ds),St===Gt&&(ds=ws(new Aa(1,0,0,-1,0,0),ds)),ho=ds.join(" ")+` Tm
`):ho=Xt(hi)+" "+Xt(Hi)+` Td
`,ho},Lo=0;Lo<Fr.length;Lo++){switch(Pc="",yd){case 1:cu=(T?"<":"(")+Fr[Lo][0]+(T?">":")"),Kc=parseFloat(Fr[Lo][1]),Ku=parseFloat(Fr[Lo][2]);break;case 0:cu=(T?"<":"(")+Fr[Lo]+(T?">":")"),Kc=jo(Qe),Ku=Fl(gt)}li!==void 0&&li[Lo]!==void 0&&(Pc=li[Lo]+` Tw
`),Lo===0?de.push(Pc+xl(Kc,Ku,Li)+cu):yd===0?de.push(Pc+cu):yd===1&&de.push(Pc+xl(Kc,Ku,Li)+cu)}de=yd===0?de.join(` Tj
T* `):de.join(` Tj
`),de+=` Tj
`;var cc=`BT
/`;return cc+=On+" "+Hr+` Tf
`,cc+=Xt(Hr*ee)+` TL
`,cc+=qo+`
`,cc+=Ue,cc+=de,ut(cc+="ET"),st[On]=!0,Ai};var Vu=Fe.__private__.clip=Fe.clip=function(de){return ut(de==="evenodd"?"W*":"W"),this};Fe.clipEvenOdd=function(){return Vu("evenodd")},Fe.__private__.discardPath=Fe.discardPath=function(){return ut("n"),this};var Go=Fe.__private__.isValidStyle=function(de){var Qe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(de)!==-1&&(Qe=!0),Qe};Fe.__private__.setDefaultPathOperation=Fe.setDefaultPathOperation=function(de){return Go(de)&&(Re=de),this};var md=Fe.__private__.getStyle=Fe.getStyle=function(de){var Qe=Re;switch(de){case"D":case"S":Qe="S";break;case"F":Qe="f";break;case"FD":case"DF":Qe="B";break;case"f":case"f*":case"B":case"B*":Qe=de}return Qe},Nu=Fe.close=function(){return ut("h"),this};Fe.stroke=function(){return ut("S"),this},Fe.fill=function(de){return gd("f",de),this},Fe.fillEvenOdd=function(de){return gd("f*",de),this},Fe.fillStroke=function(de){return gd("B",de),this},Fe.fillStrokeEvenOdd=function(de){return gd("B*",de),this};var gd=function(de,Qe){(0,h.default)(Qe)==="object"?Bu(Qe,de):ut(de)},ou=function(de){de===null||St===Gt&&de===void 0||(de=md(de),ut(de))};function Su(de,Qe,gt,_t,qt){var br=new se(Qe||this.boundingBox,gt||this.xStep,_t||this.yStep,this.gState,qt||this.matrix);br.stream=this.stream;var Fr=de+"$$"+this.cloneIndex+++"$$";return Il(Fr,br),br}var Bu=function(de,Qe){var gt=Ti[de.key],_t=zn[gt];if(_t instanceof me)ut("q"),ut(Eu(Qe)),_t.gState&&Fe.setGState(_t.gState),ut(de.matrix.toString()+" cm"),ut("/"+gt+" sh"),ut("Q");else if(_t instanceof se){var qt=new Aa(1,0,0,-1,0,Vc());de.matrix&&(qt=qt.multiply(de.matrix||wo),gt=Su.call(_t,de.key,de.boundingBox,de.xStep,de.yStep,qt).id),ut("q"),ut("/Pattern cs"),ut("/"+gt+" scn"),_t.gState&&Fe.setGState(_t.gState),ut(Qe),ut("Q")}},Eu=function(de){switch(de){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Iu=Fe.moveTo=function(de,Qe){return ut(Xt(Et(de))+" "+Xt(It(Qe))+" m"),this},vd=Fe.lineTo=function(de,Qe){return ut(Xt(Et(de))+" "+Xt(It(Qe))+" l"),this},Pl=Fe.curveTo=function(de,Qe,gt,_t,qt,br){return ut([Xt(Et(de)),Xt(It(Qe)),Xt(Et(gt)),Xt(It(_t)),Xt(Et(qt)),Xt(It(br)),"c"].join(" ")),this};Fe.__private__.line=Fe.line=function(de,Qe,gt,_t,qt){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||isNaN(_t)||!Go(qt))throw new Error("Invalid arguments passed to jsPDF.line");return St===kt?this.lines([[gt-de,_t-Qe]],de,Qe,[1,1],qt||"S"):this.lines([[gt-de,_t-Qe]],de,Qe,[1,1]).stroke()},Fe.__private__.lines=Fe.lines=function(de,Qe,gt,_t,qt,br){var Fr,In,Un,fa,na,Pa,Mi,Li,Ai,us,T,Ue;if(typeof de=="number"&&(Ue=gt,gt=Qe,Qe=de,de=Ue),_t=_t||[1,1],br=br||!1,isNaN(Qe)||isNaN(gt)||!Array.isArray(de)||!Array.isArray(_t)||!Go(qt)||typeof br!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Iu(Qe,gt),Fr=_t[0],In=_t[1],fa=de.length,us=Qe,T=gt,Un=0;Un<fa;Un++)(na=de[Un]).length===2?(us=na[0]*Fr+us,T=na[1]*In+T,vd(us,T)):(Pa=na[0]*Fr+us,Mi=na[1]*In+T,Li=na[2]*Fr+us,Ai=na[3]*In+T,us=na[4]*Fr+us,T=na[5]*In+T,Pl(Pa,Mi,Li,Ai,us,T));return br&&Nu(),ou(qt),this},Fe.path=function(de){for(var Qe=0;Qe<de.length;Qe++){var gt=de[Qe],_t=gt.c;switch(gt.op){case"m":Iu(_t[0],_t[1]);break;case"l":vd(_t[0],_t[1]);break;case"c":Pl.apply(this,_t);break;case"h":Nu()}}return this},Fe.__private__.rect=Fe.rect=function(de,Qe,gt,_t,qt){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||isNaN(_t)||!Go(qt))throw new Error("Invalid arguments passed to jsPDF.rect");return St===kt&&(_t=-_t),ut([Xt(Et(de)),Xt(It(Qe)),Xt(Et(gt)),Xt(Et(_t)),"re"].join(" ")),ou(qt),this},Fe.__private__.triangle=Fe.triangle=function(de,Qe,gt,_t,qt,br,Fr){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||isNaN(_t)||isNaN(qt)||isNaN(br)||!Go(Fr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[gt-de,_t-Qe],[qt-gt,br-_t],[de-qt,Qe-br]],de,Qe,[1,1],Fr,!0),this},Fe.__private__.roundedRect=Fe.roundedRect=function(de,Qe,gt,_t,qt,br,Fr){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||isNaN(_t)||isNaN(qt)||isNaN(br)||!Go(Fr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var In=4/3*(Math.SQRT2-1);return qt=Math.min(qt,.5*gt),br=Math.min(br,.5*_t),this.lines([[gt-2*qt,0],[qt*In,0,qt,br-br*In,qt,br],[0,_t-2*br],[0,br*In,-qt*In,br,-qt,br],[2*qt-gt,0],[-qt*In,0,-qt,-br*In,-qt,-br],[0,2*br-_t],[0,-br*In,qt*In,-br,qt,-br]],de+qt,Qe,[1,1],Fr,!0),this},Fe.__private__.ellipse=Fe.ellipse=function(de,Qe,gt,_t,qt){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||isNaN(_t)||!Go(qt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var br=4/3*(Math.SQRT2-1)*gt,Fr=4/3*(Math.SQRT2-1)*_t;return Iu(de+gt,Qe),Pl(de+gt,Qe-Fr,de+br,Qe-_t,de,Qe-_t),Pl(de-br,Qe-_t,de-gt,Qe-Fr,de-gt,Qe),Pl(de-gt,Qe+Fr,de-br,Qe+_t,de,Qe+_t),Pl(de+br,Qe+_t,de+gt,Qe+Fr,de+gt,Qe),ou(qt),this},Fe.__private__.circle=Fe.circle=function(de,Qe,gt,_t){if(isNaN(de)||isNaN(Qe)||isNaN(gt)||!Go(_t))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(de,Qe,gt,gt,_t)},Fe.setFont=function(de,Qe,gt){return gt&&(Qe=cr(Qe,gt)),On=Wu(de,Qe,{disableWarning:!1}),this};var Lh=Fe.__private__.getFont=Fe.getFont=function(){return Ga[Wu.apply(Fe,arguments)]};Fe.__private__.getFontList=Fe.getFontList=function(){var de,Qe,gt={};for(de in qa)if(qa.hasOwnProperty(de))for(Qe in gt[de]=[],qa[de])qa[de].hasOwnProperty(Qe)&&gt[de].push(Qe);return gt},Fe.addFont=function(de,Qe,gt,_t,qt){var br=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&br.indexOf(arguments[3])!==-1?qt=arguments[3]:arguments[3]&&br.indexOf(arguments[3])==-1&&(gt=cr(gt,_t)),au.call(this,de,Qe,gt,qt=qt||"Identity-H")};var Tu,Vd=I.lineWidth||.200025,Uh=Fe.__private__.getLineWidth=Fe.getLineWidth=function(){return Vd},Na=Fe.__private__.setLineWidth=Fe.setLineWidth=function(de){return Vd=de,ut(Xt(Et(de))+" w"),this};Fe.__private__.setLineDash=J.API.setLineDash=J.API.setLineDashPattern=function(de,Qe){if(de=de||[],Qe=Qe||0,isNaN(Qe)||!Array.isArray(de))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return de=de.map(function(gt){return Xt(Et(gt))}).join(" "),Qe=Xt(Et(Qe)),ut("["+de+"] "+Qe+" d"),this};var Wc=Fe.__private__.getLineHeight=Fe.getLineHeight=function(){return Hr*Tu};Fe.__private__.getLineHeight=Fe.getLineHeight=function(){return Hr*Tu};var fh=Fe.__private__.setLineHeightFactor=Fe.setLineHeightFactor=function(de){return typeof(de=de||1.15)=="number"&&(Tu=de),this},Tc=Fe.__private__.getLineHeightFactor=Fe.getLineHeightFactor=function(){return Tu};fh(I.lineHeight);var jo=Fe.__private__.getHorizontalCoordinate=function(de){return Et(de)},Fl=Fe.__private__.getVerticalCoordinate=function(de){return St===Gt?de:En[xt].mediaBox.topRightY-En[xt].mediaBox.bottomLeftY-Et(de)},ac=Fe.__private__.getHorizontalCoordinateString=Fe.getHorizontalCoordinateString=function(de){return Xt(jo(de))},zd=Fe.__private__.getVerticalCoordinateString=Fe.getVerticalCoordinateString=function(de){return Xt(Fl(de))},gl=I.strokeColor||"0 G";Fe.__private__.getStrokeColor=Fe.getDrawColor=function(){return Bc(gl)},Fe.__private__.setStrokeColor=Fe.setDrawColor=function(de,Qe,gt,_t){return gl=ec({ch1:de,ch2:Qe,ch3:gt,ch4:_t,pdfColorType:"draw",precision:2}),ut(gl),this};var zu=I.fillColor||"0 g";Fe.__private__.getFillColor=Fe.getFillColor=function(){return Bc(zu)},Fe.__private__.setFillColor=Fe.setFillColor=function(de,Qe,gt,_t){return zu=ec({ch1:de,ch2:Qe,ch3:gt,ch4:_t,pdfColorType:"fill",precision:2}),ut(zu),this};var qo=I.textColor||"0 g",_u=Fe.__private__.getTextColor=Fe.getTextColor=function(){return Bc(qo)};Fe.__private__.setTextColor=Fe.setTextColor=function(de,Qe,gt,_t){return qo=ec({ch1:de,ch2:Qe,ch3:gt,ch4:_t,pdfColorType:"text",precision:3}),this};var vl=I.charSpace,xd=Fe.__private__.getCharSpace=Fe.getCharSpace=function(){return parseFloat(vl||0)};Fe.__private__.setCharSpace=Fe.setCharSpace=function(de){if(isNaN(de))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vl=de,this};var _c=0;Fe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Fe.__private__.setLineCap=Fe.setLineCap=function(de){var Qe=Fe.CapJoinStyles[de];if(Qe===void 0)throw new Error("Line cap style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _c=Qe,ut(Qe+" J"),this};var ic=0;Fe.__private__.setLineJoin=Fe.setLineJoin=function(de){var Qe=Fe.CapJoinStyles[de];if(Qe===void 0)throw new Error("Line join style of '"+de+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ic=Qe,ut(Qe+" j"),this},Fe.__private__.setLineMiterLimit=Fe.__private__.setMiterLimit=Fe.setLineMiterLimit=Fe.setMiterLimit=function(de){if(de=de||0,isNaN(de))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ut(Xt(Et(de))+" M"),this},Fe.GState=Ee,Fe.setGState=function(de){(de=typeof de=="string"?xa[Vn[de]]:Dl(null,de)).equals(_i)||(ut("/"+de.id+" gs"),_i=de)};var Dl=function(de,Qe){if(!de||!Vn[de]){var gt=!1;for(var _t in xa)if(xa.hasOwnProperty(_t)&&xa[_t].equals(Qe)){gt=!0;break}if(gt)Qe=xa[_t];else{var qt="GS"+(Object.keys(xa).length+1).toString(10);xa[qt]=Qe,Qe.id=qt}return de&&(Vn[de]=Qe.id),ei.publish("addGState",Qe),Qe}};Fe.addGState=function(de,Qe){return Dl(de,Qe),this},Fe.saveGraphicsState=function(){return ut("q"),ts.push({key:On,size:Hr,color:qo}),this},Fe.restoreGraphicsState=function(){ut("Q");var de=ts.pop();return On=de.key,Hr=de.size,qo=de.color,_i=null,this},Fe.setCurrentTransformationMatrix=function(de){return ut(de.toString()+" cm"),this},Fe.comment=function(de){return ut("#"+de),this};var di=function(de,Qe){var gt=de||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return gt},set:function(br){isNaN(br)||(gt=parseFloat(br))}});var _t=Qe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _t},set:function(br){isNaN(br)||(_t=parseFloat(br))}});var qt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qt},set:function(br){qt=br.toString()}}),this},Oi=function(de,Qe,gt,_t){di.call(this,de,Qe),this.type="rect";var qt=gt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qt},set:function(Fr){isNaN(Fr)||(qt=parseFloat(Fr))}});var br=_t||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return br},set:function(Fr){isNaN(Fr)||(br=parseFloat(Fr))}}),this},Ml=function(){this.page=Ca,this.currentPage=xt,this.pages=Yr.slice(0),this.pagesContext=En.slice(0),this.x=kn,this.y=ja,this.matrix=ui,this.width=Oc(xt),this.height=Mo(xt),this.outputDestination=Bn,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){Ca=this.page,xt=this.currentPage,En=this.pagesContext,Yr=this.pages,kn=this.x,ja=this.y,ui=this.matrix,lu(xt,this.width),sc(xt,this.height),Bn=this.outputDestination};var js=function(de,Qe,gt,_t,qt){Sc.push(new Ml),Ca=xt=0,Yr=[],kn=de,ja=Qe,ui=qt,iu([gt,_t])};for(var Ms in Fe.beginFormObject=function(de,Qe,gt,_t,qt){return js(de,Qe,gt,_t,qt),this},Fe.endFormObject=function(de){return(function(Qe){if(bo[Qe])Sc.pop().restore();else{var gt=new Ml,_t="Xo"+(Object.keys($s).length+1).toString(10);gt.id=_t,bo[Qe]=_t,$s[_t]=gt,ei.publish("addFormObject",gt),Sc.pop().restore()}})(de),this},Fe.doFormObject=function(de,Qe){var gt=$s[bo[de]];return ut("q"),ut(Qe.toString()+" cm"),ut("/"+gt.id+" Do"),ut("Q"),this},Fe.getFormObject=function(de){var Qe=$s[bo[de]];return{x:Qe.x,y:Qe.y,width:Qe.width,height:Qe.height,matrix:Qe.matrix}},Fe.save=function(de,Qe){return de=de||"generated.pdf",(Qe=Qe||{}).returnPromise=Qe.returnPromise||!1,Qe.returnPromise===!1?(N(bi(nc()),de),typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),this):new Promise(function(gt,_t){try{var qt=N(bi(nc()),de);typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),gt(qt)}catch(br){_t(br.message)}})},J.API)J.API.hasOwnProperty(Ms)&&(Ms==="events"&&J.API.events.length?(function(de,Qe){var gt,_t,qt;for(qt=Qe.length-1;qt!==-1;qt--)gt=Qe[qt][0],_t=Qe[qt][1],de.subscribe.apply(de,[gt].concat(typeof _t=="function"?[_t]:_t))})(ei,J.API.events):Fe[Ms]=J.API[Ms]);function Oc(de){return En[de].mediaBox.topRightX-En[de].mediaBox.bottomLeftX}function lu(de,Qe){En[de].mediaBox.topRightX=Qe+En[de].mediaBox.bottomLeftX}function Mo(de){return En[de].mediaBox.topRightY-En[de].mediaBox.bottomLeftY}function sc(de,Qe){En[de].mediaBox.topRightY=Qe+En[de].mediaBox.bottomLeftY}var $c=Fe.getPageWidth=function(de){return Oc(de=de||xt)/ua},Kd=Fe.setPageWidth=function(de,Qe){lu(de,Qe*ua)},Vc=Fe.getPageHeight=function(de){return Mo(de=de||xt)/ua},Gd=Fe.setPageHeight=function(de,Qe){sc(de,Qe*ua)};return Fe.internal={pdfEscape:Ko,getStyle:md,getFont:Lh,getFontSize:Dn,getCharSpace:xd,getTextColor:_u,getLineHeight:Wc,getLineHeightFactor:Tc,getLineWidth:Uh,write:An,getHorizontalCoordinate:jo,getVerticalCoordinate:Fl,getCoordinateString:ac,getVerticalCoordinateString:zd,collections:{},newObject:Di,newAdditionalObject:nu,newObjectDeferred:Is,newObjectDeferredBegin:co,getFilters:Js,putStream:al,events:ei,scaleFactor:ua,pageSize:{getWidth:function(){return $c(xt)},setWidth:function(de){Kd(xt,de)},getHeight:function(){return Vc(xt)},setHeight:function(de){Gd(xt,de)}},encryptionOptions:Ve,encryption:Ts,getEncryptor:function(de){return Ve!==null?Ts.encryptor(de,0):function(Qe){return Qe}},output:pd,getNumberOfPages:Qu,get pages(){return Yr},out:ut,f2:at,f3:dt,getPageInfo:Ic,getPageInfoByObjId:su,getCurrentPageInfo:kl,getPDFVersion:mt,Point:di,Rectangle:Oi,Matrix:Aa,hasHotfix:ml},Object.defineProperty(Fe.internal.pageSize,"width",{get:function(){return $c(xt)},set:function(de){Kd(xt,de)},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.internal.pageSize,"height",{get:function(){return Vc(xt)},set:function(de){Gd(xt,de)},enumerable:!0,configurable:!0}),(function(de){for(var Qe=0,gt=dn.length;Qe<gt;Qe++){var _t=au.call(this,de[Qe][0],de[Qe][1],de[Qe][2],dn[Qe][3],!0);et===!1&&(st[_t]=!0);var qt=de[Qe][0].split("-");Ad({id:_t,fontName:qt[0],fontStyle:qt[1]||""})}ei.publish("addFonts",{fonts:Ga,dictionary:qa})}).call(Fe,dn),On="F1",ju(Z,D),ei.publish("initialized"),Fe}ce.prototype.lsbFirstWord=function(I){return String.fromCharCode(255&I,I>>8&255,I>>16&255,I>>24&255)},ce.prototype.toHexString=function(I){return I.split("").map(function(B){return("0"+(255&B.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ce.prototype.hexToBytes=function(I){for(var B=[],D=0;D<I.length;D+=2)B.push(String.fromCharCode(parseInt(I.substr(D,2),16)));return B.join("")},ce.prototype.processOwnerPassword=function(I,B){return Y(Oe(B).substr(0,5),I)},ce.prototype.encryptor=function(I,B){var D=Oe(this.encryptionKey+String.fromCharCode(255&I,I>>8&255,I>>16&255,255&B,B>>8&255)).substr(0,10);return function(V){return Y(D,V)}},Ee.prototype.equals=function(I){var B,D="id,objectNumber,equals";if(!I||(0,h.default)(I)!==(0,h.default)(this))return!1;var V=0;for(B in this)if(!(D.indexOf(B)>=0)){if(this.hasOwnProperty(B)&&!I.hasOwnProperty(B)||this[B]!==I[B])return!1;V++}for(B in I)I.hasOwnProperty(B)&&D.indexOf(B)<0&&V--;return V===0},J.API={events:[]},J.version="4.0.0";var je=J.API,Pe=1,Le=function(I){return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ie=function(I){return I.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pe=function(I){return I.toFixed(2)},ke=function(I){return I.toFixed(5)};je.__acroform__={};var Ye=function(I,B){I.prototype=Object.create(B.prototype),I.prototype.constructor=I},wt=function(I){return I*Pe},Ft=function(I){var B=new Kr,D=lr.internal.getHeight(I)||0,V=lr.internal.getWidth(I)||0;return B.BBox=[0,0,Number(pe(V)),Number(pe(D))],B},Bt=je.__acroform__.setBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return I|1<<B},Vt=je.__acroform__.clearBit=function(I,B){if(I=I||0,B=B||0,isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return I&~(1<<B)},Ir=je.__acroform__.getBit=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return I&1<<B?1:0},Sr=je.__acroform__.getBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ir(I,B-1)},He=je.__acroform__.setBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bt(I,B-1)},Zt=je.__acroform__.clearBitForPdf=function(I,B){if(isNaN(I)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vt(I,B-1)},Nt=je.__acroform__.calculateCoordinates=function(I,B){var D=B.internal.getHorizontalCoordinate,V=B.internal.getVerticalCoordinate,Z=I[0],ne=I[1],Se=I[2],fe=I[3],ge={};return ge.lowerLeft_X=D(Z)||0,ge.lowerLeft_Y=V(ne+fe)||0,ge.upperRight_X=D(Z+Se)||0,ge.upperRight_Y=V(ne)||0,[Number(pe(ge.lowerLeft_X)),Number(pe(ge.lowerLeft_Y)),Number(pe(ge.upperRight_X)),Number(pe(ge.upperRight_Y))]},Vr=function(I){if(I.appearanceStreamContent)return I.appearanceStreamContent;if(I.V||I.DV){var B=[],D=I._V||I.DV,V=mr(I,D),Z=I.scope.internal.getFont(I.fontName,I.fontStyle).id;B.push("/Tx BMC"),B.push("q"),B.push("BT"),B.push(I.scope.__private__.encodeColorString(I.color)),B.push("/"+Z+" "+pe(V.fontSize)+" Tf"),B.push("1 0 0 1 0 0 Tm"),B.push(V.text),B.push("ET"),B.push("Q"),B.push("EMC");var ne=Ft(I);return ne.scope=I.scope,ne.stream=B.join(`
`),ne}},mr=function(I,B){var D=I.fontSize===0?I.maxFontSize:I.fontSize,V={text:"",fontSize:""},Z=(B=(B=B.substr(0,1)=="("?B.substr(1):B).substr(B.length-1)==")"?B.substr(0,B.length-1):B).split(" ");Z=I.multiline?Z.map(function(at){return at.split(`
`)}):Z.map(function(at){return[at]});var ne=D,Se=lr.internal.getHeight(I)||0;Se=Se<0?-Se:Se;var fe=lr.internal.getWidth(I)||0;fe=fe<0?-fe:fe;var ge=function(at,dt,Et){if(at+1<Z.length){var It=dt+" "+Z[at+1][0];return on(It,I,Et).width<=fe-4}return!1};ne++;e:for(;ne>0;){B="",ne--;var Re,Ve,et=on("3",I,ne).height,st=I.multiline?Se-ne:(Se-et)/2,Fe=st+=2,vt=0,mt=0,yt=0;if(ne<=0){B=`(...) Tj
`,B+="% Width of Text: "+on(B,I,ne=12).width+", FieldWidth:"+fe+`
`;break}for(var nt="",kt=0,Gt=0;Gt<Z.length;Gt++)if(Z.hasOwnProperty(Gt)){var St=!1;if(Z[Gt].length!==1&&yt!==Z[Gt].length-1){if((et+2)*(kt+2)+2>Se)continue e;nt+=Z[Gt][yt],St=!0,mt=Gt,Gt--}else{nt=(nt+=Z[Gt][yt]+" ").substr(nt.length-1)==" "?nt.substr(0,nt.length-1):nt;var tt=parseInt(Gt),Qt=ge(tt,nt,ne),cr=Gt>=Z.length-1;if(Qt&&!cr){nt+=" ",yt=0;continue}if(Qt||cr){if(cr)mt=tt;else if(I.multiline&&(et+2)*(kt+2)+2>Se)continue e}else{if(!I.multiline||(et+2)*(kt+2)+2>Se)continue e;mt=tt}}for(var Xt="",Tt=vt;Tt<=mt;Tt++){var or=Z[Tt];if(I.multiline){if(Tt===mt){Xt+=or[yt]+" ",yt=(yt+1)%or.length;continue}if(Tt===vt){Xt+=or[or.length-1]+" ";continue}}Xt+=or[0]+" "}switch(Xt=Xt.substr(Xt.length-1)==" "?Xt.substr(0,Xt.length-1):Xt,Ve=on(Xt,I,ne).width,I.textAlign){case"right":Re=fe-Ve-2;break;case"center":Re=(fe-Ve)/2;break;default:Re=2}B+=pe(Re)+" "+pe(Fe)+` Td
`,B+="("+Le(Xt)+`) Tj
`,B+=-pe(Re)+` 0 Td
`,Fe=-(ne+2),Ve=0,vt=St?mt:mt+1,kt++,nt=""}break}return V.text=B,V.fontSize=ne,V},on=function(I,B,D){var V=B.scope.internal.getFont(B.fontName,B.fontStyle),Z=B.scope.getStringUnitWidth(I,{font:V,fontSize:parseFloat(D),charSpace:0})*parseFloat(D);return{height:B.scope.getStringUnitWidth("3",{font:V,fontSize:parseFloat(D),charSpace:0})*parseFloat(D)*1.5,width:Z}},Jr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gr=function(I,B){var D={type:"reference",object:I};B.internal.getPageInfo(I.page).pageContext.annotations.find(function(V){return V.type===D.type&&V.object===D.object})===void 0&&B.internal.getPageInfo(I.page).pageContext.annotations.push(D)},_r=function(I,B){if(B.scope=I,I.internal!==void 0&&(I.internal.acroformPlugin===void 0||I.internal.acroformPlugin.isInitialized===!1)){if(Wr.FieldNum=0,I.internal.acroformPlugin=JSON.parse(JSON.stringify(Jr)),I.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pe=I.internal.scaleFactor,I.internal.acroformPlugin.acroFormDictionaryRoot=new hn,I.internal.acroformPlugin.acroFormDictionaryRoot.scope=I,I.internal.acroformPlugin.acroFormDictionaryRoot._eventID=I.internal.events.subscribe("postPutResources",function(){(function(D){D.internal.events.unsubscribe(D.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete D.internal.acroformPlugin.acroFormDictionaryRoot._eventID,D.internal.acroformPlugin.printedOut=!0})(I)}),I.internal.events.subscribe("buildDocument",function(){(function(D){D.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var V=D.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Z in V)if(V.hasOwnProperty(Z)){var ne=V[Z];ne.objId=void 0,ne.hasAnnotation&&Gr(ne,D)}})(I)}),I.internal.events.subscribe("putCatalog",function(){(function(D){if(D.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");D.internal.write("/AcroForm "+D.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(I)}),I.internal.events.subscribe("postPutPages",function(D){(function(V,Z){var ne=!V;for(var Se in V||(Z.internal.newObjectDeferredBegin(Z.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Z.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),V=V||Z.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(V.hasOwnProperty(Se)){var fe=V[Se],ge=[],Re=fe.Rect;if(fe.Rect&&(fe.Rect=Nt(fe.Rect,Z)),Z.internal.newObjectDeferredBegin(fe.objId,!0),fe.DA=lr.createDefaultAppearanceStream(fe),(0,h.default)(fe)==="object"&&typeof fe.getKeyValueListForStream=="function"&&(ge=fe.getKeyValueListForStream()),fe.Rect=Re,fe.hasAppearanceStream&&!fe.appearanceStreamContent){var Ve=Vr(fe);ge.push({key:"AP",value:"<</N "+Ve+">>"}),Z.internal.acroformPlugin.xForms.push(Ve)}if(fe.appearanceStreamContent){var et="";for(var st in fe.appearanceStreamContent)if(fe.appearanceStreamContent.hasOwnProperty(st)){var Fe=fe.appearanceStreamContent[st];if(et+="/"+st+" ",et+="<<",Object.keys(Fe).length>=1||Array.isArray(Fe)){for(var Se in Fe)if(Fe.hasOwnProperty(Se)){var vt=Fe[Se];typeof vt=="function"&&(vt=vt.call(Z,fe)),et+="/"+Se+" "+vt+" ",Z.internal.acroformPlugin.xForms.indexOf(vt)>=0||Z.internal.acroformPlugin.xForms.push(vt)}}else typeof(vt=Fe)=="function"&&(vt=vt.call(Z,fe)),et+="/"+Se+" "+vt,Z.internal.acroformPlugin.xForms.indexOf(vt)>=0||Z.internal.acroformPlugin.xForms.push(vt);et+=">>"}ge.push({key:"AP",value:`<<
`+et+">>"})}Z.internal.putStream({additionalKeyValues:ge,objectId:fe.objId}),Z.internal.out("endobj")}ne&&(function(mt,yt){for(var nt in mt)if(mt.hasOwnProperty(nt)){var kt=nt,Gt=mt[nt];yt.internal.newObjectDeferredBegin(Gt.objId,!0),(0,h.default)(Gt)==="object"&&typeof Gt.putStream=="function"&&Gt.putStream(),delete mt[kt]}})(Z.internal.acroformPlugin.xForms,Z)})(D,I)}),I.internal.acroformPlugin.isInitialized=!0}},hr=je.__acroform__.arrayToPdfArray=function(I,B,D){var V=function(Se){return Se};if(Array.isArray(I)){for(var Z="[",ne=0;ne<I.length;ne++)switch(ne!==0&&(Z+=" "),(0,h.default)(I[ne])){case"boolean":case"number":case"object":Z+=I[ne].toString();break;case"string":I[ne].substr(0,1)!=="/"?(B!==void 0&&D&&(V=D.internal.getEncryptor(B)),Z+="("+Le(V(I[ne].toString()))+")"):Z+=I[ne].toString()}return Z+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Br=function(I,B,D){var V=function(Z){return Z};return B!==void 0&&D&&(V=D.internal.getEncryptor(B)),(I=I||"").toString(),"("+Le(V(I))+")"},Qr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(I){this._objId=I}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qr.prototype.toString=function(){return this.objId+" 0 R"},Qr.prototype.putStream=function(){var I=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:I,objectId:this.objId}),this.scope.internal.out("endobj")},Qr.prototype.getKeyValueListForStream=function(){var I=[],B=Object.getOwnPropertyNames(this).filter(function(ne){return ne!="content"&&ne!="appearanceStreamContent"&&ne!="scope"&&ne!="objId"&&ne.substring(0,1)!="_"});for(var D in B)if(Object.getOwnPropertyDescriptor(this,B[D]).configurable===!1){var V=B[D],Z=this[V];Z&&(Array.isArray(Z)?I.push({key:V,value:hr(Z,this.objId,this.scope)}):Z instanceof Qr?(Z.scope=this.scope,I.push({key:V,value:Z.objId+" 0 R"})):typeof Z!="function"&&I.push({key:V,value:Z}))}return I};var Kr=function(){Qr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var I,B=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return B},set:function(D){B=D}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(D){I=D.trim()},get:function(){return I||null}})};Ye(Kr,Qr);var hn=function(){Qr.call(this);var I,B=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return B.length>0?B:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return B}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(I){var D=function(V){return V};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+Le(D(I))+")"}},set:function(D){I=D}})};Ye(hn,Qr);var Wr=function I(){Qr.call(this);var B=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return B},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute F supplied.');B=nt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sr(B,3)},set:function(nt){nt?this.F=He(B,3):this.F=Zt(B,3)}});var D=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return D},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute Ff supplied.');D=nt}});var V=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(V.length!==0)return V},set:function(nt){V=nt!==void 0?nt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!V||isNaN(V[0])?0:V[0]},set:function(nt){V[0]=nt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!V||isNaN(V[1])?0:V[1]},set:function(nt){V[1]=nt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!V||isNaN(V[2])?0:V[2]},set:function(nt){V[2]=nt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!V||isNaN(V[3])?0:V[3]},set:function(nt){V[3]=nt}});var Z="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Z},set:function(nt){switch(nt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Z=nt;break;default:throw new Error('Invalid value "'+nt+'" for attribute FT supplied.')}}});var ne=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ne||ne.length<1){if(this instanceof Ot)return;ne="FieldObject"+I.FieldNum++}var nt=function(kt){return kt};return this.scope&&(nt=this.scope.internal.getEncryptor(this.objId)),"("+Le(nt(ne))+")"},set:function(nt){ne=nt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ne},set:function(nt){ne=nt}});var Se="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Se},set:function(nt){Se=nt}});var fe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(nt){fe=nt}});var ge=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ge},set:function(nt){ge=nt}});var Re=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Re===void 0?50/Pe:Re},set:function(nt){Re=nt}});var Ve="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(nt){Ve=nt}});var et="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!et||this instanceof Ot||this instanceof un))return Br(et,this.objId,this.scope)},set:function(nt){nt=nt.toString(),et=nt}});var st=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(st)return this instanceof cn==0?Br(st,this.objId,this.scope):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==0?nt.substr(0,1)==="("?Ie(nt.substr(1,nt.length-2)):Ie(nt):nt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ie(st.substr(1,st.length-1)):st},set:function(nt){nt=nt.toString(),st=this instanceof cn==1?"/"+nt:nt}});var Fe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Fe)return Fe},set:function(nt){this.V=nt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Fe)return this instanceof cn==0?Br(Fe,this.objId,this.scope):Fe},set:function(nt){nt=nt.toString(),Fe=this instanceof cn==0?nt.substr(0,1)==="("?Ie(nt.substr(1,nt.length-2)):Ie(nt):nt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ie(Fe.substr(1,Fe.length-1)):Fe},set:function(nt){nt=nt.toString(),Fe=this instanceof cn==1?"/"+nt:nt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var vt,mt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return mt},set:function(nt){nt=!!nt,mt=nt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(vt)return vt},set:function(nt){vt=nt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,1)},set:function(nt){nt?this.Ff=He(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,2)},set:function(nt){nt?this.Ff=He(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,3)},set:function(nt){nt?this.Ff=He(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var yt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(yt!==null)return yt},set:function(nt){if([0,1,2].indexOf(nt)===-1)throw new Error('Invalid value "'+nt+'" for attribute Q supplied.');yt=nt}}),Object.defineProperty(this,"textAlign",{get:function(){var nt;switch(yt){case 0:default:nt="left";break;case 1:nt="center";break;case 2:nt="right"}return nt},configurable:!0,enumerable:!0,set:function(nt){switch(nt){case"right":case 2:yt=2;break;case"center":case 1:yt=1;break;default:yt=0}}})};Ye(Wr,Qr);var Wn=function(){Wr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var I=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return I},set:function(D){I=D}});var B=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hr(B,this.objId,this.scope)},set:function(D){var V,Z;Z=[],typeof(V=D)=="string"&&(Z=(function(ne,Se,fe){fe||(fe=1);for(var ge,Re=[];ge=Se.exec(ne);)Re.push(ge[fe]);return Re})(V,/\((.*?)\)/g)),B=Z}}),this.getOptions=function(){return B},this.setOptions=function(D){B=D,this.sort&&B.sort()},this.addOption=function(D){D=(D=D||"").toString(),B.push(D),this.sort&&B.sort()},this.removeOption=function(D,V){for(V=V||!1,D=(D=D||"").toString();B.indexOf(D)!==-1&&(B.splice(B.indexOf(D),1),V!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,18)},set:function(D){D?this.Ff=He(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,19)},set:function(D){this.combo===!0&&(D?this.Ff=He(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,20)},set:function(D){D?(this.Ff=He(this.Ff,20),B.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,22)},set:function(D){D?this.Ff=He(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,23)},set:function(D){D?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,27)},set:function(D){D?this.Ff=He(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};Ye(Wn,Wr);var Lr=function(){Wn.call(this),this.fontName="helvetica",this.combo=!1};Ye(Lr,Wn);var Dr=function(){Lr.call(this),this.combo=!0};Ye(Dr,Lr);var wn=function(){Dr.call(this),this.edit=!0};Ye(wn,Dr);var cn=function(){Wr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,15)},set:function(D){D?this.Ff=He(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,16)},set:function(D){D?this.Ff=He(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,17)},set:function(D){D?this.Ff=He(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,26)},set:function(D){D?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I,B={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var D=function(ne){return ne};if(this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),Object.keys(B).length!==0){var V,Z=[];for(V in Z.push("<<"),B)Z.push("/"+V+" ("+Le(D(B[V]))+")");return Z.push(">>"),Z.join(`
`)}},set:function(D){(0,h.default)(D)==="object"&&(B=D)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return B.CA||""},set:function(D){typeof D=="string"&&(B.CA=D)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return I},set:function(D){I=D}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return I.substr(1,I.length-1)},set:function(D){I="/"+D}})};Ye(cn,Wr);var Ln=function(){cn.call(this),this.pushButton=!0};Ye(Ln,cn);var la=function(){cn.call(this),this.radio=!0,this.pushButton=!1;var I=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B!==void 0?B:[]}})};Ye(la,cn);var Ot=function(){var I,B;Wr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return I},set:function(Z){I=Z}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(Z){B=Z}});var D,V={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Z=function(fe){return fe};this.scope&&(Z=this.scope.internal.getEncryptor(this.objId));var ne,Se=[];for(ne in Se.push("<<"),V)Se.push("/"+ne+" ("+Le(Z(V[ne]))+")");return Se.push(">>"),Se.join(`
`)},set:function(Z){(0,h.default)(Z)==="object"&&(V=Z)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return V.CA||""},set:function(Z){typeof Z=="string"&&(V.CA=Z)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return D},set:function(Z){D=Z}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return D.substr(1,D.length-1)},set:function(Z){D="/"+Z}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ye(Ot,Wr),la.prototype.setAppearance=function(I){if(!("createAppearanceStream"in I)||!("getCA"in I))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var B in this.Kids)if(this.Kids.hasOwnProperty(B)){var D=this.Kids[B];D.appearanceStreamContent=I.createAppearanceStream(D.optionName),D.caption=I.getCA()}},la.prototype.createOption=function(I){var B=new Ot;return B.Parent=this,B.optionName=I,this.Kids.push(B),ma.call(this.scope,B),B};var $r=function(){cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lr.CheckBox.createAppearanceStream()};Ye($r,cn);var un=function(){Wr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,13)},set:function(B){B?this.Ff=He(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,21)},set:function(B){B?this.Ff=He(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,23)},set:function(B){B?this.Ff=He(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,24)},set:function(B){B?this.Ff=He(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,25)},set:function(B){B?this.Ff=He(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,26)},set:function(B){B?this.Ff=He(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var I=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return I},set:function(B){I=B}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return I},set:function(B){Number.isInteger(B)&&(I=B)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ye(un,Wr);var tn=function(){un.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,14)},set:function(I){I?this.Ff=He(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};Ye(tn,un);var lr={CheckBox:{createAppearanceStream:function(){return{N:{On:lr.CheckBox.YesNormal},D:{On:lr.CheckBox.YesPushDown,Off:lr.CheckBox.OffPushDown}}},YesPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=[],V=I.scope.internal.getFont(I.fontName,I.fontStyle).id,Z=I.scope.__private__.encodeColorString(I.color),ne=mr(I,I.caption);return D.push("0.749023 g"),D.push("0 0 "+pe(lr.internal.getWidth(I))+" "+pe(lr.internal.getHeight(I))+" re"),D.push("f"),D.push("BMC"),D.push("q"),D.push("0 0 1 rg"),D.push("/"+V+" "+pe(ne.fontSize)+" Tf "+Z),D.push("BT"),D.push(ne.text),D.push("ET"),D.push("Q"),D.push("EMC"),B.stream=D.join(`
`),B},YesNormal:function(I){var B=Ft(I);B.scope=I.scope;var D=I.scope.internal.getFont(I.fontName,I.fontStyle).id,V=I.scope.__private__.encodeColorString(I.color),Z=[],ne=lr.internal.getHeight(I),Se=lr.internal.getWidth(I),fe=mr(I,I.caption);return Z.push("1 g"),Z.push("0 0 "+pe(Se)+" "+pe(ne)+" re"),Z.push("f"),Z.push("q"),Z.push("0 0 1 rg"),Z.push("0 0 "+pe(Se-1)+" "+pe(ne-1)+" re"),Z.push("W"),Z.push("n"),Z.push("0 g"),Z.push("BT"),Z.push("/"+D+" "+pe(fe.fontSize)+" Tf "+V),Z.push(fe.text),Z.push("ET"),Z.push("Q"),B.stream=Z.join(`
`),B},OffPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+pe(lr.internal.getWidth(I))+" "+pe(lr.internal.getHeight(I))+" re"),D.push("f"),B.stream=D.join(`
`),B}},RadioButton:{Circle:{createAppearanceStream:function(I){var B={D:{Off:lr.RadioButton.Circle.OffPushDown},N:{}};return B.N[I]=lr.RadioButton.Circle.YesNormal,B.D[I]=lr.RadioButton.Circle.YesPushDown,B},getCA:function(){return"l"},YesNormal:function(I){var B=Ft(I);B.scope=I.scope;var D=[],V=lr.internal.getWidth(I)<=lr.internal.getHeight(I)?lr.internal.getWidth(I)/4:lr.internal.getHeight(I)/4;V=Number((.9*V).toFixed(5));var Z=lr.internal.Bezier_C,ne=Number((V*Z).toFixed(5));return D.push("q"),D.push("1 0 0 1 "+ke(lr.internal.getWidth(I)/2)+" "+ke(lr.internal.getHeight(I)/2)+" cm"),D.push(V+" 0 m"),D.push(V+" "+ne+" "+ne+" "+V+" 0 "+V+" c"),D.push("-"+ne+" "+V+" -"+V+" "+ne+" -"+V+" 0 c"),D.push("-"+V+" -"+ne+" -"+ne+" -"+V+" 0 -"+V+" c"),D.push(ne+" -"+V+" "+V+" -"+ne+" "+V+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B},YesPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=[],V=lr.internal.getWidth(I)<=lr.internal.getHeight(I)?lr.internal.getWidth(I)/4:lr.internal.getHeight(I)/4;V=Number((.9*V).toFixed(5));var Z=Number((2*V).toFixed(5)),ne=Number((Z*lr.internal.Bezier_C).toFixed(5)),Se=Number((V*lr.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+ke(lr.internal.getWidth(I)/2)+" "+ke(lr.internal.getHeight(I)/2)+" cm"),D.push(Z+" 0 m"),D.push(Z+" "+ne+" "+ne+" "+Z+" 0 "+Z+" c"),D.push("-"+ne+" "+Z+" -"+Z+" "+ne+" -"+Z+" 0 c"),D.push("-"+Z+" -"+ne+" -"+ne+" -"+Z+" 0 -"+Z+" c"),D.push(ne+" -"+Z+" "+Z+" -"+ne+" "+Z+" 0 c"),D.push("f"),D.push("Q"),D.push("0 g"),D.push("q"),D.push("1 0 0 1 "+ke(lr.internal.getWidth(I)/2)+" "+ke(lr.internal.getHeight(I)/2)+" cm"),D.push(V+" 0 m"),D.push(V+" "+Se+" "+Se+" "+V+" 0 "+V+" c"),D.push("-"+Se+" "+V+" -"+V+" "+Se+" -"+V+" 0 c"),D.push("-"+V+" -"+Se+" -"+Se+" -"+V+" 0 -"+V+" c"),D.push(Se+" -"+V+" "+V+" -"+Se+" "+V+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B},OffPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=[],V=lr.internal.getWidth(I)<=lr.internal.getHeight(I)?lr.internal.getWidth(I)/4:lr.internal.getHeight(I)/4;V=Number((.9*V).toFixed(5));var Z=Number((2*V).toFixed(5)),ne=Number((Z*lr.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+ke(lr.internal.getWidth(I)/2)+" "+ke(lr.internal.getHeight(I)/2)+" cm"),D.push(Z+" 0 m"),D.push(Z+" "+ne+" "+ne+" "+Z+" 0 "+Z+" c"),D.push("-"+ne+" "+Z+" -"+Z+" "+ne+" -"+Z+" 0 c"),D.push("-"+Z+" -"+ne+" -"+ne+" -"+Z+" 0 -"+Z+" c"),D.push(ne+" -"+Z+" "+Z+" -"+ne+" "+Z+" 0 c"),D.push("f"),D.push("Q"),B.stream=D.join(`
`),B}},Cross:{createAppearanceStream:function(I){var B={D:{Off:lr.RadioButton.Cross.OffPushDown},N:{}};return B.N[I]=lr.RadioButton.Cross.YesNormal,B.D[I]=lr.RadioButton.Cross.YesPushDown,B},getCA:function(){return"8"},YesNormal:function(I){var B=Ft(I);B.scope=I.scope;var D=[],V=lr.internal.calculateCross(I);return D.push("q"),D.push("1 1 "+pe(lr.internal.getWidth(I)-2)+" "+pe(lr.internal.getHeight(I)-2)+" re"),D.push("W"),D.push("n"),D.push(pe(V.x1.x)+" "+pe(V.x1.y)+" m"),D.push(pe(V.x2.x)+" "+pe(V.x2.y)+" l"),D.push(pe(V.x4.x)+" "+pe(V.x4.y)+" m"),D.push(pe(V.x3.x)+" "+pe(V.x3.y)+" l"),D.push("s"),D.push("Q"),B.stream=D.join(`
`),B},YesPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=lr.internal.calculateCross(I),V=[];return V.push("0.749023 g"),V.push("0 0 "+pe(lr.internal.getWidth(I))+" "+pe(lr.internal.getHeight(I))+" re"),V.push("f"),V.push("q"),V.push("1 1 "+pe(lr.internal.getWidth(I)-2)+" "+pe(lr.internal.getHeight(I)-2)+" re"),V.push("W"),V.push("n"),V.push(pe(D.x1.x)+" "+pe(D.x1.y)+" m"),V.push(pe(D.x2.x)+" "+pe(D.x2.y)+" l"),V.push(pe(D.x4.x)+" "+pe(D.x4.y)+" m"),V.push(pe(D.x3.x)+" "+pe(D.x3.y)+" l"),V.push("s"),V.push("Q"),B.stream=V.join(`
`),B},OffPushDown:function(I){var B=Ft(I);B.scope=I.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+pe(lr.internal.getWidth(I))+" "+pe(lr.internal.getHeight(I))+" re"),D.push("f"),B.stream=D.join(`
`),B}}},createDefaultAppearanceStream:function(I){var B=I.scope.internal.getFont(I.fontName,I.fontStyle).id,D=I.scope.__private__.encodeColorString(I.color);return"/"+B+" "+I.fontSize+" Tf "+D}};lr.internal={Bezier_C:.551915024494,calculateCross:function(I){var B=lr.internal.getWidth(I),D=lr.internal.getHeight(I),V=Math.min(B,D);return{x1:{x:(B-V)/2,y:(D-V)/2+V},x2:{x:(B-V)/2+V,y:(D-V)/2},x3:{x:(B-V)/2,y:(D-V)/2},x4:{x:(B-V)/2+V,y:(D-V)/2+V}}}},lr.internal.getWidth=function(I){var B=0;return(0,h.default)(I)==="object"&&(B=wt(I.Rect[2])),B},lr.internal.getHeight=function(I){var B=0;return(0,h.default)(I)==="object"&&(B=wt(I.Rect[3])),B};var ma=je.addField=function(I){if(_r(this,I),!(I instanceof Wr))throw new Error("Invalid argument passed to jsPDF.addField.");var B;return(B=I).scope.internal.acroformPlugin.printedOut&&(B.scope.internal.acroformPlugin.printedOut=!1,B.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),B.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(B),I.page=I.scope.internal.getCurrentPageInfo().pageNumber,this};je.AcroFormChoiceField=Wn,je.AcroFormListBox=Lr,je.AcroFormComboBox=Dr,je.AcroFormEditBox=wn,je.AcroFormButton=cn,je.AcroFormPushButton=Ln,je.AcroFormRadioButton=la,je.AcroFormCheckBox=$r,je.AcroFormTextField=un,je.AcroFormPasswordField=tn,je.AcroFormAppearance=lr,je.AcroForm={ChoiceField:Wn,ListBox:Lr,ComboBox:Dr,EditBox:wn,Button:cn,PushButton:Ln,RadioButton:la,CheckBox:$r,TextField:un,PasswordField:tn,Appearance:lr},J.AcroForm={ChoiceField:Wn,ListBox:Lr,ComboBox:Dr,EditBox:wn,Button:cn,PushButton:Ln,RadioButton:la,CheckBox:$r,TextField:un,PasswordField:tn,Appearance:lr};var xi=J.AcroForm;function Cn(I){return I.reduce(function(B,D,V){return B[D]=V,B},{})}(function(I){var B="addImage_";I.__addimage__={};var D="UNKNOWN",V={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Z=I.__addimage__.getImageFileTypeByImageData=function(at,dt){var Et,It,ur,pr,yr,Jt=D;if((dt=dt||D)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Qt(at))for(yr in V)for(ur=V[yr],Et=0;Et<ur.length;Et+=1){for(pr=!0,It=0;It<ur[Et].length;It+=1)if(ur[Et][It]!==void 0&&ur[Et][It]!==at[It]){pr=!1;break}if(pr===!0){Jt=yr;break}}else for(yr in V)for(ur=V[yr],Et=0;Et<ur.length;Et+=1){for(pr=!0,It=0;It<ur[Et].length;It+=1)if(ur[Et][It]!==void 0&&ur[Et][It]!==at.charCodeAt(It)){pr=!1;break}if(pr===!0){Jt=yr;break}}return Jt===D&&dt!==D&&(Jt=dt),Jt},ne=function at(dt){for(var Et=this.internal.write,It=this.internal.putStream,ur=(0,this.internal.getFilters)();ur.indexOf("FlateEncode")!==-1;)ur.splice(ur.indexOf("FlateEncode"),1);dt.objectId=this.internal.newObject();var pr=[];if(pr.push({key:"Type",value:"/XObject"}),pr.push({key:"Subtype",value:"/Image"}),pr.push({key:"Width",value:dt.width}),pr.push({key:"Height",value:dt.height}),dt.colorSpace===nt.INDEXED?pr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(dt.palette.length/3-1)+" "+("sMask"in dt&&dt.sMask!==void 0?dt.objectId+2:dt.objectId+1)+" 0 R]"}):(pr.push({key:"ColorSpace",value:"/"+dt.colorSpace}),dt.colorSpace===nt.DEVICE_CMYK&&pr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pr.push({key:"BitsPerComponent",value:dt.bitsPerComponent}),"decodeParameters"in dt&&dt.decodeParameters!==void 0&&pr.push({key:"DecodeParms",value:"<<"+dt.decodeParameters+">>"}),"transparency"in dt&&Array.isArray(dt.transparency)&&dt.transparency.length>0){for(var yr="",Jt=0,vr=dt.transparency.length;Jt<vr;Jt++)yr+=dt.transparency[Jt]+" "+dt.transparency[Jt]+" ";pr.push({key:"Mask",value:"["+yr+"]"})}dt.sMask!==void 0&&pr.push({key:"SMask",value:dt.objectId+1+" 0 R"});var Xr=dt.filter!==void 0?["/"+dt.filter]:void 0;if(It({data:dt.data,additionalKeyValues:pr,alreadyAppliedFilters:Xr,objectId:dt.objectId}),Et("endobj"),"sMask"in dt&&dt.sMask!==void 0){var Ur,Ze=(Ur=dt.sMaskBitsPerComponent)!==null&&Ur!==void 0?Ur:dt.bitsPerComponent,xt={width:dt.width,height:dt.height,colorSpace:"DeviceGray",bitsPerComponent:Ze,data:dt.sMask};"filter"in dt&&(xt.decodeParameters="/Predictor ".concat(dt.predictor," /Colors 1 /BitsPerComponent ").concat(Ze," /Columns ").concat(dt.width),xt.filter=dt.filter),at.call(this,xt)}if(dt.colorSpace===nt.INDEXED){var Ct=this.internal.newObject();It({data:Xt(new Uint8Array(dt.palette)),objectId:Ct}),Et("endobj")}},Se=function(){var at=this.internal.collections[B+"images"];for(var dt in at)ne.call(this,at[dt])},fe=function(){var at,dt=this.internal.collections[B+"images"],Et=this.internal.write;for(var It in dt)Et("/I"+(at=dt[It]).index,at.objectId,"0","R")},ge=function(){this.internal.collections[B+"images"]||(this.internal.collections[B+"images"]={},this.internal.events.subscribe("putResources",Se),this.internal.events.subscribe("putXobjectDict",fe))},Re=function(){var at=this.internal.collections[B+"images"];return ge.call(this),at},Ve=function(){return Object.keys(this.internal.collections[B+"images"]).length},et=function(at){return typeof I["process"+at.toUpperCase()]=="function"},st=function(at){return(0,h.default)(at)==="object"&&at.nodeType===1},Fe=function(at,dt){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var Et=""+at.getAttribute("src");if(Et.indexOf("data:image/")===0)return C(unescape(Et).split("base64,").pop());var It=I.loadFile(Et,!0);if(It!==void 0)return It}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var ur;switch(dt){case"PNG":ur="image/png";break;case"WEBP":ur="image/webp";break;default:ur="image/jpeg"}return C(at.toDataURL(ur,1).split("base64,").pop())}},vt=function(at){var dt=this.internal.collections[B+"images"];if(dt){for(var Et in dt)if(at===dt[Et].alias)return dt[Et]}},mt=function(at,dt,Et){return at||dt||(at=-96,dt=-96),at<0&&(at=-1*Et.width*72/at/this.internal.scaleFactor),dt<0&&(dt=-1*Et.height*72/dt/this.internal.scaleFactor),at===0&&(at=dt*Et.width/Et.height),dt===0&&(dt=at*Et.height/Et.width),[at,dt]},yt=function(at,dt,Et,It,ur,pr){var yr=mt.call(this,Et,It,ur),Jt=this.internal.getCoordinateString,vr=this.internal.getVerticalCoordinateString,Xr=Re.call(this);if(Et=yr[0],It=yr[1],Xr[ur.index]=ur,pr){pr*=Math.PI/180;var Ur=Math.cos(pr),Ze=Math.sin(pr),xt=function(Wt){return Wt.toFixed(4)},Ct=[xt(Ur),xt(Ze),xt(-1*Ze),xt(Ur),0,0,"cm"]}this.internal.write("q"),pr?(this.internal.write([1,"0","0",1,Jt(at),vr(dt+It),"cm"].join(" ")),this.internal.write(Ct.join(" ")),this.internal.write([Jt(Et),"0","0",Jt(It),"0","0","cm"].join(" "))):this.internal.write([Jt(Et),"0","0",Jt(It),Jt(at),vr(dt+It),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ur.index+" Do"),this.internal.write("Q")},nt=I.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};I.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var kt=I.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Gt=I.__addimage__.sHashCode=function(at){var dt,Et,It=0;if(typeof at=="string")for(Et=at.length,dt=0;dt<Et;dt++)It=(It<<5)-It+at.charCodeAt(dt),It|=0;else if(Qt(at))for(Et=at.byteLength/2,dt=0;dt<Et;dt++)It=(It<<5)-It+at[dt],It|=0;return It},St=I.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var dt=!0;return at.length===0&&(dt=!1),at.length%4!=0&&(dt=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(dt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(dt=!1),dt},tt=I.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var dt=at.indexOf(",");return dt<0?null:at.substring(0,dt).trim().endsWith("base64")?at.substring(dt+1):null};I.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Qt=I.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},cr=I.__addimage__.binaryStringToUint8Array=function(at){for(var dt=at.length,Et=new Uint8Array(dt),It=0;It<dt;It++)Et[It]=at.charCodeAt(It);return Et},Xt=I.__addimage__.arrayBufferToBinaryString=function(at){for(var dt="",Et=Qt(at)?at:new Uint8Array(at),It=0;It<Et.length;It+=8192)dt+=String.fromCharCode.apply(null,Et.subarray(It,It+8192));return dt};I.addImage=function(){var at,dt,Et,It,ur,pr,yr,Jt,vr;if(typeof arguments[1]=="number"?(dt=D,Et=arguments[1],It=arguments[2],ur=arguments[3],pr=arguments[4],yr=arguments[5],Jt=arguments[6],vr=arguments[7]):(dt=arguments[1],Et=arguments[2],It=arguments[3],ur=arguments[4],pr=arguments[5],yr=arguments[6],Jt=arguments[7],vr=arguments[8]),(0,h.default)(at=arguments[0])==="object"&&!st(at)&&"imageData"in at){var Xr=at;at=Xr.imageData,dt=Xr.format||dt||D,Et=Xr.x||Et||0,It=Xr.y||It||0,ur=Xr.w||Xr.width||ur,pr=Xr.h||Xr.height||pr,yr=Xr.alias||yr,Jt=Xr.compression||Jt,vr=Xr.rotation||Xr.angle||vr}var Ur=this.internal.getFilters();if(Jt===void 0&&Ur.indexOf("FlateEncode")!==-1&&(Jt="SLOW"),isNaN(Et)||isNaN(It))throw new Error("Invalid coordinates passed to jsPDF.addImage");ge.call(this);var Ze=Tt.call(this,at,dt,yr,Jt);return yt.call(this,Et,It,ur,pr,Ze,vr),this};var Tt=function(at,dt,Et,It){var ur,pr,yr;if(typeof at=="string"&&Z(at)===D){at=unescape(at);var Jt=or(at,!1);(Jt!==""||(Jt=I.loadFile(at,!0))!==void 0)&&(at=Jt)}if(st(at)&&(at=Fe(at,dt)),dt=Z(at,dt),!et(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(((yr=Et)==null||yr.length===0)&&(Et=(function(vr){return typeof vr=="string"||Qt(vr)?Gt(vr):Qt(vr.data)?Gt(vr.data):null})(at)),(ur=vt.call(this,Et))||(at instanceof Uint8Array||dt==="RGBA"||(pr=at,at=cr(at)),ur=this["process"+dt.toUpperCase()](at,Ve.call(this),Et,(function(vr){return vr&&typeof vr=="string"&&(vr=vr.toUpperCase()),vr in I.image_compression?vr:kt.NONE})(It),pr)),!ur)throw new Error("An unknown error occurred whilst processing the image.");return ur},or=I.__addimage__.convertBase64ToBinaryString=function(at,dt){dt=typeof dt!="boolean"||dt;var Et,It="";if(typeof at=="string"){var ur;Et=(ur=tt(at))!==null&&ur!==void 0?ur:at;try{It=C(Et)}catch(pr){if(dt)throw St(Et)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return It};I.getImageProperties=function(at){var dt,Et,It="";if(st(at)&&(at=Fe(at)),typeof at=="string"&&Z(at)===D&&((It=or(at,!1))===""&&(It=I.loadFile(at)||""),at=It),Et=Z(at),!et(Et))throw new Error("addImage does not support files of type '"+Et+"', please ensure that a plugin for '"+Et+"' support is added.");if(at instanceof Uint8Array||(at=cr(at)),!(dt=this["process"+Et.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return dt.fileType=Et,dt}})(J.API),(function(I){var B=function(D){if(D!==void 0&&D!="")return!0};J.API.events.push(["addPage",function(D){this.internal.getPageInfo(D.pageNumber).pageContext.annotations=[]}]),I.events.push(["putPage",function(D){for(var V,Z,ne,Se=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,ge=this.internal.getPageInfoByObjId(D.objId),Re=D.pageContext.annotations,Ve=!1,et=0;et<Re.length&&!Ve;et++)switch((V=Re[et]).type){case"link":(B(V.options.url)||B(V.options.pageNumber))&&(Ve=!0);break;case"reference":case"text":case"freetext":Ve=!0}if(Ve!=0){this.internal.write("/Annots [");for(var st=0;st<Re.length;st++){V=Re[st];var Fe=this.internal.pdfEscape,vt=this.internal.getEncryptor(D.objId);switch(V.type){case"reference":this.internal.write(" "+V.object.objId+" 0 R ");break;case"text":var mt=this.internal.newAdditionalObject(),yt=this.internal.newAdditionalObject(),nt=this.internal.getEncryptor(mt.objId),kt=V.title||"Note";ne="<</Type /Annot /Subtype /Text "+(Z="/Rect ["+Se(V.bounds.x)+" "+fe(V.bounds.y+V.bounds.h)+" "+Se(V.bounds.x+V.bounds.w)+" "+fe(V.bounds.y)+"] ")+"/Contents ("+Fe(nt(V.contents))+")",ne+=" /Popup "+yt.objId+" 0 R",ne+=" /P "+ge.objId+" 0 R",ne+=" /T ("+Fe(nt(kt))+") >>",mt.content=ne;var Gt=mt.objId+" 0 R";ne="<</Type /Annot /Subtype /Popup "+(Z="/Rect ["+Se(V.bounds.x+30)+" "+fe(V.bounds.y+V.bounds.h)+" "+Se(V.bounds.x+V.bounds.w+30)+" "+fe(V.bounds.y)+"] ")+" /Parent "+Gt,V.open&&(ne+=" /Open true"),ne+=" >>",yt.content=ne,this.internal.write(mt.objId,"0 R",yt.objId,"0 R");break;case"freetext":Z="/Rect ["+Se(V.bounds.x)+" "+fe(V.bounds.y)+" "+Se(V.bounds.x+V.bounds.w)+" "+fe(V.bounds.y+V.bounds.h)+"] ";var St=V.color||"#000000";ne="<</Type /Annot /Subtype /FreeText "+Z+"/Contents ("+Fe(vt(V.contents))+")",ne+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+St+")",ne+=" /Border [0 0 0]",ne+=" >>",this.internal.write(ne);break;case"link":if(V.options.name){var tt=this.annotations._nameMap[V.options.name];V.options.pageNumber=tt.page,V.options.top=tt.y}else V.options.top||(V.options.top=0);if(Z="/Rect ["+V.finalBounds.x+" "+V.finalBounds.y+" "+V.finalBounds.w+" "+V.finalBounds.h+"] ",ne="",V.options.url)ne="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /A <</S /URI /URI ("+Fe(vt(V.options.url))+") >>";else if(V.options.pageNumber)switch(ne="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(V.options.pageNumber).objId+" 0 R",V.options.magFactor=V.options.magFactor||"XYZ",V.options.magFactor){case"Fit":ne+=" /Fit]";break;case"FitH":ne+=" /FitH "+V.options.top+"]";break;case"FitV":V.options.left=V.options.left||0,ne+=" /FitV "+V.options.left+"]";break;default:var Qt=fe(V.options.top);V.options.left=V.options.left||0,V.options.zoom===void 0&&(V.options.zoom=0),ne+=" /XYZ "+V.options.left+" "+Qt+" "+V.options.zoom+"]"}ne!=""&&(ne+=" >>",this.internal.write(ne))}}this.internal.write("]")}}]),I.createAnnotation=function(D){var V=this.internal.getCurrentPageInfo();switch(D.type){case"link":this.link(D.bounds.x,D.bounds.y,D.bounds.w,D.bounds.h,D);break;case"text":case"freetext":V.pageContext.annotations.push(D)}},I.link=function(D,V,Z,ne,Se){var fe=this.internal.getCurrentPageInfo(),ge=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString;fe.pageContext.annotations.push({finalBounds:{x:ge(D),y:Re(V),w:ge(D+Z),h:Re(V+ne)},options:Se,type:"link"})},I.textWithLink=function(D,V,Z,ne){var Se,fe,ge=this.getTextWidth(D),Re=this.internal.getLineHeight()/this.internal.scaleFactor;if(ne.maxWidth!==void 0){fe=ne.maxWidth;var Ve=this.splitTextToSize(D,fe).length;Se=Math.ceil(Re*Ve)}else fe=ge,Se=Re;return this.text(D,V,Z,ne),Z+=.2*Re,ne.align==="center"&&(V-=ge/2),ne.align==="right"&&(V-=ge),this.link(V,Z-Re,fe,Se,ne),ge},I.getTextWidth=function(D){var V=this.internal.getFontSize();return this.getStringUnitWidth(D)*V/this.internal.scaleFactor}})(J.API),(function(I){var B={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},D={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},V={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Z=[1570,1571,1573,1575];I.__arabicParser__={};var ne=I.__arabicParser__.isInArabicSubstitutionA=function(mt){return B[mt.charCodeAt(0)]!==void 0},Se=I.__arabicParser__.isArabicLetter=function(mt){return typeof mt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(mt)},fe=I.__arabicParser__.isArabicEndLetter=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length<=2},ge=I.__arabicParser__.isArabicAlfLetter=function(mt){return Se(mt)&&Z.indexOf(mt.charCodeAt(0))>=0};I.__arabicParser__.arabicLetterHasIsolatedForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=1};var Re=I.__arabicParser__.arabicLetterHasFinalForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=2};I.__arabicParser__.arabicLetterHasInitialForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length>=3};var Ve=I.__arabicParser__.arabicLetterHasMedialForm=function(mt){return Se(mt)&&ne(mt)&&B[mt.charCodeAt(0)].length==4},et=I.__arabicParser__.resolveLigatures=function(mt){var yt=0,nt=D,kt="",Gt=0;for(yt=0;yt<mt.length;yt+=1)nt[mt.charCodeAt(yt)]!==void 0?(Gt++,typeof(nt=nt[mt.charCodeAt(yt)])=="number"&&(kt+=String.fromCharCode(nt),nt=D,Gt=0),yt===mt.length-1&&(nt=D,kt+=mt.charAt(yt-(Gt-1)),yt-=Gt-1,Gt=0)):(nt=D,kt+=mt.charAt(yt-Gt),yt-=Gt,Gt=0);return kt};I.__arabicParser__.isArabicDiacritic=function(mt){return mt!==void 0&&V[mt.charCodeAt(0)]!==void 0};var st=I.__arabicParser__.getCorrectForm=function(mt,yt,nt){return Se(mt)?ne(mt)===!1?-1:!Re(mt)||!Se(yt)&&!Se(nt)||!Se(nt)&&fe(yt)||fe(mt)&&!Se(yt)||fe(mt)&&ge(yt)||fe(mt)&&fe(yt)?0:Ve(mt)&&Se(yt)&&!fe(yt)&&Se(nt)&&Re(nt)?3:fe(mt)||!Se(nt)?1:2:-1},Fe=function(mt){var yt=0,nt=0,kt=0,Gt="",St="",tt="",Qt=(mt=mt||"").split("\\s+"),cr=[];for(yt=0;yt<Qt.length;yt+=1){for(cr.push(""),nt=0;nt<Qt[yt].length;nt+=1)Gt=Qt[yt][nt],St=Qt[yt][nt-1],tt=Qt[yt][nt+1],Se(Gt)?(kt=st(Gt,St,tt),cr[yt]+=kt!==-1?String.fromCharCode(B[Gt.charCodeAt(0)][kt]):Gt):cr[yt]+=Gt;cr[yt]=et(cr[yt])}return cr.join(" ")},vt=I.__arabicParser__.processArabic=I.processArabic=function(){var mt,yt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,nt=[];if(Array.isArray(yt)){var kt=0;for(nt=[],kt=0;kt<yt.length;kt+=1)Array.isArray(yt[kt])?nt.push([Fe(yt[kt][0]),yt[kt][1],yt[kt][2]]):nt.push([Fe(yt[kt])]);mt=nt}else mt=Fe(yt);return typeof arguments[0]=="string"?mt:(arguments[0].text=mt,arguments[0])};I.events.push(["preProcessText",vt])})(J.API),J.API.autoPrint=function(I){var B;return(I=I||{}).variant=I.variant||"non-conform",I.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){B=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+B+" 0 R")})),this},(function(I){var B=function(){var D=void 0;Object.defineProperty(this,"pdf",{get:function(){return D},set:function(fe){D=fe}});var V=150;Object.defineProperty(this,"width",{get:function(){return V},set:function(fe){V=isNaN(fe)||Number.isInteger(fe)===!1||fe<0?150:fe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=V+1)}});var Z=300;Object.defineProperty(this,"height",{get:function(){return Z},set:function(fe){Z=isNaN(fe)||Number.isInteger(fe)===!1||fe<0?300:fe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Z+1)}});var ne=[];Object.defineProperty(this,"childNodes",{get:function(){return ne},set:function(fe){ne=fe}});var Se={};Object.defineProperty(this,"style",{get:function(){return Se},set:function(fe){Se=fe}}),Object.defineProperty(this,"parentNode",{})};B.prototype.getContext=function(D,V){var Z;if((D=D||"2d")!=="2d")return null;for(Z in V)this.pdf.context2d.hasOwnProperty(Z)&&(this.pdf.context2d[Z]=V[Z]);return this.pdf.context2d._canvas=this,this.pdf.context2d},B.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},I.events.push(["initialized",function(){this.canvas=new B,this.canvas.pdf=this}])})(J.API),(function(I){var B={left:0,top:0,bottom:0,right:0},D=!1,V=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},B),this.internal.__cell__.margins.width=this.getPageWidth(),Z.call(this))},Z=function(){this.internal.__cell__.lastCell=new ne,this.internal.__cell__.pages=1},ne=function(){var ge=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(mt){ge=mt}});var Re=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(mt){Re=mt}});var Ve=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ve},set:function(mt){Ve=mt}});var et=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return et},set:function(mt){et=mt}});var st=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return st},set:function(mt){st=mt}});var Fe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Fe},set:function(mt){Fe=mt}});var vt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return vt},set:function(mt){vt=mt}}),this};ne.prototype.clone=function(){return new ne(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ne.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},I.setHeaderFunction=function(ge){return V.call(this),this.internal.__cell__.headerFunction=typeof ge=="function"?ge:void 0,this},I.getTextDimensions=function(ge,Re){V.call(this);var Ve=(Re=Re||{}).fontSize||this.getFontSize(),et=Re.font||this.getFont(),st=Re.scaleFactor||this.internal.scaleFactor,Fe=0,vt=0,mt=0,yt=this;if(!Array.isArray(ge)&&typeof ge!="string"){if(typeof ge!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ge=String(ge)}var nt=Re.maxWidth;nt>0?typeof ge=="string"?ge=this.splitTextToSize(ge,nt):Object.prototype.toString.call(ge)==="[object Array]"&&(ge=ge.reduce(function(Gt,St){return Gt.concat(yt.splitTextToSize(St,nt))},[])):ge=Array.isArray(ge)?ge:[ge];for(var kt=0;kt<ge.length;kt++)Fe<(mt=this.getStringUnitWidth(ge[kt],{font:et})*Ve)&&(Fe=mt);return Fe!==0&&(vt=ge.length),{w:Fe/=st,h:Math.max((vt*Ve*this.getLineHeightFactor()-Ve*(this.getLineHeightFactor()-1))/st,0)}},I.cellAddPage=function(){V.call(this),this.addPage();var ge=this.internal.__cell__.margins||B;return this.internal.__cell__.lastCell=new ne(ge.left,ge.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Se=I.cell=function(){var ge;ge=arguments[0]instanceof ne?arguments[0]:new ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),V.call(this);var Re=this.internal.__cell__.lastCell,Ve=this.internal.__cell__.padding,et=this.internal.__cell__.margins||B,st=this.internal.__cell__.tableHeaderRow,Fe=this.internal.__cell__.printHeaders;return Re.lineNumber!==void 0&&(Re.lineNumber===ge.lineNumber?(ge.x=(Re.x||0)+(Re.width||0),ge.y=Re.y||0):Re.y+Re.height+ge.height+et.bottom>this.getPageHeight()?(this.cellAddPage(),ge.y=et.top,Fe&&st&&(this.printHeaderRow(ge.lineNumber,!0),ge.y+=st[0].height)):ge.y=Re.y+Re.height||ge.y),ge.text[0]!==void 0&&(this.rect(ge.x,ge.y,ge.width,ge.height,D===!0?"FD":void 0),ge.align==="right"?this.text(ge.text,ge.x+ge.width-Ve,ge.y+Ve,{align:"right",baseline:"top"}):ge.align==="center"?this.text(ge.text,ge.x+ge.width/2,ge.y+Ve,{align:"center",baseline:"top",maxWidth:ge.width-Ve-Ve}):this.text(ge.text,ge.x+Ve,ge.y+Ve,{align:"left",baseline:"top",maxWidth:ge.width-Ve-Ve})),this.internal.__cell__.lastCell=ge,this};I.table=function(ge,Re,Ve,et,st){if(V.call(this),!Ve)throw new Error("No data for PDF table.");var Fe,vt,mt,yt,nt=[],kt=[],Gt=[],St={},tt={},Qt=[],cr=[],Xt=(st=st||{}).autoSize||!1,Tt=st.printHeaders!==!1,or=st.css&&st.css["font-size"]!==void 0?16*st.css["font-size"]:st.fontSize||12,at=st.margins||Object.assign({width:this.getPageWidth()},B),dt=typeof st.padding=="number"?st.padding:3,Et=st.headerBackgroundColor||"#c8c8c8",It=st.headerTextColor||"#000";if(Z.call(this),this.internal.__cell__.printHeaders=Tt,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=or,this.internal.__cell__.padding=dt,this.internal.__cell__.headerBackgroundColor=Et,this.internal.__cell__.headerTextColor=It,this.setFontSize(or),et==null)kt=nt=Object.keys(Ve[0]),Gt=nt.map(function(){return"left"});else if(Array.isArray(et)&&(0,h.default)(et[0])==="object")for(nt=et.map(function(Xr){return Xr.name}),kt=et.map(function(Xr){return Xr.prompt||Xr.name||""}),Gt=et.map(function(Xr){return Xr.align||"left"}),Fe=0;Fe<et.length;Fe+=1)tt[et[Fe].name]=.7499990551181103*et[Fe].width;else Array.isArray(et)&&typeof et[0]=="string"&&(kt=nt=et,Gt=nt.map(function(){return"left"}));if(Xt||Array.isArray(et)&&typeof et[0]=="string")for(Fe=0;Fe<nt.length;Fe+=1){for(St[yt=nt[Fe]]=Ve.map(function(Xr){return Xr[yt]}),this.setFont(void 0,"bold"),Qt.push(this.getTextDimensions(kt[Fe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),vt=St[yt],this.setFont(void 0,"normal"),mt=0;mt<vt.length;mt+=1)Qt.push(this.getTextDimensions(vt[mt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[yt]=Math.max.apply(null,Qt)+dt+dt,Qt=[]}if(Tt){var ur={};for(Fe=0;Fe<nt.length;Fe+=1)ur[nt[Fe]]={},ur[nt[Fe]].text=kt[Fe],ur[nt[Fe]].align=Gt[Fe];var pr=fe.call(this,ur,tt);cr=nt.map(function(Xr){return new ne(ge,Re,tt[Xr],pr,ur[Xr].text,void 0,ur[Xr].align)}),this.setTableHeaderRow(cr),this.printHeaderRow(1,!1)}var yr=et.reduce(function(Xr,Ur){return Xr[Ur.name]=Ur.align,Xr},{});for(Fe=0;Fe<Ve.length;Fe+=1){"rowStart"in st&&st.rowStart instanceof Function&&st.rowStart({row:Fe,data:Ve[Fe]},this);var Jt=fe.call(this,Ve[Fe],tt);for(mt=0;mt<nt.length;mt+=1){var vr=Ve[Fe][nt[mt]];"cellStart"in st&&st.cellStart instanceof Function&&st.cellStart({row:Fe,col:mt,data:vr},this),Se.call(this,new ne(ge,Re,tt[nt[mt]],Jt,vr,Fe+2,yr[nt[mt]]))}}return this.internal.__cell__.table_x=ge,this.internal.__cell__.table_y=Re,this};var fe=function(ge,Re){var Ve=this.internal.__cell__.padding,et=this.internal.__cell__.table_font_size,st=this.internal.scaleFactor;return Object.keys(ge).map(function(Fe){var vt=ge[Fe];return this.splitTextToSize(vt.hasOwnProperty("text")?vt.text:vt,Re[Fe]-Ve-Ve)},this).map(function(Fe){return this.getLineHeightFactor()*Fe.length*et/st+Ve+Ve},this).reduce(function(Fe,vt){return Math.max(Fe,vt)},0)};I.setTableHeaderRow=function(ge){V.call(this),this.internal.__cell__.tableHeaderRow=ge},I.printHeaderRow=function(ge,Re){if(V.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ve;if(D=!0,typeof this.internal.__cell__.headerFunction=="function"){var et=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ne(et[0],et[1],et[2],et[3],void 0,-1)}this.setFont(void 0,"bold");for(var st=[],Fe=0;Fe<this.internal.__cell__.tableHeaderRow.length;Fe+=1){Ve=this.internal.__cell__.tableHeaderRow[Fe].clone(),Re&&(Ve.y=this.internal.__cell__.margins.top||0,st.push(Ve)),Ve.lineNumber=ge;var vt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Se.call(this,Ve),this.setTextColor(vt)}st.length>0&&this.setTableHeaderRow(st),this.setFont(void 0,"normal"),D=!1}})(J.API);var Es={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ni=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yi=Cn(Ni),Qi=[100,200,300,400,500,600,700,800,900],Ii=Cn(Qi);function Ps(I){var B=I.family.replace(/"|'/g,"").toLowerCase(),D=(function(ne){return Es[ne=ne||"normal"]?ne:"normal"})(I.style),V=(function(ne){return ne?typeof ne=="number"?ne>=100&&ne<=900&&ne%100==0?ne:400:/^\d00$/.test(ne)?parseInt(ne):ne==="bold"?700:400:400})(I.weight),Z=(function(ne){return typeof yi[ne=ne||"normal"]=="number"?ne:"normal"})(I.stretch);return{family:B,style:D,weight:V,stretch:Z,src:I.src||[],ref:I.ref||{name:B,style:[Z,D,V].join(" ")}}}function Ka(I,B,D,V){var Z;for(Z=D;Z>=0&&Z<B.length;Z+=V)if(I[B[Z]])return I[B[Z]];for(Z=D;Z>=0&&Z<B.length;Z-=V)if(I[B[Z]])return I[B[Z]]}var gs={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Va={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cc(I){return[I.stretch,I.style,I.weight,I.family].join(" ")}function vs(I){return I.trimLeft()}function Bl(I,B){for(var D=0;D<I.length;){if(I.charAt(D)===B)return[I.substring(0,D),I.substring(D+1)];D+=1}return null}function Nc(I){var B=I.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return B===null?null:[B[0],I.substring(B[0].length)]}var El,Wi,xo,ha,Jl,ai,Io,Xs,To=["times"];function rl(I,B,D,V,Z){var ne=4,Se=Si;switch(Z){case J.API.image_compression.FAST:ne=1,Se=Ws;break;case J.API.image_compression.MEDIUM:ne=6,Se=ii;break;case J.API.image_compression.SLOW:ne=9,Se=pl}I=(function(ge,Re,Ve,et){for(var st,Fe=ge.length/Re,vt=new Uint8Array(ge.length+Fe),mt=[_o,Ws,Si,ii,pl],yt=0;yt<Fe;yt+=1){var nt=yt*Re,kt=ge.subarray(nt,nt+Re);if(et)vt.set(et(kt,Ve,st),nt+yt);else{for(var Gt=mt.length,St=[],tt=0;tt<Gt;tt+=1)St[tt]=mt[tt](kt,Ve,st);var Qt=Hc(St.concat());vt.set(St[Qt],nt+yt)}st=kt}return vt})(I,B,Math.ceil(D*V/8),Se);var fe=(0,d.zlibSync)(I,{level:ne});return J.API.__addimage__.arrayBufferToBinaryString(fe)}function _o(I){var B=Array.apply([],I);return B.unshift(0),B}function Ws(I,B){var D=I.length,V=[];V[0]=1;for(var Z=0;Z<D;Z+=1){var ne=I[Z-B]||0;V[Z+1]=I[Z]-ne+256&255}return V}function Si(I,B,D){var V=I.length,Z=[];Z[0]=2;for(var ne=0;ne<V;ne+=1){var Se=D&&D[ne]||0;Z[ne+1]=I[ne]-Se+256&255}return Z}function ii(I,B,D){var V=I.length,Z=[];Z[0]=3;for(var ne=0;ne<V;ne+=1){var Se=I[ne-B]||0,fe=D&&D[ne]||0;Z[ne+1]=I[ne]+256-(Se+fe>>>1)&255}return Z}function pl(I,B,D){var V=I.length,Z=[];Z[0]=4;for(var ne=0;ne<V;ne+=1){var Se=Oo(I[ne-B]||0,D&&D[ne]||0,D&&D[ne-B]||0);Z[ne+1]=I[ne]-Se+256&255}return Z}function Oo(I,B,D){if(I===B&&B===D)return I;var V=Math.abs(B-D),Z=Math.abs(I-D),ne=Math.abs(I+B-D-D);return V<=Z&&V<=ne?I:Z<=ne?B:D}function Hc(I){var B=I.map(function(D){return D.reduce(function(V,Z){return V+Math.abs(Z)},0)});return B.indexOf(Math.min.apply(null,B))}function cs(I,B,D){var V=B*D,Z=Math.floor(V/8),ne=16-(V-8*Z+D),Se=(1<<D)-1;return $i(I,Z)>>ne&Se}function Gn(I,B,D,V){var Z=D*V,ne=Math.floor(Z/8),Se=16-(Z-8*ne+V),fe=(1<<V)-1,ge=(B&fe)<<Se;(function(Re,Ve,et){if(Ve+1<Re.byteLength)Re.setUint16(Ve,et,!1);else{var st=et>>8&255;Re.setUint8(Ve,st)}})(I,ne,$i(I,ne)&~(fe<<Se)&65535|ge)}function $i(I,B){return B+1<I.byteLength?I.getUint16(B,!1):I.getUint8(B)<<8}function xs(I){var B=0;if(I[B++]!==71||I[B++]!==73||I[B++]!==70||I[B++]!==56||(I[B++]+1&253)!=56||I[B++]!==97)throw new Error("Invalid GIF 87a/89a header.");var D=I[B++]|I[B++]<<8,V=I[B++]|I[B++]<<8,Z=I[B++],ne=Z>>7,Se=1<<1+(7&Z);I[B++],I[B++];var fe=null,ge=null;ne&&(fe=B,ge=Se,B+=3*Se);var Re=!0,Ve=[],et=0,st=null,Fe=0,vt=null;for(this.width=D,this.height=V;Re&&B<I.length;)switch(I[B++]){case 33:switch(I[B++]){case 255:if(I[B]!==11||I[B+1]==78&&I[B+2]==69&&I[B+3]==84&&I[B+4]==83&&I[B+5]==67&&I[B+6]==65&&I[B+7]==80&&I[B+8]==69&&I[B+9]==50&&I[B+10]==46&&I[B+11]==48&&I[B+12]==3&&I[B+13]==1&&I[B+16]==0)B+=14,vt=I[B++]|I[B++]<<8,B++;else for(B+=12;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;case 249:if(I[B++]!==4||I[B+4]!==0)throw new Error("Invalid graphics extension block.");var mt=I[B++];et=I[B++]|I[B++]<<8,st=I[B++],1&mt||(st=null),Fe=mt>>2&7,B++;break;case 254:for(;;){if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}break;default:throw new Error("Unknown graphic control label: 0x"+I[B-1].toString(16))}break;case 44:var yt=I[B++]|I[B++]<<8,nt=I[B++]|I[B++]<<8,kt=I[B++]|I[B++]<<8,Gt=I[B++]|I[B++]<<8,St=I[B++],tt=St>>6&1,Qt=1<<1+(7&St),cr=fe,Xt=ge,Tt=!1;St>>7&&(Tt=!0,cr=B,Xt=Qt,B+=3*Qt);var or=B;for(B++;;){var at;if(!((at=I[B++])>=0))throw Error("Invalid block size");if(at===0)break;B+=at}Ve.push({x:yt,y:nt,width:kt,height:Gt,has_local_palette:Tt,palette_offset:cr,palette_size:Xt,data_offset:or,data_length:B-or,transparent_index:st,interlaced:!!tt,delay:et,disposal:Fe});break;case 59:Re=!1;break;default:throw new Error("Unknown gif block: 0x"+I[B-1].toString(16))}this.numFrames=function(){return Ve.length},this.loopCount=function(){return vt},this.frameInfo=function(dt){if(dt<0||dt>=Ve.length)throw new Error("Frame index out of range.");return Ve[dt]},this.decodeAndBlitFrameBGRA=function(dt,Et){var It=this.frameInfo(dt),ur=It.width*It.height,pr=new Uint8Array(ur);ys(I,It.data_offset,pr,ur);var yr=It.palette_offset,Jt=It.transparent_index;Jt===null&&(Jt=256);var vr=It.width,Xr=D-vr,Ur=vr,Ze=4*(It.y*D+It.x),xt=4*((It.y+It.height)*D+It.x),Ct=Ze,Wt=4*Xr;It.interlaced===!0&&(Wt+=4*D*7);for(var Kt=8,nr=0,gr=pr.length;nr<gr;++nr){var xr=pr[nr];if(Ur===0&&(Ur=vr,(Ct+=Wt)>=xt&&(Wt=4*Xr+4*D*(Kt-1),Ct=Ze+(vr+Xr)*(Kt<<1),Kt>>=1)),xr===Jt)Ct+=4;else{var Pr=I[yr+3*xr],Yr=I[yr+3*xr+1],Nn=I[yr+3*xr+2];Et[Ct++]=Nn,Et[Ct++]=Yr,Et[Ct++]=Pr,Et[Ct++]=255}--Ur}},this.decodeAndBlitFrameRGBA=function(dt,Et){var It=this.frameInfo(dt),ur=It.width*It.height,pr=new Uint8Array(ur);ys(I,It.data_offset,pr,ur);var yr=It.palette_offset,Jt=It.transparent_index;Jt===null&&(Jt=256);var vr=It.width,Xr=D-vr,Ur=vr,Ze=4*(It.y*D+It.x),xt=4*((It.y+It.height)*D+It.x),Ct=Ze,Wt=4*Xr;It.interlaced===!0&&(Wt+=4*D*7);for(var Kt=8,nr=0,gr=pr.length;nr<gr;++nr){var xr=pr[nr];if(Ur===0&&(Ur=vr,(Ct+=Wt)>=xt&&(Wt=4*Xr+4*D*(Kt-1),Ct=Ze+(vr+Xr)*(Kt<<1),Kt>>=1)),xr===Jt)Ct+=4;else{var Pr=I[yr+3*xr],Yr=I[yr+3*xr+1],Nn=I[yr+3*xr+2];Et[Ct++]=Pr,Et[Ct++]=Yr,Et[Ct++]=Nn,Et[Ct++]=255}--Ur}}}function ys(I,B,D,V){for(var Z=I[B++],ne=1<<Z,Se=ne+1,fe=Se+1,ge=Z+1,Re=(1<<ge)-1,Ve=0,et=0,st=0,Fe=I[B++],vt=new Int32Array(4096),mt=null;;){for(;Ve<16&&Fe!==0;)et|=I[B++]<<Ve,Ve+=8,Fe===1?Fe=I[B++]:--Fe;if(Ve<ge)break;var yt=et&Re;if(et>>=ge,Ve-=ge,yt!==ne){if(yt===Se)break;for(var nt=yt<fe?yt:mt,kt=0,Gt=nt;Gt>ne;)Gt=vt[Gt]>>8,++kt;var St=Gt;if(st+kt+(nt!==yt?1:0)>V)return void x.log("Warning, gif stream longer than expected.");D[st++]=St;var tt=st+=kt;for(nt!==yt&&(D[st++]=St),Gt=nt;kt--;)Gt=vt[Gt],D[--tt]=255&Gt,Gt>>=8;mt!==null&&fe<4096&&(vt[fe++]=mt<<8|St,fe>=Re+1&&ge<12&&(++ge,Re=Re<<1|1)),mt=yt}else fe=Se+1,Re=(1<<(ge=Z+1))-1,mt=null}return st!==V&&x.log("Warning, gif stream shorter than expected."),D}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function ko(I){var B,D,V,Z,ne,Se=Math.floor,fe=new Array(64),ge=new Array(64),Re=new Array(64),Ve=new Array(64),et=new Array(65535),st=new Array(65535),Fe=new Array(64),vt=new Array(64),mt=[],yt=0,nt=7,kt=new Array(64),Gt=new Array(64),St=new Array(64),tt=new Array(256),Qt=new Array(2048),cr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Xt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Tt=[0,1,2,3,4,5,6,7,8,9,10,11],or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],dt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Et=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ur=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pr(Ze,xt){for(var Ct=0,Wt=0,Kt=new Array,nr=1;nr<=16;nr++){for(var gr=1;gr<=Ze[nr];gr++)Kt[xt[Wt]]=[],Kt[xt[Wt]][0]=Ct,Kt[xt[Wt]][1]=nr,Wt++,Ct++;Ct*=2}return Kt}function yr(Ze){for(var xt=Ze[0],Ct=Ze[1]-1;Ct>=0;)xt&1<<Ct&&(yt|=1<<nt),Ct--,--nt<0&&(yt==255?(Jt(255),Jt(0)):Jt(yt),nt=7,yt=0)}function Jt(Ze){mt.push(Ze)}function vr(Ze){Jt(Ze>>8&255),Jt(255&Ze)}function Xr(Ze,xt,Ct,Wt,Kt){for(var nr,gr=Kt[0],xr=Kt[240],Pr=(function(Hr,sa){var Dn,Zn,Mn,pi,Ha,Fn,oi,oa,On,ua,kn=0;for(On=0;On<8;++On){Dn=Hr[kn],Zn=Hr[kn+1],Mn=Hr[kn+2],pi=Hr[kn+3],Ha=Hr[kn+4],Fn=Hr[kn+5],oi=Hr[kn+6];var ja=Dn+(oa=Hr[kn+7]),ui=Dn-oa,Ga=Zn+oi,qa=Zn-oi,ts=Mn+Fn,zn=Mn-Fn,Ti=pi+Ha,xa=pi-Ha,Vn=ja+Ti,_i=ja-Ti,Ca=Ga+ts,En=Ga-ts;Hr[kn]=Vn+Ca,Hr[kn+4]=Vn-Ca;var ei=.707106781*(En+_i);Hr[kn+2]=_i+ei,Hr[kn+6]=_i-ei;var ru=.382683433*((Vn=xa+zn)-(En=qa+ui)),$s=.5411961*Vn+ru,bo=1.306562965*En+ru,Sc=.707106781*(Ca=zn+qa),Aa=ui+Sc,ws=ui-Sc;Hr[kn+5]=ws+$s,Hr[kn+3]=ws-$s,Hr[kn+1]=Aa+bo,Hr[kn+7]=Aa-bo,kn+=8}for(kn=0,On=0;On<8;++On){Dn=Hr[kn],Zn=Hr[kn+8],Mn=Hr[kn+16],pi=Hr[kn+24],Ha=Hr[kn+32],Fn=Hr[kn+40],oi=Hr[kn+48];var wo=Dn+(oa=Hr[kn+56]),Il=Dn-oa,Ds=Zn+oi,Di=Zn-oi,Is=Mn+Fn,co=Mn-Fn,nu=pi+Ha,Zs=pi-Ha,nl=wo+nu,Bc=wo-nu,ec=Ds+Is,Js=Ds-Is;Hr[kn]=nl+ec,Hr[kn+32]=nl-ec;var al=.707106781*(Js+Bc);Hr[kn+16]=Bc+al,Hr[kn+48]=Bc-al;var Tl=.382683433*((nl=Zs+co)-(Js=Di+Il)),zo=.5411961*nl+Tl,Do=1.306562965*Js+Tl,tc=.707106781*(ec=co+Di),_l=Il+tc,Ec=Il-tc;Hr[kn+40]=Ec+zo,Hr[kn+24]=Ec-zo,Hr[kn+8]=_l+Do,Hr[kn+56]=_l-Do,kn++}for(On=0;On<64;++On)ua=Hr[On]*sa[On],Fe[On]=ua>0?ua+.5|0:ua-.5|0;return Fe})(Ze,xt),Yr=0;Yr<64;++Yr)vt[cr[Yr]]=Pr[Yr];var Nn=vt[0]-Ct;Ct=vt[0],Nn==0?yr(Wt[0]):(yr(Wt[st[nr=32767+Nn]]),yr(et[nr]));for(var Bn=63;Bn>0&&vt[Bn]==0;)Bn--;if(Bn==0)return yr(gr),Ct;for(var ca,ut=1;ut<=Bn;){for(var An=ut;vt[ut]==0&&ut<=Bn;)++ut;var va=ut-An;if(va>=16){ca=va>>4;for(var dn=1;dn<=ca;++dn)yr(xr);va&=15}nr=32767+vt[ut],yr(Kt[(va<<4)+st[nr]]),yr(et[nr]),ut++}return Bn!=63&&yr(gr),Ct}function Ur(Ze){Ze=Math.min(Math.max(Ze,1),100),ne!=Ze&&((function(xt){for(var Ct=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Wt=0;Wt<64;Wt++){var Kt=Se((Ct[Wt]*xt+50)/100);Kt=Math.min(Math.max(Kt,1),255),fe[cr[Wt]]=Kt}for(var nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gr=0;gr<64;gr++){var xr=Se((nr[gr]*xt+50)/100);xr=Math.min(Math.max(xr,1),255),ge[cr[gr]]=xr}for(var Pr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Yr=0,Nn=0;Nn<8;Nn++)for(var Bn=0;Bn<8;Bn++)Re[Yr]=1/(fe[cr[Yr]]*Pr[Nn]*Pr[Bn]*8),Ve[Yr]=1/(ge[cr[Yr]]*Pr[Nn]*Pr[Bn]*8),Yr++})(Ze<50?Math.floor(5e3/Ze):Math.floor(200-2*Ze)),ne=Ze)}this.encode=function(Ze,xt){xt&&Ur(xt),mt=new Array,yt=0,nt=7,vr(65496),vr(65504),vr(16),Jt(74),Jt(70),Jt(73),Jt(70),Jt(0),Jt(1),Jt(1),Jt(0),vr(1),vr(1),Jt(0),Jt(0),(function(){vr(65499),vr(132),Jt(0);for(var Zn=0;Zn<64;Zn++)Jt(fe[Zn]);Jt(1);for(var Mn=0;Mn<64;Mn++)Jt(ge[Mn])})(),(function(Zn,Mn){vr(65472),vr(17),Jt(8),vr(Mn),vr(Zn),Jt(3),Jt(1),Jt(17),Jt(0),Jt(2),Jt(17),Jt(1),Jt(3),Jt(17),Jt(1)})(Ze.width,Ze.height),(function(){vr(65476),vr(418),Jt(0);for(var Zn=0;Zn<16;Zn++)Jt(Xt[Zn+1]);for(var Mn=0;Mn<=11;Mn++)Jt(Tt[Mn]);Jt(16);for(var pi=0;pi<16;pi++)Jt(or[pi+1]);for(var Ha=0;Ha<=161;Ha++)Jt(at[Ha]);Jt(1);for(var Fn=0;Fn<16;Fn++)Jt(dt[Fn+1]);for(var oi=0;oi<=11;oi++)Jt(Et[oi]);Jt(17);for(var oa=0;oa<16;oa++)Jt(It[oa+1]);for(var On=0;On<=161;On++)Jt(ur[On])})(),vr(65498),vr(12),Jt(3),Jt(1),Jt(0),Jt(2),Jt(17),Jt(3),Jt(17),Jt(0),Jt(63),Jt(0);var Ct=0,Wt=0,Kt=0;yt=0,nt=7,this.encode.displayName="_encode_";for(var nr,gr,xr,Pr,Yr,Nn,Bn,ca,ut,An=Ze.data,va=Ze.width,dn=Ze.height,Hr=4*va,sa=0;sa<dn;){for(nr=0;nr<Hr;){for(Yr=Hr*sa+nr,Bn=-1,ca=0,ut=0;ut<64;ut++)Nn=Yr+(ca=ut>>3)*Hr+(Bn=4*(7&ut)),sa+ca>=dn&&(Nn-=Hr*(sa+1+ca-dn)),nr+Bn>=Hr&&(Nn-=nr+Bn-Hr+4),gr=An[Nn++],xr=An[Nn++],Pr=An[Nn++],kt[ut]=(Qt[gr]+Qt[xr+256|0]+Qt[Pr+512|0]>>16)-128,Gt[ut]=(Qt[gr+768|0]+Qt[xr+1024|0]+Qt[Pr+1280|0]>>16)-128,St[ut]=(Qt[gr+1280|0]+Qt[xr+1536|0]+Qt[Pr+1792|0]>>16)-128;Ct=Xr(kt,Re,Ct,B,V),Wt=Xr(Gt,Ve,Wt,D,Z),Kt=Xr(St,Ve,Kt,D,Z),nr+=32}sa+=8}if(nt>=0){var Dn=[];Dn[1]=nt+1,Dn[0]=(1<<nt+1)-1,yr(Dn)}return vr(65497),new Uint8Array(mt)},I=I||50,(function(){for(var Ze=String.fromCharCode,xt=0;xt<256;xt++)tt[xt]=Ze(xt)})(),B=pr(Xt,Tt),D=pr(dt,Et),V=pr(or,at),Z=pr(It,ur),(function(){for(var Ze=1,xt=2,Ct=1;Ct<=15;Ct++){for(var Wt=Ze;Wt<xt;Wt++)st[32767+Wt]=Ct,et[32767+Wt]=[],et[32767+Wt][1]=Ct,et[32767+Wt][0]=Wt;for(var Kt=-(xt-1);Kt<=-Ze;Kt++)st[32767+Kt]=Ct,et[32767+Kt]=[],et[32767+Kt][1]=Ct,et[32767+Kt][0]=xt-1+Kt;Ze<<=1,xt<<=1}})(),(function(){for(var Ze=0;Ze<256;Ze++)Qt[Ze]=19595*Ze,Qt[Ze+256|0]=38470*Ze,Qt[Ze+512|0]=7471*Ze+32768,Qt[Ze+768|0]=-11059*Ze,Qt[Ze+1024|0]=-21709*Ze,Qt[Ze+1280|0]=32768*Ze+8421375,Qt[Ze+1536|0]=-27439*Ze,Qt[Ze+1792|0]=-5329*Ze})(),Ur(I)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ri(I,B){if(this.pos=0,this.buffer=I,this.datav=new DataView(I.buffer),this.is_with_alpha=!!B,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lo(I){function B(Tt){if(!Tt)throw Error("assert :P")}function D(Tt,or,at){for(var dt=0;4>dt;dt++)if(Tt[or+dt]!=at.charCodeAt(dt))return!0;return!1}function V(Tt,or,at,dt,Et){for(var It=0;It<Et;It++)Tt[or+It]=at[dt+It]}function Z(Tt,or,at,dt){for(var Et=0;Et<dt;Et++)Tt[or+Et]=at}function ne(Tt){return new Int32Array(Tt)}function Se(Tt,or){for(var at=[],dt=0;dt<Tt;dt++)at.push(new or);return at}function fe(Tt,or){var at=[];return(function dt(Et,It,ur){for(var pr=ur[It],yr=0;yr<pr&&(Et.push(ur.length>It+1?[]:new or),!(ur.length<It+1));yr++)dt(Et[yr],It+1,ur)})(at,0,Tt),at}var ge=function(){var Tt=this;function or(_,G){for(var ve=1<<G-1>>>0;_&ve;)ve>>>=1;return ve?(_&ve-1)+ve:_}function at(_,G,ve,_e,We){B(!(_e%ve));do _[G+(_e-=ve)]=We;while(0<_e)}function dt(_,G,ve,_e,We){if(B(2328>=We),512>=We)var Ke=ne(512);else if((Ke=ne(We))==null)return 0;return(function(qe,Je,rt,pt,Dt,rr){var At,Rt,Yt=Je,jr=1<<rt,ar=ne(16),Nr=ne(16);for(B(Dt!=0),B(pt!=null),B(qe!=null),B(0<rt),Rt=0;Rt<Dt;++Rt){if(15<pt[Rt])return 0;++ar[pt[Rt]]}if(ar[0]==Dt)return 0;for(Nr[1]=0,At=1;15>At;++At){if(ar[At]>1<<At)return 0;Nr[At+1]=Nr[At]+ar[At]}for(Rt=0;Rt<Dt;++Rt)At=pt[Rt],0<pt[Rt]&&(rr[Nr[At]++]=Rt);if(Nr[15]==1)return(pt=new Et).g=0,pt.value=rr[0],at(qe,Yt,1,jr,pt),jr;var Tr,Rr=-1,Or=jr-1,ea=0,Pn=1,za=1,yn=1<<rt;for(Rt=0,At=1,Dt=2;At<=rt;++At,Dt<<=1){if(Pn+=za<<=1,0>(za-=ar[At]))return 0;for(;0<ar[At];--ar[At])(pt=new Et).g=At,pt.value=rr[Rt++],at(qe,Yt+ea,Dt,yn,pt),ea=or(ea,At)}for(At=rt+1,Dt=2;15>=At;++At,Dt<<=1){if(Pn+=za<<=1,0>(za-=ar[At]))return 0;for(;0<ar[At];--ar[At]){if(pt=new Et,(ea&Or)!=Rr){for(Yt+=yn,Tr=1<<(Rr=At)-rt;15>Rr&&!(0>=(Tr-=ar[Rr]));)++Rr,Tr<<=1;jr+=yn=1<<(Tr=Rr-rt),qe[Je+(Rr=ea&Or)].g=Tr+rt,qe[Je+Rr].value=Yt-Je-Rr}pt.g=At-rt,pt.value=rr[Rt++],at(qe,Yt+(ea>>rt),Dt,yn,pt),ea=or(ea,At)}}return Pn!=2*Nr[15]-1?0:jr})(_,G,ve,_e,We,Ke)}function Et(){this.value=this.g=0}function It(){this.value=this.g=0}function ur(){this.G=Se(5,Et),this.H=ne(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Se(Fa,It)}function pr(_,G,ve,_e){B(_!=null),B(G!=null),B(2147483648>_e),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=G,_.pa=ve,_.Jd=G,_.Yc=ve+_e,_.Zc=4<=_e?ve+_e-4+1:ve,gr(_)}function yr(_,G){for(var ve=0;0<G--;)ve|=Pr(_,128)<<G;return ve}function Jt(_,G){var ve=yr(_,G);return xr(_)?-ve:ve}function vr(_,G,ve,_e){var We,Ke=0;for(B(_!=null),B(G!=null),B(4294967288>_e),_.Sb=_e,_.Ra=0,_.u=0,_.h=0,4<_e&&(_e=4),We=0;We<_e;++We)Ke+=G[ve+We]<<8*We;_.Ra=Ke,_.bb=_e,_.oa=G,_.pa=ve}function Xr(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Co-8>>>0,++_.bb,_.u-=8;Wt(_)&&(_.h=1,_.u=0)}function Ur(_,G){if(B(0<=G),!_.h&&G<=da){var ve=Ct(_)&Hn[G];return _.u+=G,Xr(_),ve}return _.h=1,_.u=0}function Ze(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function xt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ct(_){return _.Ra>>>(_.u&Co-1)>>>0}function Wt(_){return B(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Co}function Kt(_,G){_.u=G,_.h=Wt(_)}function nr(_){_.u>=oc&&(B(_.u>=oc),Xr(_))}function gr(_){B(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(B(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function xr(_){return yr(_,1)}function Pr(_,G){var ve=_.Ca;0>_.b&&gr(_);var _e=_.b,We=ve*G>>>8,Ke=(_.I>>>_e>We)+0;for(Ke?(ve-=We,_.I-=We+1<<_e>>>0):ve=We+1,_e=ve,We=0;256<=_e;)We+=8,_e>>=8;return _e=7^We+Ro[_e],_.b-=_e,_.Ca=(ve<<_e)-1,Ke}function Yr(_,G,ve){_[G+0]=ve>>24&255,_[G+1]=ve>>16&255,_[G+2]=ve>>8&255,_[G+3]=255&ve}function Nn(_,G){return _[G+0]|_[G+1]<<8}function Bn(_,G){return Nn(_,G)|_[G+2]<<16}function ca(_,G){return Nn(_,G)|Nn(_,G+2)<<16}function ut(_,G){var ve=1<<G;return B(_!=null),B(0<G),_.X=ne(ve),_.X==null?0:(_.Mb=32-G,_.Xa=G,1)}function An(_,G){B(_!=null),B(G!=null),B(_.Xa==G.Xa),V(G.X,0,_.X,0,1<<G.Xa)}function va(){this.X=[],this.Xa=this.Mb=0}function dn(_,G,ve,_e){B(ve!=null),B(_e!=null);var We=ve[0],Ke=_e[0];return We==0&&(We=(_*Ke+G/2)/G),Ke==0&&(Ke=(G*We+_/2)/_),0>=We||0>=Ke?0:(ve[0]=We,_e[0]=Ke,1)}function Hr(_,G){return _+(1<<G)-1>>>G}function sa(_,G){return((4278255360&_)+(4278255360&G)>>>0&4278255360)+((16711935&_)+(16711935&G)>>>0&16711935)>>>0}function Dn(_,G){Tt[G]=function(ve,_e,We,Ke,qe,Je,rt){var pt;for(pt=0;pt<qe;++pt){var Dt=Tt[_](Je[rt+pt-1],We,Ke+pt);Je[rt+pt]=sa(ve[_e+pt],Dt)}}}function Zn(){this.ud=this.hd=this.jd=0}function Mn(_,G){return((4278124286&(_^G))>>>1)+(_&G)>>>0}function pi(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Ha(_,G){return pi(_+(_-G+.5>>1))}function Fn(_,G,ve){return Math.abs(G-ve)-Math.abs(_-ve)}function oi(_,G,ve,_e,We,Ke,qe){for(_e=Ke[qe-1],ve=0;ve<We;++ve)Ke[qe+ve]=_e=sa(_[G+ve],_e)}function oa(_,G,ve,_e,We){var Ke;for(Ke=0;Ke<ve;++Ke){var qe=_[G+Ke],Je=qe>>8&255,rt=16711935&(rt=(rt=16711935&qe)+((Je<<16)+Je));_e[We+Ke]=(4278255360&qe)+rt>>>0}}function On(_,G){G.jd=255&_,G.hd=_>>8&255,G.ud=_>>16&255}function ua(_,G,ve,_e,We,Ke){var qe;for(qe=0;qe<_e;++qe){var Je=G[ve+qe],rt=Je>>>8,pt=Je,Dt=255&(Dt=(Dt=Je>>>16)+((_.jd<<24>>24)*(rt<<24>>24)>>>5));pt=255&(pt=(pt+=(_.hd<<24>>24)*(rt<<24>>24)>>>5)+((_.ud<<24>>24)*(Dt<<24>>24)>>>5)),We[Ke+qe]=(4278255360&Je)+(Dt<<16)+pt}}function kn(_,G,ve,_e,We){Tt[G]=function(Ke,qe,Je,rt,pt,Dt,rr,At,Rt){for(rt=rr;rt<At;++rt)for(rr=0;rr<Rt;++rr)pt[Dt++]=We(Je[_e(Ke[qe++])])},Tt[_]=function(Ke,qe,Je,rt,pt,Dt,rr){var At=8>>Ke.b,Rt=Ke.Ea,Yt=Ke.K[0],jr=Ke.w;if(8>At)for(Ke=(1<<Ke.b)-1,jr=(1<<At)-1;qe<Je;++qe){var ar,Nr=0;for(ar=0;ar<Rt;++ar)ar&Ke||(Nr=_e(rt[pt++])),Dt[rr++]=We(Yt[Nr&jr]),Nr>>=At}else Tt["VP8LMapColor"+ve](rt,pt,Yt,jr,Dt,rr,qe,Je,Rt)}}function ja(_,G,ve,_e,We){for(ve=G+ve;G<ve;){var Ke=_[G++];_e[We++]=Ke>>16&255,_e[We++]=Ke>>8&255,_e[We++]=255&Ke}}function ui(_,G,ve,_e,We){for(ve=G+ve;G<ve;){var Ke=_[G++];_e[We++]=Ke>>16&255,_e[We++]=Ke>>8&255,_e[We++]=255&Ke,_e[We++]=Ke>>24&255}}function Ga(_,G,ve,_e,We){for(ve=G+ve;G<ve;){var Ke=(qe=_[G++])>>16&240|qe>>12&15,qe=240&qe|qe>>28&15;_e[We++]=Ke,_e[We++]=qe}}function qa(_,G,ve,_e,We){for(ve=G+ve;G<ve;){var Ke=(qe=_[G++])>>16&248|qe>>13&7,qe=qe>>5&224|qe>>3&31;_e[We++]=Ke,_e[We++]=qe}}function ts(_,G,ve,_e,We){for(ve=G+ve;G<ve;){var Ke=_[G++];_e[We++]=255&Ke,_e[We++]=Ke>>8&255,_e[We++]=Ke>>16&255}}function zn(_,G,ve,_e,We,Ke){if(Ke==0)for(ve=G+ve;G<ve;)Yr(_e,((Ke=_[G++])[0]>>24|Ke[1]>>8&65280|Ke[2]<<8&16711680|Ke[3]<<24)>>>0),We+=32;else V(_e,We,_,G,ve)}function Ti(_,G){Tt[G][0]=Tt[_+"0"],Tt[G][1]=Tt[_+"1"],Tt[G][2]=Tt[_+"2"],Tt[G][3]=Tt[_+"3"],Tt[G][4]=Tt[_+"4"],Tt[G][5]=Tt[_+"5"],Tt[G][6]=Tt[_+"6"],Tt[G][7]=Tt[_+"7"],Tt[G][8]=Tt[_+"8"],Tt[G][9]=Tt[_+"9"],Tt[G][10]=Tt[_+"10"],Tt[G][11]=Tt[_+"11"],Tt[G][12]=Tt[_+"12"],Tt[G][13]=Tt[_+"13"],Tt[G][14]=Tt[_+"0"],Tt[G][15]=Tt[_+"0"]}function xa(_){return _==SA||_==Kh||_==Ou||_==BA}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function _i(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new _i,this.sd=null}function En(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ei(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ru(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function $s(_,G){var ve=_.T,_e=G.ba.f.RGBA,We=_e.eb,Ke=_e.fb+_.ka*_e.A,qe=dc[G.ba.S],Je=_.y,rt=_.O,pt=_.f,Dt=_.N,rr=_.ea,At=_.W,Rt=G.cc,Yt=G.dc,jr=G.Mc,ar=G.Nc,Nr=_.ka,Tr=_.ka+_.T,Rr=_.U,Or=Rr+1>>1;for(Nr==0?qe(Je,rt,null,null,pt,Dt,rr,At,pt,Dt,rr,At,We,Ke,null,null,Rr):(qe(G.ec,G.fc,Je,rt,Rt,Yt,jr,ar,pt,Dt,rr,At,We,Ke-_e.A,We,Ke,Rr),++ve);Nr+2<Tr;Nr+=2)Rt=pt,Yt=Dt,jr=rr,ar=At,Dt+=_.Rc,At+=_.Rc,Ke+=2*_e.A,qe(Je,(rt+=2*_.fa)-_.fa,Je,rt,Rt,Yt,jr,ar,pt,Dt,rr,At,We,Ke-_e.A,We,Ke,Rr);return rt+=_.fa,_.j+Tr<_.o?(V(G.ec,G.fc,Je,rt,Rr),V(G.cc,G.dc,pt,Dt,Or),V(G.Mc,G.Nc,rr,At,Or),ve--):1&Tr||qe(Je,rt,null,null,pt,Dt,rr,At,pt,Dt,rr,At,We,Ke+_e.A,null,null,Rr),ve}function bo(_,G,ve){var _e=_.F,We=[_.J];if(_e!=null){var Ke=_.U,qe=G.ba.S,Je=qe==Ao||qe==Ou;G=G.ba.f.RGBA;var rt=[0],pt=_.ka;rt[0]=_.T,_.Kb&&(pt==0?--rt[0]:(--pt,We[0]-=_.width),_.j+_.ka+_.T==_.o&&(rt[0]=_.o-_.j-pt));var Dt=G.eb;pt=G.fb+pt*G.A,_=sl(_e,We[0],_.width,Ke,rt,Dt,pt+(Je?0:3),G.A),B(ve==rt),_&&xa(qe)&&eo(Dt,pt,Je,Ke,rt,G.A)}return 0}function Sc(_){var G=_.ma,ve=G.ba.S,_e=11>ve,We=ve==Vh||ve==gh||ve==Ao||ve==jd||ve==12||xa(ve);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!rs(G.Oa,_,We?11:12))return 0;if(We&&xa(ve)&&ot(),_.da)alert("todo:use_scaling");else{if(_e){if(G.Ib=ru,_.Kb){if(ve=_.U+1>>1,G.memory=ne(_.U+2*ve),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+_.U,G.Mc=G.cc,G.Nc=G.dc+ve,G.Ib=$s,ot()}}else alert("todo:EmitYUV");We&&(G.Jb=bo,_e&&Xe())}if(_e&&!Cf){for(_=0;256>_;++_)Nf[_]=89858*(_-128)+Jd>>Sd,yl[_]=-22014*(_-128)+Jd,Ul[_]=-45773*(_-128),Sf[_]=113618*(_-128)+Jd>>Sd;for(_=xh;_<kA;++_)G=76283*(_-16)+Jd>>Sd,PA[_-xh]=rc(G,255),Bf[_-xh]=rc(G+8>>4,15);Cf=1}return 1}function Aa(_){var G=_.ma,ve=_.U,_e=_.T;return B(!(1&_.ka)),0>=ve||0>=_e?0:(ve=G.Ib(_,G),G.Jb!=null&&G.Jb(_,G,ve),G.Dc+=ve,1)}function ws(_){_.ma.memory=null}function wo(_,G,ve,_e){return Ur(_,8)!=47?0:(G[0]=Ur(_,14)+1,ve[0]=Ur(_,14)+1,_e[0]=Ur(_,1),Ur(_,3)!=0?0:!_.h)}function Il(_,G){if(4>_)return _+1;var ve=_-2>>1;return(2+(1&_)<<ve)+Ur(G,ve)+1}function Ds(_,G){return 120<G?G-120:1<=(ve=((ve=Cp[G-1])>>4)*_+(8-(15&ve)))?ve:1;var ve}function Di(_,G,ve){var _e=Ct(ve),We=_[G+=255&_e].g-8;return 0<We&&(Kt(ve,ve.u+8),_e=Ct(ve),G+=_[G].value,G+=_e&(1<<We)-1),Kt(ve,ve.u+_[G].g),_[G].value}function Is(_,G,ve){return ve.g+=_.g,ve.value+=_.value<<G>>>0,B(8>=ve.g),_.g}function co(_,G,ve){var _e=_.xc;return B((G=_e==0?0:_.vc[_.md*(ve>>_e)+(G>>_e)])<_.Wb),_.Ya[G]}function nu(_,G,ve,_e){var We=_.ab,Ke=_.c*G,qe=_.C;G=qe+G;var Je=ve,rt=_e;for(_e=_.Ta,ve=_.Ua;0<We--;){var pt=_.gc[We],Dt=qe,rr=G,At=Je,Rt=rt,Yt=(rt=_e,Je=ve,pt.Ea);switch(B(Dt<rr),B(rr<=pt.nc),pt.hc){case 2:Vs(At,Rt,(rr-Dt)*Yt,rt,Je);break;case 0:var jr=Dt,ar=rr,Nr=rt,Tr=Je,Rr=(yn=pt).Ea;jr==0&&(uo(At,Rt,null,null,1,Nr,Tr),oi(At,Rt+1,0,0,Rr-1,Nr,Tr+1),Rt+=Rr,Tr+=Rr,++jr);for(var Or=1<<yn.b,ea=Or-1,Pn=Hr(Rr,yn.b),za=yn.K,yn=yn.w+(jr>>yn.b)*Pn;jr<ar;){var wi=za,ln=yn,La=1;for(lc(At,Rt,Nr,Tr-Rr,1,Nr,Tr);La<Rr;){var Qn=(La&~ea)+Or;Qn>Rr&&(Qn=Rr),(0,ph[wi[ln++]>>8&15])(At,Rt+ +La,Nr,Tr+La-Rr,Qn-La,Nr,Tr+La),La=Qn}Rt+=Rr,Tr+=Rr,++jr&ea||(yn+=Pn)}rr!=pt.nc&&V(rt,Je-Yt,rt,Je+(rr-Dt-1)*Yt,Yt);break;case 1:for(Yt=At,ar=Rt,Rr=(At=pt.Ea)-(Tr=At&~(Nr=(Rt=1<<pt.b)-1)),jr=Hr(At,pt.b),Or=pt.K,pt=pt.w+(Dt>>pt.b)*jr;Dt<rr;){for(ea=Or,Pn=pt,za=new Zn,yn=ar+Tr,wi=ar+At;ar<yn;)On(ea[Pn++],za),kc(za,Yt,ar,Rt,rt,Je),ar+=Rt,Je+=Rt;ar<wi&&(On(ea[Pn++],za),kc(za,Yt,ar,Rr,rt,Je),ar+=Rr,Je+=Rr),++Dt&Nr||(pt+=jr)}break;case 3:if(At==rt&&Rt==Je&&0<pt.b){for(ar=rt,At=Yt=Je+(rr-Dt)*Yt-(Tr=(rr-Dt)*Hr(pt.Ea,pt.b)),Rt=rt,Nr=Je,jr=[],Tr=(Rr=Tr)-1;0<=Tr;--Tr)jr[Tr]=Rt[Nr+Tr];for(Tr=Rr-1;0<=Tr;--Tr)ar[At+Tr]=jr[Tr];Hh(pt,Dt,rr,rt,Yt,rt,Je)}else Hh(pt,Dt,rr,At,Rt,rt,Je)}Je=_e,rt=ve}rt!=ve&&V(_e,ve,Je,rt,Ke)}function Zs(_,G){var ve=_.V,_e=_.Ba+_.c*_.C,We=G-_.C;if(B(G<=_.l.o),B(16>=We),0<We){var Ke=_.l,qe=_.Ta,Je=_.Ua,rt=Ke.width;if(nu(_,We,ve,_e),We=Je=[Je],B((ve=_.C)<(_e=G)),B(Ke.v<Ke.va),_e>Ke.o&&(_e=Ke.o),ve<Ke.j){var pt=Ke.j-ve;ve=Ke.j,We[0]+=pt*rt}if(ve>=_e?ve=0:(We[0]+=4*Ke.v,Ke.ka=ve-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=_e-ve,ve=1),ve){if(Je=Je[0],11>(ve=_.ca).S){var Dt=ve.f.RGBA,rr=(_e=ve.S,We=Ke.U,Ke=Ke.T,pt=Dt.eb,Dt.A),At=Ke;for(Dt=Dt.fb+_.Ma*Dt.A;0<At--;){var Rt=qe,Yt=Je,jr=We,ar=pt,Nr=Dt;switch(_e){case Xd:zc(Rt,Yt,jr,ar,Nr);break;case Vh:Kc(Rt,Yt,jr,ar,Nr);break;case SA:Kc(Rt,Yt,jr,ar,Nr),eo(ar,Nr,0,jr,1,0);break;case zh:yd(Rt,Yt,jr,ar,Nr);break;case gh:zn(Rt,Yt,jr,ar,Nr,1);break;case Kh:zn(Rt,Yt,jr,ar,Nr,1),eo(ar,Nr,0,jr,1,0);break;case Ao:zn(Rt,Yt,jr,ar,Nr,0);break;case Ou:zn(Rt,Yt,jr,ar,Nr,0),eo(ar,Nr,1,jr,1,0);break;case jd:Ku(Rt,Yt,jr,ar,Nr);break;case BA:Ku(Rt,Yt,jr,ar,Nr),$h(ar,Nr,jr,1,0);break;case mf:cu(Rt,Yt,jr,ar,Nr);break;default:B(0)}Je+=rt,Dt+=rr}_.Ma+=Ke}else alert("todo:EmitRescaledRowsYUVA");B(_.Ma<=ve.height)}}_.C=G,B(_.C<=_.i)}function nl(_){var G;if(0<_.ua)return 0;for(G=0;G<_.Wb;++G){var ve=_.Ya[G].G,_e=_.Ya[G].H;if(0<ve[1][_e[1]+0].g||0<ve[2][_e[2]+0].g||0<ve[3][_e[3]+0].g)return 0}return 1}function Bc(_,G,ve,_e,We,Ke){if(_.Z!=0){var qe=_.qd,Je=_.rd;for(B(Uo[_.Z]!=null);G<ve;++G)Uo[_.Z](qe,Je,_e,We,_e,We,Ke),qe=_e,Je=We,We+=Ke;_.qd=qe,_.rd=Je}}function ec(_,G){var ve=_.l.ma,_e=ve.Z==0||ve.Z==1?_.l.j:_.C;if(_e=_.C<_e?_e:_.C,B(G<=_.l.o),G>_e){var We=_.l.width,Ke=ve.ca,qe=ve.tb+We*_e,Je=_.V,rt=_.Ba+_.c*_e,pt=_.gc;B(_.ab==1),B(pt[0].hc==3),il(pt[0],_e,G,Je,rt,Ke,qe),Bc(ve,_e,G,Ke,qe,We)}_.C=_.Ma=G}function Js(_,G,ve,_e,We,Ke,qe){var Je=_.$/_e,rt=_.$%_e,pt=_.m,Dt=_.s,rr=ve+_.$,At=rr;We=ve+_e*We;var Rt=ve+_e*Ke,Yt=280+Dt.ua,jr=_.Pb?Je:16777216,ar=0<Dt.ua?Dt.Wa:null,Nr=Dt.wc,Tr=rr<Rt?co(Dt,rt,Je):null;B(_.C<Ke),B(Rt<=We);var Rr=!1;e:for(;;){for(;Rr||rr<Rt;){var Or=0;if(Je>=jr){var ea=rr-ve;B((jr=_).Pb),jr.wd=jr.m,jr.xd=ea,0<jr.s.ua&&An(jr.s.Wa,jr.s.vb),jr=Je+xf}if(rt&Nr||(Tr=co(Dt,rt,Je)),B(Tr!=null),Tr.Qb&&(G[rr]=Tr.qb,Rr=!0),!Rr)if(nr(pt),Tr.jc){Or=pt,ea=G;var Pn=rr,za=Tr.pd[Ct(Or)&Fa-1];B(Tr.jc),256>za.g?(Kt(Or,Or.u+za.g),ea[Pn]=za.value,Or=0):(Kt(Or,Or.u+za.g-256),B(256<=za.value),Or=za.value),Or==0&&(Rr=!0)}else Or=Di(Tr.G[0],Tr.H[0],pt);if(pt.h)break;if(Rr||256>Or){if(!Rr)if(Tr.nd)G[rr]=(Tr.qb|Or<<8)>>>0;else{if(nr(pt),Rr=Di(Tr.G[1],Tr.H[1],pt),nr(pt),ea=Di(Tr.G[2],Tr.H[2],pt),Pn=Di(Tr.G[3],Tr.H[3],pt),pt.h)break;G[rr]=(Pn<<24|Rr<<16|Or<<8|ea)>>>0}if(Rr=!1,++rr,++rt>=_e&&(rt=0,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(_,Je),ar!=null))for(;At<rr;)Or=G[At++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or}else if(280>Or){if(Or=Il(Or-256,pt),ea=Di(Tr.G[4],Tr.H[4],pt),nr(pt),ea=Ds(_e,ea=Il(ea,pt)),pt.h)break;if(rr-ve<ea||We-rr<Or)break e;for(Pn=0;Pn<Or;++Pn)G[rr+Pn]=G[rr+Pn-ea];for(rr+=Or,rt+=Or;rt>=_e;)rt-=_e,++Je,qe!=null&&Je<=Ke&&!(Je%16)&&qe(_,Je);if(B(rr<=We),rt&Nr&&(Tr=co(Dt,rt,Je)),ar!=null)for(;At<rr;)Or=G[At++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or}else{if(!(Or<Yt))break e;for(Rr=Or-280,B(ar!=null);At<rr;)Or=G[At++],ar.X[(506832829*Or&4294967295)>>>ar.Mb]=Or;Or=rr,B(!(Rr>>>(ea=ar).Xa)),G[Or]=ea.X[Rr],Rr=!0}Rr||B(pt.h==Wt(pt))}if(_.Pb&&pt.h&&rr<We)B(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&An(_.s.vb,_.s.Wa);else{if(pt.h)break e;qe!=null&&qe(_,Je>Ke?Ke:Je),_.a=0,_.$=rr-ve}return 1}return _.a=3,0}function al(_){B(_!=null),_.vc=null,_.yc=null,_.Ya=null;var G=_.Wa;G!=null&&(G.X=null),_.vb=null,B(_!=null)}function Tl(){var _=new fa;return _==null?null:(_.a=0,_.xb=bf,Ti("Predictor","VP8LPredictors"),Ti("Predictor","VP8LPredictors_C"),Ti("PredictorAdd","VP8LPredictorsAdd"),Ti("PredictorAdd","VP8LPredictorsAdd_C"),Vs=oa,kc=ua,zc=ja,Kc=ui,Ku=Ga,cu=qa,yd=ts,Tt.VP8LMapColor32b=Xo,Tt.VP8LMapColor8b=qd,_)}function zo(_,G,ve,_e,We){var Ke=1,qe=[_],Je=[G],rt=_e.m,pt=_e.s,Dt=null,rr=0;e:for(;;){if(ve)for(;Ke&&Ur(rt,1);){var At=qe,Rt=Je,Yt=_e,jr=1,ar=Yt.m,Nr=Yt.gc[Yt.ab],Tr=Ur(ar,2);if(Yt.Oc&1<<Tr)Ke=0;else{switch(Yt.Oc|=1<<Tr,Nr.hc=Tr,Nr.Ea=At[0],Nr.nc=Rt[0],Nr.K=[null],++Yt.ab,B(4>=Yt.ab),Tr){case 0:case 1:Nr.b=Ur(ar,3)+2,jr=zo(Hr(Nr.Ea,Nr.b),Hr(Nr.nc,Nr.b),0,Yt,Nr.K),Nr.K=Nr.K[0];break;case 3:var Rr,Or=Ur(ar,8)+1,ea=16<Or?0:4<Or?1:2<Or?2:3;if(At[0]=Hr(Nr.Ea,ea),Nr.b=ea,Rr=jr=zo(Or,1,0,Yt,Nr.K)){var Pn,za=Or,yn=Nr,wi=1<<(8>>yn.b),ln=ne(wi);if(ln==null)Rr=0;else{var La=yn.K[0],Qn=yn.w;for(ln[0]=yn.K[0][0],Pn=1;Pn<1*za;++Pn)ln[Pn]=sa(La[Qn+Pn],ln[Pn-1]);for(;Pn<4*wi;++Pn)ln[Pn]=0;yn.K[0]=null,yn.K[0]=ln,Rr=1}}jr=Rr;break;case 2:break;default:B(0)}Ke=jr}}if(qe=qe[0],Je=Je[0],Ke&&Ur(rt,1)&&!(Ke=1<=(rr=Ur(rt,4))&&11>=rr)){_e.a=3;break e}var pn;if(pn=Ke)t:{var fo,Da,fi,hs=_e,So=qe,Yo=Je,Rs=rr,Zo=ve,cl=hs.m,mi=hs.s,Xa=[null],gi=1,zs=0,zi=Np[Rs];r:for(;;){if(Zo&&Ur(cl,1)){var As=Ur(cl,3)+2,hc=Hr(So,As),Ki=Hr(Yo,As),bl=hc*Ki;if(!zo(hc,Ki,0,hs,Xa))break r;for(Xa=Xa[0],mi.xc=As,fo=0;fo<bl;++fo){var as=Xa[fo]>>8&65535;Xa[fo]=as,as>=gi&&(gi=as+1)}}if(cl.h)break r;for(Da=0;5>Da;++Da){var rn=gf[Da];!Da&&0<Rs&&(rn+=1<<Rs),zs<rn&&(zs=rn)}var Ho=Se(gi*zi,Et),Qo=gi,Ls=Se(Qo,ur);if(Ls==null)var wl=null;else B(65536>=Qo),wl=Ls;var Qa=ne(zs);if(wl==null||Qa==null||Ho==null){hs.a=1;break r}var Ma=Ho;for(fo=fi=0;fo<gi;++fo){var qn=wl[fo],Gi=qn.G,ki=qn.H,Ks=0,Us=1,to=0;for(Da=0;5>Da;++Da){rn=gf[Da],Gi[Da]=Ma,ki[Da]=fi,!Da&&0<Rs&&(rn+=1<<Rs);a:{var ro,Bd=rn,ku=hs,Xu=Qa,Ef=Ma,bh=fi,ul=0,qc=ku.m,eh=Ur(qc,1);if(Z(Xu,0,0,Bd),eh){var Yu=Ur(qc,1)+1,Jh=Ur(qc,1),MA=Ur(qc,Jh==0?1:8);Xu[MA]=1,Yu==2&&(Xu[MA=Ur(qc,8)]=1);var Au=1}else{var eA=ne(19),Xc=Ur(qc,4)+4;if(19<Xc){ku.a=3;var Jo=0;break a}for(ro=0;ro<Xc;++ro)eA[jp[ro]]=Ur(qc,3);var Ed=void 0,Pu=void 0,tA=ku,RA=eA,Bo=Bd,Ac=Xu,jl=0,po=tA.m,Id=8,LA=Se(128,Et);n:for(;dt(LA,0,7,RA,19);){if(Ur(po,1)){var If=2+2*Ur(po,3);if((Ed=2+Ur(po,If))>Bo)break n}else Ed=Bo;for(Pu=0;Pu<Bo&&Ed--;){nr(po);var Tf=LA[0+(127&Ct(po))];Kt(po,po.u+Tf.g);var Fc=Tf.value;if(16>Fc)Ac[Pu++]=Fc,Fc!=0&&(Id=Fc);else{var _f=Fc==16,UA=Fc-16,th=IA[UA],HA=Ur(po,EA[UA])+th;if(Pu+HA>Bo)break n;for(var rh=_f?Id:0;0<HA--;)Ac[Pu++]=rh}}jl=1;break n}jl||(tA.a=3),Au=jl}(Au=Au&&!qc.h)&&(ul=dt(Ef,bh,8,Xu,Bd)),Au&&ul!=0?Jo=ul:(ku.a=3,Jo=0)}if(Jo==0)break r;if(Us&&vf[Da]==1&&(Us=Ma[fi].g==0),Ks+=Ma[fi].g,fi+=Jo,3>=Da){var wh,QA=Qa[0];for(wh=1;wh<rn;++wh)Qa[wh]>QA&&(QA=Qa[wh]);to+=QA}}if(qn.nd=Us,qn.Qb=0,Us&&(qn.qb=(Gi[3][ki[3]+0].value<<24|Gi[1][ki[1]+0].value<<16|Gi[2][ki[2]+0].value)>>>0,Ks==0&&256>Gi[0][ki[0]+0].value&&(qn.Qb=1,qn.qb+=Gi[0][ki[0]+0].value<<8)),qn.jc=!qn.Qb&&6>to,qn.jc){var jh,Yc=qn;for(jh=0;jh<Fa;++jh){var Td=jh,_d=Yc.pd[Td],rA=Yc.G[0][Yc.H[0]+Td];256<=rA.value?(_d.g=rA.g+256,_d.value=rA.value):(_d.g=0,_d.value=0,Td>>=Is(rA,8,_d),Td>>=Is(Yc.G[1][Yc.H[1]+Td],16,_d),Td>>=Is(Yc.G[2][Yc.H[2]+Td],0,_d),Is(Yc.G[3][Yc.H[3]+Td],24,_d))}}}mi.vc=Xa,mi.Wb=gi,mi.Ya=wl,mi.yc=Ho,pn=1;break t}pn=0}if(!(Ke=pn)){_e.a=3;break e}if(0<rr){if(pt.ua=1<<rr,!ut(pt.Wa,rr)){_e.a=1,Ke=0;break e}}else pt.ua=0;var WA=_e,Od=qe,$m=Je,F=WA.s,E=F.xc;if(WA.c=Od,WA.i=$m,F.md=Hr(Od,E),F.wc=E==0?-1:(1<<E)-1,ve){_e.xb=Sp;break e}if((Dt=ne(qe*Je))==null){_e.a=1,Ke=0;break e}Ke=(Ke=Js(_e,Dt,0,qe,Je,Je,null))&&!rt.h;break e}return Ke?(We!=null?We[0]=Dt:(B(Dt==null),B(ve)),_e.$=0,ve||al(pt)):al(pt),Ke}function Do(_,G){var ve=_.c*_.i,_e=ve+G+16*G;return B(_.c<=G),_.V=ne(_e),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+ve+G,1)}function tc(_,G){var ve=_.C,_e=G-ve,We=_.V,Ke=_.Ba+_.c*ve;for(B(G<=_.l.o);0<_e;){var qe=16<_e?16:_e,Je=_.l.ma,rt=_.l.width,pt=rt*qe,Dt=Je.ca,rr=Je.tb+rt*ve,At=_.Ta,Rt=_.Ua;nu(_,qe,We,Ke),wd(At,Rt,Dt,rr,pt),Bc(Je,ve,ve+qe,Dt,rr,rt),_e-=qe,We+=qe*_.c,ve+=qe}B(ve==G),_.C=_.Ma=G}function _l(){this.ub=this.yd=this.td=this.Rb=0}function Ec(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hd(){this.Fb=this.Bb=this.Cb=0,this.Zb=ne(4),this.Lb=ne(4)}function Qc(){this.Yb=(function(){var _=[];return(function G(ve,_e,We){for(var Ke=We[_e],qe=0;qe<Ke&&(ve.push(We.length>_e+1?[]:0),!(We.length<_e+1));qe++)G(ve[qe],_e+1,We)})(_,0,[3,11]),_})()}function Ad(){this.jb=ne(3),this.Wc=fe([4,8],Qc),this.Xc=fe([4,17],Qc)}function au(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ne(4),this.od=new ne(4)}function Ko(){this.ld=this.La=this.dd=this.tc=0}function iu(){this.Na=this.la=0}function ju(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hu(){this.ad=ne(384),this.Za=0,this.Ob=ne(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ko),this.Y=0,this.ya=Array(new Hu),this.aa=0,this.l=new $u}function Qu(){this.y=ne(16),this.f=ne(8),this.ea=ne(8)}function Wu(){this.cb=this.a=0,this.sc="",this.m=new Ze,this.Od=new _l,this.Kc=new Ec,this.ed=new au,this.Qa=new hd,this.Ic=this.$c=this.Aa=0,this.D=new Ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Se(8,Ze),this.ia=0,this.pb=Se(4,ju),this.Pa=new Ad,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qu),this.Hd=0,this.rb=Array(new iu),this.sb=0,this.wa=Array(new Ko),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hu),this.L=this.aa=0,this.gd=fe([4,2],Ko),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rc(_,G){return 0>_?0:_>G?G:_}function $u(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cu(){var _=new Wu;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Yd||(Yd=bi)),_}function ba(_,G,ve){return _.a==0&&(_.a=G,_.sc=ve,_.cb=0),0}function fd(_,G,ve){return 3<=ve&&_[G+0]==157&&_[G+1]==1&&_[G+2]==42}function nc(_,G){if(_==null)return 0;if(_.a=0,_.sc="OK",G==null)return ba(_,2,"null VP8Io passed to VP8GetHeaders()");var ve=G.data,_e=G.w,We=G.ha;if(4>We)return ba(_,7,"Truncated header.");var Ke=ve[_e+0]|ve[_e+1]<<8|ve[_e+2]<<16,qe=_.Od;if(qe.Rb=!(1&Ke),qe.td=Ke>>1&7,qe.yd=Ke>>4&1,qe.ub=Ke>>5,3<qe.td)return ba(_,3,"Incorrect keyframe parameters.");if(!qe.yd)return ba(_,4,"Frame not displayable.");_e+=3,We-=3;var Je=_.Kc;if(qe.Rb){if(7>We)return ba(_,7,"cannot parse picture header");if(!fd(ve,_e,We))return ba(_,3,"Bad code word");Je.c=16383&(ve[_e+4]<<8|ve[_e+3]),Je.Td=ve[_e+4]>>6,Je.i=16383&(ve[_e+6]<<8|ve[_e+5]),Je.Ud=ve[_e+6]>>6,_e+=7,We-=7,_.za=Je.c+15>>4,_.Ub=Je.i+15>>4,G.width=Je.c,G.height=Je.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,Z((Ke=_.Pa).jb,0,255,Ke.jb.length),B((Ke=_.Qa)!=null),Ke.Cb=0,Ke.Bb=0,Ke.Fb=1,Z(Ke.Zb,0,0,Ke.Zb.length),Z(Ke.Lb,0,0,Ke.Lb)}if(qe.ub>We)return ba(_,7,"bad partition length");pr(Ke=_.m,ve,_e,qe.ub),_e+=qe.ub,We-=qe.ub,qe.Rb&&(Je.Ld=xr(Ke),Je.Kd=xr(Ke)),Je=_.Qa;var rt,pt=_.Pa;if(B(Ke!=null),B(Je!=null),Je.Cb=xr(Ke),Je.Cb){if(Je.Bb=xr(Ke),xr(Ke)){for(Je.Fb=xr(Ke),rt=0;4>rt;++rt)Je.Zb[rt]=xr(Ke)?Jt(Ke,7):0;for(rt=0;4>rt;++rt)Je.Lb[rt]=xr(Ke)?Jt(Ke,6):0}if(Je.Bb)for(rt=0;3>rt;++rt)pt.jb[rt]=xr(Ke)?yr(Ke,8):255}else Je.Bb=0;if(Ke.Ka)return ba(_,3,"cannot parse segment header");if((Je=_.ed).zd=xr(Ke),Je.Tb=yr(Ke,6),Je.wb=yr(Ke,3),Je.Pc=xr(Ke),Je.Pc&&xr(Ke)){for(pt=0;4>pt;++pt)xr(Ke)&&(Je.vd[pt]=Jt(Ke,6));for(pt=0;4>pt;++pt)xr(Ke)&&(Je.od[pt]=Jt(Ke,6))}if(_.L=Je.Tb==0?0:Je.zd?1:2,Ke.Ka)return ba(_,3,"cannot parse filter header");var Dt=We;if(We=rt=_e,_e=rt+Dt,Je=Dt,_.Xb=(1<<yr(_.m,2))-1,Dt<3*(pt=_.Xb))ve=7;else{for(rt+=3*pt,Je-=3*pt,Dt=0;Dt<pt;++Dt){var rr=ve[We+0]|ve[We+1]<<8|ve[We+2]<<16;rr>Je&&(rr=Je),pr(_.Jc[+Dt],ve,rt,rr),rt+=rr,Je-=rr,We+=3}pr(_.Jc[+pt],ve,rt,Je),ve=rt<_e?0:5}if(ve!=0)return ba(_,ve,"cannot parse partitions");for(ve=yr(rt=_.m,7),We=xr(rt)?Jt(rt,4):0,_e=xr(rt)?Jt(rt,4):0,Je=xr(rt)?Jt(rt,4):0,pt=xr(rt)?Jt(rt,4):0,rt=xr(rt)?Jt(rt,4):0,Dt=_.Qa,rr=0;4>rr;++rr){if(Dt.Cb){var At=Dt.Zb[rr];Dt.Fb||(At+=ve)}else{if(0<rr){_.pb[rr]=_.pb[0];continue}At=ve}var Rt=_.pb[rr];Rt.Sc[0]=vh[rc(At+We,127)],Rt.Sc[1]=Gh[rc(At+0,127)],Rt.Eb[0]=2*vh[rc(At+_e,127)],Rt.Eb[1]=101581*Gh[rc(At+Je,127)]>>16,8>Rt.Eb[1]&&(Rt.Eb[1]=8),Rt.Qc[0]=vh[rc(At+pt,117)],Rt.Qc[1]=Gh[rc(At+rt,127)],Rt.lc=At+rt}if(!qe.Rb)return ba(_,4,"Not a key frame.");for(xr(Ke),qe=_.Pa,ve=0;4>ve;++ve){for(We=0;8>We;++We)for(_e=0;3>_e;++_e)for(Je=0;11>Je;++Je)pt=Pr(Ke,qh[ve][We][_e][Je])?yr(Ke,8):Qm[ve][We][_e][Je],qe.Wc[ve][We].Yb[_e][Je]=pt;for(We=0;17>We;++We)qe.Xc[ve][We]=qe.Wc[ve][Xh[We]]}return _.kc=xr(Ke),_.kc&&(_.Bd=yr(Ke,8)),_.cb=1}function bi(_,G,ve,_e,We,Ke,qe){var Je=G[We].Yb[ve];for(ve=0;16>We;++We){if(!Pr(_,Je[ve+0]))return We;for(;!Pr(_,Je[ve+1]);)if(Je=G[++We].Yb[0],ve=0,We==16)return 16;var rt=G[We+1].Yb;if(Pr(_,Je[ve+2])){var pt=_,Dt=0;if(Pr(pt,(At=Je)[(rr=ve)+3]))if(Pr(pt,At[rr+6])){for(Je=0,rr=2*(Dt=Pr(pt,At[rr+8]))+(At=Pr(pt,At[rr+9+Dt])),Dt=0,At=TA[rr];At[Je];++Je)Dt+=Dt+Pr(pt,At[Je]);Dt+=3+(8<<rr)}else Pr(pt,At[rr+7])?(Dt=7+2*Pr(pt,165),Dt+=Pr(pt,145)):Dt=5+Pr(pt,159);else Dt=Pr(pt,At[rr+4])?3+Pr(pt,At[rr+5]):2;Je=rt[2]}else Dt=1,Je=rt[1];rt=qe+Hm[We],0>(pt=_).b&&gr(pt);var rr,At=pt.b,Rt=(rr=pt.Ca>>1)-(pt.I>>At)>>31;--pt.b,pt.Ca+=Rt,pt.Ca|=1,pt.I-=(rr+1&Rt)<<At,Ke[rt]=((Dt^Rt)-Rt)*_e[(0<We)+0]}return 16}function pd(_){var G=_.rb[_.sb-1];G.la=0,G.Na=0,Z(_.zc,0,0,_.zc.length),_.ja=0}function ml(_,G,ve,_e,We){We=_[G+ve+32*_e]+(We>>3),_[G+ve+32*_e]=-256&We?0>We?0:255:We}function Ts(_,G,ve,_e,We,Ke){ml(_,G,0,ve,_e+We),ml(_,G,1,ve,_e+Ke),ml(_,G,2,ve,_e-Ke),ml(_,G,3,ve,_e-We)}function Ic(_){return(20091*_>>16)+_}function su(_,G,ve,_e){var We,Ke=0,qe=ne(16);for(We=0;4>We;++We){var Je=_[G+0]+_[G+8],rt=_[G+0]-_[G+8],pt=(35468*_[G+4]>>16)-Ic(_[G+12]),Dt=Ic(_[G+4])+(35468*_[G+12]>>16);qe[Ke+0]=Je+Dt,qe[Ke+1]=rt+pt,qe[Ke+2]=rt-pt,qe[Ke+3]=Je-Dt,Ke+=4,G++}for(We=Ke=0;4>We;++We)Je=(_=qe[Ke+0]+4)+qe[Ke+8],rt=_-qe[Ke+8],pt=(35468*qe[Ke+4]>>16)-Ic(qe[Ke+12]),ml(ve,_e,0,0,Je+(Dt=Ic(qe[Ke+4])+(35468*qe[Ke+12]>>16))),ml(ve,_e,1,0,rt+pt),ml(ve,_e,2,0,rt-pt),ml(ve,_e,3,0,Je-Dt),Ke++,_e+=32}function kl(_,G,ve,_e){var We=_[G+0]+4,Ke=35468*_[G+4]>>16,qe=Ic(_[G+4]),Je=35468*_[G+1]>>16;Ts(ve,_e,0,We+qe,_=Ic(_[G+1]),Je),Ts(ve,_e,1,We+Ke,_,Je),Ts(ve,_e,2,We-Ke,_,Je),Ts(ve,_e,3,We-qe,_,Je)}function Vu(_,G,ve,_e,We){su(_,G,ve,_e),We&&su(_,G+16,ve,_e+4)}function Go(_,G,ve,_e){xl(_,G+0,ve,_e,1),xl(_,G+32,ve,_e+128,1)}function md(_,G,ve,_e){var We;for(_=_[G+0]+4,We=0;4>We;++We)for(G=0;4>G;++G)ml(ve,_e,G,We,_)}function Nu(_,G,ve,_e){_[G+0]&&hi(_,G+0,ve,_e),_[G+16]&&hi(_,G+16,ve,_e+4),_[G+32]&&hi(_,G+32,ve,_e+128),_[G+48]&&hi(_,G+48,ve,_e+128+4)}function gd(_,G,ve,_e){var We,Ke=ne(16);for(We=0;4>We;++We){var qe=_[G+0+We]+_[G+12+We],Je=_[G+4+We]+_[G+8+We],rt=_[G+4+We]-_[G+8+We],pt=_[G+0+We]-_[G+12+We];Ke[0+We]=qe+Je,Ke[8+We]=qe-Je,Ke[4+We]=pt+rt,Ke[12+We]=pt-rt}for(We=0;4>We;++We)qe=(_=Ke[0+4*We]+3)+Ke[3+4*We],Je=Ke[1+4*We]+Ke[2+4*We],rt=Ke[1+4*We]-Ke[2+4*We],pt=_-Ke[3+4*We],ve[_e+0]=qe+Je>>3,ve[_e+16]=pt+rt>>3,ve[_e+32]=qe-Je>>3,ve[_e+48]=pt-rt>>3,_e+=64}function ou(_,G,ve){var _e,We=G-32,Ke=ll,qe=255-_[We-1];for(_e=0;_e<ve;++_e){var Je,rt=Ke,pt=qe+_[G-1];for(Je=0;Je<ve;++Je)_[G+Je]=rt[pt+_[We+Je]];G+=32}}function Su(_,G){ou(_,G,4)}function Bu(_,G){ou(_,G,8)}function Eu(_,G){ou(_,G,16)}function Iu(_,G){var ve;for(ve=0;16>ve;++ve)V(_,G+32*ve,_,G-32,16)}function vd(_,G){var ve;for(ve=16;0<ve;--ve)Z(_,G,_[G-1],16),G+=32}function Pl(_,G,ve){var _e;for(_e=0;16>_e;++_e)Z(G,ve+32*_e,_,16)}function Lh(_,G){var ve,_e=16;for(ve=0;16>ve;++ve)_e+=_[G-1+32*ve]+_[G+ve-32];Pl(_e>>5,_,G)}function Tu(_,G){var ve,_e=8;for(ve=0;16>ve;++ve)_e+=_[G-1+32*ve];Pl(_e>>4,_,G)}function Vd(_,G){var ve,_e=8;for(ve=0;16>ve;++ve)_e+=_[G+ve-32];Pl(_e>>4,_,G)}function Uh(_,G){Pl(128,_,G)}function Na(_,G,ve){return _+2*G+ve+2>>2}function Wc(_,G){var ve,_e=G-32;for(_e=new Uint8Array([Na(_[_e-1],_[_e+0],_[_e+1]),Na(_[_e+0],_[_e+1],_[_e+2]),Na(_[_e+1],_[_e+2],_[_e+3]),Na(_[_e+2],_[_e+3],_[_e+4])]),ve=0;4>ve;++ve)V(_,G+32*ve,_e,0,_e.length)}function fh(_,G){var ve=_[G-1],_e=_[G-1+32],We=_[G-1+64],Ke=_[G-1+96];Yr(_,G+0,16843009*Na(_[G-1-32],ve,_e)),Yr(_,G+32,16843009*Na(ve,_e,We)),Yr(_,G+64,16843009*Na(_e,We,Ke)),Yr(_,G+96,16843009*Na(We,Ke,Ke))}function Tc(_,G){var ve,_e=4;for(ve=0;4>ve;++ve)_e+=_[G+ve-32]+_[G-1+32*ve];for(_e>>=3,ve=0;4>ve;++ve)Z(_,G+32*ve,_e,4)}function jo(_,G){var ve=_[G-1+0],_e=_[G-1+32],We=_[G-1+64],Ke=_[G-1-32],qe=_[G+0-32],Je=_[G+1-32],rt=_[G+2-32],pt=_[G+3-32];_[G+0+96]=Na(_e,We,_[G-1+96]),_[G+1+96]=_[G+0+64]=Na(ve,_e,We),_[G+2+96]=_[G+1+64]=_[G+0+32]=Na(Ke,ve,_e),_[G+3+96]=_[G+2+64]=_[G+1+32]=_[G+0+0]=Na(qe,Ke,ve),_[G+3+64]=_[G+2+32]=_[G+1+0]=Na(Je,qe,Ke),_[G+3+32]=_[G+2+0]=Na(rt,Je,qe),_[G+3+0]=Na(pt,rt,Je)}function Fl(_,G){var ve=_[G+1-32],_e=_[G+2-32],We=_[G+3-32],Ke=_[G+4-32],qe=_[G+5-32],Je=_[G+6-32],rt=_[G+7-32];_[G+0+0]=Na(_[G+0-32],ve,_e),_[G+1+0]=_[G+0+32]=Na(ve,_e,We),_[G+2+0]=_[G+1+32]=_[G+0+64]=Na(_e,We,Ke),_[G+3+0]=_[G+2+32]=_[G+1+64]=_[G+0+96]=Na(We,Ke,qe),_[G+3+32]=_[G+2+64]=_[G+1+96]=Na(Ke,qe,Je),_[G+3+64]=_[G+2+96]=Na(qe,Je,rt),_[G+3+96]=Na(Je,rt,rt)}function ac(_,G){var ve=_[G-1+0],_e=_[G-1+32],We=_[G-1+64],Ke=_[G-1-32],qe=_[G+0-32],Je=_[G+1-32],rt=_[G+2-32],pt=_[G+3-32];_[G+0+0]=_[G+1+64]=Ke+qe+1>>1,_[G+1+0]=_[G+2+64]=qe+Je+1>>1,_[G+2+0]=_[G+3+64]=Je+rt+1>>1,_[G+3+0]=rt+pt+1>>1,_[G+0+96]=Na(We,_e,ve),_[G+0+64]=Na(_e,ve,Ke),_[G+0+32]=_[G+1+96]=Na(ve,Ke,qe),_[G+1+32]=_[G+2+96]=Na(Ke,qe,Je),_[G+2+32]=_[G+3+96]=Na(qe,Je,rt),_[G+3+32]=Na(Je,rt,pt)}function zd(_,G){var ve=_[G+0-32],_e=_[G+1-32],We=_[G+2-32],Ke=_[G+3-32],qe=_[G+4-32],Je=_[G+5-32],rt=_[G+6-32],pt=_[G+7-32];_[G+0+0]=ve+_e+1>>1,_[G+1+0]=_[G+0+64]=_e+We+1>>1,_[G+2+0]=_[G+1+64]=We+Ke+1>>1,_[G+3+0]=_[G+2+64]=Ke+qe+1>>1,_[G+0+32]=Na(ve,_e,We),_[G+1+32]=_[G+0+96]=Na(_e,We,Ke),_[G+2+32]=_[G+1+96]=Na(We,Ke,qe),_[G+3+32]=_[G+2+96]=Na(Ke,qe,Je),_[G+3+64]=Na(qe,Je,rt),_[G+3+96]=Na(Je,rt,pt)}function gl(_,G){var ve=_[G-1+0],_e=_[G-1+32],We=_[G-1+64],Ke=_[G-1+96];_[G+0+0]=ve+_e+1>>1,_[G+2+0]=_[G+0+32]=_e+We+1>>1,_[G+2+32]=_[G+0+64]=We+Ke+1>>1,_[G+1+0]=Na(ve,_e,We),_[G+3+0]=_[G+1+32]=Na(_e,We,Ke),_[G+3+32]=_[G+1+64]=Na(We,Ke,Ke),_[G+3+64]=_[G+2+64]=_[G+0+96]=_[G+1+96]=_[G+2+96]=_[G+3+96]=Ke}function zu(_,G){var ve=_[G-1+0],_e=_[G-1+32],We=_[G-1+64],Ke=_[G-1+96],qe=_[G-1-32],Je=_[G+0-32],rt=_[G+1-32],pt=_[G+2-32];_[G+0+0]=_[G+2+32]=ve+qe+1>>1,_[G+0+32]=_[G+2+64]=_e+ve+1>>1,_[G+0+64]=_[G+2+96]=We+_e+1>>1,_[G+0+96]=Ke+We+1>>1,_[G+3+0]=Na(Je,rt,pt),_[G+2+0]=Na(qe,Je,rt),_[G+1+0]=_[G+3+32]=Na(ve,qe,Je),_[G+1+32]=_[G+3+64]=Na(_e,ve,qe),_[G+1+64]=_[G+3+96]=Na(We,_e,ve),_[G+1+96]=Na(Ke,We,_e)}function qo(_,G){var ve;for(ve=0;8>ve;++ve)V(_,G+32*ve,_,G-32,8)}function _u(_,G){var ve;for(ve=0;8>ve;++ve)Z(_,G,_[G-1],8),G+=32}function vl(_,G,ve){var _e;for(_e=0;8>_e;++_e)Z(G,ve+32*_e,_,8)}function xd(_,G){var ve,_e=8;for(ve=0;8>ve;++ve)_e+=_[G+ve-32]+_[G-1+32*ve];vl(_e>>4,_,G)}function _c(_,G){var ve,_e=4;for(ve=0;8>ve;++ve)_e+=_[G+ve-32];vl(_e>>3,_,G)}function ic(_,G){var ve,_e=4;for(ve=0;8>ve;++ve)_e+=_[G-1+32*ve];vl(_e>>3,_,G)}function Dl(_,G){vl(128,_,G)}function di(_,G,ve){var _e=_[G-ve],We=_[G+0],Ke=3*(We-_e)+Gc[1020+_[G-2*ve]-_[G+ve]],qe=Rl[112+(Ke+4>>3)];_[G-ve]=ll[255+_e+Rl[112+(Ke+3>>3)]],_[G+0]=ll[255+We-qe]}function Oi(_,G,ve,_e){var We=_[G+0],Ke=_[G+ve];return uc[255+_[G-2*ve]-_[G-ve]]>_e||uc[255+Ke-We]>_e}function Ml(_,G,ve,_e){return 4*uc[255+_[G-ve]-_[G+0]]+uc[255+_[G-2*ve]-_[G+ve]]<=_e}function js(_,G,ve,_e,We){var Ke=_[G-3*ve],qe=_[G-2*ve],Je=_[G-ve],rt=_[G+0],pt=_[G+ve],Dt=_[G+2*ve],rr=_[G+3*ve];return 4*uc[255+Je-rt]+uc[255+qe-pt]>_e?0:uc[255+_[G-4*ve]-Ke]<=We&&uc[255+Ke-qe]<=We&&uc[255+qe-Je]<=We&&uc[255+rr-Dt]<=We&&uc[255+Dt-pt]<=We&&uc[255+pt-rt]<=We}function Ms(_,G,ve,_e){var We=2*_e+1;for(_e=0;16>_e;++_e)Ml(_,G+_e,ve,We)&&di(_,G+_e,ve)}function Oc(_,G,ve,_e){var We=2*_e+1;for(_e=0;16>_e;++_e)Ml(_,G+_e*ve,1,We)&&di(_,G+_e*ve,1)}function lu(_,G,ve,_e){var We;for(We=3;0<We;--We)Ms(_,G+=4*ve,ve,_e)}function Mo(_,G,ve,_e){var We;for(We=3;0<We;--We)Oc(_,G+=4,ve,_e)}function sc(_,G,ve,_e,We,Ke,qe,Je){for(Ke=2*Ke+1;0<We--;){if(js(_,G,ve,Ke,qe))if(Oi(_,G,ve,Je))di(_,G,ve);else{var rt=_,pt=G,Dt=ve,rr=rt[pt-2*Dt],At=rt[pt-Dt],Rt=rt[pt+0],Yt=rt[pt+Dt],jr=rt[pt+2*Dt],ar=27*(Tr=Gc[1020+3*(Rt-At)+Gc[1020+rr-Yt]])+63>>7,Nr=18*Tr+63>>7,Tr=9*Tr+63>>7;rt[pt-3*Dt]=ll[255+rt[pt-3*Dt]+Tr],rt[pt-2*Dt]=ll[255+rr+Nr],rt[pt-Dt]=ll[255+At+ar],rt[pt+0]=ll[255+Rt-ar],rt[pt+Dt]=ll[255+Yt-Nr],rt[pt+2*Dt]=ll[255+jr-Tr]}G+=_e}}function $c(_,G,ve,_e,We,Ke,qe,Je){for(Ke=2*Ke+1;0<We--;){if(js(_,G,ve,Ke,qe))if(Oi(_,G,ve,Je))di(_,G,ve);else{var rt=_,pt=G,Dt=ve,rr=rt[pt-Dt],At=rt[pt+0],Rt=rt[pt+Dt],Yt=Rl[112+(4+(jr=3*(At-rr))>>3)],jr=Rl[112+(jr+3>>3)],ar=Yt+1>>1;rt[pt-2*Dt]=ll[255+rt[pt-2*Dt]+ar],rt[pt-Dt]=ll[255+rr+jr],rt[pt+0]=ll[255+At-Yt],rt[pt+Dt]=ll[255+Rt-ar]}G+=_e}}function Kd(_,G,ve,_e,We,Ke){sc(_,G,ve,1,16,_e,We,Ke)}function Vc(_,G,ve,_e,We,Ke){sc(_,G,1,ve,16,_e,We,Ke)}function Gd(_,G,ve,_e,We,Ke){var qe;for(qe=3;0<qe;--qe)$c(_,G+=4*ve,ve,1,16,_e,We,Ke)}function de(_,G,ve,_e,We,Ke){var qe;for(qe=3;0<qe;--qe)$c(_,G+=4,1,ve,16,_e,We,Ke)}function Qe(_,G,ve,_e,We,Ke,qe,Je){sc(_,G,We,1,8,Ke,qe,Je),sc(ve,_e,We,1,8,Ke,qe,Je)}function gt(_,G,ve,_e,We,Ke,qe,Je){sc(_,G,1,We,8,Ke,qe,Je),sc(ve,_e,1,We,8,Ke,qe,Je)}function _t(_,G,ve,_e,We,Ke,qe,Je){$c(_,G+4*We,We,1,8,Ke,qe,Je),$c(ve,_e+4*We,We,1,8,Ke,qe,Je)}function qt(_,G,ve,_e,We,Ke,qe,Je){$c(_,G+4,1,We,8,Ke,qe,Je),$c(ve,_e+4,1,We,8,Ke,qe,Je)}function br(){this.ba=new Ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ei,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function In(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Un(){this.ua=0,this.Wa=new va,this.vb=new va,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ur,this.yc=new Et}function fa(){this.xb=this.a=0,this.l=new $u,this.ca=new Ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new xt,this.Pb=0,this.wd=new xt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Un,this.ab=0,this.gc=Se(4,In),this.Oc=0}function na(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $u,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pa(_,G,ve,_e,We,Ke,qe){for(_=_==null?0:_[G+0],G=0;G<qe;++G)We[Ke+G]=_+ve[_e+G]&255,_=We[Ke+G]}function Mi(_,G,ve,_e,We,Ke,qe){var Je;if(_==null)Pa(null,null,ve,_e,We,Ke,qe);else for(Je=0;Je<qe;++Je)We[Ke+Je]=_[G+Je]+ve[_e+Je]&255}function Li(_,G,ve,_e,We,Ke,qe){if(_==null)Pa(null,null,ve,_e,We,Ke,qe);else{var Je,rt=_[G+0],pt=rt,Dt=rt;for(Je=0;Je<qe;++Je)pt=Dt+(rt=_[G+Je])-pt,Dt=ve[_e+Je]+(-256&pt?0>pt?0:255:pt)&255,pt=rt,We[Ke+Je]=Dt}}function Ai(_,G,ve,_e){var We=G.width,Ke=G.o;if(B(_!=null&&G!=null),0>ve||0>=_e||ve+_e>Ke)return null;if(!_.Cc){if(_.ga==null){var qe;if(_.ga=new na,(qe=_.ga==null)||(qe=G.width*G.o,B(_.Gb.length==0),_.Gb=ne(qe),_.Uc=0,_.Gb==null?qe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,qe=1),qe=!qe),!qe){qe=_.ga;var Je=_.Fa,rt=_.P,pt=_.qc,Dt=_.mb,rr=_.nb,At=rt+1,Rt=pt-1,Yt=qe.l;if(B(Je!=null&&Dt!=null&&G!=null),Uo[0]=null,Uo[1]=Pa,Uo[2]=Mi,Uo[3]=Li,qe.ca=Dt,qe.tb=rr,qe.c=G.width,qe.i=G.height,B(0<qe.c&&0<qe.i),1>=pt)G=0;else if(qe.$a=3&Je[rt+0],qe.Z=Je[rt+0]>>2&3,qe.Lc=Je[rt+0]>>4&3,rt=Je[rt+0]>>6&3,0>qe.$a||1<qe.$a||4<=qe.Z||1<qe.Lc||rt)G=0;else if(Yt.put=Aa,Yt.ac=Sc,Yt.bc=ws,Yt.ma=qe,Yt.width=G.width,Yt.height=G.height,Yt.Da=G.Da,Yt.v=G.v,Yt.va=G.va,Yt.j=G.j,Yt.o=G.o,qe.$a)e:{B(qe.$a==1),G=Tl();t:for(;;){if(G==null){G=0;break e}if(B(qe!=null),qe.mc=G,G.c=qe.c,G.i=qe.i,G.l=qe.l,G.l.ma=qe,G.l.width=qe.c,G.l.height=qe.i,G.a=0,vr(G.m,Je,At,Rt),!zo(qe.c,qe.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&nl(G.s)?(qe.ic=1,Je=G.c*G.i,G.Ta=null,G.Ua=0,G.V=ne(Je),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(qe.ic=0,G=Do(G,qe.c)),!G))break t;G=1;break e}qe.mc=null,G=0}else G=Rt>=qe.c*qe.i;qe=!G}if(qe)return null;_.ga.Lc!=1?_.Ga=0:_e=Ke-ve}B(_.ga!=null),B(ve+_e<=Ke);e:{if(G=(Je=_.ga).c,Ke=Je.l.o,Je.$a==0){if(At=_.rc,Rt=_.Vc,Yt=_.Fa,rt=_.P+1+ve*G,pt=_.mb,Dt=_.nb+ve*G,B(rt<=_.P+_.qc),Je.Z!=0)for(B(Uo[Je.Z]!=null),qe=0;qe<_e;++qe)Uo[Je.Z](At,Rt,Yt,rt,pt,Dt,G),At=pt,Rt=Dt,Dt+=G,rt+=G;else for(qe=0;qe<_e;++qe)V(pt,Dt,Yt,rt,G),At=pt,Rt=Dt,Dt+=G,rt+=G;_.rc=At,_.Vc=Rt}else{if(B(Je.mc!=null),G=ve+_e,B((qe=Je.mc)!=null),B(G<=qe.i),qe.C>=G)G=1;else if(Je.ic||Xe(),Je.ic){Je=qe.V,At=qe.Ba,Rt=qe.c;var jr=qe.i,ar=(Yt=1,rt=qe.$/Rt,pt=qe.$%Rt,Dt=qe.m,rr=qe.s,qe.$),Nr=Rt*jr,Tr=Rt*G,Rr=rr.wc,Or=ar<Tr?co(rr,pt,rt):null;B(ar<=Nr),B(G<=jr),B(nl(rr));t:for(;;){for(;!Dt.h&&ar<Tr;){if(pt&Rr||(Or=co(rr,pt,rt)),B(Or!=null),nr(Dt),256>(jr=Di(Or.G[0],Or.H[0],Dt)))Je[At+ar]=jr,++ar,++pt>=Rt&&(pt=0,++rt<=G&&!(rt%16)&&ec(qe,rt));else{if(!(280>jr)){Yt=0;break t}jr=Il(jr-256,Dt);var ea,Pn=Di(Or.G[4],Or.H[4],Dt);if(nr(Dt),!(ar>=(Pn=Ds(Rt,Pn=Il(Pn,Dt)))&&Nr-ar>=jr)){Yt=0;break t}for(ea=0;ea<jr;++ea)Je[At+ar+ea]=Je[At+ar+ea-Pn];for(ar+=jr,pt+=jr;pt>=Rt;)pt-=Rt,++rt<=G&&!(rt%16)&&ec(qe,rt);ar<Tr&&pt&Rr&&(Or=co(rr,pt,rt))}B(Dt.h==Wt(Dt))}ec(qe,rt>G?G:rt);break t}!Yt||Dt.h&&ar<Nr?(Yt=0,qe.a=Dt.h?5:3):qe.$=ar,G=Yt}else G=Js(qe,qe.V,qe.Ba,qe.c,qe.i,G,tc);if(!G){_e=0;break e}}ve+_e>=Ke&&(_.Cc=1),_e=1}if(!_e)return null;if(_.Cc&&((_e=_.ga)!=null&&(_e.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+ve*We}function us(_,G,ve,_e,We,Ke){for(;0<We--;){var qe,Je=_,rt=G+(ve?1:0),pt=_,Dt=G+(ve?0:3);for(qe=0;qe<_e;++qe){var rr=pt[Dt+4*qe];rr!=255&&(rr*=32897,Je[rt+4*qe+0]=Je[rt+4*qe+0]*rr>>23,Je[rt+4*qe+1]=Je[rt+4*qe+1]*rr>>23,Je[rt+4*qe+2]=Je[rt+4*qe+2]*rr>>23)}G+=Ke}}function T(_,G,ve,_e,We){for(;0<_e--;){var Ke;for(Ke=0;Ke<ve;++Ke){var qe=_[G+2*Ke+0],Je=15&(pt=_[G+2*Ke+1]),rt=4369*Je,pt=(240&pt|pt>>4)*rt>>16;_[G+2*Ke+0]=(240&qe|qe>>4)*rt>>16&240|(15&qe|qe<<4)*rt>>16>>4&15,_[G+2*Ke+1]=240&pt|Je}G+=We}}function Ue(_,G,ve,_e,We,Ke,qe,Je){var rt,pt,Dt=255;for(pt=0;pt<We;++pt){for(rt=0;rt<_e;++rt){var rr=_[G+rt];Ke[qe+4*rt]=rr,Dt&=rr}G+=ve,qe+=Je}return Dt!=255}function ee(_,G,ve,_e,We){var Ke;for(Ke=0;Ke<We;++Ke)ve[_e+Ke]=_[G+Ke]>>8}function Xe(){eo=us,$h=T,sl=Ue,wd=ee}function ht(_,G,ve){Tt[_]=function(_e,We,Ke,qe,Je,rt,pt,Dt,rr,At,Rt,Yt,jr,ar,Nr,Tr,Rr){var Or,ea=Rr-1>>1,Pn=Je[rt+0]|pt[Dt+0]<<16,za=rr[At+0]|Rt[Yt+0]<<16;B(_e!=null);var yn=3*Pn+za+131074>>2;for(G(_e[We+0],255&yn,yn>>16,jr,ar),Ke!=null&&(yn=3*za+Pn+131074>>2,G(Ke[qe+0],255&yn,yn>>16,Nr,Tr)),Or=1;Or<=ea;++Or){var wi=Je[rt+Or]|pt[Dt+Or]<<16,ln=rr[At+Or]|Rt[Yt+Or]<<16,La=Pn+wi+za+ln+524296,Qn=La+2*(wi+za)>>3;yn=Qn+Pn>>1,Pn=(La=La+2*(Pn+ln)>>3)+wi>>1,G(_e[We+2*Or-1],255&yn,yn>>16,jr,ar+(2*Or-1)*ve),G(_e[We+2*Or-0],255&Pn,Pn>>16,jr,ar+(2*Or-0)*ve),Ke!=null&&(yn=La+za>>1,Pn=Qn+ln>>1,G(Ke[qe+2*Or-1],255&yn,yn>>16,Nr,Tr+(2*Or-1)*ve),G(Ke[qe+2*Or+0],255&Pn,Pn>>16,Nr,Tr+(2*Or+0)*ve)),Pn=wi,za=ln}1&Rr||(yn=3*Pn+za+131074>>2,G(_e[We+Rr-1],255&yn,yn>>16,jr,ar+(Rr-1)*ve),Ke!=null&&(yn=3*za+Pn+131074>>2,G(Ke[qe+Rr-1],255&yn,yn>>16,Nr,Tr+(Rr-1)*ve)))}}function ot(){dc[Xd]=Zd,dc[Vh]=_A,dc[zh]=wf,dc[gh]=jf,dc[Ao]=OA,dc[jd]=Cd,dc[mf]=Nd,dc[SA]=_A,dc[Kh]=jf,dc[Ou]=OA,dc[BA]=Cd}function er(_){return _&-16384?0>_?0:255:_>>Bp}function $t(_,G){return er((19077*_>>8)+(26149*G>>8)-14234)}function Sn(_,G,ve){return er((19077*_>>8)-(6419*G>>8)-(13320*ve>>8)+8708)}function Pt(_,G){return er((19077*_>>8)+(33050*G>>8)-17685)}function ir(_,G,ve,_e,We){_e[We+0]=$t(_,ve),_e[We+1]=Sn(_,G,ve),_e[We+2]=Pt(_,G)}function ya(_,G,ve,_e,We){_e[We+0]=Pt(_,G),_e[We+1]=Sn(_,G,ve),_e[We+2]=$t(_,ve)}function fn(_,G,ve,_e,We){var Ke=Sn(_,G,ve);G=Ke<<3&224|Pt(_,G)>>3,_e[We+0]=248&$t(_,ve)|Ke>>5,_e[We+1]=G}function Mr(_,G,ve,_e,We){var Ke=240&Pt(_,G)|15;_e[We+0]=240&$t(_,ve)|Sn(_,G,ve)>>4,_e[We+1]=Ke}function wr(_,G,ve,_e,We){_e[We+0]=255,ir(_,G,ve,_e,We+1)}function Ui(_,G,ve,_e,We){ya(_,G,ve,_e,We),_e[We+3]=255}function wa(_,G,ve,_e,We){ir(_,G,ve,_e,We),_e[We+3]=255}function aa(_,G,ve){Tt[_]=function(_e,We,Ke,qe,Je,rt,pt,Dt,rr){for(var At=Dt+(-2&rr)*ve;Dt!=At;)G(_e[We+0],Ke[qe+0],Je[rt+0],pt,Dt),G(_e[We+1],Ke[qe+0],Je[rt+0],pt,Dt+ve),We+=2,++qe,++rt,Dt+=2*ve;1&rr&&G(_e[We+0],Ke[qe+0],Je[rt+0],pt,Dt)}}function Sa(_,G,ve){return ve==0?_==0?G==0?6:5:G==0?4:0:ve}function ti(_,G,ve,_e,We){switch(_>>>30){case 3:xl(G,ve,_e,We,0);break;case 2:Lo(G,ve,_e,We);break;case 1:hi(G,ve,_e,We)}}function an(_,G){var ve,_e,We=G.M,Ke=G.Nb,qe=_.oc,Je=_.pc+40,rt=_.oc,pt=_.pc+584,Dt=_.oc,rr=_.pc+600;for(ve=0;16>ve;++ve)qe[Je+32*ve-1]=129;for(ve=0;8>ve;++ve)rt[pt+32*ve-1]=129,Dt[rr+32*ve-1]=129;for(0<We?qe[Je-1-32]=rt[pt-1-32]=Dt[rr-1-32]=129:(Z(qe,Je-32-1,127,21),Z(rt,pt-32-1,127,9),Z(Dt,rr-32-1,127,9)),_e=0;_e<_.za;++_e){var At=G.ya[G.aa+_e];if(0<_e){for(ve=-1;16>ve;++ve)V(qe,Je+32*ve-4,qe,Je+32*ve+12,4);for(ve=-1;8>ve;++ve)V(rt,pt+32*ve-4,rt,pt+32*ve+4,4),V(Dt,rr+32*ve-4,Dt,rr+32*ve+4,4)}var Rt=_.Gd,Yt=_.Hd+_e,jr=At.ad,ar=At.Hc;if(0<We&&(V(qe,Je-32,Rt[Yt].y,0,16),V(rt,pt-32,Rt[Yt].f,0,8),V(Dt,rr-32,Rt[Yt].ea,0,8)),At.Za){var Nr=qe,Tr=Je-32+16;for(0<We&&(_e>=_.za-1?Z(Nr,Tr,Rt[Yt].y[15],4):V(Nr,Tr,Rt[Yt+1].y,0,4)),ve=0;4>ve;ve++)Nr[Tr+128+ve]=Nr[Tr+256+ve]=Nr[Tr+384+ve]=Nr[Tr+0+ve];for(ve=0;16>ve;++ve,ar<<=2)Nr=qe,Tr=Je+FA[ve],Ll[At.Ob[ve]](Nr,Tr),ti(ar,jr,16*+ve,Nr,Tr)}else if(Nr=Sa(_e,We,At.Ob[0]),qu[Nr](qe,Je),ar!=0)for(ve=0;16>ve;++ve,ar<<=2)ti(ar,jr,16*+ve,qe,Je+FA[ve]);for(ve=At.Gc,Nr=Sa(_e,We,At.Dd),hu[Nr](rt,pt),hu[Nr](Dt,rr),ar=jr,Nr=rt,Tr=pt,255&(At=0|ve)&&(170&At?cc(ar,256,Nr,Tr):Hi(ar,256,Nr,Tr)),At=Dt,ar=rr,255&(ve>>=8)&&(170&ve?cc(jr,320,At,ar):Hi(jr,320,At,ar)),We<_.Ub-1&&(V(Rt[Yt].y,0,qe,Je+480,16),V(Rt[Yt].f,0,rt,pt+224,8),V(Rt[Yt].ea,0,Dt,rr+224,8)),ve=8*Ke*_.B,Rt=_.sa,Yt=_.ta+16*_e+16*Ke*_.R,jr=_.qa,At=_.ra+8*_e+ve,ar=_.Ha,Nr=_.Ia+8*_e+ve,ve=0;16>ve;++ve)V(Rt,Yt+ve*_.R,qe,Je+32*ve,16);for(ve=0;8>ve;++ve)V(jr,At+ve*_.B,rt,pt+32*ve,8),V(ar,Nr+ve*_.B,Dt,rr+32*ve,8)}}function Ta(_,G,ve,_e,We,Ke,qe,Je,rt){var pt=[0],Dt=[0],rr=0,At=rt!=null?rt.kd:0,Rt=rt??new Fr;if(_==null||12>ve)return 7;Rt.data=_,Rt.w=G,Rt.ha=ve,G=[G],ve=[ve],Rt.gb=[Rt.gb];e:{var Yt=G,jr=ve,ar=Rt.gb;if(B(_!=null),B(jr!=null),B(ar!=null),ar[0]=0,12<=jr[0]&&!D(_,Yt[0],"RIFF")){if(D(_,Yt[0]+8,"WEBP")){ar=3;break e}var Nr=ca(_,Yt[0]+4);if(12>Nr||4294967286<Nr){ar=3;break e}if(At&&Nr>jr[0]-8){ar=7;break e}ar[0]=Nr,Yt[0]+=12,jr[0]-=12}ar=0}if(ar!=0)return ar;for(Nr=0<Rt.gb[0],ve=ve[0];;){e:{var Tr=_;jr=G,ar=ve;var Rr=pt,Or=Dt,ea=Yt=[0];if((yn=rr=[rr])[0]=0,8>ar[0])ar=7;else{if(!D(Tr,jr[0],"VP8X")){if(ca(Tr,jr[0]+4)!=10){ar=3;break e}if(18>ar[0]){ar=7;break e}var Pn=ca(Tr,jr[0]+8),za=1+Bn(Tr,jr[0]+12);if(2147483648<=za*(Tr=1+Bn(Tr,jr[0]+15))){ar=3;break e}ea!=null&&(ea[0]=Pn),Rr!=null&&(Rr[0]=za),Or!=null&&(Or[0]=Tr),jr[0]+=18,ar[0]-=18,yn[0]=1}ar=0}}if(rr=rr[0],Yt=Yt[0],ar!=0)return ar;if(jr=!!(2&Yt),!Nr&&rr)return 3;if(Ke!=null&&(Ke[0]=!!(16&Yt)),qe!=null&&(qe[0]=jr),Je!=null&&(Je[0]=0),qe=pt[0],Yt=Dt[0],rr&&jr&&rt==null){ar=0;break}if(4>ve){ar=7;break}if(Nr&&rr||!Nr&&!rr&&!D(_,G[0],"ALPH")){ve=[ve],Rt.na=[Rt.na],Rt.P=[Rt.P],Rt.Sa=[Rt.Sa];e:{Pn=_,ar=G,Nr=ve;var yn=Rt.gb;Rr=Rt.na,Or=Rt.P,ea=Rt.Sa,za=22,B(Pn!=null),B(Nr!=null),Tr=ar[0];var wi=Nr[0];for(B(Rr!=null),B(ea!=null),Rr[0]=null,Or[0]=null,ea[0]=0;;){if(ar[0]=Tr,Nr[0]=wi,8>wi){ar=7;break e}var ln=ca(Pn,Tr+4);if(4294967286<ln){ar=3;break e}var La=8+ln+1&-2;if(za+=La,0<yn&&za>yn){ar=3;break e}if(!D(Pn,Tr,"VP8 ")||!D(Pn,Tr,"VP8L")){ar=0;break e}if(wi[0]<La){ar=7;break e}D(Pn,Tr,"ALPH")||(Rr[0]=Pn,Or[0]=Tr+8,ea[0]=ln),Tr+=La,wi-=La}}if(ve=ve[0],Rt.na=Rt.na[0],Rt.P=Rt.P[0],Rt.Sa=Rt.Sa[0],ar!=0)break}ve=[ve],Rt.Ja=[Rt.Ja],Rt.xa=[Rt.xa];e:if(yn=_,ar=G,Nr=ve,Rr=Rt.gb[0],Or=Rt.Ja,ea=Rt.xa,Pn=ar[0],Tr=!D(yn,Pn,"VP8 "),za=!D(yn,Pn,"VP8L"),B(yn!=null),B(Nr!=null),B(Or!=null),B(ea!=null),8>Nr[0])ar=7;else{if(Tr||za){if(yn=ca(yn,Pn+4),12<=Rr&&yn>Rr-12){ar=3;break e}if(At&&yn>Nr[0]-8){ar=7;break e}Or[0]=yn,ar[0]+=8,Nr[0]-=8,ea[0]=za}else ea[0]=5<=Nr[0]&&yn[Pn+0]==47&&!(yn[Pn+4]>>5),Or[0]=Nr[0];ar=0}if(ve=ve[0],Rt.Ja=Rt.Ja[0],Rt.xa=Rt.xa[0],G=G[0],ar!=0)break;if(4294967286<Rt.Ja)return 3;if(Je==null||jr||(Je[0]=Rt.xa?2:1),qe=[qe],Yt=[Yt],Rt.xa){if(5>ve){ar=7;break}Je=qe,At=Yt,jr=Ke,_==null||5>ve?_=0:5<=ve&&_[G+0]==47&&!(_[G+4]>>5)?(Nr=[0],yn=[0],Rr=[0],vr(Or=new xt,_,G,ve),wo(Or,Nr,yn,Rr)?(Je!=null&&(Je[0]=Nr[0]),At!=null&&(At[0]=yn[0]),jr!=null&&(jr[0]=Rr[0]),_=1):_=0):_=0}else{if(10>ve){ar=7;break}Je=Yt,_==null||10>ve||!fd(_,G+3,ve-3)?_=0:(At=_[G+0]|_[G+1]<<8|_[G+2]<<16,jr=16383&(_[G+7]<<8|_[G+6]),_=16383&(_[G+9]<<8|_[G+8]),1&At||3<(At>>1&7)||!(At>>4&1)||At>>5>=Rt.Ja||!jr||!_?_=0:(qe&&(qe[0]=jr),Je&&(Je[0]=_),_=1))}if(!_||(qe=qe[0],Yt=Yt[0],rr&&(pt[0]!=qe||Dt[0]!=Yt)))return 3;rt!=null&&(rt[0]=Rt,rt.offset=G-rt.w,B(4294967286>G-rt.w),B(rt.offset==rt.ha-ve));break}return ar==0||ar==7&&rr&&rt==null?(Ke!=null&&(Ke[0]|=Rt.na!=null&&0<Rt.na.length),_e!=null&&(_e[0]=qe),We!=null&&(We[0]=Yt),0):ar}function rs(_,G,ve){var _e=G.width,We=G.height,Ke=0,qe=0,Je=_e,rt=We;if(G.Da=_!=null&&0<_.Da,G.Da&&(Je=_.cd,rt=_.bd,Ke=_.v,qe=_.j,11>ve||(Ke&=-2,qe&=-2),0>Ke||0>qe||0>=Je||0>=rt||Ke+Je>_e||qe+rt>We))return 0;if(G.v=Ke,G.j=qe,G.va=Ke+Je,G.o=qe+rt,G.U=Je,G.T=rt,G.da=_!=null&&0<_.da,G.da){if(!dn(Je,rt,ve=[_.ib],Ke=[_.hb]))return 0;G.ib=ve[0],G.hb=Ke[0]}return G.ob=_!=null&&_.ob,G.Kb=_==null||!_.Sd,G.da&&(G.ob=G.ib<3*_e/4&&G.hb<3*We/4,G.Kb=0),1}function Jn(_){if(_==null)return 2;if(11>_.S){var G=_.f.RGBA;G.fb+=(_.height-1)*G.A,G.A=-G.A}else G=_.f.kb,_=_.height,G.O+=(_-1)*G.fa,G.fa=-G.fa,G.N+=(_-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(_-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(_-1)*G.lb,G.lb=-G.lb);return 0}function li(_,G,ve,_e){if(_e==null||0>=_||0>=G)return 2;if(ve!=null){if(ve.Da){var We=ve.cd,Ke=ve.bd,qe=-2&ve.v,Je=-2&ve.j;if(0>qe||0>Je||0>=We||0>=Ke||qe+We>_||Je+Ke>G)return 2;_=We,G=Ke}if(ve.da){if(!dn(_,G,We=[ve.ib],Ke=[ve.hb]))return 2;_=We[0],G=Ke[0]}}_e.width=_,_e.height=G;e:{var rt=_e.width,pt=_e.height;if(_=_e.S,0>=rt||0>=pt||!(_>=Xd&&13>_))_=2;else{if(0>=_e.Rd&&_e.sd==null){qe=Ke=We=G=0;var Dt=(Je=rt*DA[_])*pt;if(11>_||(Ke=(pt+1)/2*(G=(rt+1)/2),_==12&&(qe=(We=rt)*pt)),(pt=ne(Dt+2*Ke+qe))==null){_=1;break e}_e.sd=pt,11>_?((rt=_e.f.RGBA).eb=pt,rt.fb=0,rt.A=Je,rt.size=Dt):((rt=_e.f.kb).y=pt,rt.O=0,rt.fa=Je,rt.Fd=Dt,rt.f=pt,rt.N=0+Dt,rt.Ab=G,rt.Cd=Ke,rt.ea=pt,rt.W=0+Dt+Ke,rt.Db=G,rt.Ed=Ke,_==12&&(rt.F=pt,rt.J=0+Dt+2*Ke),rt.Tc=qe,rt.lb=We)}if(G=1,We=_e.S,Ke=_e.width,qe=_e.height,We>=Xd&&13>We)if(11>We)_=_e.f.RGBA,G&=(Je=Math.abs(_.A))*(qe-1)+Ke<=_.size,G&=Je>=Ke*DA[We],G&=_.eb!=null;else{_=_e.f.kb,Je=(Ke+1)/2,Dt=(qe+1)/2,rt=Math.abs(_.fa),pt=Math.abs(_.Ab);var rr=Math.abs(_.Db),At=Math.abs(_.lb),Rt=At*(qe-1)+Ke;G&=rt*(qe-1)+Ke<=_.Fd,G&=pt*(Dt-1)+Je<=_.Cd,G=(G&=rr*(Dt-1)+Je<=_.Ed)&rt>=Ke&pt>=Je&rr>=Je,G&=_.y!=null,G&=_.f!=null,G&=_.ea!=null,We==12&&(G&=At>=Ke,G&=Rt<=_.Tc,G&=_.F!=null)}else G=0;_=G?0:2}}return _!=0||ve!=null&&ve.fd&&(_=Jn(_e)),_}var Fa=64,Hn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Co=32,oc=8,Ro=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dn("Predictor0","PredictorAdd0"),Tt.Predictor0=function(){return 4278190080},Tt.Predictor1=function(_){return _},Tt.Predictor2=function(_,G,ve){return G[ve+0]},Tt.Predictor3=function(_,G,ve){return G[ve+1]},Tt.Predictor4=function(_,G,ve){return G[ve-1]},Tt.Predictor5=function(_,G,ve){return Mn(Mn(_,G[ve+1]),G[ve+0])},Tt.Predictor6=function(_,G,ve){return Mn(_,G[ve-1])},Tt.Predictor7=function(_,G,ve){return Mn(_,G[ve+0])},Tt.Predictor8=function(_,G,ve){return Mn(G[ve-1],G[ve+0])},Tt.Predictor9=function(_,G,ve){return Mn(G[ve+0],G[ve+1])},Tt.Predictor10=function(_,G,ve){return Mn(Mn(_,G[ve-1]),Mn(G[ve+0],G[ve+1]))},Tt.Predictor11=function(_,G,ve){var _e=G[ve+0];return 0>=Fn(_e>>24&255,_>>24&255,(G=G[ve-1])>>24&255)+Fn(_e>>16&255,_>>16&255,G>>16&255)+Fn(_e>>8&255,_>>8&255,G>>8&255)+Fn(255&_e,255&_,255&G)?_e:_},Tt.Predictor12=function(_,G,ve){var _e=G[ve+0];return(pi((_>>24&255)+(_e>>24&255)-((G=G[ve-1])>>24&255))<<24|pi((_>>16&255)+(_e>>16&255)-(G>>16&255))<<16|pi((_>>8&255)+(_e>>8&255)-(G>>8&255))<<8|pi((255&_)+(255&_e)-(255&G)))>>>0},Tt.Predictor13=function(_,G,ve){var _e=G[ve-1];return(Ha((_=Mn(_,G[ve+0]))>>24&255,_e>>24&255)<<24|Ha(_>>16&255,_e>>16&255)<<16|Ha(_>>8&255,_e>>8&255)<<8|Ha(255&_,255&_e))>>>0};var uo=Tt.PredictorAdd0;Tt.PredictorAdd1=oi,Dn("Predictor2","PredictorAdd2"),Dn("Predictor3","PredictorAdd3"),Dn("Predictor4","PredictorAdd4"),Dn("Predictor5","PredictorAdd5"),Dn("Predictor6","PredictorAdd6"),Dn("Predictor7","PredictorAdd7"),Dn("Predictor8","PredictorAdd8"),Dn("Predictor9","PredictorAdd9"),Dn("Predictor10","PredictorAdd10"),Dn("Predictor11","PredictorAdd11"),Dn("Predictor12","PredictorAdd12"),Dn("Predictor13","PredictorAdd13");var lc=Tt.PredictorAdd2;kn("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),kn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Vs,Hh=Tt.ColorIndexInverseTransform,Xo=Tt.MapARGB,il=Tt.VP8LColorIndexInverseTransformAlpha,qd=Tt.MapAlpha,ph=Tt.VP8LPredictorsAdd=[];ph.length=16,(Tt.VP8LPredictors=[]).length=16,(Tt.VP8LPredictorsAdd_C=[]).length=16,(Tt.VP8LPredictors_C=[]).length=16;var kc,zc,Kc,Ku,cu,yd,Pc,xl,Lo,cc,hi,Hi,ds,ho,uu,ns,du,bd,Qh,mh,Wh,Gu,Cs,No,eo,$h,sl,wd,wp=ne(511),ol=ne(2041),jA=ne(225),CA=ne(767),NA=0,Gc=ol,Rl=jA,ll=CA,uc=wp,Xd=0,Vh=1,zh=2,gh=3,Ao=4,jd=5,mf=6,SA=7,Kh=8,Ou=9,BA=10,EA=[2,3,7],IA=[3,3,11],gf=[280,256,256,256,40],vf=[0,1,1,1,0],jp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Np=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xf=8,vh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yd=null,TA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qu=[],Ll=[],hu=[],Sp=1,bf=2,Uo=[],dc=[];ht("UpsampleRgbLinePair",ir,3),ht("UpsampleBgrLinePair",ya,3),ht("UpsampleRgbaLinePair",wa,4),ht("UpsampleBgraLinePair",Ui,4),ht("UpsampleArgbLinePair",wr,4),ht("UpsampleRgba4444LinePair",Mr,2),ht("UpsampleRgb565LinePair",fn,2);var Zd=Tt.UpsampleRgbLinePair,wf=Tt.UpsampleBgrLinePair,_A=Tt.UpsampleRgbaLinePair,jf=Tt.UpsampleBgraLinePair,OA=Tt.UpsampleArgbLinePair,Cd=Tt.UpsampleRgba4444LinePair,Nd=Tt.UpsampleRgb565LinePair,Sd=16,Jd=1<<Sd-1,xh=-227,kA=482,Bp=6,Cf=0,Nf=ne(256),Sf=ne(256),Ul=ne(256),yl=ne(256),PA=ne(kA-xh),Bf=ne(kA-xh);aa("YuvToRgbRow",ir,3),aa("YuvToBgrRow",ya,3),aa("YuvToRgbaRow",wa,4),aa("YuvToBgraRow",Ui,4),aa("YuvToArgbRow",wr,4),aa("YuvToRgba4444Row",Mr,2),aa("YuvToRgb565Row",fn,2);var FA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yh=[0,2,8],Zh=[8,7,6,4,4,2,2,2,1,1,1,1],yh=1;this.WebPDecodeRGBA=function(_,G,ve,_e,We){var Ke=Vh,qe=new br,Je=new Ca;qe.ba=Je,Je.S=Ke,Je.width=[Je.width],Je.height=[Je.height];var rt=Je.width,pt=Je.height,Dt=new En;if(Dt==null||_==null)var rr=2;else B(Dt!=null),rr=Ta(_,G,ve,Dt.width,Dt.height,Dt.Pd,Dt.Qd,Dt.format,null);if(rr!=0?rt=0:(rt!=null&&(rt[0]=Dt.width[0]),pt!=null&&(pt[0]=Dt.height[0]),rt=1),rt){Je.width=Je.width[0],Je.height=Je.height[0],_e!=null&&(_e[0]=Je.width),We!=null&&(We[0]=Je.height);e:{if(_e=new $u,(We=new Fr).data=_,We.w=G,We.ha=ve,We.kd=1,G=[0],B(We!=null),((_=Ta(We.data,We.w,We.ha,null,null,null,G,null,We))==0||_==7)&&G[0]&&(_=4),(G=_)==0){if(B(qe!=null),_e.data=We.data,_e.w=We.w+We.offset,_e.ha=We.ha-We.offset,_e.put=Aa,_e.ac=Sc,_e.bc=ws,_e.ma=qe,We.xa){if((_=Tl())==null){qe=1;break e}if((function(At,Rt){var Yt=[0],jr=[0],ar=[0];t:for(;;){if(At==null)return 0;if(Rt==null)return At.a=2,0;if(At.l=Rt,At.a=0,vr(At.m,Rt.data,Rt.w,Rt.ha),!wo(At.m,Yt,jr,ar)){At.a=3;break t}if(At.xb=bf,Rt.width=Yt[0],Rt.height=jr[0],!zo(Yt[0],jr[0],1,At,null))break t;return 1}return B(At.a!=0),0})(_,_e)){if(_e=(G=li(_e.width,_e.height,qe.Oa,qe.ba))==0){t:{_e=_;r:for(;;){if(_e==null){_e=0;break t}if(B(_e.s.yc!=null),B(_e.s.Ya!=null),B(0<_e.s.Wb),B((ve=_e.l)!=null),B((We=ve.ma)!=null),_e.xb!=0){if(_e.ca=We.ba,_e.tb=We.tb,B(_e.ca!=null),!rs(We.Oa,ve,gh)){_e.a=2;break r}if(!Do(_e,ve.width)||ve.da)break r;if((ve.da||xa(_e.ca.S))&&Xe(),11>_e.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_e.ca.f.kb.F!=null&&Xe()),_e.Pb&&0<_e.s.ua&&_e.s.vb.X==null&&!ut(_e.s.vb,_e.s.Wa.Xa)){_e.a=1;break r}_e.xb=0}if(!Js(_e,_e.V,_e.Ba,_e.c,_e.i,ve.o,Zs))break r;We.Dc=_e.Ma,_e=1;break t}B(_e.a!=0),_e=0}_e=!_e}_e&&(G=_.a)}else G=_.a}else{if((_=new Cu)==null){qe=1;break e}if(_.Fa=We.na,_.P=We.P,_.qc=We.Sa,nc(_,_e)){if((G=li(_e.width,_e.height,qe.Oa,qe.ba))==0){if(_.Aa=0,ve=qe.Oa,B((We=_)!=null),ve!=null){if(0<(rt=0>(rt=ve.Md)?0:100<rt?255:255*rt/100)){for(pt=Dt=0;4>pt;++pt)12>(rr=We.pb[pt]).lc&&(rr.ia=rt*Zh[0>rr.lc?0:rr.lc]>>3),Dt|=rr.ia;Dt&&(alert("todo:VP8InitRandom"),We.ia=1)}We.Ga=ve.Id,100<We.Ga?We.Ga=100:0>We.Ga&&(We.Ga=0)}(function(At,Rt){if(At==null)return 0;if(Rt==null)return ba(At,2,"NULL VP8Io parameter in VP8Decode().");if(!At.cb&&!nc(At,Rt))return 0;if(B(At.cb),Rt.ac==null||Rt.ac(Rt)){Rt.ob&&(At.L=0);var Yt=Yh[At.L];if(At.L==2?(At.yb=0,At.zb=0):(At.yb=Rt.v-Yt>>4,At.zb=Rt.j-Yt>>4,0>At.yb&&(At.yb=0),0>At.zb&&(At.zb=0)),At.Va=Rt.o+15+Yt>>4,At.Hb=Rt.va+15+Yt>>4,At.Hb>At.za&&(At.Hb=At.za),At.Va>At.Ub&&(At.Va=At.Ub),0<At.L){var jr=At.ed;for(Yt=0;4>Yt;++Yt){var ar;if(At.Qa.Cb){var Nr=At.Qa.Lb[Yt];At.Qa.Fb||(Nr+=jr.Tb)}else Nr=jr.Tb;for(ar=0;1>=ar;++ar){var Tr=At.gd[Yt][ar],Rr=Nr;if(jr.Pc&&(Rr+=jr.vd[0],ar&&(Rr+=jr.od[0])),0<(Rr=0>Rr?0:63<Rr?63:Rr)){var Or=Rr;0<jr.wb&&(Or=4<jr.wb?Or>>2:Or>>1)>9-jr.wb&&(Or=9-jr.wb),1>Or&&(Or=1),Tr.dd=Or,Tr.tc=2*Rr+Or,Tr.ld=40<=Rr?2:15<=Rr?1:0}else Tr.tc=0;Tr.La=ar}}}Yt=0}else ba(At,6,"Frame setup failed"),Yt=At.a;if(Yt=Yt==0){if(Yt){At.$c=0,0<At.Aa||(At.Ic=yh);t:{Yt=At.Ic,jr=4*(Or=At.za);var ea=32*Or,Pn=Or+1,za=0<At.L?Or*(0<At.Aa?2:1):0,yn=(At.Aa==2?2:1)*Or;if((Tr=jr+832+(ar=3*(16*Yt+Yh[At.L])/2*ea)+(Nr=At.Fa!=null&&0<At.Fa.length?At.Kc.c*At.Kc.i:0))!=Tr)Yt=0;else{if(Tr>At.Vb){if(At.Vb=0,At.Ec=ne(Tr),At.Fc=0,At.Ec==null){Yt=ba(At,1,"no memory during frame initialization.");break t}At.Vb=Tr}Tr=At.Ec,Rr=At.Fc,At.Ac=Tr,At.Bc=Rr,Rr+=jr,At.Gd=Se(ea,Qu),At.Hd=0,At.rb=Se(Pn+1,iu),At.sb=1,At.wa=za?Se(za,Ko):null,At.Y=0,At.D.Nb=0,At.D.wa=At.wa,At.D.Y=At.Y,0<At.Aa&&(At.D.Y+=Or),B(!0),At.oc=Tr,At.pc=Rr,Rr+=832,At.ya=Se(yn,Hu),At.aa=0,At.D.ya=At.ya,At.D.aa=At.aa,At.Aa==2&&(At.D.aa+=Or),At.R=16*Or,At.B=8*Or,Or=(ea=Yh[At.L])*At.R,ea=ea/2*At.B,At.sa=Tr,At.ta=Rr+Or,At.qa=At.sa,At.ra=At.ta+16*Yt*At.R+ea,At.Ha=At.qa,At.Ia=At.ra+8*Yt*At.B+ea,At.$c=0,Rr+=ar,At.mb=Nr?Tr:null,At.nb=Nr?Rr:null,B(Rr+Nr<=At.Fc+At.Vb),pd(At),Z(At.Ac,At.Bc,0,jr),Yt=1}}if(Yt){if(Rt.ka=0,Rt.y=At.sa,Rt.O=At.ta,Rt.f=At.qa,Rt.N=At.ra,Rt.ea=At.Ha,Rt.Vd=At.Ia,Rt.fa=At.R,Rt.Rc=At.B,Rt.F=null,Rt.J=0,!NA){for(Yt=-255;255>=Yt;++Yt)wp[255+Yt]=0>Yt?-Yt:Yt;for(Yt=-1020;1020>=Yt;++Yt)ol[1020+Yt]=-128>Yt?-128:127<Yt?127:Yt;for(Yt=-112;112>=Yt;++Yt)jA[112+Yt]=-16>Yt?-16:15<Yt?15:Yt;for(Yt=-255;510>=Yt;++Yt)CA[255+Yt]=0>Yt?0:255<Yt?255:Yt;NA=1}Pc=gd,xl=Vu,cc=Go,hi=md,Hi=Nu,Lo=kl,ds=Kd,ho=Vc,uu=Qe,ns=gt,du=Gd,bd=de,Qh=_t,mh=qt,Wh=Ms,Gu=Oc,Cs=lu,No=Mo,Ll[0]=Tc,Ll[1]=Su,Ll[2]=Wc,Ll[3]=fh,Ll[4]=jo,Ll[5]=ac,Ll[6]=Fl,Ll[7]=zd,Ll[8]=zu,Ll[9]=gl,qu[0]=Lh,qu[1]=Eu,qu[2]=Iu,qu[3]=vd,qu[4]=Tu,qu[5]=Vd,qu[6]=Uh,hu[0]=xd,hu[1]=Bu,hu[2]=qo,hu[3]=_u,hu[4]=ic,hu[5]=_c,hu[6]=Dl,Yt=1}else Yt=0}Yt&&(Yt=(function(wi,ln){for(wi.M=0;wi.M<wi.Va;++wi.M){var La,Qn=wi.Jc[wi.M&wi.Xb],pn=wi.m,fo=wi;for(La=0;La<fo.za;++La){var Da=pn,fi=fo,hs=fi.Ac,So=fi.Bc+4*La,Yo=fi.zc,Rs=fi.ya[fi.aa+La];if(fi.Qa.Bb?Rs.$b=Pr(Da,fi.Pa.jb[0])?2+Pr(Da,fi.Pa.jb[2]):Pr(Da,fi.Pa.jb[1]):Rs.$b=0,fi.kc&&(Rs.Ad=Pr(Da,fi.Bd)),Rs.Za=!Pr(Da,145)+0,Rs.Za){var Zo=Rs.Ob,cl=0;for(fi=0;4>fi;++fi){var mi,Xa=Yo[0+fi];for(mi=0;4>mi;++mi){Xa=Wm[hs[So+mi]][Xa];for(var gi=yf[Pr(Da,Xa[0])];0<gi;)gi=yf[2*gi+Pr(Da,Xa[gi])];Xa=-gi,hs[So+mi]=Xa}V(Zo,cl,hs,So,4),cl+=4,Yo[0+fi]=Xa}}else Xa=Pr(Da,156)?Pr(Da,128)?1:3:Pr(Da,163)?2:0,Rs.Ob[0]=Xa,Z(hs,So,Xa,4),Z(Yo,0,Xa,4);Rs.Dd=Pr(Da,142)?Pr(Da,114)?Pr(Da,183)?1:3:2:0}if(fo.m.Ka)return ba(wi,7,"Premature end-of-partition0 encountered.");for(;wi.ja<wi.za;++wi.ja){if(fo=Qn,Da=(pn=wi).rb[pn.sb-1],hs=pn.rb[pn.sb+pn.ja],La=pn.ya[pn.aa+pn.ja],So=pn.kc?La.Ad:0)Da.la=hs.la=0,La.Za||(Da.Na=hs.Na=0),La.Hc=0,La.Gc=0,La.ia=0;else{var zs,zi;if(Da=hs,hs=fo,So=pn.Pa.Xc,Yo=pn.ya[pn.aa+pn.ja],Rs=pn.pb[Yo.$b],fi=Yo.ad,Zo=0,cl=pn.rb[pn.sb-1],Xa=mi=0,Z(fi,Zo,0,384),Yo.Za)var As=0,hc=So[3];else{gi=ne(16);var Ki=Da.Na+cl.Na;if(Ki=Yd(hs,So[1],Ki,Rs.Eb,0,gi,0),Da.Na=cl.Na=(0<Ki)+0,1<Ki)Pc(gi,0,fi,Zo);else{var bl=gi[0]+3>>3;for(gi=0;256>gi;gi+=16)fi[Zo+gi]=bl}As=1,hc=So[0]}var as=15&Da.la,rn=15&cl.la;for(gi=0;4>gi;++gi){var Ho=1&rn;for(bl=zi=0;4>bl;++bl)as=as>>1|(Ho=(Ki=Yd(hs,hc,Ki=Ho+(1&as),Rs.Sc,As,fi,Zo))>As)<<7,zi=zi<<2|(3<Ki?3:1<Ki?2:fi[Zo+0]!=0),Zo+=16;as>>=4,rn=rn>>1|Ho<<7,mi=(mi<<8|zi)>>>0}for(hc=as,As=rn>>4,zs=0;4>zs;zs+=2){for(zi=0,as=Da.la>>4+zs,rn=cl.la>>4+zs,gi=0;2>gi;++gi){for(Ho=1&rn,bl=0;2>bl;++bl)Ki=Ho+(1&as),as=as>>1|(Ho=0<(Ki=Yd(hs,So[2],Ki,Rs.Qc,0,fi,Zo)))<<3,zi=zi<<2|(3<Ki?3:1<Ki?2:fi[Zo+0]!=0),Zo+=16;as>>=2,rn=rn>>1|Ho<<5}Xa|=zi<<4*zs,hc|=as<<4<<zs,As|=(240&rn)<<zs}Da.la=hc,cl.la=As,Yo.Hc=mi,Yo.Gc=Xa,Yo.ia=43690&Xa?0:Rs.ia,So=!(mi|Xa)}if(0<pn.L&&(pn.wa[pn.Y+pn.ja]=pn.gd[La.$b][La.Za],pn.wa[pn.Y+pn.ja].La|=!So),fo.Ka)return ba(wi,7,"Premature end-of-file encountered.")}if(pd(wi),pn=ln,fo=1,La=(Qn=wi).D,Da=0<Qn.L&&Qn.M>=Qn.zb&&Qn.M<=Qn.Va,Qn.Aa==0)t:{if(La.M=Qn.M,La.uc=Da,an(Qn,La),fo=1,La=(zi=Qn.D).Nb,Da=(Xa=Yh[Qn.L])*Qn.R,hs=Xa/2*Qn.B,gi=16*La*Qn.R,bl=8*La*Qn.B,So=Qn.sa,Yo=Qn.ta-Da+gi,Rs=Qn.qa,fi=Qn.ra-hs+bl,Zo=Qn.Ha,cl=Qn.Ia-hs+bl,rn=(as=zi.M)==0,mi=as>=Qn.Va-1,Qn.Aa==2&&an(Qn,zi),zi.uc)for(Ho=(Ki=Qn).D.M,B(Ki.D.uc),zi=Ki.yb;zi<Ki.Hb;++zi){As=zi,hc=Ho;var Qo=(Ls=(to=Ki).D).Nb;zs=to.R;var Ls=Ls.wa[Ls.Y+As],wl=to.sa,Qa=to.ta+16*Qo*zs+16*As,Ma=Ls.dd,qn=Ls.tc;if(qn!=0)if(B(3<=qn),to.L==1)0<As&&Gu(wl,Qa,zs,qn+4),Ls.La&&No(wl,Qa,zs,qn),0<hc&&Wh(wl,Qa,zs,qn+4),Ls.La&&Cs(wl,Qa,zs,qn);else{var Gi=to.B,ki=to.qa,Ks=to.ra+8*Qo*Gi+8*As,Us=to.Ha,to=to.Ia+8*Qo*Gi+8*As;Qo=Ls.ld,0<As&&(ho(wl,Qa,zs,qn+4,Ma,Qo),ns(ki,Ks,Us,to,Gi,qn+4,Ma,Qo)),Ls.La&&(bd(wl,Qa,zs,qn,Ma,Qo),mh(ki,Ks,Us,to,Gi,qn,Ma,Qo)),0<hc&&(ds(wl,Qa,zs,qn+4,Ma,Qo),uu(ki,Ks,Us,to,Gi,qn+4,Ma,Qo)),Ls.La&&(du(wl,Qa,zs,qn,Ma,Qo),Qh(ki,Ks,Us,to,Gi,qn,Ma,Qo))}}if(Qn.ia&&alert("todo:DitherRow"),pn.put!=null){if(zi=16*as,as=16*(as+1),rn?(pn.y=Qn.sa,pn.O=Qn.ta+gi,pn.f=Qn.qa,pn.N=Qn.ra+bl,pn.ea=Qn.Ha,pn.W=Qn.Ia+bl):(zi-=Xa,pn.y=So,pn.O=Yo,pn.f=Rs,pn.N=fi,pn.ea=Zo,pn.W=cl),mi||(as-=Xa),as>pn.o&&(as=pn.o),pn.F=null,pn.J=null,Qn.Fa!=null&&0<Qn.Fa.length&&zi<as&&(pn.J=Ai(Qn,pn,zi,as-zi),pn.F=Qn.mb,pn.F==null&&pn.F.length==0)){fo=ba(Qn,3,"Could not decode alpha data.");break t}zi<pn.j&&(Xa=pn.j-zi,zi=pn.j,B(!(1&Xa)),pn.O+=Qn.R*Xa,pn.N+=Qn.B*(Xa>>1),pn.W+=Qn.B*(Xa>>1),pn.F!=null&&(pn.J+=pn.width*Xa)),zi<as&&(pn.O+=pn.v,pn.N+=pn.v>>1,pn.W+=pn.v>>1,pn.F!=null&&(pn.J+=pn.v),pn.ka=zi-pn.j,pn.U=pn.va-pn.v,pn.T=as-zi,fo=pn.put(pn))}La+1!=Qn.Ic||mi||(V(Qn.sa,Qn.ta-Da,So,Yo+16*Qn.R,Da),V(Qn.qa,Qn.ra-hs,Rs,fi+8*Qn.B,hs),V(Qn.Ha,Qn.Ia-hs,Zo,cl+8*Qn.B,hs))}if(!fo)return ba(wi,6,"Output aborted.")}return 1})(At,Rt)),Rt.bc!=null&&Rt.bc(Rt),Yt&=1}return Yt?(At.cb=0,Yt):0})(_,_e)||(G=_.a)}}else G=_.a}G==0&&qe.Oa!=null&&qe.Oa.fd&&(G=Jn(qe.ba))}qe=G}Ke=qe!=0?null:11>Ke?Je.f.RGBA.eb:Je.f.kb.y}else Ke=null;return Ke};var DA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Re(Tt,or){for(var at="",dt=0;dt<4;dt++)at+=String.fromCharCode(Tt[or++]);return at}function Ve(Tt,or){return Tt[or+0]|Tt[or+1]<<8}function et(Tt,or){return(Tt[or+0]|Tt[or+1]<<8|Tt[or+2]<<16)>>>0}function st(Tt,or){return(Tt[or+0]|Tt[or+1]<<8|Tt[or+2]<<16|Tt[or+3]<<24)>>>0}new ge;var Fe=[0],vt=[0],mt=[],yt=new ge,nt=I,kt=(function(Tt,or){var at={},dt=0,Et=!1,It=0,ur=0;if(at.frames=[],!(function(Ze,xt){for(var Ct=0;Ct<4;Ct++)if(Ze[xt+Ct]!="RIFF".charCodeAt(Ct))return!0;return!1})(Tt,or)){for(st(Tt,or+=4),or+=8;or<Tt.length;){var pr=Re(Tt,or),yr=st(Tt,or+=4);or+=4;var Jt=yr+(1&yr);switch(pr){case"VP8 ":case"VP8L":at.frames[dt]===void 0&&(at.frames[dt]={}),(Ur=at.frames[dt]).src_off=Et?ur:or-8,Ur.src_size=It+yr+8,dt++,Et&&(Et=!1,It=0,ur=0);break;case"VP8X":(Ur=at.header={}).feature_flags=Tt[or];var vr=or+4;Ur.canvas_width=1+et(Tt,vr),vr+=3,Ur.canvas_height=1+et(Tt,vr),vr+=3;break;case"ALPH":Et=!0,It=Jt+8,ur=or-8;break;case"ANIM":(Ur=at.header).bgcolor=st(Tt,or),vr=or+4,Ur.loop_count=Ve(Tt,vr),vr+=2;break;case"ANMF":var Xr,Ur;(Ur=at.frames[dt]={}).offset_x=2*et(Tt,or),or+=3,Ur.offset_y=2*et(Tt,or),or+=3,Ur.width=1+et(Tt,or),or+=3,Ur.height=1+et(Tt,or),or+=3,Ur.duration=et(Tt,or),or+=3,Xr=Tt[or++],Ur.dispose=1&Xr,Ur.blend=Xr>>1&1}pr!="ANMF"&&(or+=Jt)}return at}})(nt,0);kt.response=nt,kt.rgbaoutput=!0,kt.dataurl=!1;var Gt=kt.header?kt.header:null,St=kt.frames?kt.frames:null;if(Gt){Gt.loop_counter=Gt.loop_count,Fe=[Gt.canvas_height],vt=[Gt.canvas_width];for(var tt=0;tt<St.length&&St[tt].blend!=0;tt++);}var Qt=St[0],cr=yt.WebPDecodeRGBA(nt,Qt.src_off,Qt.src_size,vt,Fe);Qt.rgba=cr,Qt.imgwidth=vt[0],Qt.imgheight=Fe[0];for(var Xt=0;Xt<vt[0]*Fe[0]*4;Xt++)mt[Xt]=cr[Xt];return this.width=vt,this.height=Fe,this.data=mt,this}(function(I){var B,D,V,Z,ne,Se,fe,ge,Re,Ve=function(Ze){return Ze=Ze||{},this.isStrokeTransparent=Ze.isStrokeTransparent||!1,this.strokeOpacity=Ze.strokeOpacity||1,this.strokeStyle=Ze.strokeStyle||"#000000",this.fillStyle=Ze.fillStyle||"#000000",this.isFillTransparent=Ze.isFillTransparent||!1,this.fillOpacity=Ze.fillOpacity||1,this.font=Ze.font||"10px sans-serif",this.textBaseline=Ze.textBaseline||"alphabetic",this.textAlign=Ze.textAlign||"left",this.lineWidth=Ze.lineWidth||1,this.lineJoin=Ze.lineJoin||"miter",this.lineCap=Ze.lineCap||"butt",this.path=Ze.path||[],this.transform=Ze.transform!==void 0?Ze.transform.clone():new ge,this.globalCompositeOperation=Ze.globalCompositeOperation||"normal",this.globalAlpha=Ze.globalAlpha||1,this.clip_path=Ze.clip_path||[],this.currentPoint=Ze.currentPoint||new Se,this.miterLimit=Ze.miterLimit||10,this.lastPoint=Ze.lastPoint||new Se,this.lineDashOffset=Ze.lineDashOffset||0,this.lineDash=Ze.lineDash||[],this.margin=Ze.margin||[0,0,0,0],this.prevPageLastElemOffset=Ze.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ze.ignoreClearRect!="boolean"||Ze.ignoreClearRect,this};I.events.push(["initialized",function(){this.context2d=new et(this),B=this.internal.f2,D=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,Z=this.internal.getHorizontalCoordinate,ne=this.internal.getVerticalCoordinate,Se=this.internal.Point,fe=this.internal.Rectangle,ge=this.internal.Matrix,Re=new Ve}]);var et=function(Ze){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var xt=Ze;Object.defineProperty(this,"pdf",{get:function(){return xt}});var Ct=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ct},set:function(ut){Ct=!!ut}});var Wt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Wt},set:function(ut){Wt=!!ut}});var Kt=0;Object.defineProperty(this,"posX",{get:function(){return Kt},set:function(ut){isNaN(ut)||(Kt=ut)}});var nr=0;Object.defineProperty(this,"posY",{get:function(){return nr},set:function(ut){isNaN(ut)||(nr=ut)}}),Object.defineProperty(this,"margin",{get:function(){return Re.margin},set:function(ut){var An;typeof ut=="number"?An=[ut,ut,ut,ut]:((An=new Array(4))[0]=ut[0],An[1]=ut.length>=2?ut[1]:An[0],An[2]=ut.length>=3?ut[2]:An[0],An[3]=ut.length>=4?ut[3]:An[1]),Re.margin=An}});var gr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gr},set:function(ut){gr=ut}});var xr=0;Object.defineProperty(this,"lastBreak",{get:function(){return xr},set:function(ut){xr=ut}});var Pr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pr},set:function(ut){Pr=ut}}),Object.defineProperty(this,"ctx",{get:function(){return Re},set:function(ut){ut instanceof Ve&&(Re=ut)}}),Object.defineProperty(this,"path",{get:function(){return Re.path},set:function(ut){Re.path=ut}});var Yr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Yr},set:function(ut){Yr=ut}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ut){var An;An=st(ut),this.ctx.fillStyle=An.style,this.ctx.isFillTransparent=An.a===0,this.ctx.fillOpacity=An.a,this.pdf.setFillColor(An.r,An.g,An.b,{a:An.a}),this.pdf.setTextColor(An.r,An.g,An.b,{a:An.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ut){var An=st(ut);this.ctx.strokeStyle=An.style,this.ctx.isStrokeTransparent=An.a===0,this.ctx.strokeOpacity=An.a,An.a===0?this.pdf.setDrawColor(255,255,255):(An.a,this.pdf.setDrawColor(An.r,An.g,An.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ut){["butt","round","square"].indexOf(ut)!==-1&&(this.ctx.lineCap=ut,this.pdf.setLineCap(ut))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ut){isNaN(ut)||(this.ctx.lineWidth=ut,this.pdf.setLineWidth(ut))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ut){["bevel","round","miter"].indexOf(ut)!==-1&&(this.ctx.lineJoin=ut,this.pdf.setLineJoin(ut))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ut){isNaN(ut)||(this.ctx.miterLimit=ut,this.pdf.setMiterLimit(ut))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ut){this.ctx.textBaseline=ut}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ut){["right","end","center","left","start"].indexOf(ut)!==-1&&(this.ctx.textAlign=ut)}});var Nn=null,Bn=null,ca=null;Object.defineProperty(this,"fontFaces",{get:function(){return ca},set:function(ut){Nn=null,Bn=null,ca=ut}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ut){var An;if(this.ctx.font=ut,(An=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ut))!==null){var va=An[1];An[2];var dn=An[3],Hr=An[4];An[5];var sa=An[6],Dn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Hr)[2];Hr=Math.floor(Dn==="px"?parseFloat(Hr)*this.pdf.internal.scaleFactor:Dn==="em"?parseFloat(Hr)*this.pdf.getFontSize():parseFloat(Hr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Hr);var Zn=(function(kn){var ja,ui,Ga=[],qa=kn.trim();if(qa==="")return To;if(qa in Va)return[Va[qa]];for(;qa!=="";){switch(ui=null,ja=(qa=vs(qa)).charAt(0)){case'"':case"'":ui=Bl(qa.substring(1),ja);break;default:ui=Nc(qa)}if(ui===null||(Ga.push(ui[0]),(qa=vs(ui[1]))!==""&&qa.charAt(0)!==","))return To;qa=qa.replace(/^,/,"")}return Ga})(sa);if(this.fontFaces){var Mn=(function(kn,ja){var ui=kn.getFontList(),Ga=JSON.stringify(ui);if(Nn===null||Bn!==Ga){var qa=(function(ts){var zn=[];return Object.keys(ts).forEach(function(Ti){ts[Ti].forEach(function(xa){var Vn=null;switch(xa){case"bold":Vn={family:Ti,weight:"bold"};break;case"italic":Vn={family:Ti,style:"italic"};break;case"bolditalic":Vn={family:Ti,weight:"bold",style:"italic"};break;case"":case"normal":Vn={family:Ti}}Vn!==null&&(Vn.ref={name:Ti,style:xa},zn.push(Vn))})}),zn})(ui);Nn=(function(ts){for(var zn={},Ti=0;Ti<ts.length;++Ti){var xa=Ps(ts[Ti]),Vn=xa.family,_i=xa.stretch,Ca=xa.style,En=xa.weight;zn[Vn]=zn[Vn]||{},zn[Vn][_i]=zn[Vn][_i]||{},zn[Vn][_i][Ca]=zn[Vn][_i][Ca]||{},zn[Vn][_i][Ca][En]=xa}return zn})(qa.concat(ja)),Bn=Ga}return Nn})(this.pdf,this.fontFaces),pi=Zn.map(function(kn){return{family:kn,stretch:"normal",weight:dn,style:va}}),Ha=(function(kn,ja,ui){for(var Ga=(ui=ui||{}).defaultFontFamily||"times",qa=Object.assign({},gs,ui.genericFontFamilies||{}),ts=null,zn=null,Ti=0;Ti<ja.length;++Ti)if(qa[(ts=Ps(ja[Ti])).family]&&(ts.family=qa[ts.family]),kn.hasOwnProperty(ts.family)){zn=kn[ts.family];break}if(!(zn=zn||kn[Ga]))throw new Error("Could not find a font-family for the rule '"+Cc(ts)+"' and default family '"+Ga+"'.");if(zn=(function(xa,Vn){if(Vn[xa])return Vn[xa];var _i=yi[xa],Ca=_i<=yi.normal?-1:1,En=Ka(Vn,Ni,_i,Ca);if(!En)throw new Error("Could not find a matching font-stretch value for "+xa);return En})(ts.stretch,zn),zn=(function(xa,Vn){if(Vn[xa])return Vn[xa];for(var _i=Es[xa],Ca=0;Ca<_i.length;++Ca)if(Vn[_i[Ca]])return Vn[_i[Ca]];throw new Error("Could not find a matching font-style for "+xa)})(ts.style,zn),!(zn=(function(xa,Vn){if(Vn[xa])return Vn[xa];if(xa===400&&Vn[500])return Vn[500];if(xa===500&&Vn[400])return Vn[400];var _i=Ii[xa],Ca=Ka(Vn,Qi,_i,xa<400?-1:1);if(!Ca)throw new Error("Could not find a matching font-weight for value "+xa);return Ca})(ts.weight,zn)))throw new Error("Failed to resolve a font for the rule '"+Cc(ts)+"'.");return zn})(Mn,pi);this.pdf.setFont(Ha.ref.name,Ha.ref.style)}else{var Fn="";(dn==="bold"||parseInt(dn,10)>=700||va==="bold")&&(Fn="bold"),va==="italic"&&(Fn+="italic"),Fn.length===0&&(Fn="normal");for(var oi="",oa={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},On=0;On<Zn.length;On++){if(this.pdf.internal.getFont(Zn[On],Fn,{noFallback:!0,disableWarning:!0})!==void 0){oi=Zn[On];break}if(Fn==="bolditalic"&&this.pdf.internal.getFont(Zn[On],"bold",{noFallback:!0,disableWarning:!0})!==void 0)oi=Zn[On],Fn="bold";else if(this.pdf.internal.getFont(Zn[On],"normal",{noFallback:!0,disableWarning:!0})!==void 0){oi=Zn[On],Fn="normal";break}}if(oi===""){for(var ua=0;ua<Zn.length;ua++)if(oa[Zn[ua]]){oi=oa[Zn[ua]];break}}oi=oi===""?"Times":oi,this.pdf.setFont(oi,Fn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ut){this.ctx.globalCompositeOperation=ut}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ut){this.ctx.globalAlpha=ut}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ut){this.ctx.lineDashOffset=ut,Ur.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ut){this.ctx.lineDash=ut,Ur.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ut){this.ctx.ignoreClearRect=!!ut}})};et.prototype.setLineDash=function(Ze){this.lineDash=Ze},et.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},et.prototype.fill=function(){St.call(this,"fill",!1)},et.prototype.stroke=function(){St.call(this,"stroke",!1)},et.prototype.beginPath=function(){this.path=[{type:"begin"}]},et.prototype.moveTo=function(Ze,xt){if(isNaN(Ze)||isNaN(xt))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ct=this.ctx.transform.applyToPoint(new Se(Ze,xt));this.path.push({type:"mt",x:Ct.x,y:Ct.y}),this.ctx.lastPoint=new Se(Ze,xt)},et.prototype.closePath=function(){var Ze=new Se(0,0),xt=0;for(xt=this.path.length-1;xt!==-1;xt--)if(this.path[xt].type==="begin"&&(0,h.default)(this.path[xt+1])==="object"&&typeof this.path[xt+1].x=="number"){Ze=new Se(this.path[xt+1].x,this.path[xt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Se(Ze.x,Ze.y)},et.prototype.lineTo=function(Ze,xt){if(isNaN(Ze)||isNaN(xt))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ct=this.ctx.transform.applyToPoint(new Se(Ze,xt));this.path.push({type:"lt",x:Ct.x,y:Ct.y}),this.ctx.lastPoint=new Se(Ct.x,Ct.y)},et.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),St.call(this,null,!0)},et.prototype.quadraticCurveTo=function(Ze,xt,Ct,Wt){if(isNaN(Ct)||isNaN(Wt)||isNaN(Ze)||isNaN(xt))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Kt=this.ctx.transform.applyToPoint(new Se(Ct,Wt)),nr=this.ctx.transform.applyToPoint(new Se(Ze,xt));this.path.push({type:"qct",x1:nr.x,y1:nr.y,x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new Se(Kt.x,Kt.y)},et.prototype.bezierCurveTo=function(Ze,xt,Ct,Wt,Kt,nr){if(isNaN(Kt)||isNaN(nr)||isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gr=this.ctx.transform.applyToPoint(new Se(Kt,nr)),xr=this.ctx.transform.applyToPoint(new Se(Ze,xt)),Pr=this.ctx.transform.applyToPoint(new Se(Ct,Wt));this.path.push({type:"bct",x1:xr.x,y1:xr.y,x2:Pr.x,y2:Pr.y,x:gr.x,y:gr.y}),this.ctx.lastPoint=new Se(gr.x,gr.y)},et.prototype.arc=function(Ze,xt,Ct,Wt,Kt,nr){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt)||isNaN(Kt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nr=!!nr,!this.ctx.transform.isIdentity){var gr=this.ctx.transform.applyToPoint(new Se(Ze,xt));Ze=gr.x,xt=gr.y;var xr=this.ctx.transform.applyToPoint(new Se(0,Ct)),Pr=this.ctx.transform.applyToPoint(new Se(0,0));Ct=Math.sqrt(Math.pow(xr.x-Pr.x,2)+Math.pow(xr.y-Pr.y,2))}Math.abs(Kt-Wt)>=2*Math.PI&&(Wt=0,Kt=2*Math.PI),this.path.push({type:"arc",x:Ze,y:xt,radius:Ct,startAngle:Wt,endAngle:Kt,counterclockwise:nr})},et.prototype.arcTo=function(Ze,xt,Ct,Wt,Kt){throw new Error("arcTo not implemented.")},et.prototype.rect=function(Ze,xt,Ct,Wt){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ze,xt),this.lineTo(Ze+Ct,xt),this.lineTo(Ze+Ct,xt+Wt),this.lineTo(Ze,xt+Wt),this.lineTo(Ze,xt),this.lineTo(Ze+Ct,xt),this.lineTo(Ze,xt)},et.prototype.fillRect=function(Ze,xt,Ct,Wt){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Fe.call(this)){var Kt={};this.lineCap!=="butt"&&(Kt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Kt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ze,xt,Ct,Wt),this.fill(),Kt.hasOwnProperty("lineCap")&&(this.lineCap=Kt.lineCap),Kt.hasOwnProperty("lineJoin")&&(this.lineJoin=Kt.lineJoin)}},et.prototype.strokeRect=function(Ze,xt,Ct,Wt){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");vt.call(this)||(this.beginPath(),this.rect(Ze,xt,Ct,Wt),this.stroke())},et.prototype.clearRect=function(Ze,xt,Ct,Wt){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ze,xt,Ct,Wt))},et.prototype.save=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Ct=0;Ct<this.pdf.internal.getNumberOfPages();Ct++)this.pdf.setPage(Ct+1),this.pdf.internal.out("q");if(this.pdf.setPage(xt),Ze){this.ctx.fontSize=this.pdf.internal.getFontSize();var Wt=new Ve(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Wt}},et.prototype.restore=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var xt=this.pdf.internal.getCurrentPageInfo().pageNumber,Ct=0;Ct<this.pdf.internal.getNumberOfPages();Ct++)this.pdf.setPage(Ct+1),this.pdf.internal.out("Q");this.pdf.setPage(xt),Ze&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},et.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var st=function(Ze){var xt,Ct,Wt,Kt;if(Ze.isCanvasGradient===!0&&(Ze=Ze.getColor()),!Ze)return{r:0,g:0,b:0,a:0,style:Ze};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ze))xt=0,Ct=0,Wt=0,Kt=0;else{var nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ze);if(nr!==null)xt=parseInt(nr[1]),Ct=parseInt(nr[2]),Wt=parseInt(nr[3]),Kt=1;else if((nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ze))!==null)xt=parseInt(nr[1]),Ct=parseInt(nr[2]),Wt=parseInt(nr[3]),Kt=parseFloat(nr[4]);else{if(Kt=1,typeof Ze=="string"&&Ze.charAt(0)!=="#"){var gr=new S(Ze);Ze=gr.ok?gr.toHex():"#000000"}Ze.length===4?(xt=Ze.substring(1,2),xt+=xt,Ct=Ze.substring(2,3),Ct+=Ct,Wt=Ze.substring(3,4),Wt+=Wt):(xt=Ze.substring(1,3),Ct=Ze.substring(3,5),Wt=Ze.substring(5,7)),xt=parseInt(xt,16),Ct=parseInt(Ct,16),Wt=parseInt(Wt,16)}}return{r:xt,g:Ct,b:Wt,a:Kt,style:Ze}},Fe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},vt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};et.prototype.fillText=function(Ze,xt,Ct,Wt){if(isNaN(xt)||isNaN(Ct)||typeof Ze!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Wt=isNaN(Wt)?void 0:Wt,!Fe.call(this)){var Kt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ze,x:xt,y:Ct,scale:nr,angle:Kt,align:this.textAlign,maxWidth:Wt})}},et.prototype.strokeText=function(Ze,xt,Ct,Wt){if(isNaN(xt)||isNaN(Ct)||typeof Ze!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!vt.call(this)){Wt=isNaN(Wt)?void 0:Wt;var Kt=Jt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;dt.call(this,{text:Ze,x:xt,y:Ct,scale:nr,renderingMode:"stroke",angle:Kt,align:this.textAlign,maxWidth:Wt})}},et.prototype.measureText=function(Ze){if(typeof Ze!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var xt=this.pdf,Ct=this.pdf.internal.scaleFactor,Wt=xt.internal.getFontSize(),Kt=xt.getStringUnitWidth(Ze)*Wt/xt.internal.scaleFactor;return new function(nr){var gr=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return gr}}),this}({width:Kt*=Math.round(96*Ct/72*1e4)/1e4})},et.prototype.scale=function(Ze,xt){if(isNaN(Ze)||isNaN(xt))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ct=new ge(Ze,0,0,xt,0,0);this.ctx.transform=this.ctx.transform.multiply(Ct)},et.prototype.rotate=function(Ze){if(isNaN(Ze))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var xt=new ge(Math.cos(Ze),Math.sin(Ze),-Math.sin(Ze),Math.cos(Ze),0,0);this.ctx.transform=this.ctx.transform.multiply(xt)},et.prototype.translate=function(Ze,xt){if(isNaN(Ze)||isNaN(xt))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ct=new ge(1,0,0,1,Ze,xt);this.ctx.transform=this.ctx.transform.multiply(Ct)},et.prototype.transform=function(Ze,xt,Ct,Wt,Kt,nr){if(isNaN(Ze)||isNaN(xt)||isNaN(Ct)||isNaN(Wt)||isNaN(Kt)||isNaN(nr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gr=new ge(Ze,xt,Ct,Wt,Kt,nr);this.ctx.transform=this.ctx.transform.multiply(gr)},et.prototype.setTransform=function(Ze,xt,Ct,Wt,Kt,nr){Ze=isNaN(Ze)?1:Ze,xt=isNaN(xt)?0:xt,Ct=isNaN(Ct)?0:Ct,Wt=isNaN(Wt)?1:Wt,Kt=isNaN(Kt)?0:Kt,nr=isNaN(nr)?0:nr,this.ctx.transform=new ge(Ze,xt,Ct,Wt,Kt,nr)};var mt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};et.prototype.drawImage=function(Ze,xt,Ct,Wt,Kt,nr,gr,xr,Pr){var Yr=this.pdf.getImageProperties(Ze),Nn=1,Bn=1,ca=1,ut=1;Wt!==void 0&&xr!==void 0&&(ca=xr/Wt,ut=Pr/Kt,Nn=Yr.width/Wt*xr/Wt,Bn=Yr.height/Kt*Pr/Kt),nr===void 0&&(nr=xt,gr=Ct,xt=0,Ct=0),Wt!==void 0&&xr===void 0&&(xr=Wt,Pr=Kt),Wt===void 0&&xr===void 0&&(xr=Yr.width,Pr=Yr.height);var An=this.ctx.transform.decompose(),va=Jt(An.rotate.shx),dn=new ge,Hr=(dn=(dn=(dn=dn.multiply(An.translate)).multiply(An.skew)).multiply(An.scale)).applyToRectangle(new fe(nr-xt*ca,gr-Ct*ut,Wt*Nn,Kt*Bn));if(this.autoPaging){for(var sa,Dn=yt.call(this,Hr),Zn=[],Mn=0;Mn<Dn.length;Mn+=1)Zn.indexOf(Dn[Mn])===-1&&Zn.push(Dn[Mn]);Gt(Zn);for(var pi=Zn[0],Ha=Zn[Zn.length-1],Fn=pi;Fn<Ha+1;Fn++){this.pdf.setPage(Fn);var oi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],oa=Fn===1?this.posY+this.margin[0]:this.margin[0],On=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ua=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=Fn===1?0:On+(Fn-2)*ua;if(this.ctx.clip_path.length!==0){var ja=this.path;sa=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(sa,this.posX+this.margin[3],-kn+oa+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=ja}var ui=JSON.parse(JSON.stringify(Hr));ui=kt([ui],this.posX+this.margin[3],-kn+oa+this.ctx.prevPageLastElemOffset)[0];var Ga=(Fn>pi||Fn<Ha)&&mt.call(this);Ga&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oi,ua,null).clip().discardPath()),this.pdf.addImage(Ze,"JPEG",ui.x,ui.y,ui.w,ui.h,null,null,va),Ga&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ze,"JPEG",Hr.x,Hr.y,Hr.w,Hr.h,null,null,va)};var yt=function(Ze,xt,Ct){var Wt=[];xt=xt||this.pdf.internal.pageSize.width,Ct=Ct||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Kt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ze.type){default:case"mt":case"lt":Wt.push(Math.floor((Ze.y+Kt)/Ct)+1);break;case"arc":Wt.push(Math.floor((Ze.y+Kt-Ze.radius)/Ct)+1),Wt.push(Math.floor((Ze.y+Kt+Ze.radius)/Ct)+1);break;case"qct":var nr=vr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x,Ze.y);Wt.push(Math.floor((nr.y+Kt)/Ct)+1),Wt.push(Math.floor((nr.y+nr.h+Kt)/Ct)+1);break;case"bct":var gr=Xr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y);Wt.push(Math.floor((gr.y+Kt)/Ct)+1),Wt.push(Math.floor((gr.y+gr.h+Kt)/Ct)+1);break;case"rect":Wt.push(Math.floor((Ze.y+Kt)/Ct)+1),Wt.push(Math.floor((Ze.y+Ze.h+Kt)/Ct)+1)}for(var xr=0;xr<Wt.length;xr+=1)for(;this.pdf.internal.getNumberOfPages()<Wt[xr];)nt.call(this);return Wt},nt=function(){var Ze=this.fillStyle,xt=this.strokeStyle,Ct=this.font,Wt=this.lineCap,Kt=this.lineWidth,nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ze,this.strokeStyle=xt,this.font=Ct,this.lineCap=Wt,this.lineWidth=Kt,this.lineJoin=nr},kt=function(Ze,xt,Ct){for(var Wt=0;Wt<Ze.length;Wt++)switch(Ze[Wt].type){case"bct":Ze[Wt].x2+=xt,Ze[Wt].y2+=Ct;case"qct":Ze[Wt].x1+=xt,Ze[Wt].y1+=Ct;default:Ze[Wt].x+=xt,Ze[Wt].y+=Ct}return Ze},Gt=function(Ze){return Ze.sort(function(xt,Ct){return xt-Ct})},St=function(Ze,xt){var Ct=this.fillStyle,Wt=this.strokeStyle,Kt=this.lineCap,nr=this.lineWidth,gr=Math.abs(nr*this.ctx.transform.scaleX),xr=this.lineJoin;if(this.autoPaging){for(var Pr,Yr,Nn=JSON.parse(JSON.stringify(this.path)),Bn=JSON.parse(JSON.stringify(this.path)),ca=[],ut=0;ut<Bn.length;ut++)if(Bn[ut].x!==void 0)for(var An=yt.call(this,Bn[ut]),va=0;va<An.length;va+=1)ca.indexOf(An[va])===-1&&ca.push(An[va]);for(var dn=0;dn<ca.length;dn++)for(;this.pdf.internal.getNumberOfPages()<ca[dn];)nt.call(this);Gt(ca);for(var Hr=ca[0],sa=ca[ca.length-1],Dn=Hr;Dn<sa+1;Dn++){this.pdf.setPage(Dn),this.fillStyle=Ct,this.strokeStyle=Wt,this.lineCap=Kt,this.lineWidth=gr,this.lineJoin=xr;var Zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mn=Dn===1?this.posY+this.margin[0]:this.margin[0],pi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ha=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fn=Dn===1?0:pi+(Dn-2)*Ha;if(this.ctx.clip_path.length!==0){var oi=this.path;Pr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Pr,this.posX+this.margin[3],-Fn+Mn+this.ctx.prevPageLastElemOffset),tt.call(this,Ze,!0),this.path=oi}if(Yr=JSON.parse(JSON.stringify(Nn)),this.path=kt(Yr,this.posX+this.margin[3],-Fn+Mn+this.ctx.prevPageLastElemOffset),xt===!1||Dn===0){var oa=(Dn>Hr||Dn<sa)&&mt.call(this);oa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zn,Ha,null).clip().discardPath()),tt.call(this,Ze,xt),oa&&this.pdf.restoreGraphicsState()}this.lineWidth=nr}this.path=Nn}else this.lineWidth=gr,tt.call(this,Ze,xt),this.lineWidth=nr},tt=function(Ze,xt){if((Ze!=="stroke"||xt||!vt.call(this))&&(Ze==="stroke"||xt||!Fe.call(this))){for(var Ct,Wt,Kt=[],nr=this.path,gr=0;gr<nr.length;gr++){var xr=nr[gr];switch(xr.type){case"begin":Kt.push({begin:!0});break;case"close":Kt.push({close:!0});break;case"mt":Kt.push({start:xr,deltas:[],abs:[]});break;case"lt":var Pr=Kt.length;if(nr[gr-1]&&!isNaN(nr[gr-1].x)&&(Ct=[xr.x-nr[gr-1].x,xr.y-nr[gr-1].y],Pr>0)){for(;Pr>=0;Pr--)if(Kt[Pr-1].close!==!0&&Kt[Pr-1].begin!==!0){Kt[Pr-1].deltas.push(Ct),Kt[Pr-1].abs.push(xr);break}}break;case"bct":Ct=[xr.x1-nr[gr-1].x,xr.y1-nr[gr-1].y,xr.x2-nr[gr-1].x,xr.y2-nr[gr-1].y,xr.x-nr[gr-1].x,xr.y-nr[gr-1].y],Kt[Kt.length-1].deltas.push(Ct);break;case"qct":var Yr=nr[gr-1].x+2/3*(xr.x1-nr[gr-1].x),Nn=nr[gr-1].y+2/3*(xr.y1-nr[gr-1].y),Bn=xr.x+2/3*(xr.x1-xr.x),ca=xr.y+2/3*(xr.y1-xr.y),ut=xr.x,An=xr.y;Ct=[Yr-nr[gr-1].x,Nn-nr[gr-1].y,Bn-nr[gr-1].x,ca-nr[gr-1].y,ut-nr[gr-1].x,An-nr[gr-1].y],Kt[Kt.length-1].deltas.push(Ct);break;case"arc":Kt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Kt[Kt.length-1].abs)&&Kt[Kt.length-1].abs.push(xr)}}Wt=xt?null:Ze==="stroke"?"stroke":"fill";for(var va=!1,dn=0;dn<Kt.length;dn++)if(Kt[dn].arc)for(var Hr=Kt[dn].abs,sa=0;sa<Hr.length;sa++){var Dn=Hr[sa];Dn.type==="arc"?Xt.call(this,Dn.x,Dn.y,Dn.radius,Dn.startAngle,Dn.endAngle,Dn.counterclockwise,void 0,xt,!va):Et.call(this,Dn.x,Dn.y),va=!0}else if(Kt[dn].close===!0)this.pdf.internal.out("h"),va=!1;else if(Kt[dn].begin!==!0){var Zn=Kt[dn].start.x,Mn=Kt[dn].start.y;It.call(this,Kt[dn].deltas,Zn,Mn),va=!0}Wt&&Tt.call(this,Wt),xt&&or.call(this)}},Qt=function(Ze){var xt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ct=xt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ze-Ct;case"top":return Ze+xt-Ct;case"hanging":return Ze+xt-2*Ct;case"middle":return Ze+xt/2-Ct;default:return Ze}},cr=function(Ze){return Ze+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};et.prototype.createLinearGradient=function(){var Ze=function(){};return Ze.colorStops=[],Ze.addColorStop=function(xt,Ct){this.colorStops.push([xt,Ct])},Ze.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ze.isCanvasGradient=!0,Ze},et.prototype.createPattern=function(){return this.createLinearGradient()},et.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Xt=function(Ze,xt,Ct,Wt,Kt,nr,gr,xr,Pr){for(var Yr=pr.call(this,Ct,Wt,Kt,nr),Nn=0;Nn<Yr.length;Nn++){var Bn=Yr[Nn];Nn===0&&(Pr?at.call(this,Bn.x1+Ze,Bn.y1+xt):Et.call(this,Bn.x1+Ze,Bn.y1+xt)),ur.call(this,Ze,xt,Bn.x2,Bn.y2,Bn.x3,Bn.y3,Bn.x4,Bn.y4)}xr?or.call(this):Tt.call(this,gr)},Tt=function(Ze){switch(Ze){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},or=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(Ze,xt){this.pdf.internal.out(D(Ze)+" "+V(xt)+" m")},dt=function(Ze){var xt;switch(Ze.align){case"right":case"end":xt="right";break;case"center":xt="center";break;default:xt="left"}var Ct,Wt,Kt,nr=this.pdf.getTextDimensions(Ze.text),gr=Qt.call(this,Ze.y),xr=cr.call(this,gr)-nr.h,Pr=this.ctx.transform.applyToPoint(new Se(Ze.x,gr));if(this.autoPaging){var Yr=this.ctx.transform.decompose(),Nn=new ge;Nn=(Nn=(Nn=Nn.multiply(Yr.translate)).multiply(Yr.skew)).multiply(Yr.scale);for(var Bn=this.ctx.transform.applyToRectangle(new fe(Ze.x,gr,nr.w,nr.h)),ca=Nn.applyToRectangle(new fe(Ze.x,xr,nr.w,nr.h)),ut=yt.call(this,ca),An=[],va=0;va<ut.length;va+=1)An.indexOf(ut[va])===-1&&An.push(ut[va]);Gt(An);for(var dn=An[0],Hr=An[An.length-1],sa=dn;sa<Hr+1;sa++){this.pdf.setPage(sa);var Dn=sa===1?this.posY+this.margin[0]:this.margin[0],Zn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mn=this.pdf.internal.pageSize.height-this.margin[2],pi=Mn-this.margin[0],Ha=this.pdf.internal.pageSize.width-this.margin[1],Fn=Ha-this.margin[3],oi=sa===1?0:Zn+(sa-2)*pi;if(this.ctx.clip_path.length!==0){var oa=this.path;Ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=kt(Ct,this.posX+this.margin[3],-1*oi+Dn),tt.call(this,"fill",!0),this.path=oa}var On=kt([JSON.parse(JSON.stringify(ca))],this.posX+this.margin[3],-oi+Dn+this.ctx.prevPageLastElemOffset)[0];Ze.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ze.scale),Kt=this.lineWidth,this.lineWidth=Kt*Ze.scale);var ua=this.autoPaging!=="text";if(ua||On.y+On.h<=Mn){if(ua||On.y>=Dn&&On.x<=Ha){var kn=ua?Ze.text:this.pdf.splitTextToSize(Ze.text,Ze.maxWidth||Ha-On.x)[0],ja=kt([JSON.parse(JSON.stringify(Bn))],this.posX+this.margin[3],-oi+Dn+this.ctx.prevPageLastElemOffset)[0],ui=ua&&(sa>dn||sa<Hr)&&mt.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,pi,null).clip().discardPath()),this.pdf.text(kn,ja.x,ja.y,{angle:Ze.angle,align:xt,renderingMode:Ze.renderingMode}),ui&&this.pdf.restoreGraphicsState()}}else On.y<Mn&&(this.ctx.prevPageLastElemOffset+=Mn-On.y);Ze.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=Kt)}}else Ze.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Ze.scale),Kt=this.lineWidth,this.lineWidth=Kt*Ze.scale),this.pdf.text(Ze.text,Pr.x+this.posX,Pr.y+this.posY,{angle:Ze.angle,align:xt,renderingMode:Ze.renderingMode,maxWidth:Ze.maxWidth}),Ze.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=Kt)},Et=function(Ze,xt,Ct,Wt){Ct=Ct||0,Wt=Wt||0,this.pdf.internal.out(D(Ze+Ct)+" "+V(xt+Wt)+" l")},It=function(Ze,xt,Ct){return this.pdf.lines(Ze,xt,Ct,null,null)},ur=function(Ze,xt,Ct,Wt,Kt,nr,gr,xr){this.pdf.internal.out([B(Z(Ct+Ze)),B(ne(Wt+xt)),B(Z(Kt+Ze)),B(ne(nr+xt)),B(Z(gr+Ze)),B(ne(xr+xt)),"c"].join(" "))},pr=function(Ze,xt,Ct,Wt){for(var Kt=2*Math.PI,nr=Math.PI/2;xt>Ct;)xt-=Kt;var gr=Math.abs(Ct-xt);gr<Kt&&Wt&&(gr=Kt-gr);for(var xr=[],Pr=Wt?-1:1,Yr=xt;gr>1e-5;){var Nn=Yr+Pr*Math.min(gr,nr);xr.push(yr.call(this,Ze,Yr,Nn)),gr-=Math.abs(Nn-Yr),Yr=Nn}return xr},yr=function(Ze,xt,Ct){var Wt=(Ct-xt)/2,Kt=Ze*Math.cos(Wt),nr=Ze*Math.sin(Wt),gr=Kt,xr=-nr,Pr=gr*gr+xr*xr,Yr=Pr+gr*Kt+xr*nr,Nn=4/3*(Math.sqrt(2*Pr*Yr)-Yr)/(gr*nr-xr*Kt),Bn=gr-Nn*xr,ca=xr+Nn*gr,ut=Bn,An=-ca,va=Wt+xt,dn=Math.cos(va),Hr=Math.sin(va);return{x1:Ze*Math.cos(xt),y1:Ze*Math.sin(xt),x2:Bn*dn-ca*Hr,y2:Bn*Hr+ca*dn,x3:ut*dn-An*Hr,y3:ut*Hr+An*dn,x4:Ze*Math.cos(Ct),y4:Ze*Math.sin(Ct)}},Jt=function(Ze){return 180*Ze/Math.PI},vr=function(Ze,xt,Ct,Wt,Kt,nr){var gr=Ze+.5*(Ct-Ze),xr=xt+.5*(Wt-xt),Pr=Kt+.5*(Ct-Kt),Yr=nr+.5*(Wt-nr),Nn=Math.min(Ze,Kt,gr,Pr),Bn=Math.max(Ze,Kt,gr,Pr),ca=Math.min(xt,nr,xr,Yr),ut=Math.max(xt,nr,xr,Yr);return new fe(Nn,ca,Bn-Nn,ut-ca)},Xr=function(Ze,xt,Ct,Wt,Kt,nr,gr,xr){var Pr,Yr,Nn,Bn,ca,ut,An,va,dn,Hr,sa,Dn,Zn,Mn,pi=Ct-Ze,Ha=Wt-xt,Fn=Kt-Ct,oi=nr-Wt,oa=gr-Kt,On=xr-nr;for(Yr=0;Yr<41;Yr++)dn=(An=(Nn=Ze+(Pr=Yr/40)*pi)+Pr*((ca=Ct+Pr*Fn)-Nn))+Pr*(ca+Pr*(Kt+Pr*oa-ca)-An),Hr=(va=(Bn=xt+Pr*Ha)+Pr*((ut=Wt+Pr*oi)-Bn))+Pr*(ut+Pr*(nr+Pr*On-ut)-va),Yr==0?(sa=dn,Dn=Hr,Zn=dn,Mn=Hr):(sa=Math.min(sa,dn),Dn=Math.min(Dn,Hr),Zn=Math.max(Zn,dn),Mn=Math.max(Mn,Hr));return new fe(Math.round(sa),Math.round(Dn),Math.round(Zn-sa),Math.round(Mn-Dn))},Ur=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ze,xt,Ct=(Ze=this.ctx.lineDash,xt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ze,lineDashOffset:xt}));this.prevLineDash!==Ct&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ct)}}})(J.API),(function(I){var B=function(Se){var fe,ge,Re,Ve,et,st,Fe,vt,mt,yt;for(ge=[],Re=0,Ve=(Se+=fe="\0\0\0\0".slice(Se.length%4||4)).length;Ve>Re;Re+=4)(et=(Se.charCodeAt(Re)<<24)+(Se.charCodeAt(Re+1)<<16)+(Se.charCodeAt(Re+2)<<8)+Se.charCodeAt(Re+3))!==0?(st=(et=((et=((et=((et=(et-(yt=et%85))/85)-(mt=et%85))/85)-(vt=et%85))/85)-(Fe=et%85))/85)%85,ge.push(st+33,Fe+33,vt+33,mt+33,yt+33)):ge.push(122);return(function(nt,kt){for(var Gt=kt;Gt>0;Gt--)nt.pop()})(ge,fe.length),String.fromCharCode.apply(String,ge)+"~>"},D=function(Se){var fe,ge,Re,Ve,et,st=String,Fe="length",vt=255,mt="charCodeAt",yt="slice",nt="replace";for(Se[yt](-2),Se=Se[yt](0,-2)[nt](/\s/g,"")[nt]("z","!!!!!"),Re=[],Ve=0,et=(Se+=fe="uuuuu"[yt](Se[Fe]%5||5))[Fe];et>Ve;Ve+=5)ge=52200625*(Se[mt](Ve)-33)+614125*(Se[mt](Ve+1)-33)+7225*(Se[mt](Ve+2)-33)+85*(Se[mt](Ve+3)-33)+(Se[mt](Ve+4)-33),Re.push(vt&ge>>24,vt&ge>>16,vt&ge>>8,vt&ge);return(function(kt,Gt){for(var St=Gt;St>0;St--)kt.pop()})(Re,fe[Fe]),st.fromCharCode.apply(st,Re)},V=function(Se){return Se.split("").map(function(fe){return("0"+fe.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Z=function(Se){var fe=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Se=Se.replace(/\s/g,"")).indexOf(">")!==-1&&(Se=Se.substr(0,Se.indexOf(">"))),Se.length%2&&(Se+="0"),fe.test(Se)===!1)return"";for(var ge="",Re=0;Re<Se.length;Re+=2)ge+=String.fromCharCode("0x"+(Se[Re]+Se[Re+1]));return ge},ne=function(Se){for(var fe=new Uint8Array(Se.length),ge=Se.length;ge--;)fe[ge]=Se.charCodeAt(ge);return(fe=(0,d.zlibSync)(fe)).reduce(function(Re,Ve){return Re+String.fromCharCode(Ve)},"")};I.processDataByFilters=function(Se,fe){var ge=0,Re=Se||"",Ve=[];for(typeof(fe=fe||[])=="string"&&(fe=[fe]),ge=0;ge<fe.length;ge+=1)switch(fe[ge]){case"ASCII85Decode":case"/ASCII85Decode":Re=D(Re),Ve.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Re=B(Re),Ve.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Re=Z(Re),Ve.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Re=V(Re),Ve.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Re=ne(Re),Ve.push("/FlateDecode");break;default:throw new Error('The filter: "'+fe[ge]+'" is not implemented')}return{data:Re,reverseChain:Ve.reverse().join(" ")}}})(J.API),(function(I){I.loadFile=function(B,D,V){return(function(Z,ne,Se){ne=ne!==!1,Se=typeof Se=="function"?Se:function(){};var fe=void 0;try{fe=(function(ge,Re,Ve){var et=new XMLHttpRequest,st=0,Fe=function(vt){var mt=vt.length,yt=[],nt=String.fromCharCode;for(st=0;st<mt;st+=1)yt.push(nt(255&vt.charCodeAt(st)));return yt.join("")};if(et.open("GET",ge,!Re),et.overrideMimeType("text/plain; charset=x-user-defined"),Re===!1&&(et.onload=function(){et.status===200?Ve(Fe(this.responseText)):Ve(void 0)}),et.send(null),Re&&et.status===200)return Fe(et.responseText)})(Z,ne,Se)}catch{}return fe})(B,D,V)},I.allowFsRead=void 0,I.loadImageFile=I.loadFile})(J.API),(function(I){function B(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(fe){return Promise.reject(new Error("Could not load html2canvas: "+fe))}).then(function(fe){return fe.default?fe.default:fe})}function D(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(fe){return Promise.reject(new Error("Could not load dompurify: "+fe))}).then(function(fe){return fe.default?fe.default:fe})}var V=function(fe){var ge=(0,h.default)(fe);return ge==="undefined"?"undefined":ge==="string"||fe instanceof String?"string":ge==="number"||fe instanceof Number?"number":ge==="function"||fe instanceof Function?"function":fe&&fe.constructor===Array?"array":fe&&fe.nodeType===1?"element":ge==="object"?"object":"unknown"},Z=function(fe,ge){var Re=document.createElement(fe);for(var Ve in ge.className&&(Re.className=ge.className),ge.innerHTML&&ge.dompurify&&(Re.innerHTML=ge.dompurify.sanitize(ge.innerHTML)),ge.style)Re.style[Ve]=ge.style[Ve];return Re},ne=function fe(ge,Re){for(var Ve=ge.nodeType===3?document.createTextNode(ge.nodeValue):ge.cloneNode(!1),et=ge.firstChild;et;et=et.nextSibling)Re!==!0&&et.nodeType===1&&et.nodeName==="SCRIPT"||Ve.appendChild(fe(et,Re));return ge.nodeType===1&&(ge.nodeName==="CANVAS"?(Ve.width=ge.width,Ve.height=ge.height,Ve.getContext("2d").drawImage(ge,0,0)):ge.nodeName!=="TEXTAREA"&&ge.nodeName!=="SELECT"||(Ve.value=ge.value),Ve.addEventListener("load",function(){Ve.scrollTop=ge.scrollTop,Ve.scrollLeft=ge.scrollLeft},!0)),Ve},Se=function fe(ge){var Re=Object.assign(fe.convert(Promise.resolve()),JSON.parse(JSON.stringify(fe.template))),Ve=fe.convert(Promise.resolve(),Re);return(Ve=Ve.setProgress(1,fe,1,[fe])).set(ge)};(Se.prototype=Object.create(Promise.prototype)).constructor=Se,Se.convert=function(fe,ge){return fe.__proto__=ge||Se.prototype,fe},Se.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Se.prototype.from=function(fe,ge){return this.then(function(){switch(ge=ge||(function(Re){switch(V(Re)){case"string":return"string";case"element":return Re.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(fe),ge){case"string":return this.then(D).then(function(Re){return this.set({src:Z("div",{innerHTML:fe,dompurify:Re})})});case"element":return this.set({src:fe});case"canvas":return this.set({canvas:fe});case"img":return this.set({img:fe});default:return this.error("Unknown source type.")}})},Se.prototype.to=function(fe){switch(fe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Se.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var fe={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ge=ne(this.prop.src,this.opt.html2canvas.javascriptEnabled);ge.tagName==="BODY"&&(fe.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Z("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Z("div",{className:"html2pdf__container",style:fe}),this.prop.container.appendChild(ge),this.prop.container.firstChild.appendChild(Z("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Se.prototype.toCanvas=function(){var fe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(fe).then(B).then(function(ge){var Re=Object.assign({},this.opt.html2canvas);return delete Re.onrendered,ge(this.prop.container,Re)}).then(function(ge){(this.opt.html2canvas.onrendered||function(){})(ge),this.prop.canvas=ge,document.body.removeChild(this.prop.overlay)})},Se.prototype.toContext2d=function(){var fe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(fe).then(B).then(function(ge){var Re=this.opt.jsPDF,Ve=this.opt.fontFaces,et=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,st=Object.assign({async:!0,allowTaint:!0,scale:et,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete st.onrendered,Re.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Re.context2d.posX=this.opt.x,Re.context2d.posY=this.opt.y,Re.context2d.margin=this.opt.margin,Re.context2d.fontFaces=Ve,Ve)for(var Fe=0;Fe<Ve.length;++Fe){var vt=Ve[Fe],mt=vt.src.find(function(yt){return yt.format==="truetype"});mt&&Re.addFont(mt.url,vt.ref.name,vt.ref.style)}return st.windowHeight=st.windowHeight||0,st.windowHeight=st.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):st.windowHeight,Re.context2d.save(!0),ge(this.prop.container,st)}).then(function(ge){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ge),this.prop.canvas=ge,document.body.removeChild(this.prop.overlay)})},Se.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var fe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=fe})},Se.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Se.prototype.output=function(fe,ge,Re){return(Re=Re||"pdf").toLowerCase()==="img"||Re.toLowerCase()==="image"?this.outputImg(fe,ge):this.outputPdf(fe,ge)},Se.prototype.outputPdf=function(fe,ge){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(fe,ge)})},Se.prototype.outputImg=function(fe){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(fe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+fe+'" is not supported.'}})},Se.prototype.save=function(fe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(fe?{filename:fe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Se.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Se.prototype.set=function(fe){if(V(fe)!=="object")return this;var ge=Object.keys(fe||{}).map(function(Re){if(Re in Se.template.prop)return function(){this.prop[Re]=fe[Re]};switch(Re){case"margin":return this.setMargin.bind(this,fe.margin);case"jsPDF":return function(){return this.opt.jsPDF=fe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,fe.pageSize);default:return function(){this.opt[Re]=fe[Re]}}},this);return this.then(function(){return this.thenList(ge)})},Se.prototype.get=function(fe,ge){return this.then(function(){var Re=fe in Se.template.prop?this.prop[fe]:this.opt[fe];return ge?ge(Re):Re})},Se.prototype.setMargin=function(fe){return this.then(function(){switch(V(fe)){case"number":fe=[fe,fe,fe,fe];case"array":if(fe.length===2&&(fe=[fe[0],fe[1],fe[0],fe[1]]),fe.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=fe}).then(this.setPageSize)},Se.prototype.setPageSize=function(fe){function ge(Re,Ve){return Math.floor(Re*Ve/72*96)}return this.then(function(){(fe=fe||J.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(fe.inner={width:fe.width-this.opt.margin[1]-this.opt.margin[3],height:fe.height-this.opt.margin[0]-this.opt.margin[2]},fe.inner.px={width:ge(fe.inner.width,fe.k),height:ge(fe.inner.height,fe.k)},fe.inner.ratio=fe.inner.height/fe.inner.width),this.prop.pageSize=fe})},Se.prototype.setProgress=function(fe,ge,Re,Ve){return fe!=null&&(this.progress.val=fe),ge!=null&&(this.progress.state=ge),Re!=null&&(this.progress.n=Re),Ve!=null&&(this.progress.stack=Ve),this.progress.ratio=this.progress.val/this.progress.state,this},Se.prototype.updateProgress=function(fe,ge,Re,Ve){return this.setProgress(fe?this.progress.val+fe:null,ge||null,Re?this.progress.n+Re:null,Ve?this.progress.stack.concat(Ve):null)},Se.prototype.then=function(fe,ge){var Re=this;return this.thenCore(fe,ge,function(Ve,et){return Re.updateProgress(null,null,1,[Ve]),Promise.prototype.then.call(this,function(st){return Re.updateProgress(null,Ve),st}).then(Ve,et).then(function(st){return Re.updateProgress(1),st})})},Se.prototype.thenCore=function(fe,ge,Re){Re=Re||Promise.prototype.then;var Ve=this;fe&&(fe=fe.bind(Ve)),ge&&(ge=ge.bind(Ve));var et=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ve:Se.convert(Object.assign({},Ve),Promise.prototype),st=Re.call(et,fe,ge);return Se.convert(st,Ve.__proto__)},Se.prototype.thenExternal=function(fe,ge){return Promise.prototype.then.call(this,fe,ge)},Se.prototype.thenList=function(fe){var ge=this;return fe.forEach(function(Re){ge=ge.thenCore(Re)}),ge},Se.prototype.catch=function(fe){fe&&(fe=fe.bind(this));var ge=Promise.prototype.catch.call(this,fe);return Se.convert(ge,this)},Se.prototype.catchExternal=function(fe){return Promise.prototype.catch.call(this,fe)},Se.prototype.error=function(fe){return this.then(function(){throw new Error(fe)})},Se.prototype.using=Se.prototype.set,Se.prototype.saveAs=Se.prototype.save,Se.prototype.export=Se.prototype.output,Se.prototype.run=Se.prototype.then,J.getPageSize=function(fe,ge,Re){if((0,h.default)(fe)==="object"){var Ve=fe;fe=Ve.orientation,ge=Ve.unit||ge,Re=Ve.format||Re}ge=ge||"mm",Re=Re||"a4",fe=(""+(fe||"P")).toLowerCase();var et,st=(""+Re).toLowerCase(),Fe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ge){case"pt":et=1;break;case"mm":et=2.834645669291339;break;case"cm":et=28.346456692913385;break;case"in":et=72;break;case"px":et=.75;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:throw"Invalid unit: "+ge}var vt,mt=0,yt=0;if(Fe.hasOwnProperty(st))mt=Fe[st][1]/et,yt=Fe[st][0]/et;else try{mt=Re[1],yt=Re[0]}catch{throw new Error("Invalid format: "+Re)}if(fe==="p"||fe==="portrait")fe="p",yt>mt&&(vt=yt,yt=mt,mt=vt);else{if(fe!=="l"&&fe!=="landscape")throw"Invalid orientation: "+fe;fe="l",mt>yt&&(vt=yt,yt=mt,mt=vt)}return{width:yt,height:mt,unit:ge,k:et,orientation:fe}},I.html=function(fe,ge){(ge=ge||{}).callback=ge.callback||function(){},ge.html2canvas=ge.html2canvas||{},ge.html2canvas.canvas=ge.html2canvas.canvas||this.canvas,ge.jsPDF=ge.jsPDF||this,ge.fontFaces=ge.fontFaces?ge.fontFaces.map(Ps):null;var Re=new Se(ge);return ge.worker?Re:Re.from(fe).doCallback()}})(J.API),J.API.addJS=function(I){return xo=I,this.internal.events.subscribe("postPutResources",function(){El=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(El+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Wi=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){El!==void 0&&Wi!==void 0&&this.internal.out("/Names <</JavaScript "+El+" 0 R>>")}),this},(function(I){var B;I.events.push(["postPutResources",function(){var D=this,V=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Z=D.outline.render().split(/\r\n/),ne=0;ne<Z.length;ne++){var Se=Z[ne],fe=V.exec(Se);if(fe!=null){var ge=fe[1];D.internal.newObjectDeferredBegin(ge,!1)}D.internal.write(Se)}if(this.outline.createNamedDestinations){var Re=this.internal.pages.length,Ve=[];for(ne=0;ne<Re;ne++){var et=D.internal.newObject();Ve.push(et);var st=D.internal.getPageInfo(ne+1);D.internal.write("<< /D["+st.objId+" 0 R /XYZ null null null]>> endobj")}var Fe=D.internal.newObject();for(D.internal.write("<< /Names [ "),ne=0;ne<Ve.length;ne++)D.internal.write("(page_"+(ne+1)+")"+Ve[ne]+" 0 R");D.internal.write(" ] >>","endobj"),B=D.internal.newObject(),D.internal.write("<< /Dests "+Fe+" 0 R"),D.internal.write(">>","endobj")}}]),I.events.push(["putCatalog",function(){var D=this;D.outline.root.children.length>0&&(D.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&D.internal.write("/Names "+B+" 0 R"))}]),I.events.push(["initialized",function(){var D=this;D.outline={createNamedDestinations:!1,root:{children:[]}},D.outline.add=function(V,Z,ne){var Se={title:Z,options:ne,children:[]};return V==null&&(V=this.root),V.children.push(Se),Se},D.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=D,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},D.outline.genIds_r=function(V){V.id=D.internal.newObjectDeferred();for(var Z=0;Z<V.children.length;Z++)this.genIds_r(V.children[Z])},D.outline.renderRoot=function(V){this.objStart(V),this.line("/Type /Outlines"),V.children.length>0&&(this.line("/First "+this.makeRef(V.children[0])),this.line("/Last "+this.makeRef(V.children[V.children.length-1]))),this.line("/Count "+this.count_r({count:0},V)),this.objEnd()},D.outline.renderItems=function(V){for(var Z=this.ctx.pdf.internal.getVerticalCoordinateString,ne=0;ne<V.children.length;ne++){var Se=V.children[ne];this.objStart(Se),this.line("/Title "+this.makeString(Se.title)),this.line("/Parent "+this.makeRef(V)),ne>0&&this.line("/Prev "+this.makeRef(V.children[ne-1])),ne<V.children.length-1&&this.line("/Next "+this.makeRef(V.children[ne+1])),Se.children.length>0&&(this.line("/First "+this.makeRef(Se.children[0])),this.line("/Last "+this.makeRef(Se.children[Se.children.length-1])));var fe=this.count=this.count_r({count:0},Se);if(fe>0&&this.line("/Count "+fe),Se.options&&Se.options.pageNumber){var ge=D.internal.getPageInfo(Se.options.pageNumber);this.line("/Dest ["+ge.objId+" 0 R /XYZ 0 "+Z(0)+" 0]")}this.objEnd()}for(var Re=0;Re<V.children.length;Re++)this.renderItems(V.children[Re])},D.outline.line=function(V){this.ctx.val+=V+`\r
`},D.outline.makeRef=function(V){return V.id+" 0 R"},D.outline.makeString=function(V){return"("+D.internal.pdfEscape(V)+")"},D.outline.objStart=function(V){this.ctx.val+=`\r
`+V.id+` 0 obj\r
<<\r
`},D.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},D.outline.count_r=function(V,Z){for(var ne=0;ne<Z.children.length;ne++)V.count++,this.count_r(V,Z.children[ne]);return V.count}}])})(J.API),(function(I){var B=[192,193,194,195,196,197,198,199];I.processJPEG=function(D,V,Z,ne,Se,fe){var ge,Re=this.decode.DCT_DECODE,Ve=null;if(typeof D=="string"||this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D)){switch(D=Se||D,D=this.__addimage__.isArrayBuffer(D)?new Uint8Array(D):D,ge=(function(et){for(var st,Fe=256*et.charCodeAt(4)+et.charCodeAt(5),vt=et.length,mt={width:0,height:0,numcomponents:1},yt=4;yt<vt;yt+=2){if(yt+=Fe,B.indexOf(et.charCodeAt(yt+1))!==-1){st=256*et.charCodeAt(yt+5)+et.charCodeAt(yt+6),mt={width:256*et.charCodeAt(yt+7)+et.charCodeAt(yt+8),height:st,numcomponents:et.charCodeAt(yt+9)};break}Fe=256*et.charCodeAt(yt+2)+et.charCodeAt(yt+3)}return mt})(D=this.__addimage__.isArrayBufferView(D)?this.__addimage__.arrayBufferToBinaryString(D):D),ge.numcomponents){case 1:fe=this.color_spaces.DEVICE_GRAY;break;case 4:fe=this.color_spaces.DEVICE_CMYK;break;case 3:fe=this.color_spaces.DEVICE_RGB}Ve={data:D,width:ge.width,height:ge.height,colorSpace:fe,bitsPerComponent:8,filter:Re,index:V,alias:Z}}return Ve}})(J.API),J.API.processPNG=function(I,B,D,V){if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){var Z,ne=(0,f.decode)(I,{checkCrc:!0}),Se=ne.width,fe=ne.height,ge=ne.channels,Re=ne.palette,Ve=ne.depth;Z=Re&&ge===1?(function(Xt){for(var Tt=Xt.width,or=Xt.height,at=Xt.data,dt=Xt.palette,Et=Xt.depth,It=!1,ur=[],pr=[],yr=void 0,Jt=!1,vr=0,Xr=0;Xr<dt.length;Xr++){var Ur=(0,A.default)(dt[Xr],4),Ze=Ur[0],xt=Ur[1],Ct=Ur[2],Wt=Ur[3];ur.push(Ze,xt,Ct),Wt!=null&&(Wt===0?(vr++,pr.length<1&&pr.push(Xr)):Wt<255&&(Jt=!0))}if(Jt||vr>1){It=!0,pr=void 0;var Kt=Tt*or;yr=new Uint8Array(Kt);for(var nr=new DataView(at.buffer),gr=0;gr<Kt;gr++){var xr=cs(nr,gr,Et),Pr=(0,A.default)(dt[xr],4)[3];yr[gr]=Pr}}else vr===0&&(pr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:It?8:void 0,colorBytes:at,alphaBytes:yr,needSMask:It,palette:ur,mask:pr}})(ne):ge===2||ge===4?(function(Xt){for(var Tt=Xt.data,or=Xt.width,at=Xt.height,dt=Xt.channels,Et=Xt.depth,It=dt===2?"DeviceGray":"DeviceRGB",ur=dt-1,pr=or*at,yr=ur,Jt=pr*yr,vr=1*pr,Xr=Math.ceil(Jt*Et/8),Ur=Math.ceil(vr*Et/8),Ze=new Uint8Array(Xr),xt=new Uint8Array(Ur),Ct=new DataView(Tt.buffer),Wt=new DataView(Ze.buffer),Kt=new DataView(xt.buffer),nr=!1,gr=0;gr<pr;gr++){for(var xr=gr*dt,Pr=0;Pr<yr;Pr++)Gn(Wt,cs(Ct,xr+Pr,Et),gr*yr+Pr,Et);var Yr=cs(Ct,xr+yr,Et);Yr<(1<<Et)-1&&(nr=!0),Gn(Kt,Yr,1*gr,Et)}return{colorSpace:It,colorsPerPixel:ur,sMaskBitsPerComponent:nr?Et:void 0,colorBytes:Ze,alphaBytes:xt,needSMask:nr}})(ne):(function(Xt){var Tt=Xt.data,or=Xt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:or,colorsPerPixel:or==="DeviceGray"?1:3,colorBytes:Tt instanceof Uint16Array?(function(at){for(var dt=at.length,Et=new Uint8Array(2*dt),It=new DataView(Et.buffer,Et.byteOffset,Et.byteLength),ur=0;ur<dt;ur++)It.setUint16(2*ur,at[ur],!1);return Et})(Tt):Tt,needSMask:!1}})(ne);var et,st,Fe,vt=Z,mt=vt.colorSpace,yt=vt.colorsPerPixel,nt=vt.sMaskBitsPerComponent,kt=vt.colorBytes,Gt=vt.alphaBytes,St=vt.needSMask,tt=vt.palette,Qt=vt.mask,cr=null;return V!==J.API.image_compression.NONE&&typeof d.zlibSync=="function"?(cr=(function(Xt){var Tt;switch(Xt){case J.API.image_compression.FAST:Tt=11;break;case J.API.image_compression.MEDIUM:Tt=13;break;case J.API.image_compression.SLOW:Tt=14;break;default:Tt=12}return Tt})(V),et=this.decode.FLATE_DECODE,st="/Predictor ".concat(cr," /Colors ").concat(yt," /BitsPerComponent ").concat(Ve," /Columns ").concat(Se),I=rl(kt,Math.ceil(Se*yt*Ve/8),yt,Ve,V),St&&(Fe=rl(Gt,Math.ceil(Se*nt/8),1,nt,V))):(et=void 0,st=void 0,I=kt,St&&(Fe=Gt)),(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Fe&&this.__addimage__.isArrayBuffer(Fe)||this.__addimage__.isArrayBufferView(Fe))&&(Fe=this.__addimage__.arrayBufferToBinaryString(Fe)),{alias:D,data:I,index:B,filter:et,decodeParameters:st,transparency:Qt,palette:tt,sMask:Fe,predictor:cr,width:Se,height:fe,bitsPerComponent:Ve,sMaskBitsPerComponent:nt,colorSpace:mt}}},(function(I){I.processGIF89A=function(B,D,V,Z){var ne=new xs(B),Se=ne.width,fe=ne.height,ge=[];ne.decodeAndBlitFrameRGBA(0,ge);var Re={data:ge,width:Se,height:fe},Ve=new ko(100).encode(Re,100);return I.processJPEG.call(this,Ve,D,V,Z)},I.processGIF87A=I.processGIF89A})(J.API),Ri.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var I=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(I);for(var B=0;B<I;B++){var D=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0);this.palette[B]={red:Z,green:V,blue:D,quad:ne}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ri.prototype.parseBGR=function(){this.pos=this.offset;try{var I="bit"+this.bitPP,B=this.width*this.height*4;this.data=new Uint8Array(B),this[I]()}catch(D){x.log("bit decode error:"+D)}},Ri.prototype.bit1=function(){var I,B=Math.ceil(this.width/8),D=B%4;for(I=this.height-1;I>=0;I--){for(var V=this.bottom_up?I:this.height-1-I,Z=0;Z<B;Z++)for(var ne=this.datav.getUint8(this.pos++,!0),Se=V*this.width*4+8*Z*4,fe=0;fe<8&&8*Z+fe<this.width;fe++){var ge=this.palette[ne>>7-fe&1];this.data[Se+4*fe]=ge.blue,this.data[Se+4*fe+1]=ge.green,this.data[Se+4*fe+2]=ge.red,this.data[Se+4*fe+3]=255}D!==0&&(this.pos+=4-D)}},Ri.prototype.bit4=function(){for(var I=Math.ceil(this.width/2),B=I%4,D=this.height-1;D>=0;D--){for(var V=this.bottom_up?D:this.height-1-D,Z=0;Z<I;Z++){var ne=this.datav.getUint8(this.pos++,!0),Se=V*this.width*4+2*Z*4,fe=ne>>4,ge=15&ne,Re=this.palette[fe];if(this.data[Se]=Re.blue,this.data[Se+1]=Re.green,this.data[Se+2]=Re.red,this.data[Se+3]=255,2*Z+1>=this.width)break;Re=this.palette[ge],this.data[Se+4]=Re.blue,this.data[Se+4+1]=Re.green,this.data[Se+4+2]=Re.red,this.data[Se+4+3]=255}B!==0&&(this.pos+=4-B)}},Ri.prototype.bit8=function(){for(var I=this.width%4,B=this.height-1;B>=0;B--){for(var D=this.bottom_up?B:this.height-1-B,V=0;V<this.width;V++){var Z=this.datav.getUint8(this.pos++,!0),ne=D*this.width*4+4*V;if(Z<this.palette.length){var Se=this.palette[Z];this.data[ne]=Se.red,this.data[ne+1]=Se.green,this.data[ne+2]=Se.blue,this.data[ne+3]=255}else this.data[ne]=255,this.data[ne+1]=255,this.data[ne+2]=255,this.data[ne+3]=255}I!==0&&(this.pos+=4-I)}},Ri.prototype.bit15=function(){for(var I=this.width%3,B=parseInt("11111",2),D=this.height-1;D>=0;D--){for(var V=this.bottom_up?D:this.height-1-D,Z=0;Z<this.width;Z++){var ne=this.datav.getUint16(this.pos,!0);this.pos+=2;var Se=(ne&B)/B*255|0,fe=(ne>>5&B)/B*255|0,ge=(ne>>10&B)/B*255|0,Re=ne>>15?255:0,Ve=V*this.width*4+4*Z;this.data[Ve]=ge,this.data[Ve+1]=fe,this.data[Ve+2]=Se,this.data[Ve+3]=Re}this.pos+=I}},Ri.prototype.bit16=function(){for(var I=this.width%3,B=parseInt("11111",2),D=parseInt("111111",2),V=this.height-1;V>=0;V--){for(var Z=this.bottom_up?V:this.height-1-V,ne=0;ne<this.width;ne++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var fe=(Se&B)/B*255|0,ge=(Se>>5&D)/D*255|0,Re=(Se>>11)/B*255|0,Ve=Z*this.width*4+4*ne;this.data[Ve]=Re,this.data[Ve+1]=ge,this.data[Ve+2]=fe,this.data[Ve+3]=255}this.pos+=I}},Ri.prototype.bit24=function(){for(var I=this.height-1;I>=0;I--){for(var B=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var V=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0),Se=B*this.width*4+4*D;this.data[Se]=ne,this.data[Se+1]=Z,this.data[Se+2]=V,this.data[Se+3]=255}this.pos+=this.width%4}},Ri.prototype.bit32=function(){for(var I=this.height-1;I>=0;I--)for(var B=this.bottom_up?I:this.height-1-I,D=0;D<this.width;D++){var V=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),ne=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),fe=B*this.width*4+4*D;this.data[fe]=ne,this.data[fe+1]=Z,this.data[fe+2]=V,this.data[fe+3]=Se}},Ri.prototype.getData=function(){return this.data},(function(I){I.processBMP=function(B,D,V,Z){var ne=new Ri(B,!1),Se=ne.width,fe=ne.height,ge={data:ne.getData(),width:Se,height:fe},Re=new ko(100).encode(ge,100);return I.processJPEG.call(this,Re,D,V,Z)}})(J.API),lo.prototype.getData=function(){return this.data},(function(I){I.processWEBP=function(B,D,V,Z){var ne=new lo(B),Se=ne.width,fe=ne.height,ge={data:ne.getData(),width:Se,height:fe},Re=new ko(100).encode(ge,100);return I.processJPEG.call(this,Re,D,V,Z)}})(J.API),J.API.processRGBA=function(I,B,D){for(var V=I.data,Z=V.length,ne=new Uint8Array(Z/4*3),Se=new Uint8Array(Z/4),fe=0,ge=0,Re=0;Re<Z;Re+=4){var Ve=V[Re],et=V[Re+1],st=V[Re+2],Fe=V[Re+3];ne[fe++]=Ve,ne[fe++]=et,ne[fe++]=st,Se[ge++]=Fe}var vt=this.__addimage__.arrayBufferToBinaryString(ne);return{alpha:this.__addimage__.arrayBufferToBinaryString(Se),data:vt,index:B,alias:D,colorSpace:"DeviceRGB",bitsPerComponent:8,width:I.width,height:I.height}},J.API.setLanguage=function(I){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[I]!==void 0&&(this.internal.languageSettings.languageCode=I,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ha=J.API,Jl=ha.getCharWidthsArray=function(I,B){var D,V,Z=(B=B||{}).font||this.internal.getFont(),ne=B.fontSize||this.internal.getFontSize(),Se=B.charSpace||this.internal.getCharSpace(),fe=B.widths?B.widths:Z.metadata.Unicode.widths,ge=fe.fof?fe.fof:1,Re=B.kerning?B.kerning:Z.metadata.Unicode.kerning,Ve=Re.fof?Re.fof:1,et=B.doKerning!==!1,st=0,Fe=I.length,vt=0,mt=fe[0]||ge,yt=[];for(D=0;D<Fe;D++)V=I.charCodeAt(D),typeof Z.metadata.widthOfString=="function"?yt.push((Z.metadata.widthOfGlyph(Z.metadata.characterToGlyph(V))+Se*(1e3/ne)||0)/1e3):(st=et&&(0,h.default)(Re[V])==="object"&&!isNaN(parseInt(Re[V][vt],10))?Re[V][vt]/Ve:0,yt.push((fe[V]||mt)/ge+st)),vt=V;return yt},ai=ha.getStringUnitWidth=function(I,B){var D=(B=B||{}).fontSize||this.internal.getFontSize(),V=B.font||this.internal.getFont(),Z=B.charSpace||this.internal.getCharSpace();return ha.processArabic&&(I=ha.processArabic(I)),typeof V.metadata.widthOfString=="function"?V.metadata.widthOfString(I,D,Z)/D:Jl.apply(this,arguments).reduce(function(ne,Se){return ne+Se},0)},Io=function(I,B,D,V){for(var Z=[],ne=0,Se=I.length,fe=0;ne!==Se&&fe+B[ne]<D;)fe+=B[ne],ne++;Z.push(I.slice(0,ne));var ge=ne;for(fe=0;ne!==Se;)fe+B[ne]>V&&(Z.push(I.slice(ge,ne)),fe=0,ge=ne),fe+=B[ne],ne++;return ge!==ne&&Z.push(I.slice(ge,ne)),Z},Xs=function(I,B,D){D||(D={});var V,Z,ne,Se,fe,ge,Re,Ve=[],et=[Ve],st=D.textIndent||0,Fe=0,vt=0,mt=I.split(" "),yt=Jl.apply(this,[" ",D])[0];if(ge=D.lineIndent===-1?mt[0].length+2:D.lineIndent||0){var nt=Array(ge).join(" "),kt=[];mt.map(function(St){(St=St.split(/\s*\n/)).length>1?kt=kt.concat(St.map(function(tt,Qt){return(Qt&&tt.length?`
`:"")+tt})):kt.push(St[0])}),mt=kt,ge=ai.apply(this,[nt,D])}for(ne=0,Se=mt.length;ne<Se;ne++){var Gt=0;if(V=mt[ne],ge&&V[0]==`
`&&(V=V.substr(1),Gt=1),st+Fe+(vt=(Z=Jl.apply(this,[V,D])).reduce(function(St,tt){return St+tt},0))>B||Gt){if(vt>B){for(fe=Io.apply(this,[V,Z,B-(st+Fe),B]),Ve.push(fe.shift()),Ve=[fe.pop()];fe.length;)et.push([fe.shift()]);vt=Z.slice(V.length-(Ve[0]?Ve[0].length:0)).reduce(function(St,tt){return St+tt},0)}else Ve=[V];et.push(Ve),st=vt+ge,Fe=yt}else Ve.push(V),st+=Fe+vt,Fe=yt}return Re=ge?function(St,tt){return(tt?nt:"")+St.join(" ")}:function(St){return St.join(" ")},et.map(Re)},ha.splitTextToSize=function(I,B,D){var V,Z=(D=D||{}).fontSize||this.internal.getFontSize(),ne=(function(Ve){if(Ve.widths&&Ve.kerning)return{widths:Ve.widths,kerning:Ve.kerning};var et=this.internal.getFont(Ve.fontName,Ve.fontStyle),st="Unicode";return et.metadata[st]?{widths:et.metadata[st].widths||{0:1},kerning:et.metadata[st].kerning||{}}:{font:et.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,D);V=Array.isArray(I)?I:String(I).split(/\r?\n/);var Se=1*this.internal.scaleFactor*B/Z;ne.textIndent=D.textIndent?1*D.textIndent*this.internal.scaleFactor/Z:0,ne.lineIndent=D.lineIndent;var fe,ge,Re=[];for(fe=0,ge=V.length;fe<ge;fe++)Re=Re.concat(Xs.apply(this,[V[fe],Se,ne]));return Re},(function(I){I.__fontmetrics__=I.__fontmetrics__||{};for(var B="0123456789abcdef",D="klmnopqrstuvwxyz",V={},Z={},ne=0;ne<16;ne++)V[D[ne]]=B[ne],Z[B[ne]]=D[ne];var Se=function(st){return"0x"+parseInt(st,10).toString(16)},fe=I.__fontmetrics__.compress=function(st){var Fe,vt,mt,yt,nt=["{"];for(var kt in st){if(Fe=st[kt],isNaN(parseInt(kt,10))?vt="'"+kt+"'":(kt=parseInt(kt,10),vt=(vt=Se(kt).slice(2)).slice(0,-1)+Z[vt.slice(-1)]),typeof Fe=="number")Fe<0?(mt=Se(Fe).slice(3),yt="-"):(mt=Se(Fe).slice(2),yt=""),mt=yt+mt.slice(0,-1)+Z[mt.slice(-1)];else{if((0,h.default)(Fe)!=="object")throw new Error("Don't know what to do with value type "+(0,h.default)(Fe)+".");mt=fe(Fe)}nt.push(vt+mt)}return nt.push("}"),nt.join("")},ge=I.__fontmetrics__.uncompress=function(st){if(typeof st!="string")throw new Error("Invalid argument passed to uncompress.");for(var Fe,vt,mt,yt,nt={},kt=1,Gt=nt,St=[],tt="",Qt="",cr=st.length-1,Xt=1;Xt<cr;Xt+=1)(yt=st[Xt])=="'"?Fe?(mt=Fe.join(""),Fe=void 0):Fe=[]:Fe?Fe.push(yt):yt=="{"?(St.push([Gt,mt]),Gt={},mt=void 0):yt=="}"?((vt=St.pop())[0][vt[1]]=Gt,mt=void 0,Gt=vt[0]):yt=="-"?kt=-1:mt===void 0?V.hasOwnProperty(yt)?(tt+=V[yt],mt=parseInt(tt,16)*kt,kt=1,tt=""):tt+=yt:V.hasOwnProperty(yt)?(Qt+=V[yt],Gt[mt]=parseInt(Qt,16)*kt,kt=1,mt=void 0,Qt=""):Qt+=yt;return nt},Re={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ge("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ve={Unicode:{Courier:Re,"Courier-Bold":Re,"Courier-BoldOblique":Re,"Courier-Oblique":Re,Helvetica:Re,"Helvetica-Bold":Re,"Helvetica-BoldOblique":Re,"Helvetica-Oblique":Re,"Times-Roman":Re,"Times-Bold":Re,"Times-BoldItalic":Re,"Times-Italic":Re}},et={Unicode:{"Courier-Oblique":ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ge("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ge("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ge("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ge("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ge("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ge("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ge("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ge("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ge("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ge("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};I.events.push(["addFont",function(st){var Fe=st.font,vt=et.Unicode[Fe.postScriptName];vt&&(Fe.metadata.Unicode={},Fe.metadata.Unicode.widths=vt.widths,Fe.metadata.Unicode.kerning=vt.kerning);var mt=Ve.Unicode[Fe.postScriptName];mt&&(Fe.metadata.Unicode.encoding=mt,Fe.encoding=mt.codePages[0])}])})(J.API),(function(I){var B=function(D){for(var V=D.length,Z=new Uint8Array(V),ne=0;ne<V;ne++)Z[ne]=D.charCodeAt(ne);return Z};I.API.events.push(["addFont",function(D){var V=void 0,Z=D.font,ne=D.instance;if(!Z.isStandardFont){if(ne===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");if(typeof(V=ne.existsFileInVFS(Z.postScriptName)===!1?ne.loadFile(Z.postScriptName):ne.getFileFromVFS(Z.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");(function(Se,fe){fe=/^\x00\x01\x00\x00/.test(fe)?B(fe):B(C(fe)),Se.metadata=I.API.TTFFont.open(fe),Se.metadata.Unicode=Se.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Se.metadata.glyIdsUsed=[0]})(Z,V)}}])})(J),J.API.addSvgAsImage=function(I,B,D,V,Z,ne,Se,fe){if(isNaN(B)||isNaN(D))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(V)||isNaN(Z))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ge=document.createElement("canvas");ge.width=V,ge.height=Z;var Re=ge.getContext("2d");Re.fillStyle="#fff",Re.fillRect(0,0,ge.width,ge.height);var Ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},et=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(st){return Promise.reject(new Error("Could not load canvg: "+st))}).then(function(st){return st.default?st.default:st}).then(function(st){return st.fromString(Re,I,Ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(st){return st.render(Ve)}).then(function(){et.addImage(ge.toDataURL("image/jpeg",1),B,D,V,Z,Se,fe)})},J.API.putTotalPages=function(I){var B,D=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(B=new RegExp(I,"g"),D=this.internal.getNumberOfPages()):(B=new RegExp(this.pdfEscape16(I,this.internal.getFont()),"g"),D=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var V=1;V<=this.internal.getNumberOfPages();V++)for(var Z=0;Z<this.internal.pages[V].length;Z++)this.internal.pages[V][Z]=this.internal.pages[V][Z].replace(B,D);return this},J.API.viewerPreferences=function(I,B){var D;I=I||{},B=B||!1;var V,Z,ne,Se={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},fe=Object.keys(Se),ge=[],Re=0,Ve=0,et=0;function st(vt,mt){var yt,nt=!1;for(yt=0;yt<vt.length;yt+=1)vt[yt]===mt&&(nt=!0);return nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Se)),this.internal.viewerpreferences.isSubscribed=!1),D=this.internal.viewerpreferences.configuration,I==="reset"||B===!0){var Fe=fe.length;for(et=0;et<Fe;et+=1)D[fe[et]].value=D[fe[et]].defaultValue,D[fe[et]].explicitSet=!1}if((0,h.default)(I)==="object"){for(Z in I)if(ne=I[Z],st(fe,Z)&&ne!==void 0){if(D[Z].type==="boolean"&&typeof ne=="boolean")D[Z].value=ne;else if(D[Z].type==="name"&&st(D[Z].valueSet,ne))D[Z].value=ne;else if(D[Z].type==="integer"&&Number.isInteger(ne))D[Z].value=ne;else if(D[Z].type==="array"){for(Re=0;Re<ne.length;Re+=1)if(V=!0,ne[Re].length===1&&typeof ne[Re][0]=="number")ge.push(String(ne[Re]-1));else if(ne[Re].length>1){for(Ve=0;Ve<ne[Re].length;Ve+=1)typeof ne[Re][Ve]!="number"&&(V=!1);V===!0&&ge.push([ne[Re][0]-1,ne[Re][1]-1].join(" "))}D[Z].value="["+ge.join(" ")+"]"}else D[Z].value=D[Z].defaultValue;D[Z].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var vt,mt=[];for(vt in D)D[vt].explicitSet===!0&&(D[vt].type==="name"?mt.push("/"+vt+" /"+D[vt].value):mt.push("/"+vt+" "+D[vt].value));mt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+mt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=D,this},(function(I){var B=function(){var V='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Z=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ne=unescape(encodeURIComponent(V)),Se=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),fe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ge=unescape(encodeURIComponent("</x:xmpmeta>")),Re=ne.length+Se.length+fe.length+Z.length+ge.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Re+" >>"),this.internal.write("stream"),this.internal.write(Z+ne+Se+fe+ge),this.internal.write("endstream"),this.internal.write("endobj")},D=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};I.addMetadata=function(V,Z){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:V,namespaceuri:Z||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",D),this.internal.events.subscribe("postPutResources",B)),this}})(J.API),(function(I){var B=I.API,D=B.pdfEscape16=function(ne,Se){for(var fe,ge=Se.metadata.Unicode.widths,Re=["","0","00","000","0000"],Ve=[""],et=0,st=ne.length;et<st;++et){if(fe=Se.metadata.characterToGlyph(ne.charCodeAt(et)),Se.metadata.glyIdsUsed.push(fe),Se.metadata.toUnicode[fe]=ne.charCodeAt(et),ge.indexOf(fe)==-1&&(ge.push(fe),ge.push([parseInt(Se.metadata.widthOfGlyph(fe),10)])),fe=="0")return Ve.join("");fe=fe.toString(16),Ve.push(Re[4-fe.length],fe)}return Ve.join("")},V=function(ne){var Se,fe,ge,Re,Ve,et,st;for(Ve=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ge=[],et=0,st=(fe=Object.keys(ne).sort(function(Fe,vt){return Fe-vt})).length;et<st;et++)Se=fe[et],ge.length>=100&&(Ve+=`
`+ge.length+` beginbfchar
`+ge.join(`
`)+`
endbfchar`,ge=[]),ne[Se]!==void 0&&ne[Se]!==null&&typeof ne[Se].toString=="function"&&(Re=("0000"+ne[Se].toString(16)).slice(-4),Se=("0000"+(+Se).toString(16)).slice(-4),ge.push("<"+Se+"><"+Re+">"));return ge.length&&(Ve+=`
`+ge.length+` beginbfchar
`+ge.join(`
`)+`
endbfchar
`),Ve+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};B.events.push(["putFont",function(ne){(function(Se){var fe=Se.font,ge=Se.out,Re=Se.newObject,Ve=Se.putStream;if(fe.metadata instanceof I.API.TTFFont&&fe.encoding==="Identity-H"){for(var et=fe.metadata.Unicode.widths,st=fe.metadata.subset.encode(fe.metadata.glyIdsUsed,1),Fe="",vt=0;vt<st.length;vt++)Fe+=String.fromCharCode(st[vt]);var mt=Re();Ve({data:Fe,addLength1:!0,objectId:mt}),ge("endobj");var yt=Re();Ve({data:V(fe.metadata.toUnicode),addLength1:!0,objectId:yt}),ge("endobj");var nt=Re();ge("<<"),ge("/Type /FontDescriptor"),ge("/FontName /"+ae(fe.fontName)),ge("/FontFile2 "+mt+" 0 R"),ge("/FontBBox "+I.API.PDFObject.convert(fe.metadata.bbox)),ge("/Flags "+fe.metadata.flags),ge("/StemV "+fe.metadata.stemV),ge("/ItalicAngle "+fe.metadata.italicAngle),ge("/Ascent "+fe.metadata.ascender),ge("/Descent "+fe.metadata.decender),ge("/CapHeight "+fe.metadata.capHeight),ge(">>"),ge("endobj");var kt=Re();ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+ae(fe.fontName)),ge("/FontDescriptor "+nt+" 0 R"),ge("/W "+I.API.PDFObject.convert(et)),ge("/CIDToGIDMap /Identity"),ge("/DW 1000"),ge("/Subtype /CIDFontType2"),ge("/CIDSystemInfo"),ge("<<"),ge("/Supplement 0"),ge("/Registry (Adobe)"),ge("/Ordering ("+fe.encoding+")"),ge(">>"),ge(">>"),ge("endobj"),fe.objectNumber=Re(),ge("<<"),ge("/Type /Font"),ge("/Subtype /Type0"),ge("/ToUnicode "+yt+" 0 R"),ge("/BaseFont /"+ae(fe.fontName)),ge("/Encoding /"+fe.encoding),ge("/DescendantFonts ["+kt+" 0 R]"),ge(">>"),ge("endobj"),fe.isAlreadyPutted=!0}})(ne)}]),B.events.push(["putFont",function(ne){(function(Se){var fe=Se.font,ge=Se.out,Re=Se.newObject,Ve=Se.putStream;if(fe.metadata instanceof I.API.TTFFont&&fe.encoding==="WinAnsiEncoding"){for(var et=fe.metadata.rawData,st="",Fe=0;Fe<et.length;Fe++)st+=String.fromCharCode(et[Fe]);var vt=Re();Ve({data:st,addLength1:!0,objectId:vt}),ge("endobj");var mt=Re();Ve({data:V(fe.metadata.toUnicode),addLength1:!0,objectId:mt}),ge("endobj");var yt=Re();ge("<<"),ge("/Descent "+fe.metadata.decender),ge("/CapHeight "+fe.metadata.capHeight),ge("/StemV "+fe.metadata.stemV),ge("/Type /FontDescriptor"),ge("/FontFile2 "+vt+" 0 R"),ge("/Flags 96"),ge("/FontBBox "+I.API.PDFObject.convert(fe.metadata.bbox)),ge("/FontName /"+ae(fe.fontName)),ge("/ItalicAngle "+fe.metadata.italicAngle),ge("/Ascent "+fe.metadata.ascender),ge(">>"),ge("endobj"),fe.objectNumber=Re();for(var nt=0;nt<fe.metadata.hmtx.widths.length;nt++)fe.metadata.hmtx.widths[nt]=parseInt(fe.metadata.hmtx.widths[nt]*(1e3/fe.metadata.head.unitsPerEm));ge("<</Subtype/TrueType/Type/Font/ToUnicode "+mt+" 0 R/BaseFont/"+ae(fe.fontName)+"/FontDescriptor "+yt+" 0 R/Encoding/"+fe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+I.API.PDFObject.convert(fe.metadata.hmtx.widths)+">>"),ge("endobj"),fe.isAlreadyPutted=!0}})(ne)}]);var Z=function(ne){var Se,fe=ne.text||"",ge=ne.x,Re=ne.y,Ve=ne.options||{},et=ne.mutex||{},st=et.pdfEscape,Fe=et.activeFontKey,vt=et.fonts,mt=Fe,yt="",nt=0,kt="",Gt=vt[mt].encoding;if(vt[mt].encoding!=="Identity-H")return{text:fe,x:ge,y:Re,options:Ve,mutex:et};for(kt=fe,mt=Fe,Array.isArray(fe)&&(kt=fe[0]),nt=0;nt<kt.length;nt+=1)vt[mt].metadata.hasOwnProperty("cmap")&&(Se=vt[mt].metadata.cmap.unicode.codeMap[kt[nt].charCodeAt(0)]),Se||kt[nt].charCodeAt(0)<256&&vt[mt].metadata.hasOwnProperty("Unicode")?yt+=kt[nt]:yt+="";var St="";return parseInt(mt.slice(1))<14||Gt==="WinAnsiEncoding"?St=st(yt,mt).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):Gt==="Identity-H"&&(St=D(yt,vt[mt])),et.isHex=!0,{text:St,x:ge,y:Re,options:Ve,mutex:et}};B.events.push(["postProcessText",function(ne){var Se=ne.text||"",fe=[],ge={text:Se,x:ne.x,y:ne.y,options:ne.options,mutex:ne.mutex};if(Array.isArray(Se)){var Re=0;for(Re=0;Re<Se.length;Re+=1)Array.isArray(Se[Re])&&Se[Re].length===3?fe.push([Z(Object.assign({},ge,{text:Se[Re][0]})).text,Se[Re][1],Se[Re][2]]):fe.push(Z(Object.assign({},ge,{text:Se[Re]})).text);ne.text=fe}else ne.text=Z(Object.assign({},ge,{text:Se})).text}])})(J),(function(I){var B=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};I.existsFileInVFS=function(D){return B.call(this),this.internal.vFS[D]!==void 0},I.addFileToVFS=function(D,V){return B.call(this),this.internal.vFS[D]=V,this},I.getFileFromVFS=function(D){return B.call(this),this.internal.vFS[D]!==void 0?this.internal.vFS[D]:null}})(J.API),(function(I){I.__bidiEngine__=I.prototype.__bidiEngine__=function(V){var Z,ne,Se,fe,ge,Re,Ve,et=B,st=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Fe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],vt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},mt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},yt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),kt=!1,Gt=0;this.__bidiEngine__={};var St=function(at){var dt=at.charCodeAt(),Et=dt>>8,It=mt[Et];return It!==void 0?et[256*It+(255&dt)]:Et===252||Et===253?"AL":nt.test(Et)?"L":Et===8?"R":"N"},tt=function(at){for(var dt,Et=0;Et<at.length;Et++){if((dt=St(at.charAt(Et)))==="L")return!1;if(dt==="R")return!0}return!1},Qt=function(at,dt,Et,It){var ur,pr,yr,Jt,vr=dt[It];switch(vr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":kt=!1;break;case"N":case"AN":break;case"EN":kt&&(vr="AN");break;case"AL":kt=!0,vr="R";break;case"WS":case"BN":vr="N";break;case"CS":It<1||It+1>=dt.length||(ur=Et[It-1])!=="EN"&&ur!=="AN"||(pr=dt[It+1])!=="EN"&&pr!=="AN"?vr="N":kt&&(pr="AN"),vr=pr===ur?pr:"N";break;case"ES":vr=(ur=It>0?Et[It-1]:"B")==="EN"&&It+1<dt.length&&dt[It+1]==="EN"?"EN":"N";break;case"ET":if(It>0&&Et[It-1]==="EN"){vr="EN";break}if(kt){vr="N";break}for(yr=It+1,Jt=dt.length;yr<Jt&&dt[yr]==="ET";)yr++;vr=yr<Jt&&dt[yr]==="EN"?"EN":"N";break;case"NSM":if(Se&&!fe){for(Jt=dt.length,yr=It+1;yr<Jt&&dt[yr]==="NSM";)yr++;if(yr<Jt){var Xr=at[It],Ur=Xr>=1425&&Xr<=2303||Xr===64286;if(ur=dt[yr],Ur&&(ur==="R"||ur==="AL")){vr="R";break}}}vr=It<1||(ur=dt[It-1])==="B"?"N":Et[It-1];break;case"B":kt=!1,Z=!0,vr=Gt;break;case"S":ne=!0,vr="N"}return vr},cr=function(at,dt,Et){var It=at.split("");return Et&&Xt(It,Et,{hiLevel:Gt}),It.reverse(),dt&&dt.reverse(),It.join("")},Xt=function(at,dt,Et){var It,ur,pr,yr,Jt,vr=-1,Xr=at.length,Ur=0,Ze=[],xt=Gt?Fe:st,Ct=[];for(kt=!1,Z=!1,ne=!1,ur=0;ur<Xr;ur++)Ct[ur]=St(at[ur]);for(pr=0;pr<Xr;pr++){if(Jt=Ur,Ze[pr]=Qt(at,Ct,Ze,pr),It=240&(Ur=xt[Jt][vt[Ze[pr]]]),Ur&=15,dt[pr]=yr=xt[Ur][5],It>0)if(It===16){for(ur=vr;ur<pr;ur++)dt[ur]=1;vr=-1}else vr=-1;if(xt[Ur][6])vr===-1&&(vr=pr);else if(vr>-1){for(ur=vr;ur<pr;ur++)dt[ur]=yr;vr=-1}Ct[pr]==="B"&&(dt[pr]=0),Et.hiLevel|=yr}ne&&(function(Wt,Kt,nr){for(var gr=0;gr<nr;gr++)if(Wt[gr]==="S"){Kt[gr]=Gt;for(var xr=gr-1;xr>=0&&Wt[xr]==="WS";xr--)Kt[xr]=Gt}})(Ct,dt,Xr)},Tt=function(at,dt,Et,It,ur){if(!(ur.hiLevel<at)){if(at===1&&Gt===1&&!Z)return dt.reverse(),void(Et&&Et.reverse());for(var pr,yr,Jt,vr,Xr=dt.length,Ur=0;Ur<Xr;){if(It[Ur]>=at){for(Jt=Ur+1;Jt<Xr&&It[Jt]>=at;)Jt++;for(vr=Ur,yr=Jt-1;vr<yr;vr++,yr--)pr=dt[vr],dt[vr]=dt[yr],dt[yr]=pr,Et&&(pr=Et[vr],Et[vr]=Et[yr],Et[yr]=pr);Ur=Jt}Ur++}}},or=function(at,dt,Et){var It=at.split(""),ur={hiLevel:Gt};return Et||(Et=[]),Xt(It,Et,ur),(function(pr,yr,Jt){if(Jt.hiLevel!==0&&Ve)for(var vr,Xr=0;Xr<pr.length;Xr++)yr[Xr]===1&&(vr=yt.indexOf(pr[Xr]))>=0&&(pr[Xr]=yt[vr+1])})(It,Et,ur),Tt(2,It,dt,Et,ur),Tt(1,It,dt,Et,ur),It.join("")};return this.__bidiEngine__.doBidiReorder=function(at,dt,Et){if((function(ur,pr){if(pr)for(var yr=0;yr<ur.length;yr++)pr[yr]=yr;fe===void 0&&(fe=tt(ur)),Re===void 0&&(Re=tt(ur))})(at,dt),Se||!ge||Re)if(Se&&ge&&fe^Re)Gt=fe?1:0,at=cr(at,dt,Et);else if(!Se&&ge&&Re)Gt=fe?1:0,at=or(at,dt,Et),at=cr(at,dt);else if(!Se||fe||ge||Re){if(Se&&!ge&&fe^Re)at=cr(at,dt),fe?(Gt=0,at=or(at,dt,Et)):(Gt=1,at=or(at,dt,Et),at=cr(at,dt));else if(Se&&fe&&!ge&&Re)Gt=1,at=or(at,dt,Et),at=cr(at,dt);else if(!Se&&!ge&&fe^Re){var It=Ve;fe?(Gt=1,at=or(at,dt,Et),Gt=0,Ve=!1,at=or(at,dt,Et),Ve=It):(Gt=0,at=or(at,dt,Et),at=cr(at,dt),Gt=1,Ve=!1,at=or(at,dt,Et),Ve=It,at=cr(at,dt))}}else Gt=0,at=or(at,dt,Et);else Gt=fe?1:0,at=or(at,dt,Et);return at},this.__bidiEngine__.setOptions=function(at){at&&(Se=at.isInputVisual,ge=at.isOutputVisual,fe=at.isInputRtl,Re=at.isOutputRtl,Ve=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(V),this.__bidiEngine__};var B=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],D=new I.__bidiEngine__({isInputVisual:!0});I.API.events.push(["postProcessText",function(V){var Z=V.text;V.x,V.y;var ne=V.options||{};V.mutex,ne.lang;var Se=[];if(ne.isInputVisual=typeof ne.isInputVisual!="boolean"||ne.isInputVisual,D.setOptions(ne),Object.prototype.toString.call(Z)==="[object Array]"){var fe=0;for(Se=[],fe=0;fe<Z.length;fe+=1)Object.prototype.toString.call(Z[fe])==="[object Array]"?Se.push([D.doBidiReorder(Z[fe][0]),Z[fe][1],Z[fe][2]]):Se.push([D.doBidiReorder(Z[fe])]);V.text=Se}else V.text=D.doBidiReorder(Z);D.setOptions({isInputVisual:!0})}])})(J),J.API.TTFFont=(function(){function I(B){var D;if(this.rawData=B,D=this.contents=new Fi(B),this.contents.pos=4,D.readString(4)==="ttcf")throw new Error("TTCF not supported.");D.pos=0,this.parse(),this.subset=new it(this),this.registerTTF()}return I.open=function(B){return new I(B)},I.prototype.parse=function(){return this.directory=new yo(this.contents),this.head=new Vi(this),this.name=new oe(this),this.cmap=new Ys(this),this.toUnicode={},this.hhea=new Fs(this),this.maxp=new ue(this),this.hmtx=new M(this),this.post=new Ut(this),this.os2=new Fo(this),this.loca=new Ge(this),this.glyf=new re(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},I.prototype.registerTTF=function(){var B,D,V,Z,ne;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Se,fe,ge,Re;for(Re=[],Se=0,fe=(ge=this.bbox).length;Se<fe;Se++)B=ge[Se],Re.push(Math.round(B*this.scaleFactor));return Re}).call(this),this.stemV=0,this.post.exists?(V=255&(Z=this.post.italic_angle),32768&(D=Z>>16)&&(D=-(1+(65535^D))),this.italicAngle=+(D+"."+V)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ne=this.familyClass)===1||ne===2||ne===3||ne===4||ne===5||ne===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},I.prototype.characterToGlyph=function(B){var D;return((D=this.cmap.unicode)!=null?D.codeMap[B]:void 0)||0},I.prototype.widthOfGlyph=function(B){var D;return D=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(B).advance*D},I.prototype.widthOfString=function(B,D,V){var Z,ne,Se,fe;for(Se=0,ne=0,fe=(B=""+B).length;0<=fe?ne<fe:ne>fe;ne=0<=fe?++ne:--ne)Z=B.charCodeAt(ne),Se+=this.widthOfGlyph(this.characterToGlyph(Z))+V*(1e3/D)||0;return Se*(D/1e3)},I.prototype.lineHeight=function(B,D){var V;return D==null&&(D=!1),V=D?this.lineGap:0,(this.ascender+V-this.decender)/1e3*B},I})();var Zi,Fi=(function(){function I(B){this.data=B??[],this.pos=0,this.length=this.data.length}return I.prototype.readByte=function(){return this.data[this.pos++]},I.prototype.writeByte=function(B){return this.data[this.pos++]=B},I.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},I.prototype.writeUInt32=function(B){return this.writeByte(B>>>24&255),this.writeByte(B>>16&255),this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt32=function(){var B;return(B=this.readUInt32())>=2147483648?B-4294967296:B},I.prototype.writeInt32=function(B){return B<0&&(B+=4294967296),this.writeUInt32(B)},I.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},I.prototype.writeUInt16=function(B){return this.writeByte(B>>8&255),this.writeByte(255&B)},I.prototype.readInt16=function(){var B;return(B=this.readUInt16())>=32768?B-65536:B},I.prototype.writeInt16=function(B){return B<0&&(B+=65536),this.writeUInt16(B)},I.prototype.readString=function(B){var D,V;for(V=[],D=0;0<=B?D<B:D>B;D=0<=B?++D:--D)V[D]=String.fromCharCode(this.readByte());return V.join("")},I.prototype.writeString=function(B){var D,V,Z;for(Z=[],D=0,V=B.length;0<=V?D<V:D>V;D=0<=V?++D:--D)Z.push(this.writeByte(B.charCodeAt(D)));return Z},I.prototype.readShort=function(){return this.readInt16()},I.prototype.writeShort=function(B){return this.writeInt16(B)},I.prototype.readLongLong=function(){var B,D,V,Z,ne,Se,fe,ge;return B=this.readByte(),D=this.readByte(),V=this.readByte(),Z=this.readByte(),ne=this.readByte(),Se=this.readByte(),fe=this.readByte(),ge=this.readByte(),128&B?-1*(72057594037927940*(255^B)+281474976710656*(255^D)+1099511627776*(255^V)+4294967296*(255^Z)+16777216*(255^ne)+65536*(255^Se)+256*(255^fe)+(255^ge)+1):72057594037927940*B+281474976710656*D+1099511627776*V+4294967296*Z+16777216*ne+65536*Se+256*fe+ge},I.prototype.writeLongLong=function(B){var D,V;return D=Math.floor(B/4294967296),V=4294967295&B,this.writeByte(D>>24&255),this.writeByte(D>>16&255),this.writeByte(D>>8&255),this.writeByte(255&D),this.writeByte(V>>24&255),this.writeByte(V>>16&255),this.writeByte(V>>8&255),this.writeByte(255&V)},I.prototype.readInt=function(){return this.readInt32()},I.prototype.writeInt=function(B){return this.writeInt32(B)},I.prototype.read=function(B){var D,V;for(D=[],V=0;0<=B?V<B:V>B;V=0<=B?++V:--V)D.push(this.readByte());return D},I.prototype.write=function(B){var D,V,Z,ne;for(ne=[],V=0,Z=B.length;V<Z;V++)D=B[V],ne.push(this.writeByte(D));return ne},I})(),yo=(function(){var I;function B(D){var V,Z,ne;for(this.scalarType=D.readInt(),this.tableCount=D.readShort(),this.searchRange=D.readShort(),this.entrySelector=D.readShort(),this.rangeShift=D.readShort(),this.tables={},Z=0,ne=this.tableCount;0<=ne?Z<ne:Z>ne;Z=0<=ne?++Z:--Z)V={tag:D.readString(4),checksum:D.readInt(),offset:D.readInt(),length:D.readInt()},this.tables[V.tag]=V}return B.prototype.encode=function(D){var V,Z,ne,Se,fe,ge,Re,Ve,et,st,Fe,vt,mt;for(mt in Fe=Object.keys(D).length,ge=Math.log(2),et=16*Math.floor(Math.log(Fe)/ge),Se=Math.floor(et/ge),Ve=16*Fe-et,(Z=new Fi).writeInt(this.scalarType),Z.writeShort(Fe),Z.writeShort(et),Z.writeShort(Se),Z.writeShort(Ve),ne=16*Fe,Re=Z.pos+ne,fe=null,vt=[],D)for(st=D[mt],Z.writeString(mt),Z.writeInt(I(st)),Z.writeInt(Re),Z.writeInt(st.length),vt=vt.concat(st),mt==="head"&&(fe=Re),Re+=st.length;Re%4;)vt.push(0),Re++;return Z.write(vt),V=2981146554-I(Z.data),Z.pos=fe+8,Z.writeUInt32(V),Z.data},I=function(D){var V,Z,ne,Se;for(D=Q.call(D);D.length%4;)D.push(0);for(ne=new Fi(D),Z=0,V=0,Se=D.length;V<Se;V=V+=4)Z+=ne.readUInt32();return 4294967295&Z},B})(),Po={}.hasOwnProperty,ga=function(I,B){for(var D in B)Po.call(B,D)&&(I[D]=B[D]);function V(){this.constructor=I}return V.prototype=B.prototype,I.prototype=new V,I.__super__=B.prototype,I};Zi=(function(){function I(B){var D;this.file=B,D=this.file.directory.tables[this.tag],this.exists=!!D,D&&(this.offset=D.offset,this.length=D.length,this.parse(this.file.contents))}return I.prototype.parse=function(){},I.prototype.encode=function(){},I.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},I})();var Vi=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="head",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.revision=B.readInt(),this.checkSumAdjustment=B.readInt(),this.magicNumber=B.readInt(),this.flags=B.readShort(),this.unitsPerEm=B.readShort(),this.created=B.readLongLong(),this.modified=B.readLongLong(),this.xMin=B.readShort(),this.yMin=B.readShort(),this.xMax=B.readShort(),this.yMax=B.readShort(),this.macStyle=B.readShort(),this.lowestRecPPEM=B.readShort(),this.fontDirectionHint=B.readShort(),this.indexToLocFormat=B.readShort(),this.glyphDataFormat=B.readShort()},I.prototype.encode=function(B){var D;return(D=new Fi).writeInt(this.version),D.writeInt(this.revision),D.writeInt(this.checkSumAdjustment),D.writeInt(this.magicNumber),D.writeShort(this.flags),D.writeShort(this.unitsPerEm),D.writeLongLong(this.created),D.writeLongLong(this.modified),D.writeShort(this.xMin),D.writeShort(this.yMin),D.writeShort(this.xMax),D.writeShort(this.yMax),D.writeShort(this.macStyle),D.writeShort(this.lowestRecPPEM),D.writeShort(this.fontDirectionHint),D.writeShort(B),D.writeShort(this.glyphDataFormat),D.data},I})(),bs=(function(){function I(B,D){var V,Z,ne,Se,fe,ge,Re,Ve,et,st,Fe,vt,mt,yt,nt,kt,Gt;switch(this.platformID=B.readUInt16(),this.encodingID=B.readShort(),this.offset=D+B.readInt(),et=B.pos,B.pos=this.offset,this.format=B.readUInt16(),this.length=B.readUInt16(),this.language=B.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ge=0;ge<256;++ge)this.codeMap[ge]=B.readByte();break;case 4:for(Fe=B.readUInt16(),st=Fe/2,B.pos+=6,ne=(function(){var St,tt;for(tt=[],ge=St=0;0<=st?St<st:St>st;ge=0<=st?++St:--St)tt.push(B.readUInt16());return tt})(),B.pos+=2,mt=(function(){var St,tt;for(tt=[],ge=St=0;0<=st?St<st:St>st;ge=0<=st?++St:--St)tt.push(B.readUInt16());return tt})(),Re=(function(){var St,tt;for(tt=[],ge=St=0;0<=st?St<st:St>st;ge=0<=st?++St:--St)tt.push(B.readUInt16());return tt})(),Ve=(function(){var St,tt;for(tt=[],ge=St=0;0<=st?St<st:St>st;ge=0<=st?++St:--St)tt.push(B.readUInt16());return tt})(),Z=(this.length-B.pos+this.offset)/2,fe=(function(){var St,tt;for(tt=[],ge=St=0;0<=Z?St<Z:St>Z;ge=0<=Z?++St:--St)tt.push(B.readUInt16());return tt})(),ge=nt=0,Gt=ne.length;nt<Gt;ge=++nt)for(yt=ne[ge],V=kt=vt=mt[ge];vt<=yt?kt<=yt:kt>=yt;V=vt<=yt?++kt:--kt)Ve[ge]===0?Se=V+Re[ge]:(Se=fe[Ve[ge]/2+(V-vt)-(st-ge)]||0)!==0&&(Se+=Re[ge]),this.codeMap[V]=65535&Se}B.pos=et}return I.encode=function(B,D){var V,Z,ne,Se,fe,ge,Re,Ve,et,st,Fe,vt,mt,yt,nt,kt,Gt,St,tt,Qt,cr,Xt,Tt,or,at,dt,Et,It,ur,pr,yr,Jt,vr,Xr,Ur,Ze,xt,Ct,Wt,Kt,nr,gr,xr,Pr,Yr,Nn;switch(It=new Fi,Se=Object.keys(B).sort(function(Bn,ca){return Bn-ca}),D){case"macroman":for(mt=0,yt=(function(){var Bn=[];for(vt=0;vt<256;++vt)Bn.push(0);return Bn})(),kt={0:0},ne={},ur=0,vr=Se.length;ur<vr;ur++)kt[xr=B[Z=Se[ur]]]==null&&(kt[xr]=++mt),ne[Z]={old:B[Z],new:kt[B[Z]]},yt[Z]=kt[B[Z]];return It.writeUInt16(1),It.writeUInt16(0),It.writeUInt32(12),It.writeUInt16(0),It.writeUInt16(262),It.writeUInt16(0),It.write(yt),{charMap:ne,subtable:It.data,maxGlyphID:mt+1};case"unicode":for(dt=[],et=[],Gt=0,kt={},V={},nt=Re=null,pr=0,Xr=Se.length;pr<Xr;pr++)kt[tt=B[Z=Se[pr]]]==null&&(kt[tt]=++Gt),V[Z]={old:tt,new:kt[tt]},fe=kt[tt]-Z,nt!=null&&fe===Re||(nt&&et.push(nt),dt.push(Z),Re=fe),nt=Z;for(nt&&et.push(nt),et.push(65535),dt.push(65535),or=2*(Tt=dt.length),Xt=2*Math.pow(Math.log(Tt)/Math.LN2,2),st=Math.log(Xt/2)/Math.LN2,cr=2*Tt-Xt,ge=[],Qt=[],Fe=[],vt=yr=0,Ur=dt.length;yr<Ur;vt=++yr){if(at=dt[vt],Ve=et[vt],at===65535){ge.push(0),Qt.push(0);break}if(at-(Et=V[at].new)>=32768)for(ge.push(0),Qt.push(2*(Fe.length+Tt-vt)),Z=Jt=at;at<=Ve?Jt<=Ve:Jt>=Ve;Z=at<=Ve?++Jt:--Jt)Fe.push(V[Z].new);else ge.push(Et-at),Qt.push(0)}for(It.writeUInt16(3),It.writeUInt16(1),It.writeUInt32(12),It.writeUInt16(4),It.writeUInt16(16+8*Tt+2*Fe.length),It.writeUInt16(0),It.writeUInt16(or),It.writeUInt16(Xt),It.writeUInt16(st),It.writeUInt16(cr),nr=0,Ze=et.length;nr<Ze;nr++)Z=et[nr],It.writeUInt16(Z);for(It.writeUInt16(0),gr=0,xt=dt.length;gr<xt;gr++)Z=dt[gr],It.writeUInt16(Z);for(Pr=0,Ct=ge.length;Pr<Ct;Pr++)fe=ge[Pr],It.writeUInt16(fe);for(Yr=0,Wt=Qt.length;Yr<Wt;Yr++)St=Qt[Yr],It.writeUInt16(St);for(Nn=0,Kt=Fe.length;Nn<Kt;Nn++)mt=Fe[Nn],It.writeUInt16(mt);return{charMap:V,subtable:It.data,maxGlyphID:Gt+1}}},I})(),Ys=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="cmap",I.prototype.parse=function(B){var D,V,Z;for(B.pos=this.offset,this.version=B.readUInt16(),Z=B.readUInt16(),this.tables=[],this.unicode=null,V=0;0<=Z?V<Z:V>Z;V=0<=Z?++V:--V)D=new bs(B,this.offset),this.tables.push(D),D.isUnicode&&this.unicode==null&&(this.unicode=D);return!0},I.encode=function(B,D){var V,Z;return D==null&&(D="macroman"),V=bs.encode(B,D),(Z=new Fi).writeUInt16(0),Z.writeUInt16(1),V.table=Z.data.concat(V.subtable),V},I})(),Fs=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="hhea",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.ascender=B.readShort(),this.decender=B.readShort(),this.lineGap=B.readShort(),this.advanceWidthMax=B.readShort(),this.minLeftSideBearing=B.readShort(),this.minRightSideBearing=B.readShort(),this.xMaxExtent=B.readShort(),this.caretSlopeRise=B.readShort(),this.caretSlopeRun=B.readShort(),this.caretOffset=B.readShort(),B.pos+=8,this.metricDataFormat=B.readShort(),this.numberOfMetrics=B.readUInt16()},I})(),Fo=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="OS/2",I.prototype.parse=function(B){if(B.pos=this.offset,this.version=B.readUInt16(),this.averageCharWidth=B.readShort(),this.weightClass=B.readUInt16(),this.widthClass=B.readUInt16(),this.type=B.readShort(),this.ySubscriptXSize=B.readShort(),this.ySubscriptYSize=B.readShort(),this.ySubscriptXOffset=B.readShort(),this.ySubscriptYOffset=B.readShort(),this.ySuperscriptXSize=B.readShort(),this.ySuperscriptYSize=B.readShort(),this.ySuperscriptXOffset=B.readShort(),this.ySuperscriptYOffset=B.readShort(),this.yStrikeoutSize=B.readShort(),this.yStrikeoutPosition=B.readShort(),this.familyClass=B.readShort(),this.panose=(function(){var D,V;for(V=[],D=0;D<10;++D)V.push(B.readByte());return V})(),this.charRange=(function(){var D,V;for(V=[],D=0;D<4;++D)V.push(B.readInt());return V})(),this.vendorID=B.readString(4),this.selection=B.readShort(),this.firstCharIndex=B.readShort(),this.lastCharIndex=B.readShort(),this.version>0&&(this.ascent=B.readShort(),this.descent=B.readShort(),this.lineGap=B.readShort(),this.winAscent=B.readShort(),this.winDescent=B.readShort(),this.codePageRange=(function(){var D,V;for(V=[],D=0;D<2;D=++D)V.push(B.readInt());return V})(),this.version>1))return this.xHeight=B.readShort(),this.capHeight=B.readShort(),this.defaultChar=B.readShort(),this.breakChar=B.readShort(),this.maxContext=B.readShort()},I})(),Ut=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="post",I.prototype.parse=function(B){var D,V,Z;switch(B.pos=this.offset,this.format=B.readInt(),this.italicAngle=B.readInt(),this.underlinePosition=B.readShort(),this.underlineThickness=B.readShort(),this.isFixedPitch=B.readInt(),this.minMemType42=B.readInt(),this.maxMemType42=B.readInt(),this.minMemType1=B.readInt(),this.maxMemType1=B.readInt(),this.format){case 65536:case 196608:break;case 131072:var ne;for(V=B.readUInt16(),this.glyphNameIndex=[],ne=0;0<=V?ne<V:ne>V;ne=0<=V?++ne:--ne)this.glyphNameIndex.push(B.readUInt16());for(this.names=[],Z=[];B.pos<this.offset+this.length;)D=B.readByte(),Z.push(this.names.push(B.readString(D)));return Z;case 151552:return V=B.readUInt16(),this.offsets=B.read(V);case 262144:return this.map=(function(){var Se,fe,ge;for(ge=[],ne=Se=0,fe=this.file.maxp.numGlyphs;0<=fe?Se<fe:Se>fe;ne=0<=fe?++Se:--Se)ge.push(B.readUInt32());return ge}).call(this)}},I})(),H=function(I,B){this.raw=I,this.length=I.length,this.platformID=B.platformID,this.encodingID=B.encodingID,this.languageID=B.languageID},oe=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="name",I.prototype.parse=function(B){var D,V,Z,ne,Se,fe,ge,Re,Ve,et,st;for(B.pos=this.offset,B.readShort(),D=B.readShort(),fe=B.readShort(),V=[],ne=0;0<=D?ne<D:ne>D;ne=0<=D?++ne:--ne)V.push({platformID:B.readShort(),encodingID:B.readShort(),languageID:B.readShort(),nameID:B.readShort(),length:B.readShort(),offset:this.offset+fe+B.readShort()});for(ge={},ne=Ve=0,et=V.length;Ve<et;ne=++Ve)Z=V[ne],B.pos=Z.offset,Re=B.readString(Z.length),Se=new H(Re,Z),ge[st=Z.nameID]==null&&(ge[st]=[]),ge[Z.nameID].push(Se);this.strings=ge,this.copyright=ge[0],this.fontFamily=ge[1],this.fontSubfamily=ge[2],this.uniqueSubfamily=ge[3],this.fontName=ge[4],this.version=ge[5];try{this.postscriptName=ge[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ge[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ge[7],this.manufacturer=ge[8],this.designer=ge[9],this.description=ge[10],this.vendorUrl=ge[11],this.designerUrl=ge[12],this.license=ge[13],this.licenseUrl=ge[14],this.preferredFamily=ge[15],this.preferredSubfamily=ge[17],this.compatibleFull=ge[18],this.sampleText=ge[19]},I})(),ue=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="maxp",I.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.numGlyphs=B.readUInt16(),this.maxPoints=B.readUInt16(),this.maxContours=B.readUInt16(),this.maxCompositePoints=B.readUInt16(),this.maxComponentContours=B.readUInt16(),this.maxZones=B.readUInt16(),this.maxTwilightPoints=B.readUInt16(),this.maxStorage=B.readUInt16(),this.maxFunctionDefs=B.readUInt16(),this.maxInstructionDefs=B.readUInt16(),this.maxStackElements=B.readUInt16(),this.maxSizeOfInstructions=B.readUInt16(),this.maxComponentElements=B.readUInt16(),this.maxComponentDepth=B.readUInt16()},I})(),M=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="hmtx",I.prototype.parse=function(B){var D,V,Z,ne,Se,fe,ge;for(B.pos=this.offset,this.metrics=[],D=0,fe=this.file.hhea.numberOfMetrics;0<=fe?D<fe:D>fe;D=0<=fe?++D:--D)this.metrics.push({advance:B.readUInt16(),lsb:B.readInt16()});for(Z=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Re,Ve;for(Ve=[],D=Re=0;0<=Z?Re<Z:Re>Z;D=0<=Z?++Re:--Re)Ve.push(B.readInt16());return Ve})(),this.widths=(function(){var Re,Ve,et,st;for(st=[],Re=0,Ve=(et=this.metrics).length;Re<Ve;Re++)ne=et[Re],st.push(ne.advance);return st}).call(this),V=this.widths[this.widths.length-1],ge=[],D=Se=0;0<=Z?Se<Z:Se>Z;D=0<=Z?++Se:--Se)ge.push(this.widths.push(V));return ge},I.prototype.forGlyph=function(B){return B in this.metrics?this.metrics[B]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[B-this.metrics.length]}},I})(),Q=[].slice,re=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(B){var D,V,Z,ne,Se,fe,ge,Re,Ve,et;return B in this.cache?this.cache[B]:(ne=this.file.loca,D=this.file.contents,V=ne.indexOf(B),(Z=ne.lengthOf(B))===0?this.cache[B]=null:(D.pos=this.offset+V,Se=(fe=new Fi(D.read(Z))).readShort(),Re=fe.readShort(),et=fe.readShort(),ge=fe.readShort(),Ve=fe.readShort(),this.cache[B]=Se===-1?new De(fe,Re,et,ge,Ve):new ye(fe,Se,Re,et,ge,Ve),this.cache[B]))},I.prototype.encode=function(B,D,V){var Z,ne,Se,fe,ge;for(Se=[],ne=[],fe=0,ge=D.length;fe<ge;fe++)Z=B[D[fe]],ne.push(Se.length),Z&&(Se=Se.concat(Z.encode(V)));return ne.push(Se.length),{table:Se,offsets:ne}},I})(),ye=(function(){function I(B,D,V,Z,ne,Se){this.raw=B,this.numberOfContours=D,this.xMin=V,this.yMin=Z,this.xMax=ne,this.yMax=Se,this.compound=!1}return I.prototype.encode=function(){return this.raw.data},I})(),De=(function(){function I(B,D,V,Z,ne){var Se,fe;for(this.raw=B,this.xMin=D,this.yMin=V,this.xMax=Z,this.yMax=ne,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Se=this.raw;fe=Se.readShort(),this.glyphOffsets.push(Se.pos),this.glyphIDs.push(Se.readUInt16()),32&fe;)Se.pos+=1&fe?4:2,128&fe?Se.pos+=8:64&fe?Se.pos+=4:8&fe&&(Se.pos+=2)}return I.prototype.encode=function(){var B,D,V;for(D=new Fi(Q.call(this.raw.data)),B=0,V=this.glyphIDs.length;B<V;++B)D.pos=this.glyphOffsets[B];return D.data},I})(),Ge=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return ga(I,Zi),I.prototype.tag="loca",I.prototype.parse=function(B){var D,V;return B.pos=this.offset,D=this.file.head.indexToLocFormat,this.offsets=D===0?(function(){var Z,ne;for(ne=[],V=0,Z=this.length;V<Z;V+=2)ne.push(2*B.readUInt16());return ne}).call(this):(function(){var Z,ne;for(ne=[],V=0,Z=this.length;V<Z;V+=4)ne.push(B.readUInt32());return ne}).call(this)},I.prototype.indexOf=function(B){return this.offsets[B]},I.prototype.lengthOf=function(B){return this.offsets[B+1]-this.offsets[B]},I.prototype.encode=function(B,D){for(var V=new Uint32Array(this.offsets.length),Z=0,ne=0,Se=0;Se<V.length;++Se)if(V[Se]=Z,ne<D.length&&D[ne]==Se){++ne,V[Se]=Z;var fe=this.offsets[Se],ge=this.offsets[Se+1]-fe;ge>0&&(Z+=ge)}for(var Re=new Array(4*V.length),Ve=0;Ve<V.length;++Ve)Re[4*Ve+3]=255&V[Ve],Re[4*Ve+2]=(65280&V[Ve])>>8,Re[4*Ve+1]=(16711680&V[Ve])>>16,Re[4*Ve]=(4278190080&V[Ve])>>24;return Re},I})(),it=(function(){function I(B){this.font=B,this.subset={},this.unicodes={},this.next=33}return I.prototype.generateCmap=function(){var B,D,V,Z,ne;for(D in Z=this.font.cmap.tables[0].codeMap,B={},ne=this.subset)V=ne[D],B[D]=Z[V];return B},I.prototype.glyphsFor=function(B){var D,V,Z,ne,Se,fe,ge;for(Z={},Se=0,fe=B.length;Se<fe;Se++)Z[ne=B[Se]]=this.font.glyf.glyphFor(ne);for(ne in D=[],Z)(V=Z[ne])!=null&&V.compound&&D.push.apply(D,V.glyphIDs);if(D.length>0)for(ne in ge=this.glyphsFor(D))V=ge[ne],Z[ne]=V;return Z},I.prototype.encode=function(B,D){var V,Z,ne,Se,fe,ge,Re,Ve,et,st,Fe,vt,mt,yt,nt;for(Z in V=Ys.encode(this.generateCmap(),"unicode"),Se=this.glyphsFor(B),Fe={0:0},nt=V.charMap)Fe[(ge=nt[Z]).old]=ge.new;for(vt in st=V.maxGlyphID,Se)vt in Fe||(Fe[vt]=st++);return Ve=(function(kt){var Gt,St;for(Gt in St={},kt)St[kt[Gt]]=Gt;return St})(Fe),et=Object.keys(Ve).sort(function(kt,Gt){return kt-Gt}),mt=(function(){var kt,Gt,St;for(St=[],kt=0,Gt=et.length;kt<Gt;kt++)fe=et[kt],St.push(Ve[fe]);return St})(),ne=this.font.glyf.encode(Se,mt,Fe),Re=this.font.loca.encode(ne.offsets,mt),yt={cmap:this.font.cmap.raw(),glyf:ne.table,loca:Re,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(D)},this.font.os2.exists&&(yt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(yt)},I})();J.API.PDFObject=(function(){var I;function B(){}return I=function(D,V){return(Array(V+1).join("0")+D).slice(-V)},B.convert=function(D){var V,Z,ne,Se;if(Array.isArray(D))return"["+(function(){var fe,ge,Re;for(Re=[],fe=0,ge=D.length;fe<ge;fe++)V=D[fe],Re.push(B.convert(V));return Re})().join(" ")+"]";if(typeof D=="string")return"/"+D;if(D!=null&&D.isString)return"("+D+")";if(D instanceof Date)return"(D:"+I(D.getUTCFullYear(),4)+I(D.getUTCMonth(),2)+I(D.getUTCDate(),2)+I(D.getUTCHours(),2)+I(D.getUTCMinutes(),2)+I(D.getUTCSeconds(),2)+"Z)";if({}.toString.call(D)==="[object Object]"){for(Z in ne=["<<"],D)Se=D[Z],ne.push("/"+Z+" "+B.convert(Se));return ne.push(">>"),ne.join(`
`)}return""+D},B})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(l,u,o){o.r(u),o.d(u,{Deflate:function(){return Fr},Inflate:function(){return na},constants:function(){return Ai},default:function(){return us},deflate:function(){return In},deflateRaw:function(){return Un},gzip:function(){return fa},inflate:function(){return Pa},inflateRaw:function(){return Mi},ungzip:function(){return Li}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h=4,d=0,A=1,f=2;function g(T){let Ue=T.length;for(;--Ue>=0;)T[Ue]=0}const m=0,x=1,y=2,b=3,w=258,N=29,S=256,C=S+1+N,k=30,W=19,q=2*C+1,te=15,K=16,X=7,O=256,le=16,z=17,R=18,ie=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ae=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Oe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),be=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Te=512,Y=new Array((C+2)*2);g(Y);const Ne=new Array(k*2);g(Ne);const ce=new Array(Te);g(ce);const ae=new Array(w-b+1);g(ae);const Ce=new Array(N);g(Ce);const Ee=new Array(k);g(Ee);function we(T,Ue,ee,Xe,ht){this.static_tree=T,this.extra_bits=Ue,this.extra_base=ee,this.elems=Xe,this.max_length=ht,this.has_stree=T&&T.length}let me,se,J;function je(T,Ue){this.dyn_tree=T,this.max_code=0,this.stat_desc=Ue}const Pe=T=>T<256?ce[T]:ce[256+(T>>>7)],Le=(T,Ue)=>{T.pending_buf[T.pending++]=Ue&255,T.pending_buf[T.pending++]=Ue>>>8&255},Ie=(T,Ue,ee)=>{T.bi_valid>K-ee?(T.bi_buf|=Ue<<T.bi_valid&65535,Le(T,T.bi_buf),T.bi_buf=Ue>>K-T.bi_valid,T.bi_valid+=ee-K):(T.bi_buf|=Ue<<T.bi_valid&65535,T.bi_valid+=ee)},pe=(T,Ue,ee)=>{Ie(T,ee[Ue*2],ee[Ue*2+1])},ke=(T,Ue)=>{let ee=0;do ee|=T&1,T>>>=1,ee<<=1;while(--Ue>0);return ee>>>1},Ye=T=>{T.bi_valid===16?(Le(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)},wt=(T,Ue)=>{const ee=Ue.dyn_tree,Xe=Ue.max_code,ht=Ue.stat_desc.static_tree,ot=Ue.stat_desc.has_stree,er=Ue.stat_desc.extra_bits,$t=Ue.stat_desc.extra_base,Sn=Ue.stat_desc.max_length;let Pt,ir,ya,fn,Mr,wr,Ui=0;for(fn=0;fn<=te;fn++)T.bl_count[fn]=0;for(ee[T.heap[T.heap_max]*2+1]=0,Pt=T.heap_max+1;Pt<q;Pt++)ir=T.heap[Pt],fn=ee[ee[ir*2+1]*2+1]+1,fn>Sn&&(fn=Sn,Ui++),ee[ir*2+1]=fn,!(ir>Xe)&&(T.bl_count[fn]++,Mr=0,ir>=$t&&(Mr=er[ir-$t]),wr=ee[ir*2],T.opt_len+=wr*(fn+Mr),ot&&(T.static_len+=wr*(ht[ir*2+1]+Mr)));if(Ui!==0){do{for(fn=Sn-1;T.bl_count[fn]===0;)fn--;T.bl_count[fn]--,T.bl_count[fn+1]+=2,T.bl_count[Sn]--,Ui-=2}while(Ui>0);for(fn=Sn;fn!==0;fn--)for(ir=T.bl_count[fn];ir!==0;)ya=T.heap[--Pt],!(ya>Xe)&&(ee[ya*2+1]!==fn&&(T.opt_len+=(fn-ee[ya*2+1])*ee[ya*2],ee[ya*2+1]=fn),ir--)}},Ft=(T,Ue,ee)=>{const Xe=new Array(te+1);let ht=0,ot,er;for(ot=1;ot<=te;ot++)ht=ht+ee[ot-1]<<1,Xe[ot]=ht;for(er=0;er<=Ue;er++){let $t=T[er*2+1];$t!==0&&(T[er*2]=ke(Xe[$t]++,$t))}},Bt=()=>{let T,Ue,ee,Xe,ht;const ot=new Array(te+1);for(ee=0,Xe=0;Xe<N-1;Xe++)for(Ce[Xe]=ee,T=0;T<1<<ie[Xe];T++)ae[ee++]=Xe;for(ae[ee-1]=Xe,ht=0,Xe=0;Xe<16;Xe++)for(Ee[Xe]=ht,T=0;T<1<<Ae[Xe];T++)ce[ht++]=Xe;for(ht>>=7;Xe<k;Xe++)for(Ee[Xe]=ht<<7,T=0;T<1<<Ae[Xe]-7;T++)ce[256+ht++]=Xe;for(Ue=0;Ue<=te;Ue++)ot[Ue]=0;for(T=0;T<=143;)Y[T*2+1]=8,T++,ot[8]++;for(;T<=255;)Y[T*2+1]=9,T++,ot[9]++;for(;T<=279;)Y[T*2+1]=7,T++,ot[7]++;for(;T<=287;)Y[T*2+1]=8,T++,ot[8]++;for(Ft(Y,C+1,ot),T=0;T<k;T++)Ne[T*2+1]=5,Ne[T*2]=ke(T,5);me=new we(Y,ie,S+1,C,te),se=new we(Ne,Ae,0,k,te),J=new we(new Array(0),Oe,0,W,X)},Vt=T=>{let Ue;for(Ue=0;Ue<C;Ue++)T.dyn_ltree[Ue*2]=0;for(Ue=0;Ue<k;Ue++)T.dyn_dtree[Ue*2]=0;for(Ue=0;Ue<W;Ue++)T.bl_tree[Ue*2]=0;T.dyn_ltree[O*2]=1,T.opt_len=T.static_len=0,T.sym_next=T.matches=0},Ir=T=>{T.bi_valid>8?Le(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0},Sr=(T,Ue,ee,Xe)=>{const ht=Ue*2,ot=ee*2;return T[ht]<T[ot]||T[ht]===T[ot]&&Xe[Ue]<=Xe[ee]},He=(T,Ue,ee)=>{const Xe=T.heap[ee];let ht=ee<<1;for(;ht<=T.heap_len&&(ht<T.heap_len&&Sr(Ue,T.heap[ht+1],T.heap[ht],T.depth)&&ht++,!Sr(Ue,Xe,T.heap[ht],T.depth));)T.heap[ee]=T.heap[ht],ee=ht,ht<<=1;T.heap[ee]=Xe},Zt=(T,Ue,ee)=>{let Xe,ht,ot=0,er,$t;if(T.sym_next!==0)do Xe=T.pending_buf[T.sym_buf+ot++]&255,Xe+=(T.pending_buf[T.sym_buf+ot++]&255)<<8,ht=T.pending_buf[T.sym_buf+ot++],Xe===0?pe(T,ht,Ue):(er=ae[ht],pe(T,er+S+1,Ue),$t=ie[er],$t!==0&&(ht-=Ce[er],Ie(T,ht,$t)),Xe--,er=Pe(Xe),pe(T,er,ee),$t=Ae[er],$t!==0&&(Xe-=Ee[er],Ie(T,Xe,$t)));while(ot<T.sym_next);pe(T,O,Ue)},Nt=(T,Ue)=>{const ee=Ue.dyn_tree,Xe=Ue.stat_desc.static_tree,ht=Ue.stat_desc.has_stree,ot=Ue.stat_desc.elems;let er,$t,Sn=-1,Pt;for(T.heap_len=0,T.heap_max=q,er=0;er<ot;er++)ee[er*2]!==0?(T.heap[++T.heap_len]=Sn=er,T.depth[er]=0):ee[er*2+1]=0;for(;T.heap_len<2;)Pt=T.heap[++T.heap_len]=Sn<2?++Sn:0,ee[Pt*2]=1,T.depth[Pt]=0,T.opt_len--,ht&&(T.static_len-=Xe[Pt*2+1]);for(Ue.max_code=Sn,er=T.heap_len>>1;er>=1;er--)He(T,ee,er);Pt=ot;do er=T.heap[1],T.heap[1]=T.heap[T.heap_len--],He(T,ee,1),$t=T.heap[1],T.heap[--T.heap_max]=er,T.heap[--T.heap_max]=$t,ee[Pt*2]=ee[er*2]+ee[$t*2],T.depth[Pt]=(T.depth[er]>=T.depth[$t]?T.depth[er]:T.depth[$t])+1,ee[er*2+1]=ee[$t*2+1]=Pt,T.heap[1]=Pt++,He(T,ee,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],wt(T,Ue),Ft(ee,Sn,T.bl_count)},Vr=(T,Ue,ee)=>{let Xe,ht=-1,ot,er=Ue[1],$t=0,Sn=7,Pt=4;for(er===0&&(Sn=138,Pt=3),Ue[(ee+1)*2+1]=65535,Xe=0;Xe<=ee;Xe++)ot=er,er=Ue[(Xe+1)*2+1],!(++$t<Sn&&ot===er)&&($t<Pt?T.bl_tree[ot*2]+=$t:ot!==0?(ot!==ht&&T.bl_tree[ot*2]++,T.bl_tree[le*2]++):$t<=10?T.bl_tree[z*2]++:T.bl_tree[R*2]++,$t=0,ht=ot,er===0?(Sn=138,Pt=3):ot===er?(Sn=6,Pt=3):(Sn=7,Pt=4))},mr=(T,Ue,ee)=>{let Xe,ht=-1,ot,er=Ue[1],$t=0,Sn=7,Pt=4;for(er===0&&(Sn=138,Pt=3),Xe=0;Xe<=ee;Xe++)if(ot=er,er=Ue[(Xe+1)*2+1],!(++$t<Sn&&ot===er)){if($t<Pt)do pe(T,ot,T.bl_tree);while(--$t!==0);else ot!==0?(ot!==ht&&(pe(T,ot,T.bl_tree),$t--),pe(T,le,T.bl_tree),Ie(T,$t-3,2)):$t<=10?(pe(T,z,T.bl_tree),Ie(T,$t-3,3)):(pe(T,R,T.bl_tree),Ie(T,$t-11,7));$t=0,ht=ot,er===0?(Sn=138,Pt=3):ot===er?(Sn=6,Pt=3):(Sn=7,Pt=4)}},on=T=>{let Ue;for(Vr(T,T.dyn_ltree,T.l_desc.max_code),Vr(T,T.dyn_dtree,T.d_desc.max_code),Nt(T,T.bl_desc),Ue=W-1;Ue>=3&&T.bl_tree[be[Ue]*2+1]===0;Ue--);return T.opt_len+=3*(Ue+1)+5+5+4,Ue},Jr=(T,Ue,ee,Xe)=>{let ht;for(Ie(T,Ue-257,5),Ie(T,ee-1,5),Ie(T,Xe-4,4),ht=0;ht<Xe;ht++)Ie(T,T.bl_tree[be[ht]*2+1],3);mr(T,T.dyn_ltree,Ue-1),mr(T,T.dyn_dtree,ee-1)},Gr=T=>{let Ue=4093624447,ee;for(ee=0;ee<=31;ee++,Ue>>>=1)if(Ue&1&&T.dyn_ltree[ee*2]!==0)return d;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return A;for(ee=32;ee<S;ee++)if(T.dyn_ltree[ee*2]!==0)return A;return d};let _r=!1;const hr=T=>{_r||(Bt(),_r=!0),T.l_desc=new je(T.dyn_ltree,me),T.d_desc=new je(T.dyn_dtree,se),T.bl_desc=new je(T.bl_tree,J),T.bi_buf=0,T.bi_valid=0,Vt(T)},Br=(T,Ue,ee,Xe)=>{Ie(T,(m<<1)+(Xe?1:0),3),Ir(T),Le(T,ee),Le(T,~ee),ee&&T.pending_buf.set(T.window.subarray(Ue,Ue+ee),T.pending),T.pending+=ee},Qr=T=>{Ie(T,x<<1,3),pe(T,O,Y),Ye(T)},Kr=(T,Ue,ee,Xe)=>{let ht,ot,er=0;T.level>0?(T.strm.data_type===f&&(T.strm.data_type=Gr(T)),Nt(T,T.l_desc),Nt(T,T.d_desc),er=on(T),ht=T.opt_len+3+7>>>3,ot=T.static_len+3+7>>>3,ot<=ht&&(ht=ot)):ht=ot=ee+5,ee+4<=ht&&Ue!==-1?Br(T,Ue,ee,Xe):T.strategy===h||ot===ht?(Ie(T,(x<<1)+(Xe?1:0),3),Zt(T,Y,Ne)):(Ie(T,(y<<1)+(Xe?1:0),3),Jr(T,T.l_desc.max_code+1,T.d_desc.max_code+1,er+1),Zt(T,T.dyn_ltree,T.dyn_dtree)),Vt(T),Xe&&Ir(T)},hn=(T,Ue,ee)=>(T.pending_buf[T.sym_buf+T.sym_next++]=Ue,T.pending_buf[T.sym_buf+T.sym_next++]=Ue>>8,T.pending_buf[T.sym_buf+T.sym_next++]=ee,Ue===0?T.dyn_ltree[ee*2]++:(T.matches++,Ue--,T.dyn_ltree[(ae[ee]+S+1)*2]++,T.dyn_dtree[Pe(Ue)*2]++),T.sym_next===T.sym_end);var Wr=hr,Wn=Br,Lr=Kr,Dr=hn,wn=Qr,cn={_tr_init:Wr,_tr_stored_block:Wn,_tr_flush_block:Lr,_tr_tally:Dr,_tr_align:wn},la=(T,Ue,ee,Xe)=>{let ht=T&65535|0,ot=T>>>16&65535|0,er=0;for(;ee!==0;){er=ee>2e3?2e3:ee,ee-=er;do ht=ht+Ue[Xe++]|0,ot=ot+ht|0;while(--er);ht%=65521,ot%=65521}return ht|ot<<16|0};const Ot=()=>{let T,Ue=[];for(var ee=0;ee<256;ee++){T=ee;for(var Xe=0;Xe<8;Xe++)T=T&1?3988292384^T>>>1:T>>>1;Ue[ee]=T}return Ue},$r=new Uint32Array(Ot());var tn=(T,Ue,ee,Xe)=>{const ht=$r,ot=Xe+ee;T^=-1;for(let er=Xe;er<ot;er++)T=T>>>8^ht[(T^Ue[er])&255];return T^-1},lr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ma={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:xi,_tr_stored_block:Cn,_tr_flush_block:Es,_tr_tally:Ni,_tr_align:yi}=cn,{Z_NO_FLUSH:Qi,Z_PARTIAL_FLUSH:Ii,Z_FULL_FLUSH:Ps,Z_FINISH:Ka,Z_BLOCK:gs,Z_OK:Va,Z_STREAM_END:Cc,Z_STREAM_ERROR:vs,Z_DATA_ERROR:Bl,Z_BUF_ERROR:Nc,Z_DEFAULT_COMPRESSION:El,Z_FILTERED:Wi,Z_HUFFMAN_ONLY:xo,Z_RLE:ha,Z_FIXED:Jl,Z_DEFAULT_STRATEGY:ai,Z_UNKNOWN:Io,Z_DEFLATED:Xs}=ma,To=9,rl=15,_o=8,ii=256+1+29,pl=30,Oo=19,Hc=2*ii+1,cs=15,Gn=3,$i=258,xs=$i+Gn+1,ys=32,ko=42,Ri=57,lo=69,Zi=73,Fi=91,yo=103,Po=113,ga=666,Vi=1,bs=2,Ys=3,Fs=4,Fo=3,Ut=(T,Ue)=>(T.msg=lr[Ue],Ue),H=T=>T*2-(T>4?9:0),oe=T=>{let Ue=T.length;for(;--Ue>=0;)T[Ue]=0},ue=T=>{let Ue,ee,Xe,ht=T.w_size;Ue=T.hash_size,Xe=Ue;do ee=T.head[--Xe],T.head[Xe]=ee>=ht?ee-ht:0;while(--Ue);Ue=ht,Xe=Ue;do ee=T.prev[--Xe],T.prev[Xe]=ee>=ht?ee-ht:0;while(--Ue)};let Q=(T,Ue,ee)=>(Ue<<T.hash_shift^ee)&T.hash_mask;const re=T=>{const Ue=T.state;let ee=Ue.pending;ee>T.avail_out&&(ee=T.avail_out),ee!==0&&(T.output.set(Ue.pending_buf.subarray(Ue.pending_out,Ue.pending_out+ee),T.next_out),T.next_out+=ee,Ue.pending_out+=ee,T.total_out+=ee,T.avail_out-=ee,Ue.pending-=ee,Ue.pending===0&&(Ue.pending_out=0))},ye=(T,Ue)=>{Es(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,Ue),T.block_start=T.strstart,re(T.strm)},De=(T,Ue)=>{T.pending_buf[T.pending++]=Ue},Ge=(T,Ue)=>{T.pending_buf[T.pending++]=Ue>>>8&255,T.pending_buf[T.pending++]=Ue&255},it=(T,Ue,ee,Xe)=>{let ht=T.avail_in;return ht>Xe&&(ht=Xe),ht===0?0:(T.avail_in-=ht,Ue.set(T.input.subarray(T.next_in,T.next_in+ht),ee),T.state.wrap===1?T.adler=la(T.adler,Ue,ht,ee):T.state.wrap===2&&(T.adler=tn(T.adler,Ue,ht,ee)),T.next_in+=ht,T.total_in+=ht,ht)},I=(T,Ue)=>{let ee=T.max_chain_length,Xe=T.strstart,ht,ot,er=T.prev_length,$t=T.nice_match;const Sn=T.strstart>T.w_size-xs?T.strstart-(T.w_size-xs):0,Pt=T.window,ir=T.w_mask,ya=T.prev,fn=T.strstart+$i;let Mr=Pt[Xe+er-1],wr=Pt[Xe+er];T.prev_length>=T.good_match&&(ee>>=2),$t>T.lookahead&&($t=T.lookahead);do if(ht=Ue,!(Pt[ht+er]!==wr||Pt[ht+er-1]!==Mr||Pt[ht]!==Pt[Xe]||Pt[++ht]!==Pt[Xe+1])){Xe+=2,ht++;do;while(Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Pt[++Xe]===Pt[++ht]&&Xe<fn);if(ot=$i-(fn-Xe),Xe=fn-$i,ot>er){if(T.match_start=Ue,er=ot,ot>=$t)break;Mr=Pt[Xe+er-1],wr=Pt[Xe+er]}}while((Ue=ya[Ue&ir])>Sn&&--ee!==0);return er<=T.lookahead?er:T.lookahead},B=T=>{const Ue=T.w_size;let ee,Xe,ht;do{if(Xe=T.window_size-T.lookahead-T.strstart,T.strstart>=Ue+(Ue-xs)&&(T.window.set(T.window.subarray(Ue,Ue+Ue-Xe),0),T.match_start-=Ue,T.strstart-=Ue,T.block_start-=Ue,T.insert>T.strstart&&(T.insert=T.strstart),ue(T),Xe+=Ue),T.strm.avail_in===0)break;if(ee=it(T.strm,T.window,T.strstart+T.lookahead,Xe),T.lookahead+=ee,T.lookahead+T.insert>=Gn)for(ht=T.strstart-T.insert,T.ins_h=T.window[ht],T.ins_h=Q(T,T.ins_h,T.window[ht+1]);T.insert&&(T.ins_h=Q(T,T.ins_h,T.window[ht+Gn-1]),T.prev[ht&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=ht,ht++,T.insert--,!(T.lookahead+T.insert<Gn)););}while(T.lookahead<xs&&T.strm.avail_in!==0)},D=(T,Ue)=>{let ee=T.pending_buf_size-5>T.w_size?T.w_size:T.pending_buf_size-5,Xe,ht,ot,er=0,$t=T.strm.avail_in;do{if(Xe=65535,ot=T.bi_valid+42>>3,T.strm.avail_out<ot||(ot=T.strm.avail_out-ot,ht=T.strstart-T.block_start,Xe>ht+T.strm.avail_in&&(Xe=ht+T.strm.avail_in),Xe>ot&&(Xe=ot),Xe<ee&&(Xe===0&&Ue!==Ka||Ue===Qi||Xe!==ht+T.strm.avail_in)))break;er=Ue===Ka&&Xe===ht+T.strm.avail_in?1:0,Cn(T,0,0,er),T.pending_buf[T.pending-4]=Xe,T.pending_buf[T.pending-3]=Xe>>8,T.pending_buf[T.pending-2]=~Xe,T.pending_buf[T.pending-1]=~Xe>>8,re(T.strm),ht&&(ht>Xe&&(ht=Xe),T.strm.output.set(T.window.subarray(T.block_start,T.block_start+ht),T.strm.next_out),T.strm.next_out+=ht,T.strm.avail_out-=ht,T.strm.total_out+=ht,T.block_start+=ht,Xe-=ht),Xe&&(it(T.strm,T.strm.output,T.strm.next_out,Xe),T.strm.next_out+=Xe,T.strm.avail_out-=Xe,T.strm.total_out+=Xe)}while(er===0);return $t-=T.strm.avail_in,$t&&($t>=T.w_size?(T.matches=2,T.window.set(T.strm.input.subarray(T.strm.next_in-T.w_size,T.strm.next_in),0),T.strstart=T.w_size,T.insert=T.strstart):(T.window_size-T.strstart<=$t&&(T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,T.insert>T.strstart&&(T.insert=T.strstart)),T.window.set(T.strm.input.subarray(T.strm.next_in-$t,T.strm.next_in),T.strstart),T.strstart+=$t,T.insert+=$t>T.w_size-T.insert?T.w_size-T.insert:$t),T.block_start=T.strstart),T.high_water<T.strstart&&(T.high_water=T.strstart),er?Fs:Ue!==Qi&&Ue!==Ka&&T.strm.avail_in===0&&T.strstart===T.block_start?bs:(ot=T.window_size-T.strstart,T.strm.avail_in>ot&&T.block_start>=T.w_size&&(T.block_start-=T.w_size,T.strstart-=T.w_size,T.window.set(T.window.subarray(T.w_size,T.w_size+T.strstart),0),T.matches<2&&T.matches++,ot+=T.w_size,T.insert>T.strstart&&(T.insert=T.strstart)),ot>T.strm.avail_in&&(ot=T.strm.avail_in),ot&&(it(T.strm,T.window,T.strstart,ot),T.strstart+=ot,T.insert+=ot>T.w_size-T.insert?T.w_size-T.insert:ot),T.high_water<T.strstart&&(T.high_water=T.strstart),ot=T.bi_valid+42>>3,ot=T.pending_buf_size-ot>65535?65535:T.pending_buf_size-ot,ee=ot>T.w_size?T.w_size:ot,ht=T.strstart-T.block_start,(ht>=ee||(ht||Ue===Ka)&&Ue!==Qi&&T.strm.avail_in===0&&ht<=ot)&&(Xe=ht>ot?ot:ht,er=Ue===Ka&&T.strm.avail_in===0&&Xe===ht?1:0,Cn(T,T.block_start,Xe,er),T.block_start+=Xe,re(T.strm)),er?Ys:Vi)},V=(T,Ue)=>{let ee,Xe;for(;;){if(T.lookahead<xs){if(B(T),T.lookahead<xs&&Ue===Qi)return Vi;if(T.lookahead===0)break}if(ee=0,T.lookahead>=Gn&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),ee=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),ee!==0&&T.strstart-ee<=T.w_size-xs&&(T.match_length=I(T,ee)),T.match_length>=Gn)if(Xe=Ni(T,T.strstart-T.match_start,T.match_length-Gn),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=Gn){T.match_length--;do T.strstart++,T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),ee=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!==0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=Q(T,T.ins_h,T.window[T.strstart+1]);else Xe=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(Xe&&(ye(T,!1),T.strm.avail_out===0))return Vi}return T.insert=T.strstart<Gn-1?T.strstart:Gn-1,Ue===Ka?(ye(T,!0),T.strm.avail_out===0?Ys:Fs):T.sym_next&&(ye(T,!1),T.strm.avail_out===0)?Vi:bs},Z=(T,Ue)=>{let ee,Xe,ht;for(;;){if(T.lookahead<xs){if(B(T),T.lookahead<xs&&Ue===Qi)return Vi;if(T.lookahead===0)break}if(ee=0,T.lookahead>=Gn&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),ee=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=Gn-1,ee!==0&&T.prev_length<T.max_lazy_match&&T.strstart-ee<=T.w_size-xs&&(T.match_length=I(T,ee),T.match_length<=5&&(T.strategy===Wi||T.match_length===Gn&&T.strstart-T.match_start>4096)&&(T.match_length=Gn-1)),T.prev_length>=Gn&&T.match_length<=T.prev_length){ht=T.strstart+T.lookahead-Gn,Xe=Ni(T,T.strstart-1-T.prev_match,T.prev_length-Gn),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=ht&&(T.ins_h=Q(T,T.ins_h,T.window[T.strstart+Gn-1]),ee=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!==0);if(T.match_available=0,T.match_length=Gn-1,T.strstart++,Xe&&(ye(T,!1),T.strm.avail_out===0))return Vi}else if(T.match_available){if(Xe=Ni(T,0,T.window[T.strstart-1]),Xe&&ye(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return Vi}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(Xe=Ni(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<Gn-1?T.strstart:Gn-1,Ue===Ka?(ye(T,!0),T.strm.avail_out===0?Ys:Fs):T.sym_next&&(ye(T,!1),T.strm.avail_out===0)?Vi:bs},ne=(T,Ue)=>{let ee,Xe,ht,ot;const er=T.window;for(;;){if(T.lookahead<=$i){if(B(T),T.lookahead<=$i&&Ue===Qi)return Vi;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=Gn&&T.strstart>0&&(ht=T.strstart-1,Xe=er[ht],Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht])){ot=T.strstart+$i;do;while(Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&Xe===er[++ht]&&ht<ot);T.match_length=$i-(ot-ht),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=Gn?(ee=Ni(T,1,T.match_length-Gn),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(ee=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),ee&&(ye(T,!1),T.strm.avail_out===0))return Vi}return T.insert=0,Ue===Ka?(ye(T,!0),T.strm.avail_out===0?Ys:Fs):T.sym_next&&(ye(T,!1),T.strm.avail_out===0)?Vi:bs},Se=(T,Ue)=>{let ee;for(;;){if(T.lookahead===0&&(B(T),T.lookahead===0)){if(Ue===Qi)return Vi;break}if(T.match_length=0,ee=Ni(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,ee&&(ye(T,!1),T.strm.avail_out===0))return Vi}return T.insert=0,Ue===Ka?(ye(T,!0),T.strm.avail_out===0?Ys:Fs):T.sym_next&&(ye(T,!1),T.strm.avail_out===0)?Vi:bs};function fe(T,Ue,ee,Xe,ht){this.good_length=T,this.max_lazy=Ue,this.nice_length=ee,this.max_chain=Xe,this.func=ht}const ge=[new fe(0,0,0,0,D),new fe(4,4,8,4,V),new fe(4,5,16,8,V),new fe(4,6,32,32,V),new fe(4,4,16,16,Z),new fe(8,16,32,32,Z),new fe(8,16,128,128,Z),new fe(8,32,128,256,Z),new fe(32,128,258,1024,Z),new fe(32,258,258,4096,Z)],Re=T=>{T.window_size=2*T.w_size,oe(T.head),T.max_lazy_match=ge[T.level].max_lazy,T.good_match=ge[T.level].good_length,T.nice_match=ge[T.level].nice_length,T.max_chain_length=ge[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=Gn-1,T.match_available=0,T.ins_h=0};function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Hc*2),this.dyn_dtree=new Uint16Array((2*pl+1)*2),this.bl_tree=new Uint16Array((2*Oo+1)*2),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cs+1),this.heap=new Uint16Array(2*ii+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ii+1),oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const et=T=>{if(!T)return 1;const Ue=T.state;return!Ue||Ue.strm!==T||Ue.status!==ko&&Ue.status!==Ri&&Ue.status!==lo&&Ue.status!==Zi&&Ue.status!==Fi&&Ue.status!==yo&&Ue.status!==Po&&Ue.status!==ga?1:0},st=T=>{if(et(T))return Ut(T,vs);T.total_in=T.total_out=0,T.data_type=Io;const Ue=T.state;return Ue.pending=0,Ue.pending_out=0,Ue.wrap<0&&(Ue.wrap=-Ue.wrap),Ue.status=Ue.wrap===2?Ri:Ue.wrap?ko:Po,T.adler=Ue.wrap===2?0:1,Ue.last_flush=-2,xi(Ue),Va},Fe=T=>{const Ue=st(T);return Ue===Va&&Re(T.state),Ue},vt=(T,Ue)=>et(T)||T.state.wrap!==2?vs:(T.state.gzhead=Ue,Va),mt=(T,Ue,ee,Xe,ht,ot)=>{if(!T)return vs;let er=1;if(Ue===El&&(Ue=6),Xe<0?(er=0,Xe=-Xe):Xe>15&&(er=2,Xe-=16),ht<1||ht>To||ee!==Xs||Xe<8||Xe>15||Ue<0||Ue>9||ot<0||ot>Jl||Xe===8&&er!==1)return Ut(T,vs);Xe===8&&(Xe=9);const $t=new Ve;return T.state=$t,$t.strm=T,$t.status=ko,$t.wrap=er,$t.gzhead=null,$t.w_bits=Xe,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=ht+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+Gn-1)/Gn),$t.window=new Uint8Array($t.w_size*2),$t.head=new Uint16Array($t.hash_size),$t.prev=new Uint16Array($t.w_size),$t.lit_bufsize=1<<ht+6,$t.pending_buf_size=$t.lit_bufsize*4,$t.pending_buf=new Uint8Array($t.pending_buf_size),$t.sym_buf=$t.lit_bufsize,$t.sym_end=($t.lit_bufsize-1)*3,$t.level=Ue,$t.strategy=ot,$t.method=ee,Fe(T)},yt=(T,Ue)=>mt(T,Ue,Xs,rl,_o,ai),nt=(T,Ue)=>{if(et(T)||Ue>gs||Ue<0)return T?Ut(T,vs):vs;const ee=T.state;if(!T.output||T.avail_in!==0&&!T.input||ee.status===ga&&Ue!==Ka)return Ut(T,T.avail_out===0?Nc:vs);const Xe=ee.last_flush;if(ee.last_flush=Ue,ee.pending!==0){if(re(T),T.avail_out===0)return ee.last_flush=-1,Va}else if(T.avail_in===0&&H(Ue)<=H(Xe)&&Ue!==Ka)return Ut(T,Nc);if(ee.status===ga&&T.avail_in!==0)return Ut(T,Nc);if(ee.status===ko&&ee.wrap===0&&(ee.status=Po),ee.status===ko){let ht=Xs+(ee.w_bits-8<<4)<<8,ot=-1;if(ee.strategy>=xo||ee.level<2?ot=0:ee.level<6?ot=1:ee.level===6?ot=2:ot=3,ht|=ot<<6,ee.strstart!==0&&(ht|=ys),ht+=31-ht%31,Ge(ee,ht),ee.strstart!==0&&(Ge(ee,T.adler>>>16),Ge(ee,T.adler&65535)),T.adler=1,ee.status=Po,re(T),ee.pending!==0)return ee.last_flush=-1,Va}if(ee.status===Ri){if(T.adler=0,De(ee,31),De(ee,139),De(ee,8),ee.gzhead)De(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),De(ee,ee.gzhead.time&255),De(ee,ee.gzhead.time>>8&255),De(ee,ee.gzhead.time>>16&255),De(ee,ee.gzhead.time>>24&255),De(ee,ee.level===9?2:ee.strategy>=xo||ee.level<2?4:0),De(ee,ee.gzhead.os&255),ee.gzhead.extra&&ee.gzhead.extra.length&&(De(ee,ee.gzhead.extra.length&255),De(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=lo;else if(De(ee,0),De(ee,0),De(ee,0),De(ee,0),De(ee,0),De(ee,ee.level===9?2:ee.strategy>=xo||ee.level<2?4:0),De(ee,Fo),ee.status=Po,re(T),ee.pending!==0)return ee.last_flush=-1,Va}if(ee.status===lo){if(ee.gzhead.extra){let ht=ee.pending,ot=(ee.gzhead.extra.length&65535)-ee.gzindex;for(;ee.pending+ot>ee.pending_buf_size;){let $t=ee.pending_buf_size-ee.pending;if(ee.pending_buf.set(ee.gzhead.extra.subarray(ee.gzindex,ee.gzindex+$t),ee.pending),ee.pending=ee.pending_buf_size,ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht)),ee.gzindex+=$t,re(T),ee.pending!==0)return ee.last_flush=-1,Va;ht=0,ot-=$t}let er=new Uint8Array(ee.gzhead.extra);ee.pending_buf.set(er.subarray(ee.gzindex,ee.gzindex+ot),ee.pending),ee.pending+=ot,ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht)),ee.gzindex=0}ee.status=Zi}if(ee.status===Zi){if(ee.gzhead.name){let ht=ee.pending,ot;do{if(ee.pending===ee.pending_buf_size){if(ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht)),re(T),ee.pending!==0)return ee.last_flush=-1,Va;ht=0}ee.gzindex<ee.gzhead.name.length?ot=ee.gzhead.name.charCodeAt(ee.gzindex++)&255:ot=0,De(ee,ot)}while(ot!==0);ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht)),ee.gzindex=0}ee.status=Fi}if(ee.status===Fi){if(ee.gzhead.comment){let ht=ee.pending,ot;do{if(ee.pending===ee.pending_buf_size){if(ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht)),re(T),ee.pending!==0)return ee.last_flush=-1,Va;ht=0}ee.gzindex<ee.gzhead.comment.length?ot=ee.gzhead.comment.charCodeAt(ee.gzindex++)&255:ot=0,De(ee,ot)}while(ot!==0);ee.gzhead.hcrc&&ee.pending>ht&&(T.adler=tn(T.adler,ee.pending_buf,ee.pending-ht,ht))}ee.status=yo}if(ee.status===yo){if(ee.gzhead.hcrc){if(ee.pending+2>ee.pending_buf_size&&(re(T),ee.pending!==0))return ee.last_flush=-1,Va;De(ee,T.adler&255),De(ee,T.adler>>8&255),T.adler=0}if(ee.status=Po,re(T),ee.pending!==0)return ee.last_flush=-1,Va}if(T.avail_in!==0||ee.lookahead!==0||Ue!==Qi&&ee.status!==ga){let ht=ee.level===0?D(ee,Ue):ee.strategy===xo?Se(ee,Ue):ee.strategy===ha?ne(ee,Ue):ge[ee.level].func(ee,Ue);if((ht===Ys||ht===Fs)&&(ee.status=ga),ht===Vi||ht===Ys)return T.avail_out===0&&(ee.last_flush=-1),Va;if(ht===bs&&(Ue===Ii?yi(ee):Ue!==gs&&(Cn(ee,0,0,!1),Ue===Ps&&(oe(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),re(T),T.avail_out===0))return ee.last_flush=-1,Va}return Ue!==Ka?Va:ee.wrap<=0?Cc:(ee.wrap===2?(De(ee,T.adler&255),De(ee,T.adler>>8&255),De(ee,T.adler>>16&255),De(ee,T.adler>>24&255),De(ee,T.total_in&255),De(ee,T.total_in>>8&255),De(ee,T.total_in>>16&255),De(ee,T.total_in>>24&255)):(Ge(ee,T.adler>>>16),Ge(ee,T.adler&65535)),re(T),ee.wrap>0&&(ee.wrap=-ee.wrap),ee.pending!==0?Va:Cc)},kt=T=>{if(et(T))return vs;const Ue=T.state.status;return T.state=null,Ue===Po?Ut(T,Bl):Va},Gt=(T,Ue)=>{let ee=Ue.length;if(et(T))return vs;const Xe=T.state,ht=Xe.wrap;if(ht===2||ht===1&&Xe.status!==ko||Xe.lookahead)return vs;if(ht===1&&(T.adler=la(T.adler,Ue,ee,0)),Xe.wrap=0,ee>=Xe.w_size){ht===0&&(oe(Xe.head),Xe.strstart=0,Xe.block_start=0,Xe.insert=0);let Sn=new Uint8Array(Xe.w_size);Sn.set(Ue.subarray(ee-Xe.w_size,ee),0),Ue=Sn,ee=Xe.w_size}const ot=T.avail_in,er=T.next_in,$t=T.input;for(T.avail_in=ee,T.next_in=0,T.input=Ue,B(Xe);Xe.lookahead>=Gn;){let Sn=Xe.strstart,Pt=Xe.lookahead-(Gn-1);do Xe.ins_h=Q(Xe,Xe.ins_h,Xe.window[Sn+Gn-1]),Xe.prev[Sn&Xe.w_mask]=Xe.head[Xe.ins_h],Xe.head[Xe.ins_h]=Sn,Sn++;while(--Pt);Xe.strstart=Sn,Xe.lookahead=Gn-1,B(Xe)}return Xe.strstart+=Xe.lookahead,Xe.block_start=Xe.strstart,Xe.insert=Xe.lookahead,Xe.lookahead=0,Xe.match_length=Xe.prev_length=Gn-1,Xe.match_available=0,T.next_in=er,T.input=$t,T.avail_in=ot,Xe.wrap=ht,Va};var St=yt,tt=mt,Qt=Fe,cr=st,Xt=vt,Tt=nt,or=kt,at=Gt,dt="pako deflate (from Nodeca project)",Et={deflateInit:St,deflateInit2:tt,deflateReset:Qt,deflateResetKeep:cr,deflateSetHeader:Xt,deflate:Tt,deflateEnd:or,deflateSetDictionary:at,deflateInfo:dt};const It=(T,Ue)=>Object.prototype.hasOwnProperty.call(T,Ue);var ur=function(T){const Ue=Array.prototype.slice.call(arguments,1);for(;Ue.length;){const ee=Ue.shift();if(ee){if(typeof ee!="object")throw new TypeError(ee+"must be non-object");for(const Xe in ee)It(ee,Xe)&&(T[Xe]=ee[Xe])}}return T},pr=T=>{let Ue=0;for(let Xe=0,ht=T.length;Xe<ht;Xe++)Ue+=T[Xe].length;const ee=new Uint8Array(Ue);for(let Xe=0,ht=0,ot=T.length;Xe<ot;Xe++){let er=T[Xe];ee.set(er,ht),ht+=er.length}return ee},yr={assign:ur,flattenChunks:pr};let Jt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jt=!1}const vr=new Uint8Array(256);for(let T=0;T<256;T++)vr[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;vr[254]=vr[254]=1;var Xr=T=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(T);let Ue,ee,Xe,ht,ot,er=T.length,$t=0;for(ht=0;ht<er;ht++)ee=T.charCodeAt(ht),(ee&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(ee=65536+(ee-55296<<10)+(Xe-56320),ht++)),$t+=ee<128?1:ee<2048?2:ee<65536?3:4;for(Ue=new Uint8Array($t),ot=0,ht=0;ot<$t;ht++)ee=T.charCodeAt(ht),(ee&64512)===55296&&ht+1<er&&(Xe=T.charCodeAt(ht+1),(Xe&64512)===56320&&(ee=65536+(ee-55296<<10)+(Xe-56320),ht++)),ee<128?Ue[ot++]=ee:ee<2048?(Ue[ot++]=192|ee>>>6,Ue[ot++]=128|ee&63):ee<65536?(Ue[ot++]=224|ee>>>12,Ue[ot++]=128|ee>>>6&63,Ue[ot++]=128|ee&63):(Ue[ot++]=240|ee>>>18,Ue[ot++]=128|ee>>>12&63,Ue[ot++]=128|ee>>>6&63,Ue[ot++]=128|ee&63);return Ue};const Ur=(T,Ue)=>{if(Ue<65534&&T.subarray&&Jt)return String.fromCharCode.apply(null,T.length===Ue?T:T.subarray(0,Ue));let ee="";for(let Xe=0;Xe<Ue;Xe++)ee+=String.fromCharCode(T[Xe]);return ee};var Ze=(T,Ue)=>{const ee=Ue||T.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(T.subarray(0,Ue));let Xe,ht;const ot=new Array(ee*2);for(ht=0,Xe=0;Xe<ee;){let er=T[Xe++];if(er<128){ot[ht++]=er;continue}let $t=vr[er];if($t>4){ot[ht++]=65533,Xe+=$t-1;continue}for(er&=$t===2?31:$t===3?15:7;$t>1&&Xe<ee;)er=er<<6|T[Xe++]&63,$t--;if($t>1){ot[ht++]=65533;continue}er<65536?ot[ht++]=er:(er-=65536,ot[ht++]=55296|er>>10&1023,ot[ht++]=56320|er&1023)}return Ur(ot,ht)},xt=(T,Ue)=>{Ue=Ue||T.length,Ue>T.length&&(Ue=T.length);let ee=Ue-1;for(;ee>=0&&(T[ee]&192)===128;)ee--;return ee<0||ee===0?Ue:ee+vr[T[ee]]>Ue?ee:Ue},Ct={string2buf:Xr,buf2string:Ze,utf8border:xt};function Wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kt=Wt;const nr=Object.prototype.toString,{Z_NO_FLUSH:gr,Z_SYNC_FLUSH:xr,Z_FULL_FLUSH:Pr,Z_FINISH:Yr,Z_OK:Nn,Z_STREAM_END:Bn,Z_DEFAULT_COMPRESSION:ca,Z_DEFAULT_STRATEGY:ut,Z_DEFLATED:An}=ma;function va(T){this.options=yr.assign({level:ca,method:An,chunkSize:16384,windowBits:15,memLevel:8,strategy:ut},T||{});let Ue=this.options;Ue.raw&&Ue.windowBits>0?Ue.windowBits=-Ue.windowBits:Ue.gzip&&Ue.windowBits>0&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let ee=Et.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(ee!==Nn)throw new Error(lr[ee]);if(Ue.header&&Et.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){let Xe;if(typeof Ue.dictionary=="string"?Xe=Ct.string2buf(Ue.dictionary):nr.call(Ue.dictionary)==="[object ArrayBuffer]"?Xe=new Uint8Array(Ue.dictionary):Xe=Ue.dictionary,ee=Et.deflateSetDictionary(this.strm,Xe),ee!==Nn)throw new Error(lr[ee]);this._dict_set=!0}}va.prototype.push=function(T,Ue){const ee=this.strm,Xe=this.options.chunkSize;let ht,ot;if(this.ended)return!1;for(Ue===~~Ue?ot=Ue:ot=Ue===!0?Yr:gr,typeof T=="string"?ee.input=Ct.string2buf(T):nr.call(T)==="[object ArrayBuffer]"?ee.input=new Uint8Array(T):ee.input=T,ee.next_in=0,ee.avail_in=ee.input.length;;){if(ee.avail_out===0&&(ee.output=new Uint8Array(Xe),ee.next_out=0,ee.avail_out=Xe),(ot===xr||ot===Pr)&&ee.avail_out<=6){this.onData(ee.output.subarray(0,ee.next_out)),ee.avail_out=0;continue}if(ht=Et.deflate(ee,ot),ht===Bn)return ee.next_out>0&&this.onData(ee.output.subarray(0,ee.next_out)),ht=Et.deflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===Nn;if(ee.avail_out===0){this.onData(ee.output);continue}if(ot>0&&ee.next_out>0){this.onData(ee.output.subarray(0,ee.next_out)),ee.avail_out=0;continue}if(ee.avail_in===0)break}return!0},va.prototype.onData=function(T){this.chunks.push(T)},va.prototype.onEnd=function(T){T===Nn&&(this.result=yr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function dn(T,Ue){const ee=new va(Ue);if(ee.push(T,!0),ee.err)throw ee.msg||lr[ee.err];return ee.result}function Hr(T,Ue){return Ue=Ue||{},Ue.raw=!0,dn(T,Ue)}function sa(T,Ue){return Ue=Ue||{},Ue.gzip=!0,dn(T,Ue)}var Dn=va,Zn=dn,Mn=Hr,pi=sa,Ha={Deflate:Dn,deflate:Zn,deflateRaw:Mn,gzip:pi};const Fn=16209,oi=16191;var oa=function(Ue,ee){let Xe,ht,ot,er,$t,Sn,Pt,ir,ya,fn,Mr,wr,Ui,wa,aa,Sa,ti,an,Ta,rs,Jn,li,Fa,Hn;const da=Ue.state;Xe=Ue.next_in,Fa=Ue.input,ht=Xe+(Ue.avail_in-5),ot=Ue.next_out,Hn=Ue.output,er=ot-(ee-Ue.avail_out),$t=ot+(Ue.avail_out-257),Sn=da.dmax,Pt=da.wsize,ir=da.whave,ya=da.wnext,fn=da.window,Mr=da.hold,wr=da.bits,Ui=da.lencode,wa=da.distcode,aa=(1<<da.lenbits)-1,Sa=(1<<da.distbits)-1;e:do{wr<15&&(Mr+=Fa[Xe++]<<wr,wr+=8,Mr+=Fa[Xe++]<<wr,wr+=8),ti=Ui[Mr&aa];t:for(;;){if(an=ti>>>24,Mr>>>=an,wr-=an,an=ti>>>16&255,an===0)Hn[ot++]=ti&65535;else if(an&16){Ta=ti&65535,an&=15,an&&(wr<an&&(Mr+=Fa[Xe++]<<wr,wr+=8),Ta+=Mr&(1<<an)-1,Mr>>>=an,wr-=an),wr<15&&(Mr+=Fa[Xe++]<<wr,wr+=8,Mr+=Fa[Xe++]<<wr,wr+=8),ti=wa[Mr&Sa];r:for(;;){if(an=ti>>>24,Mr>>>=an,wr-=an,an=ti>>>16&255,an&16){if(rs=ti&65535,an&=15,wr<an&&(Mr+=Fa[Xe++]<<wr,wr+=8,wr<an&&(Mr+=Fa[Xe++]<<wr,wr+=8)),rs+=Mr&(1<<an)-1,rs>Sn){Ue.msg="invalid distance too far back",da.mode=Fn;break e}if(Mr>>>=an,wr-=an,an=ot-er,rs>an){if(an=rs-an,an>ir&&da.sane){Ue.msg="invalid distance too far back",da.mode=Fn;break e}if(Jn=0,li=fn,ya===0){if(Jn+=Pt-an,an<Ta){Ta-=an;do Hn[ot++]=fn[Jn++];while(--an);Jn=ot-rs,li=Hn}}else if(ya<an){if(Jn+=Pt+ya-an,an-=ya,an<Ta){Ta-=an;do Hn[ot++]=fn[Jn++];while(--an);if(Jn=0,ya<Ta){an=ya,Ta-=an;do Hn[ot++]=fn[Jn++];while(--an);Jn=ot-rs,li=Hn}}}else if(Jn+=ya-an,an<Ta){Ta-=an;do Hn[ot++]=fn[Jn++];while(--an);Jn=ot-rs,li=Hn}for(;Ta>2;)Hn[ot++]=li[Jn++],Hn[ot++]=li[Jn++],Hn[ot++]=li[Jn++],Ta-=3;Ta&&(Hn[ot++]=li[Jn++],Ta>1&&(Hn[ot++]=li[Jn++]))}else{Jn=ot-rs;do Hn[ot++]=Hn[Jn++],Hn[ot++]=Hn[Jn++],Hn[ot++]=Hn[Jn++],Ta-=3;while(Ta>2);Ta&&(Hn[ot++]=Hn[Jn++],Ta>1&&(Hn[ot++]=Hn[Jn++]))}}else if((an&64)===0){ti=wa[(ti&65535)+(Mr&(1<<an)-1)];continue r}else{Ue.msg="invalid distance code",da.mode=Fn;break e}break}}else if((an&64)===0){ti=Ui[(ti&65535)+(Mr&(1<<an)-1)];continue t}else if(an&32){da.mode=oi;break e}else{Ue.msg="invalid literal/length code",da.mode=Fn;break e}break}}while(Xe<ht&&ot<$t);Ta=wr>>3,Xe-=Ta,wr-=Ta<<3,Mr&=(1<<wr)-1,Ue.next_in=Xe,Ue.next_out=ot,Ue.avail_in=Xe<ht?5+(ht-Xe):5-(Xe-ht),Ue.avail_out=ot<$t?257+($t-ot):257-(ot-$t),da.hold=Mr,da.bits=wr};const On=15,ua=852,kn=592,ja=0,ui=1,Ga=2,qa=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ts=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ti=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vn=(T,Ue,ee,Xe,ht,ot,er,$t)=>{const Sn=$t.bits;let Pt=0,ir=0,ya=0,fn=0,Mr=0,wr=0,Ui=0,wa=0,aa=0,Sa=0,ti,an,Ta,rs,Jn,li=null,Fa;const Hn=new Uint16Array(On+1),da=new Uint16Array(On+1);let Co=null,oc,Ro,uo;for(Pt=0;Pt<=On;Pt++)Hn[Pt]=0;for(ir=0;ir<Xe;ir++)Hn[Ue[ee+ir]]++;for(Mr=Sn,fn=On;fn>=1&&Hn[fn]===0;fn--);if(Mr>fn&&(Mr=fn),fn===0)return ht[ot++]=1<<24|64<<16|0,ht[ot++]=1<<24|64<<16|0,$t.bits=1,0;for(ya=1;ya<fn&&Hn[ya]===0;ya++);for(Mr<ya&&(Mr=ya),wa=1,Pt=1;Pt<=On;Pt++)if(wa<<=1,wa-=Hn[Pt],wa<0)return-1;if(wa>0&&(T===ja||fn!==1))return-1;for(da[1]=0,Pt=1;Pt<On;Pt++)da[Pt+1]=da[Pt]+Hn[Pt];for(ir=0;ir<Xe;ir++)Ue[ee+ir]!==0&&(er[da[Ue[ee+ir]]++]=ir);if(T===ja?(li=Co=er,Fa=20):T===ui?(li=qa,Co=ts,Fa=257):(li=zn,Co=Ti,Fa=0),Sa=0,ir=0,Pt=ya,Jn=ot,wr=Mr,Ui=0,Ta=-1,aa=1<<Mr,rs=aa-1,T===ui&&aa>ua||T===Ga&&aa>kn)return 1;for(;;){oc=Pt-Ui,er[ir]+1<Fa?(Ro=0,uo=er[ir]):er[ir]>=Fa?(Ro=Co[er[ir]-Fa],uo=li[er[ir]-Fa]):(Ro=96,uo=0),ti=1<<Pt-Ui,an=1<<wr,ya=an;do an-=ti,ht[Jn+(Sa>>Ui)+an]=oc<<24|Ro<<16|uo|0;while(an!==0);for(ti=1<<Pt-1;Sa&ti;)ti>>=1;if(ti!==0?(Sa&=ti-1,Sa+=ti):Sa=0,ir++,--Hn[Pt]===0){if(Pt===fn)break;Pt=Ue[ee+er[ir]]}if(Pt>Mr&&(Sa&rs)!==Ta){for(Ui===0&&(Ui=Mr),Jn+=ya,wr=Pt-Ui,wa=1<<wr;wr+Ui<fn&&(wa-=Hn[wr+Ui],!(wa<=0));)wr++,wa<<=1;if(aa+=1<<wr,T===ui&&aa>ua||T===Ga&&aa>kn)return 1;Ta=Sa&rs,ht[Ta]=Mr<<24|wr<<16|Jn-ot|0}}return Sa!==0&&(ht[Jn+Sa]=Pt-Ui<<24|64<<16|0),$t.bits=Mr,0};const _i=0,Ca=1,En=2,{Z_FINISH:ei,Z_BLOCK:ru,Z_TREES:$s,Z_OK:bo,Z_STREAM_END:Sc,Z_NEED_DICT:Aa,Z_STREAM_ERROR:ws,Z_DATA_ERROR:wo,Z_MEM_ERROR:Il,Z_BUF_ERROR:Ds,Z_DEFLATED:Di}=ma,Is=16180,co=16181,nu=16182,Zs=16183,nl=16184,Bc=16185,ec=16186,Js=16187,al=16188,Tl=16189,zo=16190,Do=16191,tc=16192,_l=16193,Ec=16194,hd=16195,Qc=16196,Ad=16197,au=16198,Ko=16199,iu=16200,ju=16201,Hu=16202,Ol=16203,Qu=16204,Wu=16205,rc=16206,$u=16207,Cu=16208,ba=16209,fd=16210,nc=16211,bi=852,pd=592,Ts=15,Ic=T=>(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24);function su(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kl=T=>{if(!T)return 1;const Ue=T.state;return!Ue||Ue.strm!==T||Ue.mode<Is||Ue.mode>nc?1:0},Vu=T=>{if(kl(T))return ws;const Ue=T.state;return T.total_in=T.total_out=Ue.total=0,T.msg="",Ue.wrap&&(T.adler=Ue.wrap&1),Ue.mode=Is,Ue.last=0,Ue.havedict=0,Ue.flags=-1,Ue.dmax=32768,Ue.head=null,Ue.hold=0,Ue.bits=0,Ue.lencode=Ue.lendyn=new Int32Array(bi),Ue.distcode=Ue.distdyn=new Int32Array(pd),Ue.sane=1,Ue.back=-1,bo},Go=T=>{if(kl(T))return ws;const Ue=T.state;return Ue.wsize=0,Ue.whave=0,Ue.wnext=0,Vu(T)},md=(T,Ue)=>{let ee;if(kl(T))return ws;const Xe=T.state;return Ue<0?(ee=0,Ue=-Ue):(ee=(Ue>>4)+5,Ue<48&&(Ue&=15)),Ue&&(Ue<8||Ue>15)?ws:(Xe.window!==null&&Xe.wbits!==Ue&&(Xe.window=null),Xe.wrap=ee,Xe.wbits=Ue,Go(T))},Nu=(T,Ue)=>{if(!T)return ws;const ee=new su;T.state=ee,ee.strm=T,ee.window=null,ee.mode=Is;const Xe=md(T,Ue);return Xe!==bo&&(T.state=null),Xe},gd=T=>Nu(T,Ts);let ou=!0,Su,Bu;const Eu=T=>{if(ou){Su=new Int32Array(512),Bu=new Int32Array(32);let Ue=0;for(;Ue<144;)T.lens[Ue++]=8;for(;Ue<256;)T.lens[Ue++]=9;for(;Ue<280;)T.lens[Ue++]=7;for(;Ue<288;)T.lens[Ue++]=8;for(Vn(Ca,T.lens,0,288,Su,0,T.work,{bits:9}),Ue=0;Ue<32;)T.lens[Ue++]=5;Vn(En,T.lens,0,32,Bu,0,T.work,{bits:5}),ou=!1}T.lencode=Su,T.lenbits=9,T.distcode=Bu,T.distbits=5},Iu=(T,Ue,ee,Xe)=>{let ht;const ot=T.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new Uint8Array(ot.wsize)),Xe>=ot.wsize?(ot.window.set(Ue.subarray(ee-ot.wsize,ee),0),ot.wnext=0,ot.whave=ot.wsize):(ht=ot.wsize-ot.wnext,ht>Xe&&(ht=Xe),ot.window.set(Ue.subarray(ee-Xe,ee-Xe+ht),ot.wnext),Xe-=ht,Xe?(ot.window.set(Ue.subarray(ee-Xe,ee),0),ot.wnext=Xe,ot.whave=ot.wsize):(ot.wnext+=ht,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=ht))),0},vd=(T,Ue)=>{let ee,Xe,ht,ot,er,$t,Sn,Pt,ir,ya,fn,Mr,wr,Ui,wa=0,aa,Sa,ti,an,Ta,rs,Jn,li;const Fa=new Uint8Array(4);let Hn,da;const Co=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kl(T)||!T.output||!T.input&&T.avail_in!==0)return ws;ee=T.state,ee.mode===Do&&(ee.mode=tc),er=T.next_out,ht=T.output,Sn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=ee.hold,ir=ee.bits,ya=$t,fn=Sn,li=bo;e:for(;;)switch(ee.mode){case Is:if(ee.wrap===0){ee.mode=tc;break}for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ee.wrap&2&&Pt===35615){ee.wbits===0&&(ee.wbits=15),ee.check=0,Fa[0]=Pt&255,Fa[1]=Pt>>>8&255,ee.check=tn(ee.check,Fa,2,0),Pt=0,ir=0,ee.mode=co;break}if(ee.head&&(ee.head.done=!1),!(ee.wrap&1)||(((Pt&255)<<8)+(Pt>>8))%31){T.msg="incorrect header check",ee.mode=ba;break}if((Pt&15)!==Di){T.msg="unknown compression method",ee.mode=ba;break}if(Pt>>>=4,ir-=4,Jn=(Pt&15)+8,ee.wbits===0&&(ee.wbits=Jn),Jn>15||Jn>ee.wbits){T.msg="invalid window size",ee.mode=ba;break}ee.dmax=1<<ee.wbits,ee.flags=0,T.adler=ee.check=1,ee.mode=Pt&512?Tl:Do,Pt=0,ir=0;break;case co:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ee.flags=Pt,(ee.flags&255)!==Di){T.msg="unknown compression method",ee.mode=ba;break}if(ee.flags&57344){T.msg="unknown header flags set",ee.mode=ba;break}ee.head&&(ee.head.text=Pt>>8&1),ee.flags&512&&ee.wrap&4&&(Fa[0]=Pt&255,Fa[1]=Pt>>>8&255,ee.check=tn(ee.check,Fa,2,0)),Pt=0,ir=0,ee.mode=nu;case nu:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.head&&(ee.head.time=Pt),ee.flags&512&&ee.wrap&4&&(Fa[0]=Pt&255,Fa[1]=Pt>>>8&255,Fa[2]=Pt>>>16&255,Fa[3]=Pt>>>24&255,ee.check=tn(ee.check,Fa,4,0)),Pt=0,ir=0,ee.mode=Zs;case Zs:for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.head&&(ee.head.xflags=Pt&255,ee.head.os=Pt>>8),ee.flags&512&&ee.wrap&4&&(Fa[0]=Pt&255,Fa[1]=Pt>>>8&255,ee.check=tn(ee.check,Fa,2,0)),Pt=0,ir=0,ee.mode=nl;case nl:if(ee.flags&1024){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.length=Pt,ee.head&&(ee.head.extra_len=Pt),ee.flags&512&&ee.wrap&4&&(Fa[0]=Pt&255,Fa[1]=Pt>>>8&255,ee.check=tn(ee.check,Fa,2,0)),Pt=0,ir=0}else ee.head&&(ee.head.extra=null);ee.mode=Bc;case Bc:if(ee.flags&1024&&(Mr=ee.length,Mr>$t&&(Mr=$t),Mr&&(ee.head&&(Jn=ee.head.extra_len-ee.length,ee.head.extra||(ee.head.extra=new Uint8Array(ee.head.extra_len)),ee.head.extra.set(Xe.subarray(ot,ot+Mr),Jn)),ee.flags&512&&ee.wrap&4&&(ee.check=tn(ee.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,ee.length-=Mr),ee.length))break e;ee.length=0,ee.mode=ec;case ec:if(ee.flags&2048){if($t===0)break e;Mr=0;do Jn=Xe[ot+Mr++],ee.head&&Jn&&ee.length<65536&&(ee.head.name+=String.fromCharCode(Jn));while(Jn&&Mr<$t);if(ee.flags&512&&ee.wrap&4&&(ee.check=tn(ee.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,Jn)break e}else ee.head&&(ee.head.name=null);ee.length=0,ee.mode=Js;case Js:if(ee.flags&4096){if($t===0)break e;Mr=0;do Jn=Xe[ot+Mr++],ee.head&&Jn&&ee.length<65536&&(ee.head.comment+=String.fromCharCode(Jn));while(Jn&&Mr<$t);if(ee.flags&512&&ee.wrap&4&&(ee.check=tn(ee.check,Xe,Mr,ot)),$t-=Mr,ot+=Mr,Jn)break e}else ee.head&&(ee.head.comment=null);ee.mode=al;case al:if(ee.flags&512){for(;ir<16;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ee.wrap&4&&Pt!==(ee.check&65535)){T.msg="header crc mismatch",ee.mode=ba;break}Pt=0,ir=0}ee.head&&(ee.head.hcrc=ee.flags>>9&1,ee.head.done=!0),T.adler=ee.check=0,ee.mode=Do;break;case Tl:for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}T.adler=ee.check=Ic(Pt),Pt=0,ir=0,ee.mode=zo;case zo:if(ee.havedict===0)return T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,ee.hold=Pt,ee.bits=ir,Aa;T.adler=ee.check=1,ee.mode=Do;case Do:if(Ue===ru||Ue===$s)break e;case tc:if(ee.last){Pt>>>=ir&7,ir-=ir&7,ee.mode=rc;break}for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}switch(ee.last=Pt&1,Pt>>>=1,ir-=1,Pt&3){case 0:ee.mode=_l;break;case 1:if(Eu(ee),ee.mode=Ko,Ue===$s){Pt>>>=2,ir-=2;break e}break;case 2:ee.mode=Qc;break;case 3:T.msg="invalid block type",ee.mode=ba}Pt>>>=2,ir-=2;break;case _l:for(Pt>>>=ir&7,ir-=ir&7;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Pt&65535)!==(Pt>>>16^65535)){T.msg="invalid stored block lengths",ee.mode=ba;break}if(ee.length=Pt&65535,Pt=0,ir=0,ee.mode=Ec,Ue===$s)break e;case Ec:ee.mode=hd;case hd:if(Mr=ee.length,Mr){if(Mr>$t&&(Mr=$t),Mr>Sn&&(Mr=Sn),Mr===0)break e;ht.set(Xe.subarray(ot,ot+Mr),er),$t-=Mr,ot+=Mr,Sn-=Mr,er+=Mr,ee.length-=Mr;break}ee.mode=Do;break;case Qc:for(;ir<14;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ee.nlen=(Pt&31)+257,Pt>>>=5,ir-=5,ee.ndist=(Pt&31)+1,Pt>>>=5,ir-=5,ee.ncode=(Pt&15)+4,Pt>>>=4,ir-=4,ee.nlen>286||ee.ndist>30){T.msg="too many length or distance symbols",ee.mode=ba;break}ee.have=0,ee.mode=Ad;case Ad:for(;ee.have<ee.ncode;){for(;ir<3;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.lens[Co[ee.have++]]=Pt&7,Pt>>>=3,ir-=3}for(;ee.have<19;)ee.lens[Co[ee.have++]]=0;if(ee.lencode=ee.lendyn,ee.lenbits=7,Hn={bits:ee.lenbits},li=Vn(_i,ee.lens,0,19,ee.lencode,0,ee.work,Hn),ee.lenbits=Hn.bits,li){T.msg="invalid code lengths set",ee.mode=ba;break}ee.have=0,ee.mode=au;case au:for(;ee.have<ee.nlen+ee.ndist;){for(;wa=ee.lencode[Pt&(1<<ee.lenbits)-1],aa=wa>>>24,Sa=wa>>>16&255,ti=wa&65535,!(aa<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ti<16)Pt>>>=aa,ir-=aa,ee.lens[ee.have++]=ti;else{if(ti===16){for(da=aa+2;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Pt>>>=aa,ir-=aa,ee.have===0){T.msg="invalid bit length repeat",ee.mode=ba;break}Jn=ee.lens[ee.have-1],Mr=3+(Pt&3),Pt>>>=2,ir-=2}else if(ti===17){for(da=aa+3;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=aa,ir-=aa,Jn=0,Mr=3+(Pt&7),Pt>>>=3,ir-=3}else{for(da=aa+7;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=aa,ir-=aa,Jn=0,Mr=11+(Pt&127),Pt>>>=7,ir-=7}if(ee.have+Mr>ee.nlen+ee.ndist){T.msg="invalid bit length repeat",ee.mode=ba;break}for(;Mr--;)ee.lens[ee.have++]=Jn}}if(ee.mode===ba)break;if(ee.lens[256]===0){T.msg="invalid code -- missing end-of-block",ee.mode=ba;break}if(ee.lenbits=9,Hn={bits:ee.lenbits},li=Vn(Ca,ee.lens,0,ee.nlen,ee.lencode,0,ee.work,Hn),ee.lenbits=Hn.bits,li){T.msg="invalid literal/lengths set",ee.mode=ba;break}if(ee.distbits=6,ee.distcode=ee.distdyn,Hn={bits:ee.distbits},li=Vn(En,ee.lens,ee.nlen,ee.ndist,ee.distcode,0,ee.work,Hn),ee.distbits=Hn.bits,li){T.msg="invalid distances set",ee.mode=ba;break}if(ee.mode=Ko,Ue===$s)break e;case Ko:ee.mode=iu;case iu:if($t>=6&&Sn>=258){T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,ee.hold=Pt,ee.bits=ir,oa(T,fn),er=T.next_out,ht=T.output,Sn=T.avail_out,ot=T.next_in,Xe=T.input,$t=T.avail_in,Pt=ee.hold,ir=ee.bits,ee.mode===Do&&(ee.back=-1);break}for(ee.back=0;wa=ee.lencode[Pt&(1<<ee.lenbits)-1],aa=wa>>>24,Sa=wa>>>16&255,ti=wa&65535,!(aa<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(Sa&&(Sa&240)===0){for(an=aa,Ta=Sa,rs=ti;wa=ee.lencode[rs+((Pt&(1<<an+Ta)-1)>>an)],aa=wa>>>24,Sa=wa>>>16&255,ti=wa&65535,!(an+aa<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,ee.back+=an}if(Pt>>>=aa,ir-=aa,ee.back+=aa,ee.length=ti,Sa===0){ee.mode=Wu;break}if(Sa&32){ee.back=-1,ee.mode=Do;break}if(Sa&64){T.msg="invalid literal/length code",ee.mode=ba;break}ee.extra=Sa&15,ee.mode=ju;case ju:if(ee.extra){for(da=ee.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.length+=Pt&(1<<ee.extra)-1,Pt>>>=ee.extra,ir-=ee.extra,ee.back+=ee.extra}ee.was=ee.length,ee.mode=Hu;case Hu:for(;wa=ee.distcode[Pt&(1<<ee.distbits)-1],aa=wa>>>24,Sa=wa>>>16&255,ti=wa&65535,!(aa<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if((Sa&240)===0){for(an=aa,Ta=Sa,rs=ti;wa=ee.distcode[rs+((Pt&(1<<an+Ta)-1)>>an)],aa=wa>>>24,Sa=wa>>>16&255,ti=wa&65535,!(an+aa<=ir);){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}Pt>>>=an,ir-=an,ee.back+=an}if(Pt>>>=aa,ir-=aa,ee.back+=aa,Sa&64){T.msg="invalid distance code",ee.mode=ba;break}ee.offset=ti,ee.extra=Sa&15,ee.mode=Ol;case Ol:if(ee.extra){for(da=ee.extra;ir<da;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}ee.offset+=Pt&(1<<ee.extra)-1,Pt>>>=ee.extra,ir-=ee.extra,ee.back+=ee.extra}if(ee.offset>ee.dmax){T.msg="invalid distance too far back",ee.mode=ba;break}ee.mode=Qu;case Qu:if(Sn===0)break e;if(Mr=fn-Sn,ee.offset>Mr){if(Mr=ee.offset-Mr,Mr>ee.whave&&ee.sane){T.msg="invalid distance too far back",ee.mode=ba;break}Mr>ee.wnext?(Mr-=ee.wnext,wr=ee.wsize-Mr):wr=ee.wnext-Mr,Mr>ee.length&&(Mr=ee.length),Ui=ee.window}else Ui=ht,wr=er-ee.offset,Mr=ee.length;Mr>Sn&&(Mr=Sn),Sn-=Mr,ee.length-=Mr;do ht[er++]=Ui[wr++];while(--Mr);ee.length===0&&(ee.mode=iu);break;case Wu:if(Sn===0)break e;ht[er++]=ee.length,Sn--,ee.mode=iu;break;case rc:if(ee.wrap){for(;ir<32;){if($t===0)break e;$t--,Pt|=Xe[ot++]<<ir,ir+=8}if(fn-=Sn,T.total_out+=fn,ee.total+=fn,ee.wrap&4&&fn&&(T.adler=ee.check=ee.flags?tn(ee.check,ht,fn,er-fn):la(ee.check,ht,fn,er-fn)),fn=Sn,ee.wrap&4&&(ee.flags?Pt:Ic(Pt))!==ee.check){T.msg="incorrect data check",ee.mode=ba;break}Pt=0,ir=0}ee.mode=$u;case $u:if(ee.wrap&&ee.flags){for(;ir<32;){if($t===0)break e;$t--,Pt+=Xe[ot++]<<ir,ir+=8}if(ee.wrap&4&&Pt!==(ee.total&4294967295)){T.msg="incorrect length check",ee.mode=ba;break}Pt=0,ir=0}ee.mode=Cu;case Cu:li=Sc;break e;case ba:li=wo;break e;case fd:return Il;case nc:default:return ws}return T.next_out=er,T.avail_out=Sn,T.next_in=ot,T.avail_in=$t,ee.hold=Pt,ee.bits=ir,(ee.wsize||fn!==T.avail_out&&ee.mode<ba&&(ee.mode<rc||Ue!==ei))&&Iu(T,T.output,T.next_out,fn-T.avail_out),ya-=T.avail_in,fn-=T.avail_out,T.total_in+=ya,T.total_out+=fn,ee.total+=fn,ee.wrap&4&&fn&&(T.adler=ee.check=ee.flags?tn(ee.check,ht,fn,T.next_out-fn):la(ee.check,ht,fn,T.next_out-fn)),T.data_type=ee.bits+(ee.last?64:0)+(ee.mode===Do?128:0)+(ee.mode===Ko||ee.mode===Ec?256:0),(ya===0&&fn===0||Ue===ei)&&li===bo&&(li=Ds),li},Pl=T=>{if(kl(T))return ws;let Ue=T.state;return Ue.window&&(Ue.window=null),T.state=null,bo},Lh=(T,Ue)=>{if(kl(T))return ws;const ee=T.state;return(ee.wrap&2)===0?ws:(ee.head=Ue,Ue.done=!1,bo)},Tu=(T,Ue)=>{const ee=Ue.length;let Xe,ht,ot;return kl(T)||(Xe=T.state,Xe.wrap!==0&&Xe.mode!==zo)?ws:Xe.mode===zo&&(ht=1,ht=la(ht,Ue,ee,0),ht!==Xe.check)?wo:(ot=Iu(T,Ue,ee,ee),ot?(Xe.mode=fd,Il):(Xe.havedict=1,bo))};var Vd=Go,Uh=md,Na=Vu,Wc=gd,fh=Nu,Tc=vd,jo=Pl,Fl=Lh,ac=Tu,zd="pako inflate (from Nodeca project)",gl={inflateReset:Vd,inflateReset2:Uh,inflateResetKeep:Na,inflateInit:Wc,inflateInit2:fh,inflate:Tc,inflateEnd:jo,inflateGetHeader:Fl,inflateSetDictionary:ac,inflateInfo:zd};function zu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qo=zu;const _u=Object.prototype.toString,{Z_NO_FLUSH:vl,Z_FINISH:xd,Z_OK:_c,Z_STREAM_END:ic,Z_NEED_DICT:Dl,Z_STREAM_ERROR:di,Z_DATA_ERROR:Oi,Z_MEM_ERROR:Ml}=ma;function js(T){this.options=yr.assign({chunkSize:65536,windowBits:15,to:""},T||{});const Ue=this.options;Ue.raw&&Ue.windowBits>=0&&Ue.windowBits<16&&(Ue.windowBits=-Ue.windowBits,Ue.windowBits===0&&(Ue.windowBits=-15)),Ue.windowBits>=0&&Ue.windowBits<16&&!(T&&T.windowBits)&&(Ue.windowBits+=32),Ue.windowBits>15&&Ue.windowBits<48&&(Ue.windowBits&15)===0&&(Ue.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let ee=gl.inflateInit2(this.strm,Ue.windowBits);if(ee!==_c)throw new Error(lr[ee]);if(this.header=new qo,gl.inflateGetHeader(this.strm,this.header),Ue.dictionary&&(typeof Ue.dictionary=="string"?Ue.dictionary=Ct.string2buf(Ue.dictionary):_u.call(Ue.dictionary)==="[object ArrayBuffer]"&&(Ue.dictionary=new Uint8Array(Ue.dictionary)),Ue.raw&&(ee=gl.inflateSetDictionary(this.strm,Ue.dictionary),ee!==_c)))throw new Error(lr[ee])}js.prototype.push=function(T,Ue){const ee=this.strm,Xe=this.options.chunkSize,ht=this.options.dictionary;let ot,er,$t;if(this.ended)return!1;for(Ue===~~Ue?er=Ue:er=Ue===!0?xd:vl,_u.call(T)==="[object ArrayBuffer]"?ee.input=new Uint8Array(T):ee.input=T,ee.next_in=0,ee.avail_in=ee.input.length;;){for(ee.avail_out===0&&(ee.output=new Uint8Array(Xe),ee.next_out=0,ee.avail_out=Xe),ot=gl.inflate(ee,er),ot===Dl&&ht&&(ot=gl.inflateSetDictionary(ee,ht),ot===_c?ot=gl.inflate(ee,er):ot===Oi&&(ot=Dl));ee.avail_in>0&&ot===ic&&ee.state.wrap>0&&T[ee.next_in]!==0;)gl.inflateReset(ee),ot=gl.inflate(ee,er);switch(ot){case di:case Oi:case Dl:case Ml:return this.onEnd(ot),this.ended=!0,!1}if($t=ee.avail_out,ee.next_out&&(ee.avail_out===0||ot===ic))if(this.options.to==="string"){let Sn=Ct.utf8border(ee.output,ee.next_out),Pt=ee.next_out-Sn,ir=Ct.buf2string(ee.output,Sn);ee.next_out=Pt,ee.avail_out=Xe-Pt,Pt&&ee.output.set(ee.output.subarray(Sn,Sn+Pt),0),this.onData(ir)}else this.onData(ee.output.length===ee.next_out?ee.output:ee.output.subarray(0,ee.next_out));if(!(ot===_c&&$t===0)){if(ot===ic)return ot=gl.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,!0;if(ee.avail_in===0)break}}return!0},js.prototype.onData=function(T){this.chunks.push(T)},js.prototype.onEnd=function(T){T===_c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yr.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg};function Ms(T,Ue){const ee=new js(Ue);if(ee.push(T),ee.err)throw ee.msg||lr[ee.err];return ee.result}function Oc(T,Ue){return Ue=Ue||{},Ue.raw=!0,Ms(T,Ue)}var lu=js,Mo=Ms,sc=Oc,$c=Ms,Kd={Inflate:lu,inflate:Mo,inflateRaw:sc,ungzip:$c};const{Deflate:Vc,deflate:Gd,deflateRaw:de,gzip:Qe}=Ha,{Inflate:gt,inflate:_t,inflateRaw:qt,ungzip:br}=Kd;var Fr=Vc,In=Gd,Un=de,fa=Qe,na=gt,Pa=_t,Mi=qt,Li=br,Ai=ma,us={Deflate:Fr,deflate:In,deflateRaw:Un,gzip:fa,Inflate:na,inflate:Pa,inflateRaw:Mi,ungzip:Li,constants:Ai}}),"./node_modules/performance-now/lib/performance-now.js":(function(l){(function(){var u,o,h,d,A,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(u()-A)/1e6},o=process.hrtime,u=function(){var g;return g=o(),g[0]*1e9+g[1]},d=u(),f=process.uptime()*1e9,A=d-f):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(l,u,o){for(var h=o("./node_modules/performance-now/lib/performance-now.js"),d=typeof window>"u"?oA:window,A=["moz","webkit"],f="AnimationFrame",g=d["request"+f],m=d["cancel"+f]||d["cancelRequest"+f],x=0;!g&&x<A.length;x++)g=d[A[x]+"Request"+f],m=d[A[x]+"Cancel"+f]||d[A[x]+"CancelRequest"+f];if(!g||!m){var y=0,b=0,w=[],N=1e3/60;g=function(S){if(w.length===0){var C=h(),k=Math.max(0,N-(C-y));y=k+C,setTimeout(function(){var W=w.slice(0);w.length=0;for(var q=0;q<W.length;q++)if(!W[q].cancelled)try{W[q].callback(y)}catch(te){setTimeout(function(){throw te},0)}},Math.round(k))}return w.push({handle:++b,callback:S,cancelled:!1}),b},m=function(S){for(var C=0;C<w.length;C++)w[C].handle===S&&(w[C].cancelled=!0)}}l.exports=function(S){return g.call(d,S)},l.exports.cancel=function(){m.apply(d,arguments)},l.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(l){l.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=o[u]||u;for(var h=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],d=0;d<h.length;d++){var A=h[d].re,f=h[d].process,g=A.exec(u);if(g){var m=f(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+x+y+b},this.getHelpXML=function(){for(var x=new Array,y=0;y<h.length;y++)for(var b=h[y].example,w=0;w<b.length;w++)x[x.length]=b[w];for(var N in o)x[x.length]=N;var S=document.createElement("ul");S.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var C=document.createElement("li"),k=new RGBColor(x[y]),W=document.createElement("div");W.style.cssText="margin: 3px; border: 1px solid black; background:"+k.toHex()+"; color:"+k.toHex(),W.appendChild(document.createTextNode("test"));var q=document.createTextNode(" "+x[y]+" -> "+k.toRGB()+" -> "+k.toHex());C.appendChild(W),C.appendChild(q),S.appendChild(C)}catch{}return S}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(l,u,o){o.r(u),o.d(u,{BlurStack:function(){return N},canvasRGB:function(){return b},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return w},imageDataRGBA:function(){return y}});function h(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(C){return typeof C}:h=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(S)}function d(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(S,C,k,W,q,te){if(typeof S=="string"&&(S=document.getElementById(S)),!(!S||Object.prototype.toString.call(S).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in S))){var K=q?"offset":"natural",X=S[K+"Width"],O=S[K+"Height"];if(Object.prototype.toString.call(S).slice(8,-1)==="ImageBitmap"&&(X=S.width,O=S.height),typeof C=="string"&&(C=document.getElementById(C)),!(!C||!("getContext"in C))){te||(C.style.width=X+"px",C.style.height=O+"px"),C.width=X,C.height=O;var le=C.getContext("2d");le.clearRect(0,0,X,O),le.drawImage(S,0,0,S.naturalWidth,S.naturalHeight,0,0,X,O),!(isNaN(k)||k<1)&&(W?x(C,0,0,X,O,k):b(C,0,0,X,O,k))}}}function m(S,C,k,W,q){if(typeof S=="string"&&(S=document.getElementById(S)),!S||h(S)!=="object"||!("getContext"in S))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var te=S.getContext("2d");try{return te.getImageData(C,k,W,q)}catch(K){throw new Error("unable to access image data: "+K)}}function x(S,C,k,W,q,te){if(!(isNaN(te)||te<1)){te|=0;var K=m(S,C,k,W,q);K=y(K,C,k,W,q,te),S.getContext("2d").putImageData(K,C,k)}}function y(S,C,k,W,q,te){for(var K=S.data,X=2*te+1,O=W-1,le=q-1,z=te+1,R=z*(z+1)/2,ie=new N,Ae=ie,Oe,be=1;be<X;be++)Ae=Ae.next=new N,be===z&&(Oe=Ae);Ae.next=ie;for(var Te=null,Y=null,Ne=0,ce=0,ae=A[te],Ce=f[te],Ee=0;Ee<q;Ee++){Ae=ie;for(var we=K[ce],me=K[ce+1],se=K[ce+2],J=K[ce+3],je=0;je<z;je++)Ae.r=we,Ae.g=me,Ae.b=se,Ae.a=J,Ae=Ae.next;for(var Pe=0,Le=0,Ie=0,pe=0,ke=z*we,Ye=z*me,wt=z*se,Ft=z*J,Bt=R*we,Vt=R*me,Ir=R*se,Sr=R*J,He=1;He<z;He++){var Zt=ce+((O<He?O:He)<<2),Nt=K[Zt],Vr=K[Zt+1],mr=K[Zt+2],on=K[Zt+3],Jr=z-He;Bt+=(Ae.r=Nt)*Jr,Vt+=(Ae.g=Vr)*Jr,Ir+=(Ae.b=mr)*Jr,Sr+=(Ae.a=on)*Jr,Pe+=Nt,Le+=Vr,Ie+=mr,pe+=on,Ae=Ae.next}Te=ie,Y=Oe;for(var Gr=0;Gr<W;Gr++){var _r=Sr*ae>>>Ce;if(K[ce+3]=_r,_r!==0){var hr=255/_r;K[ce]=(Bt*ae>>>Ce)*hr,K[ce+1]=(Vt*ae>>>Ce)*hr,K[ce+2]=(Ir*ae>>>Ce)*hr}else K[ce]=K[ce+1]=K[ce+2]=0;Bt-=ke,Vt-=Ye,Ir-=wt,Sr-=Ft,ke-=Te.r,Ye-=Te.g,wt-=Te.b,Ft-=Te.a;var Br=Gr+te+1;Br=Ne+(Br<O?Br:O)<<2,Pe+=Te.r=K[Br],Le+=Te.g=K[Br+1],Ie+=Te.b=K[Br+2],pe+=Te.a=K[Br+3],Bt+=Pe,Vt+=Le,Ir+=Ie,Sr+=pe,Te=Te.next;var Qr=Y,Kr=Qr.r,hn=Qr.g,Wr=Qr.b,Wn=Qr.a;ke+=Kr,Ye+=hn,wt+=Wr,Ft+=Wn,Pe-=Kr,Le-=hn,Ie-=Wr,pe-=Wn,Y=Y.next,ce+=4}Ne+=W}for(var Lr=0;Lr<W;Lr++){ce=Lr<<2;var Dr=K[ce],wn=K[ce+1],cn=K[ce+2],Ln=K[ce+3],la=z*Dr,Ot=z*wn,$r=z*cn,un=z*Ln,tn=R*Dr,lr=R*wn,ma=R*cn,xi=R*Ln;Ae=ie;for(var Cn=0;Cn<z;Cn++)Ae.r=Dr,Ae.g=wn,Ae.b=cn,Ae.a=Ln,Ae=Ae.next;for(var Es=W,Ni=0,yi=0,Qi=0,Ii=0,Ps=1;Ps<=te;Ps++){ce=Es+Lr<<2;var Ka=z-Ps;tn+=(Ae.r=Dr=K[ce])*Ka,lr+=(Ae.g=wn=K[ce+1])*Ka,ma+=(Ae.b=cn=K[ce+2])*Ka,xi+=(Ae.a=Ln=K[ce+3])*Ka,Ii+=Dr,Ni+=wn,yi+=cn,Qi+=Ln,Ae=Ae.next,Ps<le&&(Es+=W)}ce=Lr,Te=ie,Y=Oe;for(var gs=0;gs<q;gs++){var Va=ce<<2;K[Va+3]=Ln=xi*ae>>>Ce,Ln>0?(Ln=255/Ln,K[Va]=(tn*ae>>>Ce)*Ln,K[Va+1]=(lr*ae>>>Ce)*Ln,K[Va+2]=(ma*ae>>>Ce)*Ln):K[Va]=K[Va+1]=K[Va+2]=0,tn-=la,lr-=Ot,ma-=$r,xi-=un,la-=Te.r,Ot-=Te.g,$r-=Te.b,un-=Te.a,Va=Lr+((Va=gs+z)<le?Va:le)*W<<2,tn+=Ii+=Te.r=K[Va],lr+=Ni+=Te.g=K[Va+1],ma+=yi+=Te.b=K[Va+2],xi+=Qi+=Te.a=K[Va+3],Te=Te.next,la+=Dr=Y.r,Ot+=wn=Y.g,$r+=cn=Y.b,un+=Ln=Y.a,Ii-=Dr,Ni-=wn,yi-=cn,Qi-=Ln,Y=Y.next,ce+=W}}return S}function b(S,C,k,W,q,te){if(!(isNaN(te)||te<1)){te|=0;var K=m(S,C,k,W,q);K=w(K,C,k,W,q,te),S.getContext("2d").putImageData(K,C,k)}}function w(S,C,k,W,q,te){for(var K=S.data,X=2*te+1,O=W-1,le=q-1,z=te+1,R=z*(z+1)/2,ie=new N,Ae=ie,Oe,be=1;be<X;be++)Ae=Ae.next=new N,be===z&&(Oe=Ae);Ae.next=ie;for(var Te=null,Y=null,Ne=A[te],ce=f[te],ae,Ce,Ee=0,we=0,me=0;me<q;me++){var se=K[we],J=K[we+1],je=K[we+2],Pe=z*se,Le=z*J,Ie=z*je,pe=R*se,ke=R*J,Ye=R*je;Ae=ie;for(var wt=0;wt<z;wt++)Ae.r=se,Ae.g=J,Ae.b=je,Ae=Ae.next;for(var Ft=0,Bt=0,Vt=0,Ir=1;Ir<z;Ir++)ae=we+((O<Ir?O:Ir)<<2),pe+=(Ae.r=se=K[ae])*(Ce=z-Ir),ke+=(Ae.g=J=K[ae+1])*Ce,Ye+=(Ae.b=je=K[ae+2])*Ce,Ft+=se,Bt+=J,Vt+=je,Ae=Ae.next;Te=ie,Y=Oe;for(var Sr=0;Sr<W;Sr++)K[we]=pe*Ne>>>ce,K[we+1]=ke*Ne>>>ce,K[we+2]=Ye*Ne>>>ce,pe-=Pe,ke-=Le,Ye-=Ie,Pe-=Te.r,Le-=Te.g,Ie-=Te.b,ae=Ee+((ae=Sr+te+1)<O?ae:O)<<2,Ft+=Te.r=K[ae],Bt+=Te.g=K[ae+1],Vt+=Te.b=K[ae+2],pe+=Ft,ke+=Bt,Ye+=Vt,Te=Te.next,Pe+=se=Y.r,Le+=J=Y.g,Ie+=je=Y.b,Ft-=se,Bt-=J,Vt-=je,Y=Y.next,we+=4;Ee+=W}for(var He=0;He<W;He++){we=He<<2;var Zt=K[we],Nt=K[we+1],Vr=K[we+2],mr=z*Zt,on=z*Nt,Jr=z*Vr,Gr=R*Zt,_r=R*Nt,hr=R*Vr;Ae=ie;for(var Br=0;Br<z;Br++)Ae.r=Zt,Ae.g=Nt,Ae.b=Vr,Ae=Ae.next;for(var Qr=0,Kr=0,hn=0,Wr=1,Wn=W;Wr<=te;Wr++)we=Wn+He<<2,Gr+=(Ae.r=Zt=K[we])*(Ce=z-Wr),_r+=(Ae.g=Nt=K[we+1])*Ce,hr+=(Ae.b=Vr=K[we+2])*Ce,Qr+=Zt,Kr+=Nt,hn+=Vr,Ae=Ae.next,Wr<le&&(Wn+=W);we=He,Te=ie,Y=Oe;for(var Lr=0;Lr<q;Lr++)ae=we<<2,K[ae]=Gr*Ne>>>ce,K[ae+1]=_r*Ne>>>ce,K[ae+2]=hr*Ne>>>ce,Gr-=mr,_r-=on,hr-=Jr,mr-=Te.r,on-=Te.g,Jr-=Te.b,ae=He+((ae=Lr+z)<le?ae:le)*W<<2,Gr+=Qr+=Te.r=K[ae],_r+=Kr+=Te.g=K[ae+1],hr+=hn+=Te.b=K[ae+2],Te=Te.next,mr+=Zt=Y.r,on+=Nt=Y.g,Jr+=Vr=Y.b,Qr-=Zt,Kr-=Nt,hn-=Vr,Y=Y.next,we+=W}return S}var N=function S(){d(this,S),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(l,u,o){o.r(u),o.d(u,{COMMAND_ARG_COUNTS:function(){return le},SVGPathData:function(){return O},SVGPathDataParser:function(){return X},SVGPathDataTransformer:function(){return b},encodeSVGPath:function(){return A}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var h=function(z,R){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,Ae){ie.__proto__=Ae}||function(ie,Ae){for(var Oe in Ae)Object.prototype.hasOwnProperty.call(Ae,Oe)&&(ie[Oe]=Ae[Oe])})(z,R)};function d(z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function ie(){this.constructor=z}h(z,R),z.prototype=R===null?Object.create(R):(ie.prototype=R.prototype,new ie)}function A(z){var R="";Array.isArray(z)||(z=[z]);for(var ie=0;ie<z.length;ie++){var Ae=z[ie];if(Ae.type===O.CLOSE_PATH)R+="z";else if(Ae.type===O.HORIZ_LINE_TO)R+=(Ae.relative?"h":"H")+Ae.x;else if(Ae.type===O.VERT_LINE_TO)R+=(Ae.relative?"v":"V")+Ae.y;else if(Ae.type===O.MOVE_TO)R+=(Ae.relative?"m":"M")+Ae.x+" "+Ae.y;else if(Ae.type===O.LINE_TO)R+=(Ae.relative?"l":"L")+Ae.x+" "+Ae.y;else if(Ae.type===O.CURVE_TO)R+=(Ae.relative?"c":"C")+Ae.x1+" "+Ae.y1+" "+Ae.x2+" "+Ae.y2+" "+Ae.x+" "+Ae.y;else if(Ae.type===O.SMOOTH_CURVE_TO)R+=(Ae.relative?"s":"S")+Ae.x2+" "+Ae.y2+" "+Ae.x+" "+Ae.y;else if(Ae.type===O.QUAD_TO)R+=(Ae.relative?"q":"Q")+Ae.x1+" "+Ae.y1+" "+Ae.x+" "+Ae.y;else if(Ae.type===O.SMOOTH_QUAD_TO)R+=(Ae.relative?"t":"T")+Ae.x+" "+Ae.y;else{if(Ae.type!==O.ARC)throw new Error('Unexpected command type "'+Ae.type+'" at index '+ie+".");R+=(Ae.relative?"a":"A")+Ae.rX+" "+Ae.rY+" "+Ae.xRot+" "+ +Ae.lArcFlag+" "+ +Ae.sweepFlag+" "+Ae.x+" "+Ae.y}}return R}function f(z,R){var ie=z[0],Ae=z[1];return[ie*Math.cos(R)-Ae*Math.sin(R),ie*Math.sin(R)+Ae*Math.cos(R)]}function g(){for(var z=[],R=0;R<arguments.length;R++)z[R]=arguments[R];for(var ie=0;ie<z.length;ie++)if(typeof z[ie]!="number")throw new Error("assertNumbers arguments["+ie+"] is not a number. "+typeof z[ie]+" == typeof "+z[ie]);return!0}var m=Math.PI;function x(z,R,ie){z.lArcFlag=z.lArcFlag===0?0:1,z.sweepFlag=z.sweepFlag===0?0:1;var Ae=z.rX,Oe=z.rY,be=z.x,Te=z.y;Ae=Math.abs(z.rX),Oe=Math.abs(z.rY);var Y=f([(R-be)/2,(ie-Te)/2],-z.xRot/180*m),Ne=Y[0],ce=Y[1],ae=Math.pow(Ne,2)/Math.pow(Ae,2)+Math.pow(ce,2)/Math.pow(Oe,2);1<ae&&(Ae*=Math.sqrt(ae),Oe*=Math.sqrt(ae)),z.rX=Ae,z.rY=Oe;var Ce=Math.pow(Ae,2)*Math.pow(ce,2)+Math.pow(Oe,2)*Math.pow(Ne,2),Ee=(z.lArcFlag!==z.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(Ae,2)*Math.pow(Oe,2)-Ce)/Ce)),we=Ae*ce/Oe*Ee,me=-Oe*Ne/Ae*Ee,se=f([we,me],z.xRot/180*m);z.cX=se[0]+(R+be)/2,z.cY=se[1]+(ie+Te)/2,z.phi1=Math.atan2((ce-me)/Oe,(Ne-we)/Ae),z.phi2=Math.atan2((-ce-me)/Oe,(-Ne-we)/Ae),z.sweepFlag===0&&z.phi2>z.phi1&&(z.phi2-=2*m),z.sweepFlag===1&&z.phi2<z.phi1&&(z.phi2+=2*m),z.phi1*=180/m,z.phi2*=180/m}function y(z,R,ie){g(z,R,ie);var Ae=z*z+R*R-ie*ie;if(0>Ae)return[];if(Ae===0)return[[z*ie/(z*z+R*R),R*ie/(z*z+R*R)]];var Oe=Math.sqrt(Ae);return[[(z*ie+R*Oe)/(z*z+R*R),(R*ie-z*Oe)/(z*z+R*R)],[(z*ie-R*Oe)/(z*z+R*R),(R*ie+z*Oe)/(z*z+R*R)]]}var b,w=Math.PI/180;function N(z,R,ie){return(1-ie)*z+ie*R}function S(z,R,ie,Ae){return z+Math.cos(Ae/180*m)*R+Math.sin(Ae/180*m)*ie}function C(z,R,ie,Ae){var Oe=1e-6,be=R-z,Te=ie-R,Y=3*be+3*(Ae-ie)-6*Te,Ne=6*(Te-be),ce=3*be;return Math.abs(Y)<Oe?[-ce/Ne]:(function(ae,Ce,Ee){var we=ae*ae/4-Ce;if(we<-Ee)return[];if(we<=Ee)return[-ae/2];var me=Math.sqrt(we);return[-ae/2-me,-ae/2+me]})(Ne/Y,ce/Y,Oe)}function k(z,R,ie,Ae,Oe){var be=1-Oe;return z*(be*be*be)+R*(3*be*be*Oe)+ie*(3*be*Oe*Oe)+Ae*(Oe*Oe*Oe)}(function(z){function R(){return Oe((function(Y,Ne,ce){return Y.relative&&(Y.x1!==void 0&&(Y.x1+=Ne),Y.y1!==void 0&&(Y.y1+=ce),Y.x2!==void 0&&(Y.x2+=Ne),Y.y2!==void 0&&(Y.y2+=ce),Y.x!==void 0&&(Y.x+=Ne),Y.y!==void 0&&(Y.y+=ce),Y.relative=!1),Y}))}function ie(){var Y=NaN,Ne=NaN,ce=NaN,ae=NaN;return Oe((function(Ce,Ee,we){return Ce.type&O.SMOOTH_CURVE_TO&&(Ce.type=O.CURVE_TO,Y=isNaN(Y)?Ee:Y,Ne=isNaN(Ne)?we:Ne,Ce.x1=Ce.relative?Ee-Y:2*Ee-Y,Ce.y1=Ce.relative?we-Ne:2*we-Ne),Ce.type&O.CURVE_TO?(Y=Ce.relative?Ee+Ce.x2:Ce.x2,Ne=Ce.relative?we+Ce.y2:Ce.y2):(Y=NaN,Ne=NaN),Ce.type&O.SMOOTH_QUAD_TO&&(Ce.type=O.QUAD_TO,ce=isNaN(ce)?Ee:ce,ae=isNaN(ae)?we:ae,Ce.x1=Ce.relative?Ee-ce:2*Ee-ce,Ce.y1=Ce.relative?we-ae:2*we-ae),Ce.type&O.QUAD_TO?(ce=Ce.relative?Ee+Ce.x1:Ce.x1,ae=Ce.relative?we+Ce.y1:Ce.y1):(ce=NaN,ae=NaN),Ce}))}function Ae(){var Y=NaN,Ne=NaN;return Oe((function(ce,ae,Ce){if(ce.type&O.SMOOTH_QUAD_TO&&(ce.type=O.QUAD_TO,Y=isNaN(Y)?ae:Y,Ne=isNaN(Ne)?Ce:Ne,ce.x1=ce.relative?ae-Y:2*ae-Y,ce.y1=ce.relative?Ce-Ne:2*Ce-Ne),ce.type&O.QUAD_TO){Y=ce.relative?ae+ce.x1:ce.x1,Ne=ce.relative?Ce+ce.y1:ce.y1;var Ee=ce.x1,we=ce.y1;ce.type=O.CURVE_TO,ce.x1=((ce.relative?0:ae)+2*Ee)/3,ce.y1=((ce.relative?0:Ce)+2*we)/3,ce.x2=(ce.x+2*Ee)/3,ce.y2=(ce.y+2*we)/3}else Y=NaN,Ne=NaN;return ce}))}function Oe(Y){var Ne=0,ce=0,ae=NaN,Ce=NaN;return function(Ee){if(isNaN(ae)&&!(Ee.type&O.MOVE_TO))throw new Error("path must start with moveto");var we=Y(Ee,Ne,ce,ae,Ce);return Ee.type&O.CLOSE_PATH&&(Ne=ae,ce=Ce),Ee.x!==void 0&&(Ne=Ee.relative?Ne+Ee.x:Ee.x),Ee.y!==void 0&&(ce=Ee.relative?ce+Ee.y:Ee.y),Ee.type&O.MOVE_TO&&(ae=Ne,Ce=ce),we}}function be(Y,Ne,ce,ae,Ce,Ee){return g(Y,Ne,ce,ae,Ce,Ee),Oe((function(we,me,se,J){var je=we.x1,Pe=we.x2,Le=we.relative&&!isNaN(J),Ie=we.x!==void 0?we.x:Le?0:me,pe=we.y!==void 0?we.y:Le?0:se;function ke(_r){return _r*_r}we.type&O.HORIZ_LINE_TO&&Ne!==0&&(we.type=O.LINE_TO,we.y=we.relative?0:se),we.type&O.VERT_LINE_TO&&ce!==0&&(we.type=O.LINE_TO,we.x=we.relative?0:me),we.x!==void 0&&(we.x=we.x*Y+pe*ce+(Le?0:Ce)),we.y!==void 0&&(we.y=Ie*Ne+we.y*ae+(Le?0:Ee)),we.x1!==void 0&&(we.x1=we.x1*Y+we.y1*ce+(Le?0:Ce)),we.y1!==void 0&&(we.y1=je*Ne+we.y1*ae+(Le?0:Ee)),we.x2!==void 0&&(we.x2=we.x2*Y+we.y2*ce+(Le?0:Ce)),we.y2!==void 0&&(we.y2=Pe*Ne+we.y2*ae+(Le?0:Ee));var Ye=Y*ae-Ne*ce;if(we.xRot!==void 0&&(Y!==1||Ne!==0||ce!==0||ae!==1))if(Ye===0)delete we.rX,delete we.rY,delete we.xRot,delete we.lArcFlag,delete we.sweepFlag,we.type=O.LINE_TO;else{var wt=we.xRot*Math.PI/180,Ft=Math.sin(wt),Bt=Math.cos(wt),Vt=1/ke(we.rX),Ir=1/ke(we.rY),Sr=ke(Bt)*Vt+ke(Ft)*Ir,He=2*Ft*Bt*(Vt-Ir),Zt=ke(Ft)*Vt+ke(Bt)*Ir,Nt=Sr*ae*ae-He*Ne*ae+Zt*Ne*Ne,Vr=He*(Y*ae+Ne*ce)-2*(Sr*ce*ae+Zt*Y*Ne),mr=Sr*ce*ce-He*Y*ce+Zt*Y*Y,on=(Math.atan2(Vr,Nt-mr)+Math.PI)%Math.PI/2,Jr=Math.sin(on),Gr=Math.cos(on);we.rX=Math.abs(Ye)/Math.sqrt(Nt*ke(Gr)+Vr*Jr*Gr+mr*ke(Jr)),we.rY=Math.abs(Ye)/Math.sqrt(Nt*ke(Jr)-Vr*Jr*Gr+mr*ke(Gr)),we.xRot=180*on/Math.PI}return we.sweepFlag!==void 0&&0>Ye&&(we.sweepFlag=+!we.sweepFlag),we}))}function Te(){return function(Y){var Ne={};for(var ce in Y)Ne[ce]=Y[ce];return Ne}}z.ROUND=function(Y){function Ne(ce){return Math.round(ce*Y)/Y}return Y===void 0&&(Y=1e13),g(Y),function(ce){return ce.x1!==void 0&&(ce.x1=Ne(ce.x1)),ce.y1!==void 0&&(ce.y1=Ne(ce.y1)),ce.x2!==void 0&&(ce.x2=Ne(ce.x2)),ce.y2!==void 0&&(ce.y2=Ne(ce.y2)),ce.x!==void 0&&(ce.x=Ne(ce.x)),ce.y!==void 0&&(ce.y=Ne(ce.y)),ce.rX!==void 0&&(ce.rX=Ne(ce.rX)),ce.rY!==void 0&&(ce.rY=Ne(ce.rY)),ce}},z.TO_ABS=R,z.TO_REL=function(){return Oe((function(Y,Ne,ce){return Y.relative||(Y.x1!==void 0&&(Y.x1-=Ne),Y.y1!==void 0&&(Y.y1-=ce),Y.x2!==void 0&&(Y.x2-=Ne),Y.y2!==void 0&&(Y.y2-=ce),Y.x!==void 0&&(Y.x-=Ne),Y.y!==void 0&&(Y.y-=ce),Y.relative=!0),Y}))},z.NORMALIZE_HVZ=function(Y,Ne,ce){return Y===void 0&&(Y=!0),Ne===void 0&&(Ne=!0),ce===void 0&&(ce=!0),Oe((function(ae,Ce,Ee,we,me){if(isNaN(we)&&!(ae.type&O.MOVE_TO))throw new Error("path must start with moveto");return Ne&&ae.type&O.HORIZ_LINE_TO&&(ae.type=O.LINE_TO,ae.y=ae.relative?0:Ee),ce&&ae.type&O.VERT_LINE_TO&&(ae.type=O.LINE_TO,ae.x=ae.relative?0:Ce),Y&&ae.type&O.CLOSE_PATH&&(ae.type=O.LINE_TO,ae.x=ae.relative?we-Ce:we,ae.y=ae.relative?me-Ee:me),ae.type&O.ARC&&(ae.rX===0||ae.rY===0)&&(ae.type=O.LINE_TO,delete ae.rX,delete ae.rY,delete ae.xRot,delete ae.lArcFlag,delete ae.sweepFlag),ae}))},z.NORMALIZE_ST=ie,z.QT_TO_C=Ae,z.INFO=Oe,z.SANITIZE=function(Y){Y===void 0&&(Y=0),g(Y);var Ne=NaN,ce=NaN,ae=NaN,Ce=NaN;return Oe((function(Ee,we,me,se,J){var je=Math.abs,Pe=!1,Le=0,Ie=0;if(Ee.type&O.SMOOTH_CURVE_TO&&(Le=isNaN(Ne)?0:we-Ne,Ie=isNaN(ce)?0:me-ce),Ee.type&(O.CURVE_TO|O.SMOOTH_CURVE_TO)?(Ne=Ee.relative?we+Ee.x2:Ee.x2,ce=Ee.relative?me+Ee.y2:Ee.y2):(Ne=NaN,ce=NaN),Ee.type&O.SMOOTH_QUAD_TO?(ae=isNaN(ae)?we:2*we-ae,Ce=isNaN(Ce)?me:2*me-Ce):Ee.type&O.QUAD_TO?(ae=Ee.relative?we+Ee.x1:Ee.x1,Ce=Ee.relative?me+Ee.y1:Ee.y2):(ae=NaN,Ce=NaN),Ee.type&O.LINE_COMMANDS||Ee.type&O.ARC&&(Ee.rX===0||Ee.rY===0||!Ee.lArcFlag)||Ee.type&O.CURVE_TO||Ee.type&O.SMOOTH_CURVE_TO||Ee.type&O.QUAD_TO||Ee.type&O.SMOOTH_QUAD_TO){var pe=Ee.x===void 0?0:Ee.relative?Ee.x:Ee.x-we,ke=Ee.y===void 0?0:Ee.relative?Ee.y:Ee.y-me;Le=isNaN(ae)?Ee.x1===void 0?Le:Ee.relative?Ee.x:Ee.x1-we:ae-we,Ie=isNaN(Ce)?Ee.y1===void 0?Ie:Ee.relative?Ee.y:Ee.y1-me:Ce-me;var Ye=Ee.x2===void 0?0:Ee.relative?Ee.x:Ee.x2-we,wt=Ee.y2===void 0?0:Ee.relative?Ee.y:Ee.y2-me;je(pe)<=Y&&je(ke)<=Y&&je(Le)<=Y&&je(Ie)<=Y&&je(Ye)<=Y&&je(wt)<=Y&&(Pe=!0)}return Ee.type&O.CLOSE_PATH&&je(we-se)<=Y&&je(me-J)<=Y&&(Pe=!0),Pe?[]:Ee}))},z.MATRIX=be,z.ROTATE=function(Y,Ne,ce){Ne===void 0&&(Ne=0),ce===void 0&&(ce=0),g(Y,Ne,ce);var ae=Math.sin(Y),Ce=Math.cos(Y);return be(Ce,ae,-ae,Ce,Ne-Ne*Ce+ce*ae,ce-Ne*ae-ce*Ce)},z.TRANSLATE=function(Y,Ne){return Ne===void 0&&(Ne=0),g(Y,Ne),be(1,0,0,1,Y,Ne)},z.SCALE=function(Y,Ne){return Ne===void 0&&(Ne=Y),g(Y,Ne),be(Y,0,0,Ne,0,0)},z.SKEW_X=function(Y){return g(Y),be(1,0,Math.atan(Y),1,0,0)},z.SKEW_Y=function(Y){return g(Y),be(1,Math.atan(Y),0,1,0,0)},z.X_AXIS_SYMMETRY=function(Y){return Y===void 0&&(Y=0),g(Y),be(-1,0,0,1,Y,0)},z.Y_AXIS_SYMMETRY=function(Y){return Y===void 0&&(Y=0),g(Y),be(1,0,0,-1,0,Y)},z.A_TO_C=function(){return Oe((function(Y,Ne,ce){return O.ARC===Y.type?(function(ae,Ce,Ee){var we,me,se,J;ae.cX||x(ae,Ce,Ee);for(var je=Math.min(ae.phi1,ae.phi2),Pe=Math.max(ae.phi1,ae.phi2)-je,Le=Math.ceil(Pe/90),Ie=new Array(Le),pe=Ce,ke=Ee,Ye=0;Ye<Le;Ye++){var wt=N(ae.phi1,ae.phi2,Ye/Le),Ft=N(ae.phi1,ae.phi2,(Ye+1)/Le),Bt=Ft-wt,Vt=4/3*Math.tan(Bt*w/4),Ir=[Math.cos(wt*w)-Vt*Math.sin(wt*w),Math.sin(wt*w)+Vt*Math.cos(wt*w)],Sr=Ir[0],He=Ir[1],Zt=[Math.cos(Ft*w),Math.sin(Ft*w)],Nt=Zt[0],Vr=Zt[1],mr=[Nt+Vt*Math.sin(Ft*w),Vr-Vt*Math.cos(Ft*w)],on=mr[0],Jr=mr[1];Ie[Ye]={relative:ae.relative,type:O.CURVE_TO};var Gr=function(_r,hr){var Br=f([_r*ae.rX,hr*ae.rY],ae.xRot),Qr=Br[0],Kr=Br[1];return[ae.cX+Qr,ae.cY+Kr]};we=Gr(Sr,He),Ie[Ye].x1=we[0],Ie[Ye].y1=we[1],me=Gr(on,Jr),Ie[Ye].x2=me[0],Ie[Ye].y2=me[1],se=Gr(Nt,Vr),Ie[Ye].x=se[0],Ie[Ye].y=se[1],ae.relative&&(Ie[Ye].x1-=pe,Ie[Ye].y1-=ke,Ie[Ye].x2-=pe,Ie[Ye].y2-=ke,Ie[Ye].x-=pe,Ie[Ye].y-=ke),pe=(J=[Ie[Ye].x,Ie[Ye].y])[0],ke=J[1]}return Ie})(Y,Y.relative?0:Ne,Y.relative?0:ce):Y}))},z.ANNOTATE_ARCS=function(){return Oe((function(Y,Ne,ce){return Y.relative&&(Ne=0,ce=0),O.ARC===Y.type&&x(Y,Ne,ce),Y}))},z.CLONE=Te,z.CALCULATE_BOUNDS=function(){var Y=function(Ee){var we={};for(var me in Ee)we[me]=Ee[me];return we},Ne=R(),ce=Ae(),ae=ie(),Ce=Oe((function(Ee,we,me){var se=ae(ce(Ne(Y(Ee))));function J(Jr){Jr>Ce.maxX&&(Ce.maxX=Jr),Jr<Ce.minX&&(Ce.minX=Jr)}function je(Jr){Jr>Ce.maxY&&(Ce.maxY=Jr),Jr<Ce.minY&&(Ce.minY=Jr)}if(se.type&O.DRAWING_COMMANDS&&(J(we),je(me)),se.type&O.HORIZ_LINE_TO&&J(se.x),se.type&O.VERT_LINE_TO&&je(se.y),se.type&O.LINE_TO&&(J(se.x),je(se.y)),se.type&O.CURVE_TO){J(se.x),je(se.y);for(var Pe=0,Le=C(we,se.x1,se.x2,se.x);Pe<Le.length;Pe++)0<(on=Le[Pe])&&1>on&&J(k(we,se.x1,se.x2,se.x,on));for(var Ie=0,pe=C(me,se.y1,se.y2,se.y);Ie<pe.length;Ie++)0<(on=pe[Ie])&&1>on&&je(k(me,se.y1,se.y2,se.y,on))}if(se.type&O.ARC){J(se.x),je(se.y),x(se,we,me);for(var ke=se.xRot/180*Math.PI,Ye=Math.cos(ke)*se.rX,wt=Math.sin(ke)*se.rX,Ft=-Math.sin(ke)*se.rY,Bt=Math.cos(ke)*se.rY,Vt=se.phi1<se.phi2?[se.phi1,se.phi2]:-180>se.phi2?[se.phi2+360,se.phi1+360]:[se.phi2,se.phi1],Ir=Vt[0],Sr=Vt[1],He=function(Jr){var Gr=Jr[0],_r=Jr[1],hr=180*Math.atan2(_r,Gr)/Math.PI;return hr<Ir?hr+360:hr},Zt=0,Nt=y(Ft,-Ye,0).map(He);Zt<Nt.length;Zt++)(on=Nt[Zt])>Ir&&on<Sr&&J(S(se.cX,Ye,Ft,on));for(var Vr=0,mr=y(Bt,-wt,0).map(He);Vr<mr.length;Vr++){var on;(on=mr[Vr])>Ir&&on<Sr&&je(S(se.cY,wt,Bt,on))}}return Ee}));return Ce.minX=1/0,Ce.maxX=-1/0,Ce.minY=1/0,Ce.maxY=-1/0,Ce}})(b||(b={}));var W,q=(function(){function z(){}return z.prototype.round=function(R){return this.transform(b.ROUND(R))},z.prototype.toAbs=function(){return this.transform(b.TO_ABS())},z.prototype.toRel=function(){return this.transform(b.TO_REL())},z.prototype.normalizeHVZ=function(R,ie,Ae){return this.transform(b.NORMALIZE_HVZ(R,ie,Ae))},z.prototype.normalizeST=function(){return this.transform(b.NORMALIZE_ST())},z.prototype.qtToC=function(){return this.transform(b.QT_TO_C())},z.prototype.aToC=function(){return this.transform(b.A_TO_C())},z.prototype.sanitize=function(R){return this.transform(b.SANITIZE(R))},z.prototype.translate=function(R,ie){return this.transform(b.TRANSLATE(R,ie))},z.prototype.scale=function(R,ie){return this.transform(b.SCALE(R,ie))},z.prototype.rotate=function(R,ie,Ae){return this.transform(b.ROTATE(R,ie,Ae))},z.prototype.matrix=function(R,ie,Ae,Oe,be,Te){return this.transform(b.MATRIX(R,ie,Ae,Oe,be,Te))},z.prototype.skewX=function(R){return this.transform(b.SKEW_X(R))},z.prototype.skewY=function(R){return this.transform(b.SKEW_Y(R))},z.prototype.xSymmetry=function(R){return this.transform(b.X_AXIS_SYMMETRY(R))},z.prototype.ySymmetry=function(R){return this.transform(b.Y_AXIS_SYMMETRY(R))},z.prototype.annotateArcs=function(){return this.transform(b.ANNOTATE_ARCS())},z})(),te=function(z){return z===" "||z==="	"||z==="\r"||z===`
`},K=function(z){return 48<=z.charCodeAt(0)&&z.charCodeAt(0)<=57},X=(function(z){function R(){var ie=z.call(this)||this;return ie.curNumber="",ie.curCommandType=-1,ie.curCommandRelative=!1,ie.canParseCommandOrComma=!0,ie.curNumberHasExp=!1,ie.curNumberHasExpDigits=!1,ie.curNumberHasDecimal=!1,ie.curArgs=[],ie}return d(R,z),R.prototype.finish=function(ie){if(ie===void 0&&(ie=[]),this.parse(" ",ie),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return ie},R.prototype.parse=function(ie,Ae){var Oe=this;Ae===void 0&&(Ae=[]);for(var be=function(Ce){Ae.push(Ce),Oe.curArgs.length=0,Oe.canParseCommandOrComma=!0},Te=0;Te<ie.length;Te++){var Y=ie[Te],Ne=!(this.curCommandType!==O.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),ce=K(Y)&&(this.curNumber==="0"&&Y==="0"||Ne);if(!K(Y)||ce)if(Y!=="e"&&Y!=="E")if(Y!=="-"&&Y!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(Y!=="."||this.curNumberHasExp||this.curNumberHasDecimal||Ne){if(this.curNumber&&this.curCommandType!==-1){var ae=Number(this.curNumber);if(isNaN(ae))throw new SyntaxError("Invalid number ending at "+Te);if(this.curCommandType===O.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>ae)throw new SyntaxError('Expected positive number, got "'+ae+'" at index "'+Te+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+Te+'"')}this.curArgs.push(ae),this.curArgs.length===le[this.curCommandType]&&(O.HORIZ_LINE_TO===this.curCommandType?be({type:O.HORIZ_LINE_TO,relative:this.curCommandRelative,x:ae}):O.VERT_LINE_TO===this.curCommandType?be({type:O.VERT_LINE_TO,relative:this.curCommandRelative,y:ae}):this.curCommandType===O.MOVE_TO||this.curCommandType===O.LINE_TO||this.curCommandType===O.SMOOTH_QUAD_TO?(be({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),O.MOVE_TO===this.curCommandType&&(this.curCommandType=O.LINE_TO)):this.curCommandType===O.CURVE_TO?be({type:O.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===O.SMOOTH_CURVE_TO?be({type:O.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===O.QUAD_TO?be({type:O.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===O.ARC&&be({type:O.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!te(Y))if(Y===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(Y!=="+"&&Y!=="-"&&Y!==".")if(ce)this.curNumber=Y,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+Te+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+Y+'" at index '+Te+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,Y!=="z"&&Y!=="Z")if(Y==="h"||Y==="H")this.curCommandType=O.HORIZ_LINE_TO,this.curCommandRelative=Y==="h";else if(Y==="v"||Y==="V")this.curCommandType=O.VERT_LINE_TO,this.curCommandRelative=Y==="v";else if(Y==="m"||Y==="M")this.curCommandType=O.MOVE_TO,this.curCommandRelative=Y==="m";else if(Y==="l"||Y==="L")this.curCommandType=O.LINE_TO,this.curCommandRelative=Y==="l";else if(Y==="c"||Y==="C")this.curCommandType=O.CURVE_TO,this.curCommandRelative=Y==="c";else if(Y==="s"||Y==="S")this.curCommandType=O.SMOOTH_CURVE_TO,this.curCommandRelative=Y==="s";else if(Y==="q"||Y==="Q")this.curCommandType=O.QUAD_TO,this.curCommandRelative=Y==="q";else if(Y==="t"||Y==="T")this.curCommandType=O.SMOOTH_QUAD_TO,this.curCommandRelative=Y==="t";else{if(Y!=="a"&&Y!=="A")throw new SyntaxError('Unexpected character "'+Y+'" at index '+Te+".");this.curCommandType=O.ARC,this.curCommandRelative=Y==="a"}else Ae.push({type:O.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=Y,this.curNumberHasDecimal=Y==="."}else this.curNumber+=Y,this.curNumberHasDecimal=!0;else this.curNumber+=Y;else this.curNumber+=Y,this.curNumberHasExp=!0;else this.curNumber+=Y,this.curNumberHasExpDigits=this.curNumberHasExp}return Ae},R.prototype.transform=function(ie){return Object.create(this,{parse:{value:function(Ae,Oe){Oe===void 0&&(Oe=[]);for(var be=0,Te=Object.getPrototypeOf(this).parse.call(this,Ae);be<Te.length;be++){var Y=Te[be],Ne=ie(Y);Array.isArray(Ne)?Oe.push.apply(Oe,Ne):Oe.push(Ne)}return Oe}}})},R})(q),O=(function(z){function R(ie){var Ae=z.call(this)||this;return Ae.commands=typeof ie=="string"?R.parse(ie):ie,Ae}return d(R,z),R.prototype.encode=function(){return R.encode(this.commands)},R.prototype.getBounds=function(){var ie=b.CALCULATE_BOUNDS();return this.transform(ie),ie},R.prototype.transform=function(ie){for(var Ae=[],Oe=0,be=this.commands;Oe<be.length;Oe++){var Te=ie(be[Oe]);Array.isArray(Te)?Ae.push.apply(Ae,Te):Ae.push(Te)}return this.commands=Ae,this},R.encode=function(ie){return A(ie)},R.parse=function(ie){var Ae=new X,Oe=[];return Ae.parse(ie,Oe),Ae.finish(Oe),Oe},R.CLOSE_PATH=1,R.MOVE_TO=2,R.HORIZ_LINE_TO=4,R.VERT_LINE_TO=8,R.LINE_TO=16,R.CURVE_TO=32,R.SMOOTH_CURVE_TO=64,R.QUAD_TO=128,R.SMOOTH_QUAD_TO=256,R.ARC=512,R.LINE_COMMANDS=R.LINE_TO|R.HORIZ_LINE_TO|R.VERT_LINE_TO,R.DRAWING_COMMANDS=R.HORIZ_LINE_TO|R.VERT_LINE_TO|R.LINE_TO|R.CURVE_TO|R.SMOOTH_CURVE_TO|R.QUAD_TO|R.SMOOTH_QUAD_TO|R.ARC,R})(q),le=((W={})[O.MOVE_TO]=2,W[O.LINE_TO]=2,W[O.HORIZ_LINE_TO]=1,W[O.VERT_LINE_TO]=1,W[O.CLOSE_PATH]=0,W[O.QUAD_TO]=4,W[O.SMOOTH_QUAD_TO]=2,W[O.CURVE_TO]=6,W[O.SMOOTH_CURVE_TO]=4,W[O.ARC]=7,W)}),"./src/plugin/hyperlinks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),A=[],f={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),b=(0,d.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(y,function(w){for(var N=w.getClientRects(),S=0;S<N.length;S++){var C=(0,d.unitConvert)(N[S],this.prop.pageSize.k);C.left-=b.left,C.top-=b.top;var k=Math.floor(C.top/this.prop.pageSize.inner.height)+1,W=this.opt.margin[0]+C.top%this.prop.pageSize.inner.height,q=this.opt.margin[1]+C.left;A.push({page:k,top:W,left:q,clientRect:C,link:w})}},this)}})},h.default.prototype.toPdf=function(){return f.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js");function d(A){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},d(A)}h.jsPDF.getPageSize=function(A,f,g){if(d(A)==="object"){var m=A;A=m.orientation,f=m.unit||f,g=m.format||g}f=f||"mm",g=g||"a4",A=(""+(A||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+f}if(y.hasOwnProperty(x))var w=y[x][1]/b,N=y[x][0]/b;else try{var w=g[1],N=g[0]}catch{throw new Error("Invalid format: "+g)}if(A==="p"||A==="portrait"){if(A="p",N>w){var S=N;N=w,w=S}}else if(A==="l"||A==="landscape"){if(A="l",w>N){var S=N;N=w,w=S}}else throw"Invalid orientation: "+A;var C={width:N,height:w,unit:f,k:b};return C},u.default=h.jsPDF}),"./src/plugin/pagebreaks.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=o("./src/worker.js"),d=o("./src/utils.js"),A={toContainer:h.default.prototype.toContainer};h.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},h.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),b={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},w={},N=this;["before","after","avoid"].forEach(function(k){var W=b.avoidAll&&k==="avoid";w[k]=W?[]:[].concat(N.opt.pagebreak[k]||[]),w[k].length>0&&(w[k]=Array.prototype.slice.call(m.querySelectorAll(w[k].join(", "))))});var S=m.querySelectorAll(".html2pdf__page-break");S=Array.prototype.slice.call(S);var C=m.querySelectorAll("*");Array.prototype.forEach.call(C,function(W){var q={before:!1,after:b.legacy&&S.indexOf(W)!==-1,avoid:b.avoidAll};if(b.css){var te=window.getComputedStyle(W),K=["always","page","left","right"],X=["avoid","avoid-page"];q={before:q.before||K.indexOf(te.breakBefore||te.pageBreakBefore)!==-1,after:q.after||K.indexOf(te.breakAfter||te.pageBreakAfter)!==-1,avoid:q.avoid||X.indexOf(te.breakInside||te.pageBreakInside)!==-1}}Object.keys(q).forEach(function(Ae){q[Ae]=q[Ae]||w[Ae].indexOf(W)!==-1});var O=W.getBoundingClientRect();if(q.avoid&&!q.before){var le=Math.floor(O.top/x),z=Math.floor(O.bottom/x),R=Math.abs(O.bottom-O.top)/x;z!==le&&R<=1&&(q.before=!0)}if(q.before){var ie=(0,d.createElement)("div",{style:{display:"block",height:x-O.top%x+"px"}});W.parentNode.insertBefore(ie,W)}if(q.after){var ie=(0,d.createElement)("div",{style:{display:"block",height:x-O.bottom%x+"px"}});W.parentNode.insertBefore(ie,W.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(l,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function h(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=d(m))||x){y&&(m=y);var b=0,w=function(){};return{s:w,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function(W){throw W},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,S=!0,C=!1;return{s:function(){y=y.call(m)},n:function(){var W=y.next();return S=W.done,W},e:function(W){C=!0,N=W},f:function(){try{S||y.return==null||y.return()}finally{if(C)throw N}}}}function d(m,x){if(m){if(typeof m=="string")return A(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?A(m,x):void 0}}function A(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,b=Array(x);y<x;y++)b[y]=m[y];return b}function f(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(m.tagName==="CANVAS"){var w=m.toDataURL(),N=document.createElement("img");return N.src=w,N.width=m.width,N.height=m.height,N}var S;try{S=m.cloneNode(!1),m.tagName==="IMG"&&f(m,S)}catch(je){throw console.error("[Snapdom] Failed to clone node:",m,je),je}if(m instanceof HTMLTextAreaElement){S.textContent=m.value,S.value=m.value;var C=m.getBoundingClientRect();return S.style.boxSizing="border-box",S.style.width="".concat(C.width,"px"),S.style.height="".concat(C.height,"px"),S}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(S.value=m.value,S.setAttribute("value",m.value)),m.checked!==void 0&&(S.checked=m.checked,m.checked&&S.setAttribute("checked",""),m.indeterminate&&(S.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var k=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!k){var W=document.createDocumentFragment(),q=h(m.shadowRoot.childNodes),te;try{for(q.s();!(te=q.n()).done;){var K=te.value;if(!(K.nodeType===Node.ELEMENT_NODE&&K.tagName==="STYLE")){var X=g(K);X&&W.appendChild(X)}}}catch(je){q.e(je)}finally{q.f()}S.appendChild(W)}}if(m.tagName==="SLOT"){var O,le=((O=m.assignedNodes)===null||O===void 0?void 0:O.call(m,{flatten:!0}))||[],z=le.length>0?le:Array.from(m.childNodes),R=document.createDocumentFragment(),ie=h(z),Ae;try{for(ie.s();!(Ae=ie.n()).done;){var Oe=Ae.value,be=g(Oe);be&&R.appendChild(be)}}catch(je){ie.e(je)}finally{ie.f()}return R}var Te=h(m.childNodes),Y;try{for(Te.s();!(Y=Te.n()).done;){var Ne=Y.value;if(!x.has(Ne)){var ce=g(Ne);ce&&S.appendChild(ce)}}}catch(je){Te.e(je)}finally{Te.f()}if(y!==null&&S instanceof HTMLSelectElement){S.value=y;var ae=h(S.options),Ce;try{for(ae.s();!(Ce=ae.n()).done;){var Ee=Ce.value;Ee.value===y?Ee.setAttribute("selected",""):Ee.removeAttribute("selected")}}catch(je){ae.e(je)}finally{ae.f()}}var we=m.scrollLeft,me=m.scrollTop,se=we||me;if(se&&S instanceof HTMLElement){S.style.overflow="hidden",S.style.scrollbarWidth="none",S.style.msOverflowStyle="none";var J=document.createElement("div");for(J.style.transform="translate(".concat(-we,"px, ").concat(-me,"px)"),J.style.willChange="transform",J.style.display="inline-block",J.style.width="100%";S.firstChild;)J.appendChild(S.firstChild);S.appendChild(J)}return S}}),"./src/utils.js":(function(l,u,o){o.r(u),o.d(u,{createElement:function(){return f},objType:function(){return A},toPx:function(){return m},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=o("./node_modules/dompurify/dist/purify.es.mjs");function d(x){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},d(x)}var A=function(y){var b=d(y);return b==="undefined"?"undefined":b==="string"||y instanceof String?"string":b==="number"||y instanceof Number?"number":b==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":b==="object"?"object":"unknown"},f=function(y,b){var w=document.createElement(y);b.className&&(w.className=b.className),b.innerHTML&&(w.innerHTML=h.default.sanitize(b.innerHTML));for(var N in b.style)w.style[N]=b.style[N];return w},g=function(y,b){if(A(y)==="number")return y*72/96/b;var w={};for(var N in y)w[N]=y[N]*72/96/b;return w},m=function(y,b){return Math.floor(y*b/72*96)}}),"./src/worker.js":(function(l,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var h=o("./node_modules/jspdf/dist/jspdf.es.min.js"),d=o("html2canvas"),A=o.n(d),f=o("./src/snapdom/clone.js"),g=o("./src/utils.js"),m=function x(y){var b=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),w=x.convert(Promise.resolve(),b);return w=w.setProgress(1,x,1,[x]),w=w.set(y),w};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,b){return y.__proto__=b||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,b){function w(N){switch((0,g.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||w(y),b){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};w.opacity=0;var S=(0,f.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:w}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(S),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(C){return setTimeout(C,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var w=Object.assign({},this.opt.html2canvas);return delete w.onrendered,A()(this.prop.container,w)}).then(function(w){var N=this.opt.html2canvas.onrendered||function(){};N(w),this.prop.canvas=w,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var w=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=w})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var w=this.prop.canvas,N=this.opt,S=w.height,C=Math.floor(w.width*this.prop.pageSize.inner.ratio),k=Math.ceil(S/C),W=this.prop.pageSize.inner.height,q=document.createElement("canvas"),te=q.getContext("2d");q.width=w.width,q.height=C,this.prop.pdf=this.prop.pdf||new h.jsPDF(N.jsPDF);for(var K=0;K<k;K++){K===k-1&&S%C!==0&&(q.height=S%C,W=q.height*this.prop.pageSize.inner.width/q.width);var X=q.width,O=q.height;te.fillStyle="white",te.fillRect(0,0,X,O),te.drawImage(w,0,K*C,X,O,0,0,X,O),K&&this.prop.pdf.addPage();var le=q.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(le,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,W)}})},m.prototype.output=function(y,b,w){return w=w||"pdf",w.toLowerCase()==="img"||w.toLowerCase()==="image"?this.outputImg(y,b):this.outputPdf(y,b)},m.prototype.outputPdf=function(y,b){var w=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(w).then(function(){return this.prop.pdf.output(y,b)})},m.prototype.outputImg=function(y,b){var w=[function(){return this.prop.img||this.toImg()}];return this.thenList(w).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var b=Object.keys(y||{}).map(function(w){switch(w){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return w in m.template.prop?function(){this.prop[w]=y[w]}:function(){this.opt[w]=y[w]}}},this);return this.then(function(){return this.thenList(b)})},m.prototype.get=function(y,b){return this.then(function(){var N=y in m.template.prop?this.prop[y]:this.opt[y];return b?b(N):N})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||h.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,b,w,N){return y!=null&&(this.progress.val=y),b!=null&&(this.progress.state=b),w!=null&&(this.progress.n=w),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,b,w,N){return this.setProgress(y?this.progress.val+y:null,b||null,w?this.progress.n+w:null,N?this.progress.stack.concat(N):null)},m.prototype.then=function(y,b){var w=this;return this.thenCore(y,b,function(S,C){return w.updateProgress(null,null,1,[S]),Promise.prototype.then.call(this,function(W){return w.updateProgress(null,S),W}).then(S,C).then(function(W){return w.updateProgress(1),W})})},m.prototype.thenCore=function(y,b,w){w=w||Promise.prototype.then;var N=this;y&&(y=y.bind(N)),b&&(b=b.bind(N));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",C=S?N:m.convert(Object.assign({},N),Promise.prototype),k=w.call(C,y,b);return m.convert(k,N.__proto__)},m.prototype.thenExternal=function(y,b){return Promise.prototype.then.call(this,y,b)},m.prototype.thenList=function(y){var b=this;return y.forEach(function(N){b=b.thenCore(N)}),b},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,u.default=m}),html2canvas:(function(l){l.exports=n})},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;if(a[l]===void 0){var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var h=i[l]={exports:{}};return a[l].call(h.exports,h,h.exports,s),h.exports}(function(){s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u}})(),(function(){var l=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},u;s.t=function(o,h){if(h&1&&(o=this(o)),h&8||typeof o=="object"&&o&&(h&4&&o.__esModule||h&16&&typeof o.then=="function"))return o;var d=Object.create(null);s.r(d);var A={};u=u||[null,l({}),l([]),l(l)];for(var f=h&2&&o;(typeof f=="object"||typeof f=="function")&&!~u.indexOf(f);f=l(f))Object.getOwnPropertyNames(f).forEach(function(g){A[g]=function(){return o[g]}});return A.default=function(){return o},s.d(d,A),d}})(),(function(){s.d=function(l,u){for(var o in u)s.o(u,o)&&!s.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:u[o]})}})(),(function(){s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)}})(),(function(){s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/s.r(c);var l=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function o(h,d){var A=new o.Worker(d);return h?A.from(h).save():A};u.Worker=l.default,c.default=u})(),c=c.default,c})()})})(Kj)),Kj.exports}var One=_ne();const kne=es(One),Pne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a]=qN(),i=a.get("contractId"),[s,c]=P.useState(""),[l,u]=P.useState("All"),[o,h]=P.useState(!1),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(null),[y,b]=P.useState([]),[w,N]=P.useState([]),[S,C]=P.useState(!1),[k,W]=P.useState(null),[q,te]=P.useState(!1),[K,X]=P.useState(!1),O=()=>{X(!K)},le=P.useCallback(async()=>{try{const ae=await of.getAllContracts();N(ae.map(Ce=>({id:Ce.id,contractID:Ce.contractID,contractNum:Ce.contractNum})))}catch(ae){console.error("Failed to load contracts:",ae)}},[]),z=P.useCallback(async()=>{try{C(!0),W(null);const Ce=(await Y0.getAllAgreements(i||void 0)).map(Ee=>{const we=w.find(me=>me.id===Ee.contractId);return{id:Ee.id,agreementID:Ee.agreementID,contractID:Ee.contractId,contractNum:(we==null?void 0:we.contractNum)||"",agreementNum:Ee.agreementNum,agreementDate:Ee.agreementDate,status:Ee.status}});b(Ce)}catch(ae){console.error("Failed to load agreements:",ae),W(ae.message||"Failed to load agreements")}finally{C(!1)}},[i,w]);P.useEffect(()=>{le()},[le]),P.useEffect(()=>{w.length>0&&z()},[w.length,z]);const{filteredAgreements:R}=Sne({agreements:y,searchQuery:s,statusFilter:l}),ie=()=>{x(null),A(!0)},Ae=(ae,Ce)=>{Ce.stopPropagation(),x(ae),A(!0)},Oe=async ae=>{try{if(te(!0),W(null),m)await Y0.updateAgreement(m.id,{agreementNum:ae.agreementNum,agreementDate:ae.agreementDate,status:ae.status});else{if(!ae.contractID){alert("Please select a contract");return}await Y0.createAgreement({contractId:ae.contractID,agreementDate:ae.agreementDate,status:ae.status})}A(!1),x(null),await z()}catch(Ce){console.error("Failed to save agreement:",Ce),W(Ce.message||"Failed to save agreement"),alert(Ce.message||"Failed to save agreement")}finally{te(!1)}},be=ae=>{g(ae),h(!0)},Te=({status:ae})=>{const Ce=`agreement-status-badge agreement-status-badge--${ae.toLowerCase()}`;return t.jsx("span",{className:Ce,role:"status","aria-label":`Status: ${ae}`,children:ae})},Y=({agreement:ae})=>t.jsxs("div",{className:"agreement-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:Ce=>Ae(ae,Ce),title:"Edit Agreement","aria-label":`Edit agreement ${ae.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--view",onClick:()=>be(ae),title:"View Agreement","aria-label":`View agreement ${ae.agreementNum}`,children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),Ne=[{key:"agreementNum",label:"Agreement Number",minWidth:180,render:ae=>t.jsx("span",{className:"agreement-num-cell",children:ae.agreementNum})},{key:"agreementID",label:"Agreement ID",minWidth:120},{key:"contractNum",label:"Contract Reference",minWidth:180,render:ae=>ae.contractNum?`${ae.contractID} - ${ae.contractNum}`:ae.contractID},{key:"agreementDate",label:"Agreement Date",minWidth:140},{key:"status",label:"Status",minWidth:120,render:ae=>t.jsx(Te,{status:ae.status})},{key:"actions",label:"Actions",minWidth:120,render:ae=>t.jsx(Y,{agreement:ae})}],ce=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${K?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!K&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:O,"aria-label":K?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:K?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:ce.map(ae=>t.jsx("li",{children:t.jsxs(Zr,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:ae.icon}),!K&&t.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!K&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!K&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Management"})})}),t.jsxs("div",{className:"agreement-page",children:[t.jsx("div",{className:"agreement-header",children:t.jsx("h1",{className:"agreement-title",children:"Agreement Management"})}),k&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:k}),t.jsxs("div",{className:"agreement-actions",children:[t.jsxs("div",{className:"agreement-search-box",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"agreement-search-input",placeholder:"Search by agreement number...",value:s,onChange:ae=>c(ae.target.value),"aria-label":"Search agreements by agreement number"})]}),t.jsxs("select",{className:"status-filter-select",value:l,onChange:ae=>u(ae.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]}),t.jsxs("button",{className:"add-agreement-btn",onClick:ie,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]}),S&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading agreements..."}),t.jsx("div",{className:"agreement-table-container",children:t.jsx(s2,{data:R,columns:Ne,getId:ae=>ae.id,emptyMessage:"No agreement records found"})}),t.jsxs("div",{className:"agreement-pagination-info",children:["Showing ",R.length," of ",y.length," Items"]})]})]}),d&&t.jsx(Fne,{agreement:m,contracts:w,contractIdParam:i,saving:q,onClose:()=>{A(!1),x(null)},onSave:Oe}),o&&f&&t.jsx(Dne,{agreement:f,contractNum:f.contractNum,onClose:()=>{h(!1),g(null)}})]})},Fne=({agreement:r,contracts:e,contractIdParam:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),u=o=>{if(o.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"agreement-form",onSubmit:u,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Contract *"}),t.jsxs("select",{value:c.contractID||"",onChange:o=>l({...c,contractID:o.target.value}),required:!0,disabled:a||!!n||!!r,children:[t.jsx("option",{value:"",children:"Select Contract"}),e.map(o=>t.jsxs("option",{value:o.id,children:[o.contractID," - ",o.contractNum]},o.id))]})]}),r&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Number"}),t.jsx("input",{type:"text",value:c.agreementNum||"",onChange:o=>l({...c,agreementNum:o.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement Date *"}),t.jsx("input",{type:"date",value:c.agreementDate||"",onChange:o=>l({...c,agreementDate:o.target.value}),required:!0,disabled:a})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:c.status||"Draft",onChange:o=>l({...c,status:o.target.value}),disabled:a,children:[t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Generated",children:"Generated"}),t.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},Dne=({agreement:r,contractNum:e,onClose:n})=>{const[a,i]=P.useState(!1),[s,c]=P.useState([]),[l,u]=P.useState(!1),[o,h]=P.useState(!1),[d,A]=P.useState(null),[f,g]=P.useState(null),[m,x]=P.useState(!1),y=P.useRef(null);P.useEffect(()=>{const k=async()=>{try{u(!0);const q=(await qA.getAllClauses(r.id)).map(te=>({id:te.id,pointNum:te.pointNum,pointTitle:te.pointTitle,pointText:te.pointText,sequenceNo:te.sequenceNo,status:te.status})).sort((te,K)=>te.sequenceNo-K.sequenceNo);c(q)}catch(W){console.error("Failed to load clauses:",W),c([])}finally{u(!1)}};r.id&&k()},[r.id]),P.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const W=await of.getContractById(r.contractID),[q,te]=await Promise.all([$a.getCompanyById(W.companyId),ks.getHcfById(W.hcfId)]);A(q),g(te)}catch(W){console.error("Failed to load party data:",W)}finally{x(!1)}})()},[r.contractID]);const b=()=>{window.print()},w=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{h(!0);const k=y.current,W={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await kne().set(W).from(k).save()}catch(k){console.error("Failed to generate PDF:",k),alert("Failed to generate PDF. Please try again.")}finally{h(!1)}},N=k=>{const W=k.pointTitle.toLowerCase().includes("whereas"),q=k.pointNum.toLowerCase().startsWith("w"),te=k.pointNum.toLowerCase().startsWith("whereas");return W||q||te},S=k=>!!(k.pointNum&&k.pointNum.trim()!==""&&/^\d+$/.test(k.pointNum.trim())),C=k=>!N(k)&&!S(k);return t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:k=>k.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),t.jsx("button",{className:"modal-close-btn",onClick:n,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"agreement-preview-controls",children:[t.jsxs("label",{className:"stamp-paper-toggle",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:k=>i(k.target.checked)}),t.jsx("span",{children:"Print on Stamp Paper"})]}),t.jsxs("div",{className:"preview-actions",children:[t.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:b,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),t.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),t.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),t.jsxs("button",{type:"button",className:"btn btn--primary",onClick:w,disabled:o,children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),o?"Generating...":"Download PDF"]})]})]}),t.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:l?t.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):t.jsxs(t.Fragment,{children:[a&&t.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[t.jsx("div",{className:"stamp-paper-blank-space"}),t.jsxs("div",{className:"agreement-party-intro",children:[t.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),t.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("div",{className:"party-details",children:[t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"BETWEEN"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),t.jsx("p",{className:"party-description",children:d?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:d.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),t.jsxs("div",{className:"party-section",children:[t.jsx("p",{className:"party-intro-text",children:t.jsx("strong",{children:"AND"})}),t.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),t.jsx("p",{className:"party-description",children:f?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:f.hcfName}),", a healthcare facility located at ",f.serviceAddress||"[Address]",", represented by",f.agrSignAuthName?` ${f.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):t.jsxs(t.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),t.jsxs("div",{className:"agreement-page",children:[t.jsxs("div",{className:"agreement-header-section",children:[t.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),t.jsxs("div",{className:"agreement-meta",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),e&&t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Reference:"})," ",e]})]})]}),s.length>0&&N(s[0])&&t.jsx("div",{className:"agreement-section agreement-intro-section",children:t.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'"):']})}),(s.length===0||!N(s[0]))&&t.jsxs("div",{className:"agreement-section agreement-intro-section",children:[t.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',t.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",d?t.jsx("strong",{children:d.companyName}):"[Company Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Service Provider"}),'") and ',f?t.jsx("strong",{children:f.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',t.jsx("strong",{children:"Client"}),'").']}),s.length>0&&t.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),s.length>0&&(()=>{let k=0;return t.jsx("div",{className:"agreement-section agreement-clauses-section",children:s.map((W,q)=>{const te=N(W),K=S(W),X=C(W);te&&k++;const O=q>0?s[q-1]:null,le=O&&N(O)&&!te;return t.jsxs("div",{children:[le&&t.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:t.jsxs("p",{className:"now-therefore-text",children:[t.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),te?t.jsx("div",{className:"whereas-item",children:t.jsxs("p",{className:"whereas-text",children:[t.jsxs("strong",{children:["WHEREAS ",k===1?"":String.fromCharCode(64+k)+") "]}),W.pointText]})}):K?t.jsx("div",{className:"clause-item clause-item--numbered",children:t.jsxs("p",{className:"clause-text",children:[t.jsxs("strong",{children:[W.pointNum,"."]})," ",W.pointText]})}):X?t.jsx("div",{className:"clause-item clause-item--normal",children:t.jsx("p",{className:"clause-text",children:W.pointText})}):t.jsx("div",{className:"clause-item",children:t.jsx("p",{className:"clause-text",children:W.pointText})})]},W.id)})})})(),t.jsxs("div",{className:"agreement-section agreement-signature-section",children:[t.jsxs("div",{className:"signature-block",children:[t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",d?d.companyName:"[Company Name]"]})]})]}),t.jsxs("div",{className:"signature-party",children:[t.jsx("p",{className:"signature-party-title",children:t.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),t.jsxs("div",{className:"signature-space",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"signature-name",children:"Signature"}),t.jsx("p",{className:"signature-name",children:f&&f.agrSignAuthName||"[Name of Authorized Signatory]"}),t.jsx("p",{className:"signature-designation",children:f&&f.agrSignAuthDesignation||"[Designation]"}),t.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",f?f.hcfName:"[HCF Name]"]})]})]})]}),t.jsxs("div",{className:"signature-date-place",children:[t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Date:"})," _______________________"]}),t.jsxs("p",{className:"date-place-text",children:[t.jsx("strong",{children:"Place:"})," _______________________"]})]}),t.jsxs("div",{className:"witness-section",children:[t.jsx("p",{className:"witness-title",children:t.jsx("strong",{children:"WITNESSES:"})}),t.jsxs("div",{className:"witness-block",children:[t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]}),t.jsxs("div",{className:"witness-item",children:[t.jsx("div",{className:"signature-line"}),t.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),t.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},Mne=({clauses:r,agreementFilter:e,statusFilter:n})=>({filteredClauses:P.useMemo(()=>r.filter(i=>{const s=e==="All"||i.agreementID===e,c=n==="All"||i.status===n;return s&&c}).sort((i,s)=>i.agreementID!==s.agreementID?i.agreementID.localeCompare(s.agreementID):i.sequenceNo-s.sequenceNo),[r,e,n])}),Rne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState("All"),[s,c]=P.useState("All"),[l,u]=P.useState(!1),[o,h]=P.useState(null),[d,A]=P.useState(!1),[f,g]=P.useState(null),[m,x]=P.useState(!1),[y,b]=P.useState(!1),w=()=>{b(!y)},[N,S]=P.useState([]),[C,k]=P.useState([]),W=P.useCallback(async()=>{try{A(!0),g(null);const Y=await Y0.getAllAgreements();S(Y.map(Ne=>({id:Ne.id,agreementID:Ne.agreementID,agreementNum:Ne.agreementNum,status:Ne.status})))}catch(Y){console.error("Failed to load agreements:",Y),g(Y.message||"Failed to load agreements")}finally{A(!1)}},[]),q=P.useCallback(async Y=>{var Ne;try{A(!0),g(null);const ce=a!=="All"?(Ne=Y.find(we=>we.agreementID===a))==null?void 0:Ne.id:void 0,ae=s!=="All"?s:void 0,Ee=(await qA.getAllClauses(ce,ae)).map(we=>{const me=Y.find(se=>se.id===we.agreementId);return{id:we.id,agreementClauseID:we.agreementClauseID,agreementID:(me==null?void 0:me.agreementID)||we.agreementId,pointNum:we.pointNum,pointTitle:we.pointTitle,pointText:we.pointText,sequenceNo:we.sequenceNo,status:we.status}});Ee.sort((we,me)=>we.agreementID!==me.agreementID?we.agreementID.localeCompare(me.agreementID):we.sequenceNo-me.sequenceNo),k(Ee)}catch(ce){console.error("Failed to load clauses:",ce),g(ce.message||"Failed to load clauses")}finally{A(!1)}},[a,s]);P.useEffect(()=>{W()},[W]),P.useEffect(()=>{N.length>0&&q(N)},[N.length,a,s,q]);const{filteredClauses:te}=Mne({clauses:C,agreementFilter:a,statusFilter:s}),K=Y=>{const Ne=N.find(ce=>ce.agreementID===Y);return Ne||console.warn(`Agreement not found for agreementID: ${Y}. Available agreements:`,N.map(ce=>ce.agreementID)),(Ne==null?void 0:Ne.status)||null},X=Y=>K(Y.agreementID)==="Draft",O=Y=>{if(!X(Y)){alert("Clauses can only be edited when the agreement status is Draft.");return}h(Y),u(!0)},le=async Y=>{if(!X(Y)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ce=[...C.filter(Ce=>Ce.agreementID===Y.agreementID)].sort((Ce,Ee)=>Ce.sequenceNo-Ee.sequenceNo),ae=ce.findIndex(Ce=>Ce.id===Y.id);if(ae>0){const Ce=ce[ae-1];try{A(!0),g(null),await qA.reorderClause(Y.id,Ce.sequenceNo),await qA.reorderClause(Ce.id,Y.sequenceNo),await q(N)}catch(Ee){console.error("Failed to reorder clause:",Ee),g(Ee.message||"Failed to reorder clause"),alert(Ee.message||"Failed to reorder clause")}finally{A(!1)}}},z=async Y=>{if(!X(Y)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const ce=[...C.filter(Ce=>Ce.agreementID===Y.agreementID)].sort((Ce,Ee)=>Ce.sequenceNo-Ee.sequenceNo),ae=ce.findIndex(Ce=>Ce.id===Y.id);if(ae<ce.length-1){const Ce=ce[ae+1];try{A(!0),g(null),await qA.reorderClause(Y.id,Ce.sequenceNo),await qA.reorderClause(Ce.id,Y.sequenceNo),await q(N)}catch(Ee){console.error("Failed to reorder clause:",Ee),g(Ee.message||"Failed to reorder clause"),alert(Ee.message||"Failed to reorder clause")}finally{A(!1)}}},R=async Y=>{try{if(x(!0),g(null),Y.pointNum&&Y.agreementID&&C.find(ce=>ce.agreementID===Y.agreementID&&ce.pointNum===Y.pointNum&&ce.id!==(o==null?void 0:o.id)))throw new Error(`Point number ${Y.pointNum} already exists for this agreement.`);if(o)await qA.updateClause(o.id,{pointNum:Y.pointNum,pointTitle:Y.pointTitle,pointText:Y.pointText,sequenceNo:Y.sequenceNo});else{const Ne=C.filter(ae=>ae.agreementID===Y.agreementID).reduce((ae,Ce)=>Math.max(ae,Ce.sequenceNo),0),ce=N.find(ae=>ae.agreementID===Y.agreementID);if(!ce)throw new Error("Agreement not found");await qA.createClause({agreementId:ce.id,pointNum:Y.pointNum,pointTitle:Y.pointTitle,pointText:Y.pointText,sequenceNo:Ne+1})}u(!1),h(null),await q(N)}catch(Ne){console.error("Failed to save clause:",Ne),g(Ne.message||"Failed to save clause"),alert(Ne.message||"Failed to save clause")}finally{x(!1)}},ie=({text:Y,maxLength:Ne=50})=>{const ce=Y.length>Ne?`${Y.substring(0,Ne)}...`:Y,ae=Y.length>Ne;return t.jsx("span",{className:"point-text-cell",title:ae?Y:void 0,style:{cursor:ae?"help":"default"},children:ce})},Ae=({status:Y})=>{const Ne=`clause-status-badge clause-status-badge--${Y.toLowerCase()}`;return t.jsx("span",{className:Ne,role:"status","aria-label":`Status: ${Y}`,children:Y})},Oe=({clause:Y})=>{const Ne=K(Y.agreementID),ce=Ne==="Draft",Ce=[...C.filter(Pe=>Pe.agreementID===Y.agreementID)].sort((Pe,Le)=>Pe.sequenceNo-Le.sequenceNo),Ee=Ce.findIndex(Pe=>Pe.id===Y.id),we=ce&&Ee>0,me=ce&&Ee<Ce.length-1,se=ce?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${Ne||"Unknown"}`,J=we?"Move Up":ce?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${Ne||"Unknown"}`,je=me?"Move Down":ce?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${Ne||"Unknown"}`;return t.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[t.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>O(Y),title:se,"aria-label":`Edit clause ${Y.pointTitle}`,disabled:!ce,type:"button",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsx("button",{className:"action-btn action-btn--up",onClick:()=>le(Y),disabled:!we,title:J,"aria-label":`Move clause ${Y.pointTitle} up`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"18 15 12 9 6 15"})})}),t.jsx("button",{className:"action-btn action-btn--down",onClick:()=>z(Y),disabled:!me,title:je,"aria-label":`Move clause ${Y.pointTitle} down`,type:"button",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},be=[{key:"agreementID",label:"Agreement ID",minWidth:150,render:Y=>{const Ne=N.find(ce=>ce.agreementID===Y.agreementID);return Ne?`${Y.agreementID} - ${Ne.agreementNum}`:Y.agreementID}},{key:"sequenceNo",label:"Sequence",minWidth:100,render:Y=>t.jsx("span",{className:"sequence-cell",children:Y.sequenceNo})},{key:"pointNum",label:"Point Number",minWidth:120},{key:"pointTitle",label:"Point Title",minWidth:150},{key:"pointText",label:"Point Text",minWidth:300,allowWrap:!0,render:Y=>t.jsx(ie,{text:Y.pointText,maxLength:80})},{key:"status",label:"Status",minWidth:100,render:Y=>t.jsx(Ae,{status:Y.status})},{key:"actions",label:"Actions",minWidth:150,render:Y=>t.jsx(Oe,{clause:Y})}],Te=qs(e,n.pathname);return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${y?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!y&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:w,"aria-label":y?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Te.map(Y=>t.jsx("li",{children:t.jsxs(Zr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Y.icon}),!y&&t.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!y&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!y&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Commercial Agreements / Agreement Clause Management"})})}),t.jsxs("div",{className:"agreement-clause-page",children:[t.jsx("div",{className:"agreement-clause-header",children:t.jsx("h1",{className:"agreement-clause-title",children:"Agreement Clause Management"})}),f&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:f}),t.jsxs("div",{className:"agreement-clause-filters",children:[t.jsxs("select",{className:"filter-select",value:a,onChange:Y=>i(Y.target.value),"aria-label":"Filter by agreement",children:[t.jsx("option",{value:"All",children:"All Agreements"}),N.map(Y=>t.jsxs("option",{value:Y.agreementID,children:[Y.agreementID," - ",Y.agreementNum]},Y.id))]}),t.jsxs("select",{className:"filter-select",value:s,onChange:Y=>c(Y.target.value),"aria-label":"Filter by status",children:[t.jsx("option",{value:"All",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]}),t.jsxs("button",{className:"add-clause-btn",onClick:()=>u(!0),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]}),d&&t.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading clauses..."}),!d&&t.jsx("div",{className:"clause-table-container",children:t.jsx(s2,{data:te,columns:be,getId:Y=>Y.id,emptyMessage:"No clause records found"})}),t.jsx("div",{className:"clause-pagination-info",children:d?"Loading...":`Showing ${te.length} of ${C.length} Items`})]})]}),l&&t.jsx(Lne,{clause:o,agreements:N,clauses:C,saving:m,onClose:()=>{u(!1),h(null)},onSave:R})]})},Lne=({clause:r,agreements:e,clauses:n,saving:a,onClose:i,onSave:s})=>{const[c,l]=P.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[u,o]=P.useState(null),h=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(o(`Point number ${g} already exists for this agreement.`),!1):(o(null),!0),d=g=>{l({...c,pointNum:g}),c.agreementID&&h(g,c.agreementID)},A=g=>{l({...c,agreementID:g,pointNum:""}),o(null)},f=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}h(c.pointNum,c.agreementID)&&s(c)};return t.jsx("div",{className:"modal-overlay",onClick:i,children:t.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),t.jsx("button",{className:"modal-close-btn",onClick:i,children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("form",{className:"clause-form",onSubmit:f,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"form-section-title",children:"Clause Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Agreement ID *"}),t.jsxs("select",{value:c.agreementID||"",onChange:g=>A(g.target.value),required:!0,disabled:!!r||a,children:[t.jsx("option",{value:"",children:"Select Agreement"}),e.map(g=>t.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Point Number *"}),t.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>d(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),u&&t.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:u}),t.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Title"}),t.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>l({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{children:"Point Text *"}),t.jsx("textarea",{value:c.pointText||"",onChange:g=>l({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:i,disabled:a,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!u,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},Une=()=>{const{createUser:r,loading:e,user:n}=pa(),[a,i]=P.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[s,c]=P.useState(null),[l,u]=P.useState(null),o=async d=>{d.preventDefault(),c(null),u(null);try{const A=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${A.name} created successfully!`),i({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(A){u(A.message||"Unable to create user")}},h=(d,A)=>{i(f=>({...f,[d]:A}))};return t.jsx("div",{className:"user-management-page",children:t.jsxs("div",{className:"user-management-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Management"}),t.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),t.jsxs("form",{className:"user-form",onSubmit:o,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),t.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:d=>h("userName",d.target.value),required:!0,maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),t.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:d=>h("mobileNumber",d.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),t.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:d=>h("empCode",d.target.value),required:!0,maxLength:10})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),t.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:d=>h("userRoleID",d.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Role"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"manager",children:"Manager"}),t.jsx("option",{value:"staff",children:"Staff"}),t.jsx("option",{value:"viewer",children:"Viewer"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),t.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:d=>h("employmentType",d.target.value),children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"Full-time",children:"Full-time"}),t.jsx("option",{value:"Part-time",children:"Part-time"}),t.jsx("option",{value:"Contract",children:"Contract"}),t.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Access Control"}),t.jsxs("div",{className:"form-grid",children:[t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:d=>h("webLogin",d.target.checked)}),t.jsx("span",{children:"Web Login Access"})]})}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:d=>h("mobileApp",d.target.checked)}),t.jsx("span",{children:"Mobile App Access"})]})})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Identity Documents"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),t.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:d=>h("dlNum",d.target.value),maxLength:20})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),t.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:d=>h("aadhaar",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),t.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:d=>h("pan",d.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Employment Details"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),t.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:d=>h("uan",d.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),t.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:d=>h("pfNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),t.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:d=>h("esiNum",d.target.value),maxLength:22})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),t.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:d=>h("grossSalary",d.target.value),required:!0,min:"0",step:"0.01"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),t.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:d=>h("contractorName",d.target.value),maxLength:50})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),t.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:d=>h("companyName",d.target.value),maxLength:50})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Address Information"}),t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),t.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:d=>h("address",d.target.value),rows:3})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),t.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:d=>h("area",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),t.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:d=>h("city",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),t.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:d=>h("district",d.target.value)})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),t.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:d=>h("pincode",d.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),t.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:d=>h("emergencyContact",d.target.value),maxLength:25})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h2",{className:"section-title",children:"Status"}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:a.status,onChange:d=>h("status",d.target.checked)}),t.jsx("span",{children:"Active Status"})]})})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"submit",className:"btn-primary",disabled:e,children:e?"Creating User...":"Create User"}),t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},jc=({children:r,navItems:e=[]})=>{const{user:n,logout:a,permissions:i}=pa(),s=_n();Ja();const[c,l]=P.useState(!1),[u,o]=P.useState(!1),[h,d]=P.useState(!1);P.useEffect(()=>{const b=()=>{d(window.innerWidth<=768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const A=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:s.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:s.pathname==="/transaction"||s.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:s.pathname==="/finance"||s.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:s.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:s.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:s.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:s.pathname.startsWith("/report")}],f=e.length>0?e:A,g=Rm(Array.isArray(i)?i:[],s.pathname),m=[...f,...g.filter(b=>!f.some(w=>w.path===b.path))],x=()=>{l(!c)},y=()=>{o(!u)};return t.jsxs("div",{className:"app-layout",children:[h&&t.jsx("button",{className:"mobile-menu-toggle",onClick:y,"aria-label":"Toggle menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),h&&u&&t.jsx("div",{className:"mobile-overlay",onClick:y}),t.jsxs("aside",{className:`app-layout__sidebar ${c?"collapsed":""} ${h&&u?"open":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),!h&&t.jsx("button",{className:"sidebar-toggle",onClick:x,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:m.map(b=>t.jsx("li",{children:t.jsxs(Zr,{to:b.path,className:`nav-link ${b.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:b.icon}),!c&&t.jsx("span",{className:"nav-label",children:b.label})]})},b.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs(Zr,{to:"/profile",className:"sidebar-profile-link",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!c&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsx("main",{className:"app-layout__content",children:r})]})},Hne=({id:r,title:e,description:n,icon:a,path:i,parameters:s,indicators:c=[]})=>{const l=()=>{if(s.length===0)return"No parameters";const u=3,o=s.slice(0,u),h=s.length-u;let d=o.join("  ");return h>0&&(d+=` +${h} more`),d};return t.jsxs(Zr,{to:i,className:"report-card-modern","aria-label":`View ${e} report`,children:[t.jsxs("div",{className:"report-card-modern-header",children:[t.jsx("div",{className:"report-card-modern-icon",children:a}),t.jsxs("div",{className:"report-card-modern-title-section",children:[t.jsx("h3",{className:"report-card-modern-title",children:e}),c.length>0&&t.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&t.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&t.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&t.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&t.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),t.jsxs("div",{className:"report-card-modern-body",children:[t.jsx("p",{className:"report-card-modern-description",children:n}),t.jsxs("div",{className:"report-card-modern-parameters",children:[t.jsx("span",{className:"parameters-label",children:"Params:"}),t.jsx("span",{className:"parameters-value",children:l()})]})]})]})},Qne=()=>{var Ae;const r=_n(),[e,n]=P.useState(""),[a,i]=P.useState("All"),[s,c]=P.useState(!1),[l,u]=P.useState(!1),[o,h]=P.useState({reportType:"",ownership:"",favorites:!1}),[d,A]=P.useState(new Set),f=P.useRef(null),g=P.useRef(null),m=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),x=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),y=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),b=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 20h9"}),t.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),w=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"23 4 23 10 17 10"}),t.jsx("polyline",{points:"1 20 1 14 7 14"}),t.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.13-3.36L23 10"}),t.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.13 3.36L1 14"})]}),N=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),t.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),t.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),t.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),S=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polygon",{points:"1 6 8 3 16 6 23 3 23 18 16 21 8 18 1 21 1 6"}),t.jsx("line",{x1:"8",y1:"3",x2:"8",y2:"18"}),t.jsx("line",{x1:"16",y1:"6",x2:"16",y2:"21"})]}),C=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),t.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"})]}),k=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 22V6a2 2 0 0 1 2-2h6v18"}),t.jsx("path",{d:"M13 22V10a2 2 0 0 1 2-2h6v14"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"8"}),t.jsx("line",{x1:"7",y1:"12",x2:"7",y2:"12"}),t.jsx("line",{x1:"17",y1:"12",x2:"17",y2:"12"}),t.jsx("line",{x1:"17",y1:"16",x2:"17",y2:"16"})]}),W=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),q=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),te=t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),K=[{id:"All",label:"All Reports",icon:m},{id:"BillingFinance",label:"Billing & Finance",icon:x,children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:y},{id:"BillingFinance-Payments",label:"Payments",icon:x},{id:"BillingFinance-Revenue",label:"Revenue",icon:m},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:m}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:b,children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:y},{id:"ContractAgreement-Agreements",label:"Agreements",icon:y},{id:"ContractAgreement-Renewals",label:"Renewals",icon:w}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:N,children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:N},{id:"OperationsLogistics-Routes",label:"Routes",icon:S},{id:"OperationsLogistics-Collection",label:"Collection",icon:C},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:m}]},{id:"MasterData",label:"Master Data",icon:q,children:[{id:"MasterData-Company",label:"Company",icon:k},{id:"MasterData-HCF",label:"HCF",icon:q},{id:"MasterData-User",label:"User",icon:W},{id:"MasterData-Fleet",label:"Fleet",icon:N}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:te,children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:te},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:te}]}],O=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),t.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),t.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(Oe=>{const be=Oe.title.toLowerCase().includes(e.toLowerCase())||Oe.description.toLowerCase().includes(e.toLowerCase())||Oe.parameters.some(Ne=>Ne.toLowerCase().includes(e.toLowerCase())),Te=a==="All"||Oe.category===a||a.startsWith(Oe.category+"-"),Y=(!o.reportType||Oe.reportType===o.reportType)&&(!o.ownership||Oe.ownership===o.ownership)&&(!o.favorites||d.has(Oe.id)||Oe.isFavorite);return be&&Te&&Y});P.useEffect(()=>{const Oe=be=>{f.current&&!f.current.contains(be.target)&&c(!1),g.current&&!g.current.contains(be.target)&&(be.target.closest(".filters-toggle-btn")||u(!1))};return document.addEventListener("mousedown",Oe),()=>document.removeEventListener("mousedown",Oe)},[]);const le=()=>{if(a==="All")return"All Reports";const Oe=(Te,Y)=>{for(const Ne of Te){if(Ne.id===Y)return Ne;if(Ne.children){const ce=Oe(Ne.children,Y);if(ce)return ce}}return null},be=Oe(K,a);return(be==null?void 0:be.label)||"All Reports"},z=Oe=>{i(Oe),c(!1)},R=()=>{let Oe=0;return o.reportType&&Oe++,o.ownership&&Oe++,o.favorites&&Oe++,Oe},ie=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:ie,children:t.jsxs("div",{className:"reports-page",children:[t.jsx("div",{className:"reports-header",children:t.jsx("div",{className:"reports-header-content",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports"})})})}),l&&t.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[t.jsxs("div",{className:"filters-drawer-header-compact",children:[t.jsx("h3",{children:"Filters"}),t.jsx("button",{className:"filters-drawer-close",onClick:()=>u(!1),"aria-label":"Close filters",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"filters-drawer-content-compact",children:[t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Report Type"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.reportType?"":"active"}`,onClick:()=>h({...o,reportType:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Transactional"?"active":""}`,onClick:()=>h({...o,reportType:"Transactional"}),children:"Transactional"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Master"?"active":""}`,onClick:()=>h({...o,reportType:"Master"}),children:"Master"}),t.jsx("button",{className:`segmented-btn ${o.reportType==="Analytics"?"active":""}`,onClick:()=>h({...o,reportType:"Analytics"}),children:"Analytics"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Ownership"}),t.jsxs("div",{className:"filter-segmented-buttons",children:[t.jsx("button",{className:`segmented-btn ${o.ownership?"":"active"}`,onClick:()=>h({...o,ownership:""}),children:"All"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="My Reports"?"active":""}`,onClick:()=>h({...o,ownership:"My Reports"}),children:"My Reports"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="Shared"?"active":""}`,onClick:()=>h({...o,ownership:"Shared"}),children:"Shared"}),t.jsx("button",{className:`segmented-btn ${o.ownership==="System"?"active":""}`,onClick:()=>h({...o,ownership:"System"}),children:"System"})]})]}),t.jsxs("div",{className:"filter-section-compact",children:[t.jsx("label",{className:"filter-section-label",children:"Favorites"}),t.jsxs("div",{className:"filter-toggle-wrapper",children:[t.jsx("button",{className:`filter-toggle-btn ${o.favorites?"active":""}`,onClick:()=>h({...o,favorites:!o.favorites}),"aria-pressed":o.favorites,children:t.jsx("span",{className:"filter-toggle-slider"})}),t.jsx("span",{className:"filter-toggle-label",children:o.favorites?"Show favorites only":"Show all reports"})]})]}),R()>0&&t.jsx("div",{className:"filters-drawer-actions-compact",children:t.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>h({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),t.jsxs("div",{className:"reports-content-wrapper",children:[t.jsx("div",{className:"reports-title-section",children:t.jsx("h1",{className:"reports-title",children:"Reports"})}),t.jsxs("div",{className:"reports-search-section",children:[t.jsxs("div",{className:"reports-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:e,onChange:Oe=>n(Oe.target.value),"aria-label":"Search reports"})]}),t.jsxs("div",{className:"category-popover-wrapper",ref:f,children:[t.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!s),"aria-expanded":s,children:[t.jsx("span",{className:"category-icon",children:((Ae=K.find(Oe=>Oe.id===a))==null?void 0:Ae.icon)||m}),t.jsx("span",{className:"category-label",children:le()}),t.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),s&&t.jsx("div",{className:"category-popover",children:K.map(Oe=>t.jsxs("div",{className:"category-group",children:[t.jsxs("button",{className:`category-item ${a===Oe.id?"active":""}`,onClick:()=>!Oe.children&&z(Oe.id),children:[t.jsx("span",{className:"category-item-icon",children:Oe.icon}),t.jsx("span",{className:"category-item-label",children:Oe.label}),Oe.children&&t.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),Oe.children&&t.jsx("div",{className:"category-children",children:Oe.children.map(be=>t.jsxs("button",{className:`category-item category-child ${a===be.id?"active":""}`,onClick:()=>z(be.id),children:[t.jsx("span",{className:"category-item-icon",children:be.icon}),t.jsx("span",{className:"category-item-label",children:be.label})]},be.id))})]},Oe.id))})]}),t.jsxs("button",{className:"filters-toggle-btn",onClick:()=>u(!l),"aria-expanded":l,children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),t.jsx("span",{children:"Filters"}),R()>0&&t.jsx("span",{className:"filter-count-badge",children:R()})]}),t.jsxs("span",{className:"results-count-inline",children:[O.length," report",O.length!==1?"s":""]})]}),t.jsx("div",{className:"reports-grid-container",children:t.jsxs("div",{className:"reports-grid",children:[O.map(Oe=>t.jsx(Hne,{id:Oe.id,title:Oe.title,description:Oe.description,icon:Oe.icon,path:Oe.path,parameters:Oe.parameters,indicators:Oe.indicators},Oe.id)),O.length===0&&t.jsxs("div",{className:"reports-empty-state",children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("h3",{children:"No reports found"}),t.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},Wne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},u=qs(e,n.pathname),h=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Billing & Finance Reports"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),t.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},$ne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},u=qs(e,n.pathname),h=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / Operations & Logistics"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),t.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},Vne=()=>{const{logout:r,permissions:e}=pa(),n=_n(),[a,i]=P.useState(""),[s,c]=P.useState(!1),l=()=>{c(!s)},u=qs(e,n.pathname),h=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:u.map(d=>t.jsx("li",{children:t.jsxs(Zr,{to:d.path,className:`nav-link ${d.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:d.icon}),!s&&t.jsx("span",{className:"nav-label",children:d.label})]})},d.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Dashboard / Reports / HCF & Compliance"})})}),t.jsxs("div",{className:"master-page",children:[t.jsx("div",{className:"master-header",children:t.jsxs("div",{className:"master-title-section",children:[t.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),t.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),t.jsx("div",{className:"master-search-section",children:t.jsxs("div",{className:"master-search-box",children:[t.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:d=>i(d.target.value)})]})}),t.jsx("div",{className:"master-grid",children:h.map(d=>t.jsxs(Zr,{to:d.path,className:"master-card",children:[t.jsx("div",{className:"master-card-icon",children:d.icon}),t.jsx("h3",{className:"master-card-title",children:d.title}),t.jsx("p",{className:"master-card-description",children:d.description})]},d.id))})]})]})]})},zne=()=>{const[r,e]=P.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=P.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),i=P.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=P.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=P.useCallback(()=>{e(A=>({...A,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),l=P.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};e(A),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),u=P.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=P.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),h=P.useCallback(()=>{var A;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),d=P.useCallback(()=>{var f;const A={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(A.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(A.invoiceToDate=r.invoiceToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.status&&r.status!=="All"&&(A.status=r.status),r.billingType&&r.billingType!=="All"&&(A.billingType=r.billingType),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},Gj=()=>{const r=_n(),e=Ja(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=zne(),[d,A]=P.useState(!1),f=n.searchText||"",[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState([]),[C,k]=P.useState(!1),[W,q]=P.useState(!1),[te,K]=P.useState(null),X=n.page||1,O=n.pageSize||25,le=P.useRef(null),z=P.useRef(null),[R,ie]=P.useState(null),[Ae,Oe]=P.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});P.useEffect(()=>{(async()=>{try{const[ke,Ye]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);m(ke),y(Ye)}catch(ke){console.error("Error loading master data:",ke)}})()},[]);const be=n.companyId?x.filter(pe=>pe.companyId===n.companyId):x,Te=()=>{if(!o())return"No filters applied. Select a date range or search to view invoices.";const pe=[];if(n.invoiceFromDate&&n.invoiceToDate){const ke=new Date(n.invoiceFromDate),Ye=new Date(n.invoiceToDate),wt=new Date,Ft=wt.getMonth(),Bt=wt.getFullYear();if(ke.getMonth()===Ft&&ke.getFullYear()===Bt&&Ye.getMonth()===Ft&&Ye.getFullYear()===Bt)pe.push("Current Month");else{const Vt=ke.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ir=Ye.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});pe.push(`${Vt} - ${Ir}`)}}else if(n.invoiceFromDate||n.invoiceToDate){if(n.invoiceFromDate){const ke=new Date(n.invoiceFromDate);pe.push(`From ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.invoiceToDate){const ke=new Date(n.invoiceToDate);pe.push(`To ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ke=g.find(Ye=>Ye.id===n.companyId);pe.push(ke?ke.companyName:"Selected Company")}else pe.push("All Companies");if(n.hcfId){const ke=be.find(Ye=>Ye.id===n.hcfId);pe.push(ke?ke.hcfName:"Selected HCF")}else pe.push("All HCFs");return n.status&&n.status!=="All"?pe.push(n.status):pe.push("All Status"),`Showing invoices for: ${pe.join("  ")}`},Y=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],Ne=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],ce=pe=>{S(pe),ae(pe)};P.useEffect(()=>{var pe;!W&&!C&&!((pe=n.searchText)!=null&&pe.trim())&&!o()&&Ee()},[]),P.useEffect(()=>{var ke;if(C||!W&&!((ke=n.searchText)!=null&&ke.trim())&&!o())return;const pe=setTimeout(()=>{C||Ee()},500);return()=>clearTimeout(pe)},[n.searchText,n.invoiceFromDate,n.invoiceToDate,n.companyId,n.hcfId,n.status,n.billingType,n.page,n.pageSize]);const ae=pe=>{const ke=pe.length,Ye=pe.reduce((Bt,Vt)=>Bt+(Vt.invoiceValue||0),0),wt=pe.reduce((Bt,Vt)=>Bt+(Vt.totalPaidAmount||0),0),Ft=pe.reduce((Bt,Vt)=>Bt+(Vt.balanceAmount||0),0);Oe({totalInvoices:ke,totalAmount:Ye,paidAmount:wt,balanceAmount:Ft})},Ce=async()=>{var ke,Ye;s(),A(!1);const pe={page:1,pageSize:n.pageSize||25,sortBy:n.sortBy||"invoiceDate",sortOrder:n.sortOrder||"DESC"};a.invoiceFromDate&&(pe.invoiceFromDate=a.invoiceFromDate),a.invoiceToDate&&(pe.invoiceToDate=a.invoiceToDate),a.companyId&&(pe.companyId=a.companyId),a.hcfId&&(pe.hcfId=a.hcfId),a.status&&a.status!=="All"&&(pe.status=a.status),a.billingType&&a.billingType!=="All"&&(pe.billingType=a.billingType),(ke=n.searchText)!=null&&ke.trim()&&(pe.searchText=n.searchText.trim()),k(!0),K(null);try{const wt=await X0(pe);if(!wt||!wt.data||!Array.isArray(wt.data))throw console.error("Invalid response structure:",wt),new Error("Invalid response format from server");if(!wt.meta)throw console.error("Missing meta in response:",wt),new Error("Missing pagination metadata in response");let Ft=(wt.data||[]).map(Sr=>({id:Sr.invoiceId,invoiceNumber:Sr.invoiceNumber,invoiceDate:Sr.invoiceDate,dueDate:Sr.dueDate,companyId:Sr.companyId,companyName:Sr.companyName,hcfId:Sr.hcfId,hcfName:Sr.hcfName,hcfCode:Sr.hcfCode,billingType:Sr.billingType,invoiceValue:Sr.invoiceValue,totalPaidAmount:Sr.totalPaidAmount,balanceAmount:Sr.balanceAmount,status:Sr.status}));w(Ft),ce(Ft),q(!0);const Bt=Ft.reduce((Sr,He)=>Sr+(He.invoiceValue||0),0),Vt=Ft.reduce((Sr,He)=>Sr+(He.totalPaidAmount||0),0),Ir=Ft.reduce((Sr,He)=>Sr+(He.balanceAmount||0),0);Oe({totalInvoices:((Ye=wt.meta)==null?void 0:Ye.totalRecords)||0,totalAmount:Bt,paidAmount:Vt,balanceAmount:Ir})}catch(wt){console.error("Error applying filters:",wt),K(wt.message||"Failed to apply filters")}finally{k(!1)}},Ee=async()=>{var pe,ke,Ye,wt,Ft;k(!0),K(null);try{const Bt=h(),Vt=await X0(Bt);if(Bt.searchText&&Vt.data.length===0&&((pe=Vt==null?void 0:Vt.meta)==null?void 0:pe.state)==="HAS_RESULTS"&&((ke=Vt==null?void 0:Vt.meta)==null?void 0:ke.totalRecords)===0)try{const mr={...Bt};delete mr.searchText,mr.page=1,mr.pageSize=100;let on=[],Jr=1;const Gr=5;for(;Jr<=Gr;){mr.page=Jr;const _r=await X0(mr);if(_r!=null&&_r.data&&_r.data.length>0){if(on=on.concat(_r.data),_r.data.length<mr.pageSize)break;Jr++}else break}if(on.length>0){const _r=Bt.searchText.toLowerCase().trim(),hr=on.filter(Br=>{const Qr=(Br.invoiceNumber||"").toLowerCase(),Kr=(Br.companyName||"").toLowerCase(),hn=(Br.hcfCode||"").toLowerCase(),Wr=(Br.status||"").toLowerCase();return Qr.includes(_r)||Kr.includes(_r)||hn.includes(_r)||Wr.includes(_r)||Br.invoiceValue&&Br.invoiceValue.toString().includes(_r)});hr.length>0&&(Vt.data=hr,Vt.meta&&(Vt.meta.totalRecords=hr.length,Vt.meta.dataCount=hr.length,Vt.meta.state=hr.length>0?"HAS_RESULTS":"NO_RESULTS",Vt.meta.totalPages=Math.ceil(hr.length/(Bt.pageSize||25))))}}catch(mr){console.error("Client-side fallback failed:",mr)}if(!Vt||!Vt.data||!Array.isArray(Vt.data))throw console.error("Invalid response structure:",Vt),new Error("Invalid response format from server");if(!Vt.meta)throw console.error("Missing meta in response:",Vt),new Error("Missing pagination metadata in response");const Sr=(Vt.data||[]).map(mr=>({invoiceId:mr.invoiceId,companyId:mr.companyId,hcfId:mr.hcfId,invoiceNumber:mr.invoiceNumber,invoiceDate:mr.invoiceDate,dueDate:mr.dueDate,billingType:mr.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:mr.invoiceValue,totalPaidAmount:mr.totalPaidAmount,balanceAmount:mr.balanceAmount,status:mr.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:mr.companyName,companyCode:mr.companyCode,hcfName:mr.hcfName,hcfCode:mr.hcfCode}))||[];w(()=>Sr),S(()=>Sr),q(()=>!0),Vt.meta&&!f.trim()?l(Vt.meta.page):Vt.meta&&f.trim()&&l(X===1?1:Vt.meta.page);const He=Vt.data||[],Zt=He.reduce((mr,on)=>mr+(on.invoiceValue||0),0),Nt=He.reduce((mr,on)=>mr+(on.totalPaidAmount||0),0),Vr=He.reduce((mr,on)=>mr+(on.balanceAmount||0),0);Oe({totalInvoices:((Ye=Vt.meta)==null?void 0:Ye.totalRecords)||0,totalAmount:Zt,paidAmount:Nt,balanceAmount:Vr}),A(!1),setTimeout(()=>{var mr;(mr=le.current)==null||mr.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Bt){console.error("Error generating report:",Bt),K(Bt.message||"Failed to generate report"),((wt=Bt.message)!=null&&wt.includes("Invalid response")||(Ft=Bt.message)!=null&&Ft.includes("Missing"))&&(w([]),S([]),q(!1)),console.error("Report error:",Bt)}finally{k(!1)}},we=async()=>{c(),A(!1),await Ee()},me=pe=>pe==null?"0.00":`${pe.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,se=pe=>pe?new Date(pe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",J=pe=>{switch(pe){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},je=W&&Ae.totalInvoices>0?Math.ceil(Ae.totalInvoices/O):0;(X-1)*O+((N==null?void 0:N.length)||0);const Le=N||[],Ie=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Ie,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Invoice Generation & Printing"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Invoice Generation & Printing Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:Te()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status, or Amount",value:f,onChange:pe=>u(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&!C&&(pe.preventDefault(),Ee())},disabled:C}),f&&!C&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{u(""),(W||o())&&await Ee()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:z,className:`btn btn-filters-toggle ${d?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("status",n.status||"All"),i("billingType",n.billingType||"All"),i("invoiceFromDate",n.invoiceFromDate||""),i("invoiceToDate",n.invoiceToDate||"")),z.current){const pe=z.current.getBoundingClientRect();ie({top:pe.bottom+8,left:pe.left})}A(!d)}},disabled:C,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:"",n.invoiceFromDate,n.invoiceToDate].filter(Boolean).length})]})]}),d&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),ie(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:pe=>pe.stopPropagation(),style:R?{position:"fixed",top:`${R.top}px`,left:`${R.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("invoiceFromDate",""),i("invoiceToDate",""),i("status","All"),i("billingType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceFromDate||"",onChange:pe=>i("invoiceFromDate",pe.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.invoiceToDate||"",onChange:pe=>i("invoiceToDate",pe.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:pe=>{i("companyId",pe.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(pe=>t.jsxs("option",{value:pe.id,children:[pe.companyCode," - ",pe.companyName]},pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:pe=>i("hcfId",pe.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(pe=>pe.companyId===a.companyId):x).map(pe=>t.jsxs("option",{value:pe.id,children:[pe.hcfCode," - ",pe.hcfName]},pe.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:pe=>i("status",pe.target.value),children:Y.map(pe=>t.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:a.billingType||"All",onChange:pe=>i("billingType",pe.target.value),children:Ne.map(pe=>t.jsx("option",{value:pe.value,children:pe.label},pe.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ce(),A(!1)},disabled:C,children:C?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:le,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Balance"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((pe,ke)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ke}`)):W?Le.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No invoices match "${f.trim()}". Try adjusting your search or filters.`:o()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:we,children:"Clear Filters"})})]})})}):Le.map((pe,ke)=>t.jsxs("tr",{className:ke%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:pe.invoiceNumber}),t.jsx("td",{children:pe.companyName||"N/A"}),t.jsx("td",{children:pe.hcfCode||"N/A"}),t.jsx("td",{children:se(pe.invoiceDate)}),t.jsx("td",{children:pe.billingType}),t.jsx("td",{className:"text-right",children:me(pe.invoiceValue)}),t.jsx("td",{className:"text-right",children:me(pe.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:me(pe.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:J(pe.status),children:pe.status})})]},pe.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:W&&N.length>0?`Showing ${O} of ${Ae.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:O,disabled:!W||N.length===0,onChange:async pe=>{l(1,Number(pe.target.value)),W&&await Ee()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.max(1,X-1);l(pe),W&&await Ee()},disabled:X===1||!W||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const pe=[];let Ye=Math.max(1,X-Math.floor(2.5)),wt=Math.min(je,Ye+5-1);wt-Ye<4&&(Ye=Math.max(1,wt-5+1)),Ye>1&&(pe.push(1),Ye>2&&pe.push("..."));for(let Ft=Ye;Ft<=wt;Ft++)pe.push(Ft);return wt<je&&(wt<je-1&&pe.push("..."),pe.push(je)),pe.map((Ft,Bt)=>{if(Ft==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Bt}`);const Vt=Ft;return t.jsx("button",{className:`pagination-page-btn ${X===Vt?"active":""}`,onClick:async()=>{l(Vt),W&&await Ee()},disabled:!W||N.length===0,children:Vt},Vt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const pe=Math.min(je,X+1);l(pe),W&&await Ee()},disabled:X===je||je===0||!W||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Kne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalContracts:0});P.useEffect(()=>{(async()=>{try{const[se,J]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(se),A(J)}catch(se){console.error("Error loading master data:",se)}})()},[]);const z=n.companyId?d.filter(me=>me.companyId===n.companyId):d,R=()=>{var me;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(me=n.searchText)!=null&&me.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view contracts.";const me=[];if(n.fromDate&&n.toDate){const se=new Date(n.fromDate),J=new Date(n.toDate),je=se.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Pe=J.toLocaleDateString("en-US",{month:"short",day:"numeric"});me.push(`Date: ${je}${Pe}`)}if(n.companyId){const se=o.find(J=>J.id===n.companyId);se&&me.push(`Company: ${se.companyName}`)}if(n.hcfId){const se=z.find(J=>J.id===n.hcfId);se&&me.push(`HCF: ${se.hcfCode}`)}return n.status&&n.status!=="All"&&me.push(`Status: ${n.status}`),me.join("  ")},Ae=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],Oe=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],be=async()=>{var me;b(!0),C(null);try{const se={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let J=await of.getAllContracts(se.companyId,se.status);if(n.hcfId&&(J=J.filter(Ie=>Ie.hcfId===n.hcfId)),n.fromDate){const Ie=new Date(n.fromDate);J=J.filter(pe=>new Date(pe.startDate)>=Ie)}if(n.toDate){const Ie=new Date(n.toDate);Ie.setHours(23,59,59,999),J=J.filter(pe=>new Date(pe.startDate)<=Ie)}if(n.billingType&&n.billingType!=="All"&&(J=J.filter(Ie=>Ie.billingType===n.billingType)),(me=n.searchText)!=null&&me.trim()){const Ie=n.searchText.toLowerCase().trim();J=J.filter(pe=>{const ke=(pe.contractNum||"").toLowerCase(),Ye=o.find(Vt=>Vt.id===pe.companyId),wt=((Ye==null?void 0:Ye.companyName)||"").toLowerCase(),Ft=d.find(Vt=>Vt.id===pe.hcfId),Bt=((Ft==null?void 0:Ft.hcfCode)||"").toLowerCase();return ke.includes(Ie)||wt.includes(Ie)||Bt.includes(Ie)})}J.sort((Ie,pe)=>{const ke=Ie[n.sortBy]||"",Ye=pe[n.sortBy]||"";return n.sortOrder==="ASC"?ke>Ye?1:-1:ke<Ye?1:-1});const je=(k-1)*W,Pe=je+W,Le=J.slice(je,Pe);g(J),x(Le),N(!0),le({totalContracts:J.length})}catch(se){console.error("Error loading contracts:",se),C(se.message||"Failed to load contract data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(me=>({...me,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",billingType:i.billingType||"All",page:1})),l(!1),await be()},Y=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),l(!1),await be()};P.useEffect(()=>{if(o.length>0||!n.companyId){const me=setTimeout(()=>{be()},500);return()=>clearTimeout(me)}},[n,o]);const Ne=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=me=>{switch(me){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ae=w&&O.totalContracts>0?Math.ceil(O.totalContracts/W):0,Ce=(k-1)*W,Ee=Math.min(Ce+m.length,O.totalContracts),we=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:we,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:me=>a(se=>({...se,searchText:me.target.value,page:1})),onKeyDown:me=>{me.key==="Enter"&&!y&&(me.preventDefault(),be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(me=>({...me,searchText:"",page:1})),(w||R())&&await be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),te.current){const me=te.current.getBoundingClientRect();X({top:me.bottom+8,left:me.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:me=>me.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:me=>s(se=>({...se,fromDate:me.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:me=>s(se=>({...se,toDate:me.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:me=>{s(se=>({...se,companyId:me.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(me=>t.jsxs("option",{value:me.id,children:[me.companyCode," - ",me.companyName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:me=>s(se=>({...se,hcfId:me.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(me=>me.companyId===i.companyId):d).map(me=>t.jsxs("option",{value:me.id,children:[me.hcfCode," - ",me.hcfName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:me=>s(se=>({...se,status:me.target.value})),children:Ae.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),t.jsx("select",{className:"filter-modal-select",value:i.billingType||"All",onChange:me=>s(se=>({...se,billingType:me.target.value})),children:Oe.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((me,se)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${se}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:R()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):m.map((me,se)=>{var J,je;return t.jsxs("tr",{className:se%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:me.contractNum}),t.jsx("td",{children:((J=o.find(Pe=>Pe.id===me.companyId))==null?void 0:J.companyName)||"N/A"}),t.jsx("td",{children:((je=d.find(Pe=>Pe.id===me.hcfId))==null?void 0:je.hcfCode)||"N/A"}),t.jsx("td",{children:Ne(me.startDate)}),t.jsx("td",{children:Ne(me.endDate)}),t.jsx("td",{children:me.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(me.status),children:me.status})})]},me.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ce+1}-${Ee} of ${O.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async me=>{a(se=>({...se,page:1,pageSize:Number(me.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.max(1,k-1);a(se=>({...se,page:me}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const me=[];let J=Math.max(1,k-Math.floor(2.5)),je=Math.min(ae,J+5-1);je-J<4&&(J=Math.max(1,je-5+1)),J>1&&(me.push(1),J>2&&me.push("..."));for(let Pe=J;Pe<=je;Pe++)me.push(Pe);return je<ae&&(je<ae-1&&me.push("..."),me.push(ae)),me.map((Pe,Le)=>{if(Pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const Ie=Pe;return t.jsx("button",{className:`pagination-page-btn ${k===Ie?"active":""}`,onClick:async()=>{a(pe=>({...pe,page:Ie}))},disabled:!w||m.length===0,children:Ie},Ie)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.min(ae,k+1);a(se=>({...se,page:me}))},disabled:k===ae||ae===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Gne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalHcfs:0});P.useEffect(()=>{(async()=>{try{const Ce=await $a.getAllCompanies();h(Ce)}catch(Ce){console.error("Error loading master data:",Ce)}})()},[]);const O=()=>{var ae;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(ae=n.searchText)!=null&&ae.trim())},le=()=>{if(!O())return"No filters applied. View all healthcare facilities.";const ae=[];if(n.companyId){const Ce=o.find(Ee=>Ee.id===n.companyId);Ce&&ae.push(`Company: ${Ce.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&ae.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&ae.push(`Status: ${n.status}`),n.stateCode&&ae.push(`State: ${n.stateCode}`),n.district&&ae.push(`District: ${n.district}`),n.category&&ae.push(`Category: ${n.category}`),ae.join("  ")},z=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],R=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],ie=async()=>{var ae;x(!0),N(null);try{let Ce=await ks.getAllHcfs();if(n.companyId&&(Ce=Ce.filter(se=>se.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(Ce=Ce.filter(se=>se.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(Ce=Ce.filter(se=>se.status===n.status)),n.stateCode&&(Ce=Ce.filter(se=>se.stateCode===n.stateCode)),n.district){const se=n.district.toLowerCase().trim();Ce=Ce.filter(J=>J.district&&J.district.toLowerCase().includes(se))}if(n.category){const se=n.category.toLowerCase().trim();Ce=Ce.filter(J=>J.category&&J.category.toLowerCase().includes(se))}if((ae=n.searchText)!=null&&ae.trim()){const se=n.searchText.toLowerCase().trim();Ce=Ce.filter(J=>{const je=(J.hcfCode||"").toLowerCase(),Pe=(J.hcfName||"").toLowerCase(),Le=(J.hcfShortName||"").toLowerCase(),Ie=o.find(wt=>wt.id===J.companyId),pe=((Ie==null?void 0:Ie.companyName)||"").toLowerCase(),ke=(J.district||"").toLowerCase(),Ye=(J.category||"").toLowerCase();return je.includes(se)||Pe.includes(se)||Le.includes(se)||pe.includes(se)||ke.includes(se)||Ye.includes(se)||J.pincode&&J.pincode.includes(se)||J.gstin&&J.gstin.toLowerCase().includes(se)})}Ce.sort((se,J)=>{const je=se[n.sortBy]||"",Pe=J[n.sortBy]||"";return n.sortOrder==="ASC"?je>Pe?1:-1:je<Pe?1:-1});const Ee=(S-1)*C,we=Ee+C,me=Ce.slice(Ee,we);A(Ce),g(me),b(!0),X({totalHcfs:Ce.length})}catch(Ce){console.error("Error loading HCFs:",Ce),N(Ce.message||"Failed to load HCF data"),A([]),g([])}finally{x(!1)}},Ae=async()=>{a(ae=>({...ae,companyId:i.companyId||"",hcfType:i.hcfType||"All",status:i.status||"All",stateCode:i.stateCode||"",district:i.district||"",category:i.category||"",page:1})),l(!1),await ie()},Oe=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),l(!1),await ie()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ae=setTimeout(()=>{ie()},500);return()=>clearTimeout(ae)}},[n,o]);const be=ae=>{switch(ae){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Te=y&&K.totalHcfs>0?Math.ceil(K.totalHcfs/C):0,Y=(S-1)*C,Ne=Math.min(Y+f.length,K.totalHcfs),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:u,onChange:ae=>a(Ce=>({...Ce,searchText:ae.target.value,page:1})),onKeyDown:ae=>{ae.key==="Enter"&&!m&&(ae.preventDefault(),ie())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ae=>({...ae,searchText:"",page:1})),(y||O())&&await ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),W.current){const ae=W.current.getBoundingClientRect();te({top:ae.bottom+8,left:ae.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ae=>ae.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ae=>s(Ce=>({...Ce,companyId:ae.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ae=>t.jsxs("option",{value:ae.id,children:[ae.companyCode," - ",ae.companyName]},ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),t.jsx("select",{className:"filter-modal-select",value:i.hcfType||"All",onChange:ae=>s(Ce=>({...Ce,hcfType:ae.target.value})),children:z.map(ae=>t.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ae=>s(Ce=>({...Ce,status:ae.target.value})),children:R.map(ae=>t.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"State Code"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.stateCode||"",onChange:ae=>s(Ce=>({...Ce,stateCode:ae.target.value})),placeholder:"Enter state code"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"District"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.district||"",onChange:ae=>s(Ce=>({...Ce,district:ae.target.value})),placeholder:"Enter district name"})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Category"}),t.jsx("input",{type:"text",className:"filter-modal-input",value:i.category||"",onChange:ae=>s(Ce=>({...Ce,category:ae.target.value})),placeholder:"Enter category"})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ae(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF Type"}),t.jsx("th",{children:"District"}),t.jsx("th",{children:"State"}),t.jsx("th",{children:"Category"}),t.jsx("th",{children:"Pincode"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ae,Ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ce}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No HCFs match "${u.trim()}". Try adjusting your search or filters.`:O()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Oe,children:"Clear Filters"})})]})})}):f.map((ae,Ce)=>{var Ee;return t.jsxs("tr",{className:Ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ae.hcfCode}),t.jsx("td",{children:ae.hcfName}),t.jsx("td",{children:((Ee=o.find(we=>we.id===ae.companyId))==null?void 0:Ee.companyName)||"N/A"}),t.jsx("td",{children:ae.hcfTypeCode||"N/A"}),t.jsx("td",{children:ae.district||"N/A"}),t.jsx("td",{children:ae.stateCode||"N/A"}),t.jsx("td",{children:ae.category||"N/A"}),t.jsx("td",{children:ae.pincode||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:be(ae.status),children:ae.status})})]},ae.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Y+1}-${Ne} of ${K.totalHcfs} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async ae=>{a(Ce=>({...Ce,page:1,pageSize:Number(ae.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.max(1,S-1);a(Ce=>({...Ce,page:ae}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ae=[];let Ee=Math.max(1,S-Math.floor(2.5)),we=Math.min(Te,Ee+5-1);we-Ee<4&&(Ee=Math.max(1,we-5+1)),Ee>1&&(ae.push(1),Ee>2&&ae.push("..."));for(let me=Ee;me<=we;me++)ae.push(me);return we<Te&&(we<Te-1&&ae.push("..."),ae.push(Te)),ae.map((me,se)=>{if(me==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${se}`);const J=me;return t.jsx("button",{className:`pagination-page-btn ${S===J?"active":""}`,onClick:async()=>{a(je=>({...je,page:J}))},disabled:!y||f.length===0,children:J},J)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.min(Te,S+1);a(Ce=>({...Ce,page:ae}))},disabled:S===Te||Te===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},qne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[i,s]=P.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalCertificates:0});P.useEffect(()=>{(async()=>{try{const[me,se]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(me),A(se)}catch(me){console.error("Error loading master data:",me)}})()},[]);const z=n.companyId?d.filter(we=>we.companyId===n.companyId):d,R=()=>{var we;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(we=n.searchText)!=null&&we.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view training certificates.";const we=[];if(n.trainingFromDate&&n.trainingToDate){const me=new Date(n.trainingFromDate),se=new Date(n.trainingToDate),J=me.toLocaleDateString("en-US",{month:"short",day:"numeric"}),je=se.toLocaleDateString("en-US",{month:"short",day:"numeric"});we.push(`Date: ${J}${je}`)}if(n.companyId){const me=o.find(se=>se.id===n.companyId);me&&we.push(`Company: ${me.companyName}`)}if(n.hcfId){const me=z.find(se=>se.id===n.hcfId);me&&we.push(`HCF: ${me.hcfCode}`)}return n.status&&n.status!=="All"&&we.push(`Status: ${n.status}`),we.join("  ")},Ae=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Oe=async()=>{var we;b(!0),C(null);try{const me={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let se=await ov.getAllCertificates(me.companyId,!1,me);if((we=n.searchText)!=null&&we.trim()){const Le=n.searchText.toLowerCase().trim();se=se.filter(Ie=>{const pe=(Ie.certificateNo||"").toLowerCase(),ke=(Ie.staffName||"").toLowerCase(),Ye=(Ie.staffCode||"").toLowerCase(),wt=o.find(Ir=>Ir.id===Ie.companyId),Ft=((wt==null?void 0:wt.companyName)||"").toLowerCase(),Bt=d.find(Ir=>Ir.id===Ie.hcfId),Vt=((Bt==null?void 0:Bt.hcfCode)||"").toLowerCase();return pe.includes(Le)||ke.includes(Le)||Ye.includes(Le)||Ft.includes(Le)||Vt.includes(Le)})}se.sort((Le,Ie)=>{const pe=Le[n.sortBy]||"",ke=Ie[n.sortBy]||"";return n.sortOrder==="ASC"?pe>ke?1:-1:pe<ke?1:-1});const J=(k-1)*W,je=J+W,Pe=se.slice(J,je);g(se),x(Pe),N(!0),le({totalCertificates:se.length})}catch(me){console.error("Error loading training certificates:",me),C(me.message||"Failed to load training certificate data"),g([]),x([])}finally{b(!1)}},be=async()=>{a(we=>({...we,trainingFromDate:i.trainingFromDate||"",trainingToDate:i.trainingToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",status:i.status||"All",page:1})),l(!1),await Oe()},Te=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),l(!1),await Oe()};P.useEffect(()=>{if(o.length>0||!n.companyId){const we=setTimeout(()=>{Oe()},500);return()=>clearTimeout(we)}},[n,o]);const Y=we=>we?new Date(we).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ne=we=>{switch(we){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ce=w&&O.totalCertificates>0?Math.ceil(O.totalCertificates/W):0,ae=(k-1)*W,Ce=Math.min(ae+m.length,O.totalCertificates),Ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:u,onChange:we=>a(me=>({...me,searchText:we.target.value,page:1})),onKeyDown:we=>{we.key==="Enter"&&!y&&(we.preventDefault(),Oe())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(we=>({...we,searchText:"",page:1})),(w||R())&&await Oe()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),te.current){const we=te.current.getBoundingClientRect();X({top:we.bottom+8,left:we.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:we=>we.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Training Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingFromDate||"",onChange:we=>s(me=>({...me,trainingFromDate:we.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.trainingToDate||"",onChange:we=>s(me=>({...me,trainingToDate:we.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:we=>{s(me=>({...me,companyId:we.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(we=>t.jsxs("option",{value:we.id,children:[we.companyCode," - ",we.companyName]},we.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:we=>s(me=>({...me,hcfId:we.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(we=>we.companyId===i.companyId):d).map(we=>t.jsxs("option",{value:we.id,children:[we.hcfCode," - ",we.hcfName]},we.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:we=>s(me=>({...me,status:we.target.value})),children:Ae.map(we=>t.jsx("option",{value:we.value,children:we.label},we.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await be(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Certificate No"}),t.jsx("th",{children:"Staff Name"}),t.jsx("th",{children:"Staff Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Training Date"}),t.jsx("th",{children:"Trained By"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((we,me)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${me}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No certificates match "${u.trim()}". Try adjusting your search or filters.`:R()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Te,children:"Clear Filters"})})]})})}):m.map((we,me)=>{var se,J;return t.jsxs("tr",{className:me%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:we.certificateNo}),t.jsx("td",{children:we.staffName}),t.jsx("td",{children:we.staffCode}),t.jsx("td",{children:((se=o.find(je=>je.id===we.companyId))==null?void 0:se.companyName)||"N/A"}),t.jsx("td",{children:((J=d.find(je=>je.id===we.hcfId))==null?void 0:J.hcfCode)||"N/A"}),t.jsx("td",{children:Y(we.trainingDate)}),t.jsx("td",{children:we.trainedBy}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ne(we.status),children:we.status})})]},we.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${ae+1}-${Ce} of ${O.totalCertificates} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async we=>{a(me=>({...me,page:1,pageSize:Number(we.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const we=Math.max(1,k-1);a(me=>({...me,page:we}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const we=[];let se=Math.max(1,k-Math.floor(2.5)),J=Math.min(ce,se+5-1);J-se<4&&(se=Math.max(1,J-5+1)),se>1&&(we.push(1),se>2&&we.push("..."));for(let je=se;je<=J;je++)we.push(je);return J<ce&&(J<ce-1&&we.push("..."),we.push(ce)),we.map((je,Pe)=>{if(je==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Pe}`);const Le=je;return t.jsx("button",{className:`pagination-page-btn ${k===Le?"active":""}`,onClick:async()=>{a(Ie=>({...Ie,page:Le}))},disabled:!w||m.length===0,children:Le},Le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const we=Math.min(ce,k+1);a(me=>({...me,page:we}))},disabled:k===ce||ce===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},o_=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[i,s]=P.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalPayments:0,totalAmount:0});P.useEffect(()=>{(async()=>{try{const we=await $a.getAllCompanies();h(we)}catch(we){console.error("Error loading master data:",we)}})()},[]);const O=()=>{var Ee;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(Ee=n.searchText)!=null&&Ee.trim())},le=()=>{if(!O())return"No filters applied. Select a date range or search to view payments.";const Ee=[];if(n.paymentFromDate&&n.paymentToDate){const we=new Date(n.paymentFromDate),me=new Date(n.paymentToDate),se=we.toLocaleDateString("en-US",{month:"short",day:"numeric"}),J=me.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ee.push(`Date: ${se}${J}`)}if(n.companyId){const we=o.find(me=>me.id===n.companyId);we&&Ee.push(`Company: ${we.companyName}`)}return n.status&&n.status!=="All"&&Ee.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&Ee.push(`Mode: ${n.paymentMode}`),Ee.join("  ")},z=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],R=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],ie=async()=>{var Ee;x(!0),N(null);try{const we={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let se=(await Dte(we)).data||[];if((Ee=n.searchText)!=null&&Ee.trim()){const Le=n.searchText.toLowerCase().trim();se=se.filter(Ie=>{const pe=(Ie.receiptNumber||"").toLowerCase(),ke=(Ie.referenceNumber||"").toLowerCase(),Ye=o.find(Ft=>Ft.id===Ie.companyId),wt=((Ye==null?void 0:Ye.companyName)||"").toLowerCase();return pe.includes(Le)||ke.includes(Le)||wt.includes(Le)||Ie.paymentAmount.toString().includes(Le)})}n.paymentMode&&n.paymentMode!=="All"&&(se=se.filter(Le=>Le.paymentMode===n.paymentMode)),se.sort((Le,Ie)=>{const pe=Le[n.sortBy]||"",ke=Ie[n.sortBy]||"";return n.sortOrder==="ASC"?pe>ke?1:-1:pe<ke?1:-1});const J=(S-1)*C,je=J+C,Pe=se.slice(J,je);A(se),g(Pe),b(!0),X({totalPayments:se.length,totalAmount:se.reduce((Le,Ie)=>Le+(Ie.paymentAmount||0),0)})}catch(we){console.error("Error loading payments:",we),N(we.message||"Failed to load payment data"),A([]),g([])}finally{x(!1)}},Ae=async()=>{a(Ee=>({...Ee,paymentFromDate:i.paymentFromDate||"",paymentToDate:i.paymentToDate||"",companyId:i.companyId||"",status:i.status||"All",paymentMode:i.paymentMode||"All",page:1})),l(!1),await ie()},Oe=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),l(!1),await ie()};P.useEffect(()=>{if(o.length>0||!n.companyId){const Ee=setTimeout(()=>{ie()},500);return()=>clearTimeout(Ee)}},[n,o]);const be=Ee=>Ee==null?"0.00":`${Ee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Te=Ee=>Ee?new Date(Ee).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Y=Ee=>{switch(Ee){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ne=y&&K.totalPayments>0?Math.ceil(K.totalPayments/C):0,ce=(S-1)*C,ae=Math.min(ce+f.length,K.totalPayments),Ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Payment Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:u,onChange:Ee=>a(we=>({...we,searchText:Ee.target.value,page:1})),onKeyDown:Ee=>{Ee.key==="Enter"&&!m&&(Ee.preventDefault(),ie())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ee=>({...Ee,searchText:"",page:1})),(y||O())&&await ie()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),W.current){const Ee=W.current.getBoundingClientRect();te({top:Ee.bottom+8,left:Ee.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ee=>Ee.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentFromDate||"",onChange:Ee=>s(we=>({...we,paymentFromDate:Ee.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.paymentToDate||"",onChange:Ee=>s(we=>({...we,paymentToDate:Ee.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ee=>s(we=>({...we,companyId:Ee.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ee=>t.jsxs("option",{value:Ee.id,children:[Ee.companyCode," - ",Ee.companyName]},Ee.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ee=>s(we=>({...we,status:Ee.target.value})),children:z.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),t.jsx("select",{className:"filter-modal-select",value:i.paymentMode||"All",onChange:Ee=>s(we=>({...we,paymentMode:Ee.target.value})),children:R.map(Ee=>t.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ae(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Receipt No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Payment Date"}),t.jsx("th",{children:"Payment Mode"}),t.jsx("th",{className:"text-right",children:"Payment Amount"}),t.jsx("th",{children:"Reference Number"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ee,we)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${we}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No payments match "${u.trim()}". Try adjusting your search or filters.`:O()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Oe,children:"Clear Filters"})})]})})}):f.map((Ee,we)=>{var me;return t.jsxs("tr",{className:we%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ee.receiptNumber||"N/A"}),t.jsx("td",{children:((me=o.find(se=>se.id===Ee.companyId))==null?void 0:me.companyName)||"N/A"}),t.jsx("td",{children:Te(Ee.paymentDate)}),t.jsx("td",{children:Ee.paymentMode}),t.jsx("td",{className:"text-right",children:be(Ee.paymentAmount)}),t.jsx("td",{children:Ee.referenceNumber||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Y(Ee.status),children:Ee.status})})]},Ee.paymentId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${ce+1}-${ae} of ${K.totalPayments} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async Ee=>{a(we=>({...we,page:1,pageSize:Number(Ee.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.max(1,S-1);a(we=>({...we,page:Ee}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ee=[];let me=Math.max(1,S-Math.floor(2.5)),se=Math.min(Ne,me+5-1);se-me<4&&(me=Math.max(1,se-5+1)),me>1&&(Ee.push(1),me>2&&Ee.push("..."));for(let J=me;J<=se;J++)Ee.push(J);return se<Ne&&(se<Ne-1&&Ee.push("..."),Ee.push(Ne)),Ee.map((J,je)=>{if(J==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${je}`);const Pe=J;return t.jsx("button",{className:`pagination-page-btn ${S===Pe?"active":""}`,onClick:async()=>{a(Le=>({...Le,page:Pe}))},disabled:!y||f.length===0,children:Pe},Pe)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ee=Math.min(Ne,S+1);a(we=>({...we,page:Ee}))},disabled:S===Ne||Ne===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Xne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalAgreements:0});P.useEffect(()=>{(async()=>{try{const Ce=await of.getAllContracts();h(Ce)}catch(Ce){console.error("Error loading master data:",Ce)}})()},[]);const O=()=>{var ae;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(ae=n.searchText)!=null&&ae.trim())},le=()=>{if(!O())return"No filters applied. Select a date range or search to view agreements.";const ae=[];if(n.fromDate&&n.toDate){const Ce=new Date(n.fromDate),Ee=new Date(n.toDate),we=Ce.toLocaleDateString("en-US",{month:"short",day:"numeric"}),me=Ee.toLocaleDateString("en-US",{month:"short",day:"numeric"});ae.push(`Date: ${we}${me}`)}if(n.contractId){const Ce=o.find(Ee=>Ee.id===n.contractId);Ce&&ae.push(`Contract: ${Ce.contractNum}`)}return n.status&&n.status!=="All"&&ae.push(`Status: ${n.status}`),ae.join("  ")},z=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],R=async()=>{var ae;x(!0),N(null);try{const Ce={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let Ee=await Y0.getAllAgreements(Ce.contractId,Ce.status);if(n.fromDate){const J=new Date(n.fromDate);Ee=Ee.filter(je=>new Date(je.agreementDate)>=J)}if(n.toDate){const J=new Date(n.toDate);J.setHours(23,59,59,999),Ee=Ee.filter(je=>new Date(je.agreementDate)<=J)}if((ae=n.searchText)!=null&&ae.trim()){const J=n.searchText.toLowerCase().trim();Ee=Ee.filter(je=>{const Pe=(je.agreementNum||"").toLowerCase(),Le=(je.contractNum||"").toLowerCase();return Pe.includes(J)||Le.includes(J)})}Ee.sort((J,je)=>{const Pe=J[n.sortBy]||"",Le=je[n.sortBy]||"";return n.sortOrder==="ASC"?Pe>Le?1:-1:Pe<Le?1:-1});const we=(S-1)*C,me=we+C,se=Ee.slice(we,me);A(Ee),g(se),b(!0),X({totalAgreements:Ee.length})}catch(Ce){console.error("Error loading agreements:",Ce),N(Ce.message||"Failed to load agreement data"),A([]),g([])}finally{x(!1)}},ie=async()=>{a(ae=>({...ae,fromDate:i.fromDate||"",toDate:i.toDate||"",contractId:i.contractId||"",status:i.status||"All",page:1})),l(!1),await R()},Ae=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",contractId:"",status:"All"}),l(!1),await R()};P.useEffect(()=>{if(o.length>0||!n.contractId){const ae=setTimeout(()=>{R()},500);return()=>clearTimeout(ae)}},[n,o]);const Oe=ae=>ae?new Date(ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",be=ae=>{switch(ae){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Te=y&&K.totalAgreements>0?Math.ceil(K.totalAgreements/C):0,Y=(S-1)*C,Ne=Math.min(Y+f.length,K.totalAgreements),ce=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:ce,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Agreement Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:u,onChange:ae=>a(Ce=>({...Ce,searchText:ae.target.value,page:1})),onKeyDown:ae=>{ae.key==="Enter"&&!m&&(ae.preventDefault(),R())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ae=>({...ae,searchText:"",page:1})),(y||O())&&await R()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),W.current){const ae=W.current.getBoundingClientRect();te({top:ae.bottom+8,left:ae.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ae=>ae.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:ae=>s(Ce=>({...Ce,fromDate:ae.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:ae=>s(Ce=>({...Ce,toDate:ae.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Contract"}),t.jsxs("select",{className:"filter-modal-select",value:i.contractId||"",onChange:ae=>s(Ce=>({...Ce,contractId:ae.target.value})),children:[t.jsx("option",{value:"",children:"Select Contract"}),o.map(ae=>t.jsx("option",{value:ae.id,children:ae.contractNum},ae.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ae=>s(Ce=>({...Ce,status:ae.target.value})),children:z.map(ae=>t.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Agreement No"}),t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Agreement Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ae,Ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ce}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No agreements match "${u.trim()}". Try adjusting your search or filters.`:O()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ae,children:"Clear Filters"})})]})})}):f.map((ae,Ce)=>t.jsxs("tr",{className:Ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ae.agreementNum}),t.jsx("td",{children:ae.contractNum||"N/A"}),t.jsx("td",{children:Oe(ae.agreementDate)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:be(ae.status),children:ae.status})})]},ae.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Y+1}-${Ne} of ${K.totalAgreements} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async ae=>{a(Ce=>({...Ce,page:1,pageSize:Number(ae.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.max(1,S-1);a(Ce=>({...Ce,page:ae}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ae=[];let Ee=Math.max(1,S-Math.floor(2.5)),we=Math.min(Te,Ee+5-1);we-Ee<4&&(Ee=Math.max(1,we-5+1)),Ee>1&&(ae.push(1),Ee>2&&ae.push("..."));for(let me=Ee;me<=we;me++)ae.push(me);return we<Te&&(we<Te-1&&ae.push("..."),ae.push(Te)),ae.map((me,se)=>{if(me==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${se}`);const J=me;return t.jsx("button",{className:`pagination-page-btn ${S===J?"active":""}`,onClick:async()=>{a(je=>({...je,page:J}))},disabled:!y||f.length===0,children:J},J)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.min(Te,S+1);a(Ce=>({...Ce,page:ae}))},disabled:S===Te||Te===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Yne=()=>{const[r,e]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),i=P.useCallback((A,f)=>{e(g=>({...g,[A]:f}))},[]),s=P.useCallback((A,f)=>{a(g=>({...g,[A]:f}))},[]),c=P.useCallback(()=>{e(A=>({...A,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),l=P.useCallback(()=>{const A={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};e(A),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),u=P.useCallback((A,f)=>{e(g=>({...g,page:A,...f!==void 0&&{pageSize:f}}))},[]),o=P.useCallback(A=>{e(f=>({...f,searchText:A,page:1}))},[]),h=P.useCallback(()=>{var A;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(A=r.searchText)!=null&&A.trim())},[r]),d=P.useCallback(()=>{var f;const A={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(A.createdFromDate=r.createdFromDate),r.createdToDate&&(A.createdToDate=r.createdToDate),r.companyId&&(A.companyId=r.companyId),r.hcfId&&(A.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(A.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(A.colorBlock=r.colorBlock),(f=r.searchText)!=null&&f.trim()&&(A.searchText=r.searchText.trim()),A},[r]);return{filters:r,pendingFilters:n,updateFilter:i,updatePendingFilter:s,applyFilters:c,clearFilters:l,updatePagination:u,updateSearchText:o,hasFiltersApplied:h,buildApiFilters:d}},l_=()=>{const r=_n(),e=Ja(),{filters:n,pendingFilters:a,updatePendingFilter:i,applyFilters:s,clearFilters:c,updatePagination:l,updateSearchText:u,hasFiltersApplied:o,buildApiFilters:h}=Yne(),[d,A]=P.useState(!1),f=n.searchText||"",[g,m]=P.useState([]),[x,y]=P.useState([]),[b,w]=P.useState([]),[N,S]=P.useState([]),[C,k]=P.useState(!1),[W,q]=P.useState(!1),[te,K]=P.useState(null),X=n.page||1,O=n.pageSize||25,le=P.useRef(null),z=P.useRef(null),[R,ie]=P.useState(null),[Ae,Oe]=P.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});P.useEffect(()=>{(async()=>{try{const[Pe,Le]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);m(Pe),y(Le)}catch(Pe){console.error("Error loading master data:",Pe),K(Pe.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const be=n.companyId?x.filter(je=>je.companyId===n.companyId):x,Te=()=>{if(!o())return"No filters applied. Select a date range or search to view barcode usage.";const je=[];if(n.createdFromDate&&n.createdToDate){const Pe=new Date(n.createdFromDate),Le=new Date(n.createdToDate),Ie=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),pe=Le.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});je.push(`${Ie} - ${pe}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Pe=new Date(n.createdFromDate);je.push(`From ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Pe=new Date(n.createdToDate);je.push(`To ${Pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Pe=g.find(Le=>Le.id===n.companyId);je.push(Pe?Pe.companyName:"Selected Company")}else je.push("All Companies");if(n.hcfId){const Pe=be.find(Le=>Le.id===n.hcfId);je.push(Pe?`HCF: ${Pe.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&je.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&je.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${je.join("  ")}`},Y=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],Ne=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],ce=async()=>{var je;k(!0),K(null);try{const Pe=h();let Le=[];if(Pe.companyId)Le=await sf.getAllBarcodeLabels(Pe.companyId);else if(g.length>0)for(const wt of g)try{const Ft=await sf.getAllBarcodeLabels(wt.id);Le.push(...Ft)}catch(Ft){console.warn(`Failed to load barcodes for company ${wt.companyName}:`,Ft)}else try{Le=await sf.getAllBarcodeLabels()}catch(wt){console.warn("Failed to load barcodes without company filter:",wt)}let Ie=Le;if(n.createdFromDate){const wt=new Date(n.createdFromDate);Ie=Ie.filter(Ft=>new Date(Ft.createdOn)>=wt)}if(n.createdToDate){const wt=new Date(n.createdToDate);wt.setHours(23,59,59,999),Ie=Ie.filter(Ft=>new Date(Ft.createdOn)<=wt)}if(n.companyId&&(Ie=Ie.filter(wt=>wt.companyId===n.companyId)),n.hcfId&&(Ie=Ie.filter(wt=>wt.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(Ie=Ie.filter(wt=>wt.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(Ie=Ie.filter(wt=>wt.colorBlock===n.colorBlock)),(je=n.searchText)!=null&&je.trim()){const wt=n.searchText.toLowerCase().trim();Ie=Ie.filter(Ft=>{const Bt=(Ft.barcodeValue||"").toLowerCase(),Vt=(Ft.hcfCode||"").toLowerCase(),Ir=g.find(He=>He.id===Ft.companyId),Sr=((Ir==null?void 0:Ir.companyName)||"").toLowerCase();return Bt.includes(wt)||Vt.includes(wt)||Sr.includes(wt)||Ft.sequenceNumber.toString().includes(wt)})}Ie.sort((wt,Ft)=>{const Bt=wt[n.sortBy]||"",Vt=Ft[n.sortBy]||"";return n.sortOrder==="ASC"?Bt>Vt?1:-1:Bt<Vt?1:-1});const pe=(X-1)*O,ke=pe+O,Ye=Ie.slice(pe,ke);w(Ie),S(Ye),q(!0),Oe({totalBarcodes:Ie.length,barcodeCount:Ie.filter(wt=>wt.barcodeType==="Barcode").length,qrCodeCount:Ie.filter(wt=>wt.barcodeType==="QR Code").length})}catch(Pe){console.error("Error loading barcodes:",Pe),K(Pe.message||"Failed to load barcode usage data"),w([]),S([])}finally{k(!1)}},ae=async()=>{s(),A(!1),await ce()},Ce=async()=>{c(),A(!1),await ce()};P.useEffect(()=>{var je;if(g.length>0||o()||(je=n.searchText)!=null&&je.trim()){const Pe=setTimeout(()=>{ce()},500);return()=>clearTimeout(Pe)}},[n,g]);const Ee=je=>je?new Date(je).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",we=W&&Ae.totalBarcodes>0?Math.ceil(Ae.totalBarcodes/O):0,me=(X-1)*O,se=Math.min(me+N.length,Ae.totalBarcodes),J=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:J,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!o()&&t.jsx("div",{className:"page-context-subtitle",children:Te()}),te&&g.length===0&&t.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[t.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${C?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:f,onChange:je=>u(je.target.value),onKeyDown:je=>{je.key==="Enter"&&!C&&(je.preventDefault(),ce())},disabled:C}),f&&!C&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{u(""),ce()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:z,className:`btn btn-filters-toggle ${d?"active":""} ${C?"loading":""}`,onClick:()=>{if(!C){if(d||(i("companyId",n.companyId||""),i("hcfId",n.hcfId||""),i("barcodeType",n.barcodeType||"All"),i("colorBlock",n.colorBlock||"All"),i("createdFromDate",n.createdFromDate||""),i("createdToDate",n.createdToDate||"")),z.current){const je=z.current.getBoundingClientRect();ie({top:je.bottom+8,left:je.left})}A(!d)}},disabled:C,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),d&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{A(!1),ie(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:je=>je.stopPropagation(),style:R?{position:"fixed",top:`${R.top}px`,left:`${R.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i("companyId",""),i("hcfId",""),i("createdFromDate",""),i("createdToDate",""),i("barcodeType","All"),i("colorBlock","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>A(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:je=>i("createdFromDate",je.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:je=>i("createdToDate",je.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:je=>{i("companyId",je.target.value),i("hcfId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),g.map(je=>t.jsxs("option",{value:je.id,children:[je.companyCode," - ",je.companyName]},je.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:je=>i("hcfId",je.target.value),disabled:!a.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(je=>je.companyId===a.companyId):x).map(je=>t.jsxs("option",{value:je.id,children:[je.hcfCode," - ",je.hcfName]},je.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),t.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:je=>i("barcodeType",je.target.value),children:Y.map(je=>t.jsx("option",{value:je.value,children:je.label},je.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Color Block"}),t.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:je=>i("colorBlock",je.target.value),children:Ne.map(je=>t.jsx("option",{value:je.value,children:je.label},je.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ae,disabled:C,children:C?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:le,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode Value"}),t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Barcode Type"}),t.jsx("th",{children:"Color Block"}),t.jsx("th",{children:"Sequence Number"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:C?Array.from({length:5}).map((je,Pe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Pe}`)):W?N.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:f.trim()?`No barcodes match "${f.trim()}". Try adjusting your search or filters.`:o()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(o()||f.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ce,children:"Clear Filters"})})]})})}):N.map((je,Pe)=>{const Le=g.find(Ie=>Ie.id===je.companyId);return t.jsxs("tr",{className:Pe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:je.barcodeValue}),t.jsx("td",{children:je.hcfCode||"N/A"}),t.jsx("td",{children:(Le==null?void 0:Le.companyName)||"N/A"}),t.jsx("td",{children:je.barcodeType}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-badge--${je.colorBlock.toLowerCase()}`,children:je.colorBlock})}),t.jsx("td",{children:je.sequenceNumber}),t.jsx("td",{children:Ee(je.createdOn)})]},je.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),t.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),t.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),t.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:W&&N.length>0?`Showing ${se} of ${Ae.totalBarcodes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:O,disabled:!W||N.length===0,onChange:async je=>{l(1,Number(je.target.value)),await ce()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const je=Math.max(1,X-1);l(je),await ce()},disabled:X===1||!W||N.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const je=[];let Le=Math.max(1,X-Math.floor(2.5)),Ie=Math.min(we,Le+5-1);Ie-Le<4&&(Le=Math.max(1,Ie-5+1)),Le>1&&(je.push(1),Le>2&&je.push("..."));for(let pe=Le;pe<=Ie;pe++)je.push(pe);return Ie<we&&(Ie<we-1&&je.push("..."),je.push(we)),je.map((pe,ke)=>{if(pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ke}`);const Ye=pe;return t.jsx("button",{className:`pagination-page-btn ${X===Ye?"active":""}`,onClick:async()=>{l(Ye),await ce()},disabled:!W||N.length===0,children:Ye},Ye)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const je=Math.min(we,X+1);l(je),await ce()},disabled:X===we||we===0||!W||N.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Zne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});P.useEffect(()=>{(async()=>{try{const[Ie,pe]=await Promise.all([$a.getAllCompanies(),zp.getAllRoles()]);h(Ie),A(pe)}catch(Ie){console.error("Error loading master data:",Ie)}})()},[]);const z=n.companyId?d.filter(Le=>Le.companyId===n.companyId):d,R=()=>{var Le;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.roleId||n.status&&n.status!=="All"||n.employmentType&&n.employmentType!=="All"||(Le=n.searchText)!=null&&Le.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view users.";const Le=[];if(n.createdFromDate&&n.createdToDate){const Ie=new Date(n.createdFromDate),pe=new Date(n.createdToDate),ke=Ie.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ye=pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Le.push(`${ke} - ${Ye}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Ie=new Date(n.createdFromDate);Le.push(`From ${Ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Ie=new Date(n.createdToDate);Le.push(`To ${Ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Ie=o.find(pe=>pe.id===n.companyId);Le.push(Ie?Ie.companyName:"Selected Company")}else Le.push("All Companies");if(n.roleId){const Ie=z.find(pe=>pe.roleId===n.roleId);Le.push(Ie?Ie.roleName:"Selected Role")}else Le.push("All Roles");return n.status&&n.status!=="All"?Le.push(n.status):Le.push("All Status"),`Showing users for: ${Le.join("  ")}`},Ae=(Le,Ie)=>{s(pe=>({...pe,[Le]:Ie}))},Oe=()=>{a(Le=>({...Le,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",roleId:i.roleId||"",status:i.status||"All",employmentType:i.employmentType||"All",page:1}))},be=()=>{const Le={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Le),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},Te=(Le,Ie)=>{a(pe=>({...pe,page:Le,...Ie!==void 0&&{pageSize:Ie}}))},Y=Le=>{a(Ie=>({...Ie,searchText:Le,page:1}))},Ne=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],ce=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],ae=async()=>{var Le;b(!0),C(null);try{let Ie=[];if(n.companyId)Ie=await zl.getUsersByCompany(n.companyId);else{const Ft=o.length>0?o:await $a.getAllCompanies();for(const Bt of Ft)try{const Vt=await zl.getUsersByCompany(Bt.id);Ie.push(...Vt)}catch(Vt){console.warn(`Failed to load users for company ${Bt.companyName}:`,Vt)}}let pe=Ie;if(n.createdFromDate){const Ft=new Date(n.createdFromDate);pe=pe.filter(Bt=>new Date(Bt.createdOn)>=Ft)}if(n.createdToDate){const Ft=new Date(n.createdToDate);Ft.setHours(23,59,59,999),pe=pe.filter(Bt=>new Date(Bt.createdOn)<=Ft)}if(n.roleId&&(pe=pe.filter(Ft=>Ft.userRoleId===n.roleId)),n.status&&n.status!=="All"&&(pe=pe.filter(Ft=>Ft.status===n.status)),n.employmentType&&n.employmentType!=="All"&&(pe=pe.filter(Ft=>Ft.employmentType===n.employmentType)),(Le=n.searchText)!=null&&Le.trim()){const Ft=n.searchText.toLowerCase().trim();pe=pe.filter(Bt=>{const Vt=(Bt.userName||"").toLowerCase(),Ir=(Bt.employeeCode||"").toLowerCase(),Sr=(Bt.emailAddress||"").toLowerCase(),He=(Bt.mobileNumber||"").toLowerCase();return Vt.includes(Ft)||Ir.includes(Ft)||Sr.includes(Ft)||He.includes(Ft)})}pe.sort((Ft,Bt)=>{const Vt=Ft[n.sortBy]||"",Ir=Bt[n.sortBy]||"";return n.sortOrder==="ASC"?Vt>Ir?1:-1:Vt<Ir?1:-1});const ke=(k-1)*W,Ye=ke+W,wt=pe.slice(ke,Ye);g(pe),x(wt),N(!0),le({totalUsers:pe.length,activeUsers:pe.filter(Ft=>Ft.status==="Active").length,inactiveUsers:pe.filter(Ft=>Ft.status==="Inactive").length})}catch(Ie){console.error("Error loading users:",Ie),C(Ie.message||"Failed to load users"),g([]),x([])}finally{b(!1)}};P.useEffect(()=>{if(o.length>0){const Le=setTimeout(()=>{ae()},500);return()=>clearTimeout(Le)}},[n,o]);const Ce=async()=>{Oe(),l(!1),await ae()},Ee=async()=>{be(),l(!1),await ae()},we=Le=>Le?new Date(Le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",me=Le=>{switch(Le){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},se=w&&O.totalUsers>0?Math.ceil(O.totalUsers/W):0,J=(k-1)*W,je=Math.min(J+m.length,O.totalUsers),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"User Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"User Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:u,onChange:Le=>Y(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&!y&&(Le.preventDefault(),ae())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Y(""),ae()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||(Ae("companyId",n.companyId||""),Ae("roleId",n.roleId||""),Ae("status",n.status||"All"),Ae("employmentType",n.employmentType||"All"),Ae("createdFromDate",n.createdFromDate||""),Ae("createdToDate",n.createdToDate||"")),te.current){const Le=te.current.getBoundingClientRect();X({top:Le.bottom+8,left:Le.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.roleId,i.status&&i.status!=="All"?i.status:"",i.employmentType&&i.employmentType!=="All"?i.employmentType:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Le=>Le.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{Ae("companyId",""),Ae("roleId",""),Ae("createdFromDate",""),Ae("createdToDate",""),Ae("status","All"),Ae("employmentType","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Le=>Ae("createdFromDate",Le.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Le=>Ae("createdToDate",Le.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Le=>{Ae("companyId",Le.target.value),Ae("roleId","")},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Le=>t.jsxs("option",{value:Le.id,children:[Le.companyCode," - ",Le.companyName]},Le.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Role"}),t.jsxs("select",{className:"filter-modal-select",value:i.roleId||"",onChange:Le=>Ae("roleId",Le.target.value),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select Role"}),(i.companyId?d.filter(Le=>Le.companyId===i.companyId):d).map(Le=>t.jsx("option",{value:Le.roleId,children:Le.roleName},Le.roleId))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Le=>Ae("status",Le.target.value),children:Ne.map(Le=>t.jsx("option",{value:Le.value,children:Le.label},Le.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),t.jsx("select",{className:"filter-modal-select",value:i.employmentType||"All",onChange:Le=>Ae("employmentType",Le.target.value),children:ce.map(Le=>t.jsx("option",{value:Le.value,children:Le.label},Le.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:Ce,disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Employee Code"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Mobile"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Role"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Employment Type"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Le,Ie)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Ie}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No users match "${u.trim()}". Try adjusting your search or filters.`:R()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ee,children:"Clear Filters"})})]})})}):m.map((Le,Ie)=>{const pe=d.find(Ye=>Ye.roleId===Le.userRoleId),ke=o.find(Ye=>Ye.id===Le.companyId);return t.jsxs("tr",{className:Ie%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Le.userName}),t.jsx("td",{children:Le.employeeCode||"N/A"}),t.jsx("td",{children:Le.emailAddress||"N/A"}),t.jsx("td",{children:Le.mobileNumber}),t.jsx("td",{children:(ke==null?void 0:ke.companyName)||"N/A"}),t.jsx("td",{children:(pe==null?void 0:pe.roleName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me(Le.status),children:Le.status})}),t.jsx("td",{children:Le.employmentType||"N/A"}),t.jsx("td",{children:we(Le.createdOn)})]},Le.userId)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No users found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${je} of ${O.totalUsers} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async Le=>{Te(1,Number(Le.target.value)),await ae()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.max(1,k-1);Te(Le),await ae()},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Le=[];let pe=Math.max(1,k-Math.floor(2.5)),ke=Math.min(se,pe+5-1);ke-pe<4&&(pe=Math.max(1,ke-5+1)),pe>1&&(Le.push(1),pe>2&&Le.push("..."));for(let Ye=pe;Ye<=ke;Ye++)Le.push(Ye);return ke<se&&(ke<se-1&&Le.push("..."),Le.push(se)),Le.map((Ye,wt)=>{if(Ye==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${wt}`);const Ft=Ye;return t.jsx("button",{className:`pagination-page-btn ${k===Ft?"active":""}`,onClick:async()=>{Te(Ft),await ae()},disabled:!w||m.length===0,children:Ft},Ft)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.min(se,k+1);Te(Le),await ae()},disabled:k===se||se===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Jne=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});P.useEffect(()=>{(async()=>{try{const pe=await $a.getAllCompanies();h(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const O=()=>{var Ie;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ie=n.searchText)!=null&&Ie.trim())},le=()=>{if(!O())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ie=[];if(n.createdFromDate&&n.createdToDate){const pe=new Date(n.createdFromDate),ke=new Date(n.createdToDate),Ye=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),wt=ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ie.push(`${Ye} - ${wt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const pe=new Date(n.createdFromDate);Ie.push(`From ${pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const pe=new Date(n.createdToDate);Ie.push(`To ${pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const pe=o.find(ke=>ke.id===n.companyId);Ie.push(pe?pe.companyName:"Selected Company")}else Ie.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ie.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ie.push(n.status):Ie.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ie.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ie.join("  ")}`},z=(Ie,pe)=>{s(ke=>({...ke,[Ie]:pe}))},R=()=>{a(Ie=>({...Ie,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},ie=()=>{const Ie={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ie),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},Ae=(Ie,pe)=>{a(ke=>({...ke,page:Ie,...pe!==void 0&&{pageSize:pe}}))},Oe=Ie=>{a(pe=>({...pe,searchText:Ie,page:1}))},be=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Te=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Y=()=>{const Ie=new Set;return d.forEach(pe=>{pe.vehMake&&Ie.add(pe.vehMake)}),Array.from(Ie).sort()},Ne=Ie=>{const pe=new Date;pe.setHours(0,0,0,0);const ke=[Ie.nextFCDate?new Date(Ie.nextFCDate):null,Ie.pucDateValidUpto?new Date(Ie.pucDateValidUpto):null,Ie.insuranceValidUpto?new Date(Ie.insuranceValidUpto):null].filter(Boolean);if(ke.length===0)return"Compliant";if(ke.filter(Bt=>Bt<pe).length>0)return"Expired";const wt=new Date(pe);return wt.setDate(wt.getDate()+30),ke.filter(Bt=>Bt<=wt&&Bt>=pe).length>0?"Expiring Soon":"Compliant"},ce=async()=>{var Ie;x(!0),N(null);try{let pe=[];if(n.companyId)pe=await Ih.getAllFleets(n.companyId);else{const Bt=o.length>0?o:await $a.getAllCompanies();for(const Vt of Bt)try{const Ir=await Ih.getAllFleets(Vt.id);pe.push(...Ir)}catch(Ir){console.warn(`Failed to load fleets for company ${Vt.companyName}:`,Ir)}}let ke=pe;if(n.createdFromDate){const Bt=new Date(n.createdFromDate);ke=ke.filter(Vt=>new Date(Vt.createdOn)>=Bt)}if(n.createdToDate){const Bt=new Date(n.createdToDate);Bt.setHours(23,59,59,999),ke=ke.filter(Vt=>new Date(Vt.createdOn)<=Bt)}if(n.companyId&&(ke=ke.filter(Bt=>Bt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(ke=ke.filter(Bt=>Bt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(ke=ke.filter(Bt=>Bt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(ke=ke.filter(Bt=>Ne(Bt)===n.complianceStatus)),(Ie=n.searchText)!=null&&Ie.trim()){const Bt=n.searchText.toLowerCase().trim();ke=ke.filter(Vt=>{const Ir=(Vt.vehicleNum||"").toLowerCase(),Sr=(Vt.vehMake||"").toLowerCase(),He=(Vt.vehModel||"").toLowerCase(),Zt=(Vt.ownerName||"").toLowerCase(),Nt=(Vt.ownerContact||"").toLowerCase(),Vr=(Vt.capacity||"").toLowerCase();return Ir.includes(Bt)||Sr.includes(Bt)||He.includes(Bt)||Zt.includes(Bt)||Nt.includes(Bt)||Vr.includes(Bt)})}ke.sort((Bt,Vt)=>{const Ir=Bt[n.sortBy]||"",Sr=Vt[n.sortBy]||"";return n.sortOrder==="ASC"?Ir>Sr?1:-1:Ir<Sr?1:-1});const Ye=(S-1)*C,wt=Ye+C,Ft=ke.slice(Ye,wt);A(ke),g(Ft),b(!0),X({totalFleets:ke.length,activeFleets:ke.filter(Bt=>Bt.status==="Active").length,inactiveFleets:ke.filter(Bt=>Bt.status==="Inactive").length})}catch(pe){console.error("Error loading fleets:",pe),N(pe.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};P.useEffect(()=>{if(o.length>0){const Ie=setTimeout(()=>{ce()},500);return()=>clearTimeout(Ie)}},[n,o]);const ae=async()=>{R(),l(!1),await ce()},Ce=async()=>{ie(),l(!1),await ce()},Ee=Ie=>Ie?new Date(Ie).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",we=Ie=>{switch(Ie){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},me=Ie=>{switch(Ie){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},se=y&&K.totalFleets>0?Math.ceil(K.totalFleets/C):0,J=(S-1)*C,je=Math.min(J+f.length,K.totalFleets),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Le=Y();return t.jsx(jc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ie=>Oe(Ie.target.value),onKeyDown:Ie=>{Ie.key==="Enter"&&!m&&(Ie.preventDefault(),ce())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Oe(""),ce()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||(z("companyId",n.companyId||""),z("vehMake",n.vehMake||""),z("status",n.status||"All"),z("complianceStatus",n.complianceStatus||"All"),z("createdFromDate",n.createdFromDate||""),z("createdToDate",n.createdToDate||"")),W.current){const Ie=W.current.getBoundingClientRect();te({top:Ie.bottom+8,left:Ie.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ie=>Ie.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{z("companyId",""),z("vehMake",""),z("createdFromDate",""),z("createdToDate",""),z("status","All"),z("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ie=>z("createdFromDate",Ie.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ie=>z("createdToDate",Ie.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ie=>z("companyId",Ie.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ie=>t.jsxs("option",{value:Ie.id,children:[Ie.companyCode," - ",Ie.companyName]},Ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ie=>z("vehMake",Ie.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Le.map(Ie=>t.jsx("option",{value:Ie,children:Ie},Ie))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ie=>z("status",Ie.target.value),children:be.map(Ie=>t.jsx("option",{value:Ie.value,children:Ie.label},Ie.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ie=>z("complianceStatus",Ie.target.value),children:Te.map(Ie=>t.jsx("option",{value:Ie.value,children:Ie.label},Ie.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ae,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ie,pe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${pe}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:O()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ce,children:"Clear Filters"})})]})})}):f.map((Ie,pe)=>{const ke=o.find(wt=>wt.id===Ie.companyId),Ye=Ne(Ie);return t.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ie.vehicleNum}),t.jsx("td",{children:(ke==null?void 0:ke.companyName)||"N/A"}),t.jsx("td",{children:Ie.vehMake||"N/A"}),t.jsx("td",{children:Ie.vehModel||"N/A"}),t.jsx("td",{children:Ie.capacity||"N/A"}),t.jsx("td",{children:Ie.ownerName||"N/A"}),t.jsx("td",{children:Ie.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:we(Ie.status),children:Ie.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me(Ye),children:Ye})}),t.jsx("td",{children:Ee(Ie.createdOn)})]},Ie.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${je} of ${K.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async Ie=>{Ae(1,Number(Ie.target.value)),await ce()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ie=Math.max(1,S-1);Ae(Ie),await ce()},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ie=[];let ke=Math.max(1,S-Math.floor(2.5)),Ye=Math.min(se,ke+5-1);Ye-ke<4&&(ke=Math.max(1,Ye-5+1)),ke>1&&(Ie.push(1),ke>2&&Ie.push("..."));for(let wt=ke;wt<=Ye;wt++)Ie.push(wt);return Ye<se&&(Ye<se-1&&Ie.push("..."),Ie.push(se)),Ie.map((wt,Ft)=>{if(wt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ft}`);const Bt=wt;return t.jsx("button",{className:`pagination-page-btn ${S===Bt?"active":""}`,onClick:async()=>{Ae(Bt),await ce()},disabled:!y||f.length===0,children:Bt},Bt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ie=Math.min(se,S+1);Ae(Ie),await ce()},disabled:S===se||se===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},c_=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});P.useEffect(()=>{(async()=>{try{const[me,se]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(me),A(se)}catch(me){console.error("Error loading master data:",me)}})()},[]);const z=n.companyId?d.filter(we=>we.companyId===n.companyId):d,R=()=>{var we;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(we=n.searchText)!=null&&we.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view revenue analysis.";const we=[];if(n.fromDate&&n.toDate){const me=new Date(n.fromDate),se=new Date(n.toDate),J=me.toLocaleDateString("en-US",{month:"short",day:"numeric"}),je=se.toLocaleDateString("en-US",{month:"short",day:"numeric"});we.push(`Date: ${J}${je}`)}if(n.companyId){const me=o.find(se=>se.id===n.companyId);me&&we.push(`Company: ${me.companyName}`)}if(n.hcfId){const me=z.find(se=>se.id===n.hcfId);me&&we.push(`HCF: ${me.hcfCode}`)}return n.groupBy&&we.push(`Group By: ${n.groupBy}`),we.join("  ")},Ae=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],Oe=async()=>{var we;b(!0),C(null);try{const me={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let J=((await X0(me)).data||[]).map(Ie=>({invoiceId:Ie.invoiceId,companyId:Ie.companyId,hcfId:Ie.hcfId,invoiceNumber:Ie.invoiceNumber,invoiceDate:Ie.invoiceDate,dueDate:Ie.dueDate,billingType:Ie.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Ie.invoiceValue,totalPaidAmount:Ie.totalPaidAmount,balanceAmount:Ie.balanceAmount,status:Ie.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Ie.companyName,companyCode:Ie.companyCode,hcfName:Ie.hcfName,hcfCode:Ie.hcfCode}));if((we=n.searchText)!=null&&we.trim()){const Ie=n.searchText.toLowerCase().trim();J=J.filter(pe=>{const ke=(pe.invoiceNumber||"").toLowerCase(),Ye=(pe.companyName||"").toLowerCase(),wt=(pe.hcfCode||"").toLowerCase();return ke.includes(Ie)||Ye.includes(Ie)||wt.includes(Ie)||pe.invoiceValue.toString().includes(Ie)})}J.sort((Ie,pe)=>{const ke=Ie[n.sortBy]||"",Ye=pe[n.sortBy]||"";return n.sortOrder==="ASC"?ke>Ye?1:-1:ke<Ye?1:-1});const je=(k-1)*W,Pe=je+W,Le=J.slice(je,Pe);g(J),x(Le),N(!0),le({totalRevenue:J.reduce((Ie,pe)=>Ie+(pe.invoiceValue||0),0),totalInvoices:J.length,paidAmount:J.reduce((Ie,pe)=>Ie+(pe.totalPaidAmount||0),0)})}catch(me){console.error("Error loading revenue data:",me),C(me.message||"Failed to load revenue analysis data"),g([]),x([])}finally{b(!1)}},be=async()=>{a(we=>({...we,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",groupBy:i.groupBy||"Company",page:1})),l(!1),await Oe()},Te=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),l(!1),await Oe()};P.useEffect(()=>{if(o.length>0||!n.companyId){const we=setTimeout(()=>{Oe()},500);return()=>clearTimeout(we)}},[n,o]);const Y=we=>we==null?"0.00":`${we.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ne=we=>we?new Date(we).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=w&&O.totalInvoices>0?Math.ceil(O.totalInvoices/W):0,ae=(k-1)*W,Ce=Math.min(ae+m.length,O.totalInvoices),Ee=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Ee,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:we=>a(me=>({...me,searchText:we.target.value,page:1})),onKeyDown:we=>{we.key==="Enter"&&!y&&(we.preventDefault(),Oe())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(we=>({...we,searchText:"",page:1})),(w||R())&&await Oe()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),te.current){const we=te.current.getBoundingClientRect();X({top:we.bottom+8,left:we.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:we=>we.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Date Range"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:we=>s(me=>({...me,fromDate:we.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:we=>s(me=>({...me,toDate:we.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:we=>{s(me=>({...me,companyId:we.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(we=>t.jsxs("option",{value:we.id,children:[we.companyCode," - ",we.companyName]},we.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:we=>s(me=>({...me,hcfId:we.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(we=>we.companyId===i.companyId):d).map(we=>t.jsxs("option",{value:we.id,children:[we.hcfCode," - ",we.hcfName]},we.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Group By"}),t.jsx("select",{className:"filter-modal-select",value:i.groupBy||"Company",onChange:we=>s(me=>({...me,groupBy:we.target.value})),children:Ae.map(we=>t.jsx("option",{value:we.value,children:we.label},we.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await be(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Revenue"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((we,me)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${me}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No data match "${u.trim()}". Try adjusting your search or filters.`:R()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Te,children:"Clear Filters"})})]})})}):m.map((we,me)=>t.jsxs("tr",{className:me%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:we.invoiceNumber}),t.jsx("td",{children:we.companyName||"N/A"}),t.jsx("td",{children:we.hcfCode||"N/A"}),t.jsx("td",{children:Ne(we.invoiceDate)}),t.jsx("td",{className:"text-right",children:Y(we.invoiceValue)}),t.jsx("td",{className:"text-right",children:Y(we.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:Y(we.invoiceValue)})]},we.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${ae+1}-${Ce} of ${O.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async we=>{a(me=>({...me,page:1,pageSize:Number(we.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const we=Math.max(1,k-1);a(me=>({...me,page:we}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const we=[];let se=Math.max(1,k-Math.floor(2.5)),J=Math.min(ce,se+5-1);J-se<4&&(se=Math.max(1,J-5+1)),se>1&&(we.push(1),se>2&&we.push("..."));for(let je=se;je<=J;je++)we.push(je);return J<ce&&(J<ce-1&&we.push("..."),we.push(ce)),we.map((je,Pe)=>{if(je==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Pe}`);const Le=je;return t.jsx("button",{className:`pagination-page-btn ${k===Le?"active":""}`,onClick:async()=>{a(Ie=>({...Ie,page:Le}))},disabled:!w||m.length===0,children:Le},Le)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const we=Math.min(ce,k+1);a(me=>({...me,page:we}))},disabled:k===ce||ce===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},u_=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[i,s]=P.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalOutstanding:0,totalInvoices:0});P.useEffect(()=>{(async()=>{try{const[J,je]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(J),A(je)}catch(J){console.error("Error loading master data:",J)}})()},[]);const z=n.companyId?d.filter(se=>se.companyId===n.companyId):d,R=()=>{var se;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(se=n.searchText)!=null&&se.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view outstanding payments.";const se=[];if(n.fromDate&&n.toDate){const J=new Date(n.fromDate),je=new Date(n.toDate),Pe=J.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Le=je.toLocaleDateString("en-US",{month:"short",day:"numeric"});se.push(`Date: ${Pe}${Le}`)}if(n.companyId){const J=o.find(je=>je.id===n.companyId);J&&se.push(`Company: ${J.companyName}`)}if(n.hcfId){const J=z.find(je=>je.id===n.hcfId);J&&se.push(`HCF: ${J.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&se.push(`Aging: ${n.agingPeriod}`),se.join("  ")},Ae=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],Oe=se=>{const J=new Date(se),Pe=Math.abs(new Date().getTime()-J.getTime());return Math.ceil(Pe/(1e3*60*60*24))},be=async()=>{var se;b(!0),C(null);try{const J={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Pe=((await X0(J)).data||[]).map(ke=>({invoiceId:ke.invoiceId,companyId:ke.companyId,hcfId:ke.hcfId,invoiceNumber:ke.invoiceNumber,invoiceDate:ke.invoiceDate,dueDate:ke.dueDate,billingType:ke.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ke.invoiceValue,totalPaidAmount:ke.totalPaidAmount,balanceAmount:ke.balanceAmount,status:ke.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ke.companyName,companyCode:ke.companyCode,hcfName:ke.hcfName,hcfCode:ke.hcfCode}));if(Pe=Pe.filter(ke=>(ke.balanceAmount||0)>0),(se=n.searchText)!=null&&se.trim()){const ke=n.searchText.toLowerCase().trim();Pe=Pe.filter(Ye=>{const wt=(Ye.invoiceNumber||"").toLowerCase(),Ft=(Ye.companyName||"").toLowerCase(),Bt=(Ye.hcfCode||"").toLowerCase();return wt.includes(ke)||Ft.includes(ke)||Bt.includes(ke)||Ye.balanceAmount.toString().includes(ke)})}n.agingPeriod&&n.agingPeriod!=="All"&&(Pe=Pe.filter(ke=>{const Ye=Oe(ke.invoiceDate);switch(n.agingPeriod){case"0-30":return Ye>=0&&Ye<=30;case"31-60":return Ye>=31&&Ye<=60;case"61-90":return Ye>=61&&Ye<=90;case"90+":return Ye>90;default:return!0}})),Pe.sort((ke,Ye)=>{const wt=ke[n.sortBy]||"",Ft=Ye[n.sortBy]||"";return n.sortOrder==="ASC"?wt>Ft?1:-1:wt<Ft?1:-1});const Le=(k-1)*W,Ie=Le+W,pe=Pe.slice(Le,Ie);g(Pe),x(pe),N(!0),le({totalOutstanding:Pe.reduce((ke,Ye)=>ke+(Ye.balanceAmount||0),0),totalInvoices:Pe.length})}catch(J){console.error("Error loading outstanding data:",J),C(J.message||"Failed to load outstanding payment data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(se=>({...se,fromDate:i.fromDate||"",toDate:i.toDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",agingPeriod:i.agingPeriod||"All",page:1})),l(!1),await be()},Y=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),l(!1),await be()};P.useEffect(()=>{if(o.length>0||!n.companyId){const se=setTimeout(()=>{be()},500);return()=>clearTimeout(se)}},[n,o]);const Ne=se=>se==null?"0.00":`${se.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ce=se=>se?new Date(se).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ae=se=>{switch(se){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Ce=w&&O.totalInvoices>0?Math.ceil(O.totalInvoices/W):0,Ee=(k-1)*W,we=Math.min(Ee+m.length,O.totalInvoices),me=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:me,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:u,onChange:se=>a(J=>({...J,searchText:se.target.value,page:1})),onKeyDown:se=>{se.key==="Enter"&&!y&&(se.preventDefault(),be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(se=>({...se,searchText:"",page:1})),(w||R())&&await be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),te.current){const se=te.current.getBoundingClientRect();X({top:se.bottom+8,left:se.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:se=>se.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.fromDate||"",onChange:se=>s(J=>({...J,fromDate:se.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.toDate||"",onChange:se=>s(J=>({...J,toDate:se.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:se=>{s(J=>({...J,companyId:se.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(se=>t.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:se=>s(J=>({...J,hcfId:se.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(se=>se.companyId===i.companyId):d).map(se=>t.jsxs("option",{value:se.id,children:[se.hcfCode," - ",se.hcfName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),t.jsx("select",{className:"filter-modal-select",value:i.agingPeriod||"All",onChange:se=>s(J=>({...J,agingPeriod:se.target.value})),children:Ae.map(se=>t.jsx("option",{value:se.value,children:se.label},se.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Invoice No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Invoice Date"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{className:"text-right",children:"Invoice Amount"}),t.jsx("th",{className:"text-right",children:"Paid Amount"}),t.jsx("th",{className:"text-right",children:"Outstanding"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((se,J)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${J}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No outstanding payments match "${u.trim()}". Try adjusting your search or filters.`:R()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):m.map((se,J)=>t.jsxs("tr",{className:J%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:se.invoiceNumber}),t.jsx("td",{children:se.companyName||"N/A"}),t.jsx("td",{children:se.hcfCode||"N/A"}),t.jsx("td",{children:ce(se.invoiceDate)}),t.jsx("td",{children:ce(se.dueDate)}),t.jsx("td",{className:"text-right",children:Ne(se.invoiceValue)}),t.jsx("td",{className:"text-right",children:Ne(se.totalPaidAmount)}),t.jsx("td",{className:"text-right",children:Ne(se.balanceAmount)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ae(se.status),children:se.status})})]},se.invoiceId)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:9,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ee+1}-${we} of ${O.totalInvoices} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async se=>{a(J=>({...J,page:1,pageSize:Number(se.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.max(1,k-1);a(J=>({...J,page:se}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const se=[];let je=Math.max(1,k-Math.floor(2.5)),Pe=Math.min(Ce,je+5-1);Pe-je<4&&(je=Math.max(1,Pe-5+1)),je>1&&(se.push(1),je>2&&se.push("..."));for(let Le=je;Le<=Pe;Le++)se.push(Le);return Pe<Ce&&(Pe<Ce-1&&se.push("..."),se.push(Ce)),se.map((Le,Ie)=>{if(Le==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ie}`);const pe=Le;return t.jsx("button",{className:`pagination-page-btn ${k===pe?"active":""}`,onClick:async()=>{a(ke=>({...ke,page:pe}))},disabled:!w||m.length===0,children:pe},pe)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.min(Ce,k+1);a(J=>({...J,page:se}))},disabled:k===Ce||Ce===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},eae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalContracts:0,expiringSoon:0});P.useEffect(()=>{(async()=>{try{const[J,je]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(J),A(je)}catch(J){console.error("Error loading master data:",J)}})()},[]);const z=n.companyId?d.filter(se=>se.companyId===n.companyId):d,R=()=>{var se;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(se=n.searchText)!=null&&se.trim())},ie=()=>{if(!R())return"No filters applied. View contracts that are due for renewal.";const se=[];if(n.companyId){const J=o.find(je=>je.id===n.companyId);J&&se.push(`Company: ${J.companyName}`)}if(n.hcfId){const J=z.find(je=>je.id===n.hcfId);J&&se.push(`HCF: ${J.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&se.push(`Expiring: ${n.daysToExpiry}`),se.join("  ")},Ae=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],Oe=se=>{const J=new Date(se),je=new Date,Pe=J.getTime()-je.getTime();return Math.ceil(Pe/(1e3*60*60*24))},be=async()=>{var se;b(!0),C(null);try{const J={companyId:n.companyId||void 0,status:"Active"};let je=await of.getAllContracts(J.companyId,J.status);if(n.hcfId&&(je=je.filter(ke=>ke.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(je=je.filter(ke=>{const Ye=Oe(ke.endDate);switch(n.daysToExpiry){case"0-30":return Ye>=0&&Ye<=30;case"31-60":return Ye>=31&&Ye<=60;case"61-90":return Ye>=61&&Ye<=90;case"90+":return Ye>90;default:return!0}})),(se=n.searchText)!=null&&se.trim()){const ke=n.searchText.toLowerCase().trim();je=je.filter(Ye=>{const wt=(Ye.contractNum||"").toLowerCase(),Ft=o.find(Sr=>Sr.id===Ye.companyId),Bt=((Ft==null?void 0:Ft.companyName)||"").toLowerCase(),Vt=d.find(Sr=>Sr.id===Ye.hcfId),Ir=((Vt==null?void 0:Vt.hcfCode)||"").toLowerCase();return wt.includes(ke)||Bt.includes(ke)||Ir.includes(ke)})}je.sort((ke,Ye)=>{const wt=ke[n.sortBy]||"",Ft=Ye[n.sortBy]||"";return n.sortOrder==="ASC"?wt>Ft?1:-1:wt<Ft?1:-1});const Pe=(k-1)*W,Le=Pe+W,Ie=je.slice(Pe,Le);g(je),x(Ie),N(!0);const pe=je.filter(ke=>{const Ye=Oe(ke.endDate);return Ye>=0&&Ye<=90}).length;le({totalContracts:je.length,expiringSoon:pe})}catch(J){console.error("Error loading contracts:",J),C(J.message||"Failed to load contract renewal data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(se=>({...se,companyId:i.companyId||"",hcfId:i.hcfId||"",daysToExpiry:i.daysToExpiry||"All",page:1})),l(!1),await be()},Y=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),s({companyId:"",hcfId:"",daysToExpiry:"All"}),l(!1),await be()};P.useEffect(()=>{if(o.length>0||!n.companyId){const se=setTimeout(()=>{be()},500);return()=>clearTimeout(se)}},[n,o]);const Ne=se=>se?new Date(se).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=se=>{switch(se){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ae=se=>se<0?"status-badge status-badge--cancelled":se<=30?"status-badge status-badge--due":se<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",Ce=w&&O.totalContracts>0?Math.ceil(O.totalContracts/W):0,Ee=(k-1)*W,we=Math.min(Ee+m.length,O.totalContracts),me=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:me,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:u,onChange:se=>a(J=>({...J,searchText:se.target.value,page:1})),onKeyDown:se=>{se.key==="Enter"&&!y&&(se.preventDefault(),be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(se=>({...se,searchText:"",page:1})),(w||R())&&await be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),te.current){const se=te.current.getBoundingClientRect();X({top:se.bottom+8,left:se.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:se=>se.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:se=>{s(J=>({...J,companyId:se.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(se=>t.jsxs("option",{value:se.id,children:[se.companyCode," - ",se.companyName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:se=>s(J=>({...J,hcfId:se.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(se=>se.companyId===i.companyId):d).map(se=>t.jsxs("option",{value:se.id,children:[se.hcfCode," - ",se.hcfName]},se.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),t.jsx("select",{className:"filter-modal-select",value:i.daysToExpiry||"All",onChange:se=>s(J=>({...J,daysToExpiry:se.target.value})),children:Ae.map(se=>t.jsx("option",{value:se.value,children:se.label},se.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Contract No"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Days to Expiry"}),t.jsx("th",{children:"Billing Type"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((se,J)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${J}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No contracts match "${u.trim()}". Try adjusting your search or filters.`:R()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):m.map((se,J)=>{var Pe,Le;const je=Oe(se.endDate);return t.jsxs("tr",{className:J%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:se.contractNum}),t.jsx("td",{children:((Pe=o.find(Ie=>Ie.id===se.companyId))==null?void 0:Pe.companyName)||"N/A"}),t.jsx("td",{children:((Le=d.find(Ie=>Ie.id===se.hcfId))==null?void 0:Le.hcfCode)||"N/A"}),t.jsx("td",{children:Ne(se.startDate)}),t.jsx("td",{children:Ne(se.endDate)}),t.jsx("td",{children:t.jsx("span",{className:ae(je),children:je<0?"Expired":`${je} days`})}),t.jsx("td",{children:se.billingType}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(se.status),children:se.status})})]},se.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:8,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ee+1}-${we} of ${O.totalContracts} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async se=>{a(J=>({...J,page:1,pageSize:Number(se.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.max(1,k-1);a(J=>({...J,page:se}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const se=[];let je=Math.max(1,k-Math.floor(2.5)),Pe=Math.min(Ce,je+5-1);Pe-je<4&&(je=Math.max(1,Pe-5+1)),je>1&&(se.push(1),je>2&&se.push("..."));for(let Le=je;Le<=Pe;Le++)se.push(Le);return Pe<Ce&&(Pe<Ce-1&&se.push("..."),se.push(Ce)),se.map((Le,Ie)=>{if(Le==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ie}`);const pe=Le;return t.jsx("button",{className:`pagination-page-btn ${k===pe?"active":""}`,onClick:async()=>{a(ke=>({...ke,page:pe}))},disabled:!w||m.length===0,children:pe},pe)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const se=Math.min(Ce,k+1);a(J=>({...J,page:se}))},disabled:k===Ce||Ce===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},tae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[i,s]=P.useState({companyId:"",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalRoutes:0});P.useEffect(()=>{(async()=>{try{const ae=await $a.getAllCompanies();h(ae)}catch(ae){console.error("Error loading master data:",ae)}})()},[]);const O=()=>{var ce;return!!(n.companyId||n.status&&n.status!=="All"||(ce=n.searchText)!=null&&ce.trim())},le=()=>{if(!O())return"No filters applied. View all routes.";const ce=[];if(n.companyId){const ae=o.find(Ce=>Ce.id===n.companyId);ae&&ce.push(`Company: ${ae.companyName}`)}return n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},z=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],R=async()=>{var ce;x(!0),N(null);try{let ae=await rf.getAllRoutes(!0);if(n.companyId&&(ae=ae.filter(me=>me.companyId===n.companyId)),n.status&&n.status!=="All"&&(ae=ae.filter(me=>me.status===n.status)),(ce=n.searchText)!=null&&ce.trim()){const me=n.searchText.toLowerCase().trim();ae=ae.filter(se=>{const J=(se.routeCode||"").toLowerCase(),je=(se.routeName||"").toLowerCase(),Pe=o.find(Ie=>Ie.id===se.companyId),Le=((Pe==null?void 0:Pe.companyName)||"").toLowerCase();return J.includes(me)||je.includes(me)||Le.includes(me)})}ae.sort((me,se)=>{const J=me[n.sortBy]||"",je=se[n.sortBy]||"";return n.sortOrder==="ASC"?J>je?1:-1:J<je?1:-1});const Ce=(S-1)*C,Ee=Ce+C,we=ae.slice(Ce,Ee);A(ae),g(we),b(!0),X({totalRoutes:ae.length})}catch(ae){console.error("Error loading routes:",ae),N(ae.message||"Failed to load route data"),A([]),g([])}finally{x(!1)}},ie=async()=>{a(ce=>({...ce,companyId:i.companyId||"",status:i.status||"All",page:1})),l(!1),await R()},Ae=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),s({companyId:"",status:"All"}),l(!1),await R()};P.useEffect(()=>{if(o.length>0||!n.companyId){const ce=setTimeout(()=>{R()},500);return()=>clearTimeout(ce)}},[n,o]);const Oe=ce=>{switch(ce){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},be=y&&K.totalRoutes>0?Math.ceil(K.totalRoutes/C):0,Te=(S-1)*C,Y=Math.min(Te+f.length,K.totalRoutes),Ne=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Ne,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Route Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:u,onChange:ce=>a(ae=>({...ae,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!m&&(ce.preventDefault(),R())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(y||O())&&await R()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||s({companyId:n.companyId||"",status:n.status||"All"}),W.current){const ce=W.current.getBoundingClientRect();te({top:ce.bottom+8,left:ce.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:ce=>s(ae=>({...ae,companyId:ce.target.value})),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(ce=>t.jsxs("option",{value:ce.id,children:[ce.companyCode," - ",ce.companyName]},ce.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:ce=>s(ae=>({...ae,status:ce.target.value})),children:z.map(ce=>t.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),l(!1)},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Route Code"}),t.jsx("th",{children:"Route Name"}),t.jsx("th",{children:"Company"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ce,ae)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ae}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No routes match "${u.trim()}". Try adjusting your search or filters.`:O()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ae,children:"Clear Filters"})})]})})}):f.map((ce,ae)=>{var Ce;return t.jsxs("tr",{className:ae%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:ce.routeCode}),t.jsx("td",{children:ce.routeName}),t.jsx("td",{children:((Ce=o.find(Ee=>Ee.id===ce.companyId))==null?void 0:Ce.companyName)||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Oe(ce.status),children:ce.status})})]},ce.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No routes found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${Te+1}-${Y} of ${K.totalRoutes} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async ce=>{a(ae=>({...ae,page:1,pageSize:Number(ce.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,S-1);a(ae=>({...ae,page:ce}))},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let Ce=Math.max(1,S-Math.floor(2.5)),Ee=Math.min(be,Ce+5-1);Ee-Ce<4&&(Ce=Math.max(1,Ee-5+1)),Ce>1&&(ce.push(1),Ce>2&&ce.push("..."));for(let we=Ce;we<=Ee;we++)ce.push(we);return Ee<be&&(Ee<be-1&&ce.push("..."),ce.push(be)),ce.map((we,me)=>{if(we==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${me}`);const se=we;return t.jsx("button",{className:`pagination-page-btn ${S===se?"active":""}`,onClick:async()=>{a(J=>({...J,page:se}))},disabled:!y||f.length===0,children:se},se)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(be,S+1);a(ae=>({...ae,page:ce}))},disabled:S===be||be===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},rae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[i,s]=P.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalCollections:0,totalWeight:0});P.useEffect(()=>{(async()=>{try{const[je,Pe]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(je),A(Pe)}catch(je){console.error("Error loading master data:",je)}})()},[]);const z=n.companyId?d.filter(J=>J.companyId===n.companyId):d,R=()=>{var J;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(J=n.searchText)!=null&&J.trim())},ie=()=>{if(!R())return"No filters applied. Select a date range or search to view waste collection data.";const J=[];if(n.collectionFromDate&&n.collectionToDate){const je=new Date(n.collectionFromDate),Pe=new Date(n.collectionToDate),Le=je.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ie=Pe.toLocaleDateString("en-US",{month:"short",day:"numeric"});J.push(`Date: ${Le}${Ie}`)}if(n.companyId){const je=o.find(Pe=>Pe.id===n.companyId);je&&J.push(`Company: ${je.companyName}`)}if(n.hcfId){const je=z.find(Pe=>Pe.id===n.hcfId);je&&J.push(`HCF: ${je.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&J.push(`Color: ${n.wasteColor}`),J.join("  ")},Ae=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],Oe=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],be=async()=>{var J;b(!0),C(null);try{let je=[];if(n.companyId)try{je=await dA.getAllCollections(),je=je.filter(pe=>pe.companyId===n.companyId)}catch(pe){console.warn("Error loading collections:",pe),je=[]}else try{je=await dA.getAllCollections()}catch(pe){console.warn("Error loading collections:",pe),je=[]}if(n.collectionFromDate){const pe=new Date(n.collectionFromDate);je=je.filter(ke=>new Date(ke.collectionDate)>=pe)}if(n.collectionToDate){const pe=new Date(n.collectionToDate);pe.setHours(23,59,59,999),je=je.filter(ke=>new Date(ke.collectionDate)<=pe)}if(n.hcfId&&(je=je.filter(pe=>pe.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(je=je.filter(pe=>pe.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(je=je.filter(pe=>pe.status===n.status)),(J=n.searchText)!=null&&J.trim()){const pe=n.searchText.toLowerCase().trim();je=je.filter(ke=>{const Ye=(ke.barcode||"").toLowerCase(),wt=o.find(Ir=>Ir.id===ke.companyId),Ft=((wt==null?void 0:wt.companyName)||"").toLowerCase(),Bt=d.find(Ir=>Ir.id===ke.hcfId),Vt=((Bt==null?void 0:Bt.hcfCode)||"").toLowerCase();return Ye.includes(pe)||Ft.includes(pe)||Vt.includes(pe)||ke.weightKg&&ke.weightKg.toString().includes(pe)})}je.sort((pe,ke)=>{const Ye=pe[n.sortBy]||"",wt=ke[n.sortBy]||"";return n.sortOrder==="ASC"?Ye>wt?1:-1:Ye<wt?1:-1});const Pe=(k-1)*W,Le=Pe+W,Ie=je.slice(Pe,Le);g(je),x(Ie),N(!0),le({totalCollections:je.length,totalWeight:je.reduce((pe,ke)=>pe+(ke.weightKg||0),0)})}catch(je){console.error("Error loading waste collections:",je),C(je.message||"Failed to load waste collection data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(J=>({...J,collectionFromDate:i.collectionFromDate||"",collectionToDate:i.collectionToDate||"",companyId:i.companyId||"",hcfId:i.hcfId||"",wasteColor:i.wasteColor||"All",status:i.status||"All",page:1})),l(!1),await be()},Y=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),l(!1),await be()};P.useEffect(()=>{if(o.length>0||!n.companyId){const J=setTimeout(()=>{be()},500);return()=>clearTimeout(J)}},[n,o]);const Ne=J=>J?new Date(J).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=J=>J==null?"N/A":`${J.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,ae=J=>{switch(J){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},Ce=J=>{switch(J){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},Ee=w&&O.totalCollections>0?Math.ceil(O.totalCollections/W):0,we=(k-1)*W,me=Math.min(we+m.length,O.totalCollections),se=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:se,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:u,onChange:J=>a(je=>({...je,searchText:J.target.value,page:1})),onKeyDown:J=>{J.key==="Enter"&&!y&&(J.preventDefault(),be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(J=>({...J,searchText:"",page:1})),(w||R())&&await be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),te.current){const J=te.current.getBoundingClientRect();X({top:J.bottom+8,left:J.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:J=>J.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionFromDate||"",onChange:J=>s(je=>({...je,collectionFromDate:J.target.value})),placeholder:"From Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.collectionToDate||"",onChange:J=>s(je=>({...je,collectionToDate:J.target.value})),placeholder:"To Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:J=>{s(je=>({...je,companyId:J.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(J=>t.jsxs("option",{value:J.id,children:[J.companyCode," - ",J.companyName]},J.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:J=>s(je=>({...je,hcfId:J.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(J=>J.companyId===i.companyId):d).map(J=>t.jsxs("option",{value:J.id,children:[J.hcfCode," - ",J.hcfName]},J.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),t.jsx("select",{className:"filter-modal-select",value:i.wasteColor||"All",onChange:J=>s(je=>({...je,wasteColor:J.target.value})),children:Ae.map(J=>t.jsx("option",{value:J.value,children:J.label},J.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:J=>s(je=>({...je,status:J.target.value})),children:Oe.map(J=>t.jsx("option",{value:J.value,children:J.label},J.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Barcode"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Collection Date"}),t.jsx("th",{children:"Waste Color"}),t.jsx("th",{className:"text-right",children:"Weight (kg)"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((J,je)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{className:"text-right",children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${je}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No collections match "${u.trim()}". Try adjusting your search or filters.`:R()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):m.map((J,je)=>{var Pe,Le;return t.jsxs("tr",{className:je%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:J.barcode}),t.jsx("td",{children:((Pe=o.find(Ie=>Ie.id===J.companyId))==null?void 0:Pe.companyName)||"N/A"}),t.jsx("td",{children:((Le=d.find(Ie=>Ie.id===J.hcfId))==null?void 0:Le.hcfCode)||"N/A"}),t.jsx("td",{children:Ne(J.collectionDate)}),t.jsx("td",{children:t.jsx("span",{className:Ce(J.wasteColor),children:J.wasteColor})}),t.jsx("td",{className:"text-right",children:ce(J.weightKg)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ae(J.status),children:J.status})})]},J.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:7,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${we+1}-${me} of ${O.totalCollections} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async J=>{a(je=>({...je,page:1,pageSize:Number(J.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const J=Math.max(1,k-1);a(je=>({...je,page:J}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const J=[];let Pe=Math.max(1,k-Math.floor(2.5)),Le=Math.min(Ee,Pe+5-1);Le-Pe<4&&(Pe=Math.max(1,Le-5+1)),Pe>1&&(J.push(1),Pe>2&&J.push("..."));for(let Ie=Pe;Ie<=Le;Ie++)J.push(Ie);return Le<Ee&&(Le<Ee-1&&J.push("..."),J.push(Ee)),J.map((Ie,pe)=>{if(Ie==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${pe}`);const ke=Ie;return t.jsx("button",{className:`pagination-page-btn ${k===ke?"active":""}`,onClick:async()=>{a(Ye=>({...Ye,page:ke}))},disabled:!w||m.length===0,children:ke},ke)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const J=Math.min(Ee,k+1);a(je=>({...je,page:J}))},disabled:k===Ee||Ee===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},nae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[i,s]=P.useState({status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState(!1),[m,x]=P.useState(!1),[y,b]=P.useState(null),w=n.page||1,N=n.pageSize||25,S=P.useRef(null),C=P.useRef(null),[k,W]=P.useState(null),[q,te]=P.useState({totalCompanies:0}),K=()=>{var Ne;return!!(n.status&&n.status!=="All"||(Ne=n.searchText)!=null&&Ne.trim())},X=()=>{if(!K())return"No filters applied. View all companies.";const Ne=[];return n.status&&n.status!=="All"&&Ne.push(`Status: ${n.status}`),Ne.join("  ")},O=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],le=async()=>{var Ne;g(!0),b(null);try{let ce=await $a.getAllCompanies();if(n.status&&n.status!=="All"&&(ce=ce.filter(we=>we.status===n.status)),(Ne=n.searchText)!=null&&Ne.trim()){const we=n.searchText.toLowerCase().trim();ce=ce.filter(me=>{const se=(me.companyCode||"").toLowerCase(),J=(me.companyName||"").toLowerCase();return se.includes(we)||J.includes(we)})}ce.sort((we,me)=>{const se=we[n.sortBy]||"",J=me[n.sortBy]||"";return n.sortOrder==="ASC"?se>J?1:-1:se<J?1:-1});const ae=(w-1)*N,Ce=ae+N,Ee=ce.slice(ae,Ce);h(ce),A(Ee),x(!0),te({totalCompanies:ce.length})}catch(ce){console.error("Error loading companies:",ce),b(ce.message||"Failed to load company data"),h([]),A([])}finally{g(!1)}},z=async()=>{a(Ne=>({...Ne,status:i.status||"All",page:1})),l(!1),await le()},R=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),s({status:"All"}),l(!1),await le()};P.useEffect(()=>{const Ne=setTimeout(()=>{le()},500);return()=>clearTimeout(Ne)},[n]);const ie=Ne=>Ne?new Date(Ne).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ae=Ne=>{switch(Ne){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},Oe=m&&q.totalCompanies>0?Math.ceil(q.totalCompanies/N):0,be=(w-1)*N,Te=Math.min(be+d.length,q.totalCompanies),Y=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:Y,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Company Master Report"}),!K()&&t.jsx("div",{className:"page-context-subtitle",children:X()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${f?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:u,onChange:Ne=>a(ce=>({...ce,searchText:Ne.target.value,page:1})),onKeyDown:Ne=>{Ne.key==="Enter"&&!f&&(Ne.preventDefault(),le())},disabled:f}),u&&!f&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ne=>({...Ne,searchText:"",page:1})),(m||K())&&await le()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:C,className:`btn btn-filters-toggle ${c?"active":""} ${f?"loading":""}`,onClick:()=>{if(!f){if(c||s({status:n.status||"All"}),C.current){const Ne=C.current.getBoundingClientRect();W({top:Ne.bottom+8,left:Ne.left})}l(!c)}},disabled:f,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),W(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ne=>Ne.stopPropagation(),style:k?{position:"fixed",top:`${k.top}px`,left:`${k.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsx("div",{className:"filter-modal-grid",children:t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ne=>s(ce=>({...ce,status:Ne.target.value})),children:O.map(Ne=>t.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))})]})})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await z(),l(!1)},disabled:f,children:f?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),t.jsxs("div",{className:"results-section",ref:S,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Company Code"}),t.jsx("th",{children:"Company Name"}),t.jsx("th",{children:"Created Date"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:f?Array.from({length:5}).map((Ne,ce)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ce}`)):m?d.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No companies match "${u.trim()}". Try adjusting your search or filters.`:K()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(K()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:R,children:"Clear Filters"})})]})})}):d.map((Ne,ce)=>t.jsxs("tr",{className:ce%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ne.companyCode}),t.jsx("td",{children:Ne.companyName}),t.jsx("td",{children:ie(Ne.createdOn)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:Ae(Ne.status),children:Ne.status})})]},Ne.id)):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:4,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No companies found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:m&&d.length>0?`Showing ${be+1}-${Te} of ${q.totalCompanies} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:N,disabled:!m||d.length===0,onChange:async Ne=>{a(ce=>({...ce,page:1,pageSize:Number(Ne.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ne=Math.max(1,w-1);a(ce=>({...ce,page:Ne}))},disabled:w===1||!m||d.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ne=[];let ae=Math.max(1,w-Math.floor(2.5)),Ce=Math.min(Oe,ae+5-1);Ce-ae<4&&(ae=Math.max(1,Ce-5+1)),ae>1&&(Ne.push(1),ae>2&&Ne.push("..."));for(let Ee=ae;Ee<=Ce;Ee++)Ne.push(Ee);return Ce<Oe&&(Ce<Oe-1&&Ne.push("..."),Ne.push(Oe)),Ne.map((Ee,we)=>{if(Ee==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${we}`);const me=Ee;return t.jsx("button",{className:`pagination-page-btn ${w===me?"active":""}`,onClick:async()=>{a(se=>({...se,page:me}))},disabled:!m||d.length===0,children:me},me)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ne=Math.min(Oe,w+1);a(ce=>({...ce,page:Ne}))},disabled:w===Oe||Oe===0||!m||d.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},aae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[i,s]=P.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState([]),[y,b]=P.useState(!1),[w,N]=P.useState(!1),[S,C]=P.useState(null),k=n.page||1,W=n.pageSize||25,q=P.useRef(null),te=P.useRef(null),[K,X]=P.useState(null),[O,le]=P.useState({totalItems:0,compliant:0,nonCompliant:0});P.useEffect(()=>{(async()=>{try{const[se,J]=await Promise.all([$a.getAllCompanies(),ks.getAllHcfs()]);h(se),A(J)}catch(se){console.error("Error loading master data:",se)}})()},[]);const z=n.companyId?d.filter(me=>me.companyId===n.companyId):d,R=()=>{var me;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(me=n.searchText)!=null&&me.trim())},ie=()=>{if(!R())return"No filters applied. View all compliance statuses.";const me=[];if(n.companyId){const se=o.find(J=>J.id===n.companyId);se&&me.push(`Company: ${se.companyName}`)}if(n.hcfId){const se=z.find(J=>J.id===n.hcfId);se&&me.push(`HCF: ${se.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&me.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&me.push(`Status: ${n.status}`),me.join("  ")},Ae=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],Oe=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],be=async()=>{var me;b(!0),C(null);try{let se=[];if(n.companyId&&(se=se.filter(Le=>Le.companyId===n.companyId)),n.hcfId&&(se=se.filter(Le=>Le.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(se=se.filter(Le=>Le.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(se=se.filter(Le=>Le.status===n.status)),(me=n.searchText)!=null&&me.trim()){const Le=n.searchText.toLowerCase().trim();se=se.filter(Ie=>{const pe=o.find(Ft=>Ft.id===Ie.companyId),ke=((pe==null?void 0:pe.companyName)||"").toLowerCase(),Ye=d.find(Ft=>Ft.id===Ie.hcfId),wt=((Ye==null?void 0:Ye.hcfCode)||"").toLowerCase();return Ie.complianceType.toLowerCase().includes(Le)||ke.includes(Le)||wt.includes(Le)||Ie.notes&&Ie.notes.toLowerCase().includes(Le)})}se.sort((Le,Ie)=>{const pe=Le[n.sortBy]||"",ke=Ie[n.sortBy]||"";return n.sortOrder==="ASC"?pe>ke?1:-1:pe<ke?1:-1});const J=(k-1)*W,je=J+W,Pe=se.slice(J,je);g(se),x(Pe),N(!0),le({totalItems:se.length,compliant:se.filter(Le=>Le.status==="Compliant").length,nonCompliant:se.filter(Le=>Le.status==="Non-Compliant"||Le.status==="Expired").length})}catch(se){console.error("Error loading compliance data:",se),C(se.message||"Failed to load compliance status data"),g([]),x([])}finally{b(!1)}},Te=async()=>{a(me=>({...me,companyId:i.companyId||"",hcfId:i.hcfId||"",complianceType:i.complianceType||"All",status:i.status||"All",page:1})),l(!1),await be()},Y=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),s({companyId:"",hcfId:"",complianceType:"All",status:"All"}),l(!1),await be()};P.useEffect(()=>{if(o.length>0||!n.companyId){const me=setTimeout(()=>{be()},500);return()=>clearTimeout(me)}},[n,o]);const Ne=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=me=>{switch(me){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ae=w&&O.totalItems>0?Math.ceil(O.totalItems/W):0,Ce=(k-1)*W,Ee=Math.min(Ce+m.length,O.totalItems),we=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return t.jsx(jc,{navItems:we,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!R()&&t.jsx("div",{className:"page-context-subtitle",children:ie()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:u,onChange:me=>a(se=>({...se,searchText:me.target.value,page:1})),onKeyDown:me=>{me.key==="Enter"&&!y&&(me.preventDefault(),be())},disabled:y}),u&&!y&&t.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(me=>({...me,searchText:"",page:1})),(w||R())&&await be()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:te,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||s({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),te.current){const me=te.current.getBoundingClientRect();X({top:me.bottom+8,left:me.left})}l(!c)}},disabled:y,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),X(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:me=>me.stopPropagation(),style:K?{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:me=>{s(se=>({...se,companyId:me.target.value,hcfId:""}))},children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(me=>t.jsxs("option",{value:me.id,children:[me.companyCode," - ",me.companyName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.hcfId||"",onChange:me=>s(se=>({...se,hcfId:me.target.value})),disabled:!i.companyId,children:[t.jsx("option",{value:"",children:"Select HCF Name"}),(i.companyId?d.filter(me=>me.companyId===i.companyId):d).map(me=>t.jsxs("option",{value:me.id,children:[me.hcfCode," - ",me.hcfName]},me.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceType||"All",onChange:me=>s(se=>({...se,complianceType:me.target.value})),children:Ae.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:me=>s(se=>({...se,status:me.target.value})),children:Oe.map(me=>t.jsx("option",{value:me.value,children:me.label},me.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Te(),l(!1)},disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),S&&t.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:S}),t.jsxs("div",{className:"results-section",ref:q,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Compliance Type"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"HCF"}),t.jsx("th",{children:"Expiry Date"}),t.jsx("th",{children:"Last Checked"}),t.jsx("th",{className:"text-center",children:"Status"})]})}),t.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((me,se)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${se}`)):w?m.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No compliance items match "${u.trim()}". Try adjusting your search or filters.`:R()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(R()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):m.map((me,se)=>{var J,je;return t.jsxs("tr",{className:se%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{children:me.complianceType}),t.jsx("td",{children:((J=o.find(Pe=>Pe.id===me.companyId))==null?void 0:J.companyName)||"N/A"}),t.jsx("td",{children:((je=d.find(Pe=>Pe.id===me.hcfId))==null?void 0:je.hcfCode)||"N/A"}),t.jsx("td",{children:Ne(me.expiryDate)}),t.jsx("td",{children:Ne(me.lastChecked)}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:ce(me.status),children:me.status})})]},me.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:6,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:w&&m.length>0?`Showing ${Ce+1}-${Ee} of ${O.totalItems} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:W,disabled:!w||m.length===0,onChange:async me=>{a(se=>({...se,page:1,pageSize:Number(me.target.value)}))},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.max(1,k-1);a(se=>({...se,page:me}))},disabled:k===1||!w||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const me=[];let J=Math.max(1,k-Math.floor(2.5)),je=Math.min(ae,J+5-1);je-J<4&&(J=Math.max(1,je-5+1)),J>1&&(me.push(1),J>2&&me.push("..."));for(let Pe=J;Pe<=je;Pe++)me.push(Pe);return je<ae&&(je<ae-1&&me.push("..."),me.push(ae)),me.map((Pe,Le)=>{if(Pe==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const Ie=Pe;return t.jsx("button",{className:`pagination-page-btn ${k===Ie?"active":""}`,onClick:async()=>{a(pe=>({...pe,page:Ie}))},disabled:!w||m.length===0,children:Ie},Ie)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const me=Math.min(ae,k+1);a(se=>({...se,page:me}))},disabled:k===ae||ae===0||!w||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},iae=()=>{const r=_n(),e=Ja(),[n,a]=P.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[i,s]=P.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,l]=P.useState(!1),u=n.searchText||"",[o,h]=P.useState([]),[d,A]=P.useState([]),[f,g]=P.useState([]),[m,x]=P.useState(!1),[y,b]=P.useState(!1),[w,N]=P.useState(null),S=n.page||1,C=n.pageSize||25,k=P.useRef(null),W=P.useRef(null),[q,te]=P.useState(null),[K,X]=P.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});P.useEffect(()=>{(async()=>{try{const pe=await $a.getAllCompanies();h(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const O=()=>{var Ie;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(Ie=n.searchText)!=null&&Ie.trim())},le=()=>{if(!O())return"No filters applied. Select a date range or search to view fleet vehicles.";const Ie=[];if(n.createdFromDate&&n.createdToDate){const pe=new Date(n.createdFromDate),ke=new Date(n.createdToDate),Ye=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),wt=ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Ie.push(`${Ye} - ${wt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const pe=new Date(n.createdFromDate);Ie.push(`From ${pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const pe=new Date(n.createdToDate);Ie.push(`To ${pe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const pe=o.find(ke=>ke.id===n.companyId);Ie.push(pe?pe.companyName:"Selected Company")}else Ie.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&Ie.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?Ie.push(n.status):Ie.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&Ie.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${Ie.join("  ")}`},z=(Ie,pe)=>{s(ke=>({...ke,[Ie]:pe}))},R=()=>{a(Ie=>({...Ie,createdFromDate:i.createdFromDate||"",createdToDate:i.createdToDate||"",companyId:i.companyId||"",vehMake:i.vehMake||"",status:i.status||"All",complianceStatus:i.complianceStatus||"All",page:1}))},ie=()=>{const Ie={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(Ie),s({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},Ae=(Ie,pe)=>{a(ke=>({...ke,page:Ie,...pe!==void 0&&{pageSize:pe}}))},Oe=Ie=>{a(pe=>({...pe,searchText:Ie,page:1}))},be=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Te=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],Y=()=>{const Ie=new Set;return d.forEach(pe=>{pe.vehMake&&Ie.add(pe.vehMake)}),Array.from(Ie).sort()},Ne=Ie=>{const pe=new Date;pe.setHours(0,0,0,0);const ke=[Ie.nextFCDate?new Date(Ie.nextFCDate):null,Ie.pucDateValidUpto?new Date(Ie.pucDateValidUpto):null,Ie.insuranceValidUpto?new Date(Ie.insuranceValidUpto):null].filter(Boolean);if(ke.length===0)return"Compliant";if(ke.filter(Bt=>Bt<pe).length>0)return"Expired";const wt=new Date(pe);return wt.setDate(wt.getDate()+30),ke.filter(Bt=>Bt<=wt&&Bt>=pe).length>0?"Expiring Soon":"Compliant"},ce=async()=>{var Ie;x(!0),N(null);try{let pe=[];if(n.companyId)pe=await Ih.getAllFleets(n.companyId);else{const Bt=o.length>0?o:await $a.getAllCompanies();for(const Vt of Bt)try{const Ir=await Ih.getAllFleets(Vt.id);pe.push(...Ir)}catch(Ir){console.warn(`Failed to load fleets for company ${Vt.companyName}:`,Ir)}}let ke=pe;if(n.createdFromDate){const Bt=new Date(n.createdFromDate);ke=ke.filter(Vt=>new Date(Vt.createdOn)>=Bt)}if(n.createdToDate){const Bt=new Date(n.createdToDate);Bt.setHours(23,59,59,999),ke=ke.filter(Vt=>new Date(Vt.createdOn)<=Bt)}if(n.companyId&&(ke=ke.filter(Bt=>Bt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(ke=ke.filter(Bt=>Bt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(ke=ke.filter(Bt=>Bt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(ke=ke.filter(Bt=>Ne(Bt)===n.complianceStatus)),(Ie=n.searchText)!=null&&Ie.trim()){const Bt=n.searchText.toLowerCase().trim();ke=ke.filter(Vt=>{const Ir=(Vt.vehicleNum||"").toLowerCase(),Sr=(Vt.vehMake||"").toLowerCase(),He=(Vt.vehModel||"").toLowerCase(),Zt=(Vt.ownerName||"").toLowerCase(),Nt=(Vt.ownerContact||"").toLowerCase(),Vr=(Vt.capacity||"").toLowerCase();return Ir.includes(Bt)||Sr.includes(Bt)||He.includes(Bt)||Zt.includes(Bt)||Nt.includes(Bt)||Vr.includes(Bt)})}ke.sort((Bt,Vt)=>{const Ir=Bt[n.sortBy]||"",Sr=Vt[n.sortBy]||"";return n.sortOrder==="ASC"?Ir>Sr?1:-1:Ir<Sr?1:-1});const Ye=(S-1)*C,wt=Ye+C,Ft=ke.slice(Ye,wt);A(ke),g(Ft),b(!0),X({totalFleets:ke.length,activeFleets:ke.filter(Bt=>Bt.status==="Active").length,inactiveFleets:ke.filter(Bt=>Bt.status==="Inactive").length})}catch(pe){console.error("Error loading fleets:",pe),N(pe.message||"Failed to load fleet vehicles"),A([]),g([])}finally{x(!1)}};P.useEffect(()=>{if(o.length>0){const Ie=setTimeout(()=>{ce()},500);return()=>clearTimeout(Ie)}},[n,o]);const ae=async()=>{R(),l(!1),await ce()},Ce=async()=>{ie(),l(!1),await ce()},Ee=Ie=>Ie?new Date(Ie).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",we=Ie=>{switch(Ie){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},me=Ie=>{switch(Ie){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},se=y&&K.totalFleets>0?Math.ceil(K.totalFleets/C):0,J=(S-1)*C,je=Math.min(J+f.length,K.totalFleets),Pe=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],Le=Y();return t.jsx(jc,{navItems:Pe,children:t.jsxs("div",{className:"invoice-report-page",children:[t.jsxs("div",{className:"report-breadcrumb",children:[t.jsxs("button",{className:"back-button",onClick:()=>e("/report"),children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 12H5"}),t.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Reports"}),t.jsx("span",{className:"breadcrumb-separator",children:"/"}),t.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),t.jsxs("div",{className:"report-content-wrapper",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!O()&&t.jsx("div",{className:"page-context-subtitle",children:le()})]}),t.jsxs("div",{className:"search-actions-row",children:[t.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[t.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:u,onChange:Ie=>Oe(Ie.target.value),onKeyDown:Ie=>{Ie.key==="Enter"&&!m&&(Ie.preventDefault(),ce())},disabled:m}),u&&!m&&t.jsx("button",{className:"clear-search-btn",onClick:()=>{Oe(""),ce()},title:"Clear search",children:t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("button",{type:"button",ref:W,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||(z("companyId",n.companyId||""),z("vehMake",n.vehMake||""),z("status",n.status||"All"),z("complianceStatus",n.complianceStatus||"All"),z("createdFromDate",n.createdFromDate||""),z("createdToDate",n.createdToDate||"")),W.current){const Ie=W.current.getBoundingClientRect();te({top:Ie.bottom+8,left:Ie.left})}l(!c)}},disabled:m,title:"Open filters",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length>0&&t.jsx("span",{className:"filter-count",children:[i.companyId,i.vehMake&&i.vehMake!=="All"?i.vehMake:"",i.status&&i.status!=="All"?i.status:"",i.complianceStatus&&i.complianceStatus!=="All"?i.complianceStatus:"",i.createdFromDate,i.createdToDate].filter(Boolean).length})]})]}),c&&Uc.createPortal(t.jsx("div",{className:"filter-modal-overlay",onClick:()=>{l(!1),te(null)},children:t.jsxs("div",{className:"filter-modal-content",onClick:Ie=>Ie.stopPropagation(),style:q?{position:"fixed",top:`${q.top}px`,left:`${q.left}px`,margin:0}:{},children:[t.jsxs("div",{className:"filter-modal-header",children:[t.jsx("h3",{className:"filter-modal-title",children:"Filters"}),t.jsxs("div",{className:"filter-modal-actions",children:[t.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{z("companyId",""),z("vehMake",""),z("createdFromDate",""),z("createdToDate",""),z("status","All"),z("complianceStatus","All")},children:"Clear Filters"}),t.jsx("button",{className:"filter-modal-close-btn",onClick:()=>l(!1),title:"Close filters",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),t.jsx("div",{className:"filter-modal-body",children:t.jsxs("div",{className:"filter-modal-grid",children:[t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Created Date"}),t.jsxs("div",{className:"filter-date-range",children:[t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdFromDate||"",onChange:Ie=>z("createdFromDate",Ie.target.value),placeholder:"Select Date"}),t.jsx("span",{className:"filter-date-separator",children:"to"}),t.jsx("input",{type:"date",className:"filter-modal-input",value:i.createdToDate||"",onChange:Ie=>z("createdToDate",Ie.target.value),placeholder:"Select Date"})]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Company Name"}),t.jsxs("select",{className:"filter-modal-select",value:i.companyId||"",onChange:Ie=>z("companyId",Ie.target.value),children:[t.jsx("option",{value:"",children:"Select Company Name"}),o.map(Ie=>t.jsxs("option",{value:Ie.id,children:[Ie.companyCode," - ",Ie.companyName]},Ie.id))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),t.jsxs("select",{className:"filter-modal-select",value:i.vehMake||"All",onChange:Ie=>z("vehMake",Ie.target.value),children:[t.jsx("option",{value:"All",children:"All Makes"}),Le.map(Ie=>t.jsx("option",{value:Ie,children:Ie},Ie))]})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Status"}),t.jsx("select",{className:"filter-modal-select",value:i.status||"All",onChange:Ie=>z("status",Ie.target.value),children:be.map(Ie=>t.jsx("option",{value:Ie.value,children:Ie.label},Ie.value))})]}),t.jsxs("div",{className:"filter-modal-group",children:[t.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),t.jsx("select",{className:"filter-modal-select",value:i.complianceStatus||"All",onChange:Ie=>z("complianceStatus",Ie.target.value),children:Te.map(Ie=>t.jsx("option",{value:Ie.value,children:Ie.label},Ie.value))})]})]})}),t.jsx("div",{className:"filter-modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ae,disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),t.jsxs("div",{className:"results-section",ref:k,children:[t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{className:"invoice-table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{children:"Vehicle Number"}),t.jsx("th",{children:"Company"}),t.jsx("th",{children:"Make"}),t.jsx("th",{children:"Model"}),t.jsx("th",{children:"Capacity"}),t.jsx("th",{children:"Owner Name"}),t.jsx("th",{children:"Owner Contact"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Compliance"}),t.jsx("th",{children:"Created Date"})]})}),t.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((Ie,pe)=>t.jsxs("tr",{className:"table-row-skeleton",children:[t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell skeleton-badge"})}),t.jsx("td",{children:t.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${pe}`)):y?f.length===0?t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:u.trim()?`No vehicles match "${u.trim()}". Try adjusting your search or filters.`:O()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(O()||u.trim())&&t.jsx("div",{className:"empty-state-action",children:t.jsx("button",{onClick:Ce,children:"Clear Filters"})})]})})}):f.map((Ie,pe)=>{const ke=o.find(wt=>wt.id===Ie.companyId),Ye=Ne(Ie);return t.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[t.jsx("td",{className:"invoice-number-cell",children:Ie.vehicleNum}),t.jsx("td",{children:(ke==null?void 0:ke.companyName)||"N/A"}),t.jsx("td",{children:Ie.vehMake||"N/A"}),t.jsx("td",{children:Ie.vehModel||"N/A"}),t.jsx("td",{children:Ie.capacity||"N/A"}),t.jsx("td",{children:Ie.ownerName||"N/A"}),t.jsx("td",{children:Ie.ownerContact||"N/A"}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:we(Ie.status),children:Ie.status})}),t.jsx("td",{className:"text-center",children:t.jsx("span",{className:me(Ye),children:Ye})}),t.jsx("td",{children:Ee(Ie.createdOn)})]},Ie.id)}):t.jsx("tr",{className:"table-row-empty",children:t.jsx("td",{colSpan:10,className:"empty-state-cell",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[t.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),t.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),t.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),t.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("div",{className:"pagination-info",children:y&&f.length>0?`Showing ${je} of ${K.totalFleets} items`:"Showing 0 of 0 items"}),t.jsxs("div",{className:"pagination-right",children:[t.jsxs("select",{className:"rows-per-page-select",value:C,disabled:!y||f.length===0,onChange:async Ie=>{Ae(1,Number(Ie.target.value)),await ce()},children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsxs("div",{className:"pagination-numbers",children:[t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ie=Math.max(1,S-1);Ae(Ie),await ce()},disabled:S===1||!y||f.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ie=[];let ke=Math.max(1,S-Math.floor(2.5)),Ye=Math.min(se,ke+5-1);Ye-ke<4&&(ke=Math.max(1,Ye-5+1)),ke>1&&(Ie.push(1),ke>2&&Ie.push("..."));for(let wt=ke;wt<=Ye;wt++)Ie.push(wt);return Ye<se&&(Ye<se-1&&Ie.push("..."),Ie.push(se)),Ie.map((wt,Ft)=>{if(wt==="...")return t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Ft}`);const Bt=wt;return t.jsx("button",{className:`pagination-page-btn ${S===Bt?"active":""}`,onClick:async()=>{Ae(Bt),await ce()},disabled:!y||f.length===0,children:Bt},Bt)})})(),t.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ie=Math.min(se,S+1);Ae(Ie),await ce()},disabled:S===se||se===0||!y||f.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},sae=()=>{const{login:r,verifyOTP:e,loading:n,user:a}=pa(),i=Ja(),s=_n(),[c,l]=P.useState(""),[u,o]=P.useState(""),[h,d]=P.useState(!1),[A,f]=P.useState(!1),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState(""),[N,S]=P.useState(["","","","","",""]),[C,k]=P.useState(0);P.useEffect(()=>{if(C>0){const le=setTimeout(()=>k(C-1),1e3);return()=>clearTimeout(le)}},[C]);const W=le=>{if(!le||le.trim().length===0)return!1;const z=/^[a-zA-Z0-9_-]+$/,R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return z.test(le.trim())||R.test(le.trim())},q=async le=>{var z,R;if(le.preventDefault(),m(null),!W(c)){m("Please enter a valid username or email address");return}if(!u||u.trim().length===0){m("Please enter your password");return}try{const ie=await r(c.trim(),u);if(ie.requiresOTP&&ie.email)w(ie.email),y(!0),k(60);else{const Ae=(R=(z=s.state)==null?void 0:z.from)==null?void 0:R.pathname;i(Ae||"/mobile/home",{replace:!0})}}catch(ie){m(ie.message||"Invalid credentials. Please check your username and password.")}},te=(le,z)=>{if(z.length>1)return;const R=[...N];if(R[le]=z,S(R),z&&le<5){const ie=document.getElementById(`otp-input-mobile-${le+1}`);ie==null||ie.focus()}},K=(le,z)=>{if(z.key==="Backspace"&&!N[le]&&le>0){const R=document.getElementById(`otp-input-mobile-${le-1}`);R==null||R.focus()}},X=async le=>{var R,ie,Ae;le.preventDefault(),m(null);const z=N.join("");if(z.length!==6){m("Please enter a valid 6-digit OTP");return}try{await e(b,z);const Oe=(ie=(R=s.state)==null?void 0:R.from)==null?void 0:ie.pathname;i(Oe||"/mobile/home",{replace:!0})}catch(Oe){m(Oe.message||"Invalid OTP"),S(["","","","","",""]),(Ae=document.getElementById("otp-input-mobile-0"))==null||Ae.focus()}},O=async()=>{if(!(C>0)){m(null);try{await r(c,u),k(60),S(["","","","","",""])}catch(le){m(le.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!u?t.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):t.jsxs("div",{className:"mobile-login-container",children:[t.jsxs("header",{className:"login-header",children:[t.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),t.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),t.jsx("main",{className:"login-main",children:t.jsxs("div",{className:"login-card",children:[t.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?t.jsxs("form",{className:"login-form",onSubmit:X,children:[t.jsx("div",{className:"otp-instruction-mobile",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?t.jsx("p",{children:"Use your configured SuperAdmin OTP."}):t.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),t.jsx("div",{className:"otp-inputs-row-mobile",children:N.map((le,z)=>t.jsx("input",{id:`otp-input-mobile-${z}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:le,onChange:R=>te(z,R.target.value),onKeyDown:R=>K(z,R),autoFocus:z===0,disabled:n},z))}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n||N.some(le=>!le),children:n?"Verifying...":"Verify OTP"}),t.jsx("div",{className:"otp-resend-mobile",children:t.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",C>0?t.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",C,"s"]}):t.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:O,children:"Resend OTP"})]})})]}):t.jsxs("form",{className:"login-form",onSubmit:q,children:[t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:le=>{l(le.target.value),m(null)},autoComplete:"username",disabled:n})]})}),t.jsx("div",{className:"form-field",children:t.jsxs("div",{className:"input-wrapper",children:[t.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("input",{type:A?"text":"password",className:"form-input",placeholder:"Password",value:u,onChange:le=>{o(le.target.value),m(null)},autoComplete:"current-password",disabled:n}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!A),"aria-label":A?"Hide password":"Show password",disabled:n,children:A?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),t.jsxs("div",{className:"form-options",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",className:"checkbox-input",checked:h,onChange:le=>d(le.target.checked),disabled:n}),t.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),t.jsx(Zr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&t.jsx("div",{className:"error-message-mobile",children:g}),t.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},oae=({title:r,subtitle:e,action:n,children:a})=>t.jsxs("section",{className:"form-card",children:[t.jsxs("div",{className:"form-card__header",children:[t.jsxs("div",{children:[t.jsx("h1",{children:r}),e&&t.jsx("p",{children:e})]}),n&&t.jsx("div",{className:"form-card__action",children:n})]}),t.jsx("div",{className:"form-card__body",children:a})]}),qj=({label:r,type:e="text",error:n,hint:a,...i})=>{const[s,c]=P.useState(!1),l=e==="password",u=l&&s?"text":e;return t.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[t.jsx("span",{children:r}),t.jsxs("div",{className:"input-field__control",children:[t.jsx("input",{type:u,...i}),l&&t.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(o=>!o),"aria-label":s?"Hide password":"Show password",children:s?"Hide":"Show"})]}),n?t.jsx("small",{className:"input-field__error",children:n}):a&&t.jsx("small",{children:a})]})},lae=({loading:r,children:e,...n})=>t.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":e}),cae=({role:r})=>t.jsx("span",{className:"role-pill",children:r}),d_={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},uae=()=>{const{createUser:r,loading:e,user:n}=pa(),[a,i]=P.useState({name:"",email:"",password:"",role:"staff"}),[s,c]=P.useState(null),[l,u]=P.useState(null),o=async h=>{h.preventDefault(),c(null),u(null);try{const d=await r(a);c(`Created ${d.name} (${d.roles.join(", ")})`),i({...a,name:"",email:"",password:""})}catch(d){u(d.message||"Unable to create user")}};return t.jsx(oae,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?t.jsx(cae,{role:n.roles[0]}):null,children:t.jsxs("form",{className:"form-grid mobile",onSubmit:o,children:[t.jsx(qj,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:h=>i(d=>({...d,name:h.target.value}))}),t.jsx(qj,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:h=>i(d=>({...d,email:h.target.value}))}),t.jsx(qj,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:h=>i(d=>({...d,password:h.target.value})),hint:"Min 8 characters"}),t.jsxs("label",{className:"input-field",children:[t.jsx("span",{children:"Role"}),t.jsx("div",{className:"role-options",children:Object.keys(d_).map(h=>t.jsxs("button",{type:"button",className:`role-chip ${a.role===h?"role-chip--active":""}`,onClick:()=>i(d=>({...d,role:h})),children:[t.jsx("strong",{children:h}),t.jsx("small",{children:d_[h]})]},h))})]}),l&&t.jsx("div",{className:"form-error",children:l}),s&&t.jsx("div",{className:"form-success",children:s}),t.jsx(lae,{type:"submit",loading:e,children:"Save User"}),t.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},dae=()=>{const{user:r,logout:e}=pa(),n=_n();Ja();const[a,i]=P.useState(!1),[s,c]=P.useState(!1),l=()=>{c(!s)},[u,o]=P.useState(null),[h,d]=P.useState(null),[A,f]=P.useState("basic"),[g,m]=P.useState(null),[x,y]=P.useState(!1),[b,w]=P.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[N,S]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,k]=P.useState({current:!1,new:!1,confirm:!1}),[W,q]=P.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});P.useEffect(()=>{r!=null&&r.id&&te()},[r]);const te=async()=>{if(r){i(!0),o(null);try{const Ne=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let ce=null;if(Ne)try{ce=await zl.getUserById(r.id)}catch(ae){console.log("User ID lookup failed, trying search by username:",ae)}if(!ce&&r.name)try{ce=await zl.getUserByUsername(r.name)}catch(ae){console.log("User lookup by username failed:",ae)}if(ce)m(ce),w({emailAddress:ce.emailAddress||"",emergencyContact:ce.emergencyContact||"",addressLine:ce.addressLine||"",area:ce.area||"",city:ce.city||"",district:ce.district||"",pincode:ce.pincode||""});else{const ae={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};m(ae),o("Showing basic information from your session. Some details may be incomplete.")}}catch(Ne){console.error("Error loading user profile:",Ne),o("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},K=async()=>{if(g!=null&&g.userId){i(!0),d(null),o(null);try{await zl.updateCompleteUser(g.userId,{emailAddress:b.emailAddress||void 0,emergencyContact:b.emergencyContact||void 0,addressLine:b.addressLine||void 0,area:b.area||void 0,city:b.city||void 0,district:b.district||void 0,pincode:b.pincode||void 0}),d("Contact information updated successfully!"),y(!1),await te()}catch(Ne){o(Ne.message||"Failed to update contact information")}finally{i(!1)}}},X=()=>{g&&w({emailAddress:g.emailAddress||"",emergencyContact:g.emergencyContact||"",addressLine:g.addressLine||"",area:g.area||"",city:g.city||"",district:g.district||"",pincode:g.pincode||""}),y(!1)},O=Ne=>{q({length:Ne.length>=8,uppercase:/[A-Z]/.test(Ne),lowercase:/[a-z]/.test(Ne),number:/[0-9]/.test(Ne),special:/[!@#$%^&*(),.?":{}|<>]/.test(Ne),match:Ne===N.confirmPassword&&Ne.length>0})},le=(Ne,ce)=>{const ae={...N,[Ne]:ce};S(ae),Ne==="newPassword"?(O(ce),N.confirmPassword&&q(Ce=>({...Ce,match:ce===N.confirmPassword&&ce.length>0}))):q(Ce=>({...Ce,match:ce===N.newPassword&&ce.length>0}))},z=()=>{const ce=[W.length,W.uppercase,W.lowercase,W.number,W.special].filter(Boolean).length;return ce===0?{level:0,label:"",color:""}:ce<=2?{level:1,label:"Weak",color:"#ef4444"}:ce<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},R=async Ne=>{if(Ne.preventDefault(),o(null),d(null),!W.length){o("Password must be at least 8 characters long");return}if(!W.uppercase){o("Password must contain at least one uppercase letter");return}if(!W.lowercase){o("Password must contain at least one lowercase letter");return}if(!W.number){o("Password must contain at least one number");return}if(!W.special){o("Password must contain at least one special character");return}if(!W.match){o("New password and confirm password do not match");return}i(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await Ax(r.id,{currentPassword:N.currentPassword,newPassword:N.newPassword}),d("Password changed successfully!"),S({currentPassword:"",newPassword:"",confirmPassword:""}),q({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),k({current:!1,new:!1,confirm:!1})}catch(ce){o(ce.message||"Failed to change password")}finally{i(!1)}},ie=Ne=>{const ce=Ne.toLowerCase();return ce==="active"?"status-badge--active":ce==="inactive"?"status-badge--inactive":ce==="draft"?"status-badge--draft":"status-badge--active"},Ae=Ne=>{const ce=Ne.trim().split(" ");return ce.length>=2?(ce[0][0]+ce[ce.length-1][0]).toUpperCase():Ne.charAt(0).toUpperCase()},Oe=(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"User",be=(g==null?void 0:g.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",Te=(g==null?void 0:g.status)||"Active",Y=[{path:"/dashboard",label:"Dashboard",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}];return t.jsxs("div",{className:"dashboard-page",children:[t.jsxs("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:[t.jsxs("div",{className:"sidebar-brand",children:[t.jsx("div",{className:"brand-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),t.jsx("button",{className:"sidebar-toggle",onClick:l,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s?t.jsx("polyline",{points:"9 18 15 12 9 6"}):t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t.jsx("nav",{className:"sidebar-nav",children:t.jsx("ul",{className:"nav-list",children:Y.map(Ne=>t.jsx("li",{children:t.jsxs(Zr,{to:Ne.path,className:`nav-link ${Ne.active?"nav-link--active":""}`,children:[t.jsx("span",{className:"nav-icon",children:Ne.icon}),!s&&t.jsx("span",{className:"nav-label",children:Ne.label})]})},Ne.path))})}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),t.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t.jsx("span",{className:"notification-badge",children:"3"})]}),t.jsxs(Zr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[t.jsx("span",{className:"nav-icon",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!s&&t.jsx("span",{className:"nav-label",children:"Profile"})]}),t.jsxs("button",{onClick:e,className:"sidebar-logout-btn",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"dashboard-main",children:[t.jsx("header",{className:"dashboard-header",children:t.jsx("div",{className:"header-left",children:t.jsx("span",{className:"breadcrumb",children:"/ Profile"})})}),t.jsx("div",{className:"dashboard-content",children:t.jsxs("div",{className:"profile-page",children:[t.jsxs("div",{className:"profile-header-card",children:[t.jsx("div",{className:"profile-header-avatar",children:t.jsx("div",{className:"profile-avatar-large",children:Ae(Oe)})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-header-name",children:Oe}),t.jsxs("div",{className:"profile-header-meta",children:[t.jsx("span",{className:"profile-header-role",children:be}),t.jsx("span",{className:"profile-header-separator",children:""}),t.jsx("span",{className:`profile-header-status ${ie(Te)}`,children:Te})]}),(g==null?void 0:g.mobileNumber)&&g.mobileNumber!=="-"&&t.jsxs("div",{className:"profile-header-contact",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.mobileNumber]})]})]}),u&&t.jsxs("div",{className:"profile-info-banner",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),t.jsx("span",{children:u})]}),h&&t.jsxs("div",{className:"profile-success-message",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),h]}),t.jsxs("div",{className:"profile-section-tabs",children:[t.jsxs("button",{className:`section-tab ${A==="basic"?"active":""}`,onClick:()=>f("basic"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),t.jsxs("button",{className:`section-tab ${A==="contact"?"active":""}`,onClick:()=>f("contact"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),t.jsxs("button",{className:`section-tab ${A==="security"?"active":""}`,onClick:()=>f("security"),children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),t.jsx("div",{className:"profile-section-content",children:a&&!g?t.jsxs("div",{className:"profile-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading profile data..."})]}):t.jsxs(t.Fragment,{children:[A==="basic"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Basic Information"}),t.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),t.jsxs("div",{className:"profile-cards-grid",children:[t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{className:"profile-card-title",children:"User Name"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.userName)||(r==null?void 0:r.name)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("path",{d:"M20 8v6M23 11h-6"})]}),t.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employeeCode)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),t.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.mobileNumber)||"-"})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),t.jsx("span",{className:"profile-card-title",children:"Status"})]}),t.jsx("div",{className:"profile-card-value",children:t.jsx("span",{className:`status-badge ${ie(Te)}`,children:Te})})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),t.jsx("span",{className:"profile-card-title",children:"Role"})]}),t.jsx("div",{className:"profile-card-value",children:be})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),t.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),t.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),t.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),t.jsx("div",{className:"profile-card-value",children:(g==null?void 0:g.employmentType)||"-"})]})]})]}),A==="contact"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Contact Information"}),t.jsx("p",{className:"section-description",children:x?"Edit your contact details":"Update your contact details"})]}),t.jsxs("div",{className:"profile-contact-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),x?t.jsx("input",{type:"email",id:"emailAddress",value:b.emailAddress,onChange:Ne=>w({...b,emailAddress:Ne.target.value}),placeholder:"Enter email address",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emailAddress)||"Not provided"}),t.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),x?t.jsx("input",{type:"text",id:"emergencyContact",value:b.emergencyContact,onChange:Ne=>w({...b,emergencyContact:Ne.target.value}),placeholder:"Enter emergency contact number",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.emergencyContact)||"-"})]})]}),t.jsxs("div",{className:"form-group form-group--full",children:[t.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),x?t.jsx("input",{type:"text",id:"addressLine",value:b.addressLine,onChange:Ne=>w({...b,addressLine:Ne.target.value}),placeholder:"Enter address line",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.addressLine)||"-"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"area",children:"Area"}),x?t.jsx("input",{type:"text",id:"area",value:b.area,onChange:Ne=>w({...b,area:Ne.target.value}),placeholder:"Enter area",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.area)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"city",children:"City"}),x?t.jsx("input",{type:"text",id:"city",value:b.city,onChange:Ne=>w({...b,city:Ne.target.value}),placeholder:"Enter city",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.city)||"-"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"district",children:"District"}),x?t.jsx("input",{type:"text",id:"district",value:b.district,onChange:Ne=>w({...b,district:Ne.target.value}),placeholder:"Enter district",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.district)||"-"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"pincode",children:"Pincode"}),x?t.jsx("input",{type:"text",id:"pincode",value:b.pincode,onChange:Ne=>w({...b,pincode:Ne.target.value}),placeholder:"Enter pincode",disabled:a}):t.jsx("div",{className:"form-value",children:(g==null?void 0:g.pincode)||"-"})]})]}),t.jsx("div",{className:"form-actions",children:x?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",className:"btn btn--secondary",onClick:X,disabled:a,children:"Cancel"}),t.jsx("button",{type:"button",className:"btn btn--primary",onClick:K,disabled:a,children:a?"Saving...":"Save Changes"})]}):t.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>y(!0),children:"Edit Contact Info"})})]})]}),A==="security"&&t.jsxs("div",{className:"profile-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Security Settings"}),t.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),t.jsxs("div",{className:"security-card security-card--password",children:[t.jsx("div",{className:"security-card-header",children:t.jsxs("div",{className:"security-card-title-group",children:[t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"security-card-title",children:"Change Password"}),t.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),t.jsxs("form",{onSubmit:R,className:"password-form",children:[t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:C.current?"text":"password",id:"currentPassword",value:N.currentPassword,onChange:Ne=>S({...N,currentPassword:Ne.target.value}),required:!0,placeholder:"Enter your current password",disabled:a,className:N.currentPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>k({...C,current:!C.current}),tabIndex:-1,"aria-label":C.current?"Hide password":"Show password",children:C.current?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"newPassword",children:["New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:C.new?"text":"password",id:"newPassword",value:N.newPassword,onChange:Ne=>le("newPassword",Ne.target.value),required:!0,placeholder:"Enter new password",disabled:a,className:N.newPassword?"has-value":""}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>k({...C,new:!C.new}),tabIndex:-1,"aria-label":C.new?"Hide password":"Show password",children:C.new?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.newPassword&&t.jsxs("div",{className:"password-strength",children:[t.jsx("div",{className:"password-strength-bar",children:t.jsx("div",{className:"password-strength-fill",style:{width:`${z().level/3*100}%`,backgroundColor:z().color}})}),t.jsx("span",{className:"password-strength-label",style:{color:z().color},children:z().label||"Enter password"})]}),t.jsxs("div",{className:"password-requirements",children:[t.jsxs("div",{className:`requirement-item ${W.length?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.length?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"At least 8 characters"})]}),t.jsxs("div",{className:`requirement-item ${W.uppercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.uppercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One uppercase letter"})]}),t.jsxs("div",{className:`requirement-item ${W.lowercase?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.lowercase?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One lowercase letter"})]}),t.jsxs("div",{className:`requirement-item ${W.number?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.number?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One number"})]}),t.jsxs("div",{className:`requirement-item ${W.special?"requirement-item--valid":""}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.special?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsx("span",{children:"One special character"})]})]})]}),t.jsxs("div",{className:"form-group form-group--password",children:[t.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"password-input-wrapper",children:[t.jsx("input",{type:C.confirm?"text":"password",id:"confirmPassword",value:N.confirmPassword,onChange:Ne=>le("confirmPassword",Ne.target.value),required:!0,placeholder:"Re-enter new password",disabled:a,className:`${N.confirmPassword?"has-value":""} ${N.confirmPassword&&W.match?"password-match":N.confirmPassword&&!W.match?"password-mismatch":""}`}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>k({...C,confirm:!C.confirm}),tabIndex:-1,"aria-label":C.confirm?"Hide password":"Show password",children:C.confirm?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),N.confirmPassword&&t.jsxs("div",{className:`password-match-indicator ${W.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W.match?t.jsx("path",{d:"M20 6L9 17l-5-5"}):t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),t.jsx("span",{children:W.match?"Passwords match":"Passwords do not match"})]})]}),t.jsx("div",{className:"form-actions form-actions--password",children:t.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:a||!W.match||!W.length||!W.uppercase||!W.lowercase||!W.number||!W.special,children:a?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),t.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},hae=()=>{const r=Ja(),e=_n(),{user:n,logout:a}=pa(),[i,s]=P.useState(!1),[c,l]=P.useState(null),[u,o]=P.useState(!1);P.useEffect(()=>{(async()=>{if(n!=null&&n.token){const N=await aO(n.token);l(N)}})()},[n]);const h=[{id:"home",label:"Home",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"12",cy:"5",r:"1"}),t.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],d=w=>{if(w.scanButton||w.id==="more"||w.id==="home")return!0;if(w.permission&&c){if(w.permission.includes("ROUTE_ASSIGNMENT")||w.permission.includes("WASTE_COLLECTION"))return ZA(c,"transaction");if(w.permission.includes("HCF"))return ZA(c,"master","hcf")}return!0},A=w=>{if(w.id==="more"){s(!i);return}w.path&&w.path!=="#"&&(r(w.path),s(!1))},f=()=>{r("/mobile/scan"),s(!1)},g=()=>{a(),r("/mobile/login"),s(!1)},m=h.filter(d),x=m.find(w=>w.id==="home"),y=m.find(w=>w.scanButton),b=m.find(w=>w.id==="more");return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:"mobile-more-overlay",onClick:()=>s(!1),children:t.jsxs("div",{className:"mobile-more-menu",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"mobile-more-header",children:[t.jsx("h3",{children:"More Options"}),t.jsx("button",{className:"mobile-more-close",onClick:()=>s(!1),children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"mobile-more-content",children:[t.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),s(!1)},children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&t.jsxs("button",{className:`mobile-nav-item ${e.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>A(x),"aria-label":"Home",children:[t.jsx("span",{className:"mobile-nav-icon",children:x.icon}),t.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&t.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:f,"aria-label":"Scan Barcode",children:[t.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),t.jsx("span",{className:"mobile-nav-label",children:y.label})]}),b&&t.jsxs("button",{className:`mobile-nav-item ${i?"mobile-nav-item--active":""}`,onClick:()=>A(b),"aria-label":"More",children:[t.jsx("span",{className:"mobile-nav-icon",children:b.icon}),t.jsx("span",{className:"mobile-nav-label",children:b.label})]})]})]})},Rh=({children:r,title:e,showBackButton:n=!1,onBack:a})=>t.jsxs("div",{className:"mobile-layout",children:[(e||n)&&t.jsxs("header",{className:"mobile-header",children:[n&&t.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e&&t.jsx("h1",{className:"mobile-header-title",children:e}),t.jsx("div",{style:{width:n?"40px":"auto"}})]}),t.jsx("main",{className:"mobile-page-content",children:r}),t.jsx(hae,{})]}),Aae=({isOpen:r,onClose:e})=>{const n=Ja(),a=_n(),{user:i,permissions:s,logout:c}=pa(),[l,u]=P.useState(null),[o,h]=P.useState(new Set);P.useEffect(()=>{(async()=>{if(i!=null&&i.token){const b=await aO(i.token);u(b)}})()},[i]);const d=()=>{if(i!=null&&i.name){const y=i.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():i.name.substring(0,2).toUpperCase()}return"MW"},A=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M8 6h13"}),t.jsx("path",{d:"M8 12h13"}),t.jsx("path",{d:"M8 18h13"}),t.jsx("path",{d:"M3 6h.01"}),t.jsx("path",{d:"M3 12h.01"}),t.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11l3 3L22 4"}),t.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),t.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),t.jsx("path",{d:"M21 12H3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),t.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],f=y=>{if(y.permission&&s&&s.length>0)return bx(s,y.permission);if(y.permission&&l){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return ZA(l,"transaction");if(y.permission.includes("HCF"))return ZA(l,"master","hcf");if(y.permission.includes("USER"))return ZA(l,"master");if(y.permission.includes("REPORT"))return ZA(l,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const b=new Set(o);b.has(y.id)?b.delete(y.id):b.add(y.id),h(b)}else y.path&&(n(y.path),e())},m=()=>{c(),n("/mobile/login"),e()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return P.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),t.jsxs(t.Fragment,{children:[r&&t.jsx("div",{className:"mobile-drawer-overlay",onClick:e}),t.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[t.jsxs("div",{className:"mobile-drawer-header",children:[t.jsxs("div",{className:"mobile-drawer-profile",children:[t.jsx("div",{className:"mobile-drawer-avatar",children:d()}),t.jsxs("div",{className:"mobile-drawer-profile-info",children:[t.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-drawer-close",onClick:e,"aria-label":"Close menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsx("div",{className:"mobile-drawer-content",children:A.map(y=>{const b=y.items.filter(f);return b.length===0?null:t.jsxs("div",{className:"mobile-drawer-group",children:[t.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),b.map(w=>{const N=w.children&&w.children.length>0,S=o.has(w.id),C=x(w.path);return t.jsxs("div",{children:[t.jsxs("button",{className:`mobile-drawer-item ${C?"mobile-drawer-item--active":""}`,onClick:()=>g(w),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:w.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:w.label}),N&&t.jsx("svg",{className:`mobile-drawer-item-chevron ${S?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),N&&S&&t.jsx("div",{className:"mobile-drawer-submenu",children:w.children.map(k=>t.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(k.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(k),children:[t.jsx("span",{className:"mobile-drawer-item-icon",children:k.icon}),t.jsx("span",{className:"mobile-drawer-item-label",children:k.label})]},k.id))})]},w.id)})]},y.title)})}),t.jsx("div",{className:"mobile-drawer-footer",children:t.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[t.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t.jsx("polyline",{points:"16 17 21 12 16 7"}),t.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},fae=()=>{const{user:r}=pa(),[e,n]=P.useState(!1),a=()=>{if(r!=null&&r.name){const i=r.name.split(" ");return i.length>=2?`${i[0][0]}${i[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return t.jsxs(Rh,{children:[t.jsx(Aae,{isOpen:e,onClose:()=>n(!1)}),t.jsx("div",{className:"mobile-home-template",children:t.jsxs("div",{className:"mobile-home-profile",children:[t.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[t.jsx("div",{className:"mobile-home-avatar",children:a()}),t.jsxs("div",{className:"mobile-home-profile-info",children:[t.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),t.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),t.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function pae(r,e){var n=Object.setPrototypeOf;n?n(r,e):r.__proto__=e}function mae(r,e){e===void 0&&(e=r.constructor);var n=Error.captureStackTrace;n&&n(r,e)}var gae=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},r(n,a)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vae=(function(r){gae(e,r);function e(n,a){var i=this.constructor,s=r.call(this,n,a)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),pae(s,i.prototype),mae(s),s}return e})(Error),xae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uu=(function(r){xae(e,r);function e(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(vae),yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Al=(function(r){yae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Uu),bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ea=(function(r){bae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Uu),VF=(function(){function r(e){if(this.binarizer=e,e===null)throw new Ea("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,n,a,i){var s=this.binarizer.getLuminanceSource().crop(e,n,a,i);return new r(this.binarizer.createBinarizer(s))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),wae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Nl=(function(r){wae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Uu),jae=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),so=(function(){function r(){}return r.arraycopy=function(e,n,a,i,s){for(;s--;)a[i++]=e[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),Cae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),aS=(function(r){Cae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Uu),Nae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),h_=(function(r){Nae(e,r);function e(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var i=r.call(this,a)||this;return i.index=n,i.message=a,i}return e.kind="ArrayIndexOutOfBoundsException",e})(aS),Sae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ql=(function(){function r(){}return r.fill=function(e,n){for(var a=0,i=e.length;a<i;a++)e[a]=n},r.fillWithin=function(e,n,a,i){r.rangeCheck(e.length,n,a);for(var s=n;s<a;s++)e[s]=i},r.rangeCheck=function(e,n,a){if(n>a)throw new Ea("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new h_(n);if(a>e)throw new h_(a)},r.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},r.create=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(e,n,a){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:n}).fill(a)})},r.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var a=0,i=e.length;a<i;a++)if(e[a]!==n[a])return!1;return!0},r.hashCode=function(e){var n,a;if(e===null)return 0;var i=1;try{for(var s=Sae(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=31*i+l}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.fillUint8Array=function(e,n){for(var a=0;a!==e.length;a++)e[a]=n},r.copyOf=function(e,n){return e.slice(0,n)},r.copyOfUint8Array=function(e,n){if(e.length<=n){var a=new Uint8Array(n);return a.set(e),a}return e.slice(0,n)},r.copyOfRange=function(e,n,a){var i=a-n,s=new Int32Array(i);return so.arraycopy(e,n,s,0,i),s},r.binarySearch=function(e,n,a){a===void 0&&(a=r.numberComparator);for(var i=0,s=e.length-1;i<=s;){var c=s+i>>1,l=a(n,e[c]);if(l>0)i=c+1;else if(l<0)s=c-1;else return c}return-i-1},r.numberComparator=function(e,n){return e-n},r})(),Ei=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var a=31;return n=e<<16,n!==0&&(a-=16,e=n),n=e<<8,n!==0&&(a-=8,e=n),n=e<<4,n!==0&&(a-=4,e=n),n=e<<2,n!==0&&(a-=2,e=n),a-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,n){return Math.trunc(e/n)},r.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),bc=(function(){function r(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=r.makeArray(e):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=r.makeArray(e);so.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=a[i]}var l=i*32+Ei.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var a=this.bits,i=Math.floor(e/32),s=~a[i];s&=~((1<<(e&31))-1);for(var c=a.length;s===0;){if(++i===c)return n;s=~a[i]}var l=i*32+Ei.numberOfTrailingZeros(s);return l>n?n:l},r.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},r.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Ea;if(n!==e){n--;for(var a=Math.floor(e/32),i=Math.floor(n/32),s=this.bits,c=a;c<=i;c++){var l=c>a?0:e&31,u=c<i?31:n&31,o=(2<<u)-(1<<l);s[c]|=o}}},r.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,a=0;a<e;a++)n[a]=0},r.prototype.isRange=function(e,n,a){if(n<e||e<0||n>this.size)throw new Ea;if(n===e)return!0;n--;for(var i=Math.floor(e/32),s=Math.floor(n/32),c=this.bits,l=i;l<=s;l++){var u=l>i?0:e&31,o=l<s?31:n&31,h=(2<<o)-(1<<u)&4294967295;if((c[l]&h)!==(a?h:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Ea("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((e>>a-1&1)===1)},r.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(e.get(a))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Ea("Sizes don't match");for(var n=this.bits,a=0,i=n.length;a<i;a++)n[a]^=e.bits[a]},r.prototype.toBytes=function(e,n,a,i){for(var s=0;s<i;s++){for(var c=0,l=0;l<8;l++)this.get(e)&&(c|=1<<7-l),e++;n[a+s]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,i=this.bits,s=0;s<a;s++){var c=i[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[n-s]=c}if(this.size!==a*32){for(var l=a*32-this.size,u=e[0]>>>l,s=1;s<a;s++){var o=e[s];u|=o<<32-l,e[s-1]=u,u=o>>>l}e[a-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.size===n.size&&ql.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+ql.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",n=0,a=this.size;n<a;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],n=0,a=this.size;n<a;n++)e.push(this.get(n));return e},r})(),kN;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(kN||(kN={}));const oo=kN;var Bae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mn=(function(r){Bae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Uu),Eae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_s;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(_s||(_s={}));var Kl=(function(){function r(e,n,a){for(var i,s,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];this.valueIdentifier=e,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(a,this);for(var u=this.values,o=0,h=u.length;o!==h;o++){var d=u[o];r.VALUES_TO_ECI.set(d,this)}try{for(var A=Eae(c),f=A.next();!f.done;f=A.next()){var g=f.value;r.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new mn("incorect value");var n=r.VALUES_TO_ECI.get(e);if(n===void 0)throw new mn("incorect value");return n},r.getCharacterSetECIByName=function(e){var n=r.NAME_TO_ECI.get(e);if(n===void 0)throw new mn("incorect value");return n},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(_s.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(_s.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(_s.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(_s.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(_s.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(_s.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(_s.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(_s.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(_s.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(_s.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(_s.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(_s.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(_s.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(_s.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(_s.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(_s.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(_s.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(_s.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(_s.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(_s.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(_s.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(_s.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(_s.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(_s.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(_s.Big5,28,"Big5"),r.GB18030=new r(_s.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(_s.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),Iae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),cv=(function(r){Iae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Uu),Qd=(function(){function r(){}return r.decode=function(e,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Kl?e:Kl.getCharacterSetECIByName(e)},r.decodeFallback=function(e,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var i="",s=0,c=e.length;s<c;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(a.equals(Kl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new cv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Kl.UTF8)||e.equals(Kl.ISO8859_1)||e.equals(Kl.ASCII)},r.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),a=n.split(""),i=[],s=0;s<a.length;s++)i.push(a[s].charCodeAt(0));return new Uint8Array(i)},r})(),Yi=(function(){function r(){}return r.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return Qd.decode(new Uint8Array([e]),a)},r.guessEncoding=function(e,n){if(n!=null&&n.get(oo.CHARACTER_SET)!==void 0)return n.get(oo.CHARACTER_SET).toString();for(var a=e.length,i=!0,s=!0,c=!0,l=0,u=0,o=0,h=0,d=0,A=0,f=0,g=0,m=0,x=0,y=0,b=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<a&&(i||s||c);w++){var N=e[w]&255;c&&(l>0?(N&128)===0?c=!1:l--:(N&128)!==0&&((N&64)===0?c=!1:(l++,(N&32)===0?u++:(l++,(N&16)===0?o++:(l++,(N&8)===0?h++:c=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&y++),s&&(d>0?N<64||N===127||N>252?s=!1:d--:N===128||N===160||N>239?s=!1:N>160&&N<224?(A++,g=0,f++,f>m&&(m=f)):N>127?(d++,f=0,g++,g>x&&(x=g)):(f=0,g=0))}return c&&l>0&&(c=!1),s&&d>0&&(s=!1),c&&(b||u+o+h>0)?r.UTF8:s&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:i&&s?m===2&&A===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:s?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=-1;function s(l,u,o,h,d,A){if(l==="%%")return"%";if(n[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var f=d?parseInt(d.substr(1)):void 0,g;switch(A){case"s":g=n[i];break;case"c":g=n[i][0];break;case"f":g=parseFloat(n[i]).toFixed(l);break;case"p":g=parseFloat(n[i]).toPrecision(l);break;case"e":g=parseFloat(n[i]).toExponential(l);break;case"x":g=parseInt(n[i]).toString(f||16);break;case"d":g=parseFloat(parseInt(n[i],f||10).toPrecision(l)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(f);for(var m=parseInt(o),x=o&&o[0]+""=="0"?"0":" ";g.length<m;)g=u!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,s)},r.getBytes=function(e,n){return Qd.encode(e,n)},r.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Kl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Kl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Kl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),Ci=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Yi.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,n,a){for(var i=n;n<n+a;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},r.prototype.substring=function(e,n){return this.value.substring(e,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},r})(),Fh=(function(){function r(e,n,a,i){if(this.width=e,this.height=n,this.rowSize=a,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Ea("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var n=e.length,a=e[0].length,i=new r(a,n),s=0;s<n;s++)for(var c=e[s],l=0;l<a;l++)c[l]&&i.set(l,s);return i},r.parseFromString=function(e,n,a){if(e===null)throw new Ea("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,c=0,l=-1,u=0,o=0;o<e.length;)if(e.charAt(o)===`
`||e.charAt(o)==="\r"){if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ea("row lengths do not match");c=s,u++}o++}else if(e.substring(o,o+n.length)===n)o+=n.length,i[s]=!0,s++;else if(e.substring(o,o+a.length)===a)o+=a.length,i[s]=!1,s++;else throw new Ea("illegal character encountered: "+e.substring(o));if(s>c){if(l===-1)l=s-c;else if(s-c!==l)throw new Ea("row lengths do not match");u++}for(var h=new r(l,u),d=0;d<s;d++)i[d]&&h.set(Math.floor(d%l),Math.floor(d/l));return h},r.prototype.get=function(e,n){var a=n*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0},r.prototype.set=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,n){var a=n*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ea("input matrix dimensions do not match");for(var n=new bc(Math.floor(this.width/32)+1),a=this.rowSize,i=this.bits,s=0,c=this.height;s<c;s++)for(var l=s*a,u=e.getRow(s,n).getBitArray(),o=0;o<a;o++)i[l+o]^=u[o]},r.prototype.clear=function(){for(var e=this.bits,n=e.length,a=0;a<n;a++)e[a]=0},r.prototype.setRegion=function(e,n,a,i){if(n<0||e<0)throw new Ea("Left and top must be nonnegative");if(i<1||a<1)throw new Ea("Height and width must be at least 1");var s=e+a,c=n+i;if(c>this.height||s>this.width)throw new Ea("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,o=n;o<c;o++)for(var h=o*l,d=e;d<s;d++)u[h+Math.floor(d/32)]|=1<<(d&31)&4294967295},r.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new bc(this.width):n.clear();for(var a=this.rowSize,i=this.bits,s=e*a,c=0;c<a;c++)n.setBulk(c*32,i[s+c]);return n},r.prototype.setRow=function(e,n){so.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),a=new bc(e),i=new bc(e),s=0,c=Math.floor((n+1)/2);s<c;s++)a=this.getRow(s,a),i=this.getRow(n-1-s,i),a.reverse(),i.reverse(),this.setRow(s,i),this.setRow(n-1-s,a)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,a=this.rowSize,i=this.bits,s=e,c=n,l=-1,u=-1,o=0;o<n;o++)for(var h=0;h<a;h++){var d=i[o*a+h];if(d!==0){if(o<c&&(c=o),o>u&&(u=o),h*32<s){for(var A=0;(d<<31-A&4294967295)===0;)A++;h*32+A<s&&(s=h*32+A)}if(h*32+31>l){for(var A=31;!(d>>>A);)A--;h*32+A>l&&(l=h*32+A)}}}return l<s||u<c?null:Int32Array.from([s,c,l-s+1,u-c+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var i=a/e,s=a%e*32,c=n[a],l=0;(c<<31-l&4294967295)===0;)l++;return s+=l,Int32Array.from([s,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var i=Math.floor(a/e),s=Math.floor(a%e)*32,c=n[a],l=31;!(c>>>l);)l--;return s+=l,Int32Array.from([s,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&ql.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ql.hashCode(this.bits),e},r.prototype.toString=function(e,n,a){return e===void 0&&(e="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(e,n,a)},r.prototype.buildToString=function(e,n,a){for(var i=new Ci,s=0,c=this.height;s<c;s++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,s)?e:n);i.append(a)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),Tae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Er=(function(r){Tae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Uu),_ae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Oae=(function(r){_ae(e,r);function e(n){var a=r.call(this,n)||this;return a.luminances=e.EMPTY,a.buckets=new Int32Array(e.LUMINANCE_BUCKETS),a}return e.prototype.getBlackRow=function(n,a){var i=this.getLuminanceSource(),s=i.getWidth();a==null||a.getSize()<s?a=new bc(s):a.clear(),this.initArrays(s);for(var c=i.getRow(n,this.luminances),l=this.buckets,u=0;u<s;u++)l[(c[u]&255)>>e.LUMINANCE_SHIFT]++;var o=e.estimateBlackPoint(l);if(s<3)for(var u=0;u<s;u++)(c[u]&255)<o&&a.set(u);else for(var h=c[0]&255,d=c[1]&255,u=1;u<s-1;u++){var A=c[u+1]&255;(d*4-h-A)/2<o&&a.set(u),h=d,d=A}return a},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight(),s=new Fh(a,i);this.initArrays(a);for(var c=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),o=n.getRow(u,this.luminances),h=Math.floor(a*4/5),d=Math.floor(a/5);d<h;d++){var A=o[d]&255;c[A>>e.LUMINANCE_SHIFT]++}for(var f=e.estimateBlackPoint(c),g=n.getMatrix(),l=0;l<i;l++)for(var m=l*a,d=0;d<a;d++){var A=g[m+d]&255;A<f&&s.set(d,l)}return s},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)a[i]=0},e.estimateBlackPoint=function(n){for(var a=n.length,i=0,s=0,c=0,l=0;l<a;l++)n[l]>c&&(s=l,c=n[l]),n[l]>i&&(i=n[l]);for(var u=0,o=0,l=0;l<a;l++){var h=l-s,d=n[l]*h*h;d>o&&(u=l,o=d)}if(s>u){var A=s;s=u,u=A}if(u-s<=a/16)throw new Er;for(var f=u-1,g=-1,l=u-1;l>s;l--){var m=l-s,d=m*m*(u-l)*(i-n[l]);d>g&&(f=l,g=d)}return f<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(jae),kae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zF=(function(r){kae(e,r);function e(n){var a=r.call(this,n)||this;return a.matrix=null,a}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),i=n.getHeight();if(a>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=n.getMatrix(),c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(s,c,l,a,i),o=new Fh(a,i);e.calculateThresholdForBlock(s,c,l,a,i,u,o),this.matrix=o}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,a,i,s,c,l,u){for(var o=c-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,d=0;d<i;d++){var A=d<<e.BLOCK_SIZE_POWER;A>o&&(A=o);for(var f=e.cap(d,2,i-3),g=0;g<a;g++){var m=g<<e.BLOCK_SIZE_POWER;m>h&&(m=h);for(var x=e.cap(g,2,a-3),y=0,b=-2;b<=2;b++){var w=l[f+b];y+=w[x-2]+w[x-1]+w[x]+w[x+1]+w[x+2]}var N=y/25;e.thresholdBlock(n,m,A,N,s,u)}}},e.cap=function(n,a,i){return n<a?a:n>i?i:n},e.thresholdBlock=function(n,a,i,s,c,l){for(var u=0,o=i*c+a;u<e.BLOCK_SIZE;u++,o+=c)for(var h=0;h<e.BLOCK_SIZE;h++)(n[o+h]&255)<=s&&l.set(a+h,i+u)},e.calculateBlackPoints=function(n,a,i,s,c){for(var l=c-e.BLOCK_SIZE,u=s-e.BLOCK_SIZE,o=new Array(i),h=0;h<i;h++){o[h]=new Int32Array(a);var d=h<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var A=0;A<a;A++){var f=A<<e.BLOCK_SIZE_POWER;f>u&&(f=u);for(var g=0,m=255,x=0,y=0,b=d*s+f;y<e.BLOCK_SIZE;y++,b+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var N=n[b+w]&255;g+=N,N<m&&(m=N),N>x&&(x=N)}if(x-m>e.MIN_DYNAMIC_RANGE)for(y++,b+=s;y<e.BLOCK_SIZE;y++,b+=s)for(var w=0;w<e.BLOCK_SIZE;w++)g+=n[b+w]&255}var S=g>>e.BLOCK_SIZE_POWER*2;if(x-m<=e.MIN_DYNAMIC_RANGE&&(S=m/2,h>0&&A>0)){var C=(o[h-1][A]+2*o[h][A-1]+o[h-1][A-1])/4;m<C&&(S=C)}o[h][A]=S}}return o},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(Oae),Yg=(function(){function r(e,n){this.width=e,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,n,a,i){throw new cv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new cv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new cv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Ci,a=0;a<this.height;a++){for(var i=this.getRow(a,e),s=0;s<this.width;s++){var c=i[s]&255,l=void 0;c<64?l="#":c<128?l="+":c<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},r})(),Pae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),u2=(function(r){Pae(e,r);function e(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return e.prototype.getRow=function(n,a){for(var i=this.delegate.getRow(n,a),s=this.getWidth(),c=0;c<s;c++)i[c]=255-(i[c]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a),s=0;s<a;s++)i[s]=255-(n[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,a,i,s){return new e(this.delegate.crop(n,a,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Yg),Fae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Dae=(function(r){Fae(e,r);function e(n,a){a===void 0&&(a=!1);var i=r.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,a),i}return e.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,a)},e.toGrayscaleBuffer=function(n,a,i,s){s===void 0&&(s=!1);var c=new Uint8ClampedArray(a*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,u=0,o=n.length;l<o;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var A=n[l],f=n[l+1],g=n[l+2];h=306*A+601*f+117*g+512>>10}c[u]=h}else for(var l=0,u=0,m=n.length;l<m;l+=4,u++){var h=void 0,d=n[l+3];if(d===0)h=255;else{var A=n[l],f=n[l+1],g=n[l+2];h=306*A+601*f+117*g+512>>10}c[u]=255-h}return c},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement(),i=a.getContext("2d"),s=n*e.DEGREE_TO_RADIANS,c=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*c+Math.abs(Math.sin(s))*l),o=Math.ceil(Math.abs(Math.sin(s))*c+Math.abs(Math.cos(s))*l);return a.width=u,a.height=o,i.translate(u/2,o/2),i.rotate(s),i.drawImage(this.canvas,c/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.prototype.invert=function(){return new u2(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Yg),Mae=(function(){function r(e,n,a){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),gu=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},vu=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Rae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=(function(){function r(e,n,a){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return gu(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,A;return vu(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=Rae(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device "+(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return gu(this,void 0,void 0,function(){var e;return vu(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(a){return new Mae(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(e){return gu(this,void 0,void 0,function(){var n;return vu(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,n){return gu(this,void 0,void 0,function(){return vu(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return gu(this,void 0,void 0,function(){var a,i;return vu(this,function(s){switch(s.label){case 0:return this.reset(),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return gu(this,void 0,void 0,function(){var a;return vu(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return gu(this,void 0,void 0,function(){var a,i;return vu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return a=s.sent(),[4,this.decodeOnce(a)];case 2:return i=s.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,a){return gu(this,void 0,void 0,function(){return vu(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,a)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return gu(this,void 0,void 0,function(){var i,s;return vu(this,function(c){switch(c.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return gu(this,void 0,void 0,function(){var i;return vu(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,n,a)];case 2:return[2,s.sent()]}})})},r.prototype.decodeFromStream=function(e,n,a){return gu(this,void 0,void 0,function(){var i;return vu(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,a)];case 2:return[2,s.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,n){return gu(this,void 0,void 0,function(){var a;return vu(this,function(i){switch(i.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,e),this.videoElement=a,this.stream=e,[4,this.playVideoOnLoadAsync(a)];case 1:return i.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(a,i){return n.playVideoOnLoad(e,function(){return a()})})},r.prototype.playVideoOnLoad=function(e,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return gu(this,void 0,void 0,function(){return vu(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new Al("element with id '"+e+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new Al("element with id '"+e+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new Al("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new Al("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,n,a){if(e===void 0&&n===void 0)throw new Al("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(e,a)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Al("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(e,n){var a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Al("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Al("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=e,a},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Al("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=e,a},r.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new Al("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(a,n);return a.src=e,i},r.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(a,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(a,i)},e.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return gu(this,void 0,void 0,function(){return vu(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,n){return gu(this,void 0,void 0,function(){return vu(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return a.sent(),this.decodeContinuously(e,n),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},r.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(e,n,a){var i=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var s=function(c,l){if(i._stopAsyncDecode){l(new Er("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);c(u)}catch(A){var o=n&&A instanceof Er,h=A instanceof Nl||A instanceof mn,d=h&&a;if(o||d)return setTimeout(s,i._timeBetweenDecodingAttempts,c,l);l(A)}};return new Promise(function(c,l){return s(c,l)})},r.prototype.decodeContinuously=function(e,n){var a=this;this._stopContinuousDecode=!1;var i=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var s=a.decode(e);n(s,null),setTimeout(i,a.timeBetweenScansMillis)}catch(u){n(null,u);var c=u instanceof Nl||u instanceof mn,l=u instanceof Er;(c||l)&&setTimeout(i,a._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var a=this.getCaptureCanvas(e),i=new Dae(a,n),s=new zF(i);return new VF(s)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(e,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=a+"px",n.style.height=i+"px",n.width=a,n.height=i,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),tu=(function(){function r(e,n,a,i,s,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=so.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=a,this.resultPoints=i,this.format=s,this.timestamp=c,this.text=e,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=i,this.format=s,this.resultMetadata=null,c==null?this.timestamp=so.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var a=new Array(n.length+e.length);so.arraycopy(n,0,a,0,n.length),so.arraycopy(e,0,a,n.length,e.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),PN;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(PN||(PN={}));const Ba=PN;var FN;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(FN||(FN={}));const Lc=FN;var d2=(function(){function r(e,n,a,i,s,c){s===void 0&&(s=-1),c===void 0&&(c=-1),this.rawBytes=e,this.text=n,this.byteSegments=a,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),U0=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ea;return this.logTable[e]},r.addOrSubtract=function(e,n){return e^n},r})(),lf=(function(){function r(e,n){if(n.length===0)throw new Ea;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-i),so.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,a;if(e===1){a=0;for(var i=0,s=n.length;i!==s;i++){var c=n[i];a=U0.addOrSubtract(a,c)}return a}a=n[0];for(var l=n.length,u=this.field,i=1;i<l;i++)a=U0.addOrSubtract(u.multiply(e,a),n[i]);return a},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;so.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=U0.addOrSubtract(n[l-c],a[l]);return new r(this.field,s)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=this.field,u=0;u<a;u++)for(var o=n[u],h=0;h<s;h++)c[u+h]=U0.addOrSubtract(c[u+h],l.multiply(o,i[h]));return new r(l,c)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,a=this.field,i=new Int32Array(n),s=this.coefficients,c=0;c<n;c++)i[c]=a.multiply(s[c],e);return new r(a,i)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ea;if(n===0)return this.field.getZero();for(var a=this.coefficients,i=a.length,s=new Int32Array(i+e),c=this.field,l=0;l<i;l++)s[l]=c.multiply(a[l],n);return new r(c,s)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ea("Divide by 0");for(var n=this.field,a=n.getZero(),i=this,s=e.getCoefficient(e.getDegree()),c=n.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),c),o=e.multiplyByMonomial(l,u),h=n.buildMonomial(l,u);a=a.addOrSubtract(h),i=i.addOrSubtract(o)}return[a,i]},r.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),n===0||a!==1){var i=this.field.log(a);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},r})(),Lae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),KF=(function(r){Lae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Uu),Uae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mu=(function(r){Uae(e,r);function e(n,a,i){var s=r.call(this)||this;s.primitive=n,s.size=a,s.generatorBase=i;for(var c=new Int32Array(a),l=1,u=0;u<a;u++)c[u]=l,l*=2,l>=a&&(l^=n,l&=a-1);s.expTable=c;for(var o=new Int32Array(a),u=0;u<a-1;u++)o[c[u]]=u;return s.logTable=o,s.zero=new lf(s,Int32Array.from([0])),s.one=new lf(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ea;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new lf(this,i)},e.prototype.inverse=function(n){if(n===0)throw new KF;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ei.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(U0),Hae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ev=(function(r){Hae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Uu),Qae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zg=(function(r){Qae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Uu),h2=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,n){for(var a=this.field,i=new lf(a,e),s=new Int32Array(n),c=!0,l=0;l<n;l++){var u=i.evaluateAt(a.exp(l+a.getGeneratorBase()));s[s.length-1-l]=u,u!==0&&(c=!1)}if(!c)for(var o=new lf(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(n,1),o,n),d=h[0],A=h[1],f=this.findErrorLocations(d),g=this.findErrorMagnitudes(A,f),l=0;l<f.length;l++){var m=e.length-1-a.log(f[l]);if(m<0)throw new ev("Bad error location");e[m]=Mu.addOrSubtract(e[m],g[l])}},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=this.field,c=e,l=n,u=s.getZero(),o=s.getOne();l.getDegree()>=(a/2|0);){var h=c,d=u;if(c=l,u=o,c.isZero())throw new ev("r_{i-1} was zero");l=h;for(var A=s.getZero(),f=c.getCoefficient(c.getDegree()),g=s.inverse(f);l.getDegree()>=c.getDegree()&&!l.isZero();){var m=l.getDegree()-c.getDegree(),x=s.multiply(l.getCoefficient(l.getDegree()),g);A=A.addOrSubtract(s.buildMonomial(m,x)),l=l.addOrSubtract(c.multiplyByMonomial(m,x))}if(o=A.multiply(u).addOrSubtract(d),l.getDegree()>=c.getDegree())throw new Zg("Division algorithm failed to reduce polynomial?")}var y=o.getCoefficient(0);if(y===0)throw new ev("sigmaTilde(0) was zero");var b=s.inverse(y),w=o.multiplyScalar(b),N=l.multiplyScalar(b);return[w,N]},r.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var a=new Int32Array(n),i=0,s=this.field,c=1;c<s.getSize()&&i<n;c++)e.evaluateAt(c)===0&&(a[i]=s.inverse(c),i++);if(i!==n)throw new ev("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(e,n){for(var a=n.length,i=new Int32Array(a),s=this.field,c=0;c<a;c++){for(var l=s.inverse(n[c]),u=1,o=0;o<a;o++)if(c!==o){var h=s.multiply(n[o],l),d=(h&1)===0?h|1:h&-2;u=s.multiply(u,d)}i[c]=s.multiply(e.evaluateAt(l),s.inverse(u)),s.getGeneratorBase()!==0&&(i[c]=s.multiply(i[c],l))}return i},r})(),Dc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Dc||(Dc={}));var A_=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),a=this.extractBits(n),i=this.correctBits(a),s=r.convertBoolArrayToByteArray(i),c=r.getEncodedData(i),l=new d2(s,c,null,null);return l.setNumBits(i.length),l},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var n=e.length,a=Dc.UPPER,i=Dc.UPPER,s="",c=0;c<n;)if(i===Dc.BINARY){if(n-c<5)break;var l=r.readCode(e,c,5);if(c+=5,l===0){if(n-c<11)break;l=r.readCode(e,c,11)+31,c+=11}for(var u=0;u<l;u++){if(n-c<8){c=n;break}var o=r.readCode(e,c,8);s+=Yi.castAsNonUtf8Char(o),c+=8}i=a}else{var h=i===Dc.DIGIT?4:5;if(n-c<h)break;var o=r.readCode(e,c,h);c+=h;var d=r.getCharacter(i,o);d.startsWith("CTRL_")?(a=i,i=r.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=i)):(s+=d,i=a)}return s},r.getTable=function(e){switch(e){case"L":return Dc.LOWER;case"P":return Dc.PUNCT;case"M":return Dc.MIXED;case"D":return Dc.DIGIT;case"B":return Dc.BINARY;case"U":default:return Dc.UPPER}},r.getCharacter=function(e,n){switch(e){case Dc.UPPER:return r.UPPER_TABLE[n];case Dc.LOWER:return r.LOWER_TABLE[n];case Dc.MIXED:return r.MIXED_TABLE[n];case Dc.PUNCT:return r.PUNCT_TABLE[n];case Dc.DIGIT:return r.DIGIT_TABLE[n];default:throw new Zg("Bad table")}},r.prototype.correctBits=function(e){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Mu.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Mu.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Mu.AZTEC_DATA_10):(a=12,n=Mu.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/a;if(s<i)throw new mn;for(var c=e.length%a,l=new Int32Array(s),u=0;u<s;u++,c+=a)l[u]=r.readCode(e,c,a);try{var o=new h2(n);o.decode(l,s-i)}catch(x){throw new mn(x)}for(var h=(1<<a)-1,d=0,u=0;u<i;u++){var A=l[u];if(A===0||A===h)throw new mn;(A===1||A===h-1)&&d++}for(var f=new Array(i*a-d),g=0,u=0;u<i;u++){var A=l[u];if(A===1||A===h-1)f.fill(A>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)f[g++]=(A&1<<m)!==0}return f},r.prototype.extractBits=function(e){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),i=(n?11:14)+a*4,s=new Int32Array(i),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var l=0;l<s.length;l++)s[l]=l;else for(var u=i+1+2*Ei.truncDivision(Ei.truncDivision(i,2)-1,15),o=i/2,h=Ei.truncDivision(u,2),l=0;l<o;l++){var d=l+Ei.truncDivision(l,15);s[o-l-1]=h-d-1,s[o+l]=h+d+1}for(var l=0,A=0;l<a;l++){for(var f=(a-l)*4+(n?9:12),g=l*2,m=i-1-g,x=0;x<f;x++)for(var y=x*2,b=0;b<2;b++)c[A+y+b]=e.get(s[g+b],s[g+x]),c[A+2*f+y+b]=e.get(s[g+x],s[m-b]),c[A+4*f+y+b]=e.get(s[m-b],s[m-x]),c[A+6*f+y+b]=e.get(s[m-x],s[g+b]);A+=f*8}return c},r.readCode=function(e,n,a){for(var i=0,s=n;s<n+a;s++)i<<=1,e[s]&&(i|=1);return i},r.readByte=function(e,n){var a=e.length-n;return a>=8?r.readCode(e,n,8):r.readCode(e,n,a)<<8-a},r.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(e,8*a);return n},r.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),ss=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,n,a,i){var s=e-a,c=n-i;return Math.sqrt(s*s+c*c)},r.sum=function(e){for(var n=0,a=0,i=e.length;a!==i;a++){var s=e[a];n+=s}return n},r})(),DN=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),ra=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var n=e;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*DN.floatToIntBits(this.x)+DN.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,c,l;if(a>=n&&a>=i?(c=e[0],s=e[1],l=e[2]):i>=a&&i>=n?(c=e[1],s=e[0],l=e[2]):(c=e[2],s=e[0],l=e[1]),this.crossProductZ(s,c,l)<0){var u=s;s=l,l=u}e[0]=s,e[1]=c,e[2]=l},r.distance=function(e,n){return ss.distance(e.x,e.y,n.x,n.y)},r.crossProductZ=function(e,n,a){var i=n.x,s=n.y;return(a.x-i)*(e.y-s)-(a.y-s)*(e.x-i)},r})(),iS=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Wae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$ae=(function(r){Wae(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=c,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(iS),MN=(function(){function r(e,n,a,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=n/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Er}return r.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,a=this.upInit,i=this.downInit,s=!1,c=!0,l=!1,u=!1,o=!1,h=!1,d=!1,A=this.width,f=this.height;c;){c=!1;for(var g=!0;(g||!u)&&n<A;)g=this.containsBlackPoint(a,i,n,!1),g?(n++,c=!0,u=!0):u||n++;if(n>=A){s=!0;break}for(var m=!0;(m||!o)&&i<f;)m=this.containsBlackPoint(e,n,i,!0),m?(i++,c=!0,o=!0):o||i++;if(i>=f){s=!0;break}for(var x=!0;(x||!h)&&e>=0;)x=this.containsBlackPoint(a,i,e,!1),x?(e--,c=!0,h=!0):h||e--;if(e<0){s=!0;break}for(var y=!0;(y||!d)&&a>=0;)y=this.containsBlackPoint(e,n,a,!0),y?(a--,c=!0,d=!0):d||a--;if(a<0){s=!0;break}c&&(l=!0)}if(!s&&l){for(var b=n-e,w=null,N=1;w===null&&N<b;N++)w=this.getBlackPointOnSegment(e,i-N,e+N,i);if(w==null)throw new Er;for(var S=null,N=1;S===null&&N<b;N++)S=this.getBlackPointOnSegment(e,a+N,e+N,a);if(S==null)throw new Er;for(var C=null,N=1;C===null&&N<b;N++)C=this.getBlackPointOnSegment(n,a+N,n-N,a);if(C==null)throw new Er;for(var k=null,N=1;k===null&&N<b;N++)k=this.getBlackPointOnSegment(n,i-N,n-N,i);if(k==null)throw new Er;return this.centerEdges(k,w,C,S)}else throw new Er},r.prototype.getBlackPointOnSegment=function(e,n,a,i){for(var s=ss.round(ss.distance(e,n,a,i)),c=(a-e)/s,l=(i-n)/s,u=this.image,o=0;o<s;o++){var h=ss.round(e+o*c),d=ss.round(n+o*l);if(u.get(h,d))return new ra(h,d)}return null},r.prototype.centerEdges=function(e,n,a,i){var s=e.getX(),c=e.getY(),l=n.getX(),u=n.getY(),o=a.getX(),h=a.getY(),d=i.getX(),A=i.getY(),f=r.CORR;return s<this.width/2?[new ra(d-f,A+f),new ra(l+f,u+f),new ra(o-f,h-f),new ra(s+f,c-f)]:[new ra(d+f,A+f),new ra(l+f,u-f),new ra(o-f,h+f),new ra(s-f,c-f)]},r.prototype.containsBlackPoint=function(e,n,a,i){var s=this.image;if(i){for(var c=e;c<=n;c++)if(s.get(c,a))return!0}else for(var l=e;l<=n;l++)if(s.get(a,l))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),f_=(function(){function r(){}return r.checkAndNudgePoints=function(e,n){for(var a=e.getWidth(),i=e.getHeight(),s=!0,c=0;c<n.length&&s;c+=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Er;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}s=!0;for(var c=n.length-2;c>=0&&s;c-=2){var l=Math.floor(n[c]),u=Math.floor(n[c+1]);if(l<-1||l>a||u<-1||u>i)throw new Er;s=!1,l===-1?(n[c]=0,s=!0):l===a&&(n[c]=a-1,s=!0),u===-1?(n[c+1]=0,s=!0):u===i&&(n[c+1]=i-1,s=!0)}},r})(),GF=(function(){function r(e,n,a,i,s,c,l,u,o){this.a11=e,this.a21=n,this.a31=a,this.a12=i,this.a22=s,this.a32=c,this.a13=l,this.a23=u,this.a33=o}return r.quadrilateralToQuadrilateral=function(e,n,a,i,s,c,l,u,o,h,d,A,f,g,m,x){var y=r.quadrilateralToSquare(e,n,a,i,s,c,l,u),b=r.squareToQuadrilateral(o,h,d,A,f,g,m,x);return b.times(y)},r.prototype.transformPoints=function(e){for(var n=e.length,a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,A=0;A<n;A+=2){var f=e[A],g=e[A+1],m=s*f+u*g+d;e[A]=(a*f+c*g+o)/m,e[A+1]=(i*f+l*g+h)/m}},r.prototype.transformPointsWithValues=function(e,n){for(var a=this.a11,i=this.a12,s=this.a13,c=this.a21,l=this.a22,u=this.a23,o=this.a31,h=this.a32,d=this.a33,A=e.length,f=0;f<A;f++){var g=e[f],m=n[f],x=s*g+u*m+d;e[f]=(a*g+c*m+o)/x,n[f]=(i*g+l*m+h)/x}},r.squareToQuadrilateral=function(e,n,a,i,s,c,l,u){var o=e-a+s-l,h=n-i+c-u;if(o===0&&h===0)return new r(a-e,s-a,e,i-n,c-i,n,0,0,1);var d=a-s,A=l-s,f=i-c,g=u-c,m=d*g-A*f,x=(o*g-A*h)/m,y=(d*h-o*f)/m;return new r(a-e+x*a,l-e+y*l,e,i-n+x*i,u-n+y*u,n,x,y,1)},r.quadrilateralToSquare=function(e,n,a,i,s,c,l,u){return r.squareToQuadrilateral(e,n,a,i,s,c,l,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),Vae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zae=(function(r){Vae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,a,i,s,c,l,u,o,h,d,A,f,g,m,x,y,b,w,N){var S=GF.quadrilateralToQuadrilateral(s,c,l,u,o,h,d,A,f,g,m,x,y,b,w,N);return this.sampleGridWithTransform(n,a,i,S)},e.prototype.sampleGridWithTransform=function(n,a,i,s){if(a<=0||i<=0)throw new Er;for(var c=new Fh(a,i),l=new Float32Array(2*a),u=0;u<i;u++){for(var o=l.length,h=u+.5,d=0;d<o;d+=2)l[d]=d/2+.5,l[d+1]=h;s.transformPoints(l),f_.checkAndNudgePoints(n,l);try{for(var d=0;d<o;d+=2)n.get(Math.floor(l[d]),Math.floor(l[d+1]))&&c.set(d/2,u)}catch{throw new Er}}return c},e})(f_),sS=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new zae,r})(),Du=(function(){function r(e,n){this.x=e,this.y=n}return r.prototype.toResultPoint=function(){return new ra(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Kae=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(e){var i=a[0];a[0]=a[2],a[2]=i}this.extractParameters(a);var s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new $ae(s,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Er;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(a,n);for(var i=0,s=0;s<4;s++){var c=a[(this.shift+s)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&992)+(c>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},r.prototype.getRotation=function(e,n){var a=0;e.forEach(function(s,c,l){var u=(s>>n-2<<1)+(s&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(var i=0;i<4;i++)if(Ei.bitCount(a^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Er},r.prototype.getCorrectedParameterData=function(e,n){var a,i;n?(a=7,i=2):(a=10,i=4);for(var s=a-i,c=new Int32Array(a),l=a-1;l>=0;--l)c[l]=e&15,e>>=4;try{var u=new h2(Mu.AZTEC_PARAM);u.decode(c,s)}catch{throw new Er}for(var o=0,l=0;l<i;l++)o=(o<<4)+c[l];return o},r.prototype.getBullsEyeCorners=function(e){var n=e,a=e,i=e,s=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,c,1,-1),u=this.getFirstDifferent(a,c,1,1),o=this.getFirstDifferent(i,c,-1,1),h=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(l,u,o,h))break}n=l,a=u,i=o,s=h,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Er;this.compact=this.nbCenterLayers===5;var A=new ra(n.getX()+.5,n.getY()-.5),f=new ra(a.getX()+.5,a.getY()+.5),g=new ra(i.getX()-.5,i.getY()+.5),m=new ra(s.getX()-.5,s.getY()-.5);return this.expandSquare([A,f,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,n,a,i;try{var s=new MN(this.image).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{var c=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Du(c+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Du(c+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Du(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Du(c-7,l-7),!1,-1,-1).toResultPoint()}var u=ss.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=ss.round((e.getY()+i.getY()+n.getY()+a.getY())/4);try{var s=new MN(this.image,15,u,o).detect();e=s[0],n=s[1],a=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Du(u+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Du(u+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Du(u-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Du(u-7,o-7),!1,-1,-1).toResultPoint()}return u=ss.round((e.getX()+i.getX()+n.getX()+a.getX())/4),o=ss.round((e.getY()+i.getY()+n.getY()+a.getY())/4),new Du(u,o)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,n,a,i,s){var c=sS.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,o=l/2+this.nbCenterLayers;return c.sampleGrid(e,l,l,u,u,o,u,o,o,u,o,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),s.getX(),s.getY())},r.prototype.sampleLine=function(e,n,a){for(var i=0,s=this.distanceResultPoint(e,n),c=s/a,l=e.getX(),u=e.getY(),o=c*(n.getX()-e.getX())/s,h=c*(n.getY()-e.getY())/s,d=0;d<a;d++)this.image.get(ss.round(l+d*o),ss.round(u+d*h))&&(i|=1<<a-d-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,n,a,i){var s=3;e=new Du(e.getX()-s,e.getY()+s),n=new Du(n.getX()-s,n.getY()-s),a=new Du(a.getX()+s,a.getY()-s),i=new Du(i.getX()+s,i.getY()+s);var c=this.getColor(i,e);if(c===0)return!1;var l=this.getColor(e,n);return l!==c||(l=this.getColor(n,a),l!==c)?!1:(l=this.getColor(a,i),l===c)},r.prototype.getColor=function(e,n){for(var a=this.distancePoint(e,n),i=(n.getX()-e.getX())/a,s=(n.getY()-e.getY())/a,c=0,l=e.getX(),u=e.getY(),o=this.image.get(e.getX(),e.getY()),h=Math.ceil(a),d=0;d<h;d++)l+=i,u+=s,this.image.get(ss.round(l),ss.round(u))!==o&&c++;var A=c/a;return A>.1&&A<.9?0:A<=.1===o?1:-1},r.prototype.getFirstDifferent=function(e,n,a,i){for(var s=e.getX()+a,c=e.getY()+i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a,c+=i;for(s-=a,c-=i;this.isValid(s,c)&&this.image.get(s,c)===n;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===n;)c+=i;return c-=i,new Du(s,c)},r.prototype.expandSquare=function(e,n,a){var i=a/(2*n),s=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,o=new ra(l+i*s,u+i*c),h=new ra(l-i*s,u-i*c);s=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var d=new ra(l+i*s,u+i*c),A=new ra(l-i*s,u-i*c),f=[o,d,h,A];return f},r.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(e){var n=ss.round(e.getX()),a=ss.round(e.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(e,n){return ss.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(e,n){return ss.distance(e.getX(),e.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ei.truncDivision(this.nbLayers-4,8)+1)+15},r})(),fx=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=null,i=new Kae(e.getBlackMatrix()),s=null,c=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new A_().decode(l)}catch(d){a=d}if(c==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(n,s),c=new A_().decode(l)}catch(d){throw a??d}var u=new tu(c.getText(),c.getRawBytes(),c.getNumBits(),s,Ba.AZTEC,so.currentTimeMillis()),o=c.getByteSegments();o!=null&&u.putMetadata(Lc.BYTE_SEGMENTS,o);var h=c.getECLevel();return h!=null&&u.putMetadata(Lc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var a=e.get(oo.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(i,s,c){a.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r})(),Gae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Gae(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new fx,n)||this}return e})(Lm);var Yl=(function(){function r(){}return r.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var a=n&&n.get(oo.TRY_HARDER)===!0;if(a&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,n),c=s.getResultMetadata(),l=270;c!==null&&c.get(Lc.ORIENTATION)===!0&&(l=l+c.get(Lc.ORIENTATION)%360),s.putMetadata(Lc.ORIENTATION,l);var u=s.getResultPoints();if(u!==null)for(var o=i.getHeight(),h=0;h<u.length;h++)u[h]=new ra(o-u[h].getY()-1,u[h].getX());return s}else throw new Er}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,n){var a=e.getWidth(),i=e.getHeight(),s=new bc(a),c=n&&n.get(oo.TRY_HARDER)===!0,l=Math.max(1,i>>(c?8:5)),u;c?u=i:u=15;for(var o=Math.trunc(i/2),h=0;h<u;h++){var d=Math.trunc((h+1)/2),A=(h&1)===0,f=o+l*(A?d:-d);if(f<0||f>=i)break;try{s=e.getBlackRow(f,s)}catch{continue}for(var g=function(b){if(b===1&&(s.reverse(),n&&n.get(oo.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;n.forEach(function(C,k){return w.set(k,C)}),w.delete(oo.NEED_RESULT_POINT_CALLBACK),n=w}try{var N=m.decodeRow(f,s,n);if(b===1){N.putMetadata(Lc.ORIENTATION,180);var S=N.getResultPoints();S!==null&&(S[0]=new ra(a-S[0].getX()-1,S[0].getY()),S[1]=new ra(a-S[1].getX()-1,S[1].getY()))}return{value:N}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new Er},r.recordPattern=function(e,n,a){for(var i=a.length,s=0;s<i;s++)a[s]=0;var c=e.getSize();if(n>=c)throw new Er;for(var l=!e.get(n),u=0,o=n;o<c;){if(e.get(o)!==l)a[u]++;else{if(++u===i)break;a[u]=1,l=!l}o++}if(!(u===i||u===i-1&&o===c))throw new Er},r.recordPatternInReverse=function(e,n,a){for(var i=a.length,s=e.get(n);n>0&&i>=0;)e.get(--n)!==s&&(i--,s=!s);if(i>=0)throw new Er;r.recordPattern(e,n+1,a)},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return Number.POSITIVE_INFINITY;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],A=n[h]*u,f=d>A?d-A:A-d;if(f>a)return Number.POSITIVE_INFINITY;o+=f}return o/s},r})(),qae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),p_=(function(r){qae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var a=n.getSize(),i=n.getNextSet(0),s=0,c=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,o=6,h=i;h<a;h++)if(n.get(h)!==u)c[s]++;else{if(s===o-1){for(var d=e.MAX_AVG_VARIANCE,A=-1,f=e.CODE_START_A;f<=e.CODE_START_C;f++){var g=Yl.patternMatchVariance(c,e.CODE_PATTERNS[f],e.MAX_INDIVIDUAL_VARIANCE);g<d&&(d=g,A=f)}if(A>=0&&n.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,A]);l+=c[0]+c[1],c=c.slice(2,c.length),c[s-1]=0,c[s]=0,s--}else s++;c[s]=1,u=!u}throw new Er},e.decodeCode=function(n,a,i){Yl.recordPattern(n,i,a);for(var s=e.MAX_AVG_VARIANCE,c=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],o=this.patternMatchVariance(a,u,e.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,c=l)}if(c>=0)return c;throw new Er},e.prototype.decodeRow=function(n,a,i){var s=i&&i.get(oo.ASSUME_GS1)===!0,c=e.findStartPattern(a),l=c[2],u=0,o=new Uint8Array(20);o[u++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new mn}for(var d=!1,A=!1,f="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,b=0,w=l,N=0,S=!0,C=!1,k=!1;!d;){var W=A;switch(A=!1,y=b,b=e.decodeCode(a,x,m),o[u++]=b,b!==e.CODE_STOP&&(S=!0),b!==e.CODE_STOP&&(N++,w+=N*b),g=m,m+=x.reduce(function(ie,Ae){return ie+Ae},0),b){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new mn}switch(h){case e.CODE_CODE_A:if(b<64)k===C?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),k=!1;else if(b<96)k===C?f+=String.fromCharCode(b-64):f+=String.fromCharCode(b+64),k=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&k?(C=!0,k=!1):C&&k?(C=!1,k=!1):k=!0;break;case e.CODE_SHIFT:A=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_B:if(b<96)k===C?f+=String.fromCharCode(32+b):f+=String.fromCharCode(32+b+128),k=!1;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&k?(C=!0,k=!1):C&&k?(C=!1,k=!1):k=!0;break;case e.CODE_SHIFT:A=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_C:if(b<100)b<10&&(f+="0"),f+=b;else switch(b!==e.CODE_STOP&&(S=!1),b){case e.CODE_FNC_1:s&&(f.length===0?f+="]C1":f+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:d=!0;break}break}W&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var q=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new Er;if(w-=N*y,w%103!==y)throw new Nl;var te=f.length;if(te===0)throw new Er;te>0&&S&&(h===e.CODE_CODE_C?f=f.substring(0,te-2):f=f.substring(0,te-1));for(var K=(c[1]+c[0])/2,X=g+q/2,O=o.length,le=new Uint8Array(O),z=0;z<O;z++)le[z]=o[z];var R=[new ra(K,n),new ra(X,n)];return new tu(f,le,0,R,Ba.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Yl),Xae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Xj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m_=(function(r){Xae(e,r);function e(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=a,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.counters;o.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(a,o),d=a.getNextSet(h[1]),A=a.getSize(),f,g;do{e.recordPattern(a,d,o);var m=e.toNarrowWidePattern(o);if(m<0)throw new Er;f=e.patternToChar(m),this.decodeRowResult+=f,g=d;try{for(var x=(s=void 0,Xj(o)),y=x.next();!y.done;y=x.next()){var b=y.value;d+=b}}catch(O){s={error:O}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}d=a.getNextSet(d)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Xj(o),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(O){l={error:O}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}var C=d-g-w;if(d!==A&&C*2<w)throw new Er;if(this.usingCheckDigit){for(var k=this.decodeRowResult.length-1,W=0,q=0;q<k;q++)W+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(k)!==e.ALPHABET_STRING.charAt(W%43))throw new Nl;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new Er;var te;this.extendedMode?te=e.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;var K=(h[1]+h[0])/2,X=g+w/2;return new tu(te,null,0,[new ra(K,n),new ra(X,n)],Ba.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,a){for(var i=n.getSize(),s=n.getNextSet(0),c=0,l=s,u=!1,o=a.length,h=s;h<i;h++)if(n.get(h)!==u)a[c]++;else{if(c===o-1){if(this.toNarrowWidePattern(a)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,u=!u}throw new Er},e.toNarrowWidePattern=function(n){var a,i,s=n.length,c=0,l;do{var u=2147483647;try{for(var o=(a=void 0,Xj(n)),h=o.next();!h.done;h=o.next()){var d=h.value;d<u&&d>c&&(u=d)}}catch(m){a={error:m}}finally{try{h&&!h.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}c=u,l=0;for(var A=0,f=0,g=0;g<s;g++){var d=n[g];d>c&&(f|=1<<s-1-g,l++,A+=d)}if(l===3){for(var g=0;g<s&&l>0;g++){var d=n[g];if(d>c&&(l--,d*2>=A))return-1}return f}}while(l>3);return-1},e.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);if(n===e.ASTERISK_ENCODING)return"*";throw new Er},e.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c==="+"||c==="$"||c==="%"||c==="/"){var l=n.charAt(s+1),u="\0";switch(c){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new mn;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new mn;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new mn;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new mn;break}i+=u,s++}else i+=c}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Yl),Yae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g_=(function(r){Yae(e,r);function e(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.findAsteriskPattern(a),h=a.getNextSet(o[1]),d=a.getSize(),A=this.counters;A.fill(0),this.decodeRowResult="";var f,g;do{e.recordPattern(a,h,A);var m=this.toPattern(A);if(m<0)throw new Er;f=this.patternToChar(m),this.decodeRowResult+=f,g=h;try{for(var x=(s=void 0,Yj(A)),y=x.next();!y.done;y=x.next()){var b=y.value;h+=b}}catch(q){s={error:q}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}h=a.getNextSet(h)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Yj(A),S=N.next();!S.done;S=N.next()){var b=S.value;w+=b}}catch(q){l={error:q}}finally{try{S&&!S.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}if(h===d||!a.get(h))throw new Er;if(this.decodeRowResult.length<2)throw new Er;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),k=(o[1]+o[0])/2,W=g+w/2;return new tu(C,null,0,[new ra(k,n),new ra(W,n)],Ba.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var a=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var s=this.counters,c=i,l=!1,u=s.length,o=0,h=i;h<a;h++)if(n.get(h)!==l)s[o]++;else{if(o===u-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([c,h]);c+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new Er},e.prototype.toPattern=function(n){var a,i,s=0;try{for(var c=Yj(n),l=c.next();!l.done;l=c.next()){var u=l.value;s+=u}}catch(g){a={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}for(var o=0,h=n.length,d=0;d<h;d++){var A=Math.round(n[d]*9/s);if(A<1||A>4)return-1;if((d&1)===0)for(var f=0;f<A;f++)o=o<<1|1;else o<<=A}return o},e.prototype.patternToChar=function(n){for(var a=0;a<e.CHARACTER_ENCODINGS.length;a++)if(e.CHARACTER_ENCODINGS[a]===n)return e.ALPHABET_STRING.charAt(a);throw new Er},e.prototype.decodeExtended=function(n){for(var a=n.length,i="",s=0;s<a;s++){var c=n.charAt(s);if(c>="a"&&c<="d"){if(s>=a-1)throw new mn;var l=n.charAt(s+1),u="\0";switch(c){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new mn;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new mn;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new mn;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new mn;break}i+=u,s++}else i+=c}return i},e.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},e.prototype.checkOneChecksum=function(n,a,i){for(var s=1,c=0,l=a-1;l>=0;l--)c+=s*e.ALPHABET_STRING.indexOf(n.charAt(l)),++s>i&&(s=1);if(n.charAt(a)!==e.ALPHABET_STRING[c%47])throw new Nl},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Yl),Zae=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jae=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v_=(function(r){Zae(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,a,i){var s,c,l=this.decodeStart(a),u=this.decodeEnd(a),o=new Ci;e.decodeMiddle(a,l[1],u[0],o);var h=o.toString(),d=null;i!=null&&(d=i.get(oo.ALLOWED_LENGTHS)),d==null&&(d=e.DEFAULT_ALLOWED_LENGTHS);var A=h.length,f=!1,g=0;try{for(var m=Jae(d),x=m.next();!x.done;x=m.next()){var y=x.value;if(A===y){f=!0;break}y>g&&(g=y)}}catch(N){s={error:N}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}if(!f&&A>g&&(f=!0),!f)throw new mn;var b=[new ra(l[1],n),new ra(u[0],n)],w=new tu(h,null,0,b,Ba.ITF,new Date().getTime());return w},e.decodeMiddle=function(n,a,i,s){var c=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(c.fill(0),l.fill(0),u.fill(0);a<i;){Yl.recordPattern(n,a,c);for(var o=0;o<5;o++){var h=2*o;l[o]=c[h],u[o]=c[h+1]}var d=e.decodeDigit(l);s.append(d.toString()),d=this.decodeDigit(u),s.append(d.toString()),c.forEach(function(A){a+=A})}},e.prototype.decodeStart=function(n){var a=e.skipWhiteSpace(n),i=e.findGuardPattern(n,a,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,a){var i=this.narrowLineWidth*10;i=i<a?i:a;for(var s=a-1;i>0&&s>=0&&!n.get(s);s--)i--;if(i!==0)throw new Er},e.skipWhiteSpace=function(n){var a=n.getSize(),i=n.getNextSet(0);if(i===a)throw new Er;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var a=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[0])}catch(c){c instanceof Er&&(i=e.findGuardPattern(n,a,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var s=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-s,i}finally{n.reverse()}},e.findGuardPattern=function(n,a,i){var s=i.length,c=new Int32Array(s),l=n.getSize(),u=!1,o=0,h=a;c.fill(0);for(var d=a;d<l;d++)if(n.get(d)!==u)c[o]++;else{if(o===s-1){if(Yl.patternMatchVariance(c,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,d];h+=c[0]+c[1],so.arraycopy(c,2,c,0,o-1),c[o-1]=0,c[o]=0,o--}else o++;c[o]=1,u=!u}throw new Er},e.decodeDigit=function(n){for(var a=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,c=0;c<s;c++){var l=e.PATTERNS[c],u=Yl.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=c):u===a&&(i=-1)}if(i>=0)return i%10;throw new Er},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Yl),eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bm=(function(r){eie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var a=!1,i,s=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,s,!1,this.START_END_PATTERN,c);var l=i[0];s=i[1];var u=l-(s-l);u>=0&&(a=n.isRange(u,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,a,i,s){return this.findGuardPattern(n,a,i,s,new Int32Array(s.length))},e.findGuardPattern=function(n,a,i,s,c){var l=n.getSize();a=i?n.getNextUnset(a):n.getNextSet(a);for(var u=0,o=a,h=s.length,d=i,A=a;A<l;A++)if(n.get(A)!==d)c[u]++;else{if(u===h-1){if(Yl.patternMatchVariance(c,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([o,A]);o+=c[0]+c[1];for(var f=c.slice(2,c.length),g=0;g<u-1;g++)c[g]=f[g];c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,d=!d}throw new Er},e.decodeDigit=function(n,a,i,s){this.recordPattern(n,i,a);for(var c=this.MAX_AVG_VARIANCE,l=-1,u=s.length,o=0;o<u;o++){var h=s[o],d=Yl.patternMatchVariance(a,h,e.MAX_INDIVIDUAL_VARIANCE);d<c&&(c=d,l=o)}if(l>=0)return l;throw new Er},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Yl),tie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rie=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new ra((a[0]+a[1])/2,e),new ra(s,e)],o=new tu(c,null,0,u,Ba.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<5&&u<l;h++){var d=Bm.decodeDigit(e,c,u,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var A=(i=void 0,tie(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}d>=10&&(o|=1<<4-h),h!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==5)throw new Er;var m=this.determineCheckDigit(o);if(r.extensionChecksum(a.toString())!==m)throw new Er;return u},r.extensionChecksum=function(e){for(var n=e.length,a=0,i=n-2;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;a*=3;for(var i=n-1;i>=0;i-=2)a+=e.charAt(i).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Er},r.parseExtensionString=function(e){if(e.length!==5)return null;var n=r.parseExtension5String(e);return n==null?null:new Map([[Lc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(e.substring(1)),i=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return n+i+"."+c},r})(),nie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aie=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,n,a){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(n,a,i),c=i.toString(),l=r.parseExtensionString(c),u=[new ra((a[0]+a[1])/2,e),new ra(s,e)],o=new tu(c,null,0,u,Ba.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&o.putAllMetadata(l),o},r.prototype.decodeMiddle=function(e,n,a){var i,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],o=0,h=0;h<2&&u<l;h++){var d=Bm.decodeDigit(e,c,u,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);try{for(var A=(i=void 0,nie(c)),f=A.next();!f.done;f=A.next()){var g=f.value;u+=g}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}d>=10&&(o|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==2)throw new Er;if(parseInt(a.toString())%4!==o)throw new Er;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Lc.ISSUE_NUMBER,parseInt(e)]])},r})(),iie=(function(){function r(){}return r.decodeRow=function(e,n,a){var i=Bm.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new rie;return s.decodeRow(e,n,i)}catch{var c=new aie;return c.decodeRow(e,n,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vl=(function(r){sie(e,r);function e(){var n=r.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var a=10;a<20;a++){for(var i=e.L_PATTERNS[a-10],s=new Int32Array(i.length),c=0;c<i.length;c++)s[c]=i[i.length-c-1];e.L_AND_G_PATTERNS[a]=s}return n}return e.prototype.decodeRow=function(n,a,i){var s=e.findStartGuardPattern(a),c=i==null?null:i.get(oo.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=new ra((s[0]+s[1])/2,n);c.foundPossibleResultPoint(l)}var u=this.decodeMiddle(a,s,this.decodeRowStringBuffer),o=u.rowOffset,h=u.resultString;if(c!=null){var d=new ra(o,n);c.foundPossibleResultPoint(d)}var A=e.decodeEnd(a,o);if(c!=null){var f=new ra((A[0]+A[1])/2,n);c.foundPossibleResultPoint(f)}var g=A[1],m=g+(g-A[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new Er;var x=h.toString();if(x.length<8)throw new mn;if(!e.checkChecksum(x))throw new Nl;var y=(s[1]+s[0])/2,b=(A[1]+A[0])/2,w=this.getBarcodeFormat(),N=[new ra(y,n),new ra(b,n)],S=new tu(x,null,0,N,w,new Date().getTime()),C=0;try{var k=iie.decodeRow(n,a,A[1]);S.putMetadata(Lc.UPC_EAN_EXTENSION,k.getText()),S.putAllMetadata(k.getResultMetadata()),S.addResultPoints(k.getResultPoints()),C=k.getText().length}catch{}var W=i==null?null:i.get(oo.ALLOWED_EAN_EXTENSIONS);if(W!=null){var q=!1;for(var te in W)if(C.toString()===te){q=!0;break}if(!q)throw new Er}return w===Ba.EAN_13||Ba.UPC_A,S},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var i=parseInt(n.charAt(a-1),10);return e.getStandardUPCEANChecksum(n.substring(0,a-1))===i},e.getStandardUPCEANChecksum=function(n){for(var a=n.length,i=0,s=a-1;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}i*=3;for(var s=a-2;s>=0;s-=2){var c=n.charAt(s).charCodeAt(0)-48;if(c<0||c>9)throw new mn;i+=c}return(1e3-i)%10},e.decodeEnd=function(n,a){return e.findGuardPattern(n,a,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Bm),oie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),x_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RN=(function(r){oie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],A=0,f=0;f<6&&d<h;f++){var g=Vl.decodeDigit(n,o,d,Vl.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(s=void 0,x_(o)),x=m.next();!x.done;x=m.next()){var y=x.value;d+=y}}catch(S){s={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}g>=10&&(A|=1<<5-f)}i=e.determineFirstDigit(i,A);var b=Vl.findGuardPattern(n,d,!0,Vl.MIDDLE_PATTERN,new Int32Array(Vl.MIDDLE_PATTERN.length).fill(0));d=b[1];for(var f=0;f<6&&d<h;f++){var g=Vl.decodeDigit(n,o,d,Vl.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var w=(l=void 0,x_(o)),N=w.next();!N.done;N=w.next()){var y=N.value;d+=y}}catch(k){l={error:k}}finally{try{N&&!N.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ba.EAN_13},e.determineFirstDigit=function(n,a){for(var i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new Er},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Vl),lie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),y_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b_=(function(r){lie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l,u,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var h=n.getSize(),d=a[1],A=0;A<4&&d<h;A++){var f=Vl.decodeDigit(n,o,d,Vl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var g=(s=void 0,y_(o)),m=g.next();!m.done;m=g.next()){var x=m.value;d+=x}}catch(N){s={error:N}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}}var y=Vl.findGuardPattern(n,d,!0,Vl.MIDDLE_PATTERN,new Int32Array(Vl.MIDDLE_PATTERN.length).fill(0));d=y[1];for(var A=0;A<4&&d<h;A++){var f=Vl.decodeDigit(n,o,d,Vl.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var b=(l=void 0,y_(o)),w=b.next();!w.done;w=b.next()){var x=w.value;d+=x}}catch(C){l={error:C}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ba.EAN_8},e})(Vl),cie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),w_=(function(r){cie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new RN,n}return e.prototype.getBarcodeFormat=function(){return Ba.UPC_A},e.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,i))},e.prototype.decodeMiddle=function(n,a,i){return this.ean13Reader.decodeMiddle(n,a,i)},e.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var i=new tu(a.substring(1),null,null,n.getResultPoints(),Ba.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new Er},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Vl),uie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),die=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j_=(function(r){uie(e,r);function e(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,a,i){var s,c,l=this.decodeMiddleCounters.map(function(x){return x});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),o=a[1],h=0,d=0;d<6&&o<u;d++){var A=e.decodeDigit(n,l,o,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var f=(s=void 0,die(l)),g=f.next();!g.done;g=f.next()){var m=g.value;o+=m}}catch(x){s={error:x}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}A>=10&&(h|=1<<5-d)}return e.determineNumSysAndCheckDigit(new Ci(i),h),o},e.prototype.decodeEnd=function(n,a){return e.findGuardPatternWithoutCounters(n,a,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Vl.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,a){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){n.insert(0,"0"+i),n.append("0"+s);return}throw Er.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ba.UPC_E},e.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),i=new Ci;i.append(n.charAt(0));var s=a[5];switch(s){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(s),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(s);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Vl),hie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),C_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zj=(function(r){hie(e,r);function e(n){var a=r.call(this)||this,i=n==null?null:n.get(oo.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Ba.EAN_13)>-1&&s.push(new RN),i.indexOf(Ba.UPC_A)>-1&&s.push(new w_),i.indexOf(Ba.EAN_8)>-1&&s.push(new b_),i.indexOf(Ba.UPC_E)>-1&&s.push(new j_)),s.length===0&&(s.push(new RN),s.push(new w_),s.push(new b_),s.push(new j_)),a.readers=s,a}return e.prototype.decodeRow=function(n,a,i){var s,c;try{for(var l=C_(this.readers),u=l.next();!u.done;u=l.next()){var o=u.value;try{var h=o.decodeRow(n,a,i),d=h.getBarcodeFormat()===Ba.EAN_13&&h.getText().charAt(0)==="0",A=i==null?null:i.get(oo.POSSIBLE_FORMATS),f=A==null||A.includes(Ba.UPC_A);if(d&&f){var g=h.getRawBytes(),m=new tu(h.getText().substring(1),g,g?g.length:null,h.getResultPoints(),Ba.UPC_A);return m.putAllMetadata(h.getResultMetadata()),m}return h}catch{}}}catch(x){s={error:x}}finally{try{u&&!u.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}throw new Er},e.prototype.reset=function(){var n,a;try{for(var i=C_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;c.reset()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e})(Yl),Aie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fie=(function(r){Aie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,a,i){var s=this.getValidRowData(a);if(!s)throw new Er;var c=this.codaBarDecodeRow(s.row);if(!c)throw new Er;return new tu(c,null,0,[new ra(s.left,n),new ra(s.right,n)],Ba.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var a=n.toArray(),i=a.indexOf(!0);if(i===-1)return null;var s=a.lastIndexOf(!0);if(s<=i)return null;a=a.slice(i,s+1);for(var c=[],l=a[0],u=1,o=1;o<a.length;o++)a[o]===l?u++:(l=a[o],c.push(u),u=1);return c.push(u),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:i,right:s}},e.prototype.codaBarDecodeRow=function(n){for(var a=[],i=Math.ceil(n.reduce(function(u,o){return(u+o)/2},0));n.length>0;){var s=n.splice(0,8).splice(0,7),c=s.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var l=a.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},e})(Yl),pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zf=(function(r){pie(e,r);function e(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,a){for(var i=0;i<a.length;i++)if(Yl.patternMatchVariance(n,a[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Er},e.count=function(n){return ss.sum(new Int32Array(n))},e.increment=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]>s&&(s=a[c],i=c);n[i]++},e.decrement=function(n,a){for(var i=0,s=a[0],c=1;c<n.length;c++)a[c]<s&&(s=a[c],i=c);n[i]--},e.isFinderPattern=function(n){var a,i,s=n[0]+n[1],c=s+n[2]+n[3],l=s/c;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;try{for(var h=mie(n),d=h.next();!d.done;d=h.next()){var A=d.value;A>o&&(o=A),A<u&&(u=A)}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return o<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Yl),px=(function(){function r(e,n){this.value=e,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),qF=(function(){function r(e,n,a,i,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ra(a,s)),this.resultPoints.push(new ra(i,s))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),gie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gp=(function(){function r(){}return r.getRSSvalue=function(e,n,a){var i,s,c=0;try{for(var l=gie(e),u=l.next();!u.done;u=l.next()){var o=u.value;c+=o}}catch(b){i={error:b}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var h=0,d=0,A=e.length,f=0;f<A-1;f++){var g=void 0;for(g=1,d|=1<<f;g<e[f];g++,d&=~(1<<f)){var m=r.combins(c-g-1,A-f-2);if(a&&d===0&&c-g-(A-f-1)>=A-f-1&&(m-=r.combins(c-g-(A-f),A-f-2)),A-f-1>1){for(var x=0,y=c-g-(A-f-2);y>n;y--)x+=r.combins(c-g-y-1,A-f-3);m-=x*(A-1-f)}else c-g>n&&m--;h+=m}c-=g}return h},r.combins=function(e,n){var a,i;e-n>n?(i=n,a=e-n):(i=e-n,a=n);for(var s=1,c=1,l=e;l>a;l--)s*=l,c<=i&&(s/=c,c++);for(;c<=i;)s/=c,c++;return s},r})(),vie=(function(){function r(){}return r.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,i=new bc(a),s=0,c=e[0],l=c.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(s),s++;for(var u=1;u<e.length;++u){for(var o=e[u],h=o.getLeftChar().getValue(),d=11;d>=0;--d)(h&1<<d)!==0&&i.set(s),s++;if(o.getRightChar()!==null)for(var A=o.getRightChar().getValue(),d=11;d>=0;--d)(A&1<<d)!==0&&i.set(s),s++}return i},r})(),Qf=(function(){function r(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),oS=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),xie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sh=(function(r){xie(e,r);function e(n,a){var i=r.call(this,n)||this;return i.value=a,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(oS),yie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wf=(function(r){yie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=a,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(oS),bie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Up=(function(r){bie(e,r);function e(n,a,i){var s=r.call(this,n)||this;if(a<0||a>10||i<0||i>10)throw new mn;return s.firstDigit=a,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(oS),tv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wie=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var n,a,i,s,c,l,u,o;if(!e)return null;if(e.length<2)throw new Er;var h=e.substring(0,2);try{for(var d=tv(r.TWO_DIGIT_DATA_LENGTH),A=d.next();!A.done;A=d.next()){var f=A.value;if(f[0]===h)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,f[2],e):r.processFixedAI(2,f[1],e)}}catch(C){n={error:C}}finally{try{A&&!A.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}if(e.length<3)throw new Er;var g=e.substring(0,3);try{for(var m=tv(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var f=x.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,f[2],e):r.processFixedAI(3,f[1],e)}}catch(C){i={error:C}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=tv(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var f=b.value;if(f[0]===g)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(C){c={error:C}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}if(e.length<4)throw new Er;var w=e.substring(0,4);try{for(var N=tv(r.FOUR_DIGIT_DATA_LENGTH),S=N.next();!S.done;S=N.next()){var f=S.value;if(f[0]===w)return f[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,f[2],e):r.processFixedAI(4,f[1],e)}}catch(C){u={error:C}}finally{try{S&&!S.done&&(o=N.return)&&o.call(N)}finally{if(u)throw u.error}}throw new Er},r.processFixedAI=function(e,n,a){if(a.length<e)throw new Er;var i=a.substring(0,e);if(a.length<e+n)throw new Er;var s=a.substring(e,e+n),c=a.substring(e+n),l="("+i+")"+s,u=r.parseFieldsInGeneralPurpose(c);return u==null?l:l+u},r.processVariableAI=function(e,n,a){var i=a.substring(0,e),s;a.length<e+n?s=a.length:s=e+n;var c=a.substring(e,s),l=a.substring(s),u="("+i+")"+c,o=r.parseFieldsInGeneralPurpose(l);return o==null?u:u+o},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),uv=(function(){function r(e){this.buffer=new Ci,this.information=e}return r.prototype.decodeAllCodes=function(e,n){var a=n,i=null;do{var s=this.decodeGeneralPurposeField(a,i),c=wie.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&e.append(c),s.isRemaining()?i=""+s.getRemainingValue():i=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Up(this.information.getSize(),Up.FNC1,Up.FNC1):new Up(this.information.getSize(),n-1,Up.FNC1)}var a=this.extractNumericValueFromBitArray(e,7),i=(a-8)/11,s=(a-8)%11;return new Up(e+7,i,s)},r.prototype.extractNumericValueFromBitArray=function(e,n){return r.extractNumericValueFromBitArray(this.information,e,n)},r.extractNumericValueFromBitArray=function(e,n,a){for(var i=0,s=0;s<a;++s)e.get(n+s)&&(i|=1<<a-s-1);return i},r.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new Wf(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Wf(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=a!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Wf(this.current.getPosition(),this.buffer.toString()):n=new Wf(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Qf(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Wf(this.current.getPosition(),this.buffer.toString());return new Qf(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Qf(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Wf(this.current.getPosition(),this.buffer.toString());return new Qf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Qf(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Wf(this.current.getPosition(),this.buffer.toString());return new Qf(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Qf(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new sh(e+5,sh.FNC1);if(n>=5&&n<15)return new sh(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new sh(e+7,""+(a+1));if(a>=90&&a<116)return new sh(e+7,""+(a+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new mn}return new sh(e+8,s)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new sh(e+5,sh.FNC1);if(n>=5&&n<15)return new sh(e+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new sh(e+6,""+(a+33));var i;switch(a){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Zg("Decoding invalid alphanumeric value: "+a)}return new sh(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},r})(),XF=(function(){function r(e){this.information=e,this.generalDecoder=new uv(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),jie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),uh=(function(r){jie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,a,i){for(var s=0;s<4;++s){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,a){for(var i=0,s=0;s<13;s++){var c=n.charAt(s+a).charCodeAt(0)-48;i+=(s&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(XF),Cie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Nie=(function(r){Cie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ci;n.append("(01)");var a=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(uh),Sie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bie=(function(r){Sie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ci;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(XF),Eie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),dv=(function(r){Eie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,a,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(n,s);for(var c=this.checkWeight(s),l=1e5,u=0;u<5;++u)c/l===0&&n.append("0"),l/=10;n.append(c)},e})(uh),Iie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),YF=(function(r){Iie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+dv.GTIN_SIZE+e.WEIGHT_SIZE)throw new Er;var n=new Ci;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+dv.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(dv),Tie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),_ie=(function(r){Tie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(YF),Oie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kie=(function(r){Oie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(YF),Pie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Fie=(function(r){Pie(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+uh.GTIN_SIZE)throw new Er;var n=new Ci;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+uh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+uh.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(uh),Die=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mie=(function(r){Die(e,r);function e(n){return r.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+uh.GTIN_SIZE)throw new Er;var n=new Ci;this.encodeCompressedGtin(n,e.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+uh.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+uh.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+uh.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(uh),Rie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),KA=(function(r){Rie(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.dateCode=i,s.firstAIdigits=a,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Er;var n=new Ci;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var s=i%32;i/=32;var c=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),c/10===0&&n.append("0"),n.append(c),s/10===0&&n.append("0"),n.append(s)}},e.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(dv);function Lie(r){try{if(r.get(1))return new Nie(r);if(!r.get(2))return new Bie(r);var e=uv.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new _ie(r);case 5:return new kie(r)}var n=uv.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new Fie(r);case 13:return new Mie(r)}var a=uv.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new KA(r,"310","11");case 57:return new KA(r,"320","11");case 58:return new KA(r,"310","13");case 59:return new KA(r,"320","13");case 60:return new KA(r,"310","15");case 61:return new KA(r,"320","15");case 62:return new KA(r,"310","17");case 63:return new KA(r,"320","17")}}catch(i){throw console.log(i),new Zg("unknown decoder: "+r)}}var N_=(function(){function r(e,n,a,i){this.leftchar=e,this.rightchar=n,this.finderpattern=a,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,n){return e instanceof r?r.equalsOrNull(e.leftchar,n.leftchar)&&r.equalsOrNull(e.rightchar,n.rightchar)&&r.equalsOrNull(e.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(e,n){return e===null?n===null:r.equals(e,n)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),Uie=(function(){function r(e,n,a){this.pairs=e,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,n){return e instanceof r?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var a;return e.forEach(function(i,s){n.forEach(function(c){i.getLeftChar().getValue()===c.getLeftChar().getValue()&&i.getRightChar().getValue()===c.getRightChar().getValue()&&i.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Hie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),GA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qie=(function(r){Hie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,a,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,a))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,a){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(l){if(l instanceof Er){if(!this.pairs.length)throw new Er;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Er},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),a},e.prototype.checkRows=function(n,a){for(var i,s,c=a;c<this.rows.length;c++){var l=this.rows[c];this.pairs.length=0;try{for(var u=(i=void 0,GA(n)),o=u.next();!o.done;o=u.next()){var h=o.value;this.pairs.push(h.getPairs())}}catch(A){i={error:A}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(n);d.push(l);try{return this.checkRows(d,c+1)}catch(A){console.log(A)}}}throw new Er},e.isValidSequence=function(n){var a,i;try{for(var s=GA(e.FINDER_PATTERN_SEQUENCES),c=s.next();!c.done;c=s.next()){var l=c.value;if(!(n.length>l.length)){for(var u=!0,o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!==l[o]){u=!1;break}if(u)return!0}}}catch(h){a={error:h}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.storeRow=function(n,a){for(var i=0,s=!1,c=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){c=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}c||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Uie(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,a){var i,s,c,l,u,o;try{for(var h=GA(a),d=h.next();!d.done;d=h.next()){var A=d.value;if(A.getPairs().length!==n.length){var f=!0;try{for(var g=(c=void 0,GA(A.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,GA(n)),w=b.next();!w.done;w=b.next()){var N=w.value;if(N_.equals(x,N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}y||(f=!1)}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}}}}catch(S){i={error:S}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,a){var i,s,c,l,u,o;try{for(var h=GA(a),d=h.next();!d.done;d=h.next()){var A=d.value,f=!0;try{for(var g=(c=void 0,GA(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(u=void 0,GA(A.getPairs())),w=b.next();!w.done;w=b.next()){var N=w.value;if(x.equals(N)){y=!0;break}}}catch(S){u={error:S}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(u)throw u.error}}if(!y){f=!1;break}}}catch(S){c={error:S}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}if(f)return!0}}catch(S){i={error:S}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var a=vie.buildBitArray(n),i=Lie(a),s=i.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),u=[c[0],c[1],l[0],l[1]];return new tu(s,null,null,u,Ba.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),c=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);s+=u.getLeftChar().getChecksumPortion(),c++;var o=u.getRightChar();o!=null&&(s+=o.getChecksumPortion(),c++)}s%=211;var h=211*(c-4)+s;return h===a.getValue()},e.getNextSecondBar=function(n,a){var i;return n.get(a)?(i=n.getNextUnset(a),i=n.getNextSet(i)):(i=n.getNextSet(a),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,a,i){var s=a.length%2===0;this.startFromEven&&(s=!s);var c,l=!0,u=-1;do this.findNextPair(n,a,u),c=this.parseFoundFinderPattern(n,i,s),c===null?u=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var o=this.decodeDataCharacter(n,c,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Er;var h;try{h=this.decodeDataCharacter(n,c,s,!1)}catch(d){h=null,console.log(d)}return new N_(o,h,c,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,a,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var c=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(a))l=0;else{var u=a[a.length-1];l=u.getFinderPattern().getStartEnd()[1]}var o=a.length%2!==0;this.startFromEven&&(o=!o);for(var h=!1;l<c&&(h=!n.get(l),!!h);)l++;for(var d=0,A=l,f=l;f<c;f++)if(n.get(f)!==h)s[d]++;else{if(d===3){if(o&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=A,this.startEnd[1]=f;return}o&&e.reverseCounters(s),A+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,h=!h}throw new Er},e.reverseCounters=function(n){for(var a=n.length,i=0;i<a/2;++i){var s=n[i];n[i]=n[a-i-1],n[a-i-1]=s}},e.prototype.parseFoundFinderPattern=function(n,a,i){var s,c,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,s=this.startEnd[0]-u,c=u,l=this.startEnd[1]}else c=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var o=this.getDecodeFinderCounters();so.arraycopy(o,0,o,1,o.length-1),o[0]=s;var h;try{h=this.parseFinderValue(o,e.FINDER_PATTERNS)}catch{return null}return new qF(h,[c,l],c,l,a)},e.prototype.decodeDataCharacter=function(n,a,i,s){for(var c=this.getDataCharacterCounters(),l=0;l<c.length;l++)c[l]=0;if(s)e.recordPatternInReverse(n,a.getStartEnd()[0],c);else{e.recordPattern(n,a.getStartEnd()[1],c);for(var u=0,o=c.length-1;u<o;u++,o--){var h=c[u];c[u]=c[o],c[o]=h}}var d=17,A=ss.sum(new Int32Array(c))/d,f=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(A-f)/f>.3)throw new Er;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<c.length;u++){var b=1*c[u]/A,w=b+.5;if(w<1){if(b<.3)throw new Er;w=1}else if(w>8){if(b>8.7)throw new Er;w=8}var N=u/2;(u&1)===0?(g[N]=w,x[N]=b-w):(m[N]=w,y[N]=b-w)}this.adjustOddEvenCounts(d);for(var S=4*a.getValue()+(i?0:2)+(s?0:1)-1,C=0,k=0,u=g.length-1;u>=0;u--){if(e.isNotA1left(a,i,s)){var W=e.WEIGHTS[S][2*u];k+=g[u]*W}C+=g[u]}for(var q=0,u=m.length-1;u>=0;u--)if(e.isNotA1left(a,i,s)){var W=e.WEIGHTS[S][2*u+1];q+=m[u]*W}var te=k+q;if((C&1)!==0||C>13||C<4)throw new Er;var K=(13-C)/2,X=e.SYMBOL_WIDEST[K],O=9-X,le=Gp.getRSSvalue(g,X,!0),z=Gp.getRSSvalue(m,O,!1),R=e.EVEN_TOTAL_SUBSET[K],ie=e.GSUM[K],Ae=le*R+z+ie;return new px(Ae,te)},e.isNotA1left=function(n,a,i){return!(n.getValue()===0&&a&&i)},e.prototype.adjustOddEvenCounts=function(n){var a=ss.sum(new Int32Array(this.getOddCounts())),i=ss.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1;a>13?c=!0:a<4&&(s=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var o=a+i-n,h=(a&1)===1,d=(i&1)===0;if(o===1)if(h){if(d)throw new Er;c=!0}else{if(!d)throw new Er;u=!0}else if(o===-1)if(h){if(d)throw new Er;s=!0}else{if(!d)throw new Er;l=!0}else if(o===0){if(h){if(!d)throw new Er;a<i?(s=!0,u=!0):(c=!0,l=!0)}else if(d)throw new Er}else throw new Er;if(s){if(c)throw new Er;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Er;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(zf),Wie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$ie=(function(r){Wie(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(px),Vie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Jj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S_=(function(r){Vie(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,a,i){var s,c,l,u,o=this.decodePair(a,!1,n,i);e.addOrTally(this.possibleLeftPairs,o),a.reverse();var h=this.decodePair(a,!0,n,i);e.addOrTally(this.possibleRightPairs,h),a.reverse();try{for(var d=Jj(this.possibleLeftPairs),A=d.next();!A.done;A=d.next()){var f=A.value;if(f.getCount()>1)try{for(var g=(l=void 0,Jj(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&e.checkChecksum(f,x))return e.constructResult(f,x)}}catch(y){l={error:y}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}}catch(y){s={error:y}}finally{try{A&&!A.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}throw new Er},e.addOrTally=function(n,a){var i,s;if(a!=null){var c=!1;try{for(var l=Jj(n),u=l.next();!u.done;u=l.next()){var o=u.value;if(o.getValue()===a.getValue()){o.incrementCount(),c=!0;break}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}c||n.push(a)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,a){for(var i=4537077*n.getValue()+a.getValue(),s=new String(i).toString(),c=new Ci,l=13-s.length;l>0;l--)c.append("0");c.append(s);for(var u=0,l=0;l<13;l++){var o=c.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*o:o}u=10-u%10,u===10&&(u=0),c.append(u.toString());var h=n.getFinderPattern().getResultPoints(),d=a.getFinderPattern().getResultPoints();return new tu(c.toString(),null,0,[h[0],h[1],d[0],d[1]],Ba.RSS_14,new Date().getTime())},e.checkChecksum=function(n,a){var i=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(n,a,i,s){try{var c=this.findFinderPattern(n,a),l=this.parseFoundFinderPattern(n,i,a,c),u=s==null?null:s.get(oo.NEED_RESULT_POINT_CALLBACK);if(u!=null){var o=(c[0]+c[1])/2;a&&(o=n.getSize()-1-o),u.foundPossibleResultPoint(new ra(o,i))}var h=this.decodeDataCharacter(n,l,!0),d=this.decodeDataCharacter(n,l,!1);return new $ie(1597*h.getValue()+d.getValue(),h.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,a,i){for(var s=this.getDataCharacterCounters(),c=0;c<s.length;c++)s[c]=0;if(i)Yl.recordPatternInReverse(n,a.getStartEnd()[0],s);else{Yl.recordPattern(n,a.getStartEnd()[1]+1,s);for(var l=0,u=s.length-1;l<u;l++,u--){var o=s[l];s[l]=s[u],s[u]=o}}for(var h=i?16:15,d=ss.sum(new Int32Array(s))/h,A=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var x=s[l]/d,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var b=Math.floor(l/2);(l&1)===0?(A[b]=y,g[b]=x-y):(f[b]=y,m[b]=x-y)}this.adjustOddEvenCounts(i,h);for(var w=0,N=0,l=A.length-1;l>=0;l--)N*=9,N+=A[l],w+=A[l];for(var S=0,C=0,l=f.length-1;l>=0;l--)S*=9,S+=f[l],C+=f[l];var k=N+3*S;if(i){if((w&1)!==0||w>12||w<4)throw new Er;var W=(12-w)/2,q=e.OUTSIDE_ODD_WIDEST[W],te=9-q,K=Gp.getRSSvalue(A,q,!1),X=Gp.getRSSvalue(f,te,!0),O=e.OUTSIDE_EVEN_TOTAL_SUBSET[W],le=e.OUTSIDE_GSUM[W];return new px(K*O+X+le,k)}else{if((C&1)!==0||C>10||C<4)throw new Er;var W=(10-C)/2,q=e.INSIDE_ODD_WIDEST[W],te=9-q,K=Gp.getRSSvalue(A,q,!0),X=Gp.getRSSvalue(f,te,!1),z=e.INSIDE_ODD_TOTAL_SUBSET[W],le=e.INSIDE_GSUM[W];return new px(X*z+K+le,k)}},e.prototype.findFinderPattern=function(n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=n.getSize(),c=!1,l=0;l<s&&(c=!n.get(l),a!==c);)l++;for(var u=0,o=l,h=l;h<s;h++)if(n.get(h)!==c)i[u]++;else{if(u===3){if(zf.isFinderPattern(i))return[o,h];o+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,c=!c}throw new Er},e.prototype.parseFoundFinderPattern=function(n,a,i,s){for(var c=n.get(s[0]),l=s[0]-1;l>=0&&c!==n.get(l);)l--;l++;var u=s[0]-l,o=this.getDecodeFinderCounters(),h=new Int32Array(o.length);so.arraycopy(o,0,h,1,o.length-1),h[0]=u;var d=this.parseFinderValue(h,e.FINDER_PATTERNS),A=l,f=s[1];return i&&(A=n.getSize()-1-A,f=n.getSize()-1-f),new qF(d,[l,s[1]],A,f,a)},e.prototype.adjustOddEvenCounts=function(n,a){var i=ss.sum(new Int32Array(this.getOddCounts())),s=ss.sum(new Int32Array(this.getEvenCounts())),c=!1,l=!1,u=!1,o=!1;n?(i>12?l=!0:i<4&&(c=!0),s>12?o=!0:s<4&&(u=!0)):(i>11?l=!0:i<5&&(c=!0),s>10?o=!0:s<4&&(u=!0));var h=i+s-a,d=(i&1)===(n?1:0),A=(s&1)===1;if(h===1)if(d){if(A)throw new Er;l=!0}else{if(!A)throw new Er;o=!0}else if(h===-1)if(d){if(A)throw new Er;c=!0}else{if(!A)throw new Er;u=!0}else if(h===0){if(d){if(!A)throw new Er;i<s?(c=!0,o=!0):(l=!0,u=!0)}else if(A)throw new Er}else throw new Er;if(c){if(l)throw new Er;zf.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&zf.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(o)throw new Er;zf.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&zf.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(zf),zie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qp=(function(r){zie(e,r);function e(n){var a=r.call(this)||this;a.readers=[];var i=n?n.get(oo.POSSIBLE_FORMATS):null,s=n&&n.get(oo.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(oo.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ba.EAN_13)||i.includes(Ba.UPC_A)||i.includes(Ba.EAN_8)||i.includes(Ba.UPC_E))&&a.readers.push(new Zj(n)),i.includes(Ba.CODE_39)&&a.readers.push(new m_(s,c)),i.includes(Ba.CODE_93)&&a.readers.push(new g_),i.includes(Ba.CODE_128)&&a.readers.push(new p_),i.includes(Ba.ITF)&&a.readers.push(new v_),i.includes(Ba.CODABAR)&&a.readers.push(new fie),i.includes(Ba.RSS_14)&&a.readers.push(new S_),i.includes(Ba.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new Qie))),a.readers.length===0&&(a.readers.push(new Zj(n)),a.readers.push(new m_),a.readers.push(new g_),a.readers.push(new Zj(n)),a.readers.push(new p_),a.readers.push(new v_),a.readers.push(new S_)),a}return e.prototype.decodeRow=function(n,a,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,a,i)}catch{}throw new Er},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Yl),Kie=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Kie(e,r);function e(n,a){return n===void 0&&(n=500),r.call(this,new qp(a),n,a)||this}return e})(Lm);var B_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bs=(function(){function r(e,n,a){this.ecCodewords=e,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ps=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Gie=(function(){function r(e,n,a,i,s,c){var l,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=c;var o=0,h=c.getECCodewords(),d=c.getECBlocks();try{for(var A=B_(d),f=A.next();!f.done;f=A.next()){var g=f.value;o+=g.getCount()*(g.getDataCodewords()+h)}}catch(m){l={error:m}}finally{try{f&&!f.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,n){var a,i;if((e&1)!==0||(n&1)!==0)throw new mn;try{for(var s=B_(r.VERSIONS),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(u){a={error:u}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}throw new mn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Bs(5,new ps(1,3))),new r(2,12,12,10,10,new Bs(7,new ps(1,5))),new r(3,14,14,12,12,new Bs(10,new ps(1,8))),new r(4,16,16,14,14,new Bs(12,new ps(1,12))),new r(5,18,18,16,16,new Bs(14,new ps(1,18))),new r(6,20,20,18,18,new Bs(18,new ps(1,22))),new r(7,22,22,20,20,new Bs(20,new ps(1,30))),new r(8,24,24,22,22,new Bs(24,new ps(1,36))),new r(9,26,26,24,24,new Bs(28,new ps(1,44))),new r(10,32,32,14,14,new Bs(36,new ps(1,62))),new r(11,36,36,16,16,new Bs(42,new ps(1,86))),new r(12,40,40,18,18,new Bs(48,new ps(1,114))),new r(13,44,44,20,20,new Bs(56,new ps(1,144))),new r(14,48,48,22,22,new Bs(68,new ps(1,174))),new r(15,52,52,24,24,new Bs(42,new ps(2,102))),new r(16,64,64,14,14,new Bs(56,new ps(2,140))),new r(17,72,72,16,16,new Bs(36,new ps(4,92))),new r(18,80,80,18,18,new Bs(48,new ps(4,114))),new r(19,88,88,20,20,new Bs(56,new ps(4,144))),new r(20,96,96,22,22,new Bs(68,new ps(4,174))),new r(21,104,104,24,24,new Bs(56,new ps(6,136))),new r(22,120,120,18,18,new Bs(68,new ps(6,175))),new r(23,132,132,20,20,new Bs(62,new ps(8,163))),new r(24,144,144,22,22,new Bs(62,new ps(8,156),new ps(2,155))),new r(25,8,18,6,16,new Bs(7,new ps(1,5))),new r(26,8,32,6,14,new Bs(11,new ps(1,10))),new r(27,12,26,10,24,new Bs(14,new ps(1,16))),new r(28,12,36,10,16,new Bs(18,new ps(1,22))),new r(29,16,36,14,16,new Bs(24,new ps(1,32))),new r(30,16,48,14,22,new Bs(28,new ps(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),qie=(function(){function r(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new mn;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Fh(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var n=e.getHeight(),a=e.getWidth();return Gie.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,i=0,s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),l=!1,u=!1,o=!1,h=!1;do if(a===s&&i===0&&!l)e[n++]=this.readCorner1(s,c)&255,a-=2,i+=2,l=!0;else if(a===s-2&&i===0&&(c&3)!==0&&!u)e[n++]=this.readCorner2(s,c)&255,a-=2,i+=2,u=!0;else if(a===s+4&&i===2&&(c&7)===0&&!o)e[n++]=this.readCorner3(s,c)&255,a-=2,i+=2,o=!0;else if(a===s-2&&i===0&&(c&7)===4&&!h)e[n++]=this.readCorner4(s,c)&255,a-=2,i+=2,h=!0;else{do a<s&&i>=0&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a-=2,i+=2;while(a>=0&&i<c);a+=1,i+=3;do a>=0&&i<c&&!this.readMappingMatrix.get(i,a)&&(e[n++]=this.readUtah(a,i,s,c)&255),a+=2,i-=2;while(a<s&&i>=0);a+=3,i+=1}while(a<s||i<c);if(n!==this.version.getTotalCodewords())throw new mn;return e},r.prototype.readModule=function(e,n,a,i){return e<0&&(e+=a,n+=4-(a+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},r.prototype.readUtah=function(e,n,a,i){var s=0;return this.readModule(e-2,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-2,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e-1,n,a,i)&&(s|=1),s<<=1,this.readModule(e,n-2,a,i)&&(s|=1),s<<=1,this.readModule(e,n-1,a,i)&&(s|=1),s<<=1,this.readModule(e,n,a,i)&&(s|=1),s},r.prototype.readCorner1=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,1,e,n)&&(a|=1),a<<=1,this.readModule(e-1,2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.readCorner2=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-4,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner3=function(e,n){var a=0;return this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(0,n-3,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-3,e,n)&&(a|=1),a<<=1,this.readModule(1,n-2,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a},r.prototype.readCorner4=function(e,n){var a=0;return this.readModule(e-3,0,e,n)&&(a|=1),a<<=1,this.readModule(e-2,0,e,n)&&(a|=1),a<<=1,this.readModule(e-1,0,e,n)&&(a|=1),a<<=1,this.readModule(0,n-2,e,n)&&(a|=1),a<<=1,this.readModule(0,n-1,e,n)&&(a|=1),a<<=1,this.readModule(1,n-1,e,n)&&(a|=1),a<<=1,this.readModule(2,n-1,e,n)&&(a|=1),a<<=1,this.readModule(3,n-1,e,n)&&(a|=1),a},r.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Ea("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=n/i|0,l=a/s|0,u=c*i,o=l*s,h=new Fh(o,u),d=0;d<c;++d)for(var A=d*i,f=0;f<l;++f)for(var g=f*s,m=0;m<i;++m)for(var x=d*(i+2)+1+m,y=A+m,b=0;b<s;++b){var w=f*(s+2)+1+b;if(e.get(w,x)){var N=g+b;h.set(N,y)}}return h},r})(),E_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xie=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n){var a,i,s,c,l=n.getECBlocks(),u=0,o=l.getECBlocks();try{for(var h=E_(o),d=h.next();!d.done;d=h.next()){var A=d.value;u+=A.getCount()}}catch(le){a={error:le}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}var f=new Array(u),g=0;try{for(var m=E_(o),x=m.next();!x.done;x=m.next())for(var A=x.value,y=0;y<A.getCount();y++){var b=A.getDataCodewords(),w=l.getECCodewords()+b;f[g++]=new r(b,new Uint8Array(w))}}catch(le){s={error:le}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}for(var N=f[0].codewords.length,S=N-l.getECCodewords(),C=S-1,k=0,y=0;y<C;y++)for(var W=0;W<g;W++)f[W].codewords[y]=e[k++];for(var q=n.getVersionNumber()===24,te=q?8:g,W=0;W<te;W++)f[W].codewords[S-1]=e[k++];for(var K=f[0].codewords.length,y=S;y<K;y++)for(var W=0;W<g;W++){var X=q?(W+8)%g:W,O=q&&X>7?y-1:y;f[X].codewords[O]=e[k++]}if(k!==e.length)throw new Ea;return f},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),ZF=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ea(""+e);var n=0,a=this.bitOffset,i=this.byteOffset,s=this.bytes;if(a>0){var c=8-a,l=e<c?e:c,u=c-l,o=255>>8-l<<u;n=(s[i]&o)>>u,e-=l,a+=l,a===8&&(a=0,i++)}if(e>0){for(;e>=8;)n=n<<8|s[i]&255,i++,e-=8;if(e>0){var u=8-e,o=255>>u<<u;n=n<<e|(s[i]&o)>>u,a+=e}}return this.bitOffset=a,this.byteOffset=i,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),Wl;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wl||(Wl={}));var Yie=(function(){function r(){}return r.decode=function(e){var n=new ZF(e),a=new Ci,i=new Ci,s=new Array,c=Wl.ASCII_ENCODE;do if(c===Wl.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,i);else{switch(c){case Wl.C40_ENCODE:this.decodeC40Segment(n,a);break;case Wl.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case Wl.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case Wl.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case Wl.BASE256_ENCODE:this.decodeBase256Segment(n,a,s);break;default:throw new mn}c=Wl.ASCII_ENCODE}while(c!==Wl.PAD_ENCODE&&n.available()>0);return i.length()>0&&a.append(i.toString()),new d2(e,a.toString(),s.length===0?null:s,null)},r.decodeAsciiSegment=function(e,n,a){var i=!1;do{var s=e.readBits(8);if(s===0)throw new mn;if(s<=128)return i&&(s+=128),n.append(String.fromCharCode(s-1)),Wl.ASCII_ENCODE;if(s===129)return Wl.PAD_ENCODE;if(s<=229){var c=s-130;c<10&&n.append("0"),n.append(""+c)}else switch(s){case 230:return Wl.C40_ENCODE;case 231:return Wl.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return Wl.ANSIX12_ENCODE;case 239:return Wl.TEXT_ENCODE;case 240:return Wl.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new mn;break}}while(e.available()>0);return Wl.ASCII_ENCODE},r.decodeC40Segment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var o=this.C40_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new mn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var o=this.C40_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new mn}s=0;break;case 3:a?(n.append(String.fromCharCode(u+224)),a=!1):n.append(String.fromCharCode(u+96)),s=0;break;default:throw new mn}}}while(e.available()>0)},r.decodeTextSegment=function(e,n){var a=!1,i=[],s=0;do{if(e.available()===8)return;var c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var o=this.TEXT_BASIC_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else throw new mn;break;case 1:a?(n.append(String.fromCharCode(u+128)),a=!1):n.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var o=this.TEXT_SHIFT2_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o)}else switch(u){case 27:n.append("");break;case 30:a=!0;break;default:throw new mn}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var o=this.TEXT_SHIFT3_SET_CHARS[u];a?(n.append(String.fromCharCode(o.charCodeAt(0)+128)),a=!1):n.append(o),s=0}else throw new mn;break;default:throw new mn}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,n){var a=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),a);for(var s=0;s<3;s++){var c=a[s];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new mn;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,n,a){var i=(e<<8)+n-1,s=Math.floor(i/1600);a[0]=s,i-=s*1600,s=Math.floor(i/40),a[1]=s,a[2]=i-s*40},r.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var a=0;a<4;a++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,n,a){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),c;if(s===0?c=e.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),c<0)throw new mn;for(var l=new Uint8Array(c),u=0;u<c;u++){if(e.available()<8)throw new mn;l[u]=this.unrandomize255State(e.readBits(8),i++)}a.push(l);try{n.append(Qd.decode(l,Yi.ISO88591))}catch(o){throw new Zg("Platform does not support required encoding: "+o.message)}},r.unrandomize255State=function(e,n){var a=149*n%255+1,i=e-a;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),Zie=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jie=(function(){function r(){this.rsDecoder=new h2(Mu.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var n,a,i=new qie(e),s=i.getVersion(),c=i.readCodewords(),l=Xie.getDataBlocks(c,s),u=0;try{for(var o=Zie(l),h=o.next();!h.done;h=o.next()){var d=h.value;u+=d.getNumDataCodewords()}}catch(w){n={error:w}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var A=new Uint8Array(u),f=l.length,g=0;g<f;g++){var m=l[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var b=0;b<y;b++)A[b*f+g]=x[b]}return Yie.decode(A)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Nl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),ese=(function(){function r(e){this.image=e,this.rectangleDetector=new MN(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Er;n=this.shiftToModuleCenter(n);var a=n[0],i=n[1],s=n[2],c=n[3],l=this.transitionsBetween(a,c)+1,u=this.transitionsBetween(s,c)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var o=r.sampleGrid(this.image,a,i,s,c,l,u);return new iS(o,[a,i,s,c])},r.shiftPoint=function(e,n,a){var i=(n.getX()-e.getX())/(a+1),s=(n.getY()-e.getY())/(a+1);return new ra(e.getX()+i,e.getY()+s)},r.moveAway=function(e,n,a){var i=e.getX(),s=e.getY();return i<n?i-=1:i+=1,s<a?s-=1:s+=1,new ra(i,s)},r.prototype.detectSolid1=function(e){var n=e[0],a=e[1],i=e[3],s=e[2],c=this.transitionsBetween(n,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,s),o=this.transitionsBetween(s,n),h=c,d=[s,n,a,i];return h>l&&(h=l,d[0]=n,d[1]=a,d[2]=i,d[3]=s),h>u&&(h=u,d[0]=a,d[1]=i,d[2]=s,d[3]=n),h>o&&(d[0]=i,d[1]=s,d[2]=n,d[3]=a),d},r.prototype.detectSolid2=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=r.shiftPoint(a,i,(c+1)*4),u=r.shiftPoint(i,a,(c+1)*4),o=this.transitionsBetween(l,n),h=this.transitionsBetween(u,s);return o<h?(e[0]=n,e[1]=a,e[2]=i,e[3]=s):(e[0]=a,e[1]=i,e[2]=s,e[3]=n),e},r.prototype.correctTopRight=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s),l=this.transitionsBetween(a,s),u=r.shiftPoint(n,a,(l+1)*4),o=r.shiftPoint(i,a,(c+1)*4);c=this.transitionsBetween(u,s),l=this.transitionsBetween(o,s);var h=new ra(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1)),d=new ra(s.getX()+(n.getX()-a.getX())/(l+1),s.getY()+(n.getY()-a.getY())/(l+1));if(!this.isValid(h))return this.isValid(d)?d:null;if(!this.isValid(d))return h;var A=this.transitionsBetween(u,h)+this.transitionsBetween(o,h),f=this.transitionsBetween(u,d)+this.transitionsBetween(o,d);return A>f?h:d},r.prototype.shiftToModuleCenter=function(e){var n=e[0],a=e[1],i=e[2],s=e[3],c=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(i,s)+1,u=r.shiftPoint(n,a,l*4),o=r.shiftPoint(i,a,c*4);c=this.transitionsBetween(u,s)+1,l=this.transitionsBetween(o,s)+1,(c&1)===1&&(c+=1),(l&1)===1&&(l+=1);var h=(n.getX()+a.getX()+i.getX()+s.getX())/4,d=(n.getY()+a.getY()+i.getY()+s.getY())/4;n=r.moveAway(n,h,d),a=r.moveAway(a,h,d),i=r.moveAway(i,h,d),s=r.moveAway(s,h,d);var A,f;return u=r.shiftPoint(n,a,l*4),u=r.shiftPoint(u,s,c*4),A=r.shiftPoint(a,n,l*4),A=r.shiftPoint(A,i,c*4),o=r.shiftPoint(i,s,l*4),o=r.shiftPoint(o,a,c*4),f=r.shiftPoint(s,i,l*4),f=r.shiftPoint(f,n,c*4),[u,A,o,f]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,n,a,i,s,c,l){var u=sS.getInstance();return u.sampleGrid(e,c,l,.5,.5,c-.5,.5,c-.5,l-.5,.5,l-.5,n.getX(),n.getY(),s.getX(),s.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(e,n){var a=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(n.getX()),c=Math.trunc(n.getY()),l=Math.abs(c-i)>Math.abs(s-a);if(l){var u=a;a=i,i=u,u=s,s=c,c=u}for(var o=Math.abs(s-a),h=Math.abs(c-i),d=-o/2,A=i<c?1:-1,f=a<s?1:-1,g=0,m=this.image.get(l?i:a,l?a:i),x=a,y=i;x!==s;x+=f){var b=this.image.get(l?y:x,l?x:y);if(b!==m&&(g++,m=b),d+=h,d>0){if(y===c)break;y+=A,d-=o}}return g},r})(),mx=(function(){function r(){this.decoder=new Jie}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a,i;if(n!=null&&n.has(oo.PURE_BARCODE)){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(s),i=r.NO_POINTS}else{var c=new ese(e.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),i=c.getPoints()}var l=a.getRawBytes(),u=new tu(a.getText(),l,8*l.length,i,Ba.DATA_MATRIX,so.currentTimeMillis()),o=a.getByteSegments();o!=null&&u.putMetadata(Lc.BYTE_SEGMENTS,o);var h=a.getECLevel();return h!=null&&u.putMetadata(Lc.ERROR_CORRECTION_LEVEL,h),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n==null||a==null)throw new Er;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0],o=(u-l+1)/i,h=(c-s+1)/i;if(o<=0||h<=0)throw new Er;var d=i/2;s+=d,l+=d;for(var A=new Fh(o,h),f=0;f<h;f++)for(var g=s+f*i,m=0;m<o;m++)e.get(l+m*i,g)&&A.set(m,f);return A},r.moduleSize=function(e,n){for(var a=n.getWidth(),i=e[0],s=e[1];i<a&&n.get(i,s);)i++;if(i===a)throw new Er;var c=i-e[0];if(c===0)throw new Er;return c},r.NO_POINTS=[],r})(),tse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){tse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new mx,n)||this}return e})(Lm);var Xp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Xp||(Xp={}));var rse=(function(){function r(e,n,a){this.value=e,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Al(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ea;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Xp.L,"L",1),r.M=new r(Xp.M,"M",0),r.Q=new r(Xp.Q,"Q",3),r.H=new r(Xp.H,"H",2),r})(),nse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JF=(function(){function r(e){this.errorCorrectionLevel=rse.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,n){return Ei.bitCount(e^n)},r.decodeFormatInformation=function(e,n){var a=r.doDecodeFormatInformation(e,n);return a!==null?a:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,n){var a,i,s=Number.MAX_SAFE_INTEGER,c=0;try{for(var l=nse(r.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var o=u.value,h=o[0];if(h===e||h===n)return new r(o[1]);var d=r.numBitsDiffering(e,h);d<s&&(c=o[1],s=d),e!==n&&(d=r.numBitsDiffering(n,h),d<s&&(c=o[1],s=d))}}catch(A){a={error:A}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return s<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),ase=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dr=(function(){function r(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,n,a=0,i=this.ecBlocks;try{for(var s=ase(i),c=s.next();!c.done;c=s.next()){var l=c.value;a+=l.getCount()}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ft=(function(){function r(e,n){this.count=e,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),ise=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ap=(function(){function r(e,n){for(var a,i,s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=s;var l=0,u=s[0].getECCodewordsPerBlock(),o=s[0].getECBlocks();try{for(var h=ise(o),d=h.next();!d.done;d=h.next()){var A=d.value;l+=A.getCount()*(A.getDataCodewords()+u)}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new mn;try{return this.getVersionForNumber((e-17)/4)}catch{throw new mn}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Ea;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,a=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var s=r.VERSION_DECODE_INFO[i];if(s===e)return r.getVersionForNumber(i+7);var c=JF.numBitsDiffering(e,s);c<n&&(a=i+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new Fh(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var a=this.alignmentPatternCenters.length,i=0;i<a;i++)for(var s=this.alignmentPatternCenters[i]-2,c=0;c<a;c++)i===0&&(c===0||c===a-1)||i===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,s,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new dr(7,new ft(1,19)),new dr(10,new ft(1,16)),new dr(13,new ft(1,13)),new dr(17,new ft(1,9))),new r(2,Int32Array.from([6,18]),new dr(10,new ft(1,34)),new dr(16,new ft(1,28)),new dr(22,new ft(1,22)),new dr(28,new ft(1,16))),new r(3,Int32Array.from([6,22]),new dr(15,new ft(1,55)),new dr(26,new ft(1,44)),new dr(18,new ft(2,17)),new dr(22,new ft(2,13))),new r(4,Int32Array.from([6,26]),new dr(20,new ft(1,80)),new dr(18,new ft(2,32)),new dr(26,new ft(2,24)),new dr(16,new ft(4,9))),new r(5,Int32Array.from([6,30]),new dr(26,new ft(1,108)),new dr(24,new ft(2,43)),new dr(18,new ft(2,15),new ft(2,16)),new dr(22,new ft(2,11),new ft(2,12))),new r(6,Int32Array.from([6,34]),new dr(18,new ft(2,68)),new dr(16,new ft(4,27)),new dr(24,new ft(4,19)),new dr(28,new ft(4,15))),new r(7,Int32Array.from([6,22,38]),new dr(20,new ft(2,78)),new dr(18,new ft(4,31)),new dr(18,new ft(2,14),new ft(4,15)),new dr(26,new ft(4,13),new ft(1,14))),new r(8,Int32Array.from([6,24,42]),new dr(24,new ft(2,97)),new dr(22,new ft(2,38),new ft(2,39)),new dr(22,new ft(4,18),new ft(2,19)),new dr(26,new ft(4,14),new ft(2,15))),new r(9,Int32Array.from([6,26,46]),new dr(30,new ft(2,116)),new dr(22,new ft(3,36),new ft(2,37)),new dr(20,new ft(4,16),new ft(4,17)),new dr(24,new ft(4,12),new ft(4,13))),new r(10,Int32Array.from([6,28,50]),new dr(18,new ft(2,68),new ft(2,69)),new dr(26,new ft(4,43),new ft(1,44)),new dr(24,new ft(6,19),new ft(2,20)),new dr(28,new ft(6,15),new ft(2,16))),new r(11,Int32Array.from([6,30,54]),new dr(20,new ft(4,81)),new dr(30,new ft(1,50),new ft(4,51)),new dr(28,new ft(4,22),new ft(4,23)),new dr(24,new ft(3,12),new ft(8,13))),new r(12,Int32Array.from([6,32,58]),new dr(24,new ft(2,92),new ft(2,93)),new dr(22,new ft(6,36),new ft(2,37)),new dr(26,new ft(4,20),new ft(6,21)),new dr(28,new ft(7,14),new ft(4,15))),new r(13,Int32Array.from([6,34,62]),new dr(26,new ft(4,107)),new dr(22,new ft(8,37),new ft(1,38)),new dr(24,new ft(8,20),new ft(4,21)),new dr(22,new ft(12,11),new ft(4,12))),new r(14,Int32Array.from([6,26,46,66]),new dr(30,new ft(3,115),new ft(1,116)),new dr(24,new ft(4,40),new ft(5,41)),new dr(20,new ft(11,16),new ft(5,17)),new dr(24,new ft(11,12),new ft(5,13))),new r(15,Int32Array.from([6,26,48,70]),new dr(22,new ft(5,87),new ft(1,88)),new dr(24,new ft(5,41),new ft(5,42)),new dr(30,new ft(5,24),new ft(7,25)),new dr(24,new ft(11,12),new ft(7,13))),new r(16,Int32Array.from([6,26,50,74]),new dr(24,new ft(5,98),new ft(1,99)),new dr(28,new ft(7,45),new ft(3,46)),new dr(24,new ft(15,19),new ft(2,20)),new dr(30,new ft(3,15),new ft(13,16))),new r(17,Int32Array.from([6,30,54,78]),new dr(28,new ft(1,107),new ft(5,108)),new dr(28,new ft(10,46),new ft(1,47)),new dr(28,new ft(1,22),new ft(15,23)),new dr(28,new ft(2,14),new ft(17,15))),new r(18,Int32Array.from([6,30,56,82]),new dr(30,new ft(5,120),new ft(1,121)),new dr(26,new ft(9,43),new ft(4,44)),new dr(28,new ft(17,22),new ft(1,23)),new dr(28,new ft(2,14),new ft(19,15))),new r(19,Int32Array.from([6,30,58,86]),new dr(28,new ft(3,113),new ft(4,114)),new dr(26,new ft(3,44),new ft(11,45)),new dr(26,new ft(17,21),new ft(4,22)),new dr(26,new ft(9,13),new ft(16,14))),new r(20,Int32Array.from([6,34,62,90]),new dr(28,new ft(3,107),new ft(5,108)),new dr(26,new ft(3,41),new ft(13,42)),new dr(30,new ft(15,24),new ft(5,25)),new dr(28,new ft(15,15),new ft(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new dr(28,new ft(4,116),new ft(4,117)),new dr(26,new ft(17,42)),new dr(28,new ft(17,22),new ft(6,23)),new dr(30,new ft(19,16),new ft(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new dr(28,new ft(2,111),new ft(7,112)),new dr(28,new ft(17,46)),new dr(30,new ft(7,24),new ft(16,25)),new dr(24,new ft(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new dr(30,new ft(4,121),new ft(5,122)),new dr(28,new ft(4,47),new ft(14,48)),new dr(30,new ft(11,24),new ft(14,25)),new dr(30,new ft(16,15),new ft(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new dr(30,new ft(6,117),new ft(4,118)),new dr(28,new ft(6,45),new ft(14,46)),new dr(30,new ft(11,24),new ft(16,25)),new dr(30,new ft(30,16),new ft(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new dr(26,new ft(8,106),new ft(4,107)),new dr(28,new ft(8,47),new ft(13,48)),new dr(30,new ft(7,24),new ft(22,25)),new dr(30,new ft(22,15),new ft(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new dr(28,new ft(10,114),new ft(2,115)),new dr(28,new ft(19,46),new ft(4,47)),new dr(28,new ft(28,22),new ft(6,23)),new dr(30,new ft(33,16),new ft(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new dr(30,new ft(8,122),new ft(4,123)),new dr(28,new ft(22,45),new ft(3,46)),new dr(30,new ft(8,23),new ft(26,24)),new dr(30,new ft(12,15),new ft(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new dr(30,new ft(3,117),new ft(10,118)),new dr(28,new ft(3,45),new ft(23,46)),new dr(30,new ft(4,24),new ft(31,25)),new dr(30,new ft(11,15),new ft(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new dr(30,new ft(7,116),new ft(7,117)),new dr(28,new ft(21,45),new ft(7,46)),new dr(30,new ft(1,23),new ft(37,24)),new dr(30,new ft(19,15),new ft(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new dr(30,new ft(5,115),new ft(10,116)),new dr(28,new ft(19,47),new ft(10,48)),new dr(30,new ft(15,24),new ft(25,25)),new dr(30,new ft(23,15),new ft(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new dr(30,new ft(13,115),new ft(3,116)),new dr(28,new ft(2,46),new ft(29,47)),new dr(30,new ft(42,24),new ft(1,25)),new dr(30,new ft(23,15),new ft(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new dr(30,new ft(17,115)),new dr(28,new ft(10,46),new ft(23,47)),new dr(30,new ft(10,24),new ft(35,25)),new dr(30,new ft(19,15),new ft(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new dr(30,new ft(17,115),new ft(1,116)),new dr(28,new ft(14,46),new ft(21,47)),new dr(30,new ft(29,24),new ft(19,25)),new dr(30,new ft(11,15),new ft(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new dr(30,new ft(13,115),new ft(6,116)),new dr(28,new ft(14,46),new ft(23,47)),new dr(30,new ft(44,24),new ft(7,25)),new dr(30,new ft(59,16),new ft(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new dr(30,new ft(12,121),new ft(7,122)),new dr(28,new ft(12,47),new ft(26,48)),new dr(30,new ft(39,24),new ft(14,25)),new dr(30,new ft(22,15),new ft(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new dr(30,new ft(6,121),new ft(14,122)),new dr(28,new ft(6,47),new ft(34,48)),new dr(30,new ft(46,24),new ft(10,25)),new dr(30,new ft(2,15),new ft(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new dr(30,new ft(17,122),new ft(4,123)),new dr(28,new ft(29,46),new ft(14,47)),new dr(30,new ft(49,24),new ft(10,25)),new dr(30,new ft(24,15),new ft(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new dr(30,new ft(4,122),new ft(18,123)),new dr(28,new ft(13,46),new ft(32,47)),new dr(30,new ft(48,24),new ft(14,25)),new dr(30,new ft(42,15),new ft(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new dr(30,new ft(20,117),new ft(4,118)),new dr(28,new ft(40,47),new ft(7,48)),new dr(30,new ft(43,24),new ft(22,25)),new dr(30,new ft(10,15),new ft(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new dr(30,new ft(19,118),new ft(6,119)),new dr(28,new ft(18,47),new ft(31,48)),new dr(30,new ft(34,24),new ft(34,25)),new dr(30,new ft(20,15),new ft(61,16)))],r})(),gc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(gc||(gc={}));var I_=(function(){function r(e,n){this.value=e,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(e,n){for(var a=0;a<n;a++)for(var i=0;i<n;i++)this.isMasked(a,i)&&e.flip(i,a)},r.values=new Map([[gc.DATA_MASK_000,new r(gc.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[gc.DATA_MASK_001,new r(gc.DATA_MASK_001,function(e,n){return(e&1)===0})],[gc.DATA_MASK_010,new r(gc.DATA_MASK_010,function(e,n){return n%3===0})],[gc.DATA_MASK_011,new r(gc.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[gc.DATA_MASK_100,new r(gc.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[gc.DATA_MASK_101,new r(gc.DATA_MASK_101,function(e,n){return e*n%6===0})],[gc.DATA_MASK_110,new r(gc.DATA_MASK_110,function(e,n){return e*n%6<3})],[gc.DATA_MASK_111,new r(gc.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),r})(),sse=(function(){function r(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new mn;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var a=5;a>=0;a--)e=this.copyBit(8,a,e);for(var i=this.bitMatrix.getHeight(),s=0,c=i-7,a=i-1;a>=c;a--)s=this.copyBit(8,a,s);for(var n=i-8;n<i;n++)s=this.copyBit(n,8,s);if(this.parsedFormatInfo=JF.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new mn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ap.getVersionForNumber(n);for(var a=0,i=e-11,s=5;s>=0;s--)for(var c=e-9;c>=i;c--)a=this.copyBit(c,s,a);var l=ap.decodeVersionInformation(a);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(var c=5;c>=0;c--)for(var s=e-9;s>=i;s--)a=this.copyBit(c,s,a);if(l=ap.decodeVersionInformation(a),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new mn},r.prototype.copyBit=function(e,n,a){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?a<<1|1:a<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),a=I_.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,i);for(var s=n.buildFunctionPattern(),c=!0,l=new Uint8Array(n.getTotalCodewords()),u=0,o=0,h=0,d=i-1;d>0;d-=2){d===6&&d--;for(var A=0;A<i;A++)for(var f=c?i-1-A:A,g=0;g<2;g++)s.get(d-g,f)||(h++,o<<=1,this.bitMatrix.get(d-g,f)&&(o|=1),h===8&&(l[u++]=o,h=0,o=0));c=!c}if(u!==n.getTotalCodewords())throw new mn;return l},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=I_.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,a=e.getWidth();n<a;n++)for(var i=n+1,s=e.getHeight();i<s;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},r})(),T_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ose=(function(){function r(e,n){this.numDataCodewords=e,this.codewords=n}return r.getDataBlocks=function(e,n,a){var i,s,c,l;if(e.length!==n.getTotalCodewords())throw new Ea;var u=n.getECBlocksForLevel(a),o=0,h=u.getECBlocks();try{for(var d=T_(h),A=d.next();!A.done;A=d.next()){var f=A.value;o+=f.getCount()}}catch(O){i={error:O}}finally{try{A&&!A.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var g=new Array(o),m=0;try{for(var x=T_(h),y=x.next();!y.done;y=x.next())for(var f=y.value,b=0;b<f.getCount();b++){var w=f.getDataCodewords(),N=u.getECCodewordsPerBlock()+w;g[m++]=new r(w,new Uint8Array(N))}}catch(O){c={error:O}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}for(var S=g[0].codewords.length,C=g.length-1;C>=0;){var k=g[C].codewords.length;if(k===S)break;C--}C++;for(var W=S-u.getECCodewordsPerBlock(),q=0,b=0;b<W;b++)for(var te=0;te<m;te++)g[te].codewords[b]=e[q++];for(var te=C;te<m;te++)g[te].codewords[W]=e[q++];for(var K=g[0].codewords.length,b=W;b<K;b++)for(var te=0;te<m;te++){var X=te<C?b:b+1;g[te].codewords[X]=e[q++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Rd;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Rd||(Rd={}));var go=(function(){function r(e,n,a,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var n=r.FOR_BITS.get(e);if(n===void 0)throw new Ea;return n},r.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Rd.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Rd.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Rd.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Rd.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Rd.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Rd.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Rd.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Rd.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Rd.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Rd.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),lse=(function(){function r(){}return r.decode=function(e,n,a,i){var s=new ZF(e),c=new Ci,l=new Array,u=-1,o=-1;try{var h=null,d=!1,A=void 0;do{if(s.available()<4)A=go.TERMINATOR;else{var f=s.readBits(4);A=go.forBits(f)}switch(A){case go.TERMINATOR:break;case go.FNC1_FIRST_POSITION:case go.FNC1_SECOND_POSITION:d=!0;break;case go.STRUCTURED_APPEND:if(s.available()<16)throw new mn;u=s.readBits(8),o=s.readBits(8);break;case go.ECI:var g=r.parseECIValue(s);if(h=Kl.getCharacterSetECIByValue(g),h===null)throw new mn;break;case go.HANZI:var m=s.readBits(4),x=s.readBits(A.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(s,c,x);break;default:var y=s.readBits(A.getCharacterCountBits(n));switch(A){case go.NUMERIC:r.decodeNumericSegment(s,c,y);break;case go.ALPHANUMERIC:r.decodeAlphanumericSegment(s,c,y,d);break;case go.BYTE:r.decodeByteSegment(s,c,y,h,l,i);break;case go.KANJI:r.decodeKanjiSegment(s,c,y);break;default:throw new mn}break}}while(A!==go.TERMINATOR)}catch{throw new mn}return new d2(e,c.toString(),l.length===0?null:l,a===null?null:a.toString(),u,o)},r.decodeHanziSegment=function(e,n,a){if(a*13>e.available())throw new mn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/96<<8&4294967295|c%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,a--}try{n.append(Qd.decode(i,Yi.GB2312))}catch(u){throw new mn(u)}},r.decodeKanjiSegment=function(e,n,a){if(a*13>e.available())throw new mn;for(var i=new Uint8Array(2*a),s=0;a>0;){var c=e.readBits(13),l=c/192<<8&4294967295|c%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,a--}try{n.append(Qd.decode(i,Yi.SHIFT_JIS))}catch(u){throw new mn(u)}},r.decodeByteSegment=function(e,n,a,i,s,c){if(8*a>e.available())throw new mn;for(var l=new Uint8Array(a),u=0;u<a;u++)l[u]=e.readBits(8);var o;i===null?o=Yi.guessEncoding(l,c):o=i.getName();try{n.append(Qd.decode(l,o))}catch(h){throw new mn(h)}s.push(l)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new mn;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,n,a,i){for(var s=n.length();a>1;){if(e.available()<11)throw new mn;var c=e.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(e.available()<6)throw new mn;n.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},r.decodeNumericSegment=function(e,n,a){for(;a>=3;){if(e.available()<10)throw new mn;var i=e.readBits(10);if(i>=1e3)throw new mn;n.append(r.toAlphaNumericChar(Math.floor(i/100))),n.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(r.toAlphaNumericChar(i%10)),a-=3}if(a===2){if(e.available()<7)throw new mn;var s=e.readBits(7);if(s>=100)throw new mn;n.append(r.toAlphaNumericChar(Math.floor(s/10))),n.append(r.toAlphaNumericChar(s%10))}else if(a===1){if(e.available()<4)throw new mn;var c=e.readBits(4);if(c>=10)throw new mn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=e.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new mn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),eD=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},r})(),__=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cse=(function(){function r(){this.rsDecoder=new h2(Mu.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(Fh.parseFromBooleanArray(e),n)},r.prototype.decodeBitMatrix=function(e,n){var a=new sse(e),i=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){i=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var s=this.decodeBitMatrixParser(a,n);return s.setOther(new eD(!0)),s}catch(c){throw i!==null?i:c}},r.prototype.decodeBitMatrixParser=function(e,n){var a,i,s,c,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),h=ose.getDataBlocks(o,l,u),d=0;try{for(var A=__(h),f=A.next();!f.done;f=A.next()){var g=f.value;d+=g.getNumDataCodewords()}}catch(C){a={error:C}}finally{try{f&&!f.done&&(i=A.return)&&i.call(A)}finally{if(a)throw a.error}}var m=new Uint8Array(d),x=0;try{for(var y=__(h),b=y.next();!b.done;b=y.next()){var g=b.value,w=g.getCodewords(),N=g.getNumDataCodewords();this.correctErrors(w,N);for(var S=0;S<N;S++)m[x++]=w[S]}}catch(C){s={error:C}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}return lse.decode(m,l,u,n)},r.prototype.correctErrors=function(e,n){var a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-n)}catch{throw new Nl}for(var i=0;i<n;i++)e[i]=a[i]},r})(),use=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),dse=(function(r){use(e,r);function e(n,a,i){var s=r.call(this,n,a)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=(this.getX()+a)/2,c=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,c,l)},e})(ra),hse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ase=(function(){function r(e,n,a,i,s,c,l){this.image=e,this.startX=n,this.startY=a,this.width=i,this.height=s,this.moduleSize=c,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,n=this.height,a=this.width,i=e+a,s=this.startY+n/2,c=new Int32Array(3),l=this.image,u=0;u<n;u++){var o=s+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var h=e;h<i&&!l.get(h,o);)h++;for(var d=0;h<i;){if(l.get(h,o))if(d===1)c[1]++;else if(d===2){if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,h);if(A!==null)return A}c[0]=c[2],c[1]=1,c[2]=0,d=1}else c[++d]++;else d===1&&d++,c[d]++;h++}if(this.foundPatternCross(c)){var A=this.handlePossibleCenter(c,o,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Er},r.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,a=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(e,n,a,i){var s=this.image,c=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&!s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u)&&l[1]<=a;)l[1]++,u++;if(u===c||l[1]>a)return NaN;for(;u<c&&!s.get(n,u)&&l[2]<=a;)l[2]++,u++;if(l[2]>a)return NaN;var o=l[0]+l[1]+l[2];return 5*Math.abs(o-i)>=2*i?NaN:this.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a){var i,s,c=e[0]+e[1]+e[2],l=r.centerFromEnd(e,a),u=this.crossCheckVertical(n,l,2*e[1],c);if(!isNaN(u)){var o=(e[0]+e[1]+e[2])/3;try{for(var h=hse(this.possibleCenters),d=h.next();!d.done;d=h.next()){var A=d.value;if(A.aboutEquals(o,u,l))return A.combineEstimate(u,l,o)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var f=new dse(l,u,o);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},r})(),fse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),pse=(function(r){fse(e,r);function e(n,a,i,s){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=i,c.count=s,s===void 0&&(c.count=1),c}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,a,i){if(Math.abs(a-this.getY())<=n&&Math.abs(i-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,a,i){var s=this.count+1,c=(this.count*this.getX()+a)/s,l=(this.count*this.getY()+n)/s,u=(this.count*this.estimatedModuleSize+i)/s;return new e(c,l,u,s)},e})(ra),mse=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),E0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gse=(function(){function r(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var n=e!=null&&e.get(oo.TRY_HARDER)!==void 0,a=e!=null&&e.get(oo.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),c=i.getWidth(),l=Math.floor(3*s/(4*r.MAX_MODULES));(l<r.MIN_SKIP||n)&&(l=r.MIN_SKIP);for(var u=!1,o=new Int32Array(5),h=l-1;h<s&&!u;h+=l){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var d=0,A=0;A<c;A++)if(i.get(A,h))(d&1)===1&&d++,o[d]++;else if((d&1)===0)if(d===4)if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,h,A,a);if(f===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>o[2]&&(h+=g-o[2]-l,A=c-1)}else{o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;continue}d=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,d=3;else o[++d]++;else o[d]++;if(r.foundPatternCross(o)){var f=this.handlePossibleCenter(o,h,c,a);f===!0&&(l=o[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return ra.orderBestPatterns(m),new mse(m)},r.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var n=0,a=0;a<5;a++){var i=e[a];if(i===0)return!1;n+=i}if(n<7)return!1;var s=n/7,c=s/2;return Math.abs(s-e[0])<c&&Math.abs(s-e[1])<c&&Math.abs(3*s-e[2])<3*c&&Math.abs(s-e[3])<c&&Math.abs(s-e[4])<c},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,n,a,i){for(var s=this.getCrossCheckStateCount(),c=0,l=this.image;e>=c&&n>=c&&l.get(n-c,e-c);)s[2]++,c++;if(e<c||n<c)return!1;for(;e>=c&&n>=c&&!l.get(n-c,e-c)&&s[1]<=a;)s[1]++,c++;if(e<c||n<c||s[1]>a)return!1;for(;e>=c&&n>=c&&l.get(n-c,e-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;var u=l.getHeight(),o=l.getWidth();for(c=1;e+c<u&&n+c<o&&l.get(n+c,e+c);)s[2]++,c++;if(e+c>=u||n+c>=o)return!1;for(;e+c<u&&n+c<o&&!l.get(n+c,e+c)&&s[3]<a;)s[3]++,c++;if(e+c>=u||n+c>=o||s[3]>=a)return!1;for(;e+c<u&&n+c<o&&l.get(n+c,e+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;var h=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(h-i)<2*i&&r.foundPatternCross(s)},r.prototype.crossCheckVertical=function(e,n,a,i){for(var s=this.image,c=s.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(n,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(n,u)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(n,u)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(n,u);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(n,u)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(n,u)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=2*i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.crossCheckHorizontal=function(e,n,a,i){for(var s=this.image,c=s.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&s.get(u,n);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,n)&&l[1]<=a;)l[1]++,u--;if(u<0||l[1]>a)return NaN;for(;u>=0&&s.get(u,n)&&l[0]<=a;)l[0]++,u--;if(l[0]>a)return NaN;for(u=e+1;u<c&&s.get(u,n);)l[2]++,u++;if(u===c)return NaN;for(;u<c&&!s.get(u,n)&&l[3]<a;)l[3]++,u++;if(u===c||l[3]>=a)return NaN;for(;u<c&&s.get(u,n)&&l[4]<a;)l[4]++,u++;if(l[4]>=a)return NaN;var o=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(o-i)>=i?NaN:r.foundPatternCross(l)?r.centerFromEnd(l,u):NaN},r.prototype.handlePossibleCenter=function(e,n,a,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],c=r.centerFromEnd(e,a),l=this.crossCheckVertical(n,Math.floor(c),e[2],s);if(!isNaN(l)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(l),e[2],s),!isNaN(c)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(c),e[2],s)))){for(var u=s/7,o=!1,h=this.possibleCenters,d=0,A=h.length;d<A;d++){var f=h[d];if(f.aboutEquals(u,l,c)){h[d]=f.combineEstimate(l,c,u),o=!0;break}}if(!o){var g=new pse(c,l,u);h.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var e,n,a=this.possibleCenters.length;if(a<=1)return 0;var i=null;try{for(var s=E0(this.possibleCenters),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.getCount()>=r.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,n,a,i,s=0,c=0,l=this.possibleCenters.length;try{for(var u=E0(this.possibleCenters),o=u.next();!o.done;o=u.next()){var h=o.value;h.getCount()>=r.CENTER_QUORUM&&(s++,c+=h.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(s<3)return!1;var d=c/l,A=0;try{for(var f=E0(this.possibleCenters),g=f.next();!g.done;g=f.next()){var h=g.value;A+=Math.abs(h.getEstimatedModuleSize()-d)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}return A<=.05*c},r.prototype.selectBestPatterns=function(){var e,n,a,i,s=this.possibleCenters.length;if(s<3)throw new Er;var c=this.possibleCenters,l;if(s>3){var u=0,o=0;try{for(var h=E0(this.possibleCenters),d=h.next();!d.done;d=h.next()){var A=d.value,f=A.getEstimatedModuleSize();u+=f,o+=f*f}}catch(S){e={error:S}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}l=u/s;var g=Math.sqrt(o/s-l*l);c.sort(function(S,C){var k=Math.abs(C.getEstimatedModuleSize()-l),W=Math.abs(S.getEstimatedModuleSize()-l);return k<W?-1:k>W?1:0});for(var m=Math.max(.2*l,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-l)>m&&(c.splice(x,1),x--)}}if(c.length>3){var u=0;try{for(var b=E0(c),w=b.next();!w.done;w=b.next()){var N=w.value;u+=N.getEstimatedModuleSize()}}catch(C){a={error:C}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}l=u/c.length,c.sort(function(C,k){if(k.getCount()===C.getCount()){var W=Math.abs(k.getEstimatedModuleSize()-l),q=Math.abs(C.getEstimatedModuleSize()-l);return W<q?1:W>q?-1:0}else return k.getCount()-C.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),vse=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(oo.NEED_RESULT_POINT_CALLBACK);var n=new gse(this.image,this.resultPointCallback),a=n.find(e);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),a=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(n,a,i);if(s<1)throw new Er("No pattern found in proccess finder.");var c=r.computeDimension(n,a,i,s),l=ap.getProvisionalVersionForDimension(c),u=l.getDimensionForVersion()-7,o=null;if(l.getAlignmentPatternCenters().length>0)for(var h=a.getX()-n.getX()+i.getX(),d=a.getY()-n.getY()+i.getY(),A=1-3/u,f=Math.floor(n.getX()+A*(h-n.getX())),g=Math.floor(n.getY()+A*(d-n.getY())),m=4;m<=16;m<<=1)try{o=this.findAlignmentInRegion(s,f,g,m);break}catch(w){if(!(w instanceof Er))throw w}var x=r.createTransform(n,a,i,o,c),y=r.sampleGrid(this.image,x,c),b;return o===null?b=[i,n,a]:b=[i,n,a,o],new iS(y,b)},r.createTransform=function(e,n,a,i,s){var c=s-3.5,l,u,o,h;return i!==null?(l=i.getX(),u=i.getY(),o=c-3,h=o):(l=n.getX()-e.getX()+a.getX(),u=n.getY()-e.getY()+a.getY(),o=c,h=c),GF.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,o,h,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),l,u,a.getX(),a.getY())},r.sampleGrid=function(e,n,a){var i=sS.getInstance();return i.sampleGridWithTransform(e,a,a,n)},r.computeDimension=function(e,n,a,i){var s=ss.round(ra.distance(e,n)/i),c=ss.round(ra.distance(e,a)/i),l=Math.floor((s+c)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Er("Dimensions could be not found.")}return l},r.prototype.calculateModuleSize=function(e,n,a){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,a))/2},r.prototype.calculateModuleSizeOneWay=function(e,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?i/7:isNaN(i)?a/7:(a+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,a,i){var s=this.sizeOfBlackWhiteBlackRun(e,n,a,i),c=1,l=e-(a-e);l<0?(c=e/(e-l),l=0):l>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*c);return c=1,u<0?(c=n/(n-u),u=0):u>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*c),s+=this.sizeOfBlackWhiteBlackRun(e,n,l,u),s-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,n,a,i){var s=Math.abs(i-n)>Math.abs(a-e);if(s){var c=e;e=n,n=c,c=a,a=i,i=c}for(var l=Math.abs(a-e),u=Math.abs(i-n),o=-l/2,h=e<a?1:-1,d=n<i?1:-1,A=0,f=a+h,g=e,m=n;g!==f;g+=h){var x=s?m:g,y=s?g:m;if(A===1===this.image.get(x,y)){if(A===2)return ss.distance(g,m,e,n);A++}if(o+=u,o>0){if(m===i)break;m+=d,o-=l}}return A===2?ss.distance(a+h,i,e,n):NaN},r.prototype.findAlignmentInRegion=function(e,n,a,i){var s=Math.floor(i*e),c=Math.max(0,n-s),l=Math.min(this.image.getWidth()-1,n+s);if(l-c<e*3)throw new Er("Alignment top exceeds estimated module size.");var u=Math.max(0,a-s),o=Math.min(this.image.getHeight()-1,a+s);if(o-u<e*3)throw new Er("Alignment bottom exceeds estimated module size.");var h=new Ase(this.image,c,u,l-c,o-u,e,this.resultPointCallback);return h.find()},r})(),gx=(function(){function r(){this.decoder=new cse}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,n){var a,i;if(n!=null&&n.get(oo.PURE_BARCODE)!==void 0){var s=r.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(s,n),i=r.NO_POINTS}else{var c=new vse(e.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),i=c.getPoints()}a.getOther()instanceof eD&&a.getOther().applyMirroredCorrection(i);var l=new tu(a.getText(),a.getRawBytes(),void 0,i,Ba.QR_CODE,void 0),u=a.getByteSegments();u!==null&&l.putMetadata(Lc.BYTE_SEGMENTS,u);var o=a.getECLevel();return o!==null&&l.putMetadata(Lc.ERROR_CORRECTION_LEVEL,o),a.hasStructuredAppend()&&(l.putMetadata(Lc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(Lc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l},r.prototype.reset=function(){},r.extractPureBits=function(e){var n=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(n===null||a===null)throw new Er;var i=this.moduleSize(n,e),s=n[1],c=a[1],l=n[0],u=a[0];if(l>=u||s>=c)throw new Er;if(c-s!==u-l&&(u=l+(c-s),u>=e.getWidth()))throw new Er;var o=Math.round((u-l+1)/i),h=Math.round((c-s+1)/i);if(o<=0||h<=0)throw new Er;if(h!==o)throw new Er;var d=Math.floor(i/2);s+=d,l+=d;var A=l+Math.floor((o-1)*i)-u;if(A>0){if(A>d)throw new Er;l-=A}var f=s+Math.floor((h-1)*i)-c;if(f>0){if(f>d)throw new Er;s-=f}for(var g=new Fh(o,h),m=0;m<h;m++)for(var x=s+Math.floor(m*i),y=0;y<o;y++)e.get(l+Math.floor(y*i),x)&&g.set(y,m);return g},r.moduleSize=function(e,n){for(var a=n.getHeight(),i=n.getWidth(),s=e[0],c=e[1],l=!0,u=0;s<i&&c<a;){if(l!==n.get(s,c)){if(++u===5)break;l=!l}s++,c++}if(s===i||c===a)throw new Er;return(s-e[0])/7},r.NO_POINTS=new Array,r})(),xse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ji=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return ss.sum(e)},r.toIntArray=function(e){var n,a;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var c=xse(e),l=c.next();!l.done;l=c.next()){var u=l.value;i[s++]=u}}catch(o){n={error:o}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},r.getCodeword=function(e){var n=ql.binarySearch(r.SYMBOL_TABLE,e&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),yse=(function(){function r(e,n){this.bits=e,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),bse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wse=(function(){function r(){}return r.detectMultiple=function(e,n,a){var i=e.getBlackMatrix(),s=r.detect(a,i);return s.length||(i=i.clone(),i.rotate180(),s=r.detect(a,i)),new yse(i,s)},r.detect=function(e,n){for(var a,i,s=new Array,c=0,l=0,u=!1;c<n.getHeight();){var o=r.findVertices(n,c,l);if(o[0]==null&&o[3]==null){if(!u)break;u=!1,l=0;try{for(var h=(a=void 0,bse(s)),d=h.next();!d.done;d=h.next()){var A=d.value;A[1]!=null&&(c=Math.trunc(Math.max(c,A[1].getY()))),A[3]!=null&&(c=Math.max(c,Math.trunc(A[3].getY())))}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(u=!0,s.push(o),!e)break;o[2]!=null?(l=Math.trunc(o[2].getX()),c=Math.trunc(o[2].getY())):(l=Math.trunc(o[4].getX()),c=Math.trunc(o[4].getY()))}return s},r.findVertices=function(e,n,a){var i=e.getHeight(),s=e.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(e,i,s,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(e,n,a){for(var i=0;i<a.length;i++)e[a[i]]=n[i]},r.findRowsWithPattern=function(e,n,a,i,s,c){for(var l=new Array(4),u=!1,o=new Int32Array(c.length);i<n;i+=r.ROW_STEP){var h=r.findGuardPattern(e,s,i,a,!1,c,o);if(h!=null){for(;i>0;){var d=r.findGuardPattern(e,s,--i,a,!1,c,o);if(d!=null)h=d;else{i++;break}}l[0]=new ra(h[0],i),l[1]=new ra(h[1],i),u=!0;break}}var A=i+1;if(u){for(var f=0,d=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);A<n;A++){var h=r.findGuardPattern(e,d[0],A,a,!1,c,o);if(h!=null&&Math.abs(d[0]-h[0])<r.MAX_PATTERN_DRIFT&&Math.abs(d[1]-h[1])<r.MAX_PATTERN_DRIFT)d=h,f=0;else{if(f>r.SKIPPED_ROW_COUNT_MAX)break;f++}}A-=f+1,l[2]=new ra(d[0],A),l[3]=new ra(d[1],A)}return A-i<r.BARCODE_MIN_HEIGHT&&ql.fill(l,null),l},r.findGuardPattern=function(e,n,a,i,s,c,l){ql.fillWithin(l,0,l.length,0);for(var u=n,o=0;e.get(u,a)&&u>0&&o++<r.MAX_PIXEL_DRIFT;)u--;for(var h=u,d=0,A=c.length,f=s;h<i;h++){var g=e.get(h,a);if(g!==f)l[d]++;else{if(d===A-1){if(r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,h]);u+=l[0]+l[1],so.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,f=!f}}return d===A-1&&r.patternMatchVariance(l,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,h-1]):null},r.patternMatchVariance=function(e,n,a){for(var i=e.length,s=0,c=0,l=0;l<i;l++)s+=e[l],c+=n[l];if(s<c)return 1/0;var u=s/c;a*=u;for(var o=0,h=0;h<i;h++){var d=e[h],A=n[h]*u,f=d>A?d-A:A-d;if(f>a)return 1/0;o+=f}return o/s},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),jse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jf=(function(){function r(e,n){if(n.length===0)throw new Ea;this.field=e;var a=n.length;if(a>1&&n[0]===0){for(var i=1;i<a&&n[i]===0;)i++;i===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-i),so.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var n,a;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=jse(this.coefficients),c=s.next();!c.done;c=s.next()){var l=c.value;i=this.field.add(i,l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],o=this.coefficients.length,h=1;h<o;h++)u=this.field.add(this.field.multiply(e,u),this.coefficients[h]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ea("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,a=e.coefficients;if(n.length>a.length){var i=n;n=a,a=i}var s=new Int32Array(a.length),c=a.length-n.length;so.arraycopy(a,0,s,0,c);for(var l=c;l<a.length;l++)s[l]=this.field.add(n[l-c],a[l]);return new r(this.field,s)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ea("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ea("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,i=e.coefficients,s=i.length,c=new Int32Array(a+s-1),l=0;l<a;l++)for(var u=n[l],o=0;o<s;o++)c[l+o]=this.field.add(c[l+o],this.field.multiply(u,i[o]));return new r(this.field,c)},r.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),a=0;a<e;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Ea;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,i=new Int32Array(a+e),s=0;s<a;s++)i[s]=this.field.multiply(this.coefficients[s],n);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new Ci,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(n===0||a!==1)&&e.append(a),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},r})(),Cse=(function(){function r(){}return r.prototype.add=function(e,n){return(e+n)%this.modulus},r.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Ea;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new KF;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),Nse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Sse=(function(r){Nse(e,r);function e(n,a){var i=r.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var s=1,c=0;c<n;c++)i.expTable[c]=s,s=s*a%n;for(var c=0;c<n-1;c++)i.logTable[i.expTable[c]]=c;return i.zero=new Jf(i,new Int32Array([0])),i.one=new Jf(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,a){if(n<0)throw new Ea;if(a===0)return this.zero;var i=new Int32Array(n+1);return i[0]=a,new Jf(this,i)},e.PDF417_GF=new e(Ji.NUMBER_OF_CODEWORDS,3),e})(Cse),Bse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ese=(function(){function r(){this.field=Sse.PDF417_GF}return r.prototype.decode=function(e,n,a){for(var i,s,c=new Jf(this.field,e),l=new Int32Array(n),u=!1,o=n;o>0;o--){var h=c.evaluateAt(this.field.exp(o));l[n-o]=h,h!==0&&(u=!0)}if(!u)return 0;var d=this.field.getOne();if(a!=null)try{for(var A=Bse(a),f=A.next();!f.done;f=A.next()){var g=f.value,m=this.field.exp(e.length-1-g),x=new Jf(this.field,new Int32Array([this.field.subtract(0,m),1]));d=d.multiply(x)}}catch(W){i={error:W}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}for(var y=new Jf(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),w=b[0],N=b[1],S=this.findErrorLocations(w),C=this.findErrorMagnitudes(N,w,S),o=0;o<S.length;o++){var k=e.length-1-this.field.log(S[o]);if(k<0)throw Nl.getChecksumInstance();e[k]=this.field.subtract(e[k],C[o])}return S.length},r.prototype.runEuclideanAlgorithm=function(e,n,a){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var s=e,c=n,l=this.field.getZero(),u=this.field.getOne();c.getDegree()>=Math.round(a/2);){var o=s,h=l;if(s=c,l=u,s.isZero())throw Nl.getChecksumInstance();c=o;for(var d=this.field.getZero(),A=s.getCoefficient(s.getDegree()),f=this.field.inverse(A);c.getDegree()>=s.getDegree()&&!c.isZero();){var g=c.getDegree()-s.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),f);d=d.add(this.field.buildMonomial(g,m)),c=c.subtract(s.multiplyByMonomial(g,m))}u=d.multiply(l).subtract(h).negative()}var x=u.getCoefficient(0);if(x===0)throw Nl.getChecksumInstance();var y=this.field.inverse(x),b=u.multiply(y),w=c.multiply(y);return[b,w]},r.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),a=new Int32Array(n),i=0,s=1;s<this.field.getSize()&&i<n;s++)e.evaluateAt(s)===0&&(a[i]=this.field.inverse(s),i++);if(i!==n)throw Nl.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(e,n,a){for(var i=n.getDegree(),s=new Int32Array(i),c=1;c<=i;c++)s[i-c]=this.field.multiply(c,n.getCoefficient(c));for(var l=new Jf(this.field,s),u=a.length,o=new Int32Array(u),c=0;c<u;c++){var h=this.field.inverse(a[c]),d=this.field.subtract(0,e.evaluateAt(h)),A=this.field.inverse(l.evaluateAt(h));o[c]=this.field.multiply(d,A)}return o},r})(),LN=(function(){function r(e,n,a,i,s){e instanceof r?this.constructor_2(e):this.constructor_1(e,n,a,i,s)}return r.prototype.constructor_1=function(e,n,a,i,s){var c=n==null||a==null,l=i==null||s==null;if(c&&l)throw new Er;c?(n=new ra(0,i.getY()),a=new ra(0,s.getY())):l&&(i=new ra(e.getWidth()-1,n.getY()),s=new ra(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=n,this.bottomLeft=a,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,n){return e==null?n:n==null?e:new r(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(e,n,a){var i=this.topLeft,s=this.bottomLeft,c=this.topRight,l=this.bottomRight;if(e>0){var u=a?this.topLeft:this.topRight,o=Math.trunc(u.getY()-e);o<0&&(o=0);var h=new ra(u.getX(),o);a?i=h:c=h}if(n>0){var d=a?this.bottomLeft:this.bottomRight,A=Math.trunc(d.getY()+n);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);var f=new ra(d.getX(),A);a?s=f:l=f}return new r(this.image,i,s,c,l)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),Ise=(function(){function r(e,n,a,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),lS=(function(){function r(){this.buffer=""}return r.form=function(e,n){var a=-1;function i(c,l,u,o,h,d){if(c==="%%")return"%";if(n[++a]!==void 0){c=o?parseInt(o.substr(1)):void 0;var A=h?parseInt(h.substr(1)):void 0,f;switch(d){case"s":f=n[a];break;case"c":f=n[a][0];break;case"f":f=parseFloat(n[a]).toFixed(c);break;case"p":f=parseFloat(n[a]).toPrecision(c);break;case"e":f=parseFloat(n[a]).toExponential(c);break;case"x":f=parseInt(n[a]).toString(A||16);break;case"d":f=parseFloat(parseInt(n[a],A||10).toPrecision(c)).toFixed(0);break}f=typeof f=="object"?JSON.stringify(f):(+f).toString(A);for(var g=parseInt(u),m=u&&u[0]+""=="0"?"0":" ";f.length<g;)f=l!==void 0?f+m:m+f;return f}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},r.prototype.format=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(e,n)},r.prototype.toString=function(){return this.buffer},r})(),Tse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tD=(function(){function r(e){this.boundingBox=new LN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var i=this.imageRowToCodewordIndex(e)-a;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+a,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,n,a=new lS,i=0;try{for(var s=Tse(this.codewords),c=s.next();!c.done;c=s.next()){var l=c.value;if(l==null){a.format("%3d:    |   %n",i++);continue}a.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),_se=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ose=function(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return s},H0=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},r.prototype.getValue=function(){var e,n,a=-1,i=new Array,s=function(d,A){var f={getKey:function(){return d},getValue:function(){return A}};f.getValue()>a?(a=f.getValue(),i=[],i.push(f.getKey())):f.getValue()===a&&i.push(f.getKey())};try{for(var c=_se(this.values.entries()),l=c.next();!l.done;l=c.next()){var u=Ose(l.value,2),o=u[0],h=u[1];s(o,h)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return Ji.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),kse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),eC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O_=(function(r){kse(e,r);function e(n,a){var i=r.call(this,n)||this;return i._isLeft=a,i}return e.prototype.setRowNumbers=function(){var n,a;try{for(var i=eC(this.getCodewords()),s=i.next();!s.done;s=i.next()){var c=s.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=-1,h=1,d=0,A=l;A<u;A++)if(a[A]!=null){var f=a[A],g=f.getRowNumber()-o;if(g===0)d++;else if(g===1)h=Math.max(h,d),d=1,o=f.getRowNumber();else if(g<0||f.getRowNumber()>=n.getRowCount()||g>A)a[A]=null;else{var m=void 0;h>2?m=(h-2)*g:m=g;for(var x=m>=A,y=1;y<=m&&!x;y++)x=a[A-y]!=null;x?a[A]=null:(o=f.getRowNumber(),d=1)}}},e.prototype.getRowHeights=function(){var n,a,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var c=eC(this.getCodewords()),l=c.next();!l.done;l=c.next()){var u=l.value;if(u!=null){var o=u.getRowNumber();if(o>=s.length)continue;s[o]++}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),o=-1,h=c;h<l;h++)if(u[h]!=null){var d=u[h];d.setRowNumberAsRowIndicatorColumn();var A=d.getRowNumber()-o;A===0||(A===1?o=d.getRowNumber():d.getRowNumber()>=n.getRowCount()?u[h]=null:o=d.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,a,i=this.getCodewords(),s=new H0,c=new H0,l=new H0,u=new H0;try{for(var o=eC(i),h=o.next();!h.done;h=o.next()){var d=h.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var A=d.getValue()%30,f=d.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:c.setValue(A*3+1);break;case 1:u.setValue(A/3),l.setValue(A%3);break;case 2:s.setValue(A+1);break}}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}if(s.getValue().length===0||c.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||c.getValue()[0]+l.getValue()[0]<Ji.MIN_ROWS_IN_BARCODE||c.getValue()[0]+l.getValue()[0]>Ji.MAX_ROWS_IN_BARCODE)return null;var g=new Ise(s.getValue()[0],c.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(n,a){for(var i=0;i<n.length;i++){var s=n[i];if(n[i]!=null){var c=s.getValue()%30,l=s.getRowNumber();if(l>a.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[i]=null);break;case 2:c+1!==a.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(tD),Pse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fse=(function(){function r(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ji.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),i=0;i<a.length;i++)a[i]!=null&&(a[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,a));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<e.length;a++)if(e[a]!=null&&n[a]!=null&&e[a].getRowNumber()===n[a].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var i=n[a].getRowNumber(),s=0,c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){var l=this.detectionResultColumns[c].getCodewords()[a];l!=null&&(s=r.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),n=0):++n),n},r.prototype.adjustRowNumbers=function(e,n,a){var i,s;if(this.detectionResultColumns[e-1]!=null){var c=a[n],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var o=new Array(14);o[2]=l[n],o[3]=u[n],n>0&&(o[0]=a[n-1],o[4]=l[n-1],o[5]=u[n-1]),n>1&&(o[8]=a[n-2],o[10]=l[n-2],o[11]=u[n-2]),n<a.length-1&&(o[1]=a[n+1],o[6]=l[n+1],o[7]=u[n+1]),n<a.length-2&&(o[9]=a[n+2],o[12]=l[n+2],o[13]=u[n+2]);try{for(var h=Pse(o),d=h.next();!d.done;d=h.next()){var A=d.value;if(r.adjustRowNumber(c,A))return}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new lS,a=0;a<e.getCodewords().length;a++){n.format("CW %3d:",a);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[a];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()},r})(),Dse=(function(){function r(e,n,a,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),Mse=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Ji.SYMBOL_TABLE.length;e++)for(var n=Ji.SYMBOL_TABLE[e],a=n&1,i=0;i<Ji.BARS_IN_MODULE;i++){for(var s=0;(n&1)===a;)s+=1,n>>=1;a=n&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ji.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ji.BARS_IN_MODULE-i-1]=Math.fround(s/Ji.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var n=r.getDecodedCodewordValue(r.sampleBitCounts(e));return n!==-1?n:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var n=ss.sum(e),a=new Int32Array(Ji.BARS_IN_MODULE),i=0,s=0,c=0;c<Ji.MODULES_IN_CODEWORD;c++){var l=n/(2*Ji.MODULES_IN_CODEWORD)+c*n/Ji.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),a[i]++}return a},r.getDecodedCodewordValue=function(e){var n=r.getBitValue(e);return Ji.getCodeword(n)===-1?-1:n},r.getBitValue=function(e){for(var n=0,a=0;a<e.length;a++)for(var i=0;i<e[a];i++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(e){var n=ss.sum(e),a=new Array(Ji.BARS_IN_MODULE);if(n>1)for(var i=0;i<a.length;i++)a[i]=Math.fround(e[i]/n);var s=DN.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var l=0;l<r.RATIOS_TABLE.length;l++){for(var u=0,o=r.RATIOS_TABLE[l],h=0;h<Ji.BARS_IN_MODULE;h++){var d=Math.fround(o[h]-a[h]);if(u+=Math.fround(d*d),u>=s)break}u<s&&(s=u,c=Ji.SYMBOL_TABLE[l])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ji.SYMBOL_TABLE.length).map(function(e){return new Array(Ji.BARS_IN_MODULE)}),r})(),Rse=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),k_=(function(){function r(){}return r.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},r})(),Lse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Use=(function(r){Lse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Uu),Hse=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,n,a){if(e==null)throw new Use;if(n<0||n>e.length||a<0||n+a>e.length||n+a<0)throw new aS;if(a===0)return;for(var i=0;i<a;i++)this.write(e[n+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),Qse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wse=(function(r){Qse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Uu),$se=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vse=(function(r){$se(e,r);function e(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ea("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var a=this.buf.length,i=a<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new Wse;i=Ei.MAX_VALUE}this.buf=ql.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,a,i){if(a<0||a>n.length||i<0||a+i-n.length>0)throw new aS;this.ensureCapacity(this.count+i),so.arraycopy(n,a,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ql.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(Hse),Hs;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Hs||(Hs={}));function rD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var rv;function YA(r){if(typeof rv>"u"&&(rv=rD()),rv===null)throw new Error("BigInt is not supported!");return rv(r)}function zse(){var r=[];r[0]=YA(1);var e=YA(900);r[1]=e;for(var n=2;n<16;n++)r[n]=r[n-1]*e;return r}var Kse=(function(){function r(){}return r.decode=function(e,n){var a=new Ci(""),i=Kl.ISO8859_1;a.enableDecoding(i);for(var s=1,c=e[s++],l=new Rse;s<e[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:s=r.textCompaction(e,s,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:s=r.byteCompaction(c,e,i,s,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:s=r.numericCompaction(e,s,a);break;case r.ECI_CHARSET:Kl.getCharacterSetECIByValue(e[s++]);break;case r.ECI_GENERAL_PURPOSE:s+=2;break;case r.ECI_USER_DEFINED:s++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=r.decodeMacroBlock(e,s,l);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new mn;default:s--,s=r.textCompaction(e,s,a);break}if(s<e.length)c=e[s++];else throw mn.getFormatInstance()}if(a.length()===0)throw mn.getFormatInstance();var u=new d2(null,a.toString(),null,n);return u.setOther(l),u},r.decodeMacroBlock=function(e,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw mn.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<r.NUMBER_OF_SEQUENCE_CODEWORDS;s++,n++)i[s]=e[n];a.setSegmentIndex(Ei.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new Ci;n=r.textCompaction(e,n,c),a.setFileId(c.toString());var l=-1;for(e[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new Ci;n=r.textCompaction(e,n+1,u),a.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var o=new Ci;n=r.textCompaction(e,n+1,o),a.setSender(o.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Ci;n=r.textCompaction(e,n+1,h),a.setAddressee(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new Ci;n=r.numericCompaction(e,n+1,d),a.setSegmentCount(Ei.parseInt(d.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var A=new Ci;n=r.numericCompaction(e,n+1,A),a.setTimestamp(k_.parseLong(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new Ci;n=r.numericCompaction(e,n+1,f),a.setChecksum(Ei.parseInt(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Ci;n=r.numericCompaction(e,n+1,g),a.setFileSize(k_.parseLong(g.toString()));break;default:throw mn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw mn.getFormatInstance()}if(l!==-1){var m=n-l;a.isLastSegment()&&m--,a.setOptionalData(ql.copyOfRange(e,l,l+m))}return n},r.textCompaction=function(e,n,a){for(var i=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),c=0,l=!1;n<e[0]&&!l;){var u=e[n++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[c]=u/30,i[c+1]=u%30,c+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],s[c]=u,c++;break}}return r.decodeTextCompaction(i,s,c,a),n},r.decodeTextCompaction=function(e,n,a,i){for(var s=Hs.ALPHA,c=Hs.ALPHA,l=0;l<a;){var u=e[l],o="";switch(s){case Hs.ALPHA:if(u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.LL:s=Hs.LOWER;break;case r.ML:s=Hs.MIXED;break;case r.PS:c=s,s=Hs.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break;case Hs.LOWER:if(u<26)o=String.fromCharCode(97+u);else switch(u){case 26:o=" ";break;case r.AS:c=s,s=Hs.ALPHA_SHIFT;break;case r.ML:s=Hs.MIXED;break;case r.PS:c=s,s=Hs.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break;case Hs.MIXED:if(u<r.PL)o=r.MIXED_CHARS[u];else switch(u){case r.PL:s=Hs.PUNCT;break;case 26:o=" ";break;case r.LL:s=Hs.LOWER;break;case r.AL:s=Hs.ALPHA;break;case r.PS:c=s,s=Hs.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break;case Hs.PUNCT:if(u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Hs.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break;case Hs.ALPHA_SHIFT:if(s=c,u<26)o=String.fromCharCode(65+u);else switch(u){case 26:o=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break;case Hs.PUNCT_SHIFT:if(s=c,u<r.PAL)o=r.PUNCT_CHARS[u];else switch(u){case r.PAL:s=Hs.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case r.TEXT_COMPACTION_MODE_LATCH:s=Hs.ALPHA;break}break}o!==""&&i.append(o),l++}},r.byteCompaction=function(e,n,a,i,s){var c=new Vse,l=0,u=0,o=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),d=n[i++];i<n[0]&&!o;)switch(h[l++]=d,u=900*u+d,d=n[i++],d){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break;default:if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(YA(u)>>YA(8*(5-A))));u=0,l=0}break}i===n[0]&&d<r.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=d);for(var f=0;f<l;f++)c.write(h[f]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!o;){var g=n[i++];if(g<r.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,o=!0;break}if(l%5===0&&l>0){for(var A=0;A<6;++A)c.write(Number(YA(u)>>YA(8*(5-A))));u=0,l=0}}break}return s.append(Qd.decode(c.toByteArray(),a)),i},r.numericCompaction=function(e,n,a){for(var i=0,s=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<e[0]&&!s;){var l=e[n++];if(n===e[0]&&(s=!0),l<r.TEXT_COMPACTION_MODE_LATCH)c[i]=l,i++;else switch(l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||l===r.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(a.append(r.decodeBase900toBase10(c,i)),i=0)}return n},r.decodeBase900toBase10=function(e,n){for(var a=YA(0),i=0;i<n;i++)a+=r.EXP900[n-i-1]*YA(e[i]);var s=a.toString();if(s.charAt(0)!=="1")throw new mn;return s.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=rD()?zse():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),I0=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gse=(function(){function r(){}return r.decode=function(e,n,a,i,s,c,l){for(var u=new LN(e,n,a,i,s),o=null,h=null,d,A=!0;;A=!1){if(n!=null&&(o=r.getRowIndicatorColumn(e,u,n,!0,c,l)),i!=null&&(h=r.getRowIndicatorColumn(e,u,i,!1,c,l)),d=r.merge(o,h),d==null)throw Er.getNotFoundInstance();var f=d.getBoundingBox();if(A&&f!=null&&(f.getMinY()<u.getMinY()||f.getMaxY()>u.getMaxY()))u=f;else break}d.setBoundingBox(u);var g=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,o),d.setDetectionResultColumn(g,h);for(var m=o!=null,x=1;x<=g;x++){var y=m?x:g-x;if(d.getDetectionResultColumn(y)===void 0){var b=void 0;y===0||y===g?b=new O_(u,y===0):b=new tD(u),d.setDetectionResultColumn(y,b);for(var w=-1,N=w,S=u.getMinY();S<=u.getMaxY();S++){if(w=r.getStartColumn(d,y,S,m),w<0||w>u.getMaxX()){if(N===-1)continue;w=N}var C=r.detectCodeword(e,u.getMinX(),u.getMaxX(),m,w,S,c,l);C!=null&&(b.setCodeword(S,C),N=w,c=Math.min(c,C.getWidth()),l=Math.max(l,C.getWidth()))}}}return r.createDecoderResult(d)},r.merge=function(e,n){if(e==null&&n==null)return null;var a=r.getBarcodeMetadata(e,n);if(a==null)return null;var i=LN.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(n));return new Fse(a,i)},r.adjustBoundingBox=function(e){var n,a;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=r.getMax(i),c=0;try{for(var l=I0(i),u=l.next();!u.done;u=l.next()){var o=u.value;if(c+=s-o,o>0)break}}catch(f){n={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=e.getCodewords(),d=0;c>0&&h[d]==null;d++)c--;for(var A=0,d=i.length-1;d>=0&&(A+=s-i[d],!(i[d]>0));d--);for(var d=h.length-1;A>0&&h[d]==null;d--)A--;return e.getBoundingBox().addMissingRows(c,A,e.isLeft())},r.getMax=function(e){var n,a,i=-1;try{for(var s=I0(e),c=s.next();!c.done;c=s.next()){var l=c.value;i=Math.max(i,l)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},r.getBarcodeMetadata=function(e,n){var a;if(e==null||(a=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==i.getColumnCount()&&a.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&a.getRowCount()!==i.getRowCount()?null:a},r.getRowIndicatorColumn=function(e,n,a,i,s,c){for(var l=new O_(n,i),u=0;u<2;u++)for(var o=u===0?1:-1,h=Math.trunc(Math.trunc(a.getX())),d=Math.trunc(Math.trunc(a.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=o){var A=r.detectCodeword(e,0,e.getWidth(),i,h,d,s,c);A!=null&&(l.setCodeword(d,A),i?h=A.getStartX():h=A.getEndX())}return l},r.adjustCodewordCount=function(e,n){var a=n[0][1],i=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Ji.MAX_CODEWORDS_IN_BARCODE)throw Er.getNotFoundInstance();a.setValue(s)}else i[0]!==s&&a.setValue(s)},r.createDecoderResult=function(e){var n=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,n);for(var a=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],c=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var o=n[l][u+1].getValue(),h=l*e.getBarcodeColumnCount()+u;o.length===0?a.push(h):o.length===1?i[h]=o[0]:(c.push(h),s.push(o))}for(var d=new Array(s.length),A=0;A<d.length;A++)d[A]=s[A];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ji.toIntArray(a),Ji.toIntArray(c),d)},r.createDecoderResultFromAmbiguousValues=function(e,n,a,i,s){for(var c=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<c.length;u++)n[i[u]]=s[u][c[u]];try{return r.decodeCodewords(n,e,a)}catch(h){var o=h instanceof Nl;if(!o)throw h}if(c.length===0)throw Nl.getChecksumInstance();for(var u=0;u<c.length;u++)if(c[u]<s[u].length-1){c[u]++;break}else if(c[u]=0,u===c.length-1)throw Nl.getChecksumInstance()}throw Nl.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var n,a,i,s,c=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<c.length;l++)for(var u=0;u<c[l].length;u++)c[l][u]=new H0;var o=0;try{for(var h=I0(e.getDetectionResultColumns()),d=h.next();!d.done;d=h.next()){var A=d.value;if(A!=null)try{for(var f=(i=void 0,I0(A.getCodewords())),g=f.next();!g.done;g=f.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][o].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}o++}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,n,a,i){var s,c,l=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodeword(a)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(a),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodewordNearby(a)),u!=null)return i?u.getEndX():u.getStartX();for(var o=0;r.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var h=(s=void 0,I0(e.getDetectionResultColumn(n).getCodewords())),d=h.next();!d.done;d=h.next()){var A=d.value;if(A!=null)return(i?A.getEndX():A.getStartX())+l*o*(A.getEndX()-A.getStartX())}}catch(f){s={error:f}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}o++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,n,a,i,s,c,l,u){s=r.adjustCodewordStartColumn(e,n,a,i,s,c);var o=r.getModuleBitCount(e,n,a,i,s,c);if(o==null)return null;var h,d=ss.sum(o);if(i)h=s+d;else{for(var A=0;A<o.length/2;A++){var f=o[A];o[A]=o[o.length-1-A],o[o.length-1-A]=f}h=s,s=h-d}if(!r.checkCodewordSkew(d,l,u))return null;var g=Mse.getDecodedValue(o),m=Ji.getCodeword(g);return m===-1?null:new Dse(s,h,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(e,n,a,i,s,c){for(var l=s,u=new Int32Array(8),o=0,h=i?1:-1,d=i;(i?l<a:l>=n)&&o<u.length;)e.get(l,c)===d?(u[o]++,l+=h):(o++,d=!d);return o===u.length||l===(i?a:n)&&o===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,n,a,i,s,c){for(var l=s,u=i?-1:1,o=0;o<2;o++){for(;(i?l>=n:l<a)&&i===e.get(l,c);){if(Math.abs(s-l)>r.CODEWORD_SKEW_SIZE)return s;l+=u}u=-u,i=!i}return l},r.checkCodewordSkew=function(e,n,a){return n-r.CODEWORD_SKEW_SIZE<=e&&e<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,n,a){if(e.length===0)throw mn.getFormatInstance();var i=1<<n+1,s=r.correctErrors(e,a,i);r.verifyCodewordCount(e,i);var c=Kse.decode(e,""+n);return c.setErrorsCorrected(s),c.setErasures(a.length),c},r.correctErrors=function(e,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw Nl.getChecksumInstance();return r.errorCorrection.decode(e,a,n)},r.verifyCodewordCount=function(e,n){if(e.length<4)throw mn.getFormatInstance();var a=e[0];if(a>e.length)throw mn.getFormatInstance();if(a===0)if(n<e.length)e[0]=e.length-n;else throw mn.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),a=0,i=n.length-1;!((e&1)!==a&&(a=e&1,i--,i<0));)n[i]++,e>>=1;return n},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var n=new lS,a=0;a<e.length;a++){n.format("Row %2d: ",a);for(var i=0;i<e[a].length;i++){var s=e[a][i];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Ese,r})(),qse=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vx=(function(){function r(){}return r.prototype.decode=function(e,n){n===void 0&&(n=null);var a=r.decode(e,n,!1);if(a==null||a.length===0||a[0]==null)throw Er.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return r.decode(e,n,!0)}catch(a){throw a instanceof mn||a instanceof Nl?Er.getNotFoundInstance():a}},r.decode=function(e,n,a){var i,s,c=new Array,l=wse.detectMultiple(e,n,a);try{for(var u=qse(l.getPoints()),o=u.next();!o.done;o=u.next()){var h=o.value,d=Gse.decode(l.getBits(),h[4],h[5],h[6],h[7],r.getMinCodewordWidth(h),r.getMaxCodewordWidth(h)),A=new tu(d.getText(),d.getRawBytes(),void 0,h,Ba.PDF_417);A.putMetadata(Lc.ERROR_CORRECTION_LEVEL,d.getECLevel());var f=d.getOther();f!=null&&A.putMetadata(Lc.PDF417_EXTRA_METADATA,f),c.push(A)}}catch(g){i={error:g}}finally{try{o&&!o.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return c.map(function(g){return g})},r.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMinWidth=function(e,n){return e==null||n==null?Ei.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Ji.MODULES_IN_CODEWORD/Ji.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Ji.MODULES_IN_CODEWORD/Ji.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Ji.MODULES_IN_CODEWORD/Ji.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Ji.MODULES_IN_CODEWORD/Ji.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),Xse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),P_=(function(r){Xse(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(Uu),F_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nD=(function(){function r(){}return r.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(oo.TRY_HARDER)!==void 0,a=e==null?null:e.get(oo.POSSIBLE_FORMATS),i=new Array;if(a!=null){var s=a.some(function(c){return c===Ba.UPC_A||c===Ba.UPC_E||c===Ba.EAN_13||c===Ba.EAN_8||c===Ba.CODABAR||c===Ba.CODE_39||c===Ba.CODE_93||c===Ba.CODE_128||c===Ba.ITF||c===Ba.RSS_14||c===Ba.RSS_EXPANDED});s&&!n&&i.push(new qp(e)),a.includes(Ba.QR_CODE)&&i.push(new gx),a.includes(Ba.DATA_MATRIX)&&i.push(new mx),a.includes(Ba.AZTEC)&&i.push(new fx),a.includes(Ba.PDF_417)&&i.push(new vx),s&&n&&i.push(new qp(e))}i.length===0&&(n||i.push(new qp(e)),i.push(new gx),i.push(new mx),i.push(new fx),i.push(new vx),n&&i.push(new qp(e))),this.readers=i},r.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var a=F_(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var n,a;if(this.readers===null)throw new P_("No readers where selected, nothing can be read.");try{for(var i=F_(this.readers),s=i.next();!s.done;s=i.next()){var c=s.value;try{return c.decode(e,this.hints)}catch(l){if(l instanceof P_)continue}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new Er("No MultiFormat Readers were able to detect the code.")},r})(),Yse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Yse(e,r);function e(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var i=this,s=new nD;return s.setHints(n),i=r.call(this,s,a)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Lm);var Zse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Zse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new vx,n)||this}return e})(Lm);var Jse=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Jse(e,r);function e(n){return n===void 0&&(n=500),r.call(this,new gx,n)||this}return e})(Lm);var UN;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(UN||(UN={}));const nv=UN;var aD=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new lf(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var a=n[n.length-1],i=this.field,s=n.length;s<=e;s++){var c=a.multiply(new lf(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));n.push(c),a=c}return n[e]},r.prototype.encode=function(e,n){if(n===0)throw new Ea("No error correction bytes");var a=e.length-n;if(a<=0)throw new Ea("No data bytes provided");var i=this.buildGenerator(n),s=new Int32Array(a);so.arraycopy(e,0,s,0,a);var c=new lf(this.field,s);c=c.multiplyByMonomial(n,1);for(var l=c.divide(i)[1],u=l.getCoefficients(),o=n-u.length,h=0;h<o;h++)e[a+h]=0;so.arraycopy(u,0,e,a+o,u.length)},r})(),Q0=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s-1;c++)for(var l=a[c],u=0;u<i-1;u++){var o=l[u];o===l[u+1]&&o===a[c+1][u]&&o===a[c+1][u+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=0;l<i;l++){var u=a[c];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(r.isWhiteHorizontal(u,l-4,l)||r.isWhiteHorizontal(u,l+7,l+11))&&n++,c+6<s&&a[c][l]===1&&a[c+1][l]===0&&a[c+2][l]===1&&a[c+3][l]===1&&a[c+4][l]===1&&a[c+5][l]===0&&a[c+6][l]===1&&(r.isWhiteVertical(a,l,c-4,c)||r.isWhiteVertical(a,l,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(e,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,n,a,i){a=Math.max(a,0),i=Math.min(i,e.length);for(var s=a;s<i;s++)if(e[s][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var n=0,a=e.getArray(),i=e.getWidth(),s=e.getHeight(),c=0;c<s;c++)for(var l=a[c],u=0;u<i;u++)l[u]===1&&n++;var o=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(n*2-o)*10/o);return h*r.N4},r.getDataMaskBit=function(e,n,a){var i,s;switch(e){case 0:i=a+n&1;break;case 1:i=a&1;break;case 2:i=n%3;break;case 3:i=(a+n)%3;break;case 4:i=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:s=a*n,i=(s&1)+s%3;break;case 6:s=a*n,i=(s&1)+s%3&1;break;case 7:s=a*n,i=s%3+(a+n&1)&1;break;default:throw new Ea("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,n){for(var a=0,i=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),c=e.getArray(),l=0;l<i;l++){for(var u=0,o=-1,h=0;h<s;h++){var d=n?c[l][h]:c[h][l];d===o?u++:(u>=5&&(a+=r.N1+(u-5)),u=1,o=d)}u>=5&&(a+=r.N1+(u-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),eoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},toe=(function(){function r(e,n){this.width=e,this.height=n;for(var a=new Array(n),i=0;i!==n;i++)a[i]=new Uint8Array(e);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,n){return this.bytes[n][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,n,a){this.bytes[n][e]=a},r.prototype.setBoolean=function(e,n,a){this.bytes[n][e]=a?1:0},r.prototype.clear=function(e){var n,a;try{for(var i=eoe(this.bytes),s=i.next();!s.done;s=i.next()){var c=s.value;ql.fill(c,e)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,i=this.height;a<i;++a)for(var s=this.bytes[a],c=n.bytes[a],l=0,u=this.width;l<u;++l)if(s[l]!==c[l])return!1;return!0},r.prototype.toString=function(){for(var e=new Ci,n=0,a=this.height;n<a;++n){for(var i=this.bytes[n],s=0,c=this.width;s<c;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),HN=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Ci;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),roe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),mo=(function(r){roe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(Uu),D_=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,n,a,i,s){r.clearMatrix(s),r.embedBasicPatterns(a,s),r.embedTypeInfo(n,i,s),r.maybeEmbedVersionInfo(a,s),r.embedDataBits(e,i,s)},r.embedBasicPatterns=function(e,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(e,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(e,n,a){var i=new bc;r.makeTypeInfoBits(e,n,i);for(var s=0,c=i.getSize();s<c;++s){var l=i.get(i.getSize()-1-s),u=r.TYPE_INFO_COORDINATES[s],o=u[0],h=u[1];if(a.setBoolean(o,h,l),s<8){var d=a.getWidth()-s-1,A=8;a.setBoolean(d,A,l)}else{var d=8,A=a.getHeight()-7+(s-8);a.setBoolean(d,A,l)}}},r.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var a=new bc;r.makeVersionInfoBits(e,a);for(var i=17,s=0;s<6;++s)for(var c=0;c<3;++c){var l=a.get(i);i--,n.setBoolean(s,n.getHeight()-11+c,l),n.setBoolean(n.getHeight()-11+c,s,l)}}},r.embedDataBits=function(e,n,a){for(var i=0,s=-1,c=a.getWidth()-1,l=a.getHeight()-1;c>0;){for(c===6&&(c-=1);l>=0&&l<a.getHeight();){for(var u=0;u<2;++u){var o=c-u;if(r.isEmpty(a.get(o,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,n!==255&&Q0.getDataMaskBit(n,o,l)&&(h=!h),a.setBoolean(o,l,h)}}l+=s}s=-s,l+=s,c-=2}if(i!==e.getSize())throw new mo("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Ei.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,n){if(n===0)throw new Ea("0 polynomial");var a=r.findMSBSet(n);for(e<<=a-1;r.findMSBSet(e)>=a;)e^=n<<r.findMSBSet(e)-a;return e},r.makeTypeInfoBits=function(e,n,a){if(!HN.isValidMaskPattern(n))throw new mo("Invalid mask pattern");var i=e.getBits()<<3|n;a.appendBits(i,5);var s=r.calculateBCHCode(i,r.TYPE_INFO_POLY);a.appendBits(s,10);var c=new bc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new mo("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var a=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new mo("should not happen but we got: "+n.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(e.get(n,6))&&e.setNumber(n,6,a),r.isEmpty(e.get(6,n))&&e.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new mo;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,n,a){for(var i=0;i<8;++i){if(!r.isEmpty(a.get(e+i,n)))throw new mo;a.setNumber(e+i,n,0)}},r.embedVerticalSeparationPattern=function(e,n,a){for(var i=0;i<7;++i){if(!r.isEmpty(a.get(e,n+i)))throw new mo;a.setNumber(e,n+i,0)}},r.embedPositionAdjustmentPattern=function(e,n,a){for(var i=0;i<5;++i)for(var s=r.POSITION_ADJUSTMENT_PATTERN[i],c=0;c<5;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPattern=function(e,n,a){for(var i=0;i<7;++i)for(var s=r.POSITION_DETECTION_PATTERN[i],c=0;c<7;++c)a.setNumber(e+c,n+i,s[c])},r.embedPositionDetectionPatternsAndSeparators=function(e){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-n,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-n,e);var a=8;r.embedHorizontalSeparationPattern(0,a-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var a=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],s=0,c=i.length;s!==c;s++){var l=i[s];if(l>=0)for(var u=0;u!==c;u++){var o=i[u];o>=0&&r.isEmpty(n.get(o,l))&&r.embedPositionAdjustmentPattern(o-2,l-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),noe=(function(){function r(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),M_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return Q0.applyMaskPenaltyRule1(e)+Q0.applyMaskPenaltyRule2(e)+Q0.applyMaskPenaltyRule3(e)+Q0.applyMaskPenaltyRule4(e)},r.encode=function(e,n,a){a===void 0&&(a=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,s=a!==null&&a.get(nv.CHARACTER_SET)!==void 0;s&&(i=a.get(nv.CHARACTER_SET).toString());var c=this.chooseMode(e,i),l=new bc;if(c===go.BYTE&&(s||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Kl.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(c,l);var o=new bc;this.appendBytes(e,c,o,i);var h;if(a!==null&&a.get(nv.QR_VERSION)!==void 0){var d=Number.parseInt(a.get(nv.QR_VERSION).toString(),10);h=ap.getVersionForNumber(d);var A=this.calculateBitsNeeded(c,l,o,h);if(!this.willFit(A,h,n))throw new mo("Data too big for requested version")}else h=this.recommendVersion(n,c,l,o);var f=new bc;f.appendBitArray(l);var g=c===go.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(g,h,c,f),f.appendBitArray(o);var m=h.getECBlocksForLevel(n),x=h.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,f);var y=this.interleaveWithECBytes(f,h.getTotalCodewords(),x,m.getNumBlocks()),b=new HN;b.setECLevel(n),b.setMode(c),b.setVersion(h);var w=h.getDimensionForVersion(),N=new toe(w,w),S=this.chooseMaskPattern(y,n,h,N);return b.setMaskPattern(S),D_.buildMatrix(y,n,h,S,N),b.setMatrix(N),b},r.recommendVersion=function(e,n,a,i){var s=this.calculateBitsNeeded(n,a,i,ap.getVersionForNumber(1)),c=this.chooseVersion(s,e),l=this.calculateBitsNeeded(n,a,i,c);return this.chooseVersion(l,e)},r.calculateBitsNeeded=function(e,n,a,i){return n.getSize()+e.getCharacterCountBits(i)+a.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,n){if(n===void 0&&(n=null),Kl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return go.KANJI;for(var a=!1,i=!1,s=0,c=e.length;s<c;++s){var l=e.charAt(s);if(r.isDigit(l))a=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return go.BYTE}return i?go.ALPHANUMERIC:a?go.NUMERIC:go.BYTE},r.isOnlyDoubleByteKanji=function(e){var n;try{n=Qd.encode(e,Kl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var i=0;i<a;i+=2){var s=n[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},r.chooseMaskPattern=function(e,n,a,i){for(var s=Number.MAX_SAFE_INTEGER,c=-1,l=0;l<HN.NUM_MASK_PATTERNS;l++){D_.buildMatrix(e,n,a,l,i);var u=this.calculateMaskPenalty(i);u<s&&(s=u,c=l)}return c},r.chooseVersion=function(e,n){for(var a=1;a<=40;a++){var i=ap.getVersionForNumber(a);if(r.willFit(e,i,n))return i}throw new mo("Data too big")},r.willFit=function(e,n,a){var i=n.getTotalCodewords(),s=n.getECBlocksForLevel(a),c=s.getTotalECCodewords(),l=i-c,u=(e+7)/8;return l>=u},r.terminateBits=function(e,n){var a=e*8;if(n.getSize()>a)throw new mo("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var i=0;i<4&&n.getSize()<a;++i)n.appendBit(!1);var s=n.getSize()&7;if(s>0)for(var i=s;i<8;i++)n.appendBit(!1);for(var c=e-n.getSizeInBytes(),i=0;i<c;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==a)throw new mo("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,n,a,i,s,c){if(i>=a)throw new mo("Block ID too large");var l=e%a,u=a-l,o=Math.floor(e/a),h=o+1,d=Math.floor(n/a),A=d+1,f=o-d,g=h-A;if(f!==g)throw new mo("EC bytes mismatch");if(a!==u+l)throw new mo("RS blocks mismatch");if(e!==(d+f)*u+(A+g)*l)throw new mo("Total bytes mismatch");i<u?(s[0]=d,c[0]=f):(s[0]=A,c[0]=g)},r.interleaveWithECBytes=function(e,n,a,i){var s,c,l,u;if(e.getSizeInBytes()!==a)throw new mo("Number of bits and data bytes does not match");for(var o=0,h=0,d=0,A=new Array,f=0;f<i;++f){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,i,f,g,m);var x=g[0],y=new Uint8Array(x);e.toBytes(8*o,y,0,x);var b=r.generateECBytes(y,m[0]);A.push(new noe(y,b)),h=Math.max(h,x),d=Math.max(d,b.length),o+=g[0]}if(a!==o)throw new mo("Data bytes does not match offset");for(var w=new bc,f=0;f<h;++f)try{for(var N=(s=void 0,M_(A)),S=N.next();!S.done;S=N.next()){var C=S.value,y=C.getDataBytes();f<y.length&&w.appendBits(y[f],8)}}catch(te){s={error:te}}finally{try{S&&!S.done&&(c=N.return)&&c.call(N)}finally{if(s)throw s.error}}for(var f=0;f<d;++f)try{for(var k=(l=void 0,M_(A)),W=k.next();!W.done;W=k.next()){var C=W.value,b=C.getErrorCorrectionBytes();f<b.length&&w.appendBits(b[f],8)}}catch(te){l={error:te}}finally{try{W&&!W.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}if(n!==w.getSizeInBytes())throw new mo("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},r.generateECBytes=function(e,n){for(var a=e.length,i=new Int32Array(a+n),s=0;s<a;s++)i[s]=e[s]&255;new aD(Mu.QR_CODE_FIELD_256).encode(i,n);for(var c=new Uint8Array(n),s=0;s<n;s++)c[s]=i[a+s];return c},r.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,n,a,i){var s=a.getCharacterCountBits(n);if(e>=1<<s)throw new mo(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},r.appendBytes=function(e,n,a,i){switch(n){case go.NUMERIC:r.appendNumericBytes(e,a);break;case go.ALPHANUMERIC:r.appendAlphanumericBytes(e,a);break;case go.BYTE:r.append8BitBytes(e,a,i);break;case go.KANJI:r.appendKanjiBytes(e,a);break;default:throw new mo("Invalid mode: "+n)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var n=r.getDigit(e);return n>=0&&n<=9},r.appendNumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getDigit(e.charAt(i));if(i+2<a){var c=r.getDigit(e.charAt(i+1)),l=r.getDigit(e.charAt(i+2));n.appendBits(s*100+c*10+l,10),i+=3}else if(i+1<a){var c=r.getDigit(e.charAt(i+1));n.appendBits(s*10+c,7),i+=2}else n.appendBits(s,4),i++}},r.appendAlphanumericBytes=function(e,n){for(var a=e.length,i=0;i<a;){var s=r.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new mo;if(i+1<a){var c=r.getAlphanumericCode(e.charCodeAt(i+1));if(c===-1)throw new mo;n.appendBits(s*45+c,11),i+=2}else n.appendBits(s,6),i++}},r.append8BitBytes=function(e,n,a){var i;try{i=Qd.encode(e,a)}catch(u){throw new mo(u)}for(var s=0,c=i.length;s!==c;s++){var l=i[s];n.appendBits(l,8)}},r.appendKanjiBytes=function(e,n){var a;try{a=Qd.encode(e,Kl.SJIS)}catch(d){throw new mo(d)}for(var i=a.length,s=0;s<i;s+=2){var c=a[s]&255,l=a[s+1]&255,u=c<<8&4294967295|l,o=-1;if(u>=33088&&u<=40956?o=u-33088:u>=57408&&u<=60351&&(o=u-49472),o===-1)throw new mo("Invalid byte sequence");var h=(o>>8)*192+(o&255);n.appendBits(h,13)}},r.appendECI=function(e,n){n.appendBits(go.ECI.getBits(),4),n.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Kl.UTF8.getName(),r})();var aoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){aoe(e,r);function e(n,a,i,s,c,l,u,o){var h=r.call(this,l,u)||this;if(h.yuvData=n,h.dataWidth=a,h.dataHeight=i,h.left=s,h.top=c,s+l>a||c+u>i)throw new Ea("Crop rectangle does not fit within image data.");return o&&h.reverseHorizontal(l,u),h}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return so.arraycopy(this.yuvData,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return so.arraycopy(this.yuvData,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;so.arraycopy(this.yuvData,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,i,s,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*a),s=this.yuvData,c=this.top*this.dataWidth+this.left,l=0;l<a;l++){for(var u=l*n,o=0;o<n;o++){var h=s[c+o*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+o]=4278190080|h*65793}c+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,a){for(var i=this.yuvData,s=0,c=this.top*this.dataWidth+this.left;s<a;s++,c+=this.dataWidth)for(var l=c+n/2,u=c,o=c+n-1;u<l;u++,o--){var h=i[u];i[u]=i[o],i[o]=h}},e.prototype.invert=function(){return new u2(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Yg);var ioe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ioe(e,r);function e(n,a,i,s,c,l,u){var o=r.call(this,a,i)||this;if(o.dataWidth=s,o.dataHeight=c,o.left=l,o.top=u,n.BYTES_PER_ELEMENT===4){for(var h=a*i,d=new Uint8ClampedArray(h),A=0;A<h;A++){var f=n[A],g=f>>16&255,m=f>>7&510,x=f&255;d[A]=(g+m+x)/4&255}o.luminances=d}else o.luminances=n;if(s===void 0&&(o.dataWidth=a),c===void 0&&(o.dataHeight=i),l===void 0&&(o.left=0),u===void 0&&(o.top=0),o.left+a>o.dataWidth||o.top+i>o.dataHeight)throw new Ea("Crop rectangle does not fit within image data.");return o}return e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));var s=(n+this.top)*this.dataWidth+this.left;return so.arraycopy(this.luminances,s,a,0,i),a},e.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var i=n*a,s=new Uint8ClampedArray(i),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return so.arraycopy(this.luminances,c,s,0,i),s;for(var l=0;l<a;l++){var u=l*n;so.arraycopy(this.luminances,c,s,u,n),c+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},e.prototype.invert=function(){return new u2(this)},e})(Yg);var soe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ooe=(function(r){soe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Kl),loe=(function(){function r(){}return r.ISO_8859_1=Kl.ISO8859_1,r})(),QN,coe=301,uoe=function(r,e){for(var n=1,a=0;a<255;a++)e[a]=n,r[n]=a,n*=2,n>=256&&(n^=coe);return{LOG:r,ALOG:e}};QN=uoe([],[]),QN.LOG;QN.ALOG;var R_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(R_||(R_={}));var L_=129,iD=230,doe=231,hoe=235,Aoe=236,foe=237,poe=238,moe=239,goe=240,tC=254,voe=254,U_="[)>05",H_="[)>06",Q_="",Os=0,Mc=1,xu=2,$l=3,vc=4,Zc=5,xoe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Os},r.prototype.encode=function(e){var n=dh.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var a=e.getCurrentChar(),i=dh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Zc:e.writeCodeword(doe),e.signalEncoderChange(Zc);return;case Mc:e.writeCodeword(iD),e.signalEncoderChange(Mc);return;case $l:e.writeCodeword(poe),e.signalEncoderChange($l);break;case xu:e.writeCodeword(moe),e.signalEncoderChange(xu);break;case vc:e.writeCodeword(goe),e.signalEncoderChange(vc);break;default:throw new Error("Illegal mode: "+i)}else dh.isExtendedASCII(a)?(e.writeCodeword(hoe),e.writeCodeword(a-128+1),e.pos++):(e.writeCodeword(a+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,n){if(dh.isDigit(e)&&dh.isDigit(n)){var a=(e-48)*10+(n-48);return a+130}throw new Error("not digits: "+e+n)},r})(),yoe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Zc},r.prototype.encode=function(e){var n=new Ci;for(n.append(0);e.hasMoreCharacters();){var a=e.getCurrentChar();n.append(a),e.pos++;var i=dh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}var s=n.length()-1,c=1,l=e.getCodewordCount()+s+c;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(s<=249)n.setCharAt(0,Yi.getCharAt(s));else if(s<=1555)n.setCharAt(0,Yi.getCharAt(Math.floor(s/250)+249)),n.insert(1,Yi.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var o=0,a=n.length();o<a;o++)e.writeCodeword(this.randomize255State(n.charAt(o).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,n){var a=149*n%255+1,i=e+a;return i<=255?i:i-256},r})(),cS=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Mc},r.prototype.encodeMaximal=function(e){for(var n=new Ci,a=0,i=e.pos,s=0;e.hasMoreCharacters();){var c=e.getCurrentChar();e.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(i=e.pos,s=n.length())}if(s!==n.length()){var l=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var o=e.getSymbolInfo().getDataCapacity()-u,h=Math.floor(n.length()%3);(h===2&&o!==2||h===1&&(a>3||o!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(iD),this.handleEOD(e,n)},r.prototype.encode=function(e){for(var n=new Ci;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++;var i=this.encodeChar(a,n),s=Math.floor(n.length()/3)*2,c=e.getCodewordCount()+s;e.updateSymbolInfo(c);var l=e.getSymbolInfo().getDataCapacity()-c;if(!e.hasMoreCharacters()){var u=new Ci;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,u,i);break}var o=n.length();if(o%3===0){var h=dh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}}this.handleEOD(e,n)},r.prototype.backtrackOneCharacter=function(e,n,a,i){var s=n.length(),c=n.toString().substring(0,s-i);n.setLengthToZero(),n.append(c),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,a),e.resetSymbolInfo(),i},r.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(e,n){var a=Math.floor(n.length()/3*2),i=n.length()%3,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(tC)}else if(c===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(tC),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(c>0||e.hasMoreCharacters())&&e.writeCodeword(tC)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Os)},r.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var a=2;return a+=this.encodeChar(e-128,n),a},r.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,a=n/256,i=n%256,s=new Ci;return s.append(a),s.append(i),s.toString()},r})(),boe=(function(){function r(){}return r.prototype.getEncodingMode=function(){return vc},r.prototype.encode=function(e){for(var n=new Ci;e.hasMoreCharacters();){var a=e.getCurrentChar();this.encodeChar(a,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(4);n.setLengthToZero(),n.append(s);var c=dh.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(Os);break}}}n.append(Yi.getCharAt(31)),this.handleEOD(e,n)},r.prototype.handleEOD=function(e,n){try{var a=n.length();if(a===0)return;if(a===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,l=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),o=u&&c<=2;if(c<=2){e.updateSymbolInfo(e.getCodewordCount()+c);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(o=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}o?(e.resetSymbolInfo(),e.pos-=c):e.writeCodewords(l)}finally{e.signalEncoderChange(Os)}},r.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(Yi.getCharAt(e-64)):dh.illegalCharacter(Yi.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,s=n>=3?e.charAt(2).charCodeAt(0):0,c=n>=4?e.charAt(3).charCodeAt(0):0,l=(a<<18)+(i<<12)+(s<<6)+c,u=l>>16&255,o=l>>8&255,h=l&255,d=new Ci;return d.append(u),n>=2&&d.append(o),n>=3&&d.append(h),d.toString()},r})(),woe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),joe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ms=(function(){function r(e,n,a,i,s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=c,this.rsBlockData=l,this.rsBlockError=u}return r.lookup=function(e,n,a,i,s){var c,l;n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var u=joe(Noe),o=u.next();!o.done;o=u.next()){var h=o.value;if(!(n===1&&h.rectangular)&&!(n===2&&!h.rectangular)&&!(a!=null&&(h.getSymbolWidth()<a.getWidth()||h.getSymbolHeight()<a.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(d){c={error:d}}finally{try{o&&!o.done&&(l=u.return)&&l.call(u)}finally{if(c)throw c.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),Coe=(function(r){woe(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(ms),Noe=[new ms(!1,3,5,8,8,1),new ms(!1,5,7,10,10,1),new ms(!0,5,7,16,6,1),new ms(!1,8,10,12,12,1),new ms(!0,10,11,14,6,2),new ms(!1,12,12,14,14,1),new ms(!0,16,14,24,10,1),new ms(!1,18,14,16,16,1),new ms(!1,22,18,18,18,1),new ms(!0,22,18,16,10,2),new ms(!1,30,20,20,20,1),new ms(!0,32,24,16,14,2),new ms(!1,36,24,22,22,1),new ms(!1,44,28,24,24,1),new ms(!0,49,28,22,14,2),new ms(!1,62,36,14,14,4),new ms(!1,86,42,16,16,4),new ms(!1,114,48,18,18,4),new ms(!1,144,56,20,20,4),new ms(!1,174,68,22,22,4),new ms(!1,204,84,24,24,4,102,42),new ms(!1,280,112,14,14,16,140,56),new ms(!1,368,144,16,16,16,92,36),new ms(!1,456,192,18,18,16,114,48),new ms(!1,576,224,20,20,16,144,56),new ms(!1,696,272,22,22,16,174,68),new ms(!1,816,336,24,24,16,136,56),new ms(!1,1050,408,18,18,36,175,68),new ms(!1,1304,496,20,20,36,163,62),new Coe],Soe=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),a=new Ci,i=0,s=n.length;i<s;i++){var c=String.fromCharCode(n[i]&255);if(c==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new Ci,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ms.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),Boe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Eoe=(function(r){Boe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $l},e.prototype.encode=function(n){for(var a=new Ci;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,a);var s=a.length();if(s%3===0){this.writeNextTriplet(n,a);var c=dh.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(Os);break}}}this.handleEOD(n,a)},e.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):dh.illegalCharacter(Yi.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),s=a.length();n.pos-=s,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(voe),n.getNewEncoding()<0&&n.signalEncoderChange(Os)},e})(cS),Ioe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Toe=(function(r){Ioe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return xu},e.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var i=2;return i+=this.encodeChar(n-128,a),i},e})(cS),dh=(function(){function r(){}return r.randomize253State=function(e){var n=149*e%253+1,a=L_+n;return a<=254?a:a-254},r.encodeHighLevel=function(e,n,a,i,s){n===void 0&&(n=0),a===void 0&&(a=null),i===void 0&&(i=null),s===void 0&&(s=!1);var c=new cS,l=[new xoe,c,new Toe,new Eoe,new boe,new yoe],u=new Soe(e);u.setSymbolShape(n),u.setSizeConstraints(a,i),e.startsWith(U_)&&e.endsWith(Q_)?(u.writeCodeword(Aoe),u.setSkipAtEnd(2),u.pos+=U_.length):e.startsWith(H_)&&e.endsWith(Q_)&&(u.writeCodeword(foe),u.setSkipAtEnd(2),u.pos+=H_.length);var o=Os;for(s&&(c.encodeMaximal(u),o=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[o].encode(u),u.getNewEncoding()>=0&&(o=u.getNewEncoding(),u.resetEncoderSignal());var h=u.getCodewordCount();u.updateSymbolInfo();var d=u.getSymbolInfo().getDataCapacity();h<d&&o!==Os&&o!==Zc&&o!==vc&&u.writeCodeword("");var A=u.getCodewords();for(A.length()<d&&A.append(L_);A.length()<d;)A.append(this.randomize253State(A.length()+1));return u.getCodewords().toString()},r.lookAheadTest=function(e,n,a){var i=this.lookAheadTestIntern(e,n,a);if(a===$l&&i===$l){for(var s=Math.min(n+3,e.length),c=n;c<s;c++)if(!this.isNativeX12(e.charCodeAt(c)))return Os}else if(a===vc&&i===vc){for(var s=Math.min(n+4,e.length),c=n;c<s;c++)if(!this.isNativeEDIFACT(e.charCodeAt(c)))return Os}return i},r.lookAheadTestIntern=function(e,n,a){if(n>=e.length)return a;var i;a===Os?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[a]=0);for(var s=0,c=new Uint8Array(6),l=[];;){if(n+s===e.length){ql.fill(c,0),ql.fill(l,0);var u=this.findMinimums(i,l,Ei.MAX_VALUE,c),o=this.getMinimumCount(c);if(l[Os]===u)return Os;if(o===1){if(c[Zc]>0)return Zc;if(c[vc]>0)return vc;if(c[xu]>0)return xu;if(c[$l]>0)return $l}return Mc}var h=e.charCodeAt(n+s);if(s++,this.isDigit(h)?i[Os]+=.5:this.isExtendedASCII(h)?(i[Os]=Math.ceil(i[Os]),i[Os]+=2):(i[Os]=Math.ceil(i[Os]),i[Os]++),this.isNativeC40(h)?i[Mc]+=2/3:this.isExtendedASCII(h)?i[Mc]+=8/3:i[Mc]+=4/3,this.isNativeText(h)?i[xu]+=2/3:this.isExtendedASCII(h)?i[xu]+=8/3:i[xu]+=4/3,this.isNativeX12(h)?i[$l]+=2/3:this.isExtendedASCII(h)?i[$l]+=13/3:i[$l]+=10/3,this.isNativeEDIFACT(h)?i[vc]+=3/4:this.isExtendedASCII(h)?i[vc]+=17/4:i[vc]+=13/4,this.isSpecialB256(h)?i[Zc]+=4:i[Zc]++,s>=4){if(ql.fill(c,0),ql.fill(l,0),this.findMinimums(i,l,Ei.MAX_VALUE,c),l[Os]<this.min(l[Zc],l[Mc],l[xu],l[$l],l[vc]))return Os;if(l[Zc]<l[Os]||l[Zc]+1<this.min(l[Mc],l[xu],l[$l],l[vc]))return Zc;if(l[vc]+1<this.min(l[Zc],l[Mc],l[xu],l[$l],l[Os]))return vc;if(l[xu]+1<this.min(l[Zc],l[Mc],l[vc],l[$l],l[Os]))return xu;if(l[$l]+1<this.min(l[Zc],l[Mc],l[vc],l[xu],l[Os]))return $l;if(l[Mc]+1<this.min(l[Os],l[Zc],l[vc],l[xu])){if(l[Mc]<l[$l])return Mc;if(l[Mc]===l[$l]){for(var d=n+s+1;d<e.length;){var A=e.charCodeAt(d);if(this.isX12TermSep(A))return $l;if(!this.isNativeX12(A))break;d++}return Mc}}}}},r.min=function(e,n,a,i,s){var c=Math.min(e,Math.min(n,Math.min(a,i)));return s===void 0?c:Math.min(c,s)},r.findMinimums=function(e,n,a,i){for(var s=0;s<6;s++){var c=n[s]=Math.ceil(e[s]);a>c&&(a=c,ql.fill(i,0)),a===c&&(i[s]=i[s]+1)}return a},r.getMinimumCount=function(e){for(var n=0,a=0;a<6;a++)n+=e[a];return n||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var a=e.length,i=n;i<a&&this.isDigit(e.charCodeAt(i));)i++;return i-n},r.illegalCharacter=function(e){var n=Ei.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},r})(),rC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W_=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Qd.encode(e,this.charset)!=null}catch{return!1}},r})(),_oe=(function(){function r(e,n,a){var i,s,c,l,u,o;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(q){return new W_(ooe.forName(q))}),this.encoders=[];var h=[];h.push(new W_(loe.ISO_8859_1));for(var d=n!=null&&n.name.startsWith("UTF"),A=0;A<e.length;A++){var f=!1;try{for(var g=(i=void 0,rC(h)),m=g.next();!m.done;m=g.next()){var x=m.value,y=e.charAt(A),b=y.charCodeAt(0);if(b===a||x.canEncode(y)){f=!0;break}}}catch(q){i={error:q}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!f)try{for(var w=(c=void 0,rC(this.ENCODERS)),N=w.next();!N.done;N=w.next()){var x=N.value;if(x.canEncode(e.charAt(A))){h.push(x),f=!0;break}}}catch(q){c={error:q}}finally{try{N&&!N.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}f||(d=!0)}if(h.length===1&&!d)this.encoders=[h[0]];else{this.encoders=[];var S=0;try{for(var C=rC(h),k=C.next();!k.done;k=C.next()){var x=k.value;this.encoders[S++]=x}}catch(q){u={error:q}}finally{try{k&&!k.done&&(o=C.return)&&o.call(C)}finally{if(u)throw u.error}}}var W=-1;if(n!=null){for(var A=0;A<this.encoders.length;A++)if(this.encoders[A]!=null&&n.name===this.encoders[A].name){W=A;break}}this.priorityEncoderIndex=W}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return Qd.encode(Yi.getCharAt(e),this.encoders[n].name)},r})(),Ooe=3,koe=(function(){function r(e,n,a){this.fnc1=a;var i=new _oe(e,n,a);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var c=e.charAt(s).charCodeAt(0);this.bytes[s]=c===a?1e3:c}else this.bytes=this.encodeMinimally(e,i,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(e+a))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var a=new Ci,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");a.append(this.charAt(i))}return a.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,n,a){(e[n][a.encoderIndex]==null||e[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(e[n][a.encoderIndex]=a)},r.prototype.addEdges=function(e,n,a,i,s,c){var l=e.charAt(i).charCodeAt(0),u=0,o=n.length();n.getPriorityEncoderIndex()>=0&&(l===c||n.canEncode(l,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),o=u+1);for(var h=u;h<o;h++)(l===c||n.canEncode(l,h))&&this.addEdge(a,i+1,new $_(l,n,h,s,c))},r.prototype.encodeMinimally=function(e,n,a){var i=e.length,s=new $_[i+1][n.length()];this.addEdges(e,n,s,0,null,a);for(var c=1;c<=i;c++){for(var l=0;l<n.length();l++)s[c][l]!=null&&c<i&&this.addEdges(e,n,s,c,s[c][l],a);for(var l=0;l<n.length();l++)s[c-1][l]=null}for(var u=-1,o=Ei.MAX_VALUE,l=0;l<n.length();l++)if(s[i][l]!=null){var h=s[i][l];h.cachedTotalSize<o&&(o=h.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var d=[],A=s[i][u];A!=null;){if(A.isFNC1())d.unshift(1e3);else for(var f=n.encode(A.c,A.encoderIndex),c=f.length-1;c>=0;c--)d.unshift(f[c]&255);var g=A.previous===null?0:A.previous.encoderIndex;g!==A.encoderIndex&&d.unshift(256+n.getECIValue(A.encoderIndex)),A=A.previous}for(var m=[],c=0;c<m.length;c++)m[c]=d[c];return m},r})(),$_=(function(){function r(e,n,a,i,s){this.c=e,this.encoderSet=n,this.encoderIndex=a,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var c=this.isFNC1()?1:n.encode(e,a).length,l=i===null?0:i.encoderIndex;l!==a&&(c+=Ooe),i!=null&&(c+=i.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),Poe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var V_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(V_||(V_={}));(function(r){Poe(e,r);function e(n,a,i,s,c){var l=r.call(this,n,a,i)||this;return l.shape=s,l.macroId=c,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(koe);var Foe=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),z_=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,n){return e.sort(n)[0]},r})(),Doe=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),Moe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),uS=(function(r){Moe(e,r);function e(n,a,i){var s=r.call(this,n)||this;return s.value=a,s.bitCount=i,s}return e.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,a){return new e(this,n,a)},e.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,a)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Ei.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(Doe),Roe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s])},r(e,n)};return function(e,n){r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Loe=(function(r){Roe(e,r);function e(n,a,i){var s=r.call(this,n,0,0)||this;return s.binaryShiftStart=a,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(n,a){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,a){return new e(this,n,a)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(uS);function Uoe(r,e,n){return new Loe(r,e,n)}function T0(r,e,n){return new uS(r,e,n)}var Hoe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cf=0,xx=1,Hd=2,sD=3,Th=4,Qoe=new uS(null,0,0),nC=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Woe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function $oe(r){var e,n;try{for(var a=Woe(r),i=a.next();!i.done;i=a.next()){var s=i.value;ql.fill(s,-1)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r[cf][Th]=0,r[xx][Th]=0,r[xx][cf]=28,r[sD][Th]=0,r[Hd][Th]=0,r[Hd][cf]=15,r}var oD=$oe(ql.createInt32Array(6,6)),Voe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zoe=(function(){function r(e,n,a,i){this.token=e,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,n){var a=this.bitCount,i=this.token;if(e!==this.mode){var s=nC[this.mode][e];i=T0(i,s&65535,s>>16),a+=s>>16}var c=e===Hd?4:5;return i=T0(i,n,c),new r(i,e,0,a+c)},r.prototype.shiftAndAppend=function(e,n){var a=this.token,i=this.mode===Hd?4:5;return a=T0(a,oD[this.mode][e],i),a=T0(a,n,5),new r(a,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var n=this.token,a=this.mode,i=this.bitCount;if(this.mode===Th||this.mode===Hd){var s=nC[a][cf];n=T0(n,s&65535,s>>16),i+=s>>16,a=cf}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new r(n,a,this.binaryShiftByteCount+1,i+c);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=Uoe(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(nC[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},r.prototype.toBitArray=function(e){for(var n,a,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var c=new bc;try{for(var l=Voe(i),u=l.next();!u.done;u=l.next()){var o=u.value;o.appendTo(c,e)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return Yi.format("%s bits=%d bytes=%d",Hoe[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Qoe,cf,0,0),r})();function Koe(r){var e=Yi.getCharCode(" "),n=Yi.getCharCode("."),a=Yi.getCharCode(",");r[cf][e]=1;for(var i=Yi.getCharCode("Z"),s=Yi.getCharCode("A"),c=s;c<=i;c++)r[cf][c]=c-s+2;r[xx][e]=1;for(var l=Yi.getCharCode("z"),u=Yi.getCharCode("a"),c=u;c<=l;c++)r[xx][c]=c-u+2;r[Hd][e]=1;for(var o=Yi.getCharCode("9"),h=Yi.getCharCode("0"),c=h;c<=o;c++)r[Hd][c]=c-h+2;r[Hd][a]=12,r[Hd][n]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],A=0;A<d.length;A++)r[sD][Yi.getCharCode(d[A])]=A;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],A=0;A<f.length;A++)Yi.getCharCode(f[A])>0&&(r[Th][Yi.getCharCode(f[A])]=A);return r}var aC=Koe(ql.createInt32Array(5,256)),av=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Goe=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Yi.getCharCode(" "),n=Yi.getCharCode(`
`),a=z_.singletonList(zoe.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,c=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Yi.getCharCode("\r"):s=c===n?2:0;break;case Yi.getCharCode("."):s=c===e?3:0;break;case Yi.getCharCode(","):s=c===e?4:0;break;case Yi.getCharCode(":"):s=c===e?5:0;break;default:s=0}s>0?(a=r.updateStateListForPair(a,i,s),i++):a=this.updateStateListForChar(a,i)}var l=z_.min(a,function(u,o){return u.getBitCount()-o.getBitCount()});return l.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,n){var a,i,s=[];try{for(var c=av(e),l=c.next();!l.done;l=c.next()){var u=l.value;this.updateStateForChar(u,n,s)}}catch(o){a={error:o}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(s)},r.prototype.updateStateForChar=function(e,n,a){for(var i=this.text[n]&255,s=aC[e.getMode()][i]>0,c=null,l=0;l<=Th;l++){var u=aC[l][i];if(u>0){if(c==null&&(c=e.endBinaryShift(n)),!s||l===e.getMode()||l===Hd){var o=c.latchAndAppend(l,u);a.push(o)}if(!s&&oD[e.getMode()][l]>=0){var h=c.shiftAndAppend(l,u);a.push(h)}}}if(e.getBinaryShiftByteCount()>0||aC[e.getMode()][i]===0){var d=e.addBinaryShiftChar(n);a.push(d)}},r.updateStateListForPair=function(e,n,a){var i,s,c=[];try{for(var l=av(e),u=l.next();!u.done;u=l.next()){var o=u.value;this.updateStateForPair(o,n,a,c)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(c)},r.updateStateForPair=function(e,n,a,i){var s=e.endBinaryShift(n);if(i.push(s.latchAndAppend(Th,a)),e.getMode()!==Th&&i.push(s.shiftAndAppend(Th,a)),a===3||a===4){var c=s.latchAndAppend(Hd,16-a).latchAndAppend(Hd,1);i.push(c)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},r.simplifyStates=function(e){var n,a,i,s,c=[];try{for(var l=av(e),u=l.next();!u.done;u=l.next()){var o=u.value,h=!0,d=function(x){if(x.isBetterThanOrEqualTo(o))return h=!1,"break";o.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var A=(i=void 0,av(c)),f=A.next();!f.done;f=A.next()){var g=f.value,m=d(g);if(m==="break")break}}catch(x){i={error:x}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}h&&c.push(o)}}catch(x){n={error:x}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},r})(),qoe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,n,a){var i=new Goe(e).encode(),s=Ei.truncDivision(i.getSize()*n,100)+11,c=i.getSize()+s,l,u,o,h,d;if(a!==r.DEFAULT_AZTEC_LAYERS){if(l=a<0,u=Math.abs(a),u>(l?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ea(Yi.format("Illegal value %s for layers",a));o=r.totalBitsInLayer(u,l),h=r.WORD_SIZE[u];var A=o-o%h;if(d=r.stuffBits(i,h),d.getSize()+s>A)throw new Ea("Data to large for user specified layer");if(l&&d.getSize()>h*64)throw new Ea("Data to large for user specified layer")}else{h=0,d=null;for(var f=0;;f++){if(f>r.MAX_NB_BITS)throw new Ea("Data too large for an Aztec code");if(l=f<=3,u=l?f+1:f,o=r.totalBitsInLayer(u,l),!(c>o)){(d==null||h!==r.WORD_SIZE[u])&&(h=r.WORD_SIZE[u],d=r.stuffBits(i,h));var A=o-o%h;if(!(l&&d.getSize()>h*64)&&d.getSize()+s<=A)break}}}var g=r.generateCheckWords(d,o,h),m=d.getSize()/h,x=r.generateModeMessage(l,u,m),y=(l?11:14)+u*4,b=new Int32Array(y),w;if(l){w=y;for(var f=0;f<b.length;f++)b[f]=f}else{w=y+1+2*Ei.truncDivision(Ei.truncDivision(y,2)-1,15);for(var N=Ei.truncDivision(y,2),S=Ei.truncDivision(w,2),f=0;f<N;f++){var C=f+Ei.truncDivision(f,15);b[N-f-1]=S-C-1,b[N+f]=S+C+1}}for(var k=new Fh(w),f=0,W=0;f<u;f++){for(var q=(u-f)*4+(l?9:12),te=0;te<q;te++)for(var K=te*2,X=0;X<2;X++)g.get(W+K+X)&&k.set(b[f*2+X],b[f*2+te]),g.get(W+q*2+K+X)&&k.set(b[f*2+te],b[y-1-f*2-X]),g.get(W+q*4+K+X)&&k.set(b[y-1-f*2-X],b[y-1-f*2-te]),g.get(W+q*6+K+X)&&k.set(b[y-1-f*2-te],b[f*2+X]);W+=q*8}if(r.drawModeMessage(k,l,w,x),l)r.drawBullsEye(k,Ei.truncDivision(w,2),5);else{r.drawBullsEye(k,Ei.truncDivision(w,2),7);for(var f=0,te=0;f<Ei.truncDivision(y,2)-1;f+=15,te+=16)for(var X=Ei.truncDivision(w,2)&1;X<w;X+=2)k.set(Ei.truncDivision(w,2)-te,X),k.set(Ei.truncDivision(w,2)+te,X),k.set(X,Ei.truncDivision(w,2)-te),k.set(X,Ei.truncDivision(w,2)+te)}var O=new Foe;return O.setCompact(l),O.setSize(w),O.setLayers(u),O.setCodeWords(m),O.setMatrix(k),O},r.drawBullsEye=function(e,n,a){for(var i=0;i<a;i+=2)for(var s=n-i;s<=n+i;s++)e.set(s,n-i),e.set(s,n+i),e.set(n-i,s),e.set(n+i,s);e.set(n-a,n-a),e.set(n-a+1,n-a),e.set(n-a,n-a+1),e.set(n+a,n-a),e.set(n+a,n-a+1),e.set(n+a,n+a-1)},r.generateModeMessage=function(e,n,a){var i=new bc;return e?(i.appendBits(n-1,2),i.appendBits(a-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(a-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,n,a,i){var s=Ei.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var l=s-3+c;i.get(c)&&e.set(l,s-5),i.get(c+7)&&e.set(s+5,l),i.get(20-c)&&e.set(l,s+5),i.get(27-c)&&e.set(s-5,l)}else for(var c=0;c<10;c++){var l=s-5+c+Ei.truncDivision(c,5);i.get(c)&&e.set(l,s-7),i.get(c+10)&&e.set(s+7,l),i.get(29-c)&&e.set(l,s+7),i.get(39-c)&&e.set(s-7,l)}},r.generateCheckWords=function(e,n,a){var i,s,c=e.getSize()/a,l=new aD(r.getGF(a)),u=Ei.truncDivision(n,a),o=r.bitsToWords(e,a,u);l.encode(o,u-c);var h=n%a,d=new bc;d.appendBits(0,h);try{for(var A=qoe(Array.from(o)),f=A.next();!f.done;f=A.next()){var g=f.value;d.appendBits(g,a)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}return d},r.bitsToWords=function(e,n,a){var i=new Int32Array(a),s,c;for(s=0,c=e.getSize()/n;s<c;s++){for(var l=0,u=0;u<n;u++)l|=e.get(s*n+u)?1<<n-u-1:0;i[s]=l}return i},r.getGF=function(e){switch(e){case 4:return Mu.AZTEC_PARAM;case 6:return Mu.AZTEC_DATA_6;case 8:return Mu.AZTEC_DATA_8;case 10:return Mu.AZTEC_DATA_10;case 12:return Mu.AZTEC_DATA_12;default:throw new Ea("Unsupported word size "+e)}},r.stuffBits=function(e,n){for(var a=new bc,i=e.getSize(),s=(1<<n)-2,c=0;c<i;c+=n){for(var l=0,u=0;u<n;u++)(c+u>=i||e.get(c+u))&&(l|=1<<n-1-u);(l&s)===s?(a.appendBits(l&s,n),c--):(l&s)===0?(a.appendBits(l|1,n),c--):a.appendBits(l,n)}return a},r.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var Xoe=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Yoe=(function(r){Xoe(e,r);function e(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(n),a}return e.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var i=a.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,a,i){for(var s=new Uint8ClampedArray(a*i),c=0,l=0,u=n.length;c<u;c+=4,l++){var o=void 0,h=n[c+3];if(h===0)o=255;else{var d=n[c],A=n[c+1],f=n[c+2];o=306*d+601*A+117*f+512>>10}s[l]=o}return s},e.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var i=this.getWidth(),s=n*i;return a===null?a=this.buffer.slice(s,s+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(s,s+i))),a},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,a,i,s){return r.prototype.crop.call(this,n,a,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new u2(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*c),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*c);a.width=l,a.height=u;var o=a.getContext("2d");if(!o)throw new Error("Could not create a Canvas Context element.");return o.translate(l/2,u/2),o.rotate(i),o.drawImage(this.canvas,s/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(a),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Yg);function lD(){return typeof navigator<"u"}function Zoe(){return lD()&&!!navigator.mediaDevices}function Joe(){return!!(Zoe()&&navigator.mediaDevices.enumerateDevices)}var Yp=function(){return Yp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Yp.apply(this,arguments)},$o=function(r,e,n,a){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function l(h){try{o(a.next(h))}catch(d){c(d)}}function u(h){try{o(a.throw(h))}catch(d){c(d)}}function o(h){h.done?s(h.value):i(h.value).then(l,u)}o((a=a.apply(r,e||[])).next())})},Vo=function(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(o){return function(h){return u([o,h])}}function u(o){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=o[0]&2?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(r,n)}catch(h){o=[6,h],i=0}finally{a=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},iC=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ele={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Um=(function(){function r(e,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=e,this.hints=n,this.options=Yp(Yp({},ele),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(oo.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,n){return $o(this,void 0,void 0,function(){return Vo(this,function(a){switch(a.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var n,a,i=e.getVideoTracks();try{for(var s=iC(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(r.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,n){var a=document.getElementById(e);if(!a)throw new Al("element with id '".concat(e,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new Al("element with id '".concat(e,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var n=r.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var n=new Yoe(e),a=new zF(n);return new VF(a)},r.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new Al("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(e),i=a.width,s=a.height;return n.style.width=i+"px",n.style.height=s+"px",n.width=i,n.height=s,n},r.tryPlayVideo=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var n=r.createCaptureCanvas(e),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,e),n},r.createBinaryBitmapFromMediaElem=function(e){var n=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return $o(this,void 0,void 0,function(){var e,n,a,i,s,c,l,u,o,h,d,A;return Vo(this,function(f){switch(f.label){case 0:if(!lD())throw new Error("Can't enumerate devices, navigator is not present.");if(!Joe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),n=[];try{for(a=iC(e),i=a.next();!i.done;i=a.next())s=i.value,c=s.kind==="video"?"videoinput":s.kind,c==="videoinput"&&(l=s.deviceId||s.id,u=s.label||"Video device ".concat(n.length+1),o=s.groupId,h={deviceId:l,label:u,kind:c,groupId:o},n.push(h))}catch(g){d={error:g}}finally{try{i&&!i.done&&(A=a.return)&&A.call(a)}finally{if(d)throw d.error}}return[2,n]}})})},r.findDeviceById=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,n){return $o(this,void 0,void 0,function(){var a;return Vo(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return a=i.sent(),a?[2,!0]:[2,new Promise(function(s,c){var l=setTimeout(function(){r.isVideoPlaying(e)||(c(!1),e.removeEventListener("canplay",u))},n),u=function(){r.tryPlayVideo(e).then(function(o){clearTimeout(l),e.removeEventListener("canplay",u),s(o)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,n,a){return a===void 0&&(a=5e3),$o(this,void 0,void 0,function(){var i;return Vo(this,function(s){switch(s.label){case 0:return i=r.prepareVideoElement(n),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,a)];case 1:return s.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(n,a){var i=1e4,s=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",c),a())},i),c=function(){clearTimeout(s),e.removeEventListener("load",c),n()};e.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new Al("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},r.prototype.decode=function(e){var n=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var n=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:if(!e)throw new Al("An image element must be provided.");return n=r.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:if(!e)throw new Al("An URL must be provided.");n=r.prepareImageElement(),n.src=e,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,n,a){return $o(this,void 0,void 0,function(){var i,s;return Vo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(e)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,a)];case 3:return[2,c.sent()];case 4:throw s=c.sent(),r.disposeMediaStream(i),s;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,n,a){return $o(this,void 0,void 0,function(){var i,s,c,l,u,o,h,d,A,f=this;return Vo(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,n,i)];case 1:return s=g.sent(),c=function(){r.disposeMediaStream(e),r.cleanVideoSource(s)},l=this.scan(s,a,c),u=e.getVideoTracks(),o=Yp(Yp({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(m,x){return $o(this,void 0,void 0,function(){var y,b,w,N,S,C,k;return Vo(this,function(W){switch(W.label){case 0:y=x?u.filter(x):u,W.label=1;case 1:W.trys.push([1,6,7,8]),b=iC(y),w=b.next(),W.label=2;case 2:return w.done?[3,5]:(N=w.value,[4,N.applyConstraints(m)]);case 3:W.sent(),W.label=4;case 4:return w=b.next(),[3,2];case 5:return[3,8];case 6:return S=W.sent(),C={error:S},[3,8];case 7:try{w&&!w.done&&(k=b.return)&&k.call(b)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return u.find(m).getConstraints()},streamVideoSettingsGet:function(m){return u.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return u.find(m).getCapabilities()}}),h=r.mediaStreamIsTorchCompatible(e),h&&(d=u==null?void 0:u.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),A=function(m){return $o(f,void 0,void 0,function(){return Vo(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(d,m)];case 1:return x.sent(),[2]}})})},o.switchTorch=A,o.stop=function(){return $o(f,void 0,void 0,function(){return Vo(this,function(m){switch(m.label){case 0:return l.stop(),[4,A(!1)];case 1:return m.sent(),[2]}})})}),[2,o]}})})},r.prototype.decodeFromVideoDevice=function(e,n,a){return $o(this,void 0,void 0,function(){var i,s;return Vo(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,n){return $o(this,void 0,void 0,function(){var a,i;return Vo(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new Al("A video element must be provided.");return a=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return s.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(e,n){return $o(this,void 0,void 0,function(){var a,i,s,c;return Vo(this,function(l){switch(l.label){case 0:if(r.checkCallbackFnOrThrow(n),!e)throw new Al("An URL must be provided.");return a=r.prepareVideoElement(),a.src=e,i=function(){r.cleanVideoSource(a)},s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return l.sent(),c=this.scan(a,n,i),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(e,n){return $o(this,void 0,void 0,function(){var a;return Vo(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,n){return $o(this,void 0,void 0,function(){var a,i,s;return Vo(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(e,n)];case 1:i=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=c.sent(),[2,s];case 4:return a||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,n){return $o(this,void 0,void 0,function(){var a,i;return Vo(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return $o(this,void 0,void 0,function(){var n,a;return Vo(this,function(i){switch(i.label){case 0:if(!e)throw new Al("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return $o(this,void 0,void 0,function(){var n,a;return Vo(this,function(i){switch(i.label){case 0:if(!e)throw new Al("An URL must be provided.");n=r.prepareVideoElement(),n.src=e,a=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,a];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,n,a,i){var s=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),i===void 0&&(i=!0),new Promise(function(c,l){s.scan(e,function(u,o,h){if(u){c(u),h.stop();return}if(o){if(o instanceof Er&&n||o instanceof Nl&&a||o instanceof mn&&i)return;h.stop(),l(o)}})})},r.prototype.scan=function(e,n,a){var i=this;r.checkCallbackFnOrThrow(n);var s=r.createCaptureCanvas(e),c;try{c=s.getContext("2d",{willReadFrequently:!0})}catch{c=s.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){c=void 0,s=void 0},u=!1,o,h=function(){u=!0,clearTimeout(o),l(),a&&a()},d={stop:h},A=function(){if(!u)try{r.drawImageOnCanvas(c,e);var f=i.decodeFromCanvas(s);n(f,void 0,d),o=setTimeout(A,i.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,d);var g=y instanceof Nl,m=y instanceof mn,x=y instanceof Er;if(g||m||x){o=setTimeout(A,i.options.delayBetweenScanAttempts);return}l(),a&&a(y)}};return A(),d},r.prototype._decodeOnLoadImage=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(e),n?[3,2]:[4,r._waitImageLoad(e)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return $o(this,void 0,void 0,function(){var n;return Vo(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),tle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){tle(e,r);function e(n,a){return r.call(this,new fx,n,a)||this}return e})(Um);var rle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){rle(e,r);function e(n,a){return r.call(this,new qp(n),n,a)||this}return e})(Um);var nle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){nle(e,r);function e(n,a){return r.call(this,new mx,n,a)||this}return e})(Um);var ale=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ile=(function(r){ale(e,r);function e(n,a){var i=this,s=new nD;return s.setHints(n),i=r.call(this,s,n,a)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(oo.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(Um),sle=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){sle(e,r);function e(n,a){return r.call(this,new vx,n,a)||this}return e})(Um);var ole=(function(){var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ole(e,r);function e(n,a){return r.call(this,new gx,n,a)||this}return e})(Um);const lle=()=>{const r=Ja(),[e,n]=P.useState(""),[a,i]=P.useState(null),[s,c]=P.useState(!1),[l,u]=P.useState(null),o=P.useRef(null),h=P.useRef(null),d=P.useRef(null),[A,f]=P.useState(!1);P.useEffect(()=>{o.current&&o.current.focus()},[]);const g=P.useCallback(()=>{var w;try{(w=d.current)==null||w.reset()}catch{}finally{d.current=null,f(!1)}},[]);P.useEffect(()=>()=>{g()},[g]);const m=async w=>{if(!w||w.length<5){u("Please enter a valid barcode (at least 5 characters)");return}c(!0),u(null),i(null);try{const N=await dA.lookupBarcode(w);i(N),n("")}catch(N){const S=(N==null?void 0:N.message)||"Barcode not found";u(S),i(null)}finally{c(!1)}},x=P.useCallback(async()=>{if(u(null),i(null),!h.current){u("Camera preview not available");return}g();const w=new ile;d.current=w,f(!0);try{await w.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},h.current,(N,S)=>{var C;if(N){const k=(C=N.getText())==null?void 0:C.trim();k&&(g(),m(k))}})}catch(N){g();const S=(N==null?void 0:N.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(N==null?void 0:N.name)==="NotFoundError"?"No camera found on this device.":(N==null?void 0:N.message)||"Failed to start camera scanner";u(S)}},[g]),y=w=>{w.preventDefault(),e.trim()&&m(e.trim())},b=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return t.jsx(Rh,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-scan",children:[t.jsxs("div",{className:"mobile-scan-camera-section",children:[t.jsx("div",{className:"mobile-scan-camera-actions",children:A?t.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):t.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:s,children:"Start Camera Scan"})}),A&&t.jsxs("div",{className:"mobile-scan-camera-preview",children:[t.jsx("video",{ref:h,className:"mobile-scan-video",muted:!0,playsInline:!0}),t.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),t.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),t.jsxs("div",{className:"mobile-scan-input-section",children:[t.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:t.jsxs("div",{className:"mobile-scan-input-wrapper",children:[t.jsx("input",{ref:o,type:"text",value:e,onChange:w=>n(w.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),t.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:s||!e.trim(),children:s?"...":""})]})}),l&&t.jsxs("div",{className:"mobile-scan-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:l})]})]}),a&&t.jsxs("div",{className:"mobile-scan-result",children:[t.jsxs("div",{className:"mobile-scan-result-header",children:[t.jsx("h3",{children:"Barcode Found"}),t.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),t.jsxs("div",{className:"mobile-scan-result-details",children:[t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),t.jsxs("div",{className:"mobile-scan-result-item",children:[t.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),t.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),t.jsx("button",{className:"mobile-scan-proceed-btn",onClick:b,children:"Proceed to Waste Entry"})]}),!a&&!l&&t.jsxs("div",{className:"mobile-scan-instructions",children:[t.jsx("h4",{children:"How to scan:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Enter the barcode manually in the input field above"}),t.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),t.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},cle=()=>{const r=Ja(),e=_n(),[n,a]=P.useState(""),[i,s]=P.useState(""),[c,l]=P.useState(""),[u,o]=P.useState(!1),[h,d]=P.useState(null),[A,f]=P.useState(!1);P.useEffect(()=>{if(e.state){const{barcode:m}=e.state;m&&a(m)}},[e.state]);const g=async m=>{if(m.preventDefault(),d(null),f(!1),!n||n.length<5){d("Please enter a valid barcode");return}if(!i||parseFloat(i)<=0){d("Please enter a valid weight");return}o(!0);try{await dA.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(i),notes:c.trim()||void 0}),f(!0),a(""),s(""),l(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){d((x==null?void 0:x.message)||"Failed to save waste entry")}finally{o(!1)}};return t.jsx(Rh,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-waste-entry",children:[A&&t.jsxs("div",{className:"mobile-waste-entry-success",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})}),t.jsx("span",{children:"Waste entry saved successfully!"})]}),h&&t.jsxs("div",{className:"mobile-waste-entry-error",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:h})]}),t.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),t.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),t.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:i,onChange:m=>s(m.target.value),placeholder:"0.00",required:!0,disabled:u})]}),t.jsxs("div",{className:"mobile-waste-entry-field",children:[t.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),t.jsx("textarea",{id:"notes",value:c,onChange:m=>l(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:u})]}),t.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:u||A,children:u?"Saving...":A?"Saved!":"Save Entry"})]})]})})},ule=()=>{const r=Ja();return t.jsx(Rh,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-assign-hospital",children:t.jsxs("div",{className:"mobile-assign-hospital-info",children:[t.jsx("p",{children:"Route assignment functionality will be available here."}),t.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},cD=({label:r="Company",placeholder:e="Select Company",value:n,options:a,onChange:i})=>{const[s,c]=P.useState(!1),[l,u]=P.useState(""),o=P.useMemo(()=>a.find(d=>d.id===n),[a,n]),h=P.useMemo(()=>{const d=l.trim().toLowerCase();return d?a.filter(A=>A.name.toLowerCase().includes(d)):a},[a,l]);return t.jsxs("div",{className:"company-picker",children:[r&&t.jsx("div",{className:"company-picker-label",children:r}),t.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[t.jsx("span",{className:"company-picker-button-text",children:o?o.name:e}),t.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),s&&t.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"company-picker-sheet",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"company-picker-sheet-header",children:[t.jsx("div",{className:"company-picker-sheet-title",children:e}),t.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),t.jsx("div",{className:"company-picker-search",children:t.jsx("input",{value:l,onChange:d=>u(d.target.value),placeholder:"Search company..."})}),t.jsx("div",{className:"company-picker-list",children:h.length===0?t.jsx("div",{className:"company-picker-empty",children:"No companies found."}):h.map(d=>t.jsx("button",{type:"button",className:`company-picker-item ${d.id===n?"active":""}`,onClick:()=>{i(d.id),c(!1)},children:d.name},d.id))})]})})]})},dle=()=>{const r=Ja(),[e,n]=P.useState([]),[a,i]=P.useState(""),[s,c]=P.useState([]),[l,u]=P.useState(!1),[o,h]=P.useState(null),[d,A]=P.useState("");P.useEffect(()=>{(async()=>{try{const m=await $a.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),P.useEffect(()=>{(async()=>{if(!a){c([]);return}u(!0),h(null);try{const m=await ks.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){h((m==null?void 0:m.message)||"Failed to load HCF list")}finally{u(!1)}})()},[a]);const f=P.useMemo(()=>{const g=d.trim().toLowerCase();return g?s.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):s},[s,d]);return t.jsx(Rh,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsxs("div",{className:"mobile-hcf-master",children:[t.jsxs("div",{className:"mobile-hcf-toolbar",children:[t.jsx(cD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-hcf-search",value:d,onChange:g=>A(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-hcf-empty",children:o}),t.jsx("div",{className:"mobile-hcf-table",children:l?t.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.district||g.areaId||"-"}),t.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},uD="mw-mobile-settings",hle=()=>{try{const r=localStorage.getItem(uD);if(!r)return{darkMode:!1,notifications:!0};const e=JSON.parse(r);return{darkMode:!!e.darkMode,notifications:e.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},Ale=r=>{try{localStorage.setItem(uD,JSON.stringify(r))}catch{}},fle=()=>{const r=Ja(),{user:e,logout:n}=pa(),[a,i]=P.useState(()=>hle()),s=P.useMemo(()=>e?e.name||e.email||"User":"Guest",[e]);P.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),Ale(a)},[a]);const c=u=>{i(o=>({...o,[u]:!o[u]}))},l=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return t.jsx(Rh,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-settings",children:[t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Account"}),t.jsx("div",{className:"mobile-settings-row",children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),t.jsx("div",{className:"mobile-settings-value",children:s})]})})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),t.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),t.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),t.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),t.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),t.jsxs("div",{className:"mobile-settings-card",children:[t.jsx("div",{className:"mobile-settings-title",children:"Security"}),t.jsx("button",{className:"mobile-settings-row danger",onClick:l,children:t.jsxs("div",{className:"mobile-settings-row-main",children:[t.jsx("div",{className:"mobile-settings-label",children:"Logout"}),t.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),t.jsx("div",{className:"mobile-settings-footer",children:t.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},sC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),ple=()=>{const r=Ja(),{user:e,logout:n}=pa(),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(null),[o,h]=P.useState(null),[d,A]=P.useState(!1),[f,g]=P.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=P.useMemo(()=>e?(e.roles||[]).join(", "):"",[e]);P.useEffect(()=>{(async()=>{if(e!=null&&e.id){i(!0),c(null);try{if(sC(e.id)){const C=await zl.getUserById(e.id);h(C),g({emailAddress:C.emailAddress||"",emergencyContact:C.emergencyContact||"",addressLine:C.addressLine||"",city:C.city||"",district:C.district||"",pincode:C.pincode||""})}else c("Showing basic profile from session.")}catch(C){c((C==null?void 0:C.message)||"Failed to load profile.")}finally{i(!1)}}})()},[e==null?void 0:e.id]);const b=async()=>{if(!(e!=null&&e.id)||!sC(e.id)){c("Cannot update profile: user id missing.");return}i(!0),c(null),u(null);try{if(await zl.updateCompleteUser(e.id,{companyId:(o==null?void 0:o.companyId)||"",userName:(o==null?void 0:o.userName)||e.name||"",mobileNumber:(o==null?void 0:o.mobileNumber)||"-",userRoleId:(o==null?void 0:o.userRoleId)||void 0,emailAddress:f.emailAddress||void 0,emergencyContact:f.emergencyContact||void 0,addressLine:f.addressLine||void 0,city:f.city||void 0,district:f.district||void 0,pincode:f.pincode||void 0}),u("Profile updated successfully."),A(!1),sC(e.id)){const S=await zl.getUserById(e.id);h(S)}}catch(S){c((S==null?void 0:S.message)||"Failed to update profile.")}finally{i(!1)}},w=async()=>{if(c(null),u(null),!(e!=null&&e.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}i(!0);try{await Ax(e.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),u("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(S){c((S==null?void 0:S.message)||"Failed to change password.")}finally{i(!1)}},N=()=>{n(),r("/mobile/login",{replace:!0})};return t.jsx(Rh,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-profile",children:[(s||l)&&t.jsx("div",{className:`mobile-profile-banner ${l?"success":"info"}`,children:l||s}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Name"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.name)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Email"}),t.jsx("div",{className:"value",children:(e==null?void 0:e.email)||(o==null?void 0:o.emailAddress)||"-"})]}),t.jsxs("div",{className:"mobile-profile-row",children:[t.jsx("div",{className:"label",children:"Role"}),t.jsx("div",{className:"value",children:y||(o==null?void 0:o.userRoleId)||"-"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",t.jsx("button",{className:"mobile-profile-link",onClick:()=>{u(null),c(null),A(S=>!S)},disabled:a,type:"button",children:d?"Cancel":"Edit"})]}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Email",t.jsx("input",{value:d?f.emailAddress:(o==null?void 0:o.emailAddress)||(e==null?void 0:e.email)||"",onChange:S=>g(C=>({...C,emailAddress:S.target.value})),disabled:!d||a,placeholder:"Email address"})]}),t.jsxs("label",{children:["Emergency Contact",t.jsx("input",{value:f.emergencyContact,onChange:S=>g(C=>({...C,emergencyContact:S.target.value})),disabled:!d||a,placeholder:"Emergency contact"})]}),t.jsxs("label",{children:["Address",t.jsx("input",{value:f.addressLine,onChange:S=>g(C=>({...C,addressLine:S.target.value})),disabled:!d||a,placeholder:"Address line"})]}),t.jsxs("div",{className:"two-col",children:[t.jsxs("label",{children:["City",t.jsx("input",{value:f.city,onChange:S=>g(C=>({...C,city:S.target.value})),disabled:!d||a,placeholder:"City"})]}),t.jsxs("label",{children:["Pincode",t.jsx("input",{value:f.pincode,onChange:S=>g(C=>({...C,pincode:S.target.value})),disabled:!d||a,placeholder:"Pincode"})]})]}),t.jsxs("label",{children:["District",t.jsx("input",{value:f.district,onChange:S=>g(C=>({...C,district:S.target.value})),disabled:!d||a,placeholder:"District"})]}),d&&t.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),t.jsxs("div",{className:"mobile-profile-card",children:[t.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),t.jsxs("div",{className:"mobile-profile-form",children:[t.jsxs("label",{children:["Current Password",t.jsx("input",{type:"password",value:m.currentPassword,onChange:S=>x(C=>({...C,currentPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["New Password",t.jsx("input",{type:"password",value:m.newPassword,onChange:S=>x(C=>({...C,newPassword:S.target.value})),disabled:a})]}),t.jsxs("label",{children:["Confirm Password",t.jsx("input",{type:"password",value:m.confirmPassword,onChange:S=>x(C=>({...C,confirmPassword:S.target.value})),disabled:a})]}),t.jsx("button",{className:"mobile-profile-btn",onClick:w,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),t.jsx("button",{className:"mobile-profile-btn danger",onClick:N,type:"button",children:"Logout"})]})})},mle=r=>{if(!r)return"-";const e=new Date(r);return Number.isNaN(e.getTime())?r:e.toLocaleString()},gle=()=>{const r=Ja(),[e,n]=P.useState([]),[a,i]=P.useState(!1),[s,c]=P.useState(null),[l,u]=P.useState(""),o=P.useMemo(()=>{const d=l.trim().toLowerCase();return d?e.filter(A=>(A.barcode||"").toLowerCase().includes(d)||(A.status||"").toLowerCase().includes(d)||(A.wasteColor||"").toLowerCase().includes(d)):e},[e,l]),h=async()=>{i(!0),c(null);try{const d=await dA.getAllWasteCollections();n(Array.isArray(d)?d:[])}catch(d){c((d==null?void 0:d.message)||"Failed to load waste collections")}finally{i(!1)}};return P.useEffect(()=>{h()},[]),t.jsx(Rh,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-wc",children:[t.jsxs("div",{className:"mobile-wc-toolbar",children:[t.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:l,onChange:d=>u(d.target.value)}),t.jsx("button",{className:"mobile-wc-refresh",onClick:h,disabled:a,type:"button",children:a?"...":""})]}),s&&t.jsx("div",{className:"mobile-wc-banner error",children:s}),t.jsxs("div",{className:"mobile-wc-actions",children:[t.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),t.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),t.jsx("div",{className:"mobile-wc-list",children:a&&e.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):o.length===0?t.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):o.map(d=>t.jsxs("div",{className:"mobile-wc-item",children:[t.jsxs("div",{className:"mobile-wc-item-top",children:[t.jsx("div",{className:"mobile-wc-barcode",children:d.barcode}),t.jsx("div",{className:`mobile-wc-badge ${String(d.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:d.status})]}),t.jsxs("div",{className:"mobile-wc-meta",children:[t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Color"}),t.jsx("span",{className:"v",children:d.wasteColor})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Weight"}),t.jsx("span",{className:"v",children:d.weightKg??"-"})]}),t.jsxs("div",{className:"mobile-wc-meta-row",children:[t.jsx("span",{className:"k",children:"Created"}),t.jsx("span",{className:"v",children:mle(d.createdOn)})]})]})]},d.id))})]})})},vle=()=>{const r=Ja(),[e,n]=P.useState([]),[a,i]=P.useState(""),[s,c]=P.useState(""),[l,u]=P.useState(!1),[o,h]=P.useState(null),[d,A]=P.useState([]);P.useEffect(()=>{(async()=>{try{const m=await $a.getAllCompanies(!0);n(m),m.length===1&&i(m[0].id)}catch(m){h((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),P.useEffect(()=>{(async()=>{if(!a){A([]);return}u(!0),h(null);try{const[m,x]=await Promise.all([L0.getAllRouteHcfMappings(void 0,void 0,a,!0),ks.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(N=>{const S=y.get(N.hcfId)||new Set;S.add(N.routeId),y.set(N.hcfId,S)});const b=new Set(Array.from(y.keys())),w=(x||[]).filter(N=>b.has(N.id)).map(N=>{var S;return{hcfId:N.id,hcfCode:N.hcfCode,hcfName:N.hcfName,area:N.district||N.areaId||"-",pincode:N.pincode||"-",routesCount:((S=y.get(N.id))==null?void 0:S.size)||0}});A(w)}catch(m){h((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{u(!1)}})()},[a]);const f=P.useMemo(()=>{const g=s.trim().toLowerCase();return g?d.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):d},[d,s]);return t.jsx(Rh,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:t.jsxs("div",{className:"mobile-ahcf",children:[t.jsxs("div",{className:"mobile-ahcf-toolbar",children:[t.jsx(cD,{placeholder:"Select Company",value:a,options:e.map(g=>({id:g.id,name:g.companyName})),onChange:i}),t.jsx("input",{className:"mobile-ahcf-search",value:s,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),o&&t.jsx("div",{className:"mobile-ahcf-banner",children:o}),t.jsx("div",{className:"mobile-ahcf-table",children:l?t.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):f.length===0?t.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"HCF Code"}),t.jsx("th",{children:"HCF Name"}),t.jsx("th",{children:"Area"}),t.jsx("th",{children:"PinCode"}),t.jsx("th",{children:"Routes"})]})}),t.jsx("tbody",{children:f.map(g=>t.jsxs("tr",{children:[t.jsx("td",{children:g.hcfCode}),t.jsx("td",{children:g.hcfName}),t.jsx("td",{children:g.area}),t.jsx("td",{children:g.pincode}),t.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},xle=()=>{const r=Ja();return t.jsx(Rh,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:t.jsx("div",{className:"mobile-analytics",children:t.jsxs("div",{className:"mobile-analytics-card",children:[t.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),t.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),t.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),t.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})},yle=()=>{const{user:r}=sO();return t.jsx(MM,{user:r,children:t.jsxs(gM,{children:[t.jsx(xn,{path:"/",element:t.jsx(lC,{to:"/login",replace:!0})}),t.jsx(xn,{path:"/login",element:t.jsx(RM,{})}),t.jsx(xn,{path:"/verify-otp",element:t.jsx(LM,{})}),t.jsx(xn,{path:"/mobile/login",element:t.jsx(sae,{})}),t.jsx(xn,{path:"/mobile/home",element:t.jsx(jn,{children:t.jsx(fae,{})})}),t.jsx(xn,{path:"/mobile/scan",element:t.jsx(jn,{children:t.jsx(lle,{})})}),t.jsx(xn,{path:"/mobile/waste-entry",element:t.jsx(jn,{children:t.jsx(cle,{})})}),t.jsx(xn,{path:"/mobile/waste-collections",element:t.jsx(jn,{children:t.jsx(gle,{})})}),t.jsx(xn,{path:"/mobile/assign-hospital",element:t.jsx(jn,{children:t.jsx(ule,{})})}),t.jsx(xn,{path:"/mobile/assigned-hcfs",element:t.jsx(jn,{children:t.jsx(vle,{})})}),t.jsx(xn,{path:"/mobile/analytics",element:t.jsx(jn,{children:t.jsx(xle,{})})}),t.jsx(xn,{path:"/mobile/hcf-master",element:t.jsx(jn,{children:t.jsx(dle,{})})}),t.jsx(xn,{path:"/mobile/profile",element:t.jsx(jn,{children:t.jsx(ple,{})})}),t.jsx(xn,{path:"/mobile/settings",element:t.jsx(jn,{children:t.jsx(fle,{})})}),t.jsx(xn,{path:"/dashboard",element:t.jsx(jn,{children:t.jsx(LJ,{})})}),t.jsx(xn,{path:"/admin/dashboard-configuration",element:t.jsx(jn,{children:t.jsx($J,{})})}),t.jsx(xn,{path:"/admin/permission-configuration",element:t.jsx(jn,{children:t.jsx(qJ,{})})}),t.jsx(xn,{path:"/profile",element:t.jsx(jn,{children:t.jsx(dae,{})})}),t.jsx(xn,{path:"/transaction",element:t.jsx(jn,{children:t.jsx(XJ,{})})}),t.jsx(xn,{path:"/transaction/barcode-generation",element:t.jsx(jn,{children:t.jsx(Ane,{})})}),t.jsx(xn,{path:"/transaction/route-assignment",element:t.jsx(jn,{children:t.jsx(hte,{})})}),t.jsx(xn,{path:"/transaction/waste-collection",element:t.jsx(jn,{children:t.jsx(pte,{})})}),t.jsx(xn,{path:"/transaction/waste-transaction-data",element:t.jsx(jn,{children:t.jsx(yte,{})})}),t.jsx(xn,{path:"/transaction/vehicle-wise-waste-collection",element:t.jsx(jn,{children:t.jsx(jte,{})})}),t.jsx(xn,{path:"/transaction/waste-processing",element:t.jsx(jn,{children:t.jsx(Ste,{})})}),t.jsx(xn,{path:"/finance",element:t.jsx(jn,{children:t.jsx(YJ,{})})}),t.jsx(xn,{path:"/commercial-agreements",element:t.jsx(jn,{children:t.jsx(ZJ,{})})}),t.jsx(xn,{path:"/commercial-agreements/contract-master",element:t.jsx(jn,{children:t.jsx(Cne,{})})}),t.jsx(xn,{path:"/commercial-agreements/agreement",element:t.jsx(jn,{children:t.jsx(Pne,{})})}),t.jsx(xn,{path:"/commercial-agreements/agreement-clause",element:t.jsx(jn,{children:t.jsx(Rne,{})})}),t.jsx(xn,{path:"/compliance-training",element:t.jsx(jn,{children:t.jsx(JJ,{})})}),t.jsx(xn,{path:"/compliance-training/training-certificate-management",element:t.jsx(jn,{children:t.jsx(vne,{})})}),t.jsx(xn,{path:"/master",element:t.jsx(jn,{children:t.jsx(eee,{})})}),t.jsx(xn,{path:"/master/company",element:t.jsx(jn,{children:t.jsx(aee,{})})}),t.jsx(xn,{path:"/master/state",element:t.jsx(jn,{children:t.jsx(lee,{})})}),t.jsx(xn,{path:"/master/area",element:t.jsx(jn,{children:t.jsx(hee,{})})}),t.jsx(xn,{path:"/master/category",element:t.jsx(jn,{children:t.jsx(mee,{})})}),t.jsx(xn,{path:"/master/pcb-zone",element:t.jsx(jn,{children:t.jsx(yee,{})})}),t.jsx(xn,{path:"/master/route",element:t.jsx(jn,{children:t.jsx(See,{})})}),t.jsx(xn,{path:"/master/color-code",element:t.jsx(jn,{children:t.jsx(Tee,{})})}),t.jsx(xn,{path:"/master/user-management",element:t.jsx(jn,{children:t.jsx(Lee,{})})}),t.jsx(xn,{path:"/master/roles-permissions",element:t.jsx(jn,{children:t.jsx(Wee,{})})}),t.jsx(xn,{path:"/master/hcf-master",element:t.jsx(jn,{children:t.jsx(Kee,{})})}),t.jsx(xn,{path:"/master/hcf-amendments",element:t.jsx(jn,{children:t.jsx(Yee,{})})}),t.jsx(xn,{path:"/master/hcf-type",element:t.jsx(jn,{children:t.jsx(Jee,{})})}),t.jsx(xn,{path:"/master/fleet-management",element:t.jsx(jn,{children:t.jsx(nte,{})})}),t.jsx(xn,{path:"/master/route-hcf-mapping",element:t.jsx(jn,{children:t.jsx(ste,{})})}),t.jsx(xn,{path:"/master/frequency",element:t.jsx(jn,{children:t.jsx(lte,{})})}),t.jsx(xn,{path:"/finance/invoice-management",element:t.jsx(jn,{children:t.jsx(Lte,{})})}),t.jsx(xn,{path:"/finance/payment",element:t.jsx(jn,{children:t.jsx(Gte,{})})}),t.jsx(xn,{path:"/finance/payment-success",element:t.jsx(jn,{children:t.jsx(qte,{})})}),t.jsx(xn,{path:"/finance/receipt-management",element:t.jsx(jn,{children:t.jsx(Xte,{})})}),t.jsx(xn,{path:"/finance/financial-balance-summary",element:t.jsx(jn,{children:t.jsx(nre,{})})}),t.jsx(xn,{path:"/report",element:t.jsx(jn,{children:t.jsx(Qne,{})})}),t.jsx(xn,{path:"/report/invoice",element:t.jsx(jn,{children:t.jsx(Gj,{})})}),t.jsx(xn,{path:"/report/contract",element:t.jsx(jn,{children:t.jsx(Kne,{})})}),t.jsx(xn,{path:"/report/hcf",element:t.jsx(jn,{children:t.jsx(Gne,{})})}),t.jsx(xn,{path:"/report/training-certificate",element:t.jsx(jn,{children:t.jsx(qne,{})})}),t.jsx(xn,{path:"/report/payment",element:t.jsx(jn,{children:t.jsx(o_,{})})}),t.jsx(xn,{path:"/report/agreement",element:t.jsx(jn,{children:t.jsx(Xne,{})})}),t.jsx(xn,{path:"/report/barcode",element:t.jsx(jn,{children:t.jsx(l_,{})})}),t.jsx(xn,{path:"/report/barcode-usage",element:t.jsx(jn,{children:t.jsx(l_,{})})}),t.jsx(xn,{path:"/report/user",element:t.jsx(jn,{children:t.jsx(Zne,{})})}),t.jsx(xn,{path:"/report/fleet",element:t.jsx(jn,{children:t.jsx(Jne,{})})}),t.jsx(xn,{path:"/report/revenue",element:t.jsx(jn,{children:t.jsx(c_,{})})}),t.jsx(xn,{path:"/report/outstanding",element:t.jsx(jn,{children:t.jsx(u_,{})})}),t.jsx(xn,{path:"/report/contract-renewal",element:t.jsx(jn,{children:t.jsx(eae,{})})}),t.jsx(xn,{path:"/report/route",element:t.jsx(jn,{children:t.jsx(tae,{})})}),t.jsx(xn,{path:"/report/collection",element:t.jsx(jn,{children:t.jsx(rae,{})})}),t.jsx(xn,{path:"/report/company",element:t.jsx(jn,{children:t.jsx(nae,{})})}),t.jsx(xn,{path:"/report/compliance",element:t.jsx(jn,{children:t.jsx(aae,{})})}),t.jsx(xn,{path:"/report/fleet-master",element:t.jsx(jn,{children:t.jsx(iae,{})})}),t.jsx(xn,{path:"/report/billing-finance",element:t.jsx(jn,{children:t.jsx(Wne,{})})}),t.jsx(xn,{path:"/report/billing-finance/invoice-generation",element:t.jsx(jn,{children:t.jsx(Gj,{})})}),t.jsx(xn,{path:"/report/billing-finance/unbilled-services",element:t.jsx(jn,{children:t.jsx(Gj,{})})}),t.jsx(xn,{path:"/report/billing-finance/outstanding-payments",element:t.jsx(jn,{children:t.jsx(u_,{})})}),t.jsx(xn,{path:"/report/billing-finance/pending-payments",element:t.jsx(jn,{children:t.jsx(o_,{})})}),t.jsx(xn,{path:"/report/billing-finance/cost-revenue-analysis",element:t.jsx(jn,{children:t.jsx(c_,{})})}),t.jsx(xn,{path:"/report/operations-logistics",element:t.jsx(jn,{children:t.jsx($ne,{})})}),t.jsx(xn,{path:"/report/hcf-compliance",element:t.jsx(jn,{children:t.jsx(Vne,{})})}),t.jsx(xn,{path:"/users/new",element:t.jsx(IS,{children:t.jsx(jn,{roles:["admin"],children:t.jsx(Une,{})})})}),t.jsx(xn,{path:"/mobile/users/new",element:t.jsx(IS,{children:t.jsx(jn,{roles:["admin","manager"],children:t.jsx(uae,{})})})})]})})},ble=()=>t.jsx(FM,{children:t.jsx(yle,{})});class wle extends P.Component{constructor(){super(...arguments);Xi(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),t.jsx("p",{children:"Please check the browser console for details."}),t.jsxs("details",{style:{marginTop:"10px"},children:[t.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),t.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const dD=document.getElementById("root");if(!dD)throw new Error("Root element #root not found. Make sure index.html mounts it.");ND.createRoot(dD).render(t.jsx(bt.StrictMode,{children:t.jsx(wle,{children:t.jsx(NM,{children:t.jsx(ble,{})})})}));
