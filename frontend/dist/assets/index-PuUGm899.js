var HD=Object.defineProperty;var QD=(r,t,n)=>t in r?HD(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Ks=(r,t,n)=>QD(r,typeof t!="symbol"?t+"":t,n);function WD(r,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _2={exports:{}},Vm={},O2={exports:{}},Cs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function $D(){if(FS)return Cs;FS=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(J){return J===null||typeof J!="object"?null:(J=h&&J[h]||J["@@iterator"],typeof J=="function"?J:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(J,D,ce){this.props=J,this.context=D,this.refs=m,this.updater=ce||A}x.prototype.isReactComponent={},x.prototype.setState=function(J,D){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,D,"setState")},x.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function y(){}y.prototype=x.prototype;function b(J,D,ce){this.props=J,this.context=D,this.refs=m,this.updater=ce||A}var j=b.prototype=new y;j.constructor=b,g(j,x.prototype),j.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function L(J,D,ce){var te,ge={},pe=null,be=null;if(D!=null)for(te in D.ref!==void 0&&(be=D.ref),D.key!==void 0&&(pe=""+D.key),D)w.call(D,te)&&!I.hasOwnProperty(te)&&(ge[te]=D[te]);var re=arguments.length-2;if(re===1)ge.children=ce;else if(1<re){for(var de=Array(re),Y=0;Y<re;Y++)de[Y]=arguments[Y+2];ge.children=de}if(J&&J.defaultProps)for(te in re=J.defaultProps,re)ge[te]===void 0&&(ge[te]=re[te]);return{$$typeof:r,type:J,key:pe,ref:be,props:ge,_owner:E.current}}function Z(J,D){return{$$typeof:r,type:J.type,key:D,ref:J.ref,props:J.props,_owner:J._owner}}function ne(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function G(J){var D={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ce){return D[ce]})}var le=/\/+/g;function V(J,D){return typeof J=="object"&&J!==null&&J.key!=null?G(""+J.key):D.toString(36)}function me(J,D,ce,te,ge){var pe=typeof J;(pe==="undefined"||pe==="boolean")&&(J=null);var be=!1;if(J===null)be=!0;else switch(pe){case"string":case"number":be=!0;break;case"object":switch(J.$$typeof){case r:case t:be=!0}}if(be)return be=J,ge=ge(be),J=te===""?"."+V(be,0):te,S(ge)?(ce="",J!=null&&(ce=J.replace(le,"$&/")+"/"),me(ge,D,ce,"",function(Y){return Y})):ge!=null&&(ne(ge)&&(ge=Z(ge,ce+(!ge.key||be&&be.key===ge.key?"":(""+ge.key).replace(le,"$&/")+"/")+J)),D.push(ge)),1;if(be=0,te=te===""?".":te+":",S(J))for(var re=0;re<J.length;re++){pe=J[re];var de=te+V(pe,re);be+=me(pe,D,ce,de,ge)}else if(de=f(J),typeof de=="function")for(J=de.call(J),re=0;!(pe=J.next()).done;)pe=pe.value,de=te+V(pe,re++),be+=me(pe,D,ce,de,ge);else if(pe==="object")throw D=String(J),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return be}function $(J,D,ce){if(J==null)return J;var te=[],ge=0;return me(J,te,"","",function(pe){return D.call(ce,pe,ge++)}),te}function X(J){if(J._status===-1){var D=J._result;D=D(),D.then(function(ce){(J._status===0||J._status===-1)&&(J._status=1,J._result=ce)},function(ce){(J._status===0||J._status===-1)&&(J._status=2,J._result=ce)}),J._status===-1&&(J._status=0,J._result=D)}if(J._status===1)return J._result.default;throw J._result}var Ce={current:null},M={transition:null},q={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Cs.Children={map:$,forEach:function(J,D,ce){$(J,function(){D.apply(this,arguments)},ce)},count:function(J){var D=0;return $(J,function(){D++}),D},toArray:function(J){return $(J,function(D){return D})||[]},only:function(J){if(!ne(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Cs.Component=x,Cs.Fragment=n,Cs.Profiler=s,Cs.PureComponent=b,Cs.StrictMode=a,Cs.Suspense=d,Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Cs.act=ie,Cs.cloneElement=function(J,D,ce){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var te=g({},J.props),ge=J.key,pe=J.ref,be=J._owner;if(D!=null){if(D.ref!==void 0&&(pe=D.ref,be=E.current),D.key!==void 0&&(ge=""+D.key),J.type&&J.type.defaultProps)var re=J.type.defaultProps;for(de in D)w.call(D,de)&&!I.hasOwnProperty(de)&&(te[de]=D[de]===void 0&&re!==void 0?re[de]:D[de])}var de=arguments.length-2;if(de===1)te.children=ce;else if(1<de){re=Array(de);for(var Y=0;Y<de;Y++)re[Y]=arguments[Y+2];te.children=re}return{$$typeof:r,type:J.type,key:ge,ref:pe,props:te,_owner:be}},Cs.createContext=function(J){return J={$$typeof:c,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:i,_context:J},J.Consumer=J},Cs.createElement=L,Cs.createFactory=function(J){var D=L.bind(null,J);return D.type=J,D},Cs.createRef=function(){return{current:null}},Cs.forwardRef=function(J){return{$$typeof:o,render:J}},Cs.isValidElement=ne,Cs.lazy=function(J){return{$$typeof:u,_payload:{_status:-1,_result:J},_init:X}},Cs.memo=function(J,D){return{$$typeof:l,type:J,compare:D===void 0?null:D}},Cs.startTransition=function(J){var D=M.transition;M.transition={};try{J()}finally{M.transition=D}},Cs.unstable_act=ie,Cs.useCallback=function(J,D){return Ce.current.useCallback(J,D)},Cs.useContext=function(J){return Ce.current.useContext(J)},Cs.useDebugValue=function(){},Cs.useDeferredValue=function(J){return Ce.current.useDeferredValue(J)},Cs.useEffect=function(J,D){return Ce.current.useEffect(J,D)},Cs.useId=function(){return Ce.current.useId()},Cs.useImperativeHandle=function(J,D,ce){return Ce.current.useImperativeHandle(J,D,ce)},Cs.useInsertionEffect=function(J,D){return Ce.current.useInsertionEffect(J,D)},Cs.useLayoutEffect=function(J,D){return Ce.current.useLayoutEffect(J,D)},Cs.useMemo=function(J,D){return Ce.current.useMemo(J,D)},Cs.useReducer=function(J,D,ce){return Ce.current.useReducer(J,D,ce)},Cs.useRef=function(J){return Ce.current.useRef(J)},Cs.useState=function(J){return Ce.current.useState(J)},Cs.useSyncExternalStore=function(J,D,ce){return Ce.current.useSyncExternalStore(J,D,ce)},Cs.useTransition=function(){return Ce.current.useTransition()},Cs.version="18.3.1",Cs}var PS;function f4(){return PS||(PS=1,O2.exports=$D()),O2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS;function VD(){if(DS)return Vm;DS=1;var r=f4(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(o,d,l){var u,h={},f=null,A=null;l!==void 0&&(f=""+l),d.key!==void 0&&(f=""+d.key),d.ref!==void 0&&(A=d.ref);for(u in d)a.call(d,u)&&!i.hasOwnProperty(u)&&(h[u]=d[u]);if(o&&o.defaultProps)for(u in d=o.defaultProps,d)h[u]===void 0&&(h[u]=d[u]);return{$$typeof:t,type:o,key:f,ref:A,props:h,_owner:s.current}}return Vm.Fragment=n,Vm.jsx=c,Vm.jsxs=c,Vm}var MS;function zD(){return MS||(MS=1,_2.exports=VD()),_2.exports}var e=zD(),C=f4();const Ct=Zs(C),GD=WD({__proto__:null,default:Ct},[C]);var l0={},F2={exports:{}},Rd={},P2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function KD(){return RS||(RS=1,(function(r){function t(M,q){var ie=M.length;M.push(q);e:for(;0<ie;){var J=ie-1>>>1,D=M[J];if(0<s(D,q))M[J]=q,M[ie]=D,ie=J;else break e}}function n(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var q=M[0],ie=M.pop();if(ie!==q){M[0]=ie;e:for(var J=0,D=M.length,ce=D>>>1;J<ce;){var te=2*(J+1)-1,ge=M[te],pe=te+1,be=M[pe];if(0>s(ge,ie))pe<D&&0>s(be,ge)?(M[J]=be,M[pe]=ie,J=pe):(M[J]=ge,M[te]=ie,J=te);else if(pe<D&&0>s(be,ie))M[J]=be,M[pe]=ie,J=pe;else break e}}return q}function s(M,q){var ie=M.sortIndex-q.sortIndex;return ie!==0?ie:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var c=Date,o=c.now();r.unstable_now=function(){return c.now()-o}}var d=[],l=[],u=1,h=null,f=3,A=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var q=n(l);q!==null;){if(q.callback===null)a(l);else if(q.startTime<=M)a(l),q.sortIndex=q.expirationTime,t(d,q);else break;q=n(l)}}function S(M){if(m=!1,j(M),!g)if(n(d)!==null)g=!0,X(w);else{var q=n(l);q!==null&&Ce(S,q.startTime-M)}}function w(M,q){g=!1,m&&(m=!1,y(L),L=-1),A=!0;var ie=f;try{for(j(q),h=n(d);h!==null&&(!(h.expirationTime>q)||M&&!G());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var D=J(h.expirationTime<=q);q=r.unstable_now(),typeof D=="function"?h.callback=D:h===n(d)&&a(d),j(q)}else a(d);h=n(d)}if(h!==null)var ce=!0;else{var te=n(l);te!==null&&Ce(S,te.startTime-q),ce=!1}return ce}finally{h=null,f=ie,A=!1}}var E=!1,I=null,L=-1,Z=5,ne=-1;function G(){return!(r.unstable_now()-ne<Z)}function le(){if(I!==null){var M=r.unstable_now();ne=M;var q=!0;try{q=I(!0,M)}finally{q?V():(E=!1,I=null)}}else E=!1}var V;if(typeof b=="function")V=function(){b(le)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,$=me.port2;me.port1.onmessage=le,V=function(){$.postMessage(null)}}else V=function(){x(le,0)};function X(M){I=M,E||(E=!0,V())}function Ce(M,q){L=x(function(){M(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){g||A||(g=!0,X(w))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return n(d)},r.unstable_next=function(M){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var ie=f;f=q;try{return M()}finally{f=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=f;f=M;try{return q()}finally{f=ie}},r.unstable_scheduleCallback=function(M,q,ie){var J=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?J+ie:J):ie=J,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ie+D,M={id:u++,callback:q,priorityLevel:M,startTime:ie,expirationTime:D,sortIndex:-1},ie>J?(M.sortIndex=ie,t(l,M),n(d)===null&&M===n(l)&&(m?(y(L),L=-1):m=!0,Ce(S,ie-J))):(M.sortIndex=D,t(d,M),g||A||(g=!0,X(w))),M},r.unstable_shouldYield=G,r.unstable_wrapCallback=function(M){var q=f;return function(){var ie=f;f=q;try{return M.apply(this,arguments)}finally{f=ie}}}})(D2)),D2}var LS;function qD(){return LS||(LS=1,P2.exports=KD()),P2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function XD(){if(US)return Rd;US=1;var r=f4(),t=qD();function n(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,N=1;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(p,v){c(p,v),c(p+"Capture",v)}function c(p,v){for(s[p]=v,p=0;p<v.length;p++)a.add(v[p])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(p){return d.call(h,p)?!0:d.call(u,p)?!1:l.test(p)?h[p]=!0:(u[p]=!0,!1)}function A(p,v,N,z){if(N!==null&&N.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return z?!1:N!==null?!N.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function g(p,v,N,z){if(v===null||typeof v>"u"||A(p,v,N,z))return!0;if(z)return!1;if(N!==null)switch(N.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function m(p,v,N,z,je,Te,ze){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=z,this.attributeNamespace=je,this.mustUseProperty=N,this.propertyName=p,this.type=v,this.sanitizeURL=Te,this.removeEmptyString=ze}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new m(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];x[v]=new m(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new m(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new m(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new m(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new m(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new m(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new m(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new m(p,5,!1,p.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(y,b);x[v]=new m(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new m(p,1,!1,p.toLowerCase(),null,!0,!0)});function j(p,v,N,z){var je=x.hasOwnProperty(v)?x[v]:null;(je!==null?je.type!==0:z||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,N,je,z)&&(N=null),z||je===null?f(v)&&(N===null?p.removeAttribute(v):p.setAttribute(v,""+N)):je.mustUseProperty?p[je.propertyName]=N===null?je.type===3?!1:"":N:(v=je.attributeName,z=je.attributeNamespace,N===null?p.removeAttribute(v):(je=je.type,N=je===3||je===4&&N===!0?"":""+N,z?p.setAttributeNS(z,v,N):p.setAttribute(v,N))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),M=Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=M&&p[M]||p["@@iterator"],typeof p=="function"?p:null)}var ie=Object.assign,J;function D(p){if(J===void 0)try{throw Error()}catch(N){var v=N.stack.trim().match(/\n( *(at )?)/);J=v&&v[1]||""}return`
`+J+p}var ce=!1;function te(p,v){if(!p||ce)return"";ce=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(yr){var z=yr}Reflect.construct(p,[],v)}else{try{v.call()}catch(yr){z=yr}p.call(v.prototype)}else{try{throw Error()}catch(yr){z=yr}p()}}catch(yr){if(yr&&z&&typeof yr.stack=="string"){for(var je=yr.stack.split(`
`),Te=z.stack.split(`
`),ze=je.length-1,It=Te.length-1;1<=ze&&0<=It&&je[ze]!==Te[It];)It--;for(;1<=ze&&0<=It;ze--,It--)if(je[ze]!==Te[It]){if(ze!==1||It!==1)do if(ze--,It--,0>It||je[ze]!==Te[It]){var Wt=`
`+je[ze].replace(" at new "," at ");return p.displayName&&Wt.includes("<anonymous>")&&(Wt=Wt.replace("<anonymous>",p.displayName)),Wt}while(1<=ze&&0<=It);break}}}finally{ce=!1,Error.prepareStackTrace=N}return(p=p?p.displayName||p.name:"")?D(p):""}function ge(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=te(p.type,!1),p;case 11:return p=te(p.type.render,!1),p;case 1:return p=te(p.type,!0),p;default:return""}}function pe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case I:return"Fragment";case E:return"Portal";case Z:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case me:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case G:return(p.displayName||"Context")+".Consumer";case ne:return(p._context.displayName||"Context")+".Provider";case le:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case $:return v=p.displayName||null,v!==null?v:pe(p.type)||"Memo";case X:v=p._payload,p=p._init;try{return pe(p(v))}catch{}}return null}function be(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(v);case 8:return v===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function re(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function de(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Y(p){var v=de(p)?"checked":"value",N=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),z=""+p[v];if(!p.hasOwnProperty(v)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var je=N.get,Te=N.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return je.call(this)},set:function(ze){z=""+ze,Te.call(this,ze)}}),Object.defineProperty(p,v,{enumerable:N.enumerable}),{getValue:function(){return z},setValue:function(ze){z=""+ze},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function Ae(p){p._valueTracker||(p._valueTracker=Y(p))}function ye(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var N=v.getValue(),z="";return p&&(z=de(p)?p.checked?"true":"false":p.value),p=z,p!==N?(v.setValue(p),!0):!1}function Oe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function We(p,v){var N=v.checked;return ie({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??p._wrapperState.initialChecked})}function ae(p,v){var N=v.defaultValue==null?"":v.defaultValue,z=v.checked!=null?v.checked:v.defaultChecked;N=re(v.value!=null?v.value:N),p._wrapperState={initialChecked:z,initialValue:N,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function ke(p,v){v=v.checked,v!=null&&j(p,"checked",v,!1)}function Fe(p,v){ke(p,v);var N=re(v.value),z=v.type;if(N!=null)z==="number"?(N===0&&p.value===""||p.value!=N)&&(p.value=""+N):p.value!==""+N&&(p.value=""+N);else if(z==="submit"||z==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?tt(p,v.type,N):v.hasOwnProperty("defaultValue")&&tt(p,v.type,re(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function nt(p,v,N){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var z=v.type;if(!(z!=="submit"&&z!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,N||v===p.value||(p.value=v),p.defaultValue=v}N=p.name,N!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,N!==""&&(p.name=N)}function tt(p,v,N){(v!=="number"||Oe(p.ownerDocument)!==p)&&(N==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+N&&(p.defaultValue=""+N))}var Le=Array.isArray;function lt(p,v,N,z){if(p=p.options,v){v={};for(var je=0;je<N.length;je++)v["$"+N[je]]=!0;for(N=0;N<p.length;N++)je=v.hasOwnProperty("$"+p[N].value),p[N].selected!==je&&(p[N].selected=je),je&&z&&(p[N].defaultSelected=!0)}else{for(N=""+re(N),v=null,je=0;je<p.length;je++){if(p[je].value===N){p[je].selected=!0,z&&(p[je].defaultSelected=!0);return}v!==null||p[je].disabled||(v=p[je])}v!==null&&(v.selected=!0)}}function $t(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ue(p,v){var N=v.value;if(N==null){if(N=v.children,v=v.defaultValue,N!=null){if(v!=null)throw Error(n(92));if(Le(N)){if(1<N.length)throw Error(n(93));N=N[0]}v=N}v==null&&(v=""),N=v}p._wrapperState={initialValue:re(N)}}function yt(p,v){var N=re(v.value),z=re(v.defaultValue);N!=null&&(N=""+N,N!==p.value&&(p.value=N),v.defaultValue==null&&p.defaultValue!==N&&(p.defaultValue=N)),z!=null&&(p.defaultValue=""+z)}function Tt(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function Zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mr(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?Zt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var _t,Vt=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,N,z,je){MSApp.execUnsafeLocalFunction(function(){return p(v,N,z,je)})}:p})(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=_t.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function mr(p,v){if(v){var N=p.firstChild;if(N&&N===p.lastChild&&N.nodeType===3){N.nodeValue=v;return}}p.textContent=v}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bt=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(p){Bt.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),Qe[v]=Qe[p]})});function Ge(p,v,N){return v==null||typeof v=="boolean"||v===""?"":N||typeof v!="number"||v===0||Qe.hasOwnProperty(p)&&Qe[p]?(""+v).trim():v+"px"}function Ft(p,v){p=p.style;for(var N in v)if(v.hasOwnProperty(N)){var z=N.indexOf("--")===0,je=Ge(N,v[N],z);N==="float"&&(N="cssFloat"),z?p.setProperty(N,je):p[N]=je}}var Lt=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(p,v){if(v){if(Lt[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(n(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(n(61))}if(v.style!=null&&typeof v.style!="object")throw Error(n(62))}}function Or(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Hr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Bn=null,Wr=null,Qr=null;function vn(p){if(p=Fd(p)){if(typeof Bn!="function")throw Error(n(280));var v=p.stateNode;v&&(v=bu(v),Bn(p.stateNode,p.type,v))}}function sn(p){Wr?Qr?Qr.push(p):Qr=[p]:Wr=p}function Ln(){if(Wr){var p=Wr,v=Qr;if(Qr=Wr=null,vn(p),v)for(p=0;p<v.length;p++)vn(v[p])}}function da(p,v){return p(v)}function ci(){}var ei=!1;function Xs(p,v,N){if(ei)return p(v,N);ei=!0;try{return da(p,v,N)}finally{ei=!1,(Wr!==null||Qr!==null)&&(ci(),Ln())}}function ua(p,v){var N=p.stateNode;if(N===null)return null;var z=bu(N);if(z===null)return null;N=z[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(z=!z.disabled)||(p=p.type,z=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!z;break e;default:p=!1}if(p)return null;if(N&&typeof N!="function")throw Error(n(231,v,typeof N));return N}var Zr=!1;if(o)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Zr=!1}function Fi(p,v,N,z,je,Te,ze,It,Wt){var yr=Array.prototype.slice.call(arguments,3);try{v.apply(N,yr)}catch(Xr){this.onError(Xr)}}var Sn=!1,qi=null,Ps=!1,ks=null,di={onError:function(p){Sn=!0,qi=p}};function Us(p,v,N,z,je,Te,ze,It,Wt){Sn=!1,qi=null,Fi.apply(di,arguments)}function co(p,v,N,z,je,Te,ze,It,Wt){if(Us.apply(this,arguments),Sn){if(Sn){var yr=qi;Sn=!1,qi=null}else throw Error(n(198));Ps||(Ps=!0,ks=yr)}}function ts(p){var v=p,N=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(N=v.return),p=v.return;while(p)}return v.tag===3?N:null}function Xi(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function Wa(p){if(ts(p)!==p)throw Error(n(188))}function Sc(p){var v=p.alternate;if(!v){if(v=ts(p),v===null)throw Error(n(188));return v!==p?null:p}for(var N=p,z=v;;){var je=N.return;if(je===null)break;var Te=je.alternate;if(Te===null){if(z=je.return,z!==null){N=z;continue}break}if(je.child===Te.child){for(Te=je.child;Te;){if(Te===N)return Wa(je),p;if(Te===z)return Wa(je),v;Te=Te.sibling}throw Error(n(188))}if(N.return!==z.return)N=je,z=Te;else{for(var ze=!1,It=je.child;It;){if(It===N){ze=!0,N=je,z=Te;break}if(It===z){ze=!0,z=je,N=Te;break}It=It.sibling}if(!ze){for(It=Te.child;It;){if(It===N){ze=!0,N=Te,z=je;break}if(It===z){ze=!0,z=Te,N=je;break}It=It.sibling}if(!ze)throw Error(n(189))}}if(N.alternate!==z)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?p:v}function yi(p){return p=Sc(p),p!==null?Il(p):null}function Il(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=Il(p);if(v!==null)return v;p=p.sibling}return null}var Ec=t.unstable_scheduleCallback,Tl=t.unstable_cancelCallback,Hs=t.unstable_shouldYield,jo=t.unstable_requestPaint,ha=t.unstable_now,ec=t.unstable_getCurrentPriorityLevel,rs=t.unstable_ImmediatePriority,ko=t.unstable_UserBlockingPriority,Yi=t.unstable_NormalPriority,_o=t.unstable_LowPriority,al=t.unstable_IdlePriority,Oo=null,Wi=null;function ws(p){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Oo,p,void 0,(p.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:$c,gl=Math.log,Fo=Math.LN2;function $c(p){return p>>>=0,p===0?32:31-(gl(p)/Fo|0)|0}var ui=64,zn=4194304;function Qs(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function ji(p,v){var N=p.pendingLanes;if(N===0)return 0;var z=0,je=p.suspendedLanes,Te=p.pingedLanes,ze=N&268435455;if(ze!==0){var It=ze&~je;It!==0?z=Qs(It):(Te&=ze,Te!==0&&(z=Qs(Te)))}else ze=N&~je,ze!==0?z=Qs(ze):Te!==0&&(z=Qs(Te));if(z===0)return 0;if(v!==0&&v!==z&&(v&je)===0&&(je=z&-z,Te=v&-v,je>=Te||je===16&&(Te&4194240)!==0))return v;if((z&4)!==0&&(z|=N&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=z;0<v;)N=31-ns(v),je=1<<N,z|=p[N],v&=~je;return z}function bi(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(p,v){for(var N=p.suspendedLanes,z=p.pingedLanes,je=p.expirationTimes,Te=p.pendingLanes;0<Te;){var ze=31-ns(Te),It=1<<ze,Wt=je[ze];Wt===-1?((It&N)===0||(It&z)!==0)&&(je[ze]=bi(It,v)):Wt<=v&&(p.expiredLanes|=It),Te&=~It}}function Ds(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function uo(){var p=ui;return ui<<=1,(ui&4194240)===0&&(ui=64),p}function Ys(p){for(var v=[],N=0;31>N;N++)v.push(p);return v}function _s(p,v,N){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-ns(v),p[v]=N}function bo(p,v){var N=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var z=p.eventTimes;for(p=p.expirationTimes;0<N;){var je=31-ns(N),Te=1<<je;v[je]=0,z[je]=-1,p[je]=-1,N&=~Te}}function Do(p,v){var N=p.entangledLanes|=v;for(p=p.entanglements;N;){var z=31-ns(N),je=1<<z;je&v|p[z]&v&&(p[z]|=v),N&=~je}}var pa=0;function Ws(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var wi,Ji,Pi,Mo,Kt,Q=!1,fe=[],ve=null,R=null,W=null,ue=new Map,Be=new Map,De=[],Ye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(p,v){switch(p){case"focusin":case"focusout":ve=null;break;case"dragenter":case"dragleave":R=null;break;case"mouseover":case"mouseout":W=null;break;case"pointerover":case"pointerout":ue.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Be.delete(v.pointerId)}}function k(p,v,N,z,je,Te){return p===null||p.nativeEvent!==Te?(p={blockedOn:v,domEventName:N,eventSystemFlags:z,nativeEvent:Te,targetContainers:[je]},v!==null&&(v=Fd(v),v!==null&&Ji(v)),p):(p.eventSystemFlags|=z,v=p.targetContainers,je!==null&&v.indexOf(je)===-1&&v.push(je),p)}function B(p,v,N,z,je){switch(v){case"focusin":return ve=k(ve,p,v,N,z,je),!0;case"dragenter":return R=k(R,p,v,N,z,je),!0;case"mouseover":return W=k(W,p,v,N,z,je),!0;case"pointerover":var Te=je.pointerId;return ue.set(Te,k(ue.get(Te)||null,p,v,N,z,je)),!0;case"gotpointercapture":return Te=je.pointerId,Be.set(Te,k(Be.get(Te)||null,p,v,N,z,je)),!0}return!1}function P(p){var v=Yo(p.target);if(v!==null){var N=ts(v);if(N!==null){if(v=N.tag,v===13){if(v=Xi(N),v!==null){p.blockedOn=v,Kt(p.priority,function(){Pi(N)});return}}else if(v===3&&N.stateNode.current.memoizedState.isDehydrated){p.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}p.blockedOn=null}function K(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var N=Nt(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(N===null){N=p.nativeEvent;var z=new N.constructor(N.type,N);Kr=z,N.target.dispatchEvent(z),Kr=null}else return v=Fd(N),v!==null&&Ji(v),p.blockedOn=N,!1;v.shift()}return!0}function se(p,v,N){K(p)&&N.delete(v)}function he(){Q=!1,ve!==null&&K(ve)&&(ve=null),R!==null&&K(R)&&(R=null),W!==null&&K(W)&&(W=null),ue.forEach(se),Be.forEach(se)}function Ie(p,v){p.blockedOn===v&&(p.blockedOn=null,Q||(Q=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,he)))}function we(p){function v(je){return Ie(je,p)}if(0<fe.length){Ie(fe[0],p);for(var N=1;N<fe.length;N++){var z=fe[N];z.blockedOn===p&&(z.blockedOn=null)}}for(ve!==null&&Ie(ve,p),R!==null&&Ie(R,p),W!==null&&Ie(W,p),ue.forEach(v),Be.forEach(v),N=0;N<De.length;N++)z=De[N],z.blockedOn===p&&(z.blockedOn=null);for(;0<De.length&&(N=De[0],N.blockedOn===null);)P(N),N.blockedOn===null&&De.shift()}var Ne=S.ReactCurrentBatchConfig,Re=!0;function Ke(p,v,N,z){var je=pa,Te=Ne.transition;Ne.transition=null;try{pa=1,ut(p,v,N,z)}finally{pa=je,Ne.transition=Te}}function at(p,v,N,z){var je=pa,Te=Ne.transition;Ne.transition=null;try{pa=4,ut(p,v,N,z)}finally{pa=je,Ne.transition=Te}}function ut(p,v,N,z){if(Re){var je=Nt(p,v,N,z);if(je===null)cd(p,v,z,Pe,N),dt(p,z);else if(B(je,p,v,N,z))z.stopPropagation();else if(dt(p,z),v&4&&-1<Ye.indexOf(p)){for(;je!==null;){var Te=Fd(je);if(Te!==null&&wi(Te),Te=Nt(p,v,N,z),Te===null&&cd(p,v,z,Pe,N),Te===je)break;je=Te}je!==null&&z.stopPropagation()}else cd(p,v,z,null,N)}}var Pe=null;function Nt(p,v,N,z){if(Pe=null,p=Hr(z),p=Yo(p),p!==null)if(v=ts(p),v===null)p=null;else if(N=v.tag,N===13){if(p=Xi(v),p!==null)return p;p=null}else if(N===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Pe=p,null}function bt(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case rs:return 1;case ko:return 4;case Yi:case _o:return 16;case al:return 536870912;default:return 16}default:return 16}}var Et=null,ot=null,Ut=null;function rr(){if(Ut)return Ut;var p,v=ot,N=v.length,z,je="value"in Et?Et.value:Et.textContent,Te=je.length;for(p=0;p<N&&v[p]===je[p];p++);var ze=N-p;for(z=1;z<=ze&&v[N-z]===je[Te-z];z++);return Ut=je.slice(p,1<z?1-z:void 0)}function Ot(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function st(){return!0}function Xt(){return!1}function pr(p){function v(N,z,je,Te,ze){this._reactName=N,this._targetInst=je,this.type=z,this.nativeEvent=Te,this.target=ze,this.currentTarget=null;for(var It in p)p.hasOwnProperty(It)&&(N=p[It],this[It]=N?N(Te):Te[It]);return this.isDefaultPrevented=(Te.defaultPrevented!=null?Te.defaultPrevented:Te.returnValue===!1)?st:Xt,this.isPropagationStopped=Xt,this}return ie(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=st)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=st)},persist:function(){},isPersistent:st}),v}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mt=pr(ar),Ar=ie({},ar,{view:0,detail:0}),ct=pr(Ar),mt,Pt,Dt,gr=ie({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Dt&&(Dt&&p.type==="mousemove"?(mt=p.screenX-Dt.screenX,Pt=p.screenY-Dt.screenY):Pt=mt=0,Dt=p),mt)},movementY:function(p){return"movementY"in p?p.movementY:Pt}}),jr=pr(gr),Nr=ie({},gr,{dataTransfer:0}),ir=pr(Nr),wr=ie({},Ar,{relatedTarget:0}),Yr=pr(wr),zr=ie({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),et=pr(zr),St=ie({},ar,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),kt=pr(St),Yt=ie({},ar,{data:0}),tr=pr(Yt),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=Cr[p])?!!v[p]:!1}function Jr(){return Lr}var jn=ie({},Ar,{key:function(p){if(p.key){var v=dr[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Ot(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?br[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(p){return p.type==="keypress"?Ot(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Ot(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),wn=pr(jn),oa=ie({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pt=pr(oa),hn=ie({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),ma=pr(hn),dn=ie({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gr=pr(dn),aa=ie({},gr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),On=pr(aa),Xn=[9,13,27,32],Fn=o&&"CompositionEvent"in window,ps=null;o&&"documentMode"in document&&(ps=document.documentMode);var Ua=o&&"TextEvent"in window&&!ps,_n=o&&(!Fn||ps&&8<ps&&11>=ps),ss=" ",sa=!1;function In(p,v){switch(p){case"keyup":return Xn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Tn=!1;function ba(p,v){switch(p){case"compositionend":return la(v);case"keypress":return v.which!==32?null:(sa=!0,ss);case"textInput":return p=v.data,p===ss&&sa?null:p;default:return null}}function cs(p,v){if(Tn)return p==="compositionend"||!Fn&&In(p,v)?(p=rr(),Ut=ot=Et=null,Tn=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return _n&&v.locale!=="ko"?null:v.data;default:return null}}var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Va[p.type]:v==="textarea"}function ti(p,v,N,z){sn(z),v=Kd(v,"onChange"),0<v.length&&(N=new Mt("onChange","change",null,N,z),p.push({event:N,listeners:v}))}var $n=null,Ss=null;function ga(p){ac(p,0)}function Hn(p){var v=yl(p);if(ye(v))return p}function Es(p,v){if(p==="change")return v}var wa=!1;if(o){var Cn;if(o){var Ya="oninput"in document;if(!Ya){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Ya=typeof sd.oninput=="function"}Cn=Ya}else Cn=!1;wa=Cn&&(!document.documentMode||9<document.documentMode)}function $i(){$n&&($n.detachEvent("onpropertychange",wo),Ss=$n=null)}function wo(p){if(p.propertyName==="value"&&Hn(Ss)){var v=[];ti(v,Ss,p,Hr(p)),Xs(ga,v)}}function Bc(p,v,N){p==="focusin"?($i(),$n=v,Ss=N,$n.attachEvent("onpropertychange",wo)):p==="focusout"&&$i()}function fa(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Hn(Ss)}function Ci(p,v){if(p==="click")return Hn(v)}function Co(p,v){if(p==="input"||p==="change")return Hn(v)}function kl(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Di=typeof Object.is=="function"?Object.is:kl;function Os(p,v){if(Di(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var N=Object.keys(p),z=Object.keys(v);if(N.length!==z.length)return!1;for(z=0;z<N.length;z++){var je=N[z];if(!d.call(v,je)||!Di(p[je],v[je]))return!1}return!0}function Ti(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ho(p,v){var N=Ti(p);p=0;for(var z;N;){if(N.nodeType===3){if(z=p+N.textContent.length,p<=v&&z>=v)return{node:N,offset:v-p};p=z}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=Ti(N)}}function id(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?id(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Zi(){for(var p=window,v=Oe();v instanceof p.HTMLIFrameElement;){try{var N=typeof v.contentWindow.location.href=="string"}catch{N=!1}if(N)p=v.contentWindow;else break;v=Oe(p.document)}return v}function sl(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Ic(p){var v=Zi(),N=p.focusedElem,z=p.selectionRange;if(v!==N&&N&&N.ownerDocument&&id(N.ownerDocument.documentElement,N)){if(z!==null&&sl(N)){if(v=z.start,p=z.end,p===void 0&&(p=v),"selectionStart"in N)N.selectionStart=v,N.selectionEnd=Math.min(p,N.value.length);else if(p=(v=N.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var je=N.textContent.length,Te=Math.min(z.start,je);z=z.end===void 0?Te:Math.min(z.end,je),!p.extend&&Te>z&&(je=z,z=Te,Te=je),je=ho(N,Te);var ze=ho(N,z);je&&ze&&(p.rangeCount!==1||p.anchorNode!==je.node||p.anchorOffset!==je.offset||p.focusNode!==ze.node||p.focusOffset!==ze.offset)&&(v=v.createRange(),v.setStart(je.node,je.offset),p.removeAllRanges(),Te>z?(p.addRange(v),p.extend(ze.node,ze.offset)):(v.setEnd(ze.node,ze.offset),p.addRange(v)))}}for(v=[],p=N;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<v.length;N++)p=v[N],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var tc=o&&"documentMode"in document&&11>=document.documentMode,eo=null,il=null,_l=null,Ko=!1;function Ro(p,v,N){var z=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;Ko||eo==null||eo!==Oe(z)||(z=eo,"selectionStart"in z&&sl(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset}),_l&&Os(_l,z)||(_l=z,z=Kd(il,"onSelect"),0<z.length&&(v=new Mt("onSelect","select",null,v,N),p.push({event:v,listeners:z}),v.target=eo)))}function rc(p,v){var N={};return N[p.toLowerCase()]=v.toLowerCase(),N["Webkit"+p]="webkit"+v,N["Moz"+p]="moz"+v,N}var Ol={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Tc={},pu={};o&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Vc(p){if(Tc[p])return Tc[p];if(!Ol[p])return p;var v=Ol[p],N;for(N in v)if(v.hasOwnProperty(N)&&N in pu)return Tc[p]=v[N];return p}var mu=Vc("animationend"),od=Vc("animationiteration"),qo=Vc("animationstart"),ld=Vc("transitionend"),Sd=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fl(p,v){Sd.set(p,v),i(v,[p])}for(var Vd=0;Vd<$d.length;Vd++){var zd=$d[Vd],nc=zd.toLowerCase(),Gd=zd[0].toUpperCase()+zd.slice(1);Fl(nc,"on"+Gd)}Fl(mu,"onAnimationEnd"),Fl(od,"onAnimationIteration"),Fl(qo,"onAnimationStart"),Fl("dblclick","onDoubleClick"),Fl("focusin","onFocus"),Fl("focusout","onBlur"),Fl(ld,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function gu(p,v,N){var z=p.type||"unknown-event";p.currentTarget=N,co(z,v,void 0,p),p.currentTarget=null}function ac(p,v){v=(v&4)!==0;for(var N=0;N<p.length;N++){var z=p[N],je=z.event;z=z.listeners;e:{var Te=void 0;if(v)for(var ze=z.length-1;0<=ze;ze--){var It=z[ze],Wt=It.instance,yr=It.currentTarget;if(It=It.listener,Wt!==Te&&je.isPropagationStopped())break e;gu(je,It,yr),Te=Wt}else for(ze=0;ze<z.length;ze++){if(It=z[ze],Wt=It.instance,yr=It.currentTarget,It=It.listener,Wt!==Te&&je.isPropagationStopped())break e;gu(je,It,yr),Te=Wt}}}if(Ps)throw p=ks,Ps=!1,ks=null,p}function xs(p,v){var N=v[qu];N===void 0&&(N=v[qu]=new Set);var z=p+"__bubble";N.has(z)||(kc(v,p,2,!1),N.add(z))}function vu(p,v,N){var z=0;v&&(z|=4),kc(N,p,z,v)}var vl="_reactListening"+Math.random().toString(36).slice(2);function ki(p){if(!p[vl]){p[vl]=!0,a.forEach(function(N){N!=="selectionchange"&&(ya.has(N)||vu(N,!1,p),vu(N,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[vl]||(v[vl]=!0,vu("selectionchange",!1,v))}}function kc(p,v,N,z){switch(bt(v)){case 1:var je=Ke;break;case 4:je=at;break;default:je=ut}N=je.bind(null,v,N,p),je=void 0,!Zr||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(je=!0),z?je!==void 0?p.addEventListener(v,N,{capture:!0,passive:je}):p.addEventListener(v,N,!0):je!==void 0?p.addEventListener(v,N,{passive:je}):p.addEventListener(v,N,!1)}function cd(p,v,N,z,je){var Te=z;if((v&1)===0&&(v&2)===0&&z!==null)e:for(;;){if(z===null)return;var ze=z.tag;if(ze===3||ze===4){var It=z.stateNode.containerInfo;if(It===je||It.nodeType===8&&It.parentNode===je)break;if(ze===4)for(ze=z.return;ze!==null;){var Wt=ze.tag;if((Wt===3||Wt===4)&&(Wt=ze.stateNode.containerInfo,Wt===je||Wt.nodeType===8&&Wt.parentNode===je))return;ze=ze.return}for(;It!==null;){if(ze=Yo(It),ze===null)return;if(Wt=ze.tag,Wt===5||Wt===6){z=Te=ze;continue e}It=It.parentNode}}z=z.return}Xs(function(){var yr=Te,Xr=Hr(N),en=[];e:{var qr=Sd.get(p);if(qr!==void 0){var Pn=Mt,qn=p;switch(p){case"keypress":if(Ot(N)===0)break e;case"keydown":case"keyup":Pn=wn;break;case"focusin":qn="focus",Pn=Yr;break;case"focusout":qn="blur",Pn=Yr;break;case"beforeblur":case"afterblur":Pn=Yr;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pn=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pn=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pn=ma;break;case mu:case od:case qo:Pn=et;break;case ld:Pn=Gr;break;case"scroll":Pn=ct;break;case"wheel":Pn=On;break;case"copy":case"cut":case"paste":Pn=kt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pn=pt}var Zn=(v&4)!==0,Al=!Zn&&p==="scroll",fr=Zn?qr!==null?qr+"Capture":null:qr;Zn=[];for(var er=yr,xr;er!==null;){xr=er;var on=xr.stateNode;if(xr.tag===5&&on!==null&&(xr=on,fr!==null&&(on=ua(er,fr),on!=null&&Zn.push(Pl(er,on,xr)))),Al)break;er=er.return}0<Zn.length&&(qr=new Pn(qr,qn,null,N,Xr),en.push({event:qr,listeners:Zn}))}}if((v&7)===0){e:{if(qr=p==="mouseover"||p==="pointerover",Pn=p==="mouseout"||p==="pointerout",qr&&N!==Kr&&(qn=N.relatedTarget||N.fromElement)&&(Yo(qn)||qn[sc]))break e;if((Pn||qr)&&(qr=Xr.window===Xr?Xr:(qr=Xr.ownerDocument)?qr.defaultView||qr.parentWindow:window,Pn?(qn=N.relatedTarget||N.toElement,Pn=yr,qn=qn?Yo(qn):null,qn!==null&&(Al=ts(qn),qn!==Al||qn.tag!==5&&qn.tag!==6)&&(qn=null)):(Pn=null,qn=yr),Pn!==qn)){if(Zn=jr,on="onMouseLeave",fr="onMouseEnter",er="mouse",(p==="pointerout"||p==="pointerover")&&(Zn=pt,on="onPointerLeave",fr="onPointerEnter",er="pointer"),Al=Pn==null?qr:yl(Pn),xr=qn==null?qr:yl(qn),qr=new Zn(on,er+"leave",Pn,N,Xr),qr.target=Al,qr.relatedTarget=xr,on=null,Yo(Xr)===yr&&(Zn=new Zn(fr,er+"enter",qn,N,Xr),Zn.target=xr,Zn.relatedTarget=Al,on=Zn),Al=on,Pn&&qn)t:{for(Zn=Pn,fr=qn,er=0,xr=Zn;xr;xr=Xo(xr))er++;for(xr=0,on=fr;on;on=Xo(on))xr++;for(;0<er-xr;)Zn=Xo(Zn),er--;for(;0<xr-er;)fr=Xo(fr),xr--;for(;er--;){if(Zn===fr||fr!==null&&Zn===fr.alternate)break t;Zn=Xo(Zn),fr=Xo(fr)}Zn=null}else Zn=null;Pn!==null&&xu(en,qr,Pn,Zn,!1),qn!==null&&Al!==null&&xu(en,Al,qn,Zn,!0)}}e:{if(qr=yr?yl(yr):window,Pn=qr.nodeName&&qr.nodeName.toLowerCase(),Pn==="select"||Pn==="input"&&qr.type==="file")var na=Es;else if(za(qr))if(wa)na=Co;else{na=fa;var Ia=Bc}else(Pn=qr.nodeName)&&Pn.toLowerCase()==="input"&&(qr.type==="checkbox"||qr.type==="radio")&&(na=Ci);if(na&&(na=na(p,yr))){ti(en,na,N,Xr);break e}Ia&&Ia(p,qr,yr),p==="focusout"&&(Ia=qr._wrapperState)&&Ia.controlled&&qr.type==="number"&&tt(qr,"number",qr.value)}switch(Ia=yr?yl(yr):window,p){case"focusin":(za(Ia)||Ia.contentEditable==="true")&&(eo=Ia,il=yr,_l=null);break;case"focusout":_l=il=eo=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Ro(en,N,Xr);break;case"selectionchange":if(tc)break;case"keydown":case"keyup":Ro(en,N,Xr)}var Ta;if(Fn)e:{switch(p){case"compositionstart":var Ka="onCompositionStart";break e;case"compositionend":Ka="onCompositionEnd";break e;case"compositionupdate":Ka="onCompositionUpdate";break e}Ka=void 0}else Tn?In(p,N)&&(Ka="onCompositionEnd"):p==="keydown"&&N.keyCode===229&&(Ka="onCompositionStart");Ka&&(_n&&N.locale!=="ko"&&(Tn||Ka!=="onCompositionStart"?Ka==="onCompositionEnd"&&Tn&&(Ta=rr()):(Et=Xr,ot="value"in Et?Et.value:Et.textContent,Tn=!0)),Ia=Kd(yr,Ka),0<Ia.length&&(Ka=new tr(Ka,p,null,N,Xr),en.push({event:Ka,listeners:Ia}),Ta?Ka.data=Ta:(Ta=la(N),Ta!==null&&(Ka.data=Ta)))),(Ta=Ua?ba(p,N):cs(p,N))&&(yr=Kd(yr,"onBeforeInput"),0<yr.length&&(Xr=new tr("onBeforeInput","beforeinput",null,N,Xr),en.push({event:Xr,listeners:yr}),Xr.data=Ta))}ac(en,v)})}function Pl(p,v,N){return{instance:p,listener:v,currentTarget:N}}function Kd(p,v){for(var N=v+"Capture",z=[];p!==null;){var je=p,Te=je.stateNode;je.tag===5&&Te!==null&&(je=Te,Te=ua(p,N),Te!=null&&z.unshift(Pl(p,Te,je)),Te=ua(p,v),Te!=null&&z.push(Pl(p,Te,je))),p=p.return}return z}function Xo(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function xu(p,v,N,z,je){for(var Te=v._reactName,ze=[];N!==null&&N!==z;){var It=N,Wt=It.alternate,yr=It.stateNode;if(Wt!==null&&Wt===z)break;It.tag===5&&yr!==null&&(It=yr,je?(Wt=ua(N,Te),Wt!=null&&ze.unshift(Pl(N,Wt,It))):je||(Wt=ua(N,Te),Wt!=null&&ze.push(Pl(N,Wt,It)))),N=N.return}ze.length!==0&&p.push({event:v,listeners:ze})}var Bd=/\r\n?/g,yu=/\u0000|\uFFFD/g;function dd(p){return(typeof p=="string"?p:""+p).replace(Bd,`
`).replace(yu,"")}function Id(p,v,N){if(v=dd(v),dd(p)!==v&&N)throw Error(n(425))}function Td(){}var kd=null,_d=null;function ju(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,Vh=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,Ku=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(p){return Od.resolve(null).then(p).catch(zh)}:Dl;function zh(p){setTimeout(function(){throw p})}function Ca(p,v){var N=v,z=0;do{var je=N.nextSibling;if(p.removeChild(N),je&&je.nodeType===8)if(N=je.data,N==="/$"){if(z===0){p.removeChild(je),we(v);return}z--}else N!=="$"&&N!=="$?"&&N!=="$!"||z++;N=je}while(N);we(v)}function zc(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function vh(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var N=p.data;if(N==="$"||N==="$!"||N==="$?"){if(v===0)return p;v--}else N==="/$"&&v++}p=p.previousSibling}return null}var _c=Math.random().toString(36).slice(2),No="__reactFiber$"+_c,Ml="__reactProps$"+_c,sc="__reactContainer$"+_c,qu="__reactEvents$"+_c,xl="__reactListeners$"+_c,qd="__reactHandles$"+_c;function Yo(p){var v=p[No];if(v)return v;for(var N=p.parentNode;N;){if(v=N[sc]||N[No]){if(N=v.alternate,v.child!==null||N!==null&&N.child!==null)for(p=vh(p);p!==null;){if(N=p[No])return N;p=vh(p)}return v}p=N,N=p.parentNode}return null}function Fd(p){return p=p[No]||p[sc],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function yl(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function bu(p){return p[Ml]||null}var Oc=[],ic=-1;function Rl(p){return{current:p}}function ds(p){0>ic||(p.current=Oc[ic],Oc[ic]=null,ic--)}function Bs(p,v){ic++,Oc[ic]=p.current,p.current=v}var Ll={},Ni=Rl(Ll),Mi=Rl(!1),Fc=Ll;function ud(p,v){var N=p.type.contextTypes;if(!N)return Ll;var z=p.stateNode;if(z&&z.__reactInternalMemoizedUnmaskedChildContext===v)return z.__reactInternalMemoizedMaskedChildContext;var je={},Te;for(Te in N)je[Te]=v[Te];return z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=je),je}function Lo(p){return p=p.childContextTypes,p!=null}function oc(){ds(Mi),ds(Ni)}function Gc(p,v,N){if(Ni.current!==Ll)throw Error(n(168));Bs(Ni,v),Bs(Mi,N)}function Xu(p,v,N){var z=p.stateNode;if(v=v.childContextTypes,typeof z.getChildContext!="function")return N;z=z.getChildContext();for(var je in z)if(!(je in v))throw Error(n(108,be(p)||"Unknown",je));return ie({},N,z)}function Kc(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Ll,Fc=Ni.current,Bs(Ni,p),Bs(Mi,Mi.current),!0}function Yu(p,v,N){var z=p.stateNode;if(!z)throw Error(n(169));N?(p=Xu(p,v,Fc),z.__reactInternalMemoizedMergedChildContext=p,ds(Mi),ds(Ni),Bs(Ni,p)):ds(Mi),Bs(Mi,N)}var xe=null,$e=!1,wt=!1;function Rt(p){xe===null?xe=[p]:xe.push(p)}function nr(p){$e=!0,Rt(p)}function Sr(){if(!wt&&xe!==null){wt=!0;var p=0,v=pa;try{var N=xe;for(pa=1;p<N.length;p++){var z=N[p];do z=z(!0);while(z!==null)}xe=null,$e=!1}catch(je){throw xe!==null&&(xe=xe.slice(p+1)),Ec(rs,Sr),je}finally{pa=v,wt=!1}}return null}var Ur=[],Nn=0,Dn=null,Aa=0,ta=[],_a=0,Fs=null,Ms=1,hs="";function hi(p,v){Ur[Nn++]=Aa,Ur[Nn++]=Dn,Dn=p,Aa=v}function _(p,v,N){ta[_a++]=Ms,ta[_a++]=hs,ta[_a++]=Fs,Fs=p;var z=Ms;p=hs;var je=32-ns(z)-1;z&=~(1<<je),N+=1;var Te=32-ns(v)+je;if(30<Te){var ze=je-je%5;Te=(z&(1<<ze)-1).toString(32),z>>=ze,je-=ze,Ms=1<<32-ns(v)+je|N<<je|z,hs=Te+p}else Ms=1<<Te|N<<je|z,hs=p}function He(p){p.return!==null&&(hi(p,1),_(p,1,0))}function oe(p){for(;p===Dn;)Dn=Ur[--Nn],Ur[Nn]=null,Aa=Ur[--Nn],Ur[Nn]=null;for(;p===Fs;)Fs=ta[--_a],ta[_a]=null,hs=ta[--_a],ta[_a]=null,Ms=ta[--_a],ta[_a]=null}var Ze=null,gt=null,ht=!1,or=null;function Jt(p,v){var N=qt(5,null,null,0);N.elementType="DELETED",N.stateNode=v,N.return=p,v=p.deletions,v===null?(p.deletions=[N],p.flags|=16):v.push(N)}function bn(p,v){switch(p.tag){case 5:var N=p.type;return v=v.nodeType!==1||N.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,Ze=p,gt=zc(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,Ze=p,gt=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(N=Fs!==null?{id:Ms,overflow:hs}:null,p.memoizedState={dehydrated:v,treeContext:N,retryLane:1073741824},N=qt(18,null,null,0),N.stateNode=v,N.return=p,p.child=N,Ze=p,gt=null,!0):!1;default:return!1}}function Ht(p){return(p.mode&1)!==0&&(p.flags&128)===0}function hr(p){if(ht){var v=gt;if(v){var N=v;if(!bn(p,v)){if(Ht(p))throw Error(n(418));v=zc(N.nextSibling);var z=Ze;v&&bn(p,v)?Jt(z,N):(p.flags=p.flags&-4097|2,ht=!1,Ze=p)}}else{if(Ht(p))throw Error(n(418));p.flags=p.flags&-4097|2,ht=!1,Ze=p}}}function va(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ze=p}function fn(p){if(p!==Ze)return!1;if(!ht)return va(p),ht=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!ju(p.type,p.memoizedProps)),v&&(v=gt)){if(Ht(p))throw $r(),Error(n(418));for(;v;)Jt(p,v),v=zc(v.nextSibling)}if(va(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var N=p.data;if(N==="/$"){if(v===0){gt=zc(p.nextSibling);break e}v--}else N!=="$"&&N!=="$!"&&N!=="$?"||v++}p=p.nextSibling}gt=null}}else gt=Ze?zc(p.stateNode.nextSibling):null;return!0}function $r(){for(var p=gt;p;)p=zc(p.nextSibling)}function Er(){gt=Ze=null,ht=!1}function Rs(p){or===null?or=[p]:or.push(p)}var ja=S.ReactCurrentBatchConfig;function ra(p,v,N){if(p=N.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var z=N.stateNode}if(!z)throw Error(n(147,p));var je=z,Te=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===Te?v.ref:(v=function(ze){var It=je.refs;ze===null?delete It[Te]:It[Te]=ze},v._stringRef=Te,v)}if(typeof p!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,p))}return p}function Na(p,v){throw p=Object.prototype.toString.call(v),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Ja(p){var v=p._init;return v(p._payload)}function an(p){function v(fr,er){if(p){var xr=fr.deletions;xr===null?(fr.deletions=[er],fr.flags|=16):xr.push(er)}}function N(fr,er){if(!p)return null;for(;er!==null;)v(fr,er),er=er.sibling;return null}function z(fr,er){for(fr=new Map;er!==null;)er.key!==null?fr.set(er.key,er):fr.set(er.index,er),er=er.sibling;return fr}function je(fr,er){return fr=yn(fr,er),fr.index=0,fr.sibling=null,fr}function Te(fr,er,xr){return fr.index=xr,p?(xr=fr.alternate,xr!==null?(xr=xr.index,xr<er?(fr.flags|=2,er):xr):(fr.flags|=2,er)):(fr.flags|=1048576,er)}function ze(fr){return p&&fr.alternate===null&&(fr.flags|=2),fr}function It(fr,er,xr,on){return er===null||er.tag!==6?(er=Kn(xr,fr.mode,on),er.return=fr,er):(er=je(er,xr),er.return=fr,er)}function Wt(fr,er,xr,on){var na=xr.type;return na===I?Xr(fr,er,xr.props.children,on,xr.key):er!==null&&(er.elementType===na||typeof na=="object"&&na!==null&&na.$$typeof===X&&Ja(na)===er.type)?(on=je(er,xr.props),on.ref=ra(fr,er,xr),on.return=fr,on):(on=nn(xr.type,xr.key,xr.props,null,fr.mode,on),on.ref=ra(fr,er,xr),on.return=fr,on)}function yr(fr,er,xr,on){return er===null||er.tag!==4||er.stateNode.containerInfo!==xr.containerInfo||er.stateNode.implementation!==xr.implementation?(er=Un(xr,fr.mode,on),er.return=fr,er):(er=je(er,xr.children||[]),er.return=fr,er)}function Xr(fr,er,xr,on,na){return er===null||er.tag!==7?(er=gn(xr,fr.mode,on,na),er.return=fr,er):(er=je(er,xr),er.return=fr,er)}function en(fr,er,xr){if(typeof er=="string"&&er!==""||typeof er=="number")return er=Kn(""+er,fr.mode,xr),er.return=fr,er;if(typeof er=="object"&&er!==null){switch(er.$$typeof){case w:return xr=nn(er.type,er.key,er.props,null,fr.mode,xr),xr.ref=ra(fr,null,er),xr.return=fr,xr;case E:return er=Un(er,fr.mode,xr),er.return=fr,er;case X:var on=er._init;return en(fr,on(er._payload),xr)}if(Le(er)||q(er))return er=gn(er,fr.mode,xr,null),er.return=fr,er;Na(fr,er)}return null}function qr(fr,er,xr,on){var na=er!==null?er.key:null;if(typeof xr=="string"&&xr!==""||typeof xr=="number")return na!==null?null:It(fr,er,""+xr,on);if(typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case w:return xr.key===na?Wt(fr,er,xr,on):null;case E:return xr.key===na?yr(fr,er,xr,on):null;case X:return na=xr._init,qr(fr,er,na(xr._payload),on)}if(Le(xr)||q(xr))return na!==null?null:Xr(fr,er,xr,on,null);Na(fr,xr)}return null}function Pn(fr,er,xr,on,na){if(typeof on=="string"&&on!==""||typeof on=="number")return fr=fr.get(xr)||null,It(er,fr,""+on,na);if(typeof on=="object"&&on!==null){switch(on.$$typeof){case w:return fr=fr.get(on.key===null?xr:on.key)||null,Wt(er,fr,on,na);case E:return fr=fr.get(on.key===null?xr:on.key)||null,yr(er,fr,on,na);case X:var Ia=on._init;return Pn(fr,er,xr,Ia(on._payload),na)}if(Le(on)||q(on))return fr=fr.get(xr)||null,Xr(er,fr,on,na,null);Na(er,on)}return null}function qn(fr,er,xr,on){for(var na=null,Ia=null,Ta=er,Ka=er=0,gc=null;Ta!==null&&Ka<xr.length;Ka++){Ta.index>Ka?(gc=Ta,Ta=null):gc=Ta.sibling;var si=qr(fr,Ta,xr[Ka],on);if(si===null){Ta===null&&(Ta=gc);break}p&&Ta&&si.alternate===null&&v(fr,Ta),er=Te(si,er,Ka),Ia===null?na=si:Ia.sibling=si,Ia=si,Ta=gc}if(Ka===xr.length)return N(fr,Ta),ht&&hi(fr,Ka),na;if(Ta===null){for(;Ka<xr.length;Ka++)Ta=en(fr,xr[Ka],on),Ta!==null&&(er=Te(Ta,er,Ka),Ia===null?na=Ta:Ia.sibling=Ta,Ia=Ta);return ht&&hi(fr,Ka),na}for(Ta=z(fr,Ta);Ka<xr.length;Ka++)gc=Pn(Ta,fr,Ka,xr[Ka],on),gc!==null&&(p&&gc.alternate!==null&&Ta.delete(gc.key===null?Ka:gc.key),er=Te(gc,er,Ka),Ia===null?na=gc:Ia.sibling=gc,Ia=gc);return p&&Ta.forEach(function(Yf){return v(fr,Yf)}),ht&&hi(fr,Ka),na}function Zn(fr,er,xr,on){var na=q(xr);if(typeof na!="function")throw Error(n(150));if(xr=na.call(xr),xr==null)throw Error(n(151));for(var Ia=na=null,Ta=er,Ka=er=0,gc=null,si=xr.next();Ta!==null&&!si.done;Ka++,si=xr.next()){Ta.index>Ka?(gc=Ta,Ta=null):gc=Ta.sibling;var Yf=qr(fr,Ta,si.value,on);if(Yf===null){Ta===null&&(Ta=gc);break}p&&Ta&&Yf.alternate===null&&v(fr,Ta),er=Te(Yf,er,Ka),Ia===null?na=Yf:Ia.sibling=Yf,Ia=Yf,Ta=gc}if(si.done)return N(fr,Ta),ht&&hi(fr,Ka),na;if(Ta===null){for(;!si.done;Ka++,si=xr.next())si=en(fr,si.value,on),si!==null&&(er=Te(si,er,Ka),Ia===null?na=si:Ia.sibling=si,Ia=si);return ht&&hi(fr,Ka),na}for(Ta=z(fr,Ta);!si.done;Ka++,si=xr.next())si=Pn(Ta,fr,Ka,si.value,on),si!==null&&(p&&si.alternate!==null&&Ta.delete(si.key===null?Ka:si.key),er=Te(si,er,Ka),Ia===null?na=si:Ia.sibling=si,Ia=si);return p&&Ta.forEach(function(UD){return v(fr,UD)}),ht&&hi(fr,Ka),na}function Al(fr,er,xr,on){if(typeof xr=="object"&&xr!==null&&xr.type===I&&xr.key===null&&(xr=xr.props.children),typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case w:e:{for(var na=xr.key,Ia=er;Ia!==null;){if(Ia.key===na){if(na=xr.type,na===I){if(Ia.tag===7){N(fr,Ia.sibling),er=je(Ia,xr.props.children),er.return=fr,fr=er;break e}}else if(Ia.elementType===na||typeof na=="object"&&na!==null&&na.$$typeof===X&&Ja(na)===Ia.type){N(fr,Ia.sibling),er=je(Ia,xr.props),er.ref=ra(fr,Ia,xr),er.return=fr,fr=er;break e}N(fr,Ia);break}else v(fr,Ia);Ia=Ia.sibling}xr.type===I?(er=gn(xr.props.children,fr.mode,on,xr.key),er.return=fr,fr=er):(on=nn(xr.type,xr.key,xr.props,null,fr.mode,on),on.ref=ra(fr,er,xr),on.return=fr,fr=on)}return ze(fr);case E:e:{for(Ia=xr.key;er!==null;){if(er.key===Ia)if(er.tag===4&&er.stateNode.containerInfo===xr.containerInfo&&er.stateNode.implementation===xr.implementation){N(fr,er.sibling),er=je(er,xr.children||[]),er.return=fr,fr=er;break e}else{N(fr,er);break}else v(fr,er);er=er.sibling}er=Un(xr,fr.mode,on),er.return=fr,fr=er}return ze(fr);case X:return Ia=xr._init,Al(fr,er,Ia(xr._payload),on)}if(Le(xr))return qn(fr,er,xr,on);if(q(xr))return Zn(fr,er,xr,on);Na(fr,xr)}return typeof xr=="string"&&xr!==""||typeof xr=="number"?(xr=""+xr,er!==null&&er.tag===6?(N(fr,er.sibling),er=je(er,xr),er.return=fr,fr=er):(N(fr,er),er=Kn(xr,fr.mode,on),er.return=fr,fr=er),ze(fr)):N(fr,er)}return Al}var Ba=an(!0),ri=an(!1),Yn=Rl(null),is=null,Oa=null,Mn=null;function ca(){Mn=Oa=is=null}function So(p){var v=Yn.current;ds(Yn),p._currentValue=v}function lc(p,v,N){for(;p!==null;){var z=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,z!==null&&(z.childLanes|=v)):z!==null&&(z.childLanes&v)!==v&&(z.childLanes|=v),p===N)break;p=p.return}}function Uo(p,v){is=p,Mn=Oa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(Ql=!0),p.firstContext=null)}function fo(p){var v=p._currentValue;if(Mn!==p)if(p={context:p,memoizedValue:v,next:null},Oa===null){if(is===null)throw Error(n(308));Oa=p,is.dependencies={lanes:0,firstContext:p}}else Oa=Oa.next=p;return v}var cc=null;function Vi(p){cc===null?cc=[p]:cc.push(p)}function Gh(p,v,N,z){var je=v.interleaved;return je===null?(N.next=N,Vi(v)):(N.next=je.next,je.next=N),v.interleaved=N,Jo(p,z)}function Jo(p,v){p.lanes|=v;var N=p.alternate;for(N!==null&&(N.lanes|=v),N=p,p=p.return;p!==null;)p.childLanes|=v,N=p.alternate,N!==null&&(N.childLanes|=v),N=p,p=p.return;return N.tag===3?N.stateNode:null}var ol=!1;function Ju(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Pc(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function qc(p,v,N){var z=p.updateQueue;if(z===null)return null;if(z=z.shared,(Gn&2)!==0){var je=z.pending;return je===null?v.next=v:(v.next=je.next,je.next=v),z.pending=v,Jo(p,N)}return je=z.interleaved,je===null?(v.next=v,Vi(z)):(v.next=je.next,je.next=v),z.interleaved=v,Jo(p,N)}function Xc(p,v,N){if(v=v.updateQueue,v!==null&&(v=v.shared,(N&4194240)!==0)){var z=v.lanes;z&=p.pendingLanes,N|=z,v.lanes=N,Do(p,N)}}function Xd(p,v){var N=p.updateQueue,z=p.alternate;if(z!==null&&(z=z.updateQueue,N===z)){var je=null,Te=null;if(N=N.firstBaseUpdate,N!==null){do{var ze={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};Te===null?je=Te=ze:Te=Te.next=ze,N=N.next}while(N!==null);Te===null?je=Te=v:Te=Te.next=v}else je=Te=v;N={baseState:z.baseState,firstBaseUpdate:je,lastBaseUpdate:Te,shared:z.shared,effects:z.effects},p.updateQueue=N;return}p=N.lastBaseUpdate,p===null?N.firstBaseUpdate=v:p.next=v,N.lastBaseUpdate=v}function hd(p,v,N,z){var je=p.updateQueue;ol=!1;var Te=je.firstBaseUpdate,ze=je.lastBaseUpdate,It=je.shared.pending;if(It!==null){je.shared.pending=null;var Wt=It,yr=Wt.next;Wt.next=null,ze===null?Te=yr:ze.next=yr,ze=Wt;var Xr=p.alternate;Xr!==null&&(Xr=Xr.updateQueue,It=Xr.lastBaseUpdate,It!==ze&&(It===null?Xr.firstBaseUpdate=yr:It.next=yr,Xr.lastBaseUpdate=Wt))}if(Te!==null){var en=je.baseState;ze=0,Xr=yr=Wt=null,It=Te;do{var qr=It.lane,Pn=It.eventTime;if((z&qr)===qr){Xr!==null&&(Xr=Xr.next={eventTime:Pn,lane:0,tag:It.tag,payload:It.payload,callback:It.callback,next:null});e:{var qn=p,Zn=It;switch(qr=v,Pn=N,Zn.tag){case 1:if(qn=Zn.payload,typeof qn=="function"){en=qn.call(Pn,en,qr);break e}en=qn;break e;case 3:qn.flags=qn.flags&-65537|128;case 0:if(qn=Zn.payload,qr=typeof qn=="function"?qn.call(Pn,en,qr):qn,qr==null)break e;en=ie({},en,qr);break e;case 2:ol=!0}}It.callback!==null&&It.lane!==0&&(p.flags|=64,qr=je.effects,qr===null?je.effects=[It]:qr.push(It))}else Pn={eventTime:Pn,lane:qr,tag:It.tag,payload:It.payload,callback:It.callback,next:null},Xr===null?(yr=Xr=Pn,Wt=en):Xr=Xr.next=Pn,ze|=qr;if(It=It.next,It===null){if(It=je.shared.pending,It===null)break;qr=It,It=qr.next,qr.next=null,je.lastBaseUpdate=qr,je.shared.pending=null}}while(!0);if(Xr===null&&(Wt=en),je.baseState=Wt,je.firstBaseUpdate=yr,je.lastBaseUpdate=Xr,v=je.shared.interleaved,v!==null){je=v;do ze|=je.lane,je=je.next;while(je!==v)}else Te===null&&(je.shared.lanes=0);Dd|=ze,p.lanes=ze,p.memoizedState=en}}function wu(p,v,N){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var z=p[v],je=z.callback;if(je!==null){if(z.callback=null,z=N,typeof je!="function")throw Error(n(191,je));je.call(z)}}}var Dc={},jl=Rl(Dc),Ho=Rl(Dc),dc=Rl(Dc);function us(p){if(p===Dc)throw Error(n(174));return p}function Ls(p,v){switch(Bs(dc,v),Bs(Ho,p),Bs(jl,Dc),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Mr(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Mr(v,p)}ds(jl),Bs(jl,v)}function fi(){ds(jl),ds(Ho),ds(dc)}function Ao(p){us(dc.current);var v=us(jl.current),N=Mr(v,p.type);v!==N&&(Bs(Ho,p),Bs(jl,N))}function fd(p){Ho.current===p&&(ds(jl),ds(Ho))}var ni=Rl(0);function Ad(p){for(var v=p;v!==null;){if(v.tag===13){var N=v.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Cu=[];function Kh(){for(var p=0;p<Cu.length;p++)Cu[p]._workInProgressVersionPrimary=null;Cu.length=0}var yh=S.ReactCurrentDispatcher,qh=S.ReactCurrentBatchConfig,Yd=0,Si=null,Eo=null,to=null,Xh=!1,ll=!1,Nu=0,bp=0;function cl(){throw Error(n(321))}function Tf(p,v){if(v===null)return!1;for(var N=0;N<v.length&&N<p.length;N++)if(!Di(p[N],v[N]))return!1;return!0}function kf(p,v,N,z,je,Te){if(Yd=Te,Si=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,yh.current=p===null||p.memoizedState===null?pd:Sp,p=N(z,je),ll){Te=0;do{if(ll=!1,Nu=0,25<=Te)throw Error(n(301));Te+=1,to=Eo=null,v.updateQueue=null,yh.current=NA,p=N(z,je)}while(ll)}if(yh.current=Hl,v=Eo!==null&&Eo.next!==null,Yd=0,to=Eo=Si=null,Xh=!1,v)throw Error(n(300));return p}function _f(){var p=Nu!==0;return Nu=0,p}function Yc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?Si.memoizedState=to=p:to=to.next=p,to}function Ul(){if(Eo===null){var p=Si.alternate;p=p!==null?p.memoizedState:null}else p=Eo.next;var v=to===null?Si.memoizedState:to.next;if(v!==null)to=v,Eo=p;else{if(p===null)throw Error(n(310));Eo=p,p={memoizedState:Eo.memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},to===null?Si.memoizedState=to=p:to=to.next=p}return to}function dl(p,v){return typeof v=="function"?v(p):v}function uc(p){var v=Ul(),N=v.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var z=Eo,je=z.baseQueue,Te=N.pending;if(Te!==null){if(je!==null){var ze=je.next;je.next=Te.next,Te.next=ze}z.baseQueue=je=Te,N.pending=null}if(je!==null){Te=je.next,z=z.baseState;var It=ze=null,Wt=null,yr=Te;do{var Xr=yr.lane;if((Yd&Xr)===Xr)Wt!==null&&(Wt=Wt.next={lane:0,action:yr.action,hasEagerState:yr.hasEagerState,eagerState:yr.eagerState,next:null}),z=yr.hasEagerState?yr.eagerState:p(z,yr.action);else{var en={lane:Xr,action:yr.action,hasEagerState:yr.hasEagerState,eagerState:yr.eagerState,next:null};Wt===null?(It=Wt=en,ze=z):Wt=Wt.next=en,Si.lanes|=Xr,Dd|=Xr}yr=yr.next}while(yr!==null&&yr!==Te);Wt===null?ze=z:Wt.next=It,Di(z,v.memoizedState)||(Ql=!0),v.memoizedState=z,v.baseState=ze,v.baseQueue=Wt,N.lastRenderedState=z}if(p=N.interleaved,p!==null){je=p;do Te=je.lane,Si.lanes|=Te,Dd|=Te,je=je.next;while(je!==p)}else je===null&&(N.lanes=0);return[v.memoizedState,N.dispatch]}function Zu(p){var v=Ul(),N=v.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var z=N.dispatch,je=N.pending,Te=v.memoizedState;if(je!==null){N.pending=null;var ze=je=je.next;do Te=p(Te,ze.action),ze=ze.next;while(ze!==je);Di(Te,v.memoizedState)||(Ql=!0),v.memoizedState=Te,v.baseQueue===null&&(v.baseState=Te),N.lastRenderedState=Te}return[Te,z]}function Yh(){}function Jh(p,v){var N=Si,z=Ul(),je=v(),Te=!Di(z.memoizedState,je);if(Te&&(z.memoizedState=je,Ql=!0),z=z.queue,bA(Su.bind(null,N,z,p),[p]),z.getSnapshot!==v||Te||to!==null&&to.memoizedState.tag&1){if(N.flags|=2048,Pd(9,po.bind(null,N,z,je,v),void 0,null),zs===null)throw Error(n(349));(Yd&30)!==0||jh(N,v,je)}return je}function jh(p,v,N){p.flags|=16384,p={getSnapshot:v,value:N},v=Si.updateQueue,v===null?(v={lastEffect:null,stores:null},Si.updateQueue=v,v.stores=[p]):(N=v.stores,N===null?v.stores=[p]:N.push(p))}function po(p,v,N,z){v.value=N,v.getSnapshot=z,yA(v)&&Of(p)}function Su(p,v,N){return N(function(){yA(v)&&Of(p)})}function yA(p){var v=p.getSnapshot;p=p.value;try{var N=v();return!Di(p,N)}catch{return!0}}function Of(p){var v=Jo(p,1);v!==null&&Nl(v,p,1,-1)}function Zh(p){var v=Yc();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:p},v.queue=p,p=p.dispatch=Wm.bind(null,Si,p),[v.memoizedState,p]}function Pd(p,v,N,z){return p={tag:p,create:v,destroy:N,deps:z,next:null},v=Si.updateQueue,v===null?(v={lastEffect:null,stores:null},Si.updateQueue=v,v.lastEffect=p.next=p):(N=v.lastEffect,N===null?v.lastEffect=p.next=p:(z=N.next,N.next=p,p.next=z,v.lastEffect=p)),p}function Ff(){return Ul().memoizedState}function Pf(p,v,N,z){var je=Yc();Si.flags|=p,je.memoizedState=Pd(1|v,N,void 0,z===void 0?null:z)}function Df(p,v,N,z){var je=Ul();z=z===void 0?null:z;var Te=void 0;if(Eo!==null){var ze=Eo.memoizedState;if(Te=ze.destroy,z!==null&&Tf(z,ze.deps)){je.memoizedState=Pd(v,N,Te,z);return}}Si.flags|=p,je.memoizedState=Pd(1|v,N,Te,z)}function jA(p,v){return Pf(8390656,8,p,v)}function bA(p,v){return Df(2048,8,p,v)}function wp(p,v){return Df(4,2,p,v)}function Cp(p,v){return Df(4,4,p,v)}function Np(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function wA(p,v,N){return N=N!=null?N.concat([p]):null,Df(4,4,Np.bind(null,v,p),N)}function bh(){}function ef(p,v){var N=Ul();v=v===void 0?null:v;var z=N.memoizedState;return z!==null&&v!==null&&Tf(v,z[1])?z[0]:(N.memoizedState=[p,v],p)}function eh(p,v){var N=Ul();v=v===void 0?null:v;var z=N.memoizedState;return z!==null&&v!==null&&Tf(v,z[1])?z[0]:(p=p(),N.memoizedState=[p,v],p)}function Mf(p,v,N){return(Yd&21)===0?(p.baseState&&(p.baseState=!1,Ql=!0),p.memoizedState=N):(Di(N,v)||(N=uo(),Si.lanes|=N,Dd|=N,p.baseState=!0),v)}function Hm(p,v){var N=pa;pa=N!==0&&4>N?N:4,p(!0);var z=qh.transition;qh.transition={};try{p(!1),v()}finally{pa=N,qh.transition=z}}function CA(){return Ul().memoizedState}function Qm(p,v,N){var z=Ac(p);if(N={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null},tf(p))rf(v,N);else if(N=Gh(p,v,N,z),N!==null){var je=Io();Nl(N,p,z,je),Jd(N,v,z)}}function Wm(p,v,N){var z=Ac(p),je={lane:z,action:N,hasEagerState:!1,eagerState:null,next:null};if(tf(p))rf(v,je);else{var Te=p.alternate;if(p.lanes===0&&(Te===null||Te.lanes===0)&&(Te=v.lastRenderedReducer,Te!==null))try{var ze=v.lastRenderedState,It=Te(ze,N);if(je.hasEagerState=!0,je.eagerState=It,Di(It,ze)){var Wt=v.interleaved;Wt===null?(je.next=je,Vi(v)):(je.next=Wt.next,Wt.next=je),v.interleaved=je;return}}catch{}finally{}N=Gh(p,v,je,z),N!==null&&(je=Io(),Nl(N,p,z,je),Jd(N,v,z))}}function tf(p){var v=p.alternate;return p===Si||v!==null&&v===Si}function rf(p,v){ll=Xh=!0;var N=p.pending;N===null?v.next=v:(v.next=N.next,N.next=v),p.pending=v}function Jd(p,v,N){if((N&4194240)!==0){var z=v.lanes;z&=p.pendingLanes,N|=z,v.lanes=N,Do(p,N)}}var Hl={readContext:fo,useCallback:cl,useContext:cl,useEffect:cl,useImperativeHandle:cl,useInsertionEffect:cl,useLayoutEffect:cl,useMemo:cl,useReducer:cl,useRef:cl,useState:cl,useDebugValue:cl,useDeferredValue:cl,useTransition:cl,useMutableSource:cl,useSyncExternalStore:cl,useId:cl,unstable_isNewReconciler:!1},pd={readContext:fo,useCallback:function(p,v){return Yc().memoizedState=[p,v===void 0?null:v],p},useContext:fo,useEffect:jA,useImperativeHandle:function(p,v,N){return N=N!=null?N.concat([p]):null,Pf(4194308,4,Np.bind(null,v,p),N)},useLayoutEffect:function(p,v){return Pf(4194308,4,p,v)},useInsertionEffect:function(p,v){return Pf(4,2,p,v)},useMemo:function(p,v){var N=Yc();return v=v===void 0?null:v,p=p(),N.memoizedState=[p,v],p},useReducer:function(p,v,N){var z=Yc();return v=N!==void 0?N(v):v,z.memoizedState=z.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},z.queue=p,p=p.dispatch=Qm.bind(null,Si,p),[z.memoizedState,p]},useRef:function(p){var v=Yc();return p={current:p},v.memoizedState=p},useState:Zh,useDebugValue:bh,useDeferredValue:function(p){return Yc().memoizedState=p},useTransition:function(){var p=Zh(!1),v=p[0];return p=Hm.bind(null,p[1]),Yc().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,N){var z=Si,je=Yc();if(ht){if(N===void 0)throw Error(n(407));N=N()}else{if(N=v(),zs===null)throw Error(n(349));(Yd&30)!==0||jh(z,v,N)}je.memoizedState=N;var Te={value:N,getSnapshot:v};return je.queue=Te,jA(Su.bind(null,z,Te,p),[p]),z.flags|=2048,Pd(9,po.bind(null,z,Te,N,v),void 0,null),N},useId:function(){var p=Yc(),v=zs.identifierPrefix;if(ht){var N=hs,z=Ms;N=(z&~(1<<32-ns(z)-1)).toString(32)+N,v=":"+v+"R"+N,N=Nu++,0<N&&(v+="H"+N.toString(32)),v+=":"}else N=bp++,v=":"+v+"r"+N.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Sp={readContext:fo,useCallback:ef,useContext:fo,useEffect:bA,useImperativeHandle:wA,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:eh,useReducer:uc,useRef:Ff,useState:function(){return uc(dl)},useDebugValue:bh,useDeferredValue:function(p){var v=Ul();return Mf(v,Eo.memoizedState,p)},useTransition:function(){var p=uc(dl)[0],v=Ul().memoizedState;return[p,v]},useMutableSource:Yh,useSyncExternalStore:Jh,useId:CA,unstable_isNewReconciler:!1},NA={readContext:fo,useCallback:ef,useContext:fo,useEffect:bA,useImperativeHandle:wA,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:eh,useReducer:Zu,useRef:Ff,useState:function(){return Zu(dl)},useDebugValue:bh,useDeferredValue:function(p){var v=Ul();return Eo===null?v.memoizedState=p:Mf(v,Eo.memoizedState,p)},useTransition:function(){var p=Zu(dl)[0],v=Ul().memoizedState;return[p,v]},useMutableSource:Yh,useSyncExternalStore:Jh,useId:CA,unstable_isNewReconciler:!1};function Qo(p,v){if(p&&p.defaultProps){v=ie({},v),p=p.defaultProps;for(var N in p)v[N]===void 0&&(v[N]=p[N]);return v}return v}function hc(p,v,N,z){v=p.memoizedState,N=N(z,v),N=N==null?v:ie({},v,N),p.memoizedState=N,p.lanes===0&&(p.updateQueue.baseState=N)}var th={isMounted:function(p){return(p=p._reactInternals)?ts(p)===p:!1},enqueueSetState:function(p,v,N){p=p._reactInternals;var z=Io(),je=Ac(p),Te=Pc(z,je);Te.payload=v,N!=null&&(Te.callback=N),v=qc(p,Te,je),v!==null&&(Nl(v,p,je,z),Xc(v,p,je))},enqueueReplaceState:function(p,v,N){p=p._reactInternals;var z=Io(),je=Ac(p),Te=Pc(z,je);Te.tag=1,Te.payload=v,N!=null&&(Te.callback=N),v=qc(p,Te,je),v!==null&&(Nl(v,p,je,z),Xc(v,p,je))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var N=Io(),z=Ac(p),je=Pc(N,z);je.tag=2,v!=null&&(je.callback=v),v=qc(p,je,z),v!==null&&(Nl(v,p,z,N),Xc(v,p,z))}};function SA(p,v,N,z,je,Te,ze){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(z,Te,ze):v.prototype&&v.prototype.isPureReactComponent?!Os(N,z)||!Os(je,Te):!0}function Rf(p,v,N){var z=!1,je=Ll,Te=v.contextType;return typeof Te=="object"&&Te!==null?Te=fo(Te):(je=Lo(v)?Fc:Ni.current,z=v.contextTypes,Te=(z=z!=null)?ud(p,je):Ll),v=new v(N,Te),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=th,p.stateNode=v,v._reactInternals=p,z&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=je,p.__reactInternalMemoizedMaskedChildContext=Te),v}function EA(p,v,N,z){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(N,z),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(N,z),v.state!==p&&th.enqueueReplaceState(v,v.state,null)}function Lf(p,v,N,z){var je=p.stateNode;je.props=N,je.state=p.memoizedState,je.refs={},Ju(p);var Te=v.contextType;typeof Te=="object"&&Te!==null?je.context=fo(Te):(Te=Lo(v)?Fc:Ni.current,je.context=ud(p,Te)),je.state=p.memoizedState,Te=v.getDerivedStateFromProps,typeof Te=="function"&&(hc(p,v,Te,N),je.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof je.getSnapshotBeforeUpdate=="function"||typeof je.UNSAFE_componentWillMount!="function"&&typeof je.componentWillMount!="function"||(v=je.state,typeof je.componentWillMount=="function"&&je.componentWillMount(),typeof je.UNSAFE_componentWillMount=="function"&&je.UNSAFE_componentWillMount(),v!==je.state&&th.enqueueReplaceState(je,je.state,null),hd(p,N,je,z),je.state=p.memoizedState),typeof je.componentDidMount=="function"&&(p.flags|=4194308)}function Eu(p,v){try{var N="",z=v;do N+=ge(z),z=z.return;while(z);var je=N}catch(Te){je=`
Error generating stack: `+Te.message+`
`+Te.stack}return{value:p,source:v,stack:je,digest:null}}function Bu(p,v,N){return{value:p,source:null,stack:N??null,digest:v??null}}function Iu(p,v){try{console.error(v.value)}catch(N){setTimeout(function(){throw N})}}var rh=typeof WeakMap=="function"?WeakMap:Map;function wh(p,v,N){N=Pc(-1,N),N.tag=3,N.payload={element:null};var z=v.value;return N.callback=function(){sf||(sf=!0,$f=z),Iu(p,v)},N}function Uf(p,v,N){N=Pc(-1,N),N.tag=3;var z=p.type.getDerivedStateFromError;if(typeof z=="function"){var je=v.value;N.payload=function(){return z(je)},N.callback=function(){Iu(p,v)}}var Te=p.stateNode;return Te!==null&&typeof Te.componentDidCatch=="function"&&(N.callback=function(){Iu(p,v),typeof z!="function"&&(md===null?md=new Set([this]):md.add(this));var ze=v.stack;this.componentDidCatch(v.value,{componentStack:ze!==null?ze:""})}),N}function Ep(p,v,N){var z=p.pingCache;if(z===null){z=p.pingCache=new rh;var je=new Set;z.set(v,je)}else je=z.get(v),je===void 0&&(je=new Set,z.set(v,je));je.has(N)||(je.add(N),p=H.bind(null,p,v,N),v.then(p,p))}function BA(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function IA(p,v,N,z,je){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(v=Pc(-1,1),v.tag=2,qc(N,v,1))),N.lanes|=1),p):(p.flags|=65536,p.lanes=je,p)}var TA=S.ReactCurrentOwner,Ql=!1;function bl(p,v,N,z){v.child=p===null?ri(v,null,N,z):Ba(v,p.child,N,z)}function Hf(p,v,N,z,je){N=N.render;var Te=v.ref;return Uo(v,je),z=kf(p,v,N,z,Te,je),N=_f(),p!==null&&!Ql?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~je,zt(p,v,je)):(ht&&N&&He(v),v.flags|=1,bl(p,v,z,je),v.child)}function kA(p,v,N,z,je){if(p===null){var Te=N.type;return typeof Te=="function"&&!lr(Te)&&Te.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(v.tag=15,v.type=Te,Qf(p,v,Te,z,je)):(p=nn(N.type,null,z,v,v.mode,je),p.ref=v.ref,p.return=v,v.child=p)}if(Te=p.child,(p.lanes&je)===0){var ze=Te.memoizedProps;if(N=N.compare,N=N!==null?N:Os,N(ze,z)&&p.ref===v.ref)return zt(p,v,je)}return v.flags|=1,p=yn(Te,z),p.ref=v.ref,p.return=v,v.child=p}function Qf(p,v,N,z,je){if(p!==null){var Te=p.memoizedProps;if(Os(Te,z)&&p.ref===v.ref)if(Ql=!1,v.pendingProps=z=Te,(p.lanes&je)!==0)(p.flags&131072)!==0&&(Ql=!0);else return v.lanes=p.lanes,zt(p,v,je)}return Ch(p,v,N,z,je)}function nf(p,v,N){var z=v.pendingProps,je=z.children,Te=p!==null?p.memoizedState:null;if(z.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bs(ro,Ui),Ui|=N;else{if((N&1073741824)===0)return p=Te!==null?Te.baseLanes|N:N,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,Bs(ro,Ui),Ui|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},z=Te!==null?Te.baseLanes:N,Bs(ro,Ui),Ui|=z}else Te!==null?(z=Te.baseLanes|N,v.memoizedState=null):z=N,Bs(ro,Ui),Ui|=z;return bl(p,v,je,N),v.child}function af(p,v){var N=v.ref;(p===null&&N!==null||p!==null&&p.ref!==N)&&(v.flags|=512,v.flags|=2097152)}function Ch(p,v,N,z,je){var Te=Lo(N)?Fc:Ni.current;return Te=ud(v,Te),Uo(v,je),N=kf(p,v,N,z,Te,je),z=_f(),p!==null&&!Ql?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~je,zt(p,v,je)):(ht&&z&&He(v),v.flags|=1,bl(p,v,N,je),v.child)}function Wf(p,v,N,z,je){if(Lo(N)){var Te=!0;Kc(v)}else Te=!1;if(Uo(v,je),v.stateNode===null)vt(p,v),Rf(v,N,z),Lf(v,N,z,je),z=!0;else if(p===null){var ze=v.stateNode,It=v.memoizedProps;ze.props=It;var Wt=ze.context,yr=N.contextType;typeof yr=="object"&&yr!==null?yr=fo(yr):(yr=Lo(N)?Fc:Ni.current,yr=ud(v,yr));var Xr=N.getDerivedStateFromProps,en=typeof Xr=="function"||typeof ze.getSnapshotBeforeUpdate=="function";en||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(It!==z||Wt!==yr)&&EA(v,ze,z,yr),ol=!1;var qr=v.memoizedState;ze.state=qr,hd(v,z,ze,je),Wt=v.memoizedState,It!==z||qr!==Wt||Mi.current||ol?(typeof Xr=="function"&&(hc(v,N,Xr,z),Wt=v.memoizedState),(It=ol||SA(v,N,It,z,qr,Wt,yr))?(en||typeof ze.UNSAFE_componentWillMount!="function"&&typeof ze.componentWillMount!="function"||(typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount()),typeof ze.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ze.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=z,v.memoizedState=Wt),ze.props=z,ze.state=Wt,ze.context=yr,z=It):(typeof ze.componentDidMount=="function"&&(v.flags|=4194308),z=!1)}else{ze=v.stateNode,xh(p,v),It=v.memoizedProps,yr=v.type===v.elementType?It:Qo(v.type,It),ze.props=yr,en=v.pendingProps,qr=ze.context,Wt=N.contextType,typeof Wt=="object"&&Wt!==null?Wt=fo(Wt):(Wt=Lo(N)?Fc:Ni.current,Wt=ud(v,Wt));var Pn=N.getDerivedStateFromProps;(Xr=typeof Pn=="function"||typeof ze.getSnapshotBeforeUpdate=="function")||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(It!==en||qr!==Wt)&&EA(v,ze,z,Wt),ol=!1,qr=v.memoizedState,ze.state=qr,hd(v,z,ze,je);var qn=v.memoizedState;It!==en||qr!==qn||Mi.current||ol?(typeof Pn=="function"&&(hc(v,N,Pn,z),qn=v.memoizedState),(yr=ol||SA(v,N,yr,z,qr,qn,Wt)||!1)?(Xr||typeof ze.UNSAFE_componentWillUpdate!="function"&&typeof ze.componentWillUpdate!="function"||(typeof ze.componentWillUpdate=="function"&&ze.componentWillUpdate(z,qn,Wt),typeof ze.UNSAFE_componentWillUpdate=="function"&&ze.UNSAFE_componentWillUpdate(z,qn,Wt)),typeof ze.componentDidUpdate=="function"&&(v.flags|=4),typeof ze.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ze.componentDidUpdate!="function"||It===p.memoizedProps&&qr===p.memoizedState||(v.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||It===p.memoizedProps&&qr===p.memoizedState||(v.flags|=1024),v.memoizedProps=z,v.memoizedState=qn),ze.props=z,ze.state=qn,ze.context=Wt,z=yr):(typeof ze.componentDidUpdate!="function"||It===p.memoizedProps&&qr===p.memoizedState||(v.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||It===p.memoizedProps&&qr===p.memoizedState||(v.flags|=1024),z=!1)}return O(p,v,N,z,Te,je)}function O(p,v,N,z,je,Te){af(p,v);var ze=(v.flags&128)!==0;if(!z&&!ze)return je&&Yu(v,N,!1),zt(p,v,Te);z=v.stateNode,TA.current=v;var It=ze&&typeof N.getDerivedStateFromError!="function"?null:z.render();return v.flags|=1,p!==null&&ze?(v.child=Ba(v,p.child,null,Te),v.child=Ba(v,null,It,Te)):bl(p,v,It,Te),v.memoizedState=z.state,je&&Yu(v,N,!0),v.child}function ee(p){var v=p.stateNode;v.pendingContext?Gc(p,v.pendingContext,v.pendingContext!==v.context):v.context&&Gc(p,v.context,!1),Ls(p,v.containerInfo)}function Se(p,v,N,z,je){return Er(),Rs(je),v.flags|=256,bl(p,v,N,z),v.child}var _e={dehydrated:null,treeContext:null,retryLane:0};function Ve(p){return{baseLanes:p,cachePool:null,transitions:null}}function Xe(p,v,N){var z=v.pendingProps,je=ni.current,Te=!1,ze=(v.flags&128)!==0,It;if((It=ze)||(It=p!==null&&p.memoizedState===null?!1:(je&2)!==0),It?(Te=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(je|=1),Bs(ni,je&1),p===null)return hr(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(ze=z.children,p=z.fallback,Te?(z=v.mode,Te=v.child,ze={mode:"hidden",children:ze},(z&1)===0&&Te!==null?(Te.childLanes=0,Te.pendingProps=ze):Te=Za(ze,z,0,null),p=gn(p,z,N,null),Te.return=v,p.return=v,Te.sibling=p,v.child=Te,v.child.memoizedState=Ve(N),v.memoizedState=_e,p):Je(v,ze));if(je=p.memoizedState,je!==null&&(It=je.dehydrated,It!==null))return it(p,v,ze,z,It,je,N);if(Te){Te=z.fallback,ze=v.mode,je=p.child,It=je.sibling;var Wt={mode:"hidden",children:z.children};return(ze&1)===0&&v.child!==je?(z=v.child,z.childLanes=0,z.pendingProps=Wt,v.deletions=null):(z=yn(je,Wt),z.subtreeFlags=je.subtreeFlags&14680064),It!==null?Te=yn(It,Te):(Te=gn(Te,ze,N,null),Te.flags|=2),Te.return=v,z.return=v,z.sibling=Te,v.child=z,z=Te,Te=v.child,ze=p.child.memoizedState,ze=ze===null?Ve(N):{baseLanes:ze.baseLanes|N,cachePool:null,transitions:ze.transitions},Te.memoizedState=ze,Te.childLanes=p.childLanes&~N,v.memoizedState=_e,z}return Te=p.child,p=Te.sibling,z=yn(Te,{mode:"visible",children:z.children}),(v.mode&1)===0&&(z.lanes=N),z.return=v,z.sibling=null,p!==null&&(N=v.deletions,N===null?(v.deletions=[p],v.flags|=16):N.push(p)),v.child=z,v.memoizedState=null,z}function Je(p,v){return v=Za({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function rt(p,v,N,z){return z!==null&&Rs(z),Ba(v,p.child,null,N),p=Je(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function it(p,v,N,z,je,Te,ze){if(N)return v.flags&256?(v.flags&=-257,z=Bu(Error(n(422))),rt(p,v,ze,z)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(Te=z.fallback,je=v.mode,z=Za({mode:"visible",children:z.children},je,0,null),Te=gn(Te,je,ze,null),Te.flags|=2,z.return=v,Te.return=v,z.sibling=Te,v.child=z,(v.mode&1)!==0&&Ba(v,p.child,null,ze),v.child.memoizedState=Ve(ze),v.memoizedState=_e,Te);if((v.mode&1)===0)return rt(p,v,ze,null);if(je.data==="$!"){if(z=je.nextSibling&&je.nextSibling.dataset,z)var It=z.dgst;return z=It,Te=Error(n(419)),z=Bu(Te,z,void 0),rt(p,v,ze,z)}if(It=(ze&p.childLanes)!==0,Ql||It){if(z=zs,z!==null){switch(ze&-ze){case 4:je=2;break;case 16:je=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:je=32;break;case 536870912:je=268435456;break;default:je=0}je=(je&(z.suspendedLanes|ze))!==0?0:je,je!==0&&je!==Te.retryLane&&(Te.retryLane=je,Jo(p,je),Nl(z,p,je,-1))}return Eh(),z=Bu(Error(n(421))),rt(p,v,ze,z)}return je.data==="$?"?(v.flags|=128,v.child=p.child,v=Me.bind(null,p),je._reactRetry=v,null):(p=Te.treeContext,gt=zc(je.nextSibling),Ze=v,ht=!0,or=null,p!==null&&(ta[_a++]=Ms,ta[_a++]=hs,ta[_a++]=Fs,Ms=p.id,hs=p.overflow,Fs=v),v=Je(v,z.children),v.flags|=4096,v)}function jt(p,v,N){p.lanes|=v;var z=p.alternate;z!==null&&(z.lanes|=v),lc(p.return,v,N)}function Qt(p,v,N,z,je){var Te=p.memoizedState;Te===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:z,tail:N,tailMode:je}:(Te.isBackwards=v,Te.rendering=null,Te.renderingStartTime=0,Te.last=z,Te.tail=N,Te.tailMode=je)}function cr(p,v,N){var z=v.pendingProps,je=z.revealOrder,Te=z.tail;if(bl(p,v,z.children,N),z=ni.current,(z&2)!==0)z=z&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&jt(p,N,v);else if(p.tag===19)jt(p,N,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}z&=1}if(Bs(ni,z),(v.mode&1)===0)v.memoizedState=null;else switch(je){case"forwards":for(N=v.child,je=null;N!==null;)p=N.alternate,p!==null&&Ad(p)===null&&(je=N),N=N.sibling;N=je,N===null?(je=v.child,v.child=null):(je=N.sibling,N.sibling=null),Qt(v,!1,je,N,Te);break;case"backwards":for(N=null,je=v.child,v.child=null;je!==null;){if(p=je.alternate,p!==null&&Ad(p)===null){v.child=je;break}p=je.sibling,je.sibling=N,N=je,je=p}Qt(v,!0,N,null,Te);break;case"together":Qt(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function vt(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function zt(p,v,N){if(p!==null&&(v.dependencies=p.dependencies),Dd|=v.lanes,(N&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(n(153));if(v.child!==null){for(p=v.child,N=yn(p,p.pendingProps),v.child=N,N.return=v;p.sibling!==null;)p=p.sibling,N=N.sibling=yn(p,p.pendingProps),N.return=v;N.sibling=null}return v.child}function sr(p,v,N){switch(v.tag){case 3:ee(v),Er();break;case 5:Ao(v);break;case 1:Lo(v.type)&&Kc(v);break;case 4:Ls(v,v.stateNode.containerInfo);break;case 10:var z=v.type._context,je=v.memoizedProps.value;Bs(Yn,z._currentValue),z._currentValue=je;break;case 13:if(z=v.memoizedState,z!==null)return z.dehydrated!==null?(Bs(ni,ni.current&1),v.flags|=128,null):(N&v.child.childLanes)!==0?Xe(p,v,N):(Bs(ni,ni.current&1),p=zt(p,v,N),p!==null?p.sibling:null);Bs(ni,ni.current&1);break;case 19:if(z=(N&v.childLanes)!==0,(p.flags&128)!==0){if(z)return cr(p,v,N);v.flags|=128}if(je=v.memoizedState,je!==null&&(je.rendering=null,je.tail=null,je.lastEffect=null),Bs(ni,ni.current),z)break;return null;case 22:case 23:return v.lanes=0,nf(p,v,N)}return zt(p,v,N)}var Br,ur,Tr,_r;Br=function(p,v){for(var N=v.child;N!==null;){if(N.tag===5||N.tag===6)p.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===v)break;for(;N.sibling===null;){if(N.return===null||N.return===v)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},ur=function(){},Tr=function(p,v,N,z){var je=p.memoizedProps;if(je!==z){p=v.stateNode,us(jl.current);var Te=null;switch(N){case"input":je=We(p,je),z=We(p,z),Te=[];break;case"select":je=ie({},je,{value:void 0}),z=ie({},z,{value:void 0}),Te=[];break;case"textarea":je=$t(p,je),z=$t(p,z),Te=[];break;default:typeof je.onClick!="function"&&typeof z.onClick=="function"&&(p.onclick=Td)}Dr(N,z);var ze;N=null;for(yr in je)if(!z.hasOwnProperty(yr)&&je.hasOwnProperty(yr)&&je[yr]!=null)if(yr==="style"){var It=je[yr];for(ze in It)It.hasOwnProperty(ze)&&(N||(N={}),N[ze]="")}else yr!=="dangerouslySetInnerHTML"&&yr!=="children"&&yr!=="suppressContentEditableWarning"&&yr!=="suppressHydrationWarning"&&yr!=="autoFocus"&&(s.hasOwnProperty(yr)?Te||(Te=[]):(Te=Te||[]).push(yr,null));for(yr in z){var Wt=z[yr];if(It=je!=null?je[yr]:void 0,z.hasOwnProperty(yr)&&Wt!==It&&(Wt!=null||It!=null))if(yr==="style")if(It){for(ze in It)!It.hasOwnProperty(ze)||Wt&&Wt.hasOwnProperty(ze)||(N||(N={}),N[ze]="");for(ze in Wt)Wt.hasOwnProperty(ze)&&It[ze]!==Wt[ze]&&(N||(N={}),N[ze]=Wt[ze])}else N||(Te||(Te=[]),Te.push(yr,N)),N=Wt;else yr==="dangerouslySetInnerHTML"?(Wt=Wt?Wt.__html:void 0,It=It?It.__html:void 0,Wt!=null&&It!==Wt&&(Te=Te||[]).push(yr,Wt)):yr==="children"?typeof Wt!="string"&&typeof Wt!="number"||(Te=Te||[]).push(yr,""+Wt):yr!=="suppressContentEditableWarning"&&yr!=="suppressHydrationWarning"&&(s.hasOwnProperty(yr)?(Wt!=null&&yr==="onScroll"&&xs("scroll",p),Te||It===Wt||(Te=[])):(Te=Te||[]).push(yr,Wt))}N&&(Te=Te||[]).push("style",N);var yr=Te;(v.updateQueue=yr)&&(v.flags|=4)}},_r=function(p,v,N,z){N!==z&&(v.flags|=4)};function Vr(p,v){if(!ht)switch(p.tailMode){case"hidden":v=p.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?p.tail=null:N.sibling=null;break;case"collapsed":N=p.tail;for(var z=null;N!==null;)N.alternate!==null&&(z=N),N=N.sibling;z===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:z.sibling=null}}function Fr(p){var v=p.alternate!==null&&p.alternate.child===p.child,N=0,z=0;if(v)for(var je=p.child;je!==null;)N|=je.lanes|je.childLanes,z|=je.subtreeFlags&14680064,z|=je.flags&14680064,je.return=p,je=je.sibling;else for(je=p.child;je!==null;)N|=je.lanes|je.childLanes,z|=je.subtreeFlags,z|=je.flags,je.return=p,je=je.sibling;return p.subtreeFlags|=z,p.childLanes=N,v}function Jn(p,v,N){var z=v.pendingProps;switch(oe(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(v),null;case 1:return Lo(v.type)&&oc(),Fr(v),null;case 3:return z=v.stateNode,fi(),ds(Mi),ds(Ni),Kh(),z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),(p===null||p.child===null)&&(fn(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,or!==null&&(OA(or),or=null))),ur(p,v),Fr(v),null;case 5:fd(v);var je=us(dc.current);if(N=v.type,p!==null&&v.stateNode!=null)Tr(p,v,N,z,je),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!z){if(v.stateNode===null)throw Error(n(166));return Fr(v),null}if(p=us(jl.current),fn(v)){z=v.stateNode,N=v.type;var Te=v.memoizedProps;switch(z[No]=v,z[Ml]=Te,p=(v.mode&1)!==0,N){case"dialog":xs("cancel",z),xs("close",z);break;case"iframe":case"object":case"embed":xs("load",z);break;case"video":case"audio":for(je=0;je<Ed.length;je++)xs(Ed[je],z);break;case"source":xs("error",z);break;case"img":case"image":case"link":xs("error",z),xs("load",z);break;case"details":xs("toggle",z);break;case"input":ae(z,Te),xs("invalid",z);break;case"select":z._wrapperState={wasMultiple:!!Te.multiple},xs("invalid",z);break;case"textarea":Ue(z,Te),xs("invalid",z)}Dr(N,Te),je=null;for(var ze in Te)if(Te.hasOwnProperty(ze)){var It=Te[ze];ze==="children"?typeof It=="string"?z.textContent!==It&&(Te.suppressHydrationWarning!==!0&&Id(z.textContent,It,p),je=["children",It]):typeof It=="number"&&z.textContent!==""+It&&(Te.suppressHydrationWarning!==!0&&Id(z.textContent,It,p),je=["children",""+It]):s.hasOwnProperty(ze)&&It!=null&&ze==="onScroll"&&xs("scroll",z)}switch(N){case"input":Ae(z),nt(z,Te,!0);break;case"textarea":Ae(z),Tt(z);break;case"select":case"option":break;default:typeof Te.onClick=="function"&&(z.onclick=Td)}z=je,v.updateQueue=z,z!==null&&(v.flags|=4)}else{ze=je.nodeType===9?je:je.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Zt(N)),p==="http://www.w3.org/1999/xhtml"?N==="script"?(p=ze.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof z.is=="string"?p=ze.createElement(N,{is:z.is}):(p=ze.createElement(N),N==="select"&&(ze=p,z.multiple?ze.multiple=!0:z.size&&(ze.size=z.size))):p=ze.createElementNS(p,N),p[No]=v,p[Ml]=z,Br(p,v,!1,!1),v.stateNode=p;e:{switch(ze=Or(N,z),N){case"dialog":xs("cancel",p),xs("close",p),je=z;break;case"iframe":case"object":case"embed":xs("load",p),je=z;break;case"video":case"audio":for(je=0;je<Ed.length;je++)xs(Ed[je],p);je=z;break;case"source":xs("error",p),je=z;break;case"img":case"image":case"link":xs("error",p),xs("load",p),je=z;break;case"details":xs("toggle",p),je=z;break;case"input":ae(p,z),je=We(p,z),xs("invalid",p);break;case"option":je=z;break;case"select":p._wrapperState={wasMultiple:!!z.multiple},je=ie({},z,{value:void 0}),xs("invalid",p);break;case"textarea":Ue(p,z),je=$t(p,z),xs("invalid",p);break;default:je=z}Dr(N,je),It=je;for(Te in It)if(It.hasOwnProperty(Te)){var Wt=It[Te];Te==="style"?Ft(p,Wt):Te==="dangerouslySetInnerHTML"?(Wt=Wt?Wt.__html:void 0,Wt!=null&&Vt(p,Wt)):Te==="children"?typeof Wt=="string"?(N!=="textarea"||Wt!=="")&&mr(p,Wt):typeof Wt=="number"&&mr(p,""+Wt):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(s.hasOwnProperty(Te)?Wt!=null&&Te==="onScroll"&&xs("scroll",p):Wt!=null&&j(p,Te,Wt,ze))}switch(N){case"input":Ae(p),nt(p,z,!1);break;case"textarea":Ae(p),Tt(p);break;case"option":z.value!=null&&p.setAttribute("value",""+re(z.value));break;case"select":p.multiple=!!z.multiple,Te=z.value,Te!=null?lt(p,!!z.multiple,Te,!1):z.defaultValue!=null&&lt(p,!!z.multiple,z.defaultValue,!0);break;default:typeof je.onClick=="function"&&(p.onclick=Td)}switch(N){case"button":case"input":case"select":case"textarea":z=!!z.autoFocus;break e;case"img":z=!0;break e;default:z=!1}}z&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Fr(v),null;case 6:if(p&&v.stateNode!=null)_r(p,v,p.memoizedProps,z);else{if(typeof z!="string"&&v.stateNode===null)throw Error(n(166));if(N=us(dc.current),us(jl.current),fn(v)){if(z=v.stateNode,N=v.memoizedProps,z[No]=v,(Te=z.nodeValue!==N)&&(p=Ze,p!==null))switch(p.tag){case 3:Id(z.nodeValue,N,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Id(z.nodeValue,N,(p.mode&1)!==0)}Te&&(v.flags|=4)}else z=(N.nodeType===9?N:N.ownerDocument).createTextNode(z),z[No]=v,v.stateNode=z}return Fr(v),null;case 13:if(ds(ni),z=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ht&&gt!==null&&(v.mode&1)!==0&&(v.flags&128)===0)$r(),Er(),v.flags|=98560,Te=!1;else if(Te=fn(v),z!==null&&z.dehydrated!==null){if(p===null){if(!Te)throw Error(n(318));if(Te=v.memoizedState,Te=Te!==null?Te.dehydrated:null,!Te)throw Error(n(317));Te[No]=v}else Er(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Fr(v),Te=!1}else or!==null&&(OA(or),or=null),Te=!0;if(!Te)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=N,v):(z=z!==null,z!==(p!==null&&p.memoizedState!==null)&&z&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(ni.current&1)!==0?no===0&&(no=3):Eh())),v.updateQueue!==null&&(v.flags|=4),Fr(v),null);case 4:return fi(),ur(p,v),p===null&&ki(v.stateNode.containerInfo),Fr(v),null;case 10:return So(v.type._context),Fr(v),null;case 17:return Lo(v.type)&&oc(),Fr(v),null;case 19:if(ds(ni),Te=v.memoizedState,Te===null)return Fr(v),null;if(z=(v.flags&128)!==0,ze=Te.rendering,ze===null)if(z)Vr(Te,!1);else{if(no!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(ze=Ad(p),ze!==null){for(v.flags|=128,Vr(Te,!1),z=ze.updateQueue,z!==null&&(v.updateQueue=z,v.flags|=4),v.subtreeFlags=0,z=N,N=v.child;N!==null;)Te=N,p=z,Te.flags&=14680066,ze=Te.alternate,ze===null?(Te.childLanes=0,Te.lanes=p,Te.child=null,Te.subtreeFlags=0,Te.memoizedProps=null,Te.memoizedState=null,Te.updateQueue=null,Te.dependencies=null,Te.stateNode=null):(Te.childLanes=ze.childLanes,Te.lanes=ze.lanes,Te.child=ze.child,Te.subtreeFlags=0,Te.deletions=null,Te.memoizedProps=ze.memoizedProps,Te.memoizedState=ze.memoizedState,Te.updateQueue=ze.updateQueue,Te.type=ze.type,p=ze.dependencies,Te.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),N=N.sibling;return Bs(ni,ni.current&1|2),v.child}p=p.sibling}Te.tail!==null&&ha()>nh&&(v.flags|=128,z=!0,Vr(Te,!1),v.lanes=4194304)}else{if(!z)if(p=Ad(ze),p!==null){if(v.flags|=128,z=!0,N=p.updateQueue,N!==null&&(v.updateQueue=N,v.flags|=4),Vr(Te,!0),Te.tail===null&&Te.tailMode==="hidden"&&!ze.alternate&&!ht)return Fr(v),null}else 2*ha()-Te.renderingStartTime>nh&&N!==1073741824&&(v.flags|=128,z=!0,Vr(Te,!1),v.lanes=4194304);Te.isBackwards?(ze.sibling=v.child,v.child=ze):(N=Te.last,N!==null?N.sibling=ze:v.child=ze,Te.last=ze)}return Te.tail!==null?(v=Te.tail,Te.rendering=v,Te.tail=v.sibling,Te.renderingStartTime=ha(),v.sibling=null,N=ni.current,Bs(ni,z?N&1|2:N&1),v):(Fr(v),null);case 22:case 23:return Kf(),z=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==z&&(v.flags|=8192),z&&(v.mode&1)!==0?(Ui&1073741824)!==0&&(Fr(v),v.subtreeFlags&6&&(v.flags|=8192)):Fr(v),null;case 24:return null;case 25:return null}throw Error(n(156,v.tag))}function kn(p,v){switch(oe(v),v.tag){case 1:return Lo(v.type)&&oc(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return fi(),ds(Mi),ds(Ni),Kh(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return fd(v),null;case 13:if(ds(ni),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(n(340));Er()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ds(ni),null;case 4:return fi(),null;case 10:return So(v.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var $a=!1,xn=!1,ys=typeof WeakSet=="function"?WeakSet:Set,cn=null;function Ra(p,v){var N=p.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(z){U(p,v,z)}else N.current=null}function Rn(p,v,N){try{N()}catch(z){U(p,v,z)}}var An=!1;function mo(p,v){if(kd=Re,p=Zi(),sl(p)){if("selectionStart"in p)var N={start:p.selectionStart,end:p.selectionEnd};else e:{N=(N=p.ownerDocument)&&N.defaultView||window;var z=N.getSelection&&N.getSelection();if(z&&z.rangeCount!==0){N=z.anchorNode;var je=z.anchorOffset,Te=z.focusNode;z=z.focusOffset;try{N.nodeType,Te.nodeType}catch{N=null;break e}var ze=0,It=-1,Wt=-1,yr=0,Xr=0,en=p,qr=null;t:for(;;){for(var Pn;en!==N||je!==0&&en.nodeType!==3||(It=ze+je),en!==Te||z!==0&&en.nodeType!==3||(Wt=ze+z),en.nodeType===3&&(ze+=en.nodeValue.length),(Pn=en.firstChild)!==null;)qr=en,en=Pn;for(;;){if(en===p)break t;if(qr===N&&++yr===je&&(It=ze),qr===Te&&++Xr===z&&(Wt=ze),(Pn=en.nextSibling)!==null)break;en=qr,qr=en.parentNode}en=Pn}N=It===-1||Wt===-1?null:{start:It,end:Wt}}else N=null}N=N||{start:0,end:0}}else N=null;for(_d={focusedElem:p,selectionRange:N},Re=!1,cn=v;cn!==null;)if(v=cn,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,cn=p;else for(;cn!==null;){v=cn;try{var qn=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(qn!==null){var Zn=qn.memoizedProps,Al=qn.memoizedState,fr=v.stateNode,er=fr.getSnapshotBeforeUpdate(v.elementType===v.type?Zn:Qo(v.type,Zn),Al);fr.__reactInternalSnapshotBeforeUpdate=er}break;case 3:var xr=v.stateNode.containerInfo;xr.nodeType===1?xr.textContent="":xr.nodeType===9&&xr.documentElement&&xr.removeChild(xr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(on){U(v,v.return,on)}if(p=v.sibling,p!==null){p.return=v.return,cn=p;break}cn=v.return}return qn=An,An=!1,qn}function Fa(p,v,N){var z=v.updateQueue;if(z=z!==null?z.lastEffect:null,z!==null){var je=z=z.next;do{if((je.tag&p)===p){var Te=je.destroy;je.destroy=void 0,Te!==void 0&&Rn(v,N,Te)}je=je.next}while(je!==z)}}function fs(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var N=v=v.next;do{if((N.tag&p)===p){var z=N.create;N.destroy=z()}N=N.next}while(N!==v)}}function Ai(p){var v=p.ref;if(v!==null){var N=p.stateNode;switch(p.tag){case 5:p=N;break;default:p=N}typeof v=="function"?v(p):v.current=p}}function Bo(p){var v=p.alternate;v!==null&&(p.alternate=null,Bo(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[No],delete v[Ml],delete v[qu],delete v[xl],delete v[qd])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Zo(p){return p.tag===5||p.tag===3||p.tag===4}function Ri(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Zo(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function el(p,v,N){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?N.nodeType===8?N.parentNode.insertBefore(p,v):N.insertBefore(p,v):(N.nodeType===8?(v=N.parentNode,v.insertBefore(p,N)):(v=N,v.appendChild(p)),N=N._reactRootContainer,N!=null||v.onclick!==null||(v.onclick=Td));else if(z!==4&&(p=p.child,p!==null))for(el(p,v,N),p=p.sibling;p!==null;)el(p,v,N),p=p.sibling}function ul(p,v,N){var z=p.tag;if(z===5||z===6)p=p.stateNode,v?N.insertBefore(p,v):N.appendChild(p);else if(z!==4&&(p=p.child,p!==null))for(ul(p,v,N),p=p.sibling;p!==null;)ul(p,v,N),p=p.sibling}var ms=null,Ga=!1;function gs(p,v,N){for(N=N.child;N!==null;)zi(p,v,N),N=N.sibling}function zi(p,v,N){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Oo,N)}catch{}switch(N.tag){case 5:xn||Ra(N,v);case 6:var z=ms,je=Ga;ms=null,gs(p,v,N),ms=z,Ga=je,ms!==null&&(Ga?(p=ms,N=N.stateNode,p.nodeType===8?p.parentNode.removeChild(N):p.removeChild(N)):ms.removeChild(N.stateNode));break;case 18:ms!==null&&(Ga?(p=ms,N=N.stateNode,p.nodeType===8?Ca(p.parentNode,N):p.nodeType===1&&Ca(p,N),we(p)):Ca(ms,N.stateNode));break;case 4:z=ms,je=Ga,ms=N.stateNode.containerInfo,Ga=!0,gs(p,v,N),ms=z,Ga=je;break;case 0:case 11:case 14:case 15:if(!xn&&(z=N.updateQueue,z!==null&&(z=z.lastEffect,z!==null))){je=z=z.next;do{var Te=je,ze=Te.destroy;Te=Te.tag,ze!==void 0&&((Te&2)!==0||(Te&4)!==0)&&Rn(N,v,ze),je=je.next}while(je!==z)}gs(p,v,N);break;case 1:if(!xn&&(Ra(N,v),z=N.stateNode,typeof z.componentWillUnmount=="function"))try{z.props=N.memoizedProps,z.state=N.memoizedState,z.componentWillUnmount()}catch(It){U(N,v,It)}gs(p,v,N);break;case 21:gs(p,v,N);break;case 22:N.mode&1?(xn=(z=xn)||N.memoizedState!==null,gs(p,v,N),xn=z):gs(p,v,N);break;default:gs(p,v,N)}}function $s(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var N=p.stateNode;N===null&&(N=p.stateNode=new ys),v.forEach(function(z){var je=qe.bind(null,p,z);N.has(z)||(N.add(z),z.then(je,je))})}}function pi(p,v){var N=v.deletions;if(N!==null)for(var z=0;z<N.length;z++){var je=N[z];try{var Te=p,ze=v,It=ze;e:for(;It!==null;){switch(It.tag){case 5:ms=It.stateNode,Ga=!1;break e;case 3:ms=It.stateNode.containerInfo,Ga=!0;break e;case 4:ms=It.stateNode.containerInfo,Ga=!0;break e}It=It.return}if(ms===null)throw Error(n(160));zi(Te,ze,je),ms=null,Ga=!1;var Wt=je.alternate;Wt!==null&&(Wt.return=null),je.return=null}catch(yr){U(je,v,yr)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)fc(v,p),v=v.sibling}function fc(p,v){var N=p.alternate,z=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(pi(v,p),Vs(p),z&4){try{Fa(3,p,p.return),fs(3,p)}catch(Zn){U(p,p.return,Zn)}try{Fa(5,p,p.return)}catch(Zn){U(p,p.return,Zn)}}break;case 1:pi(v,p),Vs(p),z&512&&N!==null&&Ra(N,N.return);break;case 5:if(pi(v,p),Vs(p),z&512&&N!==null&&Ra(N,N.return),p.flags&32){var je=p.stateNode;try{mr(je,"")}catch(Zn){U(p,p.return,Zn)}}if(z&4&&(je=p.stateNode,je!=null)){var Te=p.memoizedProps,ze=N!==null?N.memoizedProps:Te,It=p.type,Wt=p.updateQueue;if(p.updateQueue=null,Wt!==null)try{It==="input"&&Te.type==="radio"&&Te.name!=null&&ke(je,Te),Or(It,ze);var yr=Or(It,Te);for(ze=0;ze<Wt.length;ze+=2){var Xr=Wt[ze],en=Wt[ze+1];Xr==="style"?Ft(je,en):Xr==="dangerouslySetInnerHTML"?Vt(je,en):Xr==="children"?mr(je,en):j(je,Xr,en,yr)}switch(It){case"input":Fe(je,Te);break;case"textarea":yt(je,Te);break;case"select":var qr=je._wrapperState.wasMultiple;je._wrapperState.wasMultiple=!!Te.multiple;var Pn=Te.value;Pn!=null?lt(je,!!Te.multiple,Pn,!1):qr!==!!Te.multiple&&(Te.defaultValue!=null?lt(je,!!Te.multiple,Te.defaultValue,!0):lt(je,!!Te.multiple,Te.multiple?[]:"",!1))}je[Ml]=Te}catch(Zn){U(p,p.return,Zn)}}break;case 6:if(pi(v,p),Vs(p),z&4){if(p.stateNode===null)throw Error(n(162));je=p.stateNode,Te=p.memoizedProps;try{je.nodeValue=Te}catch(Zn){U(p,p.return,Zn)}}break;case 3:if(pi(v,p),Vs(p),z&4&&N!==null&&N.memoizedState.isDehydrated)try{we(v.containerInfo)}catch(Zn){U(p,p.return,Zn)}break;case 4:pi(v,p),Vs(p);break;case 13:pi(v,p),Vs(p),je=p.child,je.flags&8192&&(Te=je.memoizedState!==null,je.stateNode.isHidden=Te,!Te||je.alternate!==null&&je.alternate.memoizedState!==null||(Jc=ha())),z&4&&$s(p);break;case 22:if(Xr=N!==null&&N.memoizedState!==null,p.mode&1?(xn=(yr=xn)||Xr,pi(v,p),xn=yr):pi(v,p),Vs(p),z&8192){if(yr=p.memoizedState!==null,(p.stateNode.isHidden=yr)&&!Xr&&(p.mode&1)!==0)for(cn=p,Xr=p.child;Xr!==null;){for(en=cn=Xr;cn!==null;){switch(qr=cn,Pn=qr.child,qr.tag){case 0:case 11:case 14:case 15:Fa(4,qr,qr.return);break;case 1:Ra(qr,qr.return);var qn=qr.stateNode;if(typeof qn.componentWillUnmount=="function"){z=qr,N=qr.return;try{v=z,qn.props=v.memoizedProps,qn.state=v.memoizedState,qn.componentWillUnmount()}catch(Zn){U(z,N,Zn)}}break;case 5:Ra(qr,qr.return);break;case 22:if(qr.memoizedState!==null){Wo(en);continue}}Pn!==null?(Pn.return=qr,cn=Pn):Wo(en)}Xr=Xr.sibling}e:for(Xr=null,en=p;;){if(en.tag===5){if(Xr===null){Xr=en;try{je=en.stateNode,yr?(Te=je.style,typeof Te.setProperty=="function"?Te.setProperty("display","none","important"):Te.display="none"):(It=en.stateNode,Wt=en.memoizedProps.style,ze=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null,It.style.display=Ge("display",ze))}catch(Zn){U(p,p.return,Zn)}}}else if(en.tag===6){if(Xr===null)try{en.stateNode.nodeValue=yr?"":en.memoizedProps}catch(Zn){U(p,p.return,Zn)}}else if((en.tag!==22&&en.tag!==23||en.memoizedState===null||en===p)&&en.child!==null){en.child.return=en,en=en.child;continue}if(en===p)break e;for(;en.sibling===null;){if(en.return===null||en.return===p)break e;Xr===en&&(Xr=null),en=en.return}Xr===en&&(Xr=null),en.sibling.return=en.return,en=en.sibling}}break;case 19:pi(v,p),Vs(p),z&4&&$s(p);break;case 21:break;default:pi(v,p),Vs(p)}}function Vs(p){var v=p.flags;if(v&2){try{e:{for(var N=p.return;N!==null;){if(Zo(N)){var z=N;break e}N=N.return}throw Error(n(160))}switch(z.tag){case 5:var je=z.stateNode;z.flags&32&&(mr(je,""),z.flags&=-33);var Te=Ri(p);ul(p,Te,je);break;case 3:case 4:var ze=z.stateNode.containerInfo,It=Ri(p);el(p,It,ze);break;default:throw Error(n(161))}}catch(Wt){U(p,p.return,Wt)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function wl(p,v,N){cn=p,ai(p)}function ai(p,v,N){for(var z=(p.mode&1)!==0;cn!==null;){var je=cn,Te=je.child;if(je.tag===22&&z){var ze=je.memoizedState!==null||$a;if(!ze){var It=je.alternate,Wt=It!==null&&It.memoizedState!==null||xn;It=$a;var yr=xn;if($a=ze,(xn=Wt)&&!yr)for(cn=je;cn!==null;)ze=cn,Wt=ze.child,ze.tag===22&&ze.memoizedState!==null?$o(je):Wt!==null?(Wt.return=ze,cn=Wt):$o(je);for(;Te!==null;)cn=Te,ai(Te),Te=Te.sibling;cn=je,$a=It,xn=yr}tn(p)}else(je.subtreeFlags&8772)!==0&&Te!==null?(Te.return=je,cn=Te):tn(p)}}function tn(p){for(;cn!==null;){var v=cn;if((v.flags&8772)!==0){var N=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:xn||fs(5,v);break;case 1:var z=v.stateNode;if(v.flags&4&&!xn)if(N===null)z.componentDidMount();else{var je=v.elementType===v.type?N.memoizedProps:Qo(v.type,N.memoizedProps);z.componentDidUpdate(je,N.memoizedState,z.__reactInternalSnapshotBeforeUpdate)}var Te=v.updateQueue;Te!==null&&wu(v,Te,z);break;case 3:var ze=v.updateQueue;if(ze!==null){if(N=null,v.child!==null)switch(v.child.tag){case 5:N=v.child.stateNode;break;case 1:N=v.child.stateNode}wu(v,ze,N)}break;case 5:var It=v.stateNode;if(N===null&&v.flags&4){N=It;var Wt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Wt.autoFocus&&N.focus();break;case"img":Wt.src&&(N.src=Wt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var yr=v.alternate;if(yr!==null){var Xr=yr.memoizedState;if(Xr!==null){var en=Xr.dehydrated;en!==null&&we(en)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||v.flags&512&&Ai(v)}catch(qr){U(v,v.return,qr)}}if(v===p){cn=null;break}if(N=v.sibling,N!==null){N.return=v.return,cn=N;break}cn=v.return}}function Wo(p){for(;cn!==null;){var v=cn;if(v===p){cn=null;break}var N=v.sibling;if(N!==null){N.return=v.return,cn=N;break}cn=v.return}}function $o(p){for(;cn!==null;){var v=cn;try{switch(v.tag){case 0:case 11:case 15:var N=v.return;try{fs(4,v)}catch(Wt){U(v,N,Wt)}break;case 1:var z=v.stateNode;if(typeof z.componentDidMount=="function"){var je=v.return;try{z.componentDidMount()}catch(Wt){U(v,je,Wt)}}var Te=v.return;try{Ai(v)}catch(Wt){U(v,Te,Wt)}break;case 5:var ze=v.return;try{Ai(v)}catch(Wt){U(v,ze,Wt)}}}catch(Wt){U(v,v.return,Wt)}if(v===p){cn=null;break}var It=v.sibling;if(It!==null){It.return=v.return,cn=It;break}cn=v.return}}var Li=Math.ceil,Cl=S.ReactCurrentDispatcher,Ha=S.ReactCurrentOwner,Pa=S.ReactCurrentBatchConfig,Gn=0,zs=null,Is=null,Gi=0,Ui=0,ro=Rl(0),no=0,Tu=null,Dd=0,Zd=0,_A=0,Nh=null,hl=null,Jc=0,nh=1/0,eu=null,sf=!1,$f=null,md=null,of=!1,Zc=null,tl=0,ku=0,Md=null,lf=-1,Vf=0;function Io(){return(Gn&6)!==0?ha():lf!==-1?lf:lf=ha()}function Ac(p){return(p.mode&1)===0?1:(Gn&2)!==0&&Gi!==0?Gi&-Gi:ja.transition!==null?(Vf===0&&(Vf=uo()),Vf):(p=pa,p!==0||(p=window.event,p=p===void 0?16:bt(p.type)),p)}function Nl(p,v,N,z){if(50<ku)throw ku=0,Md=null,Error(n(185));_s(p,N,z),((Gn&2)===0||p!==zs)&&(p===zs&&((Gn&2)===0&&(Zd|=N),no===4&&Mc(p,Gi)),go(p,z),N===1&&Gn===0&&(v.mode&1)===0&&(nh=ha()+500,$e&&Sr()))}function go(p,v){var N=p.callbackNode;Po(p,v);var z=ji(p,p===zs?Gi:0);if(z===0)N!==null&&Tl(N),p.callbackNode=null,p.callbackPriority=0;else if(v=z&-z,p.callbackPriority!==v){if(N!=null&&Tl(N),v===1)p.tag===0?nr(PA.bind(null,p)):Rt(PA.bind(null,p)),Ku(function(){(Gn&6)===0&&Sr()}),N=null;else{switch(Ws(z)){case 1:N=rs;break;case 4:N=ko;break;case 16:N=Yi;break;case 536870912:N=al;break;default:N=Yi}N=ft(N,_u.bind(null,p))}p.callbackPriority=v,p.callbackNode=N}}function _u(p,v){if(lf=-1,Vf=0,(Gn&6)!==0)throw Error(n(327));var N=p.callbackNode;if(F()&&p.callbackNode!==N)return null;var z=ji(p,p===zs?Gi:0);if(z===0)return null;if((z&30)!==0||(z&p.expiredLanes)!==0||v)v=ed(p,z);else{v=z;var je=Gn;Gn|=2;var Te=qf();(zs!==p||Gi!==v)&&(eu=null,nh=ha()+500,sh(p,v));do try{Fu();break}catch(It){Sh(p,It)}while(!0);ca(),Cl.current=Te,Gn=je,Is!==null?v=0:(zs=null,Gi=0,v=no)}if(v!==0){if(v===2&&(je=Ds(p),je!==0&&(z=je,v=zf(p,je))),v===1)throw N=Tu,sh(p,0),Mc(p,z),go(p,ha()),N;if(v===6)Mc(p,z);else{if(je=p.current.alternate,(z&30)===0&&!FA(je)&&(v=ed(p,z),v===2&&(Te=Ds(p),Te!==0&&(z=Te,v=zf(p,Te))),v===1))throw N=Tu,sh(p,0),Mc(p,z),go(p,ha()),N;switch(p.finishedWork=je,p.finishedLanes=z,v){case 0:case 1:throw Error(n(345));case 2:Pu(p,hl,eu);break;case 3:if(Mc(p,z),(z&130023424)===z&&(v=Jc+500-ha(),10<v)){if(ji(p,0)!==0)break;if(je=p.suspendedLanes,(je&z)!==z){Io(),p.pingedLanes|=p.suspendedLanes&je;break}p.timeoutHandle=Dl(Pu.bind(null,p,hl,eu),v);break}Pu(p,hl,eu);break;case 4:if(Mc(p,z),(z&4194240)===z)break;for(v=p.eventTimes,je=-1;0<z;){var ze=31-ns(z);Te=1<<ze,ze=v[ze],ze>je&&(je=ze),z&=~Te}if(z=je,z=ha()-z,z=(120>z?120:480>z?480:1080>z?1080:1920>z?1920:3e3>z?3e3:4320>z?4320:1960*Li(z/1960))-z,10<z){p.timeoutHandle=Dl(Pu.bind(null,p,hl,eu),z);break}Pu(p,hl,eu);break;case 5:Pu(p,hl,eu);break;default:throw Error(n(329))}}}return go(p,ha()),p.callbackNode===N?_u.bind(null,p):null}function zf(p,v){var N=Nh;return p.current.memoizedState.isDehydrated&&(sh(p,v).flags|=256),p=ed(p,v),p!==2&&(v=hl,hl=N,v!==null&&OA(v)),p}function OA(p){hl===null?hl=p:hl.push.apply(hl,p)}function FA(p){for(var v=p;;){if(v.flags&16384){var N=v.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var z=0;z<N.length;z++){var je=N[z],Te=je.getSnapshot;je=je.value;try{if(!Di(Te(),je))return!1}catch{return!1}}}if(N=v.child,v.subtreeFlags&16384&&N!==null)N.return=v,v=N;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Mc(p,v){for(v&=~_A,v&=~Zd,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var N=31-ns(v),z=1<<N;p[N]=-1,v&=~z}}function PA(p){if((Gn&6)!==0)throw Error(n(327));F();var v=ji(p,0);if((v&1)===0)return go(p,ha()),null;var N=ed(p,v);if(p.tag!==0&&N===2){var z=Ds(p);z!==0&&(v=z,N=zf(p,z))}if(N===1)throw N=Tu,sh(p,0),Mc(p,v),go(p,ha()),N;if(N===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,Pu(p,hl,eu),go(p,ha()),null}function Gf(p,v){var N=Gn;Gn|=1;try{return p(v)}finally{Gn=N,Gn===0&&(nh=ha()+500,$e&&Sr())}}function ah(p){Zc!==null&&Zc.tag===0&&(Gn&6)===0&&F();var v=Gn;Gn|=1;var N=Pa.transition,z=pa;try{if(Pa.transition=null,pa=1,p)return p()}finally{pa=z,Pa.transition=N,Gn=v,(Gn&6)===0&&Sr()}}function Kf(){Ui=ro.current,ds(ro)}function sh(p,v){p.finishedWork=null,p.finishedLanes=0;var N=p.timeoutHandle;if(N!==-1&&(p.timeoutHandle=-1,Vh(N)),Is!==null)for(N=Is.return;N!==null;){var z=N;switch(oe(z),z.tag){case 1:z=z.type.childContextTypes,z!=null&&oc();break;case 3:fi(),ds(Mi),ds(Ni),Kh();break;case 5:fd(z);break;case 4:fi();break;case 13:ds(ni);break;case 19:ds(ni);break;case 10:So(z.type._context);break;case 22:case 23:Kf()}N=N.return}if(zs=p,Is=p=yn(p.current,null),Gi=Ui=v,no=0,Tu=null,_A=Zd=Dd=0,hl=Nh=null,cc!==null){for(v=0;v<cc.length;v++)if(N=cc[v],z=N.interleaved,z!==null){N.interleaved=null;var je=z.next,Te=N.pending;if(Te!==null){var ze=Te.next;Te.next=je,z.next=ze}N.pending=z}cc=null}return p}function Sh(p,v){do{var N=Is;try{if(ca(),yh.current=Hl,Xh){for(var z=Si.memoizedState;z!==null;){var je=z.queue;je!==null&&(je.pending=null),z=z.next}Xh=!1}if(Yd=0,to=Eo=Si=null,ll=!1,Nu=0,Ha.current=null,N===null||N.return===null){no=1,Tu=v,Is=null;break}e:{var Te=p,ze=N.return,It=N,Wt=v;if(v=Gi,It.flags|=32768,Wt!==null&&typeof Wt=="object"&&typeof Wt.then=="function"){var yr=Wt,Xr=It,en=Xr.tag;if((Xr.mode&1)===0&&(en===0||en===11||en===15)){var qr=Xr.alternate;qr?(Xr.updateQueue=qr.updateQueue,Xr.memoizedState=qr.memoizedState,Xr.lanes=qr.lanes):(Xr.updateQueue=null,Xr.memoizedState=null)}var Pn=BA(ze);if(Pn!==null){Pn.flags&=-257,IA(Pn,ze,It,Te,v),Pn.mode&1&&Ep(Te,yr,v),v=Pn,Wt=yr;var qn=v.updateQueue;if(qn===null){var Zn=new Set;Zn.add(Wt),v.updateQueue=Zn}else qn.add(Wt);break e}else{if((v&1)===0){Ep(Te,yr,v),Eh();break e}Wt=Error(n(426))}}else if(ht&&It.mode&1){var Al=BA(ze);if(Al!==null){(Al.flags&65536)===0&&(Al.flags|=256),IA(Al,ze,It,Te,v),Rs(Eu(Wt,It));break e}}Te=Wt=Eu(Wt,It),no!==4&&(no=2),Nh===null?Nh=[Te]:Nh.push(Te),Te=ze;do{switch(Te.tag){case 3:Te.flags|=65536,v&=-v,Te.lanes|=v;var fr=wh(Te,Wt,v);Xd(Te,fr);break e;case 1:It=Wt;var er=Te.type,xr=Te.stateNode;if((Te.flags&128)===0&&(typeof er.getDerivedStateFromError=="function"||xr!==null&&typeof xr.componentDidCatch=="function"&&(md===null||!md.has(xr)))){Te.flags|=65536,v&=-v,Te.lanes|=v;var on=Uf(Te,It,v);Xd(Te,on);break e}}Te=Te.return}while(Te!==null)}Xf(N)}catch(na){v=na,Is===N&&N!==null&&(Is=N=N.return);continue}break}while(!0)}function qf(){var p=Cl.current;return Cl.current=Hl,p===null?Hl:p}function Eh(){(no===0||no===3||no===2)&&(no=4),zs===null||(Dd&268435455)===0&&(Zd&268435455)===0||Mc(zs,Gi)}function ed(p,v){var N=Gn;Gn|=2;var z=qf();(zs!==p||Gi!==v)&&(eu=null,sh(p,v));do try{Ou();break}catch(je){Sh(p,je)}while(!0);if(ca(),Gn=N,Cl.current=z,Is!==null)throw Error(n(261));return zs=null,Gi=0,no}function Ou(){for(;Is!==null;)cf(Is)}function Fu(){for(;Is!==null&&!Hs();)cf(Is)}function cf(p){var v=At(p.alternate,p,Ui);p.memoizedProps=p.pendingProps,v===null?Xf(p):Is=v,Ha.current=null}function Xf(p){var v=p;do{var N=v.alternate;if(p=v.return,(v.flags&32768)===0){if(N=Jn(N,v,Ui),N!==null){Is=N;return}}else{if(N=kn(N,v),N!==null){N.flags&=32767,Is=N;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{no=6,Is=null;return}}if(v=v.sibling,v!==null){Is=v;return}Is=v=p}while(v!==null);no===0&&(no=5)}function Pu(p,v,N){var z=pa,je=Pa.transition;try{Pa.transition=null,pa=1,$m(p,v,N,z)}finally{Pa.transition=je,pa=z}return null}function $m(p,v,N,z){do F();while(Zc!==null);if((Gn&6)!==0)throw Error(n(327));N=p.finishedWork;var je=p.finishedLanes;if(N===null)return null;if(p.finishedWork=null,p.finishedLanes=0,N===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Te=N.lanes|N.childLanes;if(bo(p,Te),p===zs&&(Is=zs=null,Gi=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||of||(of=!0,ft(Yi,function(){return F(),null})),Te=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||Te){Te=Pa.transition,Pa.transition=null;var ze=pa;pa=1;var It=Gn;Gn|=4,Ha.current=null,mo(p,N),fc(N,p),Ic(_d),Re=!!kd,_d=kd=null,p.current=N,wl(N),jo(),Gn=It,pa=ze,Pa.transition=Te}else p.current=N;if(of&&(of=!1,Zc=p,tl=je),Te=p.pendingLanes,Te===0&&(md=null),ws(N.stateNode),go(p,ha()),v!==null)for(z=p.onRecoverableError,N=0;N<v.length;N++)je=v[N],z(je.value,{componentStack:je.stack,digest:je.digest});if(sf)throw sf=!1,p=$f,$f=null,p;return(tl&1)!==0&&p.tag!==0&&F(),Te=p.pendingLanes,(Te&1)!==0?p===Md?ku++:(ku=0,Md=p):ku=0,Sr(),null}function F(){if(Zc!==null){var p=Ws(tl),v=Pa.transition,N=pa;try{if(Pa.transition=null,pa=16>p?16:p,Zc===null)var z=!1;else{if(p=Zc,Zc=null,tl=0,(Gn&6)!==0)throw Error(n(331));var je=Gn;for(Gn|=4,cn=p.current;cn!==null;){var Te=cn,ze=Te.child;if((cn.flags&16)!==0){var It=Te.deletions;if(It!==null){for(var Wt=0;Wt<It.length;Wt++){var yr=It[Wt];for(cn=yr;cn!==null;){var Xr=cn;switch(Xr.tag){case 0:case 11:case 15:Fa(8,Xr,Te)}var en=Xr.child;if(en!==null)en.return=Xr,cn=en;else for(;cn!==null;){Xr=cn;var qr=Xr.sibling,Pn=Xr.return;if(Bo(Xr),Xr===yr){cn=null;break}if(qr!==null){qr.return=Pn,cn=qr;break}cn=Pn}}}var qn=Te.alternate;if(qn!==null){var Zn=qn.child;if(Zn!==null){qn.child=null;do{var Al=Zn.sibling;Zn.sibling=null,Zn=Al}while(Zn!==null)}}cn=Te}}if((Te.subtreeFlags&2064)!==0&&ze!==null)ze.return=Te,cn=ze;else e:for(;cn!==null;){if(Te=cn,(Te.flags&2048)!==0)switch(Te.tag){case 0:case 11:case 15:Fa(9,Te,Te.return)}var fr=Te.sibling;if(fr!==null){fr.return=Te.return,cn=fr;break e}cn=Te.return}}var er=p.current;for(cn=er;cn!==null;){ze=cn;var xr=ze.child;if((ze.subtreeFlags&2064)!==0&&xr!==null)xr.return=ze,cn=xr;else e:for(ze=er;cn!==null;){if(It=cn,(It.flags&2048)!==0)try{switch(It.tag){case 0:case 11:case 15:fs(9,It)}}catch(na){U(It,It.return,na)}if(It===ze){cn=null;break e}var on=It.sibling;if(on!==null){on.return=It.return,cn=on;break e}cn=It.return}}if(Gn=je,Sr(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Oo,p)}catch{}z=!0}return z}finally{pa=N,Pa.transition=v}}return!1}function T(p,v,N){v=Eu(N,v),v=wh(p,v,1),p=qc(p,v,1),v=Io(),p!==null&&(_s(p,1,v),go(p,v))}function U(p,v,N){if(p.tag===3)T(p,p,N);else for(;v!==null;){if(v.tag===3){T(v,p,N);break}else if(v.tag===1){var z=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(md===null||!md.has(z))){p=Eu(N,p),p=Uf(v,p,1),v=qc(v,p,1),p=Io(),v!==null&&(_s(v,1,p),go(v,p));break}}v=v.return}}function H(p,v,N){var z=p.pingCache;z!==null&&z.delete(v),v=Io(),p.pingedLanes|=p.suspendedLanes&N,zs===p&&(Gi&N)===N&&(no===4||no===3&&(Gi&130023424)===Gi&&500>ha()-Jc?sh(p,0):_A|=N),go(p,v)}function Ee(p,v){v===0&&((p.mode&1)===0?v=1:(v=zn,zn<<=1,(zn&130023424)===0&&(zn=4194304)));var N=Io();p=Jo(p,v),p!==null&&(_s(p,v,N),go(p,N))}function Me(p){var v=p.memoizedState,N=0;v!==null&&(N=v.retryLane),Ee(p,N)}function qe(p,v){var N=0;switch(p.tag){case 13:var z=p.stateNode,je=p.memoizedState;je!==null&&(N=je.retryLane);break;case 19:z=p.stateNode;break;default:throw Error(n(314))}z!==null&&z.delete(v),Ee(p,N)}var At;At=function(p,v,N){if(p!==null)if(p.memoizedProps!==v.pendingProps||Mi.current)Ql=!0;else{if((p.lanes&N)===0&&(v.flags&128)===0)return Ql=!1,sr(p,v,N);Ql=(p.flags&131072)!==0}else Ql=!1,ht&&(v.flags&1048576)!==0&&_(v,Aa,v.index);switch(v.lanes=0,v.tag){case 2:var z=v.type;vt(p,v),p=v.pendingProps;var je=ud(v,Ni.current);Uo(v,N),je=kf(null,v,z,p,je,N);var Te=_f();return v.flags|=1,typeof je=="object"&&je!==null&&typeof je.render=="function"&&je.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Lo(z)?(Te=!0,Kc(v)):Te=!1,v.memoizedState=je.state!==null&&je.state!==void 0?je.state:null,Ju(v),je.updater=th,v.stateNode=je,je._reactInternals=v,Lf(v,z,p,N),v=O(null,v,z,!0,Te,N)):(v.tag=0,ht&&Te&&He(v),bl(null,v,je,N),v=v.child),v;case 16:z=v.elementType;e:{switch(vt(p,v),p=v.pendingProps,je=z._init,z=je(z._payload),v.type=z,je=v.tag=Ir(z),p=Qo(z,p),je){case 0:v=Ch(null,v,z,p,N);break e;case 1:v=Wf(null,v,z,p,N);break e;case 11:v=Hf(null,v,z,p,N);break e;case 14:v=kA(null,v,z,Qo(z.type,p),N);break e}throw Error(n(306,z,""))}return v;case 0:return z=v.type,je=v.pendingProps,je=v.elementType===z?je:Qo(z,je),Ch(p,v,z,je,N);case 1:return z=v.type,je=v.pendingProps,je=v.elementType===z?je:Qo(z,je),Wf(p,v,z,je,N);case 3:e:{if(ee(v),p===null)throw Error(n(387));z=v.pendingProps,Te=v.memoizedState,je=Te.element,xh(p,v),hd(v,z,null,N);var ze=v.memoizedState;if(z=ze.element,Te.isDehydrated)if(Te={element:z,isDehydrated:!1,cache:ze.cache,pendingSuspenseBoundaries:ze.pendingSuspenseBoundaries,transitions:ze.transitions},v.updateQueue.baseState=Te,v.memoizedState=Te,v.flags&256){je=Eu(Error(n(423)),v),v=Se(p,v,z,N,je);break e}else if(z!==je){je=Eu(Error(n(424)),v),v=Se(p,v,z,N,je);break e}else for(gt=zc(v.stateNode.containerInfo.firstChild),Ze=v,ht=!0,or=null,N=ri(v,null,z,N),v.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Er(),z===je){v=zt(p,v,N);break e}bl(p,v,z,N)}v=v.child}return v;case 5:return Ao(v),p===null&&hr(v),z=v.type,je=v.pendingProps,Te=p!==null?p.memoizedProps:null,ze=je.children,ju(z,je)?ze=null:Te!==null&&ju(z,Te)&&(v.flags|=32),af(p,v),bl(p,v,ze,N),v.child;case 6:return p===null&&hr(v),null;case 13:return Xe(p,v,N);case 4:return Ls(v,v.stateNode.containerInfo),z=v.pendingProps,p===null?v.child=Ba(v,null,z,N):bl(p,v,z,N),v.child;case 11:return z=v.type,je=v.pendingProps,je=v.elementType===z?je:Qo(z,je),Hf(p,v,z,je,N);case 7:return bl(p,v,v.pendingProps,N),v.child;case 8:return bl(p,v,v.pendingProps.children,N),v.child;case 12:return bl(p,v,v.pendingProps.children,N),v.child;case 10:e:{if(z=v.type._context,je=v.pendingProps,Te=v.memoizedProps,ze=je.value,Bs(Yn,z._currentValue),z._currentValue=ze,Te!==null)if(Di(Te.value,ze)){if(Te.children===je.children&&!Mi.current){v=zt(p,v,N);break e}}else for(Te=v.child,Te!==null&&(Te.return=v);Te!==null;){var It=Te.dependencies;if(It!==null){ze=Te.child;for(var Wt=It.firstContext;Wt!==null;){if(Wt.context===z){if(Te.tag===1){Wt=Pc(-1,N&-N),Wt.tag=2;var yr=Te.updateQueue;if(yr!==null){yr=yr.shared;var Xr=yr.pending;Xr===null?Wt.next=Wt:(Wt.next=Xr.next,Xr.next=Wt),yr.pending=Wt}}Te.lanes|=N,Wt=Te.alternate,Wt!==null&&(Wt.lanes|=N),lc(Te.return,N,v),It.lanes|=N;break}Wt=Wt.next}}else if(Te.tag===10)ze=Te.type===v.type?null:Te.child;else if(Te.tag===18){if(ze=Te.return,ze===null)throw Error(n(341));ze.lanes|=N,It=ze.alternate,It!==null&&(It.lanes|=N),lc(ze,N,v),ze=Te.sibling}else ze=Te.child;if(ze!==null)ze.return=Te;else for(ze=Te;ze!==null;){if(ze===v){ze=null;break}if(Te=ze.sibling,Te!==null){Te.return=ze.return,ze=Te;break}ze=ze.return}Te=ze}bl(p,v,je.children,N),v=v.child}return v;case 9:return je=v.type,z=v.pendingProps.children,Uo(v,N),je=fo(je),z=z(je),v.flags|=1,bl(p,v,z,N),v.child;case 14:return z=v.type,je=Qo(z,v.pendingProps),je=Qo(z.type,je),kA(p,v,z,je,N);case 15:return Qf(p,v,v.type,v.pendingProps,N);case 17:return z=v.type,je=v.pendingProps,je=v.elementType===z?je:Qo(z,je),vt(p,v),v.tag=1,Lo(z)?(p=!0,Kc(v)):p=!1,Uo(v,N),Rf(v,z,je),Lf(v,z,je,N),O(null,v,z,!0,p,N);case 19:return cr(p,v,N);case 22:return nf(p,v,N)}throw Error(n(156,v.tag))};function ft(p,v){return Ec(p,v)}function Gt(p,v,N,z){this.tag=p,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(p,v,N,z){return new Gt(p,v,N,z)}function lr(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Ir(p){if(typeof p=="function")return lr(p)?1:0;if(p!=null){if(p=p.$$typeof,p===le)return 11;if(p===$)return 14}return 2}function yn(p,v){var N=p.alternate;return N===null?(N=qt(p.tag,v,p.key,p.mode),N.elementType=p.elementType,N.type=p.type,N.stateNode=p.stateNode,N.alternate=p,p.alternate=N):(N.pendingProps=v,N.type=p.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=p.flags&14680064,N.childLanes=p.childLanes,N.lanes=p.lanes,N.child=p.child,N.memoizedProps=p.memoizedProps,N.memoizedState=p.memoizedState,N.updateQueue=p.updateQueue,v=p.dependencies,N.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},N.sibling=p.sibling,N.index=p.index,N.ref=p.ref,N}function nn(p,v,N,z,je,Te){var ze=2;if(z=p,typeof p=="function")lr(p)&&(ze=1);else if(typeof p=="string")ze=5;else e:switch(p){case I:return gn(N.children,je,Te,v);case L:ze=8,je|=8;break;case Z:return p=qt(12,N,v,je|2),p.elementType=Z,p.lanes=Te,p;case V:return p=qt(13,N,v,je),p.elementType=V,p.lanes=Te,p;case me:return p=qt(19,N,v,je),p.elementType=me,p.lanes=Te,p;case Ce:return Za(N,je,Te,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case ne:ze=10;break e;case G:ze=9;break e;case le:ze=11;break e;case $:ze=14;break e;case X:ze=16,z=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return v=qt(ze,N,v,je),v.elementType=p,v.type=z,v.lanes=Te,v}function gn(p,v,N,z){return p=qt(7,p,z,v),p.lanes=N,p}function Za(p,v,N,z){return p=qt(22,p,z,v),p.elementType=Ce,p.lanes=N,p.stateNode={isHidden:!1},p}function Kn(p,v,N){return p=qt(6,p,null,v),p.lanes=N,p}function Un(p,v,N){return v=qt(4,p.children!==null?p.children:[],p.key,v),v.lanes=N,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Gs(p,v,N,z,je){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ys(0),this.expirationTimes=Ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.identifierPrefix=z,this.onRecoverableError=je,this.mutableSourceEagerHydrationData=null}function as(p,v,N,z,je,Te,ze,It,Wt){return p=new Gs(p,v,N,It,Wt),v===1?(v=1,Te===!0&&(v|=8)):v=0,Te=qt(3,null,null,v),p.current=Te,Te.stateNode=p,Te.memoizedState={element:z,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(Te),p}function Qa(p,v,N){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:z==null?null:""+z,children:p,containerInfo:v,implementation:N}}function En(p){if(!p)return Ll;p=p._reactInternals;e:{if(ts(p)!==p||p.tag!==1)throw Error(n(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Lo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(n(171))}if(p.tag===1){var N=p.type;if(Lo(N))return Xu(p,N,v)}return v}function Ts(p,v,N,z,je,Te,ze,It,Wt){return p=as(N,z,!0,p,je,Te,ze,It,Wt),p.context=En(null),N=p.current,z=Io(),je=Ac(N),Te=Pc(z,je),Te.callback=v??null,qc(N,Te,je),p.current.lanes=je,_s(p,je,z),go(p,z),p}function js(p,v,N,z){var je=v.current,Te=Io(),ze=Ac(je);return N=En(N),v.context===null?v.context=N:v.pendingContext=N,v=Pc(Te,ze),v.payload={element:p},z=z===void 0?null:z,z!==null&&(v.callback=z),p=qc(je,v,ze),p!==null&&(Nl(p,je,ze,Te),Xc(p,je,ze)),ze}function Da(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function Vo(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var N=p.retryLane;p.retryLane=N!==0&&N<v?N:v}}function pc(p,v){Vo(p,v),(p=p.alternate)&&Vo(p,v)}function gd(){return null}var mi=typeof reportError=="function"?reportError:function(p){console.error(p)};function fl(p){this._internalRoot=p}tu.prototype.render=fl.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(n(409));js(p,v,null,null)},tu.prototype.unmount=fl.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;ah(function(){js(null,p,null,null)}),v[sc]=null}};function tu(p){this._internalRoot=p}tu.prototype.unstable_scheduleHydration=function(p){if(p){var v=Mo();p={blockedOn:null,target:p,priority:v};for(var N=0;N<De.length&&v!==0&&v<De[N].priority;N++);De.splice(N,0,p),N===0&&P(p)}};function mc(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Wl(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function Du(p,v,N,z,je){if(je){if(typeof z=="function"){var Te=z;z=function(){var yr=Da(ze);Te.call(yr)}}var ze=Ts(v,z,p,0,null,!1,!1,"",Bh);return p._reactRootContainer=ze,p[sc]=ze.current,ki(p.nodeType===8?p.parentNode:p),ah(),ze}for(;je=p.lastChild;)p.removeChild(je);if(typeof z=="function"){var It=z;z=function(){var yr=Da(Wt);It.call(yr)}}var Wt=as(p,0,!1,null,null,!1,!1,"",Bh);return p._reactRootContainer=Wt,p[sc]=Wt.current,ki(p.nodeType===8?p.parentNode:p),ah(function(){js(v,Wt,N,z)}),Wt}function ru(p,v,N,z,je){var Te=N._reactRootContainer;if(Te){var ze=Te;if(typeof je=="function"){var It=je;je=function(){var Wt=Da(ze);It.call(Wt)}}js(v,ze,p,je)}else ze=Du(N,v,p,je,z);return Da(ze)}wi=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var N=Qs(v.pendingLanes);N!==0&&(Do(v,N|1),go(v,ha()),(Gn&6)===0&&(nh=ha()+500,Sr()))}break;case 13:ah(function(){var z=Jo(p,1);if(z!==null){var je=Io();Nl(z,p,1,je)}}),pc(p,1)}},Ji=function(p){if(p.tag===13){var v=Jo(p,134217728);if(v!==null){var N=Io();Nl(v,p,134217728,N)}pc(p,134217728)}},Pi=function(p){if(p.tag===13){var v=Ac(p),N=Jo(p,v);if(N!==null){var z=Io();Nl(N,p,v,z)}pc(p,v)}},Mo=function(){return pa},Kt=function(p,v){var N=pa;try{return pa=p,v()}finally{pa=N}},Bn=function(p,v,N){switch(v){case"input":if(Fe(p,N),v=N.name,N.type==="radio"&&v!=null){for(N=p;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<N.length;v++){var z=N[v];if(z!==p&&z.form===p.form){var je=bu(z);if(!je)throw Error(n(90));ye(z),Fe(z,je)}}}break;case"textarea":yt(p,N);break;case"select":v=N.value,v!=null&&lt(p,!!N.multiple,v,!1)}},da=Gf,ci=ah;var df={usingClientEntryPoint:!1,Events:[Fd,yl,bu,sn,Ln,Gf]},nu={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ih={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=yi(p),p===null?null:p.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||gd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Oo=Mu.inject(ih),Wi=Mu}catch{}}return Rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=df,Rd.createPortal=function(p,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(v))throw Error(n(200));return Qa(p,v,null,N)},Rd.createRoot=function(p,v){if(!mc(p))throw Error(n(299));var N=!1,z="",je=mi;return v!=null&&(v.unstable_strictMode===!0&&(N=!0),v.identifierPrefix!==void 0&&(z=v.identifierPrefix),v.onRecoverableError!==void 0&&(je=v.onRecoverableError)),v=as(p,1,!1,null,null,N,!1,z,je),p[sc]=v.current,ki(p.nodeType===8?p.parentNode:p),new fl(v)},Rd.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=yi(v),p=p===null?null:p.stateNode,p},Rd.flushSync=function(p){return ah(p)},Rd.hydrate=function(p,v,N){if(!Wl(v))throw Error(n(200));return ru(null,p,v,!0,N)},Rd.hydrateRoot=function(p,v,N){if(!mc(p))throw Error(n(405));var z=N!=null&&N.hydratedSources||null,je=!1,Te="",ze=mi;if(N!=null&&(N.unstable_strictMode===!0&&(je=!0),N.identifierPrefix!==void 0&&(Te=N.identifierPrefix),N.onRecoverableError!==void 0&&(ze=N.onRecoverableError)),v=Ts(v,null,p,1,N??null,je,!1,Te,ze),p[sc]=v.current,ki(p),z)for(p=0;p<z.length;p++)N=z[p],je=N._getVersion,je=je(N._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[N,je]:v.mutableSourceEagerHydrationData.push(N,je);return new tu(v)},Rd.render=function(p,v,N){if(!Wl(v))throw Error(n(200));return ru(null,p,v,!1,N)},Rd.unmountComponentAtNode=function(p){if(!Wl(p))throw Error(n(40));return p._reactRootContainer?(ah(function(){ru(null,null,p,!1,function(){p._reactRootContainer=null,p[sc]=null})}),!0):!1},Rd.unstable_batchedUpdates=Gf,Rd.unstable_renderSubtreeIntoContainer=function(p,v,N,z){if(!Wl(N))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return ru(p,v,N,!1,z)},Rd.version="18.3.1-next-f1338f8080-20240426",Rd}var HS;function v_(){if(HS)return F2.exports;HS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),F2.exports=XD(),F2.exports}var QS;function YD(){if(QS)return l0;QS=1;var r=v_();return l0.createRoot=r.createRoot,l0.hydrateRoot=r.hydrateRoot,l0}var JD=YD();const ZD=Zs(JD);var Wc=v_();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i1(){return i1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},i1.apply(this,arguments)}var oA;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(oA||(oA={}));const WS="popstate";function eM(r){r===void 0&&(r={});function t(a,s){let{pathname:i,search:c,hash:o}=a.location;return TC("",{pathname:i,search:c,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Fv(s)}return rM(t,n,null,r)}function ml(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function A4(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tM(){return Math.random().toString(36).substr(2,8)}function $S(r,t){return{usr:r.state,key:r.key,idx:t}}function TC(r,t,n,a){return n===void 0&&(n=null),i1({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Im(t):t,{state:n,key:t&&t.key||a||tM()})}function Fv(r){let{pathname:t="/",search:n="",hash:a=""}=r;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Im(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substr(n),r=r.substr(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substr(a),r=r.substr(0,a)),r&&(t.pathname=r)}return t}function rM(r,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,c=s.history,o=oA.Pop,d=null,l=u();l==null&&(l=0,c.replaceState(i1({},c.state,{idx:l}),""));function u(){return(c.state||{idx:null}).idx}function h(){o=oA.Pop;let x=u(),y=x==null?null:x-l;l=x,d&&d({action:o,location:m.location,delta:y})}function f(x,y){o=oA.Push;let b=TC(m.location,x,y);l=u()+1;let j=$S(b,l),S=m.createHref(b);try{c.pushState(j,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&d&&d({action:o,location:m.location,delta:1})}function A(x,y){o=oA.Replace;let b=TC(m.location,x,y);l=u();let j=$S(b,l),S=m.createHref(b);c.replaceState(j,"",S),i&&d&&d({action:o,location:m.location,delta:0})}function g(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:Fv(x);return b=b.replace(/ $/,"%20"),ml(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return r(s,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(WS,h),d=x,()=>{s.removeEventListener(WS,h),d=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:A,go(x){return c.go(x)}};return m}var VS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(VS||(VS={}));function nM(r,t,n){return n===void 0&&(n="/"),aM(r,t,n)}function aM(r,t,n,a){let s=typeof t=="string"?Im(t):t,i=p4(s.pathname||"/",n);if(i==null)return null;let c=x_(r);sM(c);let o=null;for(let d=0;o==null&&d<c.length;++d){let l=gM(i);o=AM(c[d],l)}return o}function x_(r,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,c,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};d.relativePath.startsWith("/")&&(ml(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let l=dA([a,d.relativePath]),u=n.concat(d);i.children&&i.children.length>0&&(ml(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),x_(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:hM(l,i.index),routesMeta:u})};return r.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,c);else for(let d of y_(i.path))s(i,c,d)}),t}function y_(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let c=y_(a.join("/")),o=[];return o.push(...c.map(d=>d===""?i:[i,d].join("/"))),s&&o.push(...c),o.map(d=>r.startsWith("/")&&d===""?"/":d)}function sM(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:fM(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const iM=/^:[\w-]+$/,oM=3,lM=2,cM=1,dM=10,uM=-2,zS=r=>r==="*";function hM(r,t){let n=r.split("/"),a=n.length;return n.some(zS)&&(a+=uM),t&&(a+=lM),n.filter(s=>!zS(s)).reduce((s,i)=>s+(iM.test(i)?oM:i===""?cM:dM),a)}function fM(r,t){return r.length===t.length&&r.slice(0,-1).every((a,s)=>a===t[s])?r[r.length-1]-t[t.length-1]:0}function AM(r,t,n){let{routesMeta:a}=r,s={},i="/",c=[];for(let o=0;o<a.length;++o){let d=a[o],l=o===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=pM({path:d.relativePath,caseSensitive:d.caseSensitive,end:l},u),f=d.route;if(!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:dA([i,h.pathname]),pathnameBase:bM(dA([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=dA([i,h.pathnameBase]))}return c}function pM(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=mM(r.path,r.caseSensitive,r.end),s=t.match(n);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((l,u,h)=>{let{paramName:f,isOptional:A}=u;if(f==="*"){let m=o[h]||"";c=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[h];return A&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:c,pattern:r}}function mM(r,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),A4(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,o,d)=>(a.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function gM(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return A4(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function p4(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}const vM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xM=r=>vM.test(r);function yM(r,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof r=="string"?Im(r):r,i;if(n)if(xM(n))i=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),A4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?i=GS(n.substring(1),"/"):i=GS(n,t)}else i=t;return{pathname:i,search:wM(a),hash:CM(s)}}function GS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function M2(r,t,n,a){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jM(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m4(r,t){let n=jM(r);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function g4(r,t,n,a){a===void 0&&(a=!1);let s;typeof r=="string"?s=Im(r):(s=i1({},r),ml(!s.pathname||!s.pathname.includes("?"),M2("?","pathname","search",s)),ml(!s.pathname||!s.pathname.includes("#"),M2("#","pathname","hash",s)),ml(!s.search||!s.search.includes("#"),M2("#","search","hash",s)));let i=r===""||s.pathname==="",c=i?"/":s.pathname,o;if(c==null)o=n;else{let h=t.length-1;if(!a&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let d=yM(s,o),l=c&&c!=="/"&&c.endsWith("/"),u=(i||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(l||u)&&(d.pathname+="/"),d}const dA=r=>r.join("/").replace(/\/\/+/g,"/"),bM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function NM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const j_=["post","put","patch","delete"];new Set(j_);const SM=["get",...j_];new Set(SM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o1(){return o1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},o1.apply(this,arguments)}const v4=C.createContext(null),EM=C.createContext(null),pA=C.createContext(null),Hx=C.createContext(null),Nf=C.createContext({outlet:null,matches:[],isDataRoute:!1}),b_=C.createContext(null);function BM(r,t){let{relative:n}=t===void 0?{}:t;Tm()||ml(!1);let{basename:a,navigator:s}=C.useContext(pA),{hash:i,pathname:c,search:o}=C_(r,{relative:n}),d=c;return a!=="/"&&(d=c==="/"?a:dA([a,c])),s.createHref({pathname:d,search:o,hash:i})}function Tm(){return C.useContext(Hx)!=null}function un(){return Tm()||ml(!1),C.useContext(Hx).location}function w_(r){C.useContext(pA).static||C.useLayoutEffect(r)}function Ma(){let{isDataRoute:r}=C.useContext(Nf);return r?QM():IM()}function IM(){Tm()||ml(!1);let r=C.useContext(v4),{basename:t,future:n,navigator:a}=C.useContext(pA),{matches:s}=C.useContext(Nf),{pathname:i}=un(),c=JSON.stringify(m4(s,n.v7_relativeSplatPath)),o=C.useRef(!1);return w_(()=>{o.current=!0}),C.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){a.go(l);return}let h=g4(l,JSON.parse(c),i,u.relative==="path");r==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:dA([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,c,i,r])}function TM(){let{matches:r}=C.useContext(Nf),t=r[r.length-1];return t?t.params:{}}function C_(r,t){let{relative:n}=t===void 0?{}:t,{future:a}=C.useContext(pA),{matches:s}=C.useContext(Nf),{pathname:i}=un(),c=JSON.stringify(m4(s,a.v7_relativeSplatPath));return C.useMemo(()=>g4(r,JSON.parse(c),i,n==="path"),[r,c,i,n])}function kM(r,t){return _M(r,t)}function _M(r,t,n,a){Tm()||ml(!1);let{navigator:s}=C.useContext(pA),{matches:i}=C.useContext(Nf),c=i[i.length-1],o=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let l=un(),u;if(t){var h;let x=typeof t=="string"?Im(t):t;d==="/"||(h=x.pathname)!=null&&h.startsWith(d)||ml(!1),u=x}else u=l;let f=u.pathname||"/",A=f;if(d!=="/"){let x=d.replace(/^\//,"").split("/");A="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=nM(r,{pathname:A}),m=MM(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:dA([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:dA([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return t&&m?C.createElement(Hx.Provider,{value:{location:o1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:oA.Pop}},m):m}function OM(){let r=HM(),t=NM(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const FM=C.createElement(OM,null);class PM extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(Nf.Provider,{value:this.props.routeContext},C.createElement(b_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DM(r){let{routeContext:t,match:n,children:a}=r,s=C.useContext(v4);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Nf.Provider,{value:t},a)}function MM(r,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),r==null){var i;if(!n)return null;if(n.errors)r=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=c.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||ml(!1),c=c.slice(0,Math.min(c.length,u+1))}let d=!1,l=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<c.length;u++){let h=c[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:A}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!A||A[h.route.id]===void 0);if(h.route.lazy||g){d=!0,l>=0?c=c.slice(0,l+1):c=[c[0]];break}}}return c.reduceRight((u,h,f)=>{let A,g=!1,m=null,x=null;n&&(A=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||FM,d&&(l<0&&f===0?(WM("route-fallback"),g=!0,x=null):l===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(c.slice(0,f+1)),b=()=>{let j;return A?j=m:g?j=x:h.route.Component?j=C.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,C.createElement(DM,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(PM,{location:n.location,revalidation:n.revalidation,component:m,error:A,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var N_=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(N_||{}),S_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(S_||{});function RM(r){let t=C.useContext(v4);return t||ml(!1),t}function LM(r){let t=C.useContext(EM);return t||ml(!1),t}function UM(r){let t=C.useContext(Nf);return t||ml(!1),t}function E_(r){let t=UM(),n=t.matches[t.matches.length-1];return n.route.id||ml(!1),n.route.id}function HM(){var r;let t=C.useContext(b_),n=LM(),a=E_();return t!==void 0?t:(r=n.errors)==null?void 0:r[a]}function QM(){let{router:r}=RM(N_.UseNavigateStable),t=E_(S_.UseNavigateStable),n=C.useRef(!1);return w_(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,o1({fromRouteId:t},i)))},[r,t])}const KS={};function WM(r,t,n){KS[r]||(KS[r]=!0)}function $M(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Jp(r){let{to:t,replace:n,state:a,relative:s}=r;Tm()||ml(!1);let{future:i,static:c}=C.useContext(pA),{matches:o}=C.useContext(Nf),{pathname:d}=un(),l=Ma(),u=g4(t,m4(o,i.v7_relativeSplatPath),d,s==="path"),h=JSON.stringify(u);return C.useEffect(()=>l(JSON.parse(h),{replace:n,state:a,relative:s}),[l,h,s,n,a]),null}function rn(r){ml(!1)}function VM(r){let{basename:t="/",children:n=null,location:a,navigationType:s=oA.Pop,navigator:i,static:c=!1,future:o}=r;Tm()&&ml(!1);let d=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:d,navigator:i,static:c,future:o1({v7_relativeSplatPath:!1},o)}),[d,o,i,c]);typeof a=="string"&&(a=Im(a));let{pathname:u="/",search:h="",hash:f="",state:A=null,key:g="default"}=a,m=C.useMemo(()=>{let x=p4(u,d);return x==null?null:{location:{pathname:x,search:h,hash:f,state:A,key:g},navigationType:s}},[d,u,h,f,A,g,s]);return m==null?null:C.createElement(pA.Provider,{value:l},C.createElement(Hx.Provider,{children:n,value:m}))}function zM(r){let{children:t,location:n}=r;return kM(kC(t),n)}new Promise(()=>{});function kC(r,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(r,(a,s)=>{if(!C.isValidElement(a))return;let i=[...t,s];if(a.type===C.Fragment){n.push.apply(n,kC(a.props.children,i));return}a.type!==rn&&ml(!1),!a.props.index||!a.props.children||ml(!1);let c={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=kC(a.props.children,i)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _C(){return _C=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},_C.apply(this,arguments)}function GM(r,t){if(r==null)return{};var n={},a=Object.keys(r),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=r[s]);return n}function KM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qM(r,t){return r.button===0&&(!t||t==="_self")&&!KM(r)}function OC(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let a=r[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function XM(r,t){let n=OC(r);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const YM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JM="6";try{window.__reactRouterVersion=JM}catch{}const ZM="startTransition",qS=GD[ZM];function eR(r){let{basename:t,children:n,future:a,window:s}=r,i=C.useRef();i.current==null&&(i.current=eM({window:s,v5Compat:!0}));let c=i.current,[o,d]=C.useState({action:c.action,location:c.location}),{v7_startTransition:l}=a||{},u=C.useCallback(h=>{l&&qS?qS(()=>d(h)):d(h)},[d,l]);return C.useLayoutEffect(()=>c.listen(u),[c,u]),C.useEffect(()=>$M(a),[a]),C.createElement(VM,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:c,future:a})}const tR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=C.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:c,state:o,target:d,to:l,preventScrollReset:u,viewTransition:h}=t,f=GM(t,YM),{basename:A}=C.useContext(pA),g,m=!1;if(typeof l=="string"&&rR.test(l)&&(g=l,tR))try{let j=new URL(window.location.href),S=l.startsWith("//")?new URL(j.protocol+l):new URL(l),w=p4(S.pathname,A);S.origin===j.origin&&w!=null?l=w+S.search+S.hash:m=!0}catch{}let x=BM(l,{relative:s}),y=nR(l,{replace:c,state:o,target:d,preventScrollReset:u,relative:s,viewTransition:h});function b(j){a&&a(j),j.defaultPrevented||y(j)}return C.createElement("a",_C({},f,{href:g||x,onClick:m||i?a:b,ref:n,target:d}))});var XS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(XS||(XS={}));var YS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));function nR(r,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:c,viewTransition:o}=t===void 0?{}:t,d=Ma(),l=un(),u=C_(r,{relative:c});return C.useCallback(h=>{if(qM(h,n)){h.preventDefault();let f=a!==void 0?a:Fv(l)===Fv(u);d(r,{replace:f,state:s,preventScrollReset:i,relative:c,viewTransition:o})}},[l,d,u,a,s,n,r,i,c,o])}function x4(r){let t=C.useRef(OC(r)),n=C.useRef(!1),a=un(),s=C.useMemo(()=>XM(a.search,n.current?null:t.current),[a.search]),i=Ma(),c=C.useCallback((o,d)=>{const l=OC(typeof o=="function"?o(s):o);n.current=!0,i("?"+l,d)},[i,s]);return[s,c]}const aR=()=>{var r;return typeof window<"u"&&((r=window.location)!=null&&r.hostname)?`http://${window.location.hostname}:3000/api/v1`:"http://localhost:3000/api/v1"},jf=aR(),sR=r=>new Promise(t=>setTimeout(t,r));async function y4(r,t={}){const n=`${jf}${r}`;let a;try{a=await fetch(n,{...t,headers:{"Content-Type":"application/json",...t.headers}})}catch{const c=`Failed to reach backend at ${n}. If you are using a mobile device/emulator, set VITE_API_BASE_URL to http://<YOUR_PC_IP>:3000/api/v1 and ensure backend CORS allows your frontend origin.`;throw new Error(c)}if(!a.ok){const i=await a.json().catch(()=>({})),c=i.message||i.error||`HTTP error! status: ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):c)}return(await a.json()).data}const B_=async r=>{await y4("/auth/send-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r})})},iR=async(r,t)=>{var n;try{const a=await y4("/auth/login",{method:"POST",body:JSON.stringify({usernameOrEmail:r.trim(),password:t})}),s=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),i=s==="superadmin@medi-waste.io"||s==="superadmin",c={id:a.userId,name:a.userName,email:a.email||a.userName,roles:i?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`};return a.requiresOTP?(await B_(a.email||a.userName),{requiresOTP:!0,email:a.email||a.userName,user:c,forcePasswordChange:a.forcePasswordChange}):a.forcePasswordChange?{requiresOTP:!1,user:c,forcePasswordChange:!0}:{requiresOTP:!1,user:c}}catch(a){throw console.error("Login error:",a),a}},oR=async(r,t)=>{var n;try{const a=await y4("/auth/verify-otp",{method:"POST",body:JSON.stringify({usernameOrEmail:r,otp:t})}),s=(n=a.email||a.userName)==null?void 0:n.toLowerCase(),i=s==="superadmin@medi-waste.io"||s==="superadmin";return{id:a.userId,name:a.userName,email:a.email||a.userName,roles:i?["superadmin"]:a.userRoleId?[a.userRoleId]:["user"],token:a.token||`token-${a.userId}`}}catch(a){throw console.error("OTP login error:",a),new Error("Invalid or expired OTP")}},lR=async(r,t)=>{if(await sR(500),!t)throw new Error("Unauthorized");if(r.password.length<8)throw new Error("Password must be at least 8 characters");return{id:`u-${Date.now()}`,name:r.name,email:r.email.toLowerCase(),roles:[r.role],token:`issued-${Date.now()}`}},cR=async r=>{var t;try{const n=async i=>{const c=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!c.ok)throw new Error("Failed to fetch permissions");return c.json()};try{const i=await n(`${jf}/auth/permissions`),c=(t=i==null?void 0:i.data)==null?void 0:t.permissions;return Array.isArray(c)?c:[]}catch{}const a=await fetch(`${jf}/permissions/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Failed to fetch permissions");const s=await a.json();return(s==null?void 0:s.data)||[]}catch(n){return console.error("Error fetching permissions:",n),[]}},I_=async r=>{try{const t=await fetch(`${jf}/auth/menu-config`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!t.ok)throw new Error("Failed to fetch menu config");return(await t.json()).data}catch(t){return console.error("Error fetching menu config:",t),null}},bc=(r,t)=>{if(r.includes("*"))return!0;const n=(t||"").trim();if(!n)return!1;const a=new Set([n]);n.includes(".")&&a.add(n.replace(/\./g,"_")),n.includes("_")&&a.add(n.replace(/_/g,"."));for(const s of a)if(r.includes(s))return!0;return!1},sA=(r,t,n)=>{if(!r)return!1;const a=r[t];if(!a)return!1;if(n&&"submenus"in a&&a.submenus){const s=a.submenus[n];return s?s.visible:!1}return a.visible},T_=C.createContext({user:null,loading:!0,permissions:[],permissionsLoading:!1,permissionsReady:!0,login:async()=>{throw new Error("AuthProvider is not mounted")},sendOTP:async()=>{throw new Error("AuthProvider is not mounted")},verifyOTP:async()=>{throw new Error("AuthProvider is not mounted")},logout:()=>{},createUser:async()=>{throw new Error("AuthProvider is not mounted")},hasRole:()=>!1}),Bp="mw-auth-user",DA="mw-auth-permissions",dR=({children:r})=>{const[t,n]=C.useState(null),[a,s]=C.useState(!0),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(!0);C.useEffect(()=>{(()=>{try{const S=localStorage.getItem(Bp);if(S){const w=JSON.parse(S);w&&w.id&&w.token&&w.token.trim()!==""?w.token.split(".").length===3?(n(w),c([]),u(!1),d(!0)):(console.warn("Invalid token format in storage"),localStorage.removeItem(Bp),localStorage.removeItem(DA),n(null),c([])):(console.warn("Invalid user data in storage"),localStorage.removeItem(Bp),n(null),localStorage.removeItem(DA),c([]))}else n(null),c([]),u(!0)}catch(S){console.error("Error loading user from storage:",S),localStorage.removeItem(Bp),n(null),localStorage.removeItem(DA),c([]),u(!0)}finally{s(!1)}})()},[]);const h=C.useCallback(j=>{if(n(j),j){try{localStorage.setItem(Bp,JSON.stringify(j))}catch(S){console.error("Error saving user to storage:",S)}c([]),u(!1),d(!0);try{localStorage.removeItem(DA)}catch{}}else{try{localStorage.removeItem(Bp)}catch(S){console.error("Error removing user from storage:",S)}try{localStorage.removeItem(DA)}catch{}c([]),u(!0),d(!1)}},[]);C.useEffect(()=>{(async()=>{if(!(t!=null&&t.token)){c([]),d(!1),u(!0);return}u(!1),d(!0);try{const S=await cR(t.token);c(S||[]);try{const w={userId:t.id,permissions:S||[]};localStorage.setItem(DA,JSON.stringify(w))}catch{}}catch{c([]);try{localStorage.removeItem(DA)}catch{}}finally{d(!1),u(!0)}})()},[t==null?void 0:t.token]);const f=C.useCallback(async(j,S)=>{s(!0);try{const w=await iR(j,S);if(w.requiresOTP)return h(null),{requiresOTP:!0,email:w.email};if(w.user)return h(w.user),{requiresOTP:!1};throw new Error("Login failed")}finally{s(!1)}},[h]),A=C.useCallback(async j=>{s(!0);try{await B_(j)}finally{s(!1)}},[]),g=C.useCallback(async(j,S)=>{s(!0);try{const w=await oR(j,S);h(w)}finally{s(!1)}},[h]),m=C.useCallback(()=>{h(null)},[h]),x=C.useCallback(async j=>{if(!t)throw new Error("Unauthorized");s(!0);try{return await lR(j,t.token)}finally{s(!1)}},[t]),y=C.useCallback(j=>{const S=Array.isArray(j)?j:[j];return!!(t!=null&&t.roles.some(w=>S.includes(w)))},[t]),b=C.useMemo(()=>({user:t,loading:a,permissions:i,permissionsLoading:o,permissionsReady:l,login:f,sendOTP:A,verifyOTP:g,logout:m,createUser:x,hasRole:y}),[t,a,i,o,l,f,A,g,m,x,y]);return e.jsx(T_.Provider,{value:b,children:r})},k_=()=>C.useContext(T_),Wn=()=>k_(),JS=({children:r})=>{const{user:t,logout:n}=Wn(),{pathname:a}=un();return e.jsxs("div",{className:"app-shell",children:[e.jsxs("header",{className:"app-shell__header",children:[e.jsxs(Rr,{to:"/",className:"brand",children:["MediWaste",e.jsx("span",{className:"brand__tag",children:"Control"})]}),e.jsx("nav",{className:"app-shell__nav",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"nav__user",children:[t.name,e.jsx("small",{children:t.roles.join(", ")})]}),e.jsx(Rr,{to:"/dashboard",className:a==="/dashboard"?"active":"",children:"Dashboard"}),e.jsx("button",{className:"ghost logout-btn",onClick:n,type:"button",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Rr,{to:"/login",className:a.startsWith("/login")?"active":"",children:"Login"}),e.jsx(Rr,{to:"/users/new",className:a.startsWith("/users")?"active":"",children:"Create User"})]})})]}),e.jsx("main",{className:"app-shell__body",children:r})]})},ln=({roles:r,children:t})=>{const{user:n,loading:a,permissions:s,permissionsLoading:i,permissionsReady:c}=Wn(),o=un();if(a||i||!c)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});if(!n)return e.jsx(Jp,{to:"/login",replace:!0,state:{from:o}});const d=Array.isArray(s)?s:[];if(o.pathname!=="/not-authorized"&&d.length===0)return e.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:o.pathname}});const l=Array.isArray(n.roles)?n.roles:[];return r&&r.length>0&&!l.some(u=>r.includes(u))?e.jsx(Jp,{to:"/login",replace:!0}):e.jsx(e.Fragment,{children:t})},uR=C.createContext(void 0),hR=({children:r,user:t})=>{var u,h;const[n,a]=C.useState({enabled:!1,previewRole:null,originalRole:((u=t==null?void 0:t.roles)==null?void 0:u[0])||"viewer"}),s=C.useCallback(f=>{a(f)},[]),i=C.useCallback((f,A)=>{a({enabled:!0,previewRole:f,originalRole:A})},[]),c=C.useCallback(()=>{a(f=>({enabled:!1,previewRole:null,originalRole:f.originalRole}))},[]),o=n.enabled,d=n.enabled&&n.previewRole?n.previewRole:((h=t==null?void 0:t.roles)==null?void 0:h[0])||"viewer",l={previewMode:n,setPreviewMode:s,startPreview:i,exitPreview:c,isPreviewMode:o,currentRole:d,user:t};return e.jsx(uR.Provider,{value:l,children:r})},fR=()=>{const{login:r,verifyOTP:t,loading:n,user:a}=Wn(),s=Ma(),i=un(),[c,o]=C.useState(""),[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(!1),[g,m]=C.useState(null),[x,y]=C.useState(!1),[b,j]=C.useState(""),[S,w]=C.useState(["","","","","",""]),[E,I]=C.useState(0);if(C.useEffect(()=>(document.body.classList.add("login-page-active"),document.documentElement.classList.add("login-page-active"),()=>{document.body.classList.remove("login-page-active"),document.documentElement.classList.remove("login-page-active")}),[]),C.useEffect(()=>{var me,$;if(a&&!n){const X=($=(me=i.state)==null?void 0:me.from)==null?void 0:$.pathname;s(X||"/dashboard",{replace:!0})}},[a,n,s,i]),C.useEffect(()=>{if(E>0){const me=setTimeout(()=>I(E-1),1e3);return()=>clearTimeout(me)}},[E]),n)return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #2d3748",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),e.jsx("p",{style:{color:"#666",fontSize:"14px"},children:"Loading..."})]});const L=me=>{if(!me||me.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,X=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(me.trim())||X.test(me.trim())},Z=async me=>{var $,X;if(me.preventDefault(),m(null),!L(c)){m("Please enter a valid username or email address");return}if(!d||d.trim().length===0){m("Please enter your password");return}try{const Ce=await r(c.trim(),d);if(Ce.requiresOTP&&Ce.email)j(Ce.email),y(!0),I(60);else{const M=(X=($=i.state)==null?void 0:$.from)==null?void 0:X.pathname;s(M||"/dashboard",{replace:!0})}}catch(Ce){m(Ce.message||"Invalid credentials. Please check your username and password.")}},ne=(me,$)=>{if($.length>1)return;const X=[...S];if(X[me]=$,w(X),$&&me<5){const Ce=document.getElementById(`otp-input-${me+1}`);Ce==null||Ce.focus()}},G=(me,$)=>{if($.key==="Backspace"&&!S[me]&&me>0){const X=document.getElementById(`otp-input-${me-1}`);X==null||X.focus()}},le=async me=>{var X,Ce,M;me.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await t(b,$);const q=(Ce=(X=i.state)==null?void 0:X.from)==null?void 0:Ce.pathname;s(q||"/dashboard",{replace:!0})}catch(q){m(q.message||"Invalid OTP"),w(["","","","","",""]),(M=document.getElementById("otp-input-0"))==null||M.focus()}},V=async()=>{if(!(E>0)){m(null);try{await r(c,d),I(60),w(["","","","","",""])}catch(me){m(me.message||"Failed to resend OTP")}}};return e.jsx("div",{className:"login-page-template",children:e.jsxs("div",{className:"login-template-wrapper",children:[e.jsxs("div",{className:"login-left-panel",children:[e.jsxs("div",{className:"left-panel-header",children:[e.jsx("h1",{className:"left-panel-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"left-panel-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("div",{className:"left-panel-image-container",children:e.jsx("img",{src:"/waste-segregation-infographic.png",alt:"Waste Segregation Infographic - Segregation of Solid Bio-Medical Waste",className:"left-panel-image",onError:me=>{const $=me.target;$.style.display="none";const X=$.parentElement;if(X&&!X.querySelector(".image-placeholder")){const Ce=document.createElement("div");Ce.className="image-placeholder",Ce.innerHTML=`
                    <div style="color: #cbd5e0; text-align: center; padding: 40px;">
                      <p style="font-size: 18px; margin-bottom: 16px;">Waste Segregation Infographic</p>
                      <p style="font-size: 14px; color: #94a3b8;">Please add the image file:</p>
                      <p style="font-size: 12px; color: #718096; margin-top: 8px;">frontend/public/waste-segregation-infographic.png</p>
                    </div>
                  `,X.appendChild(Ce)}}})})]}),e.jsx("div",{className:"login-right-panel",children:e.jsxs("div",{className:"login-form-wrapper",children:[e.jsx("h2",{className:"login-form-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form otp-form-inline",onSubmit:le,children:[e.jsx("div",{className:"otp-instruction",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?e.jsx("p",{children:"Use your configured SuperAdmin OTP."}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row",children:S.map((me,$)=>e.jsx("input",{id:`otp-input-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-inline",value:me,onChange:X=>ne($,X.target.value),onKeyDown:X=>G($,X),autoFocus:$===0,disabled:n},$))}),g&&e.jsx("div",{className:"error-message",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(me=>!me),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-inline",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",E>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",E,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link",onClick:V,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:Z,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{id:"username",type:"text",className:"form-input-with-icon",placeholder:"Username or Email",value:c,onChange:me=>{o(me.target.value),m(null)},required:!0,disabled:x,autoComplete:"username","aria-label":"Username or Email"})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper-icon",children:[e.jsxs("svg",{className:"input-icon-left",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{id:"password",type:f?"text":"password",className:"form-input-with-icon",placeholder:"Password",value:d,onChange:me=>{l(me.target.value),m(null)},required:!0,disabled:x,autoComplete:"current-password","aria-label":"Password"}),e.jsx("button",{type:"button",className:"password-eye-toggle",onClick:()=>A(!f),disabled:x,children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]})}),e.jsxs("div",{className:"form-options-row",children:[e.jsxs("label",{className:"remember-me-label",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:me=>h(me.target.checked),disabled:x}),e.jsx("span",{children:"Remember Me"})]}),e.jsx(Rr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&e.jsx("div",{className:"error-message",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||x,children:n?"Logging in...":"Log in"})]})]})})]})})},AR=()=>{const{sendOTP:r,verifyOTP:t,loading:n}=Wn(),a=Ma(),s=un(),[i,c]=C.useState(["","","","","",""]),[o,d]=C.useState(null),[l,u]=C.useState(0),[h,f]=C.useState("");C.useEffect(()=>{var b;const y=(b=s.state)==null?void 0:b.email;y?(f(y),u(60)):a("/login",{replace:!0})},[s,a]),C.useEffect(()=>{if(l>0){const y=setTimeout(()=>u(l-1),1e3);return()=>clearTimeout(y)}},[l]);const A=(y,b)=>{if(b.length>1)return;const j=[...i];if(j[y]=b,c(j),b&&y<5){const S=document.getElementById(`otp-${y+1}`);S==null||S.focus()}},g=(y,b)=>{if(b.key==="Backspace"&&!i[y]&&y>0){const j=document.getElementById(`otp-${y-1}`);j==null||j.focus()}},m=async()=>{if(!(l>0)){d(null);try{await r(h),u(60),c(["","","","","",""])}catch(y){d(y.message||"Failed to resend OTP")}}},x=async y=>{var j,S,w;y.preventDefault(),d(null);const b=i.join("");if(b.length!==6){d("Please enter a valid 6-digit OTP");return}try{await t(h,b);const E=(S=(j=s.state)==null?void 0:j.from)==null?void 0:S.pathname;a(E||"/dashboard",{replace:!0})}catch(E){d(E.message||"Invalid OTP"),c(["","","","","",""]),(w=document.getElementById("otp-0"))==null||w.focus()}};return e.jsx("div",{className:"otp-verification-page",children:e.jsxs("div",{className:"otp-verification-container",children:[e.jsxs("div",{className:"otp-header",children:[e.jsx("h2",{className:"otp-title",children:"Verify Your Email"}),e.jsx("p",{className:"otp-subtitle",children:h.toLowerCase()==="superadmin@medi-waste.io"||h.toLowerCase()==="superadmin"?e.jsx(e.Fragment,{children:"Use your configured SuperAdmin OTP."}):e.jsx(e.Fragment,{children:"We've sent a 6-digit code to your email. Please enter it below."})})]}),e.jsxs("form",{className:"otp-form",onSubmit:x,children:[e.jsx("div",{className:"otp-inputs-container",children:i.map((y,b)=>e.jsx("input",{id:`otp-${b}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input",value:y,onChange:j=>A(b,j.target.value),onKeyDown:j=>g(b,j),autoFocus:b===0,disabled:n},b))}),o&&e.jsx("div",{className:"otp-error",children:o}),e.jsx("button",{type:"submit",className:"otp-submit-button",disabled:n||i.some(y=>!y),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend",children:e.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",l>0?e.jsxs("span",{className:"otp-timer",children:["Resend in ",l,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-button",onClick:m,children:"Resend OTP"})]})})]})]})})},pR="http://localhost:3000/api/v1",mR=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ip=async(r,t={})=>{const n=mR(),a=`${pR}${r}`,s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`;try{const d=await i.text();if(d){const l=JSON.parse(d);Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"&&(o=l.message)}}catch{}throw new Error(o)}return i.status===204?{}:await i.json()}catch(i){throw i instanceof TypeError&&i.message==="Failed to fetch"?console.error("[dashboardService] Network error - Backend server may not be running:",{url:a,error:i.message,hint:"Please ensure the backend server is running on http://localhost:3000"}):console.error("[dashboardService] Request failed:",{url:a,error:i instanceof Error?i.message:String(i)}),i}},YA={getDashboardConfig:async r=>{try{const n=(await Ip(`/dashboard/config/${r}`)).data||{};let a=[];Array.isArray(n.widgets)?a=n.widgets.filter(c=>!(!c||Array.isArray(c)||typeof c!="object")):n.widgets&&typeof n.widgets=="object"&&!Array.isArray(n.widgets)&&(a=[n.widgets]);const s=Array.isArray(n.menuItems)?n.menuItems:[],i=n.permissions&&typeof n.permissions=="object"?n.permissions:{};return{role:n.role||r,widgets:a,menuItems:s,permissions:i}}catch(t){return console.error("[dashboardService] Failed to fetch dashboard config:",t),ZS(r)}},getUserOverrides:async r=>{try{return(await Ip(`/dashboard/user-overrides/${r}`)).data}catch(t){return console.error("[dashboardService] Failed to fetch user overrides:",t),null}},computePermissions:(r,t)=>{const n={...r.permissions},a=[...r.menuItems],s=[...r.widgets];t&&(Object.entries(t.permissions).forEach(([l,u])=>{n[l]=u}),t.menuOverrides&&a.forEach(l=>{t.menuOverrides[l.id]!==void 0&&(l.visible=t.menuOverrides[l.id])}),t.widgetOverrides&&s.forEach(l=>{if(t.widgetOverrides[l.id]!==void 0){const u=s.indexOf(l);!t.widgetOverrides[l.id]&&u!==-1&&s.splice(u,1)}}));const i=!!n["*"],c=l=>l.filter(u=>!(!u.visible||!i&&u.permission&&!n[u.permission])).map(u=>{if(u.children&&u.children.length>0){const h=c(u.children);return{...u,children:h.length>0?h:void 0}}return u}),o=c(a),d=s.filter(l=>{var u;return!(!i&&((u=l.permissions)!=null&&u.view)&&!n[l.permissions.view])});return{permissions:n,menuItems:o,widgets:d}},getAvailableRoles:async()=>{try{return(await Ip("/dashboard/roles")).data}catch(r){return console.error("[dashboardService] Failed to fetch roles:",r),[]}},getCatalog:async()=>{try{return(await Ip("/dashboard/catalog")).data}catch(r){return console.error("[dashboardService] Failed to fetch catalog:",r),{kpis:[],charts:[],tables:[],tasks:[],alerts:[]}}},saveDashboardConfig:async r=>{try{const t=JSON.stringify(r);return(await Ip("/dashboard/config",{method:"POST",body:t})).data}catch(t){throw console.error("[dashboardService] Failed to save dashboard config:",t),console.error("[dashboardService] Error details:",{message:t==null?void 0:t.message,stack:t==null?void 0:t.stack,config:r}),t}},getDashboardConfigByTarget:async r=>{try{return(await Ip(`/dashboard/config?target=${encodeURIComponent(r)}`)).data}catch(t){return console.error("[dashboardService] Failed to fetch dashboard config:",t),ZS(r)}}};function ZS(r){return r==="superadmin"?{role:r,widgets:[{id:"metric-total-invoices",type:"metric",title:"Total Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-invoices"},props:{unit:"",label:"Total count"}},{id:"metric-pending-invoices",type:"metric",title:"Pending Invoices",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-invoices"},props:{unit:"",label:"Pending approval"}},{id:"metric-total-revenue",type:"metric",title:"Total Revenue",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/total-revenue"},props:{unit:"INR",label:"Total revenue"}},{id:"metric-pending-payments",type:"metric",title:"Pending Payments",gridColumn:1,dataSource:{endpoint:"/dashboard/kpi/pending-payments"},props:{unit:"",label:"Pending count"}},{id:"chart-monthly-revenue",type:"chart",title:"Monthly Revenue",gridColumn:2,gridRow:1,chartConfig:{type:"line",xAxis:"month",yAxis:"revenue"},dataSource:{endpoint:"/dashboard/chart/monthly-revenue"}},{id:"table-recent-invoices",type:"table",title:"Recent Invoices",gridColumn:2,gridRow:1,dataSource:{endpoint:"/dashboard/table/recent-invoices"},props:{maxRows:10}},{id:"approval-queue",type:"approval-queue",title:"Pending Approvals",gridColumn:2,dataSource:{endpoint:"/dashboard/tasks/pending-approvals"},permissions:{view:"APPROVAL_VIEW",actions:{approve:"APPROVAL_APPROVE",view:"APPROVAL_VIEW"}}}],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0},{id:"transaction",label:"Transaction",path:"/transaction",icon:"transaction",visible:!0,children:[{id:"barcode",label:"Barcode Generation",path:"/transaction/barcode-generation",icon:"barcode",visible:!0}]},{id:"finance",label:"Finance",path:"/finance",icon:"finance",visible:!0,children:[{id:"invoice",label:"Invoice Management",path:"/finance/invoice-management",icon:"invoice",visible:!0},{id:"payment",label:"Payment",path:"/finance/payment",icon:"payment",visible:!0},{id:"receipt",label:"Receipt Management",path:"/finance/receipt-management",icon:"receipt",visible:!0},{id:"balance",label:"Financial Balance",path:"/finance/financial-balance-summary",icon:"balance",visible:!0}]},{id:"commercial",label:"Commercial / Agreements",path:"/commercial-agreements",icon:"commercial",visible:!0},{id:"compliance",label:"Compliance & Training",path:"/compliance-training",icon:"compliance",visible:!0},{id:"master",label:"Master",path:"/master",icon:"master",visible:!0},{id:"report",label:"Reports",path:"/report",icon:"report",visible:!0}],permissions:{"*":!0}}:{role:r,widgets:[],menuItems:[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"dashboard",visible:!0}],permissions:{}}}const c0="http://localhost:3000/api/v1",gR=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Qx=async(r,t={})=>{const n=gR();let a;r.startsWith("http")?a=r:r.startsWith("/api/v1")?a=`${c0.endsWith("/api/v1")?c0.replace("/api/v1",""):c0.split("/api/v1")[0]||"http://localhost:3000"}${r}`:a=`${c0}${r}`;const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`;try{const d=await i.text();if(d){const l=JSON.parse(d);Array.isArray(l.message)?o=l.message.join(", "):typeof l.message=="string"&&(o=l.message)}}catch{}throw new Error(o)}return i.status===204?{}:await i.json()}catch(i){throw console.error("[widgetDataService] Request failed:",i),i}},vR=async r=>{try{console.log("[widgetDataService] Fetching KPI from endpoint:",r);const t=await Qx(r);console.log("[widgetDataService] Raw API response:",t);let n;t&&typeof t=="object"?t.success!==void 0&&t.data?n=t.data:t.value!==void 0||t.label!==void 0?n=t:t.data&&(t.data.value!==void 0||t.data.label!==void 0)?n=t.data:n=t:(console.warn("[widgetDataService] Unexpected response format:",t),n={}),console.log("[widgetDataService] Extracted KPI data:",n);const a=typeof n.value=="number"?n.value:n.value!==void 0&&n.value!==null&&n.value!==""&&parseFloat(String(n.value))||0,s=n.trend!==void 0&&n.trend!==null?{value:Math.abs(Number(n.trend)),isPositive:Number(n.trend)>=0,period:"vs previous period"}:void 0,i={value:a,unit:n.unit||(n.format==="currency"?"INR":""),label:n.label||"",trend:s};return console.log("[widgetDataService] Final mapped KPI result:",i),i}catch(t){return console.error("[widgetDataService] Failed to fetch KPI data:",t),console.error("[widgetDataService] Endpoint:",r),console.error("[widgetDataService] Error details:",{message:t==null?void 0:t.message,stack:t==null?void 0:t.stack}),{value:0,unit:"",label:""}}},xR=async r=>{try{const n=(await Qx(r)).data;return n.labels&&n.data?{labels:n.labels,data:n.labels.map((a,s)=>({label:a,value:n.data[s]||0}))}:Array.isArray(n)?{data:n}:{data:[n]}}catch(t){throw console.error("[widgetDataService] Failed to fetch chart data:",t),t}},yR=async r=>{try{const n=(await Qx(r)).data;return n.columns&&n.rows?{columns:n.columns.map(a=>({key:a,label:a})),data:n.rows.map(a=>{const s={};return n.columns.forEach(i=>{s[i]=a[i]||""}),s})}:{columns:[],data:[]}}catch(t){throw console.error("[widgetDataService] Failed to fetch table data:",t),t}},jR=async r=>{try{const n=(await Qx(r)).data;return Array.isArray(n)?r.includes("task")||r.includes("approval")?{tasks:n,items:n}:r.includes("alert")?{alerts:n}:r.includes("activity")||r.includes("timeline")?{activities:n}:{tasks:n}:{}}catch(t){throw console.error("[widgetDataService] Failed to fetch task data:",t),t}},bR=async r=>{var t;if(!((t=r.dataSource)!=null&&t.endpoint))return null;try{switch(r.type){case"metric":return await vR(r.dataSource.endpoint);case"chart":return await xR(r.dataSource.endpoint);case"table":return await yR(r.dataSource.endpoint);case"task-list":case"approval-queue":case"activity-timeline":case"alert":return await jR(r.dataSource.endpoint);default:return console.warn(`Unknown widget type: ${r.type}`),null}}catch(n){throw console.error(`[widgetDataService] Failed to fetch data for widget type ${r.type}:`,n),n}},wR=({title:r,value:t,unit:n,label:a,trend:s,loading:i=!1})=>i?e.jsx("div",{className:"widget-panel widget-panel--metric",children:e.jsxs("div",{className:"widget-panel__skeleton",children:[e.jsx("div",{className:"skeleton-line skeleton-line--title"}),e.jsx("div",{className:"skeleton-line skeleton-line--value"})]})}):e.jsxs("div",{className:"widget-panel widget-panel--metric",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsxs("div",{className:"widget-panel__body",children:[e.jsxs("div",{className:"metric-value",children:[typeof t=="number"?t.toLocaleString():t,n&&e.jsx("span",{className:"metric-unit",children:n})]}),a&&e.jsx("div",{className:"metric-label",children:a}),s&&e.jsxs("div",{className:`metric-trend metric-trend--${s.isPositive?"positive":"negative"}`,children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.isPositive?e.jsx("polyline",{points:"18 15 12 9 6 15"}):e.jsx("polyline",{points:"6 9 12 15 18 9"})}),e.jsxs("span",{children:[Math.abs(s.value),"%"]}),s.period&&e.jsx("span",{className:"metric-trend-period",children:s.period})]})]})]});function __(r){var t,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=__(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function vs(){for(var r,t,n=0,a="",s=arguments.length;n<s;n++)(r=arguments[n])&&(t=__(r))&&(a&&(a+=" "),a+=t);return a}var R2,eE;function Qd(){if(eE)return R2;eE=1;var r=Array.isArray;return R2=r,R2}var L2,tE;function O_(){if(tE)return L2;tE=1;var r=typeof Af=="object"&&Af&&Af.Object===Object&&Af;return L2=r,L2}var U2,rE;function Qh(){if(rE)return U2;rE=1;var r=O_(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=r||t||Function("return this")();return U2=n,U2}var H2,nE;function W1(){if(nE)return H2;nE=1;var r=Qh(),t=r.Symbol;return H2=t,H2}var Q2,aE;function CR(){if(aE)return Q2;aE=1;var r=W1(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=r?r.toStringTag:void 0;function i(c){var o=n.call(c,s),d=c[s];try{c[s]=void 0;var l=!0}catch{}var u=a.call(c);return l&&(o?c[s]=d:delete c[s]),u}return Q2=i,Q2}var W2,sE;function NR(){if(sE)return W2;sE=1;var r=Object.prototype,t=r.toString;function n(a){return t.call(a)}return W2=n,W2}var $2,iE;function Sf(){if(iE)return $2;iE=1;var r=W1(),t=CR(),n=NR(),a="[object Null]",s="[object Undefined]",i=r?r.toStringTag:void 0;function c(o){return o==null?o===void 0?s:a:i&&i in Object(o)?t(o):n(o)}return $2=c,$2}var V2,oE;function Ef(){if(oE)return V2;oE=1;function r(t){return t!=null&&typeof t=="object"}return V2=r,V2}var z2,lE;function km(){if(lE)return z2;lE=1;var r=Sf(),t=Ef(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&r(s)==n}return z2=a,z2}var G2,cE;function j4(){if(cE)return G2;cE=1;var r=Qd(),t=km(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,c){if(r(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||c!=null&&i in Object(c)}return G2=s,G2}var K2,dE;function mA(){if(dE)return K2;dE=1;function r(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return K2=r,K2}var q2,uE;function b4(){if(uE)return q2;uE=1;var r=Sf(),t=mA(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function c(o){if(!t(o))return!1;var d=r(o);return d==a||d==s||d==n||d==i}return q2=c,q2}var X2,hE;function SR(){if(hE)return X2;hE=1;var r=Qh(),t=r["__core-js_shared__"];return X2=t,X2}var Y2,fE;function ER(){if(fE)return Y2;fE=1;var r=SR(),t=(function(){var a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!t&&t in a}return Y2=n,Y2}var J2,AE;function F_(){if(AE)return J2;AE=1;var r=Function.prototype,t=r.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return J2=n,J2}var Z2,pE;function BR(){if(pE)return Z2;pE=1;var r=b4(),t=ER(),n=mA(),a=F_(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,c=Function.prototype,o=Object.prototype,d=c.toString,l=o.hasOwnProperty,u=RegExp("^"+d.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||t(f))return!1;var A=r(f)?u:i;return A.test(a(f))}return Z2=h,Z2}var ey,mE;function IR(){if(mE)return ey;mE=1;function r(t,n){return t==null?void 0:t[n]}return ey=r,ey}var ty,gE;function Ap(){if(gE)return ty;gE=1;var r=BR(),t=IR();function n(a,s){var i=t(a,s);return r(i)?i:void 0}return ty=n,ty}var ry,vE;function Wx(){if(vE)return ry;vE=1;var r=Ap(),t=r(Object,"create");return ry=t,ry}var ny,xE;function TR(){if(xE)return ny;xE=1;var r=Wx();function t(){this.__data__=r?r(null):{},this.size=0}return ny=t,ny}var ay,yE;function kR(){if(yE)return ay;yE=1;function r(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ay=r,ay}var sy,jE;function _R(){if(jE)return sy;jE=1;var r=Wx(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var c=this.__data__;if(r){var o=c[i];return o===t?void 0:o}return a.call(c,i)?c[i]:void 0}return sy=s,sy}var iy,bE;function OR(){if(bE)return iy;bE=1;var r=Wx(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return r?i[s]!==void 0:n.call(i,s)}return iy=a,iy}var oy,wE;function FR(){if(wE)return oy;wE=1;var r=Wx(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=r&&s===void 0?t:s,this}return oy=n,oy}var ly,CE;function PR(){if(CE)return ly;CE=1;var r=TR(),t=kR(),n=_R(),a=OR(),s=FR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,ly=i,ly}var cy,NE;function DR(){if(NE)return cy;NE=1;function r(){this.__data__=[],this.size=0}return cy=r,cy}var dy,SE;function w4(){if(SE)return dy;SE=1;function r(t,n){return t===n||t!==t&&n!==n}return dy=r,dy}var uy,EE;function $x(){if(EE)return uy;EE=1;var r=w4();function t(n,a){for(var s=n.length;s--;)if(r(n[s][0],a))return s;return-1}return uy=t,uy}var hy,BE;function MR(){if(BE)return hy;BE=1;var r=$x(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,c=r(i,s);if(c<0)return!1;var o=i.length-1;return c==o?i.pop():n.call(i,c,1),--this.size,!0}return hy=a,hy}var fy,IE;function RR(){if(IE)return fy;IE=1;var r=$x();function t(n){var a=this.__data__,s=r(a,n);return s<0?void 0:a[s][1]}return fy=t,fy}var Ay,TE;function LR(){if(TE)return Ay;TE=1;var r=$x();function t(n){return r(this.__data__,n)>-1}return Ay=t,Ay}var py,kE;function UR(){if(kE)return py;kE=1;var r=$x();function t(n,a){var s=this.__data__,i=r(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return py=t,py}var my,_E;function Vx(){if(_E)return my;_E=1;var r=DR(),t=MR(),n=RR(),a=LR(),s=UR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,my=i,my}var gy,OE;function C4(){if(OE)return gy;OE=1;var r=Ap(),t=Qh(),n=r(t,"Map");return gy=n,gy}var vy,FE;function HR(){if(FE)return vy;FE=1;var r=PR(),t=Vx(),n=C4();function a(){this.size=0,this.__data__={hash:new r,map:new(n||t),string:new r}}return vy=a,vy}var xy,PE;function QR(){if(PE)return xy;PE=1;function r(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return xy=r,xy}var yy,DE;function zx(){if(DE)return yy;DE=1;var r=QR();function t(n,a){var s=n.__data__;return r(a)?s[typeof a=="string"?"string":"hash"]:s.map}return yy=t,yy}var jy,ME;function WR(){if(ME)return jy;ME=1;var r=zx();function t(n){var a=r(this,n).delete(n);return this.size-=a?1:0,a}return jy=t,jy}var by,RE;function $R(){if(RE)return by;RE=1;var r=zx();function t(n){return r(this,n).get(n)}return by=t,by}var wy,LE;function VR(){if(LE)return wy;LE=1;var r=zx();function t(n){return r(this,n).has(n)}return wy=t,wy}var Cy,UE;function zR(){if(UE)return Cy;UE=1;var r=zx();function t(n,a){var s=r(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return Cy=t,Cy}var Ny,HE;function N4(){if(HE)return Ny;HE=1;var r=HR(),t=WR(),n=$R(),a=VR(),s=zR();function i(c){var o=-1,d=c==null?0:c.length;for(this.clear();++o<d;){var l=c[o];this.set(l[0],l[1])}}return i.prototype.clear=r,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Ny=i,Ny}var Sy,QE;function P_(){if(QE)return Sy;QE=1;var r=N4(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var c=arguments,o=s?s.apply(this,c):c[0],d=i.cache;if(d.has(o))return d.get(o);var l=a.apply(this,c);return i.cache=d.set(o,l)||d,l};return i.cache=new(n.Cache||r),i}return n.Cache=r,Sy=n,Sy}var Ey,WE;function GR(){if(WE)return Ey;WE=1;var r=P_(),t=500;function n(a){var s=r(a,function(c){return i.size===t&&i.clear(),c}),i=s.cache;return s}return Ey=n,Ey}var By,$E;function KR(){if($E)return By;$E=1;var r=GR(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(c,o,d,l){i.push(d?l.replace(n,"$1"):o||c)}),i});return By=a,By}var Iy,VE;function S4(){if(VE)return Iy;VE=1;function r(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return Iy=r,Iy}var Ty,zE;function qR(){if(zE)return Ty;zE=1;var r=W1(),t=S4(),n=Qd(),a=km(),s=r?r.prototype:void 0,i=s?s.toString:void 0;function c(o){if(typeof o=="string")return o;if(n(o))return t(o,c)+"";if(a(o))return i?i.call(o):"";var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}return Ty=c,Ty}var ky,GE;function D_(){if(GE)return ky;GE=1;var r=qR();function t(n){return n==null?"":r(n)}return ky=t,ky}var _y,KE;function M_(){if(KE)return _y;KE=1;var r=Qd(),t=j4(),n=KR(),a=D_();function s(i,c){return r(i)?i:t(i,c)?[i]:n(a(i))}return _y=s,_y}var Oy,qE;function Gx(){if(qE)return Oy;qE=1;var r=km();function t(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return Oy=t,Oy}var Fy,XE;function E4(){if(XE)return Fy;XE=1;var r=M_(),t=Gx();function n(a,s){s=r(s,a);for(var i=0,c=s.length;a!=null&&i<c;)a=a[t(s[i++])];return i&&i==c?a:void 0}return Fy=n,Fy}var Py,YE;function R_(){if(YE)return Py;YE=1;var r=E4();function t(n,a,s){var i=n==null?void 0:r(n,a);return i===void 0?s:i}return Py=t,Py}var XR=R_();const hu=Zs(XR);var Dy,JE;function YR(){if(JE)return Dy;JE=1;function r(t){return t==null}return Dy=r,Dy}var JR=YR();const os=Zs(JR);var My,ZE;function ZR(){if(ZE)return My;ZE=1;var r=Sf(),t=Qd(),n=Ef(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&r(i)==a}return My=s,My}var eL=ZR();const $1=Zs(eL);var tL=b4();const Xa=Zs(tL);var rL=mA();const _m=Zs(rL);var Ry={exports:{}},Ei={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function nL(){if(eB)return Ei;eB=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),o=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case r:switch(x=x.type,x){case n:case s:case a:case l:case u:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case d:case f:case h:case i:return x;default:return y}}case t:return y}}}return Ei.ContextConsumer=c,Ei.ContextProvider=i,Ei.Element=r,Ei.ForwardRef=d,Ei.Fragment=n,Ei.Lazy=f,Ei.Memo=h,Ei.Portal=t,Ei.Profiler=s,Ei.StrictMode=a,Ei.Suspense=l,Ei.SuspenseList=u,Ei.isAsyncMode=function(){return!1},Ei.isConcurrentMode=function(){return!1},Ei.isContextConsumer=function(x){return m(x)===c},Ei.isContextProvider=function(x){return m(x)===i},Ei.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===r},Ei.isForwardRef=function(x){return m(x)===d},Ei.isFragment=function(x){return m(x)===n},Ei.isLazy=function(x){return m(x)===f},Ei.isMemo=function(x){return m(x)===h},Ei.isPortal=function(x){return m(x)===t},Ei.isProfiler=function(x){return m(x)===s},Ei.isStrictMode=function(x){return m(x)===a},Ei.isSuspense=function(x){return m(x)===l},Ei.isSuspenseList=function(x){return m(x)===u},Ei.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===l||x===u||x===A||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===h||x.$$typeof===i||x.$$typeof===c||x.$$typeof===d||x.$$typeof===g||x.getModuleId!==void 0)},Ei.typeOf=m,Ei}var tB;function aL(){return tB||(tB=1,Ry.exports=nL()),Ry.exports}var sL=aL(),Ly,rB;function L_(){if(rB)return Ly;rB=1;var r=Sf(),t=Ef(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&r(s)==n}return Ly=a,Ly}var Uy,nB;function iL(){if(nB)return Uy;nB=1;var r=L_();function t(n){return r(n)&&n!=+n}return Uy=t,Uy}var oL=iL();const V1=Zs(oL);var lL=L_();const cL=Zs(lL);var wd=function(t){return t===0?0:t>0?1:-1},JA=function(t){return $1(t)&&t.indexOf("%")===t.length-1},mn=function(t){return cL(t)&&!V1(t)},Yl=function(t){return mn(t)||$1(t)},dL=0,Om=function(t){var n=++dL;return"".concat(t||"").concat(n)},Cd=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mn(t)&&!$1(t))return a;var i;if(JA(t)){var c=t.indexOf("%");i=n*parseFloat(t.slice(0,c))/100}else i=+t;return V1(i)&&(i=a),s&&i>n&&(i=n),i},iA=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},uL=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},du=function(t,n){return mn(t)&&mn(n)?function(a){return t+a*(n-t)}:function(){return n}};function Pv(r,t,n){return!r||!r.length?null:r.find(function(a){return a&&(typeof t=="function"?t(a):hu(a,t))===n})}function Zp(r,t){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(t,n)||r[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(r,a))return!1;return!0}function FC(r){"@babel/helpers - typeof";return FC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FC(r)}var hL=["viewBox","children"],fL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aB=["points","pathLength"],Hy={svg:hL,polygon:aB,polyline:aB},B4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!_m(a))return null;var s={};return Object.keys(a).forEach(function(i){B4.includes(i)&&(s[i]=n||function(c){return a[i](a,c)})}),s},AL=function(t,n,a){return function(s){return t(n,a,s),null}},cp=function(t,n,a){if(!_m(t)||FC(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var c=t[i];B4.includes(i)&&typeof c=="function"&&(s||(s={}),s[i]=AL(c,n,a))}),s},pL=["children"],mL=["children"];function sB(r,t){if(r==null)return{};var n=gL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function gL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function PC(r){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(r)}var iB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},oB=null,Qy=null,I4=function r(t){if(t===oB&&Array.isArray(Qy))return Qy;var n=[];return C.Children.forEach(t,function(a){os(a)||(sL.isFragment(a)?n=n.concat(r(a.props.children)):n.push(a))}),Qy=n,oB=t,n};function fu(r,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return vf(s)}):a=[vf(t)],I4(r).forEach(function(s){var i=hu(s,"type.displayName")||hu(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function lu(r,t){var n=fu(r,t);return n&&n[0]}var lB=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!mn(a)||a<=0||!mn(s)||s<=0)},vL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xL=function(t){return t&&t.type&&$1(t.type)&&vL.indexOf(t.type)>=0},yL=function(t){return t&&PC(t)==="object"&&"clipDot"in t},jL=function(t,n,a,s){var i,c=(i=Hy==null?void 0:Hy[s])!==null&&i!==void 0?i:[];return!Xa(t)&&(s&&c.includes(n)||fL.includes(n))||a&&B4.includes(n)},ka=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(C.isValidElement(t)&&(s=t.props),!_m(s))return null;var i={};return Object.keys(s).forEach(function(c){var o;jL((o=s)===null||o===void 0?void 0:o[c],c,n,a)&&(i[c]=s[c])}),i},DC=function r(t,n){if(t===n)return!0;var a=C.Children.count(t);if(a!==C.Children.count(n))return!1;if(a===0)return!0;if(a===1)return cB(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],c=n[s];if(Array.isArray(i)||Array.isArray(c)){if(!r(i,c))return!1}else if(!cB(i,c))return!1}return!0},cB=function(t,n){if(os(t)&&os(n))return!0;if(!os(t)&&!os(n)){var a=t.props||{},s=a.children,i=sB(a,pL),c=n.props||{},o=c.children,d=sB(c,mL);return s&&o?Zp(i,d)&&DC(s,o):!s&&!o?Zp(i,d):!1}return!1},dB=function(t,n){var a=[],s={};return I4(t).forEach(function(i,c){if(xL(i))a.push(i);else if(i){var o=vf(i.type),d=n[o]||{},l=d.handler,u=d.once;if(l&&(!u||!s[o])){var h=l(i,o,c);a.push(h),s[o]=!0}}}),a},bL=function(t){var n=t&&t.type;return n&&iB[n]?iB[n]:null},wL=function(t,n){return I4(n).indexOf(t)},CL=["children","width","height","viewBox","className","style","title","desc"];function MC(){return MC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},MC.apply(this,arguments)}function NL(r,t){if(r==null)return{};var n=SL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function SL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function RC(r){var t=r.children,n=r.width,a=r.height,s=r.viewBox,i=r.className,c=r.style,o=r.title,d=r.desc,l=NL(r,CL),u=s||{width:n,height:a,x:0,y:0},h=vs("recharts-surface",i);return Ct.createElement("svg",MC({},ka(l,!0,"svg"),{className:h,width:n,height:a,style:c,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ct.createElement("title",null,o),Ct.createElement("desc",null,d),t)}var EL=["children","className"];function LC(){return LC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},LC.apply(this,arguments)}function BL(r,t){if(r==null)return{};var n=IL(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function IL(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var oi=Ct.forwardRef(function(r,t){var n=r.children,a=r.className,s=BL(r,EL),i=vs("recharts-layer",a);return Ct.createElement("g",LC({className:i},ka(s,!0),{ref:t}),n)}),ph=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Wy,uB;function TL(){if(uB)return Wy;uB=1;function r(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(i);++s<i;)c[s]=t[s+n];return c}return Wy=r,Wy}var $y,hB;function kL(){if(hB)return $y;hB=1;var r=TL();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:r(n,a,s)}return $y=t,$y}var Vy,fB;function U_(){if(fB)return Vy;fB=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",c="\\u200d",o=RegExp("["+c+r+s+i+"]");function d(l){return o.test(l)}return Vy=d,Vy}var zy,AB;function _L(){if(AB)return zy;AB=1;function r(t){return t.split("")}return zy=r,zy}var Gy,pB;function OL(){if(pB)return Gy;pB=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",c="["+r+"]",o="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",l="(?:"+o+"|"+d+")",u="[^"+r+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",g=l+"?",m="["+i+"]?",x="(?:"+A+"(?:"+[u,h,f].join("|")+")"+m+g+")*",y=m+g+x,b="(?:"+[u+o+"?",o,h,f,c].join("|")+")",j=RegExp(d+"(?="+d+")|"+b+y,"g");function S(w){return w.match(j)||[]}return Gy=S,Gy}var Ky,mB;function FL(){if(mB)return Ky;mB=1;var r=_L(),t=U_(),n=OL();function a(s){return t(s)?n(s):r(s)}return Ky=a,Ky}var qy,gB;function PL(){if(gB)return qy;gB=1;var r=kL(),t=U_(),n=FL(),a=D_();function s(i){return function(c){c=a(c);var o=t(c)?n(c):void 0,d=o?o[0]:c.charAt(0),l=o?r(o,1).join(""):c.slice(1);return d[i]()+l}}return qy=s,qy}var Xy,vB;function DL(){if(vB)return Xy;vB=1;var r=PL(),t=r("toUpperCase");return Xy=t,Xy}var ML=DL();const Kx=Zs(ML);function so(r){return function(){return r}}const H_=Math.cos,Mv=Math.sin,mh=Math.sqrt,Rv=Math.PI,qx=2*Rv,UC=Math.PI,HC=2*UC,GA=1e-6,RL=HC-GA;function Q_(r){this._+=r[0];for(let t=1,n=r.length;t<n;++t)this._+=arguments[t]+r[t]}function LL(r){let t=Math.floor(r);if(!(t>=0))throw new Error(`invalid digits: ${r}`);if(t>15)return Q_;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class UL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q_:LL(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+c}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,o=this._y1,d=a-t,l=s-n,u=c-t,h=o-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>GA)if(!(Math.abs(h*d-l*u)>GA)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let A=a-c,g=s-o,m=d*d+l*l,x=A*A+g*g,y=Math.sqrt(m),b=Math.sqrt(f),j=i*Math.tan((UC-Math.acos((m+f-x)/(2*y*b)))/2),S=j/b,w=j/y;Math.abs(S-1)>GA&&this._append`L${t+S*u},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*A>u*g)},${this._x1=t+w*d},${this._y1=n+w*l}`}}arc(t,n,a,s,i,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(s),d=a*Math.sin(s),l=t+o,u=n+d,h=1^c,f=c?s-i:i-s;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>GA||Math.abs(this._y1-u)>GA)&&this._append`L${l},${u}`,a&&(f<0&&(f=f%HC+HC),f>RL?this._append`A${a},${a},0,1,${h},${t-o},${n-d}A${a},${a},0,1,${h},${this._x1=l},${this._y1=u}`:f>GA&&this._append`A${a},${a},0,${+(f>=UC)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function T4(r){let t=3;return r.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return r},()=>new UL(t)}function k4(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function W_(r){this._context=r}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:this._context.lineTo(r,t);break}}};function Xx(r){return new W_(r)}function $_(r){return r[0]}function V_(r){return r[1]}function z_(r,t){var n=so(!0),a=null,s=Xx,i=null,c=T4(o);r=typeof r=="function"?r:r===void 0?$_:so(r),t=typeof t=="function"?t:t===void 0?V_:so(t);function o(d){var l,u=(d=k4(d)).length,h,f=!1,A;for(a==null&&(i=s(A=c())),l=0;l<=u;++l)!(l<u&&n(h=d[l],l,d))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+r(h,l,d),+t(h,l,d));if(A)return i=null,A+""||null}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:so(+d),o):r},o.y=function(d){return arguments.length?(t=typeof d=="function"?d:so(+d),o):t},o.defined=function(d){return arguments.length?(n=typeof d=="function"?d:so(!!d),o):n},o.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),o):s},o.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),o):a},o}function d0(r,t,n){var a=null,s=so(!0),i=null,c=Xx,o=null,d=T4(l);r=typeof r=="function"?r:r===void 0?$_:so(+r),t=typeof t=="function"?t:so(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?V_:so(+n);function l(h){var f,A,g,m=(h=k4(h)).length,x,y=!1,b,j=new Array(m),S=new Array(m);for(i==null&&(o=c(b=d())),f=0;f<=m;++f){if(!(f<m&&s(x=h[f],f,h))===y)if(y=!y)A=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=A;--g)o.point(j[g],S[g]);o.lineEnd(),o.areaEnd()}y&&(j[f]=+r(x,f,h),S[f]=+t(x,f,h),o.point(a?+a(x,f,h):j[f],n?+n(x,f,h):S[f]))}if(b)return o=null,b+""||null}function u(){return z_().defined(s).curve(c).context(i)}return l.x=function(h){return arguments.length?(r=typeof h=="function"?h:so(+h),a=null,l):r},l.x0=function(h){return arguments.length?(r=typeof h=="function"?h:so(+h),l):r},l.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:so(+h),l):a},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:so(+h),n=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:so(+h),l):t},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:so(+h),l):n},l.lineX0=l.lineY0=function(){return u().x(r).y(t)},l.lineY1=function(){return u().x(r).y(n)},l.lineX1=function(){return u().x(a).y(t)},l.defined=function(h){return arguments.length?(s=typeof h=="function"?h:so(!!h),l):s},l.curve=function(h){return arguments.length?(c=h,i!=null&&(o=c(i)),l):c},l.context=function(h){return arguments.length?(h==null?i=o=null:o=c(i=h),l):i},l}class G_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function HL(r){return new G_(r,!0)}function QL(r){return new G_(r,!1)}const _4={draw(r,t){const n=mh(t/Rv);r.moveTo(n,0),r.arc(0,0,n,0,qx)}},WL={draw(r,t){const n=mh(t/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},K_=mh(1/3),$L=K_*2,VL={draw(r,t){const n=mh(t/$L),a=n*K_;r.moveTo(0,-n),r.lineTo(a,0),r.lineTo(0,n),r.lineTo(-a,0),r.closePath()}},zL={draw(r,t){const n=mh(t),a=-n/2;r.rect(a,a,n,n)}},GL=.8908130915292852,q_=Mv(Rv/10)/Mv(7*Rv/10),KL=Mv(qx/10)*q_,qL=-H_(qx/10)*q_,XL={draw(r,t){const n=mh(t*GL),a=KL*n,s=qL*n;r.moveTo(0,-n),r.lineTo(a,s);for(let i=1;i<5;++i){const c=qx*i/5,o=H_(c),d=Mv(c);r.lineTo(d*n,-o*n),r.lineTo(o*a-d*s,d*a+o*s)}r.closePath()}},Yy=mh(3),YL={draw(r,t){const n=-mh(t/(Yy*3));r.moveTo(0,n*2),r.lineTo(-Yy*n,-n),r.lineTo(Yy*n,-n),r.closePath()}},Ru=-.5,Lu=mh(3)/2,QC=1/mh(12),JL=(QC/2+1)*3,ZL={draw(r,t){const n=mh(t/JL),a=n/2,s=n*QC,i=a,c=n*QC+n,o=-i,d=c;r.moveTo(a,s),r.lineTo(i,c),r.lineTo(o,d),r.lineTo(Ru*a-Lu*s,Lu*a+Ru*s),r.lineTo(Ru*i-Lu*c,Lu*i+Ru*c),r.lineTo(Ru*o-Lu*d,Lu*o+Ru*d),r.lineTo(Ru*a+Lu*s,Ru*s-Lu*a),r.lineTo(Ru*i+Lu*c,Ru*c-Lu*i),r.lineTo(Ru*o+Lu*d,Ru*d-Lu*o),r.closePath()}};function e7(r,t){let n=null,a=T4(s);r=typeof r=="function"?r:so(r||_4),t=typeof t=="function"?t:so(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),r.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(r=typeof i=="function"?i:so(i),s):r},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:so(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Lv(){}function Uv(r,t,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+t)/6,(r._y0+4*r._y1+n)/6)}function X_(r){this._context=r}X_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function t7(r){return new X_(r)}function Y_(r){this._context=r}Y_.prototype={areaStart:Lv,areaEnd:Lv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._x2=r,this._y2=t;break;case 1:this._point=2,this._x3=r,this._y3=t;break;case 2:this._point=3,this._x4=r,this._y4=t,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+t)/6);break;default:Uv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function r7(r){return new Y_(r)}function J_(r){this._context=r}J_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Uv(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function n7(r){return new J_(r)}function Z_(r){this._context=r}Z_.prototype={areaStart:Lv,areaEnd:Lv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,t){r=+r,t=+t,this._point?this._context.lineTo(r,t):(this._point=1,this._context.moveTo(r,t))}};function a7(r){return new Z_(r)}function xB(r){return r<0?-1:1}function yB(r,t,n){var a=r._x1-r._x0,s=t-r._x1,i=(r._y1-r._y0)/(a||s<0&&-0),c=(n-r._y1)/(s||a<0&&-0),o=(i*s+c*a)/(a+s);return(xB(i)+xB(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(o))||0}function jB(r,t){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-t)/2:t}function Jy(r,t,n){var a=r._x0,s=r._y0,i=r._x1,c=r._y1,o=(i-a)/3;r._context.bezierCurveTo(a+o,s+o*t,i-o,c-o*n,i,c)}function Hv(r){this._context=r}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jy(this,this._t0,jB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){var n=NaN;if(r=+r,t=+t,!(r===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,Jy(this,jB(this,n=yB(this,r,t)),n);break;default:Jy(this,this._t0,n=yB(this,r,t));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t,this._t0=n}}};function eO(r){this._context=new tO(r)}(eO.prototype=Object.create(Hv.prototype)).point=function(r,t){Hv.prototype.point.call(this,t,r)};function tO(r){this._context=r}tO.prototype={moveTo:function(r,t){this._context.moveTo(t,r)},closePath:function(){this._context.closePath()},lineTo:function(r,t){this._context.lineTo(t,r)},bezierCurveTo:function(r,t,n,a,s,i){this._context.bezierCurveTo(t,r,a,n,i,s)}};function s7(r){return new Hv(r)}function i7(r){return new eO(r)}function rO(r){this._context=r}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,t=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],t[0]):this._context.moveTo(r[0],t[0]),n===2)this._context.lineTo(r[1],t[1]);else for(var a=bB(r),s=bB(t),i=0,c=1;c<n;++i,++c)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],r[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,t){this._x.push(+r),this._y.push(+t)}};function bB(r){var t,n=r.length-1,a,s=new Array(n),i=new Array(n),c=new Array(n);for(s[0]=0,i[0]=2,c[0]=r[0]+2*r[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,c[t]=4*r[t]+2*r[t+1];for(s[n-1]=2,i[n-1]=7,c[n-1]=8*r[n-1]+r[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/i[t];for(i[n-1]=(r[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*r[t+1]-s[t+1];return[s,i]}function o7(r){return new rO(r)}function Yx(r,t){this._context=r,this._t=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(r,t);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=r,this._y=t}};function l7(r){return new Yx(r,.5)}function c7(r){return new Yx(r,0)}function d7(r){return new Yx(r,1)}function rm(r,t){if((c=r.length)>1)for(var n=1,a,s,i=r[t[0]],c,o=i.length;n<c;++n)for(s=i,i=r[t[n]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function WC(r){for(var t=r.length,n=new Array(t);--t>=0;)n[t]=t;return n}function u7(r,t){return r[t]}function h7(r){const t=[];return t.key=r,t}function f7(){var r=so([]),t=WC,n=rm,a=u7;function s(i){var c=Array.from(r.apply(this,arguments),h7),o,d=c.length,l=-1,u;for(const h of i)for(o=0,++l;o<d;++o)(c[o][l]=[0,+a(h,c[o].key,l,i)]).data=h;for(o=0,u=k4(t(c));o<d;++o)c[u[o]].index=o;return n(c,u),c}return s.keys=function(i){return arguments.length?(r=typeof i=="function"?i:so(Array.from(i)),s):r},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:so(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?WC:typeof i=="function"?i:so(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??rm,s):n},s}function A7(r,t){if((a=r.length)>0){for(var n,a,s=0,i=r[0].length,c;s<i;++s){for(c=n=0;n<a;++n)c+=r[n][s][1]||0;if(c)for(n=0;n<a;++n)r[n][s][1]/=c}rm(r,t)}}function p7(r,t){if((s=r.length)>0){for(var n=0,a=r[t[0]],s,i=a.length;n<i;++n){for(var c=0,o=0;c<s;++c)o+=r[c][n][1]||0;a[n][1]+=a[n][0]=-o/2}rm(r,t)}}function m7(r,t){if(!(!((c=r.length)>0)||!((i=(s=r[t[0]]).length)>0))){for(var n=0,a=1,s,i,c;a<i;++a){for(var o=0,d=0,l=0;o<c;++o){for(var u=r[t[o]],h=u[a][1]||0,f=u[a-1][1]||0,A=(h-f)/2,g=0;g<o;++g){var m=r[t[g]],x=m[a][1]||0,y=m[a-1][1]||0;A+=x-y}d+=h,l+=A*h}s[a-1][1]+=s[a-1][0]=n,d&&(n-=l/d)}s[a-1][1]+=s[a-1][0]=n,rm(r,t)}}function l1(r){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(r)}var g7=["type","size","sizeType"];function $C(){return $C=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$C.apply(this,arguments)}function wB(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function CB(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(n),!0).forEach(function(a){v7(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function v7(r,t,n){return t=x7(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function x7(r){var t=y7(r,"string");return l1(t)=="symbol"?t:t+""}function y7(r,t){if(l1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(l1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function j7(r,t){if(r==null)return{};var n=b7(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function b7(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var nO={symbolCircle:_4,symbolCross:WL,symbolDiamond:VL,symbolSquare:zL,symbolStar:XL,symbolTriangle:YL,symbolWye:ZL},w7=Math.PI/180,C7=function(t){var n="symbol".concat(Kx(t));return nO[n]||_4},N7=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*w7;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},S7=function(t,n){nO["symbol".concat(Kx(t))]=n},O4=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,c=t.sizeType,o=c===void 0?"area":c,d=j7(t,g7),l=CB(CB({},d),{},{type:a,size:i,sizeType:o}),u=function(){var x=C7(a),y=e7().type(x).size(N7(i,o,a));return y()},h=l.className,f=l.cx,A=l.cy,g=ka(l,!0);return f===+f&&A===+A&&i===+i?Ct.createElement("path",$C({},g,{className:vs("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(A,")"),d:u()})):null};O4.registerSymbol=S7;function nm(r){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(r)}function VC(){return VC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},VC.apply(this,arguments)}function NB(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function E7(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NB(Object(n),!0).forEach(function(a){c1(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function B7(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function I7(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,sO(a.key),a)}}function T7(r,t,n){return t&&I7(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function k7(r,t,n){return t=Qv(t),_7(r,aO()?Reflect.construct(t,n||[],Qv(r).constructor):t.apply(r,n))}function _7(r,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O7(r)}function O7(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!r})()}function Qv(r){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(r)}function F7(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&zC(r,t)}function zC(r,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zC(r,t)}function c1(r,t,n){return t=sO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function sO(r){var t=P7(r,"string");return nm(t)=="symbol"?t:t+""}function P7(r,t){if(nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Uu=32,F4=(function(r){function t(){return B7(this,t),k7(this,t,arguments)}return F7(t,r),T7(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Uu/2,c=Uu/6,o=Uu/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Ct.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Uu,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Ct.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Uu,"M").concat(2*o,",").concat(i,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Ct.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Uu/8,"h").concat(Uu,"v").concat(Uu*3/4,"h").concat(-Uu,"z"),className:"recharts-legend-icon"});if(Ct.isValidElement(a.legendIcon)){var l=E7({},a);return delete l.legendIcon,Ct.cloneElement(a.legendIcon,l)}return Ct.createElement(O4,{fill:d,cx:i,cy:i,size:Uu,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,c=s.iconSize,o=s.layout,d=s.formatter,l=s.inactiveColor,u={x:0,y:0,width:Uu,height:Uu},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(A,g){var m=A.formatter||d,x=vs(c1(c1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",A.inactive));if(A.type==="none")return null;var y=Xa(A.value)?null:A.value;ph(!Xa(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=A.inactive?l:A.color;return Ct.createElement("li",VC({className:x,style:h,key:"legend-item-".concat(g)},cp(a.props,A,g)),Ct.createElement(RC,{width:c,height:c,viewBox:u,style:f},a.renderIcon(A)),Ct.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,A,g):y))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,c=a.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?c:"left"};return Ct.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(C.PureComponent);c1(F4,"displayName","Legend");c1(F4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zy,SB;function D7(){if(SB)return Zy;SB=1;var r=Vx();function t(){this.__data__=new r,this.size=0}return Zy=t,Zy}var ej,EB;function M7(){if(EB)return ej;EB=1;function r(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return ej=r,ej}var tj,BB;function R7(){if(BB)return tj;BB=1;function r(t){return this.__data__.get(t)}return tj=r,tj}var rj,IB;function L7(){if(IB)return rj;IB=1;function r(t){return this.__data__.has(t)}return rj=r,rj}var nj,TB;function U7(){if(TB)return nj;TB=1;var r=Vx(),t=C4(),n=N4(),a=200;function s(i,c){var o=this.__data__;if(o instanceof r){var d=o.__data__;if(!t||d.length<a-1)return d.push([i,c]),this.size=++o.size,this;o=this.__data__=new n(d)}return o.set(i,c),this.size=o.size,this}return nj=s,nj}var aj,kB;function iO(){if(kB)return aj;kB=1;var r=Vx(),t=D7(),n=M7(),a=R7(),s=L7(),i=U7();function c(o){var d=this.__data__=new r(o);this.size=d.size}return c.prototype.clear=t,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,aj=c,aj}var sj,_B;function H7(){if(_B)return sj;_B=1;var r="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,r),this}return sj=t,sj}var ij,OB;function Q7(){if(OB)return ij;OB=1;function r(t){return this.__data__.has(t)}return ij=r,ij}var oj,FB;function oO(){if(FB)return oj;FB=1;var r=N4(),t=H7(),n=Q7();function a(s){var i=-1,c=s==null?0:s.length;for(this.__data__=new r;++i<c;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,oj=a,oj}var lj,PB;function lO(){if(PB)return lj;PB=1;function r(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return lj=r,lj}var cj,DB;function cO(){if(DB)return cj;DB=1;function r(t,n){return t.has(n)}return cj=r,cj}var dj,MB;function dO(){if(MB)return dj;MB=1;var r=oO(),t=lO(),n=cO(),a=1,s=2;function i(c,o,d,l,u,h){var f=d&a,A=c.length,g=o.length;if(A!=g&&!(f&&g>A))return!1;var m=h.get(c),x=h.get(o);if(m&&x)return m==o&&x==c;var y=-1,b=!0,j=d&s?new r:void 0;for(h.set(c,o),h.set(o,c);++y<A;){var S=c[y],w=o[y];if(l)var E=f?l(w,S,y,o,c,h):l(S,w,y,c,o,h);if(E!==void 0){if(E)continue;b=!1;break}if(j){if(!t(o,function(I,L){if(!n(j,L)&&(S===I||u(S,I,d,l,h)))return j.push(L)})){b=!1;break}}else if(!(S===w||u(S,w,d,l,h))){b=!1;break}}return h.delete(c),h.delete(o),b}return dj=i,dj}var uj,RB;function W7(){if(RB)return uj;RB=1;var r=Qh(),t=r.Uint8Array;return uj=t,uj}var hj,LB;function $7(){if(LB)return hj;LB=1;function r(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return hj=r,hj}var fj,UB;function P4(){if(UB)return fj;UB=1;function r(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return fj=r,fj}var Aj,HB;function V7(){if(HB)return Aj;HB=1;var r=W1(),t=W7(),n=w4(),a=dO(),s=$7(),i=P4(),c=1,o=2,d="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",A="[object RegExp]",g="[object Set]",m="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",j=r?r.prototype:void 0,S=j?j.valueOf:void 0;function w(E,I,L,Z,ne,G,le){switch(L){case b:if(E.byteLength!=I.byteLength||E.byteOffset!=I.byteOffset)return!1;E=E.buffer,I=I.buffer;case y:return!(E.byteLength!=I.byteLength||!G(new t(E),new t(I)));case d:case l:case f:return n(+E,+I);case u:return E.name==I.name&&E.message==I.message;case A:case m:return E==I+"";case h:var V=s;case g:var me=Z&c;if(V||(V=i),E.size!=I.size&&!me)return!1;var $=le.get(E);if($)return $==I;Z|=o,le.set(E,I);var X=a(V(E),V(I),Z,ne,G,le);return le.delete(E),X;case x:if(S)return S.call(E)==S.call(I)}return!1}return Aj=w,Aj}var pj,QB;function uO(){if(QB)return pj;QB=1;function r(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return pj=r,pj}var mj,WB;function z7(){if(WB)return mj;WB=1;var r=uO(),t=Qd();function n(a,s,i){var c=s(a);return t(a)?c:r(c,i(a))}return mj=n,mj}var gj,$B;function G7(){if($B)return gj;$B=1;function r(t,n){for(var a=-1,s=t==null?0:t.length,i=0,c=[];++a<s;){var o=t[a];n(o,a,t)&&(c[i++]=o)}return c}return gj=r,gj}var vj,VB;function K7(){if(VB)return vj;VB=1;function r(){return[]}return vj=r,vj}var xj,zB;function q7(){if(zB)return xj;zB=1;var r=G7(),t=K7(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(c){return c==null?[]:(c=Object(c),r(s(c),function(o){return a.call(c,o)}))}:t;return xj=i,xj}var yj,GB;function X7(){if(GB)return yj;GB=1;function r(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return yj=r,yj}var jj,KB;function Y7(){if(KB)return jj;KB=1;var r=Sf(),t=Ef(),n="[object Arguments]";function a(s){return t(s)&&r(s)==n}return jj=a,jj}var bj,qB;function D4(){if(qB)return bj;qB=1;var r=Y7(),t=Ef(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=r((function(){return arguments})())?r:function(c){return t(c)&&a.call(c,"callee")&&!s.call(c,"callee")};return bj=i,bj}var Lg={exports:{}},wj,XB;function J7(){if(XB)return wj;XB=1;function r(){return!1}return wj=r,wj}Lg.exports;var YB;function hO(){return YB||(YB=1,(function(r,t){var n=Qh(),a=J7(),s=t&&!t.nodeType&&t,i=s&&!0&&r&&!r.nodeType&&r,c=i&&i.exports===s,o=c?n.Buffer:void 0,d=o?o.isBuffer:void 0,l=d||a;r.exports=l})(Lg,Lg.exports)),Lg.exports}var Cj,JB;function M4(){if(JB)return Cj;JB=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??r,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return Cj=n,Cj}var Nj,ZB;function R4(){if(ZB)return Nj;ZB=1;var r=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Nj=t,Nj}var Sj,e5;function Z7(){if(e5)return Sj;e5=1;var r=Sf(),t=R4(),n=Ef(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",c="[object Date]",o="[object Error]",d="[object Function]",l="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",A="[object Set]",g="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",j="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",L="[object Uint8ClampedArray]",Z="[object Uint16Array]",ne="[object Uint32Array]",G={};G[b]=G[j]=G[S]=G[w]=G[E]=G[I]=G[L]=G[Z]=G[ne]=!0,G[a]=G[s]=G[x]=G[i]=G[y]=G[c]=G[o]=G[d]=G[l]=G[u]=G[h]=G[f]=G[A]=G[g]=G[m]=!1;function le(V){return n(V)&&t(V.length)&&!!G[r(V)]}return Sj=le,Sj}var Ej,t5;function fO(){if(t5)return Ej;t5=1;function r(t){return function(n){return t(n)}}return Ej=r,Ej}var Ug={exports:{}};Ug.exports;var r5;function eU(){return r5||(r5=1,(function(r,t){var n=O_(),a=t&&!t.nodeType&&t,s=a&&!0&&r&&!r.nodeType&&r,i=s&&s.exports===a,c=i&&n.process,o=(function(){try{var d=s&&s.require&&s.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();r.exports=o})(Ug,Ug.exports)),Ug.exports}var Bj,n5;function AO(){if(n5)return Bj;n5=1;var r=Z7(),t=fO(),n=eU(),a=n&&n.isTypedArray,s=a?t(a):r;return Bj=s,Bj}var Ij,a5;function tU(){if(a5)return Ij;a5=1;var r=X7(),t=D4(),n=Qd(),a=hO(),s=M4(),i=AO(),c=Object.prototype,o=c.hasOwnProperty;function d(l,u){var h=n(l),f=!h&&t(l),A=!h&&!f&&a(l),g=!h&&!f&&!A&&i(l),m=h||f||A||g,x=m?r(l.length,String):[],y=x.length;for(var b in l)(u||o.call(l,b))&&!(m&&(b=="length"||A&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||s(b,y)))&&x.push(b);return x}return Ij=d,Ij}var Tj,s5;function rU(){if(s5)return Tj;s5=1;var r=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||r;return n===s}return Tj=t,Tj}var kj,i5;function pO(){if(i5)return kj;i5=1;function r(t,n){return function(a){return t(n(a))}}return kj=r,kj}var _j,o5;function nU(){if(o5)return _j;o5=1;var r=pO(),t=r(Object.keys,Object);return _j=t,_j}var Oj,l5;function aU(){if(l5)return Oj;l5=1;var r=rU(),t=nU(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!r(i))return t(i);var c=[];for(var o in Object(i))a.call(i,o)&&o!="constructor"&&c.push(o);return c}return Oj=s,Oj}var Fj,c5;function z1(){if(c5)return Fj;c5=1;var r=b4(),t=R4();function n(a){return a!=null&&t(a.length)&&!r(a)}return Fj=n,Fj}var Pj,d5;function Jx(){if(d5)return Pj;d5=1;var r=tU(),t=aU(),n=z1();function a(s){return n(s)?r(s):t(s)}return Pj=a,Pj}var Dj,u5;function sU(){if(u5)return Dj;u5=1;var r=z7(),t=q7(),n=Jx();function a(s){return r(s,n,t)}return Dj=a,Dj}var Mj,h5;function iU(){if(h5)return Mj;h5=1;var r=sU(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,c,o,d,l,u){var h=o&t,f=r(i),A=f.length,g=r(c),m=g.length;if(A!=m&&!h)return!1;for(var x=A;x--;){var y=f[x];if(!(h?y in c:a.call(c,y)))return!1}var b=u.get(i),j=u.get(c);if(b&&j)return b==c&&j==i;var S=!0;u.set(i,c),u.set(c,i);for(var w=h;++x<A;){y=f[x];var E=i[y],I=c[y];if(d)var L=h?d(I,E,y,c,i,u):d(E,I,y,i,c,u);if(!(L===void 0?E===I||l(E,I,o,d,u):L)){S=!1;break}w||(w=y=="constructor")}if(S&&!w){var Z=i.constructor,ne=c.constructor;Z!=ne&&"constructor"in i&&"constructor"in c&&!(typeof Z=="function"&&Z instanceof Z&&typeof ne=="function"&&ne instanceof ne)&&(S=!1)}return u.delete(i),u.delete(c),S}return Mj=s,Mj}var Rj,f5;function oU(){if(f5)return Rj;f5=1;var r=Ap(),t=Qh(),n=r(t,"DataView");return Rj=n,Rj}var Lj,A5;function lU(){if(A5)return Lj;A5=1;var r=Ap(),t=Qh(),n=r(t,"Promise");return Lj=n,Lj}var Uj,p5;function mO(){if(p5)return Uj;p5=1;var r=Ap(),t=Qh(),n=r(t,"Set");return Uj=n,Uj}var Hj,m5;function cU(){if(m5)return Hj;m5=1;var r=Ap(),t=Qh(),n=r(t,"WeakMap");return Hj=n,Hj}var Qj,g5;function dU(){if(g5)return Qj;g5=1;var r=oU(),t=C4(),n=lU(),a=mO(),s=cU(),i=Sf(),c=F_(),o="[object Map]",d="[object Object]",l="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",A=c(r),g=c(t),m=c(n),x=c(a),y=c(s),b=i;return(r&&b(new r(new ArrayBuffer(1)))!=f||t&&b(new t)!=o||n&&b(n.resolve())!=l||a&&b(new a)!=u||s&&b(new s)!=h)&&(b=function(j){var S=i(j),w=S==d?j.constructor:void 0,E=w?c(w):"";if(E)switch(E){case A:return f;case g:return o;case m:return l;case x:return u;case y:return h}return S}),Qj=b,Qj}var Wj,v5;function uU(){if(v5)return Wj;v5=1;var r=iO(),t=dO(),n=V7(),a=iU(),s=dU(),i=Qd(),c=hO(),o=AO(),d=1,l="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,A=f.hasOwnProperty;function g(m,x,y,b,j,S){var w=i(m),E=i(x),I=w?u:s(m),L=E?u:s(x);I=I==l?h:I,L=L==l?h:L;var Z=I==h,ne=L==h,G=I==L;if(G&&c(m)){if(!c(x))return!1;w=!0,Z=!1}if(G&&!Z)return S||(S=new r),w||o(m)?t(m,x,y,b,j,S):n(m,x,I,y,b,j,S);if(!(y&d)){var le=Z&&A.call(m,"__wrapped__"),V=ne&&A.call(x,"__wrapped__");if(le||V){var me=le?m.value():m,$=V?x.value():x;return S||(S=new r),j(me,$,y,b,S)}}return G?(S||(S=new r),a(m,x,y,b,j,S)):!1}return Wj=g,Wj}var $j,x5;function L4(){if(x5)return $j;x5=1;var r=uU(),t=Ef();function n(a,s,i,c,o){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:r(a,s,i,c,n,o)}return $j=n,$j}var Vj,y5;function hU(){if(y5)return Vj;y5=1;var r=iO(),t=L4(),n=1,a=2;function s(i,c,o,d){var l=o.length,u=l,h=!d;if(i==null)return!u;for(i=Object(i);l--;){var f=o[l];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++l<u;){f=o[l];var A=f[0],g=i[A],m=f[1];if(h&&f[2]){if(g===void 0&&!(A in i))return!1}else{var x=new r;if(d)var y=d(g,m,A,i,c,x);if(!(y===void 0?t(m,g,n|a,d,x):y))return!1}}return!0}return Vj=s,Vj}var zj,j5;function gO(){if(j5)return zj;j5=1;var r=mA();function t(n){return n===n&&!r(n)}return zj=t,zj}var Gj,b5;function fU(){if(b5)return Gj;b5=1;var r=gO(),t=Jx();function n(a){for(var s=t(a),i=s.length;i--;){var c=s[i],o=a[c];s[i]=[c,o,r(o)]}return s}return Gj=n,Gj}var Kj,w5;function vO(){if(w5)return Kj;w5=1;function r(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return Kj=r,Kj}var qj,C5;function AU(){if(C5)return qj;C5=1;var r=hU(),t=fU(),n=vO();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(c){return c===s||r(c,s,i)}}return qj=a,qj}var Xj,N5;function pU(){if(N5)return Xj;N5=1;function r(t,n){return t!=null&&n in Object(t)}return Xj=r,Xj}var Yj,S5;function mU(){if(S5)return Yj;S5=1;var r=M_(),t=D4(),n=Qd(),a=M4(),s=R4(),i=Gx();function c(o,d,l){d=r(d,o);for(var u=-1,h=d.length,f=!1;++u<h;){var A=i(d[u]);if(!(f=o!=null&&l(o,A)))break;o=o[A]}return f||++u!=h?f:(h=o==null?0:o.length,!!h&&s(h)&&a(A,h)&&(n(o)||t(o)))}return Yj=c,Yj}var Jj,E5;function gU(){if(E5)return Jj;E5=1;var r=pU(),t=mU();function n(a,s){return a!=null&&t(a,s,r)}return Jj=n,Jj}var Zj,B5;function vU(){if(B5)return Zj;B5=1;var r=L4(),t=R_(),n=gU(),a=j4(),s=gO(),i=vO(),c=Gx(),o=1,d=2;function l(u,h){return a(u)&&s(h)?i(c(u),h):function(f){var A=t(f,u);return A===void 0&&A===h?n(f,u):r(h,A,o|d)}}return Zj=l,Zj}var eb,I5;function Fm(){if(I5)return eb;I5=1;function r(t){return t}return eb=r,eb}var tb,T5;function xU(){if(T5)return tb;T5=1;function r(t){return function(n){return n==null?void 0:n[t]}}return tb=r,tb}var rb,k5;function yU(){if(k5)return rb;k5=1;var r=E4();function t(n){return function(a){return r(a,n)}}return rb=t,rb}var nb,_5;function jU(){if(_5)return nb;_5=1;var r=xU(),t=yU(),n=j4(),a=Gx();function s(i){return n(i)?r(a(i)):t(i)}return nb=s,nb}var ab,O5;function Wh(){if(O5)return ab;O5=1;var r=AU(),t=vU(),n=Fm(),a=Qd(),s=jU();function i(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?a(c)?t(c[0],c[1]):r(c):s(c)}return ab=i,ab}var sb,F5;function xO(){if(F5)return sb;F5=1;function r(t,n,a,s){for(var i=t.length,c=a+(s?1:-1);s?c--:++c<i;)if(n(t[c],c,t))return c;return-1}return sb=r,sb}var ib,P5;function bU(){if(P5)return ib;P5=1;function r(t){return t!==t}return ib=r,ib}var ob,D5;function wU(){if(D5)return ob;D5=1;function r(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return ob=r,ob}var lb,M5;function CU(){if(M5)return lb;M5=1;var r=xO(),t=bU(),n=wU();function a(s,i,c){return i===i?n(s,i,c):r(s,t,c)}return lb=a,lb}var cb,R5;function NU(){if(R5)return cb;R5=1;var r=CU();function t(n,a){var s=n==null?0:n.length;return!!s&&r(n,a,0)>-1}return cb=t,cb}var db,L5;function SU(){if(L5)return db;L5=1;function r(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return db=r,db}var ub,U5;function EU(){if(U5)return ub;U5=1;function r(){}return ub=r,ub}var hb,H5;function BU(){if(H5)return hb;H5=1;var r=mO(),t=EU(),n=P4(),a=1/0,s=r&&1/n(new r([,-0]))[1]==a?function(i){return new r(i)}:t;return hb=s,hb}var fb,Q5;function IU(){if(Q5)return fb;Q5=1;var r=oO(),t=NU(),n=SU(),a=cO(),s=BU(),i=P4(),c=200;function o(d,l,u){var h=-1,f=t,A=d.length,g=!0,m=[],x=m;if(u)g=!1,f=n;else if(A>=c){var y=l?null:s(d);if(y)return i(y);g=!1,f=a,x=new r}else x=l?[]:m;e:for(;++h<A;){var b=d[h],j=l?l(b):b;if(b=u||b!==0?b:0,g&&j===j){for(var S=x.length;S--;)if(x[S]===j)continue e;l&&x.push(j),m.push(b)}else f(x,j,u)||(x!==m&&x.push(j),m.push(b))}return m}return fb=o,fb}var Ab,W5;function TU(){if(W5)return Ab;W5=1;var r=Wh(),t=IU();function n(a,s){return a&&a.length?t(a,r(s,2)):[]}return Ab=n,Ab}var kU=TU();const $5=Zs(kU);function yO(r,t,n){return t===!0?$5(r,n):Xa(t)?$5(r,t):r}function am(r){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(r)}var _U=["ref"];function V5(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function uf(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(a){Zx(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function OU(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function z5(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,bO(a.key),a)}}function FU(r,t,n){return t&&z5(r.prototype,t),n&&z5(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function PU(r,t,n){return t=Wv(t),DU(r,jO()?Reflect.construct(t,n||[],Wv(r).constructor):t.apply(r,n))}function DU(r,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MU(r)}function MU(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jO=function(){return!!r})()}function Wv(r){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(r)}function RU(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&GC(r,t)}function GC(r,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GC(r,t)}function Zx(r,t,n){return t=bO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function bO(r){var t=LU(r,"string");return am(t)=="symbol"?t:t+""}function LU(r,t){if(am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function UU(r,t){if(r==null)return{};var n=HU(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function HU(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function QU(r){return r.value}function WU(r,t){if(Ct.isValidElement(r))return Ct.cloneElement(r,t);if(typeof r=="function")return Ct.createElement(r,t);t.ref;var n=UU(t,_U);return Ct.createElement(F4,n)}var G5=1,_h=(function(r){function t(){var n;OU(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=PU(this,t,[].concat(s)),Zx(n,"lastBoundingBox",{width:-1,height:-1}),n}return RU(t,r),FU(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>G5||Math.abs(s.height-this.lastBoundingBox.height)>G5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?uf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,c=s.align,o=s.verticalAlign,d=s.margin,l=s.chartWidth,u=s.chartHeight,h,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(c==="center"&&i==="vertical"){var A=this.getBBoxSnapshot();h={left:((l||0)-A.width)/2}}else h=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=o==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return uf(uf({},h),f)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,c=s.width,o=s.height,d=s.wrapperStyle,l=s.payloadUniqBy,u=s.payload,h=uf(uf({position:"absolute",width:c||"auto",height:o||"auto"},this.getDefaultPosition(d)),d);return Ct.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(A){a.wrapperNode=A}},WU(i,uf(uf({},this.props),{},{payload:yO(u,l,QU)})))}}],[{key:"getWithHeight",value:function(a,s){var i=uf(uf({},this.defaultProps),a.props),c=i.layout;return c==="vertical"&&mn(a.props.height)?{height:a.props.height}:c==="horizontal"?{width:a.props.width||s}:null}}])})(C.PureComponent);Zx(_h,"displayName","Legend");Zx(_h,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pb,K5;function $U(){if(K5)return pb;K5=1;var r=W1(),t=D4(),n=Qd(),a=r?r.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return pb=s,pb}var mb,q5;function wO(){if(q5)return mb;q5=1;var r=uO(),t=$U();function n(a,s,i,c,o){var d=-1,l=a.length;for(i||(i=t),o||(o=[]);++d<l;){var u=a[d];s>0&&i(u)?s>1?n(u,s-1,i,c,o):r(o,u):c||(o[o.length]=u)}return o}return mb=n,mb}var gb,X5;function VU(){if(X5)return gb;X5=1;function r(t){return function(n,a,s){for(var i=-1,c=Object(n),o=s(n),d=o.length;d--;){var l=o[t?d:++i];if(a(c[l],l,c)===!1)break}return n}}return gb=r,gb}var vb,Y5;function zU(){if(Y5)return vb;Y5=1;var r=VU(),t=r();return vb=t,vb}var xb,J5;function CO(){if(J5)return xb;J5=1;var r=zU(),t=Jx();function n(a,s){return a&&r(a,s,t)}return xb=n,xb}var yb,Z5;function GU(){if(Z5)return yb;Z5=1;var r=z1();function t(n,a){return function(s,i){if(s==null)return s;if(!r(s))return n(s,i);for(var c=s.length,o=a?c:-1,d=Object(s);(a?o--:++o<c)&&i(d[o],o,d)!==!1;);return s}}return yb=t,yb}var jb,e3;function U4(){if(e3)return jb;e3=1;var r=CO(),t=GU(),n=t(r);return jb=n,jb}var bb,t3;function NO(){if(t3)return bb;t3=1;var r=U4(),t=z1();function n(a,s){var i=-1,c=t(a)?Array(a.length):[];return r(a,function(o,d,l){c[++i]=s(o,d,l)}),c}return bb=n,bb}var wb,r3;function KU(){if(r3)return wb;r3=1;function r(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return wb=r,wb}var Cb,n3;function qU(){if(n3)return Cb;n3=1;var r=km();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,c=n===n,o=r(n),d=a!==void 0,l=a===null,u=a===a,h=r(a);if(!l&&!h&&!o&&n>a||o&&d&&u&&!l&&!h||i&&d&&u||!s&&u||!c)return 1;if(!i&&!o&&!h&&n<a||h&&s&&c&&!i&&!o||l&&s&&c||!d&&c||!u)return-1}return 0}return Cb=t,Cb}var Nb,a3;function XU(){if(a3)return Nb;a3=1;var r=qU();function t(n,a,s){for(var i=-1,c=n.criteria,o=a.criteria,d=c.length,l=s.length;++i<d;){var u=r(c[i],o[i]);if(u){if(i>=l)return u;var h=s[i];return u*(h=="desc"?-1:1)}}return n.index-a.index}return Nb=t,Nb}var Sb,s3;function YU(){if(s3)return Sb;s3=1;var r=S4(),t=E4(),n=Wh(),a=NO(),s=KU(),i=fO(),c=XU(),o=Fm(),d=Qd();function l(u,h,f){h.length?h=r(h,function(m){return d(m)?function(x){return t(x,m.length===1?m[0]:m)}:m}):h=[o];var A=-1;h=r(h,i(n));var g=a(u,function(m,x,y){var b=r(h,function(j){return j(m)});return{criteria:b,index:++A,value:m}});return s(g,function(m,x){return c(m,x,f)})}return Sb=l,Sb}var Eb,i3;function JU(){if(i3)return Eb;i3=1;function r(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return Eb=r,Eb}var Bb,o3;function ZU(){if(o3)return Bb;o3=1;var r=JU(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var c=arguments,o=-1,d=t(c.length-s,0),l=Array(d);++o<d;)l[o]=c[s+o];o=-1;for(var u=Array(s+1);++o<s;)u[o]=c[o];return u[s]=i(l),r(a,this,u)}}return Bb=n,Bb}var Ib,l3;function e9(){if(l3)return Ib;l3=1;function r(t){return function(){return t}}return Ib=r,Ib}var Tb,c3;function SO(){if(c3)return Tb;c3=1;var r=Ap(),t=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Tb=t,Tb}var kb,d3;function t9(){if(d3)return kb;d3=1;var r=e9(),t=SO(),n=Fm(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:r(i),writable:!0})}:n;return kb=a,kb}var _b,u3;function r9(){if(u3)return _b;u3=1;var r=800,t=16,n=Date.now;function a(s){var i=0,c=0;return function(){var o=n(),d=t-(o-c);if(c=o,d>0){if(++i>=r)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return _b=a,_b}var Ob,h3;function n9(){if(h3)return Ob;h3=1;var r=t9(),t=r9(),n=t(r);return Ob=n,Ob}var Fb,f3;function a9(){if(f3)return Fb;f3=1;var r=Fm(),t=ZU(),n=n9();function a(s,i){return n(t(s,i,r),s+"")}return Fb=a,Fb}var Pb,A3;function e2(){if(A3)return Pb;A3=1;var r=w4(),t=z1(),n=M4(),a=mA();function s(i,c,o){if(!a(o))return!1;var d=typeof c;return(d=="number"?t(o)&&n(c,o.length):d=="string"&&c in o)?r(o[c],i):!1}return Pb=s,Pb}var Db,p3;function s9(){if(p3)return Db;p3=1;var r=wO(),t=YU(),n=a9(),a=e2(),s=n(function(i,c){if(i==null)return[];var o=c.length;return o>1&&a(i,c[0],c[1])?c=[]:o>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),t(i,r(c,1),[])});return Db=s,Db}var i9=s9();const H4=Zs(i9);function d1(r){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(r)}function KC(){return KC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},KC.apply(this,arguments)}function o9(r,t){return u9(r)||d9(r,t)||c9(r,t)||l9()}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(r,t){if(r){if(typeof r=="string")return m3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m3(r,t)}}function m3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function d9(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function u9(r){if(Array.isArray(r))return r}function g3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Mb(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(a){h9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function h9(r,t,n){return t=f9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function f9(r){var t=A9(r,"string");return d1(t)=="symbol"?t:t+""}function A9(r,t){if(d1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(d1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function p9(r){return Array.isArray(r)&&Yl(r[0])&&Yl(r[1])?r.join(" ~ "):r}var m9=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,c=t.itemStyle,o=c===void 0?{}:c,d=t.labelStyle,l=d===void 0?{}:d,u=t.payload,h=t.formatter,f=t.itemSorter,A=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,j=function(){if(u&&u.length){var le={padding:0,margin:0},V=(f?H4(u,f):u).map(function(me,$){if(me.type==="none")return null;var X=Mb({display:"block",paddingTop:4,paddingBottom:4,color:me.color||"#000"},o),Ce=me.formatter||h||p9,M=me.value,q=me.name,ie=M,J=q;if(Ce&&ie!=null&&J!=null){var D=Ce(M,q,me,$,u);if(Array.isArray(D)){var ce=o9(D,2);ie=ce[0],J=ce[1]}else ie=D}return Ct.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:X},Yl(J)?Ct.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Yl(J)?Ct.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Ct.createElement("span",{className:"recharts-tooltip-item-value"},ie),Ct.createElement("span",{className:"recharts-tooltip-item-unit"},me.unit||""))});return Ct.createElement("ul",{className:"recharts-tooltip-item-list",style:le},V)}return null},S=Mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Mb({margin:0},l),E=!os(m),I=E?m:"",L=vs("recharts-default-tooltip",A),Z=vs("recharts-tooltip-label",g);E&&x&&u!==void 0&&u!==null&&(I=x(m,u));var ne=b?{role:"status","aria-live":"assertive"}:{};return Ct.createElement("div",KC({className:L,style:S},ne),Ct.createElement("p",{className:Z,style:w},Ct.isValidElement(I)?I:"".concat(I)),j())};function u1(r){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(r)}function u0(r,t,n){return t=g9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function g9(r){var t=v9(r,"string");return u1(t)=="symbol"?t:t+""}function v9(r,t){if(u1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(u1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var zm="recharts-tooltip-wrapper",x9={visibility:"hidden"};function y9(r){var t=r.coordinate,n=r.translateX,a=r.translateY;return vs(zm,u0(u0(u0(u0({},"".concat(zm,"-right"),mn(n)&&t&&mn(t.x)&&n>=t.x),"".concat(zm,"-left"),mn(n)&&t&&mn(t.x)&&n<t.x),"".concat(zm,"-bottom"),mn(a)&&t&&mn(t.y)&&a>=t.y),"".concat(zm,"-top"),mn(a)&&t&&mn(t.y)&&a<t.y))}function v3(r){var t=r.allowEscapeViewBox,n=r.coordinate,a=r.key,s=r.offsetTopLeft,i=r.position,c=r.reverseDirection,o=r.tooltipDimension,d=r.viewBox,l=r.viewBoxDimension;if(i&&mn(i[a]))return i[a];var u=n[a]-o-s,h=n[a]+s;if(t[a])return c[a]?u:h;if(c[a]){var f=u,A=d[a];return f<A?Math.max(h,d[a]):Math.max(u,d[a])}var g=h+o,m=d[a]+l;return g>m?Math.max(u,d[a]):Math.max(h,d[a])}function j9(r){var t=r.translateX,n=r.translateY,a=r.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function b9(r){var t=r.allowEscapeViewBox,n=r.coordinate,a=r.offsetTopLeft,s=r.position,i=r.reverseDirection,c=r.tooltipBox,o=r.useTranslate3d,d=r.viewBox,l,u,h;return c.height>0&&c.width>0&&n?(u=v3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),h=v3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),l=j9({translateX:u,translateY:h,useTranslate3d:o})):l=x9,{cssProperties:l,cssClasses:y9({translateX:u,translateY:h,coordinate:n})}}function sm(r){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(r)}function x3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function y3(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(a){XC(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function w9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function C9(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BO(a.key),a)}}function N9(r,t,n){return t&&C9(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function S9(r,t,n){return t=$v(t),E9(r,EO()?Reflect.construct(t,n||[],$v(r).constructor):t.apply(r,n))}function E9(r,t){if(t&&(sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B9(r)}function B9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!r})()}function $v(r){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(r)}function I9(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&qC(r,t)}function qC(r,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qC(r,t)}function XC(r,t,n){return t=BO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function BO(r){var t=T9(r,"string");return sm(t)=="symbol"?t:t+""}function T9(r,t){if(sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var j3=1,k9=(function(r){function t(){var n;w9(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=S9(this,t,[].concat(s)),XC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XC(n,"handleKeyDown",function(c){if(c.key==="Escape"){var o,d,l,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&o!==void 0?o:0,y:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),n}return I9(t,r),N9(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>j3||Math.abs(a.height-this.state.lastBoundingBox.height)>j3)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,c=s.allowEscapeViewBox,o=s.animationDuration,d=s.animationEasing,l=s.children,u=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,A=s.offset,g=s.position,m=s.reverseDirection,x=s.useTranslate3d,y=s.viewBox,b=s.wrapperStyle,j=b9({allowEscapeViewBox:c,coordinate:u,offsetTopLeft:A,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=j.cssClasses,w=j.cssProperties,E=y3(y3({transition:f&&i?"transform ".concat(o,"ms ").concat(d):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ct.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(L){a.wrapperNode=L}},l)}}])})(C.PureComponent),_9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pp={isSsr:_9()};function im(r){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(r)}function b3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function w3(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(a){Q4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function O9(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function F9(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,TO(a.key),a)}}function P9(r,t,n){return t&&F9(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function D9(r,t,n){return t=Vv(t),M9(r,IO()?Reflect.construct(t,n||[],Vv(r).constructor):t.apply(r,n))}function M9(r,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R9(r)}function R9(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IO(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!r})()}function Vv(r){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(r)}function L9(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&YC(r,t)}function YC(r,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YC(r,t)}function Q4(r,t,n){return t=TO(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function TO(r){var t=U9(r,"string");return im(t)=="symbol"?t:t+""}function U9(r,t){if(im(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function H9(r){return r.dataKey}function Q9(r,t){return Ct.isValidElement(r)?Ct.cloneElement(r,t):typeof r=="function"?Ct.createElement(r,t):Ct.createElement(m9,t)}var cu=(function(r){function t(){return O9(this,t),D9(this,t,arguments)}return L9(t,r),P9(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,c=s.allowEscapeViewBox,o=s.animationDuration,d=s.animationEasing,l=s.content,u=s.coordinate,h=s.filterNull,f=s.isAnimationActive,A=s.offset,g=s.payload,m=s.payloadUniqBy,x=s.position,y=s.reverseDirection,b=s.useTranslate3d,j=s.viewBox,S=s.wrapperStyle,w=g??[];h&&w.length&&(w=yO(g.filter(function(I){return I.value!=null&&(I.hide!==!0||a.props.includeHidden)}),m,H9));var E=w.length>0;return Ct.createElement(k9,{allowEscapeViewBox:c,animationDuration:o,animationEasing:d,isAnimationActive:f,active:i,coordinate:u,hasPayload:E,offset:A,position:x,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:S},Q9(l,w3(w3({},this.props),{},{payload:w})))}}])})(C.PureComponent);Q4(cu,"displayName","Tooltip");Q4(cu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rb,C3;function W9(){if(C3)return Rb;C3=1;var r=Qh(),t=function(){return r.Date.now()};return Rb=t,Rb}var Lb,N3;function $9(){if(N3)return Lb;N3=1;var r=/\s/;function t(n){for(var a=n.length;a--&&r.test(n.charAt(a)););return a}return Lb=t,Lb}var Ub,S3;function V9(){if(S3)return Ub;S3=1;var r=$9(),t=/^\s+/;function n(a){return a&&a.slice(0,r(a)+1).replace(t,"")}return Ub=n,Ub}var Hb,E3;function kO(){if(E3)return Hb;E3=1;var r=V9(),t=mA(),n=km(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,o=parseInt;function d(l){if(typeof l=="number")return l;if(n(l))return a;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=r(l);var h=i.test(l);return h||c.test(l)?o(l.slice(2),h?2:8):s.test(l)?a:+l}return Hb=d,Hb}var Qb,B3;function z9(){if(B3)return Qb;B3=1;var r=mA(),t=W9(),n=kO(),a="Expected a function",s=Math.max,i=Math.min;function c(o,d,l){var u,h,f,A,g,m,x=0,y=!1,b=!1,j=!0;if(typeof o!="function")throw new TypeError(a);d=n(d)||0,r(l)&&(y=!!l.leading,b="maxWait"in l,f=b?s(n(l.maxWait)||0,d):f,j="trailing"in l?!!l.trailing:j);function S(V){var me=u,$=h;return u=h=void 0,x=V,A=o.apply($,me),A}function w(V){return x=V,g=setTimeout(L,d),y?S(V):A}function E(V){var me=V-m,$=V-x,X=d-me;return b?i(X,f-$):X}function I(V){var me=V-m,$=V-x;return m===void 0||me>=d||me<0||b&&$>=f}function L(){var V=t();if(I(V))return Z(V);g=setTimeout(L,E(V))}function Z(V){return g=void 0,j&&u?S(V):(u=h=void 0,A)}function ne(){g!==void 0&&clearTimeout(g),x=0,u=m=h=g=void 0}function G(){return g===void 0?A:Z(t())}function le(){var V=t(),me=I(V);if(u=arguments,h=this,m=V,me){if(g===void 0)return w(m);if(b)return clearTimeout(g),g=setTimeout(L,d),S(m)}return g===void 0&&(g=setTimeout(L,d)),A}return le.cancel=ne,le.flush=G,le}return Qb=c,Qb}var Wb,I3;function G9(){if(I3)return Wb;I3=1;var r=z9(),t=mA(),n="Expected a function";function a(s,i,c){var o=!0,d=!0;if(typeof s!="function")throw new TypeError(n);return t(c)&&(o="leading"in c?!!c.leading:o,d="trailing"in c?!!c.trailing:d),r(s,i,{leading:o,maxWait:i,trailing:d})}return Wb=a,Wb}var K9=G9();const _O=Zs(K9);function h1(r){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(r)}function T3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function h0(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(a){q9(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function q9(r,t,n){return t=X9(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function X9(r){var t=Y9(r,"string");return h1(t)=="symbol"?t:t+""}function Y9(r,t){if(h1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(h1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function J9(r,t){return rH(r)||tH(r,t)||eH(r,t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eH(r,t){if(r){if(typeof r=="string")return k3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k3(r,t)}}function k3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function tH(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function rH(r){if(Array.isArray(r))return r}var nH=C.forwardRef(function(r,t){var n=r.aspect,a=r.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=r.width,c=i===void 0?"100%":i,o=r.height,d=o===void 0?"100%":o,l=r.minWidth,u=l===void 0?0:l,h=r.minHeight,f=r.maxHeight,A=r.children,g=r.debounce,m=g===void 0?0:g,x=r.id,y=r.className,b=r.onResize,j=r.style,S=j===void 0?{}:j,w=C.useRef(null),E=C.useRef();E.current=b,C.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var I=C.useState({containerWidth:s.width,containerHeight:s.height}),L=J9(I,2),Z=L[0],ne=L[1],G=C.useCallback(function(V,me){ne(function($){var X=Math.round(V),Ce=Math.round(me);return $.containerWidth===X&&$.containerHeight===Ce?$:{containerWidth:X,containerHeight:Ce}})},[]);C.useEffect(function(){var V=function(q){var ie,J=q[0].contentRect,D=J.width,ce=J.height;G(D,ce),(ie=E.current)===null||ie===void 0||ie.call(E,D,ce)};m>0&&(V=_O(V,m,{trailing:!0,leading:!1}));var me=new ResizeObserver(V),$=w.current.getBoundingClientRect(),X=$.width,Ce=$.height;return G(X,Ce),me.observe(w.current),function(){me.disconnect()}},[G,m]);var le=C.useMemo(function(){var V=Z.containerWidth,me=Z.containerHeight;if(V<0||me<0)return null;ph(JA(c)||JA(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),ph(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=JA(c)?V:c,X=JA(d)?me:d;n&&n>0&&($?X=$/n:X&&($=X*n),f&&X>f&&(X=f)),ph($>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,X,c,d,u,h,n);var Ce=!Array.isArray(A)&&vf(A.type).endsWith("Chart");return Ct.Children.map(A,function(M){return Ct.isValidElement(M)?C.cloneElement(M,h0({width:$,height:X},Ce?{style:h0({height:"100%",width:"100%",maxHeight:X,maxWidth:$},M.props.style)}:{})):M})},[n,A,d,f,h,u,Z,c]);return Ct.createElement("div",{id:x?"".concat(x):void 0,className:vs("recharts-responsive-container",y),style:h0(h0({},S),{},{width:c,height:d,minWidth:u,minHeight:h,maxHeight:f}),ref:w},le)}),t2=function(t){return null};t2.displayName="Cell";function f1(r){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(r)}function _3(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function JC(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(a){aH(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function aH(r,t,n){return t=sH(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function sH(r){var t=iH(r,"string");return f1(t)=="symbol"?t:t+""}function iH(r,t){if(f1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(f1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Tp={widthCache:{},cacheCount:0},oH=2e3,lH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O3="recharts_measurement_span";function cH(r){var t=JC({},r);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Yg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pp.isSsr)return{width:0,height:0};var a=cH(n),s=JSON.stringify({text:t,copyStyle:a});if(Tp.widthCache[s])return Tp.widthCache[s];try{var i=document.getElementById(O3);i||(i=document.createElement("span"),i.setAttribute("id",O3),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var c=JC(JC({},lH),a);Object.assign(i.style,c),i.textContent="".concat(t);var o=i.getBoundingClientRect(),d={width:o.width,height:o.height};return Tp.widthCache[s]=d,++Tp.cacheCount>oH&&(Tp.cacheCount=0,Tp.widthCache={}),d}catch{return{width:0,height:0}}},dH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function A1(r){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(r)}function zv(r,t){return AH(r)||fH(r,t)||hH(r,t)||uH()}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hH(r,t){if(r){if(typeof r=="string")return F3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F3(r,t)}}function F3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function fH(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function AH(r){if(Array.isArray(r))return r}function pH(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,gH(a.key),a)}}function mH(r,t,n){return t&&P3(r.prototype,t),n&&P3(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function gH(r){var t=vH(r,"string");return A1(t)=="symbol"?t:t+""}function vH(r,t){if(A1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(A1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var D3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jH=Object.keys(OO),Hp="NaN";function bH(r,t){return r*OO[t]}var f0=(function(){function r(t,n){pH(this,r),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!xH.test(n)&&(this.num=NaN,this.unit=""),jH.includes(n)&&(this.num=bH(t,n),this.unit="px")}return mH(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=yH.exec(n))!==null&&a!==void 0?a:[],i=zv(s,3),c=i[1],o=i[2];return new r(parseFloat(c),o??"")}}])})();function FO(r){if(r.includes(Hp))return Hp;for(var t=r;t.includes("*")||t.includes("/");){var n,a=(n=D3.exec(t))!==null&&n!==void 0?n:[],s=zv(a,4),i=s[1],c=s[2],o=s[3],d=f0.parse(i??""),l=f0.parse(o??""),u=c==="*"?d.multiply(l):d.divide(l);if(u.isNaN())return Hp;t=t.replace(D3,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=M3.exec(t))!==null&&h!==void 0?h:[],A=zv(f,4),g=A[1],m=A[2],x=A[3],y=f0.parse(g??""),b=f0.parse(x??""),j=m==="+"?y.add(b):y.subtract(b);if(j.isNaN())return Hp;t=t.replace(M3,j.toString())}return t}var R3=/\(([^()]*)\)/;function wH(r){for(var t=r;t.includes("(");){var n=R3.exec(t),a=zv(n,2),s=a[1];t=t.replace(R3,FO(s))}return t}function CH(r){var t=r.replace(/\s+/g,"");return t=wH(t),t=FO(t),t}function NH(r){try{return CH(r)}catch{return Hp}}function $b(r){var t=NH(r.slice(5,-1));return t===Hp?"":t}var SH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EH=["dx","dy","angle","className","breakAll"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ZC.apply(this,arguments)}function L3(r,t){if(r==null)return{};var n=BH(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function BH(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function U3(r,t){return _H(r)||kH(r,t)||TH(r,t)||IH()}function IH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TH(r,t){if(r){if(typeof r=="string")return H3(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H3(r,t)}}function H3(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function kH(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function _H(r){if(Array.isArray(r))return r}var PO=/[ \f\n\r\t\v\u2028\u2029]+/,DO=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];os(n)||(a?i=n.toString().split(""):i=n.toString().split(PO));var c=i.map(function(d){return{word:d,width:Yg(d,s).width}}),o=a?0:Yg("",s).width;return{wordsWithComputedWidth:c,spaceWidth:o}}catch{return null}},OH=function(t,n,a,s,i){var c=t.maxLines,o=t.children,d=t.style,l=t.breakAll,u=mn(c),h=o,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(X,Ce){var M=Ce.word,q=Ce.width,ie=X[X.length-1];if(ie&&(s==null||i||ie.width+q+a<Number(s)))ie.words.push(M),ie.width+=q+a;else{var J={words:[M],width:q};X.push(J)}return X},[])},A=f(n),g=function($){return $.reduce(function(X,Ce){return X.width>Ce.width?X:Ce})};if(!u)return A;for(var m="",x=function($){var X=h.slice(0,$),Ce=DO({breakAll:l,style:d,children:X+m}).wordsWithComputedWidth,M=f(Ce),q=M.length>c||g(M).width>Number(s);return[q,M]},y=0,b=h.length-1,j=0,S;y<=b&&j<=h.length-1;){var w=Math.floor((y+b)/2),E=w-1,I=x(E),L=U3(I,2),Z=L[0],ne=L[1],G=x(w),le=U3(G,1),V=le[0];if(!Z&&!V&&(y=w+1),Z&&V&&(b=w-1),!Z&&V){S=ne;break}j++}return S||A},Q3=function(t){var n=os(t)?[]:t.toString().split(PO);return[{words:n}]},FH=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,c=t.breakAll,o=t.maxLines;if((n||a)&&!pp.isSsr){var d,l,u=DO({breakAll:c,children:s,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;d=h,l=f}else return Q3(s);return OH({breakAll:c,children:s,maxLines:o,style:i},d,l,n,a)}return Q3(s)},W3="#808080",dp=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,c=t.lineHeight,o=c===void 0?"1em":c,d=t.capHeight,l=d===void 0?"0.71em":d,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,A=f===void 0?"start":f,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,y=x===void 0?W3:x,b=L3(t,SH),j=C.useMemo(function(){return FH({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),S=b.dx,w=b.dy,E=b.angle,I=b.className,L=b.breakAll,Z=L3(b,EH);if(!Yl(a)||!Yl(i))return null;var ne=a+(mn(S)?S:0),G=i+(mn(w)?w:0),le;switch(m){case"start":le=$b("calc(".concat(l,")"));break;case"middle":le=$b("calc(".concat((j.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:le=$b("calc(".concat(j.length-1," * -").concat(o,")"));break}var V=[];if(h){var me=j[0].width,$=b.width;V.push("scale(".concat((mn($)?$/me:1)/me,")"))}return E&&V.push("rotate(".concat(E,", ").concat(ne,", ").concat(G,")")),V.length&&(Z.transform=V.join(" ")),Ct.createElement("text",ZC({},ka(Z,!0),{x:ne,y:G,className:vs("recharts-text",I),textAnchor:A,fill:y.includes("url")?W3:y}),j.map(function(X,Ce){var M=X.words.join(L?"":" ");return Ct.createElement("tspan",{x:ne,dy:Ce===0?le:o,key:"".concat(M,"-").concat(Ce)},M)}))};function uA(r,t){return r==null||t==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function PH(r,t){return r==null||t==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function W4(r){let t,n,a;r.length!==2?(t=uA,n=(o,d)=>uA(r(o),d),a=(o,d)=>r(o)-d):(t=r===uA||r===PH?r:DH,n=r,a=r);function s(o,d,l=0,u=o.length){if(l<u){if(t(d,d)!==0)return u;do{const h=l+u>>>1;n(o[h],d)<0?l=h+1:u=h}while(l<u)}return l}function i(o,d,l=0,u=o.length){if(l<u){if(t(d,d)!==0)return u;do{const h=l+u>>>1;n(o[h],d)<=0?l=h+1:u=h}while(l<u)}return l}function c(o,d,l=0,u=o.length){const h=s(o,d,l,u-1);return h>l&&a(o[h-1],d)>-a(o[h],d)?h-1:h}return{left:s,center:c,right:i}}function DH(){return 0}function MO(r){return r===null?NaN:+r}function*MH(r,t){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const RH=W4(uA),G1=RH.right;W4(MO).center;class $3 extends Map{constructor(t,n=HH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(V3(this,t))}has(t){return super.has(V3(this,t))}set(t,n){return super.set(LH(this,t),n)}delete(t){return super.delete(UH(this,t))}}function V3({_intern:r,_key:t},n){const a=t(n);return r.has(a)?r.get(a):n}function LH({_intern:r,_key:t},n){const a=t(n);return r.has(a)?r.get(a):(r.set(a,n),n)}function UH({_intern:r,_key:t},n){const a=t(n);return r.has(a)&&(n=r.get(a),r.delete(a)),n}function HH(r){return r!==null&&typeof r=="object"?r.valueOf():r}function QH(r=uA){if(r===uA)return RO;if(typeof r!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=r(t,n);return a||a===0?a:(r(n,n)===0)-(r(t,t)===0)}}function RO(r,t){return(r==null||!(r>=r))-(t==null||!(t>=t))||(r<t?-1:r>t?1:0)}const WH=Math.sqrt(50),$H=Math.sqrt(10),VH=Math.sqrt(2);function Gv(r,t,n){const a=(t-r)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),c=i>=WH?10:i>=$H?5:i>=VH?2:1;let o,d,l;return s<0?(l=Math.pow(10,-s)/c,o=Math.round(r*l),d=Math.round(t*l),o/l<r&&++o,d/l>t&&--d,l=-l):(l=Math.pow(10,s)*c,o=Math.round(r/l),d=Math.round(t/l),o*l<r&&++o,d*l>t&&--d),d<o&&.5<=n&&n<2?Gv(r,t,n*2):[o,d,l]}function eN(r,t,n){if(t=+t,r=+r,n=+n,!(n>0))return[];if(r===t)return[r];const a=t<r,[s,i,c]=a?Gv(t,r,n):Gv(r,t,n);if(!(i>=s))return[];const o=i-s+1,d=new Array(o);if(a)if(c<0)for(let l=0;l<o;++l)d[l]=(i-l)/-c;else for(let l=0;l<o;++l)d[l]=(i-l)*c;else if(c<0)for(let l=0;l<o;++l)d[l]=(s+l)/-c;else for(let l=0;l<o;++l)d[l]=(s+l)*c;return d}function tN(r,t,n){return t=+t,r=+r,n=+n,Gv(r,t,n)[2]}function rN(r,t,n){t=+t,r=+r,n=+n;const a=t<r,s=a?tN(t,r,n):tN(r,t,n);return(a?-1:1)*(s<0?1/-s:s)}function z3(r,t){let n;for(const a of r)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function G3(r,t){let n;for(const a of r)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function LO(r,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(r.length-1,a)),!(n<=t&&t<=a))return r;for(s=s===void 0?RO:QH(s);a>n;){if(a-n>600){const d=a-n+1,l=t-n+1,u=Math.log(d),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(d-h)/d)*(l-d/2<0?-1:1),A=Math.max(n,Math.floor(t-l*h/d+f)),g=Math.min(a,Math.floor(t+(d-l)*h/d+f));LO(r,t,A,g,s)}const i=r[t];let c=n,o=a;for(Gm(r,n,t),s(r[a],i)>0&&Gm(r,n,a);c<o;){for(Gm(r,c,o),++c,--o;s(r[c],i)<0;)++c;for(;s(r[o],i)>0;)--o}s(r[n],i)===0?Gm(r,n,o):(++o,Gm(r,o,a)),o<=t&&(n=o+1),t<=o&&(a=o-1)}return r}function Gm(r,t,n){const a=r[t];r[t]=r[n],r[n]=a}function zH(r,t,n){if(r=Float64Array.from(MH(r)),!(!(a=r.length)||isNaN(t=+t))){if(t<=0||a<2)return G3(r);if(t>=1)return z3(r);var a,s=(a-1)*t,i=Math.floor(s),c=z3(LO(r,i).subarray(0,i+1)),o=G3(r.subarray(i+1));return c+(o-c)*(s-i)}}function GH(r,t,n=MO){if(!(!(a=r.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(r[0],0,r);if(t>=1)return+n(r[a-1],a-1,r);var a,s=(a-1)*t,i=Math.floor(s),c=+n(r[i],i,r),o=+n(r[i+1],i+1,r);return c+(o-c)*(s-i)}}function KH(r,t,n){r=+r,t=+t,n=(s=arguments.length)<2?(t=r,r=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-r)/n))|0,i=new Array(s);++a<s;)i[a]=r+a*n;return i}function Gu(r,t){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(t).domain(r);break}return this}function Bf(r,t){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nN=Symbol("implicit");function $4(){var r=new $3,t=[],n=[],a=nN;function s(i){let c=r.get(i);if(c===void 0){if(a!==nN)return a;r.set(i,c=t.push(i)-1)}return n[c%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],r=new $3;for(const c of i)r.has(c)||r.set(c,t.push(c)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return $4(t,n).unknown(a)},Gu.apply(s,arguments),s}function p1(){var r=$4().unknown(void 0),t=r.domain,n=r.range,a=0,s=1,i,c,o=!1,d=0,l=0,u=.5;delete r.unknown;function h(){var f=t().length,A=s<a,g=A?s:a,m=A?a:s;i=(m-g)/Math.max(1,f-d+l*2),o&&(i=Math.floor(i)),g+=(m-g-i*(f-d))*u,c=i*(1-d),o&&(g=Math.round(g),c=Math.round(c));var x=KH(f).map(function(y){return g+i*y});return n(A?x.reverse():x)}return r.domain=function(f){return arguments.length?(t(f),h()):t()},r.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,h()):[a,s]},r.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,o=!0,h()},r.bandwidth=function(){return c},r.step=function(){return i},r.round=function(f){return arguments.length?(o=!!f,h()):o},r.padding=function(f){return arguments.length?(d=Math.min(1,l=+f),h()):d},r.paddingInner=function(f){return arguments.length?(d=Math.min(1,f),h()):d},r.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},r.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},r.copy=function(){return p1(t(),[a,s]).round(o).paddingInner(d).paddingOuter(l).align(u)},Gu.apply(h(),arguments)}function UO(r){var t=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return UO(t())},r}function Jg(){return UO(p1.apply(null,arguments).paddingInner(1))}function V4(r,t,n){r.prototype=t.prototype=n,n.constructor=r}function HO(r,t){var n=Object.create(r.prototype);for(var a in t)n[a]=t[a];return n}function K1(){}var m1=.7,Kv=1/m1,em="\\s*([+-]?\\d+)\\s*",g1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qH=/^#([0-9a-f]{3,8})$/,XH=new RegExp(`^rgb\\(${em},${em},${em}\\)$`),YH=new RegExp(`^rgb\\(${Mh},${Mh},${Mh}\\)$`),JH=new RegExp(`^rgba\\(${em},${em},${em},${g1}\\)$`),ZH=new RegExp(`^rgba\\(${Mh},${Mh},${Mh},${g1}\\)$`),eQ=new RegExp(`^hsl\\(${g1},${Mh},${Mh}\\)$`),tQ=new RegExp(`^hsla\\(${g1},${Mh},${Mh},${g1}\\)$`),K3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V4(K1,v1,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:q3,formatHex:q3,formatHex8:rQ,formatHsl:nQ,formatRgb:X3,toString:X3});function q3(){return this.rgb().formatHex()}function rQ(){return this.rgb().formatHex8()}function nQ(){return QO(this).formatHsl()}function X3(){return this.rgb().formatRgb()}function v1(r){var t,n;return r=(r+"").trim().toLowerCase(),(t=qH.exec(r))?(n=t[1].length,t=parseInt(t[1],16),n===6?Y3(t):n===3?new Hd(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?A0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?A0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XH.exec(r))?new Hd(t[1],t[2],t[3],1):(t=YH.exec(r))?new Hd(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JH.exec(r))?A0(t[1],t[2],t[3],t[4]):(t=ZH.exec(r))?A0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eQ.exec(r))?eI(t[1],t[2]/100,t[3]/100,1):(t=tQ.exec(r))?eI(t[1],t[2]/100,t[3]/100,t[4]):K3.hasOwnProperty(r)?Y3(K3[r]):r==="transparent"?new Hd(NaN,NaN,NaN,0):null}function Y3(r){return new Hd(r>>16&255,r>>8&255,r&255,1)}function A0(r,t,n,a){return a<=0&&(r=t=n=NaN),new Hd(r,t,n,a)}function aQ(r){return r instanceof K1||(r=v1(r)),r?(r=r.rgb(),new Hd(r.r,r.g,r.b,r.opacity)):new Hd}function aN(r,t,n,a){return arguments.length===1?aQ(r):new Hd(r,t,n,a??1)}function Hd(r,t,n,a){this.r=+r,this.g=+t,this.b=+n,this.opacity=+a}V4(Hd,aN,HO(K1,{brighter(r){return r=r==null?Kv:Math.pow(Kv,r),new Hd(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?m1:Math.pow(m1,r),new Hd(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Hd(ap(this.r),ap(this.g),ap(this.b),qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J3,formatHex:J3,formatHex8:sQ,formatRgb:Z3,toString:Z3}));function J3(){return`#${ZA(this.r)}${ZA(this.g)}${ZA(this.b)}`}function sQ(){return`#${ZA(this.r)}${ZA(this.g)}${ZA(this.b)}${ZA((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z3(){const r=qv(this.opacity);return`${r===1?"rgb(":"rgba("}${ap(this.r)}, ${ap(this.g)}, ${ap(this.b)}${r===1?")":`, ${r})`}`}function qv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ap(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function ZA(r){return r=ap(r),(r<16?"0":"")+r.toString(16)}function eI(r,t,n,a){return a<=0?r=t=n=NaN:n<=0||n>=1?r=t=NaN:t<=0&&(r=NaN),new hh(r,t,n,a)}function QO(r){if(r instanceof hh)return new hh(r.h,r.s,r.l,r.opacity);if(r instanceof K1||(r=v1(r)),!r)return new hh;if(r instanceof hh)return r;r=r.rgb();var t=r.r/255,n=r.g/255,a=r.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),c=NaN,o=i-s,d=(i+s)/2;return o?(t===i?c=(n-a)/o+(n<a)*6:n===i?c=(a-t)/o+2:c=(t-n)/o+4,o/=d<.5?i+s:2-i-s,c*=60):o=d>0&&d<1?0:c,new hh(c,o,d,r.opacity)}function iQ(r,t,n,a){return arguments.length===1?QO(r):new hh(r,t,n,a??1)}function hh(r,t,n,a){this.h=+r,this.s=+t,this.l=+n,this.opacity=+a}V4(hh,iQ,HO(K1,{brighter(r){return r=r==null?Kv:Math.pow(Kv,r),new hh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?m1:Math.pow(m1,r),new hh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,t=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new Hd(Vb(r>=240?r-240:r+120,s,a),Vb(r,s,a),Vb(r<120?r+240:r-120,s,a),this.opacity)},clamp(){return new hh(tI(this.h),p0(this.s),p0(this.l),qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=qv(this.opacity);return`${r===1?"hsl(":"hsla("}${tI(this.h)}, ${p0(this.s)*100}%, ${p0(this.l)*100}%${r===1?")":`, ${r})`}`}}));function tI(r){return r=(r||0)%360,r<0?r+360:r}function p0(r){return Math.max(0,Math.min(1,r||0))}function Vb(r,t,n){return(r<60?t+(n-t)*r/60:r<180?n:r<240?t+(n-t)*(240-r)/60:t)*255}const z4=r=>()=>r;function oQ(r,t){return function(n){return r+n*t}}function lQ(r,t,n){return r=Math.pow(r,n),t=Math.pow(t,n)-r,n=1/n,function(a){return Math.pow(r+a*t,n)}}function cQ(r){return(r=+r)==1?WO:function(t,n){return n-t?lQ(t,n,r):z4(isNaN(t)?n:t)}}function WO(r,t){var n=t-r;return n?oQ(r,n):z4(isNaN(r)?t:r)}const rI=(function r(t){var n=cQ(t);function a(s,i){var c=n((s=aN(s)).r,(i=aN(i)).r),o=n(s.g,i.g),d=n(s.b,i.b),l=WO(s.opacity,i.opacity);return function(u){return s.r=c(u),s.g=o(u),s.b=d(u),s.opacity=l(u),s+""}}return a.gamma=r,a})(1);function dQ(r,t){t||(t=[]);var n=r?Math.min(t.length,r.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=r[s]*(1-i)+t[s]*i;return a}}function uQ(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function hQ(r,t){var n=t?t.length:0,a=r?Math.min(n,r.length):0,s=new Array(a),i=new Array(n),c;for(c=0;c<a;++c)s[c]=Pm(r[c],t[c]);for(;c<n;++c)i[c]=t[c];return function(o){for(c=0;c<a;++c)i[c]=s[c](o);return i}}function fQ(r,t){var n=new Date;return r=+r,t=+t,function(a){return n.setTime(r*(1-a)+t*a),n}}function Xv(r,t){return r=+r,t=+t,function(n){return r*(1-n)+t*n}}function AQ(r,t){var n={},a={},s;(r===null||typeof r!="object")&&(r={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in r?n[s]=Pm(r[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var sN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zb=new RegExp(sN.source,"g");function pQ(r){return function(){return r}}function mQ(r){return function(t){return r(t)+""}}function gQ(r,t){var n=sN.lastIndex=zb.lastIndex=0,a,s,i,c=-1,o=[],d=[];for(r=r+"",t=t+"";(a=sN.exec(r))&&(s=zb.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),o[c]?o[c]+=i:o[++c]=i),(a=a[0])===(s=s[0])?o[c]?o[c]+=s:o[++c]=s:(o[++c]=null,d.push({i:c,x:Xv(a,s)})),n=zb.lastIndex;return n<t.length&&(i=t.slice(n),o[c]?o[c]+=i:o[++c]=i),o.length<2?d[0]?mQ(d[0].x):pQ(t):(t=d.length,function(l){for(var u=0,h;u<t;++u)o[(h=d[u]).i]=h.x(l);return o.join("")})}function Pm(r,t){var n=typeof t,a;return t==null||n==="boolean"?z4(t):(n==="number"?Xv:n==="string"?(a=v1(t))?(t=a,rI):gQ:t instanceof v1?rI:t instanceof Date?fQ:uQ(t)?dQ:Array.isArray(t)?hQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?AQ:Xv)(r,t)}function G4(r,t){return r=+r,t=+t,function(n){return Math.round(r*(1-n)+t*n)}}function vQ(r,t){t===void 0&&(t=r,r=Pm);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=r(s,s=t[++n]);return function(c){var o=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return i[o](c-o)}}function xQ(r){return function(){return r}}function Yv(r){return+r}var nI=[0,1];function Nd(r){return r}function iN(r,t){return(t-=r=+r)?function(n){return(n-r)/t}:xQ(isNaN(t)?NaN:.5)}function yQ(r,t){var n;return r>t&&(n=r,r=t,t=n),function(a){return Math.max(r,Math.min(t,a))}}function jQ(r,t,n){var a=r[0],s=r[1],i=t[0],c=t[1];return s<a?(a=iN(s,a),i=n(c,i)):(a=iN(a,s),i=n(i,c)),function(o){return i(a(o))}}function bQ(r,t,n){var a=Math.min(r.length,t.length)-1,s=new Array(a),i=new Array(a),c=-1;for(r[a]<r[0]&&(r=r.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=iN(r[c],r[c+1]),i[c]=n(t[c],t[c+1]);return function(o){var d=G1(r,o,1,a)-1;return i[d](s[d](o))}}function q1(r,t){return t.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function r2(){var r=nI,t=nI,n=Pm,a,s,i,c=Nd,o,d,l;function u(){var f=Math.min(r.length,t.length);return c!==Nd&&(c=yQ(r[0],r[f-1])),o=f>2?bQ:jQ,d=l=null,h}function h(f){return f==null||isNaN(f=+f)?i:(d||(d=o(r.map(a),t,n)))(a(c(f)))}return h.invert=function(f){return c(s((l||(l=o(t,r.map(a),Xv)))(f)))},h.domain=function(f){return arguments.length?(r=Array.from(f,Yv),u()):r.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=G4,u()},h.clamp=function(f){return arguments.length?(c=f?!0:Nd,u()):c!==Nd},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,A){return a=f,s=A,u()}}function K4(){return r2()(Nd,Nd)}function wQ(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Jv(r,t){if(!isFinite(r)||r===0)return null;var n=(r=t?r.toExponential(t-1):r.toExponential()).indexOf("e"),a=r.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+r.slice(n+1)]}function om(r){return r=Jv(Math.abs(r)),r?r[1]:NaN}function CQ(r,t){return function(n,a){for(var s=n.length,i=[],c=0,o=r[0],d=0;s>0&&o>0&&(d+o+1>a&&(o=Math.max(1,a-d)),i.push(n.substring(s-=o,s+o)),!((d+=o+1)>a));)o=r[c=(c+1)%r.length];return i.reverse().join(t)}}function NQ(r){return function(t){return t.replace(/[0-9]/g,function(n){return r[+n]})}}var SQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x1(r){if(!(t=SQ.exec(r)))throw new Error("invalid format: "+r);var t;return new q4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}x1.prototype=q4.prototype;function q4(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}q4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EQ(r){e:for(var t=r.length,n=1,a=-1,s;n<t;++n)switch(r[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+r[n])break e;a>0&&(a=0);break}return a>0?r.slice(0,a)+r.slice(s+1):r}var Zv;function BQ(r,t){var n=Jv(r,t);if(!n)return Zv=void 0,r.toPrecision(t);var a=n[0],s=n[1],i=s-(Zv=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return i===c?a:i>c?a+new Array(i-c+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Jv(r,Math.max(0,t+i-1))[0]}function aI(r,t){var n=Jv(r,t);if(!n)return r+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const sI={"%":(r,t)=>(r*100).toFixed(t),b:r=>Math.round(r).toString(2),c:r=>r+"",d:wQ,e:(r,t)=>r.toExponential(t),f:(r,t)=>r.toFixed(t),g:(r,t)=>r.toPrecision(t),o:r=>Math.round(r).toString(8),p:(r,t)=>aI(r*100,t),r:aI,s:BQ,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function iI(r){return r}var oI=Array.prototype.map,lI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IQ(r){var t=r.grouping===void 0||r.thousands===void 0?iI:CQ(oI.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",a=r.currency===void 0?"":r.currency[1]+"",s=r.decimal===void 0?".":r.decimal+"",i=r.numerals===void 0?iI:NQ(oI.call(r.numerals,String)),c=r.percent===void 0?"%":r.percent+"",o=r.minus===void 0?"":r.minus+"",d=r.nan===void 0?"NaN":r.nan+"";function l(h,f){h=x1(h);var A=h.fill,g=h.align,m=h.sign,x=h.symbol,y=h.zero,b=h.width,j=h.comma,S=h.precision,w=h.trim,E=h.type;E==="n"?(j=!0,E="g"):sI[E]||(S===void 0&&(S=12),w=!0,E="g"),(y||A==="0"&&g==="=")&&(y=!0,A="0",g="=");var I=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),L=(x==="$"?a:/[%p]/.test(E)?c:"")+(f&&f.suffix!==void 0?f.suffix:""),Z=sI[E],ne=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function G(le){var V=I,me=L,$,X,Ce;if(E==="c")me=Z(le)+me,le="";else{le=+le;var M=le<0||1/le<0;if(le=isNaN(le)?d:Z(Math.abs(le),S),w&&(le=EQ(le)),M&&+le==0&&m!=="+"&&(M=!1),V=(M?m==="("?m:o:m==="-"||m==="("?"":m)+V,me=(E==="s"&&!isNaN(le)&&Zv!==void 0?lI[8+Zv/3]:"")+me+(M&&m==="("?")":""),ne){for($=-1,X=le.length;++$<X;)if(Ce=le.charCodeAt($),48>Ce||Ce>57){me=(Ce===46?s+le.slice($+1):le.slice($))+me,le=le.slice(0,$);break}}}j&&!y&&(le=t(le,1/0));var q=V.length+le.length+me.length,ie=q<b?new Array(b-q+1).join(A):"";switch(j&&y&&(le=t(ie+le,ie.length?b-me.length:1/0),ie=""),g){case"<":le=V+le+me+ie;break;case"=":le=V+ie+le+me;break;case"^":le=ie.slice(0,q=ie.length>>1)+V+le+me+ie.slice(q);break;default:le=ie+V+le+me;break}return i(le)}return G.toString=function(){return h+""},G}function u(h,f){var A=Math.max(-8,Math.min(8,Math.floor(om(f)/3)))*3,g=Math.pow(10,-A),m=l((h=x1(h),h.type="f",h),{suffix:lI[8+A/3]});return function(x){return m(g*x)}}return{format:l,formatPrefix:u}}var m0,X4,$O;TQ({thousands:",",grouping:[3],currency:["$",""]});function TQ(r){return m0=IQ(r),X4=m0.format,$O=m0.formatPrefix,m0}function kQ(r){return Math.max(0,-om(Math.abs(r)))}function _Q(r,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(om(t)/3)))*3-om(Math.abs(r)))}function OQ(r,t){return r=Math.abs(r),t=Math.abs(t)-r,Math.max(0,om(t)-om(r))+1}function VO(r,t,n,a){var s=rN(r,t,n),i;switch(a=x1(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(r),Math.abs(t));return a.precision==null&&!isNaN(i=_Q(s,c))&&(a.precision=i),$O(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=OQ(s,Math.max(Math.abs(r),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=kQ(s))&&(a.precision=i-(a.type==="%")*2);break}}return X4(a)}function gA(r){var t=r.domain;return r.ticks=function(n){var a=t();return eN(a[0],a[a.length-1],n??10)},r.tickFormat=function(n,a){var s=t();return VO(s[0],s[s.length-1],n??10,a)},r.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,c=a[s],o=a[i],d,l,u=10;for(o<c&&(l=c,c=o,o=l,l=s,s=i,i=l);u-- >0;){if(l=tN(c,o,n),l===d)return a[s]=c,a[i]=o,t(a);if(l>0)c=Math.floor(c/l)*l,o=Math.ceil(o/l)*l;else if(l<0)c=Math.ceil(c*l)/l,o=Math.floor(o*l)/l;else break;d=l}return r},r}function ex(){var r=K4();return r.copy=function(){return q1(r,ex())},Gu.apply(r,arguments),gA(r)}function zO(r){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(r=Array.from(a,Yv),n):r.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return zO(r).unknown(t)},r=arguments.length?Array.from(r,Yv):[0,1],gA(n)}function GO(r,t){r=r.slice();var n=0,a=r.length-1,s=r[n],i=r[a],c;return i<s&&(c=n,n=a,a=c,c=s,s=i,i=c),r[n]=t.floor(s),r[a]=t.ceil(i),r}function cI(r){return Math.log(r)}function dI(r){return Math.exp(r)}function FQ(r){return-Math.log(-r)}function PQ(r){return-Math.exp(-r)}function DQ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function MQ(r){return r===10?DQ:r===Math.E?Math.exp:t=>Math.pow(r,t)}function RQ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),t=>Math.log(t)/r)}function uI(r){return(t,n)=>-r(-t,n)}function Y4(r){const t=r(cI,dI),n=t.domain;let a=10,s,i;function c(){return s=RQ(a),i=MQ(a),n()[0]<0?(s=uI(s),i=uI(i),r(FQ,PQ)):r(cI,dI),t}return t.base=function(o){return arguments.length?(a=+o,c()):a},t.domain=function(o){return arguments.length?(n(o),c()):n()},t.ticks=o=>{const d=n();let l=d[0],u=d[d.length-1];const h=u<l;h&&([l,u]=[u,l]);let f=s(l),A=s(u),g,m;const x=o==null?10:+o;let y=[];if(!(a%1)&&A-f<x){if(f=Math.floor(f),A=Math.ceil(A),l>0){for(;f<=A;++f)for(g=1;g<a;++g)if(m=f<0?g/i(-f):g*i(f),!(m<l)){if(m>u)break;y.push(m)}}else for(;f<=A;++f)for(g=a-1;g>=1;--g)if(m=f>0?g/i(-f):g*i(f),!(m<l)){if(m>u)break;y.push(m)}y.length*2<x&&(y=eN(l,u,x))}else y=eN(f,A,Math.min(A-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(o,d)=>{if(o==null&&(o=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=x1(d)).precision==null&&(d.trim=!0),d=X4(d)),o===1/0)return d;const l=Math.max(1,a*o/t.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*a<a-.5&&(h*=a),h<=l?d(u):""}},t.nice=()=>n(GO(n(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function KO(){const r=Y4(r2()).domain([1,10]);return r.copy=()=>q1(r,KO()).base(r.base()),Gu.apply(r,arguments),r}function hI(r){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/r))}}function fI(r){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*r}}function J4(r){var t=1,n=r(hI(t),fI(t));return n.constant=function(a){return arguments.length?r(hI(t=+a),fI(t)):t},gA(n)}function qO(){var r=J4(r2());return r.copy=function(){return q1(r,qO()).constant(r.constant())},Gu.apply(r,arguments)}function AI(r){return function(t){return t<0?-Math.pow(-t,r):Math.pow(t,r)}}function LQ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function UQ(r){return r<0?-r*r:r*r}function Z4(r){var t=r(Nd,Nd),n=1;function a(){return n===1?r(Nd,Nd):n===.5?r(LQ,UQ):r(AI(n),AI(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},gA(t)}function eS(){var r=Z4(r2());return r.copy=function(){return q1(r,eS()).exponent(r.exponent())},Gu.apply(r,arguments),r}function HQ(){return eS.apply(null,arguments).exponent(.5)}function pI(r){return Math.sign(r)*r*r}function QQ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function XO(){var r=K4(),t=[0,1],n=!1,a;function s(i){var c=QQ(r(i));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(i){return r.invert(pI(i))},s.domain=function(i){return arguments.length?(r.domain(i),s):r.domain()},s.range=function(i){return arguments.length?(r.range((t=Array.from(i,Yv)).map(pI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(r.clamp(i),s):r.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return XO(r.domain(),t).round(n).clamp(r.clamp()).unknown(a)},Gu.apply(s,arguments),gA(s)}function YO(){var r=[],t=[],n=[],a;function s(){var c=0,o=Math.max(1,t.length);for(n=new Array(o-1);++c<o;)n[c-1]=GH(r,c/o);return i}function i(c){return c==null||isNaN(c=+c)?a:t[G1(n,c)]}return i.invertExtent=function(c){var o=t.indexOf(c);return o<0?[NaN,NaN]:[o>0?n[o-1]:r[0],o<n.length?n[o]:r[r.length-1]]},i.domain=function(c){if(!arguments.length)return r.slice();r=[];for(let o of c)o!=null&&!isNaN(o=+o)&&r.push(o);return r.sort(uA),s()},i.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},i.unknown=function(c){return arguments.length?(a=c,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return YO().domain(r).range(t).unknown(a)},Gu.apply(i,arguments)}function JO(){var r=0,t=1,n=1,a=[.5],s=[0,1],i;function c(d){return d!=null&&d<=d?s[G1(a,d,0,n)]:i}function o(){var d=-1;for(a=new Array(n);++d<n;)a[d]=((d+1)*t-(d-n)*r)/(n+1);return c}return c.domain=function(d){return arguments.length?([r,t]=d,r=+r,t=+t,o()):[r,t]},c.range=function(d){return arguments.length?(n=(s=Array.from(d)).length-1,o()):s.slice()},c.invertExtent=function(d){var l=s.indexOf(d);return l<0?[NaN,NaN]:l<1?[r,a[0]]:l>=n?[a[n-1],t]:[a[l-1],a[l]]},c.unknown=function(d){return arguments.length&&(i=d),c},c.thresholds=function(){return a.slice()},c.copy=function(){return JO().domain([r,t]).range(s).unknown(i)},Gu.apply(gA(c),arguments)}function ZO(){var r=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[G1(r,i,0,a)]:n}return s.domain=function(i){return arguments.length?(r=Array.from(i),a=Math.min(r.length,t.length-1),s):r.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(r.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var c=t.indexOf(i);return[r[c-1],r[c]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return ZO().domain(r).range(t).unknown(n)},Gu.apply(s,arguments)}const Gb=new Date,Kb=new Date;function Zl(r,t,n,a){function s(i){return r(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(r(i=new Date(+i)),i),s.ceil=i=>(r(i=new Date(i-1)),t(i,1),r(i),i),s.round=i=>{const c=s(i),o=s.ceil(i);return i-c<o-i?c:o},s.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),s.range=(i,c,o)=>{const d=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<c)||!(o>0))return d;let l;do d.push(l=new Date(+i)),t(i,o),r(i);while(l<i&&i<c);return d},s.filter=i=>Zl(c=>{if(c>=c)for(;r(c),!i(c);)c.setTime(c-1)},(c,o)=>{if(c>=c)if(o<0)for(;++o<=0;)for(;t(c,-1),!i(c););else for(;--o>=0;)for(;t(c,1),!i(c););}),n&&(s.count=(i,c)=>(Gb.setTime(+i),Kb.setTime(+c),r(Gb),r(Kb),Math.floor(n(Gb,Kb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?c=>a(c)%i===0:c=>s.count(0,c)%i===0):s)),s}const tx=Zl(()=>{},(r,t)=>{r.setTime(+r+t)},(r,t)=>t-r);tx.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Zl(t=>{t.setTime(Math.floor(t/r)*r)},(t,n)=>{t.setTime(+t+n*r)},(t,n)=>(n-t)/r):tx);tx.range;const pf=1e3,Wu=pf*60,mf=Wu*60,bf=mf*24,tS=bf*7,mI=bf*30,qb=bf*365,ep=Zl(r=>{r.setTime(r-r.getMilliseconds())},(r,t)=>{r.setTime(+r+t*pf)},(r,t)=>(t-r)/pf,r=>r.getUTCSeconds());ep.range;const rS=Zl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*pf)},(r,t)=>{r.setTime(+r+t*Wu)},(r,t)=>(t-r)/Wu,r=>r.getMinutes());rS.range;const nS=Zl(r=>{r.setUTCSeconds(0,0)},(r,t)=>{r.setTime(+r+t*Wu)},(r,t)=>(t-r)/Wu,r=>r.getUTCMinutes());nS.range;const aS=Zl(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*pf-r.getMinutes()*Wu)},(r,t)=>{r.setTime(+r+t*mf)},(r,t)=>(t-r)/mf,r=>r.getHours());aS.range;const sS=Zl(r=>{r.setUTCMinutes(0,0,0)},(r,t)=>{r.setTime(+r+t*mf)},(r,t)=>(t-r)/mf,r=>r.getUTCHours());sS.range;const X1=Zl(r=>r.setHours(0,0,0,0),(r,t)=>r.setDate(r.getDate()+t),(r,t)=>(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*Wu)/bf,r=>r.getDate()-1);X1.range;const n2=Zl(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/bf,r=>r.getUTCDate()-1);n2.range;const eF=Zl(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/bf,r=>Math.floor(r/bf));eF.range;function mp(r){return Zl(t=>{t.setDate(t.getDate()-(t.getDay()+7-r)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wu)/tS)}const a2=mp(0),rx=mp(1),WQ=mp(2),$Q=mp(3),lm=mp(4),VQ=mp(5),zQ=mp(6);a2.range;rx.range;WQ.range;$Q.range;lm.range;VQ.range;zQ.range;function gp(r){return Zl(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-r)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tS)}const s2=gp(0),nx=gp(1),GQ=gp(2),KQ=gp(3),cm=gp(4),qQ=gp(5),XQ=gp(6);s2.range;nx.range;GQ.range;KQ.range;cm.range;qQ.range;XQ.range;const iS=Zl(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,t)=>{r.setMonth(r.getMonth()+t)},(r,t)=>t.getMonth()-r.getMonth()+(t.getFullYear()-r.getFullYear())*12,r=>r.getMonth());iS.range;const oS=Zl(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCMonth(r.getUTCMonth()+t)},(r,t)=>t.getUTCMonth()-r.getUTCMonth()+(t.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());oS.range;const wf=Zl(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,t)=>{r.setFullYear(r.getFullYear()+t)},(r,t)=>t.getFullYear()-r.getFullYear(),r=>r.getFullYear());wf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zl(t=>{t.setFullYear(Math.floor(t.getFullYear()/r)*r),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*r)});wf.range;const Cf=Zl(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCFullYear(r.getUTCFullYear()+t)},(r,t)=>t.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());Cf.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Zl(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/r)*r),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*r)});Cf.range;function tF(r,t,n,a,s,i){const c=[[ep,1,pf],[ep,5,5*pf],[ep,15,15*pf],[ep,30,30*pf],[i,1,Wu],[i,5,5*Wu],[i,15,15*Wu],[i,30,30*Wu],[s,1,mf],[s,3,3*mf],[s,6,6*mf],[s,12,12*mf],[a,1,bf],[a,2,2*bf],[n,1,tS],[t,1,mI],[t,3,3*mI],[r,1,qb]];function o(l,u,h){const f=u<l;f&&([l,u]=[u,l]);const A=h&&typeof h.range=="function"?h:d(l,u,h),g=A?A.range(l,+u+1):[];return f?g.reverse():g}function d(l,u,h){const f=Math.abs(u-l)/h,A=W4(([,,x])=>x).right(c,f);if(A===c.length)return r.every(rN(l/qb,u/qb,h));if(A===0)return tx.every(Math.max(rN(l,u,h),1));const[g,m]=c[f/c[A-1][2]<c[A][2]/f?A-1:A];return g.every(m)}return[o,d]}const[YQ,JQ]=tF(Cf,oS,s2,eF,sS,nS),[ZQ,eW]=tF(wf,iS,a2,X1,aS,rS);function Xb(r){if(0<=r.y&&r.y<100){var t=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return t.setFullYear(r.y),t}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Yb(r){if(0<=r.y&&r.y<100){var t=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return t.setUTCFullYear(r.y),t}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Km(r,t,n){return{y:r,m:t,d:n,H:0,M:0,S:0,L:0}}function tW(r){var t=r.dateTime,n=r.date,a=r.time,s=r.periods,i=r.days,c=r.shortDays,o=r.months,d=r.shortMonths,l=qm(s),u=Xm(s),h=qm(i),f=Xm(i),A=qm(c),g=Xm(c),m=qm(o),x=Xm(o),y=qm(d),b=Xm(d),j={a:Ce,A:M,b:q,B:ie,c:null,d:bI,e:bI,f:CW,g:FW,G:DW,H:jW,I:bW,j:wW,L:rF,m:NW,M:SW,p:J,q:D,Q:NI,s:SI,S:EW,u:BW,U:IW,V:TW,w:kW,W:_W,x:null,X:null,y:OW,Y:PW,Z:MW,"%":CI},S={a:ce,A:te,b:ge,B:pe,c:null,d:wI,e:wI,f:HW,g:YW,G:ZW,H:RW,I:LW,j:UW,L:aF,m:QW,M:WW,p:be,q:re,Q:NI,s:SI,S:$W,u:VW,U:zW,V:GW,w:KW,W:qW,x:null,X:null,y:XW,Y:JW,Z:e$,"%":CI},w={a:ne,A:G,b:le,B:V,c:me,d:yI,e:yI,f:gW,g:xI,G:vI,H:jI,I:jI,j:fW,L:mW,m:hW,M:AW,p:Z,q:uW,Q:xW,s:yW,S:pW,u:iW,U:oW,V:lW,w:sW,W:cW,x:$,X,y:xI,Y:vI,Z:dW,"%":vW};j.x=E(n,j),j.X=E(a,j),j.c=E(t,j),S.x=E(n,S),S.X=E(a,S),S.c=E(t,S);function E(de,Y){return function(Ae){var ye=[],Oe=-1,We=0,ae=de.length,ke,Fe,nt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Oe<ae;)de.charCodeAt(Oe)===37&&(ye.push(de.slice(We,Oe)),(Fe=gI[ke=de.charAt(++Oe)])!=null?ke=de.charAt(++Oe):Fe=ke==="e"?" ":"0",(nt=Y[ke])&&(ke=nt(Ae,Fe)),ye.push(ke),We=Oe+1);return ye.push(de.slice(We,Oe)),ye.join("")}}function I(de,Y){return function(Ae){var ye=Km(1900,void 0,1),Oe=L(ye,de,Ae+="",0),We,ae;if(Oe!=Ae.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Y&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(We=Yb(Km(ye.y,0,1)),ae=We.getUTCDay(),We=ae>4||ae===0?nx.ceil(We):nx(We),We=n2.offset(We,(ye.V-1)*7),ye.y=We.getUTCFullYear(),ye.m=We.getUTCMonth(),ye.d=We.getUTCDate()+(ye.w+6)%7):(We=Xb(Km(ye.y,0,1)),ae=We.getDay(),We=ae>4||ae===0?rx.ceil(We):rx(We),We=X1.offset(We,(ye.V-1)*7),ye.y=We.getFullYear(),ye.m=We.getMonth(),ye.d=We.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),ae="Z"in ye?Yb(Km(ye.y,0,1)).getUTCDay():Xb(Km(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(ae+5)%7:ye.w+ye.U*7-(ae+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Yb(ye)):Xb(ye)}}function L(de,Y,Ae,ye){for(var Oe=0,We=Y.length,ae=Ae.length,ke,Fe;Oe<We;){if(ye>=ae)return-1;if(ke=Y.charCodeAt(Oe++),ke===37){if(ke=Y.charAt(Oe++),Fe=w[ke in gI?Y.charAt(Oe++):ke],!Fe||(ye=Fe(de,Ae,ye))<0)return-1}else if(ke!=Ae.charCodeAt(ye++))return-1}return ye}function Z(de,Y,Ae){var ye=l.exec(Y.slice(Ae));return ye?(de.p=u.get(ye[0].toLowerCase()),Ae+ye[0].length):-1}function ne(de,Y,Ae){var ye=A.exec(Y.slice(Ae));return ye?(de.w=g.get(ye[0].toLowerCase()),Ae+ye[0].length):-1}function G(de,Y,Ae){var ye=h.exec(Y.slice(Ae));return ye?(de.w=f.get(ye[0].toLowerCase()),Ae+ye[0].length):-1}function le(de,Y,Ae){var ye=y.exec(Y.slice(Ae));return ye?(de.m=b.get(ye[0].toLowerCase()),Ae+ye[0].length):-1}function V(de,Y,Ae){var ye=m.exec(Y.slice(Ae));return ye?(de.m=x.get(ye[0].toLowerCase()),Ae+ye[0].length):-1}function me(de,Y,Ae){return L(de,t,Y,Ae)}function $(de,Y,Ae){return L(de,n,Y,Ae)}function X(de,Y,Ae){return L(de,a,Y,Ae)}function Ce(de){return c[de.getDay()]}function M(de){return i[de.getDay()]}function q(de){return d[de.getMonth()]}function ie(de){return o[de.getMonth()]}function J(de){return s[+(de.getHours()>=12)]}function D(de){return 1+~~(de.getMonth()/3)}function ce(de){return c[de.getUTCDay()]}function te(de){return i[de.getUTCDay()]}function ge(de){return d[de.getUTCMonth()]}function pe(de){return o[de.getUTCMonth()]}function be(de){return s[+(de.getUTCHours()>=12)]}function re(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Y=E(de+="",j);return Y.toString=function(){return de},Y},parse:function(de){var Y=I(de+="",!1);return Y.toString=function(){return de},Y},utcFormat:function(de){var Y=E(de+="",S);return Y.toString=function(){return de},Y},utcParse:function(de){var Y=I(de+="",!0);return Y.toString=function(){return de},Y}}}var gI={"-":"",_:" ",0:"0"},Cc=/^\s*\d+/,rW=/^%/,nW=/[\\^$*+?|[\]().{}]/g;function li(r,t,n){var a=r<0?"-":"",s=(a?-r:r)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function aW(r){return r.replace(nW,"\\$&")}function qm(r){return new RegExp("^(?:"+r.map(aW).join("|")+")","i")}function Xm(r){return new Map(r.map((t,n)=>[t.toLowerCase(),n]))}function sW(r,t,n){var a=Cc.exec(t.slice(n,n+1));return a?(r.w=+a[0],n+a[0].length):-1}function iW(r,t,n){var a=Cc.exec(t.slice(n,n+1));return a?(r.u=+a[0],n+a[0].length):-1}function oW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.U=+a[0],n+a[0].length):-1}function lW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.V=+a[0],n+a[0].length):-1}function cW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.W=+a[0],n+a[0].length):-1}function vI(r,t,n){var a=Cc.exec(t.slice(n,n+4));return a?(r.y=+a[0],n+a[0].length):-1}function xI(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function dW(r,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(r.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function uW(r,t,n){var a=Cc.exec(t.slice(n,n+1));return a?(r.q=a[0]*3-3,n+a[0].length):-1}function hW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.m=a[0]-1,n+a[0].length):-1}function yI(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.d=+a[0],n+a[0].length):-1}function fW(r,t,n){var a=Cc.exec(t.slice(n,n+3));return a?(r.m=0,r.d=+a[0],n+a[0].length):-1}function jI(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.H=+a[0],n+a[0].length):-1}function AW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.M=+a[0],n+a[0].length):-1}function pW(r,t,n){var a=Cc.exec(t.slice(n,n+2));return a?(r.S=+a[0],n+a[0].length):-1}function mW(r,t,n){var a=Cc.exec(t.slice(n,n+3));return a?(r.L=+a[0],n+a[0].length):-1}function gW(r,t,n){var a=Cc.exec(t.slice(n,n+6));return a?(r.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function vW(r,t,n){var a=rW.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function xW(r,t,n){var a=Cc.exec(t.slice(n));return a?(r.Q=+a[0],n+a[0].length):-1}function yW(r,t,n){var a=Cc.exec(t.slice(n));return a?(r.s=+a[0],n+a[0].length):-1}function bI(r,t){return li(r.getDate(),t,2)}function jW(r,t){return li(r.getHours(),t,2)}function bW(r,t){return li(r.getHours()%12||12,t,2)}function wW(r,t){return li(1+X1.count(wf(r),r),t,3)}function rF(r,t){return li(r.getMilliseconds(),t,3)}function CW(r,t){return rF(r,t)+"000"}function NW(r,t){return li(r.getMonth()+1,t,2)}function SW(r,t){return li(r.getMinutes(),t,2)}function EW(r,t){return li(r.getSeconds(),t,2)}function BW(r){var t=r.getDay();return t===0?7:t}function IW(r,t){return li(a2.count(wf(r)-1,r),t,2)}function nF(r){var t=r.getDay();return t>=4||t===0?lm(r):lm.ceil(r)}function TW(r,t){return r=nF(r),li(lm.count(wf(r),r)+(wf(r).getDay()===4),t,2)}function kW(r){return r.getDay()}function _W(r,t){return li(rx.count(wf(r)-1,r),t,2)}function OW(r,t){return li(r.getFullYear()%100,t,2)}function FW(r,t){return r=nF(r),li(r.getFullYear()%100,t,2)}function PW(r,t){return li(r.getFullYear()%1e4,t,4)}function DW(r,t){var n=r.getDay();return r=n>=4||n===0?lm(r):lm.ceil(r),li(r.getFullYear()%1e4,t,4)}function MW(r){var t=r.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+li(t/60|0,"0",2)+li(t%60,"0",2)}function wI(r,t){return li(r.getUTCDate(),t,2)}function RW(r,t){return li(r.getUTCHours(),t,2)}function LW(r,t){return li(r.getUTCHours()%12||12,t,2)}function UW(r,t){return li(1+n2.count(Cf(r),r),t,3)}function aF(r,t){return li(r.getUTCMilliseconds(),t,3)}function HW(r,t){return aF(r,t)+"000"}function QW(r,t){return li(r.getUTCMonth()+1,t,2)}function WW(r,t){return li(r.getUTCMinutes(),t,2)}function $W(r,t){return li(r.getUTCSeconds(),t,2)}function VW(r){var t=r.getUTCDay();return t===0?7:t}function zW(r,t){return li(s2.count(Cf(r)-1,r),t,2)}function sF(r){var t=r.getUTCDay();return t>=4||t===0?cm(r):cm.ceil(r)}function GW(r,t){return r=sF(r),li(cm.count(Cf(r),r)+(Cf(r).getUTCDay()===4),t,2)}function KW(r){return r.getUTCDay()}function qW(r,t){return li(nx.count(Cf(r)-1,r),t,2)}function XW(r,t){return li(r.getUTCFullYear()%100,t,2)}function YW(r,t){return r=sF(r),li(r.getUTCFullYear()%100,t,2)}function JW(r,t){return li(r.getUTCFullYear()%1e4,t,4)}function ZW(r,t){var n=r.getUTCDay();return r=n>=4||n===0?cm(r):cm.ceil(r),li(r.getUTCFullYear()%1e4,t,4)}function e$(){return"+0000"}function CI(){return"%"}function NI(r){return+r}function SI(r){return Math.floor(+r/1e3)}var kp,iF,oF;t$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t$(r){return kp=tW(r),iF=kp.format,kp.parse,oF=kp.utcFormat,kp.utcParse,kp}function r$(r){return new Date(r)}function n$(r){return r instanceof Date?+r:+new Date(+r)}function lS(r,t,n,a,s,i,c,o,d,l){var u=K4(),h=u.invert,f=u.domain,A=l(".%L"),g=l(":%S"),m=l("%I:%M"),x=l("%I %p"),y=l("%a %d"),b=l("%b %d"),j=l("%B"),S=l("%Y");function w(E){return(d(E)<E?A:o(E)<E?g:c(E)<E?m:i(E)<E?x:a(E)<E?s(E)<E?y:b:n(E)<E?j:S)(E)}return u.invert=function(E){return new Date(h(E))},u.domain=function(E){return arguments.length?f(Array.from(E,n$)):f().map(r$)},u.ticks=function(E){var I=f();return r(I[0],I[I.length-1],E??10)},u.tickFormat=function(E,I){return I==null?w:l(I)},u.nice=function(E){var I=f();return(!E||typeof E.range!="function")&&(E=t(I[0],I[I.length-1],E??10)),E?f(GO(I,E)):u},u.copy=function(){return q1(u,lS(r,t,n,a,s,i,c,o,d,l))},u}function a$(){return Gu.apply(lS(ZQ,eW,wf,iS,a2,X1,aS,rS,ep,iF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function s$(){return Gu.apply(lS(YQ,JQ,Cf,oS,s2,n2,sS,nS,ep,oF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i2(){var r=0,t=1,n,a,s,i,c=Nd,o=!1,d;function l(h){return h==null||isNaN(h=+h)?d:c(s===0?.5:(h=(i(h)-n)*s,o?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([r,t]=h,n=i(r=+r),a=i(t=+t),s=n===a?0:1/(a-n),l):[r,t]},l.clamp=function(h){return arguments.length?(o=!!h,l):o},l.interpolator=function(h){return arguments.length?(c=h,l):c};function u(h){return function(f){var A,g;return arguments.length?([A,g]=f,c=h(A,g),l):[c(0),c(1)]}}return l.range=u(Pm),l.rangeRound=u(G4),l.unknown=function(h){return arguments.length?(d=h,l):d},function(h){return i=h,n=h(r),a=h(t),s=n===a?0:1/(a-n),l}}function vA(r,t){return t.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function lF(){var r=gA(i2()(Nd));return r.copy=function(){return vA(r,lF())},Bf.apply(r,arguments)}function cF(){var r=Y4(i2()).domain([1,10]);return r.copy=function(){return vA(r,cF()).base(r.base())},Bf.apply(r,arguments)}function dF(){var r=J4(i2());return r.copy=function(){return vA(r,dF()).constant(r.constant())},Bf.apply(r,arguments)}function cS(){var r=Z4(i2());return r.copy=function(){return vA(r,cS()).exponent(r.exponent())},Bf.apply(r,arguments)}function i$(){return cS.apply(null,arguments).exponent(.5)}function uF(){var r=[],t=Nd;function n(a){if(a!=null&&!isNaN(a=+a))return t((G1(r,a,1)-1)/(r.length-1))}return n.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let s of a)s!=null&&!isNaN(s=+s)&&r.push(s);return r.sort(uA),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return r.map((a,s)=>t(s/(r.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>zH(r,i/a))},n.copy=function(){return uF(t).domain(r)},Bf.apply(n,arguments)}function o2(){var r=0,t=.5,n=1,a=1,s,i,c,o,d,l=Nd,u,h=!1,f;function A(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-i)*(a*m<a*i?o:d),l(h?Math.max(0,Math.min(1,m)):m))}A.domain=function(m){return arguments.length?([r,t,n]=m,s=u(r=+r),i=u(t=+t),c=u(n=+n),o=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),a=i<s?-1:1,A):[r,t,n]},A.clamp=function(m){return arguments.length?(h=!!m,A):h},A.interpolator=function(m){return arguments.length?(l=m,A):l};function g(m){return function(x){var y,b,j;return arguments.length?([y,b,j]=x,l=vQ(m,[y,b,j]),A):[l(0),l(.5),l(1)]}}return A.range=g(Pm),A.rangeRound=g(G4),A.unknown=function(m){return arguments.length?(f=m,A):f},function(m){return u=m,s=m(r),i=m(t),c=m(n),o=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),a=i<s?-1:1,A}}function hF(){var r=gA(o2()(Nd));return r.copy=function(){return vA(r,hF())},Bf.apply(r,arguments)}function fF(){var r=Y4(o2()).domain([.1,1,10]);return r.copy=function(){return vA(r,fF()).base(r.base())},Bf.apply(r,arguments)}function AF(){var r=J4(o2());return r.copy=function(){return vA(r,AF()).constant(r.constant())},Bf.apply(r,arguments)}function dS(){var r=Z4(o2());return r.copy=function(){return vA(r,dS()).exponent(r.exponent())},Bf.apply(r,arguments)}function o$(){return dS.apply(null,arguments).exponent(.5)}const EI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p1,scaleDiverging:hF,scaleDivergingLog:fF,scaleDivergingPow:dS,scaleDivergingSqrt:o$,scaleDivergingSymlog:AF,scaleIdentity:zO,scaleImplicit:nN,scaleLinear:ex,scaleLog:KO,scaleOrdinal:$4,scalePoint:Jg,scalePow:eS,scaleQuantile:YO,scaleQuantize:JO,scaleRadial:XO,scaleSequential:lF,scaleSequentialLog:cF,scaleSequentialPow:cS,scaleSequentialQuantile:uF,scaleSequentialSqrt:i$,scaleSequentialSymlog:dF,scaleSqrt:HQ,scaleSymlog:qO,scaleThreshold:ZO,scaleTime:a$,scaleUtc:s$,tickFormat:VO},Symbol.toStringTag,{value:"Module"}));var Jb,BI;function l2(){if(BI)return Jb;BI=1;var r=km();function t(n,a,s){for(var i=-1,c=n.length;++i<c;){var o=n[i],d=a(o);if(d!=null&&(l===void 0?d===d&&!r(d):s(d,l)))var l=d,u=o}return u}return Jb=t,Jb}var Zb,II;function pF(){if(II)return Zb;II=1;function r(t,n){return t>n}return Zb=r,Zb}var ew,TI;function l$(){if(TI)return ew;TI=1;var r=l2(),t=pF(),n=Fm();function a(s){return s&&s.length?r(s,n,t):void 0}return ew=a,ew}var c$=l$();const c2=Zs(c$);var tw,kI;function mF(){if(kI)return tw;kI=1;function r(t,n){return t<n}return tw=r,tw}var rw,_I;function d$(){if(_I)return rw;_I=1;var r=l2(),t=mF(),n=Fm();function a(s){return s&&s.length?r(s,n,t):void 0}return rw=a,rw}var u$=d$();const d2=Zs(u$);var nw,OI;function h$(){if(OI)return nw;OI=1;var r=S4(),t=Wh(),n=NO(),a=Qd();function s(i,c){var o=a(i)?r:n;return o(i,t(c,3))}return nw=s,nw}var aw,FI;function f$(){if(FI)return aw;FI=1;var r=wO(),t=h$();function n(a,s){return r(t(a,s),1)}return aw=n,aw}var A$=f$();const p$=Zs(A$);var sw,PI;function m$(){if(PI)return sw;PI=1;var r=L4();function t(n,a){return r(n,a)}return sw=t,sw}var g$=m$();const Y1=Zs(g$);var Dm=1e9,v$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hS,To=!0,zu="[DecimalError] ",sp=zu+"Invalid argument: ",uS=zu+"Exponent out of range: ",Mm=Math.floor,KA=Math.pow,x$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uu,yc=1e7,yo=7,gF=9007199254740991,ax=Mm(gF/yo),Vn={};Vn.absoluteValue=Vn.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Vn.comparedTo=Vn.cmp=function(r){var t,n,a,s,i=this;if(r=new i.constructor(r),i.s!==r.s)return i.s||-r.s;if(i.e!==r.e)return i.e>r.e^i.s<0?1:-1;for(a=i.d.length,s=r.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==r.d[t])return i.d[t]>r.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Vn.decimalPlaces=Vn.dp=function(){var r=this,t=r.d.length-1,n=(t-r.e)*yo;if(t=r.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Vn.dividedBy=Vn.div=function(r){return xf(this,new this.constructor(r))};Vn.dividedToIntegerBy=Vn.idiv=function(r){var t=this,n=t.constructor;return Ki(xf(t,new n(r),0,1),n.precision)};Vn.equals=Vn.eq=function(r){return!this.cmp(r)};Vn.exponent=function(){return Bl(this)};Vn.greaterThan=Vn.gt=function(r){return this.cmp(r)>0};Vn.greaterThanOrEqualTo=Vn.gte=function(r){return this.cmp(r)>=0};Vn.isInteger=Vn.isint=function(){return this.e>this.d.length-2};Vn.isNegative=Vn.isneg=function(){return this.s<0};Vn.isPositive=Vn.ispos=function(){return this.s>0};Vn.isZero=function(){return this.s===0};Vn.lessThan=Vn.lt=function(r){return this.cmp(r)<0};Vn.lessThanOrEqualTo=Vn.lte=function(r){return this.cmp(r)<1};Vn.logarithm=Vn.log=function(r){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(r===void 0)r=new a(10);else if(r=new a(r),r.s<1||r.eq(uu))throw Error(zu+"NaN");if(n.s<1)throw Error(zu+(n.s?"NaN":"-Infinity"));return n.eq(uu)?new a(0):(To=!1,t=xf(y1(n,i),y1(r,i),i),To=!0,Ki(t,s))};Vn.minus=Vn.sub=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?yF(t,r):vF(t,(r.s=-r.s,r))};Vn.modulo=Vn.mod=function(r){var t,n=this,a=n.constructor,s=a.precision;if(r=new a(r),!r.s)throw Error(zu+"NaN");return n.s?(To=!1,t=xf(n,r,0,1).times(r),To=!0,n.minus(t)):Ki(new a(n),s)};Vn.naturalExponential=Vn.exp=function(){return xF(this)};Vn.naturalLogarithm=Vn.ln=function(){return y1(this)};Vn.negated=Vn.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Vn.plus=Vn.add=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?vF(t,r):yF(t,(r.s=-r.s,r))};Vn.precision=Vn.sd=function(r){var t,n,a,s=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(sp+r);if(t=Bl(s)+1,a=s.d.length-1,n=a*yo+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return r&&t>n?t:n};Vn.squareRoot=Vn.sqrt=function(){var r,t,n,a,s,i,c,o=this,d=o.constructor;if(o.s<1){if(!o.s)return new d(0);throw Error(zu+"NaN")}for(r=Bl(o),To=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Oh(o.d),(t.length+r)%2==0&&(t+="0"),s=Math.sqrt(t),r=Mm((r+1)/2)-(r<0||r%2),s==1/0?t="5e"+r:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),a=new d(t)):a=new d(s.toString()),n=d.precision,s=c=n+3;;)if(i=a,a=i.plus(xf(o,i,c+2)).times(.5),Oh(i.d).slice(0,c)===(t=Oh(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Ki(i,n+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;c+=4}return To=!0,Ki(a,n)};Vn.times=Vn.mul=function(r){var t,n,a,s,i,c,o,d,l,u=this,h=u.constructor,f=u.d,A=(r=new h(r)).d;if(!u.s||!r.s)return new h(0);for(r.s*=u.s,n=u.e+r.e,d=f.length,l=A.length,d<l&&(i=f,f=A,A=i,c=d,d=l,l=c),i=[],c=d+l,a=c;a--;)i.push(0);for(a=l;--a>=0;){for(t=0,s=d+a;s>a;)o=i[s]+A[a]*f[s-a-1]+t,i[s--]=o%yc|0,t=o/yc|0;i[s]=(i[s]+t)%yc|0}for(;!i[--c];)i.pop();return t?++n:i.shift(),r.d=i,r.e=n,To?Ki(r,h.precision):r};Vn.toDecimalPlaces=Vn.todp=function(r,t){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(Lh(r,0,Dm),t===void 0?t=a.rounding:Lh(t,0,8),Ki(n,r+Bl(n)+1,t))};Vn.toExponential=function(r,t){var n,a=this,s=a.constructor;return r===void 0?n=up(a,!0):(Lh(r,0,Dm),t===void 0?t=s.rounding:Lh(t,0,8),a=Ki(new s(a),r+1,t),n=up(a,!0,r+1)),n};Vn.toFixed=function(r,t){var n,a,s=this,i=s.constructor;return r===void 0?up(s):(Lh(r,0,Dm),t===void 0?t=i.rounding:Lh(t,0,8),a=Ki(new i(s),r+Bl(s)+1,t),n=up(a.abs(),!1,r+Bl(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Vn.toInteger=Vn.toint=function(){var r=this,t=r.constructor;return Ki(new t(r),Bl(r)+1,t.rounding)};Vn.toNumber=function(){return+this};Vn.toPower=Vn.pow=function(r){var t,n,a,s,i,c,o=this,d=o.constructor,l=12,u=+(r=new d(r));if(!r.s)return new d(uu);if(o=new d(o),!o.s){if(r.s<1)throw Error(zu+"Infinity");return o}if(o.eq(uu))return o;if(a=d.precision,r.eq(uu))return Ki(o,a);if(t=r.e,n=r.d.length-1,c=t>=n,i=o.s,c){if((n=u<0?-u:u)<=gF){for(s=new d(uu),t=Math.ceil(a/yo+4),To=!1;n%2&&(s=s.times(o),MI(s.d,t)),n=Mm(n/2),n!==0;)o=o.times(o),MI(o.d,t);return To=!0,r.s<0?new d(uu).div(s):Ki(s,a)}}else if(i<0)throw Error(zu+"NaN");return i=i<0&&r.d[Math.max(t,n)]&1?-1:1,o.s=1,To=!1,s=r.times(y1(o,a+l)),To=!0,s=xF(s),s.s=i,s};Vn.toPrecision=function(r,t){var n,a,s=this,i=s.constructor;return r===void 0?(n=Bl(s),a=up(s,n<=i.toExpNeg||n>=i.toExpPos)):(Lh(r,1,Dm),t===void 0?t=i.rounding:Lh(t,0,8),s=Ki(new i(s),r,t),n=Bl(s),a=up(s,r<=n||n<=i.toExpNeg,r)),a};Vn.toSignificantDigits=Vn.tosd=function(r,t){var n=this,a=n.constructor;return r===void 0?(r=a.precision,t=a.rounding):(Lh(r,1,Dm),t===void 0?t=a.rounding:Lh(t,0,8)),Ki(new a(n),r,t)};Vn.toString=Vn.valueOf=Vn.val=Vn.toJSON=Vn[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,t=Bl(r),n=r.constructor;return up(r,t<=n.toExpNeg||t>=n.toExpPos)};function vF(r,t){var n,a,s,i,c,o,d,l,u=r.constructor,h=u.precision;if(!r.s||!t.s)return t.s||(t=new u(r)),To?Ki(t,h):t;if(d=r.d,l=t.d,c=r.e,s=t.e,d=d.slice(),i=c-s,i){for(i<0?(a=d,i=-i,o=l.length):(a=l,s=c,o=d.length),c=Math.ceil(h/yo),o=c>o?c+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=d.length,i=l.length,o-i<0&&(i=o,a=l,l=d,d=a),n=0;i;)n=(d[--i]=d[i]+l[i]+n)/yc|0,d[i]%=yc;for(n&&(d.unshift(n),++s),o=d.length;d[--o]==0;)d.pop();return t.d=d,t.e=s,To?Ki(t,h):t}function Lh(r,t,n){if(r!==~~r||r<t||r>n)throw Error(sp+r)}function Oh(r){var t,n,a,s=r.length-1,i="",c=r[0];if(s>0){for(i+=c,t=1;t<s;t++)a=r[t]+"",n=yo-a.length,n&&(i+=nA(n)),i+=a;c=r[t],a=c+"",n=yo-a.length,n&&(i+=nA(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var xf=(function(){function r(a,s){var i,c=0,o=a.length;for(a=a.slice();o--;)i=a[o]*s+c,a[o]=i%yc|0,c=i/yc|0;return c&&a.unshift(c),a}function t(a,s,i,c){var o,d;if(i!=c)d=i>c?1:-1;else for(o=d=0;o<i;o++)if(a[o]!=s[o]){d=a[o]>s[o]?1:-1;break}return d}function n(a,s,i){for(var c=0;i--;)a[i]-=c,c=a[i]<s[i]?1:0,a[i]=c*yc+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,c){var o,d,l,u,h,f,A,g,m,x,y,b,j,S,w,E,I,L,Z=a.constructor,ne=a.s==s.s?1:-1,G=a.d,le=s.d;if(!a.s)return new Z(a);if(!s.s)throw Error(zu+"Division by zero");for(d=a.e-s.e,I=le.length,w=G.length,A=new Z(ne),g=A.d=[],l=0;le[l]==(G[l]||0);)++l;if(le[l]>(G[l]||0)&&--d,i==null?b=i=Z.precision:c?b=i+(Bl(a)-Bl(s))+1:b=i,b<0)return new Z(0);if(b=b/yo+2|0,l=0,I==1)for(u=0,le=le[0],b++;(l<w||u)&&b--;l++)j=u*yc+(G[l]||0),g[l]=j/le|0,u=j%le|0;else{for(u=yc/(le[0]+1)|0,u>1&&(le=r(le,u),G=r(G,u),I=le.length,w=G.length),S=I,m=G.slice(0,I),x=m.length;x<I;)m[x++]=0;L=le.slice(),L.unshift(0),E=le[0],le[1]>=yc/2&&++E;do u=0,o=t(le,m,I,x),o<0?(y=m[0],I!=x&&(y=y*yc+(m[1]||0)),u=y/E|0,u>1?(u>=yc&&(u=yc-1),h=r(le,u),f=h.length,x=m.length,o=t(h,m,f,x),o==1&&(u--,n(h,I<f?L:le,f))):(u==0&&(o=u=1),h=le.slice()),f=h.length,f<x&&h.unshift(0),n(m,h,x),o==-1&&(x=m.length,o=t(le,m,I,x),o<1&&(u++,n(m,I<x?L:le,x))),x=m.length):o===0&&(u++,m=[0]),g[l++]=u,o&&m[0]?m[x++]=G[S]||0:(m=[G[S]],x=1);while((S++<w||m[0]!==void 0)&&b--)}return g[0]||g.shift(),A.e=d,Ki(A,c?i+Bl(A)+1:i)}})();function xF(r,t){var n,a,s,i,c,o,d=0,l=0,u=r.constructor,h=u.precision;if(Bl(r)>16)throw Error(uS+Bl(r));if(!r.s)return new u(uu);for(To=!1,o=h,c=new u(.03125);r.abs().gte(.1);)r=r.times(c),l+=5;for(a=Math.log(KA(2,l))/Math.LN10*2+5|0,o+=a,n=s=i=new u(uu),u.precision=o;;){if(s=Ki(s.times(r),o),n=n.times(++d),c=i.plus(xf(s,n,o)),Oh(c.d).slice(0,o)===Oh(i.d).slice(0,o)){for(;l--;)i=Ki(i.times(i),o);return u.precision=h,t==null?(To=!0,Ki(i,h)):i}i=c}}function Bl(r){for(var t=r.e*yo,n=r.d[0];n>=10;n/=10)t++;return t}function iw(r,t,n){if(t>r.LN10.sd())throw To=!0,n&&(r.precision=n),Error(zu+"LN10 precision limit exceeded");return Ki(new r(r.LN10),t)}function nA(r){for(var t="";r--;)t+="0";return t}function y1(r,t){var n,a,s,i,c,o,d,l,u,h=1,f=10,A=r,g=A.d,m=A.constructor,x=m.precision;if(A.s<1)throw Error(zu+(A.s?"NaN":"-Infinity"));if(A.eq(uu))return new m(0);if(t==null?(To=!1,l=x):l=t,A.eq(10))return t==null&&(To=!0),iw(m,l);if(l+=f,m.precision=l,n=Oh(g),a=n.charAt(0),i=Bl(A),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)A=A.times(r),n=Oh(A.d),a=n.charAt(0),h++;i=Bl(A),a>1?(A=new m("0."+n),i++):A=new m(a+"."+n.slice(1))}else return d=iw(m,l+2,x).times(i+""),A=y1(new m(a+"."+n.slice(1)),l-f).plus(d),m.precision=x,t==null?(To=!0,Ki(A,x)):A;for(o=c=A=xf(A.minus(uu),A.plus(uu),l),u=Ki(A.times(A),l),s=3;;){if(c=Ki(c.times(u),l),d=o.plus(xf(c,new m(s),l)),Oh(d.d).slice(0,l)===Oh(o.d).slice(0,l))return o=o.times(2),i!==0&&(o=o.plus(iw(m,l+2,x).times(i+""))),o=xf(o,new m(h),l),m.precision=x,t==null?(To=!0,Ki(o,x)):o;o=d,s+=2}}function DI(r,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,r.e=Mm(n/yo),r.d=[],a=(n+1)%yo,n<0&&(a+=yo),a<s){for(a&&r.d.push(+t.slice(0,a)),s-=yo;a<s;)r.d.push(+t.slice(a,a+=yo));t=t.slice(a),a=yo-t.length}else a-=s;for(;a--;)t+="0";if(r.d.push(+t),To&&(r.e>ax||r.e<-ax))throw Error(uS+n)}else r.s=0,r.e=0,r.d=[0];return r}function Ki(r,t,n){var a,s,i,c,o,d,l,u,h=r.d;for(c=1,i=h[0];i>=10;i/=10)c++;if(a=t-c,a<0)a+=yo,s=t,l=h[u=0];else{if(u=Math.ceil((a+1)/yo),i=h.length,u>=i)return r;for(l=i=h[u],c=1;i>=10;i/=10)c++;a%=yo,s=a-yo+c}if(n!==void 0&&(i=KA(10,c-s-1),o=l/i%10|0,d=t<0||h[u+1]!==void 0||l%i,d=n<4?(o||d)&&(n==0||n==(r.s<0?3:2)):o>5||o==5&&(n==4||d||n==6&&(a>0?s>0?l/KA(10,c-s):0:h[u-1])%10&1||n==(r.s<0?8:7))),t<1||!h[0])return d?(i=Bl(r),h.length=1,t=t-i-1,h[0]=KA(10,(yo-t%yo)%yo),r.e=Mm(-t/yo)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=KA(10,yo-a),h[u]=s>0?(l/KA(10,c-s)%KA(10,s)|0)*i:0),d)for(;;)if(u==0){(h[0]+=i)==yc&&(h[0]=1,++r.e);break}else{if(h[u]+=i,h[u]!=yc)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(To&&(r.e>ax||r.e<-ax))throw Error(uS+Bl(r));return r}function yF(r,t){var n,a,s,i,c,o,d,l,u,h,f=r.constructor,A=f.precision;if(!r.s||!t.s)return t.s?t.s=-t.s:t=new f(r),To?Ki(t,A):t;if(d=r.d,h=t.d,a=t.e,l=r.e,d=d.slice(),c=l-a,c){for(u=c<0,u?(n=d,c=-c,o=h.length):(n=h,a=l,o=d.length),s=Math.max(Math.ceil(A/yo),o)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=d.length,o=h.length,u=s<o,u&&(o=s),s=0;s<o;s++)if(d[s]!=h[s]){u=d[s]<h[s];break}c=0}for(u&&(n=d,d=h,h=n,t.s=-t.s),o=d.length,s=h.length-o;s>0;--s)d[o++]=0;for(s=h.length;s>c;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=yc-1;--d[i],d[s]+=yc}d[s]-=h[s]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,To?Ki(t,A):t):new f(0)}function up(r,t,n){var a,s=Bl(r),i=Oh(r.d),c=i.length;return t?(n&&(a=n-c)>0?i=i.charAt(0)+"."+i.slice(1)+nA(a):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+nA(-s-1)+i,n&&(a=n-c)>0&&(i+=nA(a))):s>=c?(i+=nA(s+1-c),n&&(a=n-s-1)>0&&(i=i+"."+nA(a))):((a=s+1)<c&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(i+="."),i+=nA(a))),r.s<0?"-"+i:i}function MI(r,t){if(r.length>t)return r.length=t,!0}function jF(r){var t,n,a;function s(i){var c=this;if(!(c instanceof s))return new s(i);if(c.constructor=s,i instanceof s){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sp+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return DI(c,i.toString())}else if(typeof i!="string")throw Error(sp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,x$.test(i))DI(c,i);else throw Error(sp+i)}if(s.prototype=Vn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=jF,s.config=s.set=y$,r===void 0&&(r={}),r)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)r.hasOwnProperty(n=a[t++])||(r[n]=this[n]);return s.config(r),s}function y$(r){if(!r||typeof r!="object")throw Error(zu+"Object expected");var t,n,a,s=["precision",1,Dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=r[n=s[t]])!==void 0)if(Mm(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(sp+n+": "+a);if((a=r[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(sp+n+": "+a);return this}var hS=jF(v$);uu=new hS(1);const Qi=hS;function j$(r){return N$(r)||C$(r)||w$(r)||b$()}function b$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$(r,t){if(r){if(typeof r=="string")return oN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(r,t)}}function C$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function N$(r){if(Array.isArray(r))return oN(r)}function oN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var S$=function(t){return t},bF={},wF=function(t){return t===bF},RI=function(t){return function n(){return arguments.length===0||arguments.length===1&&wF(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},E$=function r(t,n){return t===1?n:RI(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var c=s.filter(function(o){return o!==bF}).length;return c>=t?n.apply(void 0,s):r(t-c,RI(function(){for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];var u=s.map(function(h){return wF(h)?d.shift():h});return n.apply(void 0,j$(u).concat(d))}))})},u2=function(t){return E$(t.length,t)},lN=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},B$=u2(function(r,t){return Array.isArray(t)?t.map(r):Object.keys(t).map(function(n){return t[n]}).map(r)}),I$=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return S$;var s=n.reverse(),i=s[0],c=s.slice(1);return function(){return c.reduce(function(o,d){return d(o)},i.apply(void 0,arguments))}},cN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CF=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n&&i.every(function(o,d){return o===n[d]})||(n=i,a=t.apply(void 0,i)),a}};function T$(r){var t;return r===0?t=1:t=Math.floor(new Qi(r).abs().log(10).toNumber())+1,t}function k$(r,t,n){for(var a=new Qi(r),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var _$=u2(function(r,t,n){var a=+r,s=+t;return a+n*(s-a)}),O$=u2(function(r,t,n){var a=t-+r;return a=a||1/0,(n-r)/a}),F$=u2(function(r,t,n){var a=t-+r;return a=a||1/0,Math.max(0,Math.min(1,(n-r)/a))});const h2={rangeStep:k$,getDigitCount:T$,interpolateNumber:_$,uninterpolateNumber:O$,uninterpolateTruncation:F$};function dN(r){return M$(r)||D$(r)||NF(r)||P$()}function P$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function M$(r){if(Array.isArray(r))return uN(r)}function j1(r,t){return U$(r)||L$(r,t)||NF(r,t)||R$()}function R$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(r,t){if(r){if(typeof r=="string")return uN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(r,t)}}function uN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function L$(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],a=!0,s=!1,i=void 0;try{for(var c=r[Symbol.iterator](),o;!(a=(o=c.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw i}}return n}}function U$(r){if(Array.isArray(r))return r}function SF(r){var t=j1(r,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function EF(r,t,n){if(r.lte(0))return new Qi(0);var a=h2.getDigitCount(r.toNumber()),s=new Qi(10).pow(a),i=r.div(s),c=a!==1?.05:.1,o=new Qi(Math.ceil(i.div(c).toNumber())).add(n).mul(c),d=o.mul(s);return t?d:new Qi(Math.ceil(d))}function H$(r,t,n){var a=1,s=new Qi(r);if(!s.isint()&&n){var i=Math.abs(r);i<1?(a=new Qi(10).pow(h2.getDigitCount(r)-1),s=new Qi(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Qi(Math.floor(r)))}else r===0?s=new Qi(Math.floor((t-1)/2)):n||(s=new Qi(Math.floor(r)));var c=Math.floor((t-1)/2),o=I$(B$(function(d){return s.add(new Qi(d-c).mul(a)).toNumber()}),lN);return o(0,t)}function BF(r,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-r)/(n-1)))return{step:new Qi(0),tickMin:new Qi(0),tickMax:new Qi(0)};var i=EF(new Qi(t).sub(r).div(n-1),a,s),c;r<=0&&t>=0?c=new Qi(0):(c=new Qi(r).add(t).div(2),c=c.sub(new Qi(c).mod(i)));var o=Math.ceil(c.sub(r).div(i).toNumber()),d=Math.ceil(new Qi(t).sub(c).div(i).toNumber()),l=o+d+1;return l>n?BF(r,t,n,a,s+1):(l<n&&(d=t>0?d+(n-l):d,o=t>0?o:o+(n-l)),{step:i,tickMin:c.sub(new Qi(o).mul(i)),tickMax:c.add(new Qi(d).mul(i))})}function Q$(r){var t=j1(r,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),o=SF([n,a]),d=j1(o,2),l=d[0],u=d[1];if(l===-1/0||u===1/0){var h=u===1/0?[l].concat(dN(lN(0,s-1).map(function(){return 1/0}))):[].concat(dN(lN(0,s-1).map(function(){return-1/0})),[u]);return n>a?cN(h):h}if(l===u)return H$(l,s,i);var f=BF(l,u,c,i),A=f.step,g=f.tickMin,m=f.tickMax,x=h2.rangeStep(g,m.add(new Qi(.1).mul(A)),A);return n>a?cN(x):x}function W$(r,t){var n=j1(r,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=SF([a,s]),o=j1(c,2),d=o[0],l=o[1];if(d===-1/0||l===1/0)return[a,s];if(d===l)return[d];var u=Math.max(t,2),h=EF(new Qi(l).sub(d).div(u-1),i,0),f=[].concat(dN(h2.rangeStep(new Qi(d),new Qi(l).sub(new Qi(.99).mul(h)),h)),[l]);return a>s?cN(f):f}var $$=CF(Q$),V$=CF(W$),z$="Invariant failed";function hp(r,t){throw new Error(z$)}var G$=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dm(r){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(r)}function sx(){return sx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},sx.apply(this,arguments)}function K$(r,t){return J$(r)||Y$(r,t)||X$(r,t)||q$()}function q$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(r,t){if(r){if(typeof r=="string")return LI(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(r,t)}}function LI(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function Y$(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function J$(r){if(Array.isArray(r))return r}function Z$(r,t){if(r==null)return{};var n=eV(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function eV(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function tV(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function rV(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,kF(a.key),a)}}function nV(r,t,n){return t&&rV(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function aV(r,t,n){return t=ix(t),sV(r,IF()?Reflect.construct(t,n||[],ix(r).constructor):t.apply(r,n))}function sV(r,t){if(t&&(dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iV(r)}function iV(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!r})()}function ix(r){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(r)}function oV(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&hN(r,t)}function hN(r,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},hN(r,t)}function TF(r,t,n){return t=kF(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function kF(r){var t=lV(r,"string");return dm(t)=="symbol"?t:t+""}function lV(r,t){if(dm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var J1=(function(r){function t(){return tV(this,t),aV(this,t,arguments)}return oV(t,r),nV(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,c=a.width,o=a.dataKey,d=a.data,l=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,f=Z$(a,G$),A=ka(f,!1);this.props.direction==="x"&&u.type!=="number"&&hp();var g=d.map(function(m){var x=l(m,o),y=x.x,b=x.y,j=x.value,S=x.errorVal;if(!S)return null;var w=[],E,I;if(Array.isArray(S)){var L=K$(S,2);E=L[0],I=L[1]}else E=I=S;if(i==="vertical"){var Z=u.scale,ne=b+s,G=ne+c,le=ne-c,V=Z(j-E),me=Z(j+I);w.push({x1:me,y1:G,x2:me,y2:le}),w.push({x1:V,y1:ne,x2:me,y2:ne}),w.push({x1:V,y1:G,x2:V,y2:le})}else if(i==="horizontal"){var $=h.scale,X=y+s,Ce=X-c,M=X+c,q=$(j-E),ie=$(j+I);w.push({x1:Ce,y1:ie,x2:M,y2:ie}),w.push({x1:X,y1:q,x2:X,y2:ie}),w.push({x1:Ce,y1:q,x2:M,y2:q})}return Ct.createElement(oi,sx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},A),w.map(function(J){return Ct.createElement("line",sx({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Ct.createElement(oi,{className:"recharts-errorBars"},g)}}])})(Ct.Component);TF(J1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TF(J1,"displayName","ErrorBar");function b1(r){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(r)}function UI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function MA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(a){cV(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function cV(r,t,n){return t=dV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function dV(r){var t=uV(r,"string");return b1(t)=="symbol"?t:t+""}function uV(r,t){if(b1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(b1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var _F=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,c=lu(n,_h);if(!c)return null;var o=_h.defaultProps,d=o!==void 0?MA(MA({},o),c.props):{},l;return c.props&&c.props.payload?l=c.props&&c.props.payload:i==="children"?l=(a||[]).reduce(function(u,h){var f=h.item,A=h.props,g=A.sectors||A.data||[];return u.concat(g.map(function(m){return{type:c.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(a||[]).map(function(u){var h=u.item,f=h.type.defaultProps,A=f!==void 0?MA(MA({},f),h.props):{},g=A.dataKey,m=A.name,x=A.legendType,y=A.hide;return{inactive:y,dataKey:g,type:d.iconType||x||"square",color:fS(h),value:m||g,payload:A}}),MA(MA(MA({},d),_h.getWithHeight(c,s)),{},{payload:l,item:c})};function w1(r){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(r)}function HI(r){return pV(r)||AV(r)||fV(r)||hV()}function hV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fV(r,t){if(r){if(typeof r=="string")return fN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(r,t)}}function AV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function pV(r){if(Array.isArray(r))return fN(r)}function fN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function QI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function nl(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(a){tm(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tm(r,t,n){return t=mV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function mV(r){var t=gV(r,"string");return w1(t)=="symbol"?t:t+""}function gV(r,t){if(w1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(w1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function ql(r,t,n){return os(r)||os(t)?n:Yl(t)?hu(r,t,n):Xa(t)?t(r):n}function Zg(r,t,n,a){var s=p$(r,function(o){return ql(o,t)});if(n==="number"){var i=s.filter(function(o){return mn(o)||parseFloat(o)});return i.length?[d2(i),c2(i)]:[1/0,-1/0]}var c=a?s.filter(function(o){return!os(o)}):s;return c.map(function(o){return Yl(o)||o instanceof Date?o:""})}var vV=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=-1,o=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,l=0;l<o;l++){var u=l>0?s[l-1].coordinate:s[o-1].coordinate,h=s[l].coordinate,f=l>=o-1?s[0].coordinate:s[l+1].coordinate,A=void 0;if(wd(h-u)!==wd(f-h)){var g=[];if(wd(f-h)===wd(d[1]-d[0])){A=f;var m=h+d[1]-d[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{A=u;var x=f+d[1]-d[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(A+h)/2),Math.max(h,(A+h)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){c=s[l].index;break}}else{var b=Math.min(u,f),j=Math.max(u,f);if(t>(b+h)/2&&t<=(j+h)/2){c=s[l].index;break}}}else for(var S=0;S<o;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<o-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===o-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){c=a[S].index;break}return c},fS=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?nl(nl({},t.type.defaultProps),t.props):t.props,c=i.stroke,o=i.fill,d;switch(s){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:o;break;default:d=o;break}return d},xV=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var c={},o=Object.keys(i),d=0,l=o.length;d<l;d++)for(var u=i[o[d]].stackGroups,h=Object.keys(u),f=0,A=h.length;f<A;f++){var g=u[h[f]],m=g.items,x=g.cateAxisId,y=m.filter(function(I){return vf(I.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,j=b!==void 0?nl(nl({},b),y[0].props):y[0].props,S=j.barSize,w=j[x];c[w]||(c[w]=[]);var E=os(S)?n:S;c[w].push({item:y[0],stackList:y.slice(1),barSize:os(E)?void 0:Cd(E,a,0)})}}return c},yV=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,c=i===void 0?[]:i,o=t.maxBarSize,d=c.length;if(d<1)return null;var l=Cd(n,s,0,!0),u,h=[];if(c[0].barSize===+c[0].barSize){var f=!1,A=s/d,g=c.reduce(function(S,w){return S+w.barSize||0},0);g+=(d-1)*l,g>=s&&(g-=(d-1)*l,l=0),g>=s&&A>0&&(f=!0,A*=.9,g=d*A);var m=(s-g)/2>>0,x={offset:m-l,size:0};u=c.reduce(function(S,w){var E={item:w.item,position:{offset:x.offset+x.size+l,size:f?A:w.barSize}},I=[].concat(HI(S),[E]);return x=I[I.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(L){I.push({item:L,position:x})}),I},h)}else{var y=Cd(a,s,0,!0);s-2*y-(d-1)*l<=0&&(l=0);var b=(s-2*y-(d-1)*l)/d;b>1&&(b>>=0);var j=o===+o?Math.min(b,o):b;u=c.reduce(function(S,w,E){var I=[].concat(HI(S),[{item:w.item,position:{offset:y+(b+l)*E+(b-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(L){I.push({item:L,position:I[I.length-1].position})}),I},h)}return u},jV=function(t,n,a,s){var i=a.children,c=a.width,o=a.margin,d=c-(o.left||0)-(o.right||0),l=_F({children:i,legendWidth:d});if(l){var u=s||{},h=u.width,f=u.height,A=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&A!=="center"&&mn(t[A]))return nl(nl({},t),{},tm({},A,t[A]+(h||0)));if((m==="horizontal"||m==="vertical"&&A==="center")&&g!=="middle"&&mn(t[g]))return nl(nl({},t),{},tm({},g,t[g]+(f||0)))}return t},bV=function(t,n,a){return os(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},OF=function(t,n,a,s,i){var c=n.props.children,o=fu(c,J1).filter(function(l){return bV(s,i,l.props.direction)});if(o&&o.length){var d=o.map(function(l){return l.props.dataKey});return t.reduce(function(l,u){var h=ql(u,a);if(os(h))return l;var f=Array.isArray(h)?[d2(h),c2(h)]:[h,h],A=d.reduce(function(g,m){var x=ql(u,m,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(A[0],l[0]),Math.max(A[1],l[1])]},[1/0,-1/0])}return null},wV=function(t,n,a,s,i){var c=n.map(function(o){return OF(t,o,a,i,s)}).filter(function(o){return!os(o)});return c&&c.length?c.reduce(function(o,d){return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]):null},FF=function(t,n,a,s,i){var c=n.map(function(d){var l=d.props.dataKey;return a==="number"&&l&&OF(t,d,l,s)||Zg(t,l,a,i)});if(a==="number")return c.reduce(function(d,l){return[Math.min(d[0],l[0]),Math.max(d[1],l[1])]},[1/0,-1/0]);var o={};return c.reduce(function(d,l){for(var u=0,h=l.length;u<h;u++)o[l[u]]||(o[l[u]]=!0,d.push(l[u]));return d},[])},PF=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},DF=function(t,n,a,s){if(s)return t.map(function(d){return d.coordinate});var i,c,o=t.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===a&&(c=!0),d.coordinate});return i||o.push(n),c||o.push(a),o},gf=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,c=t.type,o=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,l=(n||a)&&c==="category"&&s.bandwidth?s.bandwidth()/d:0;if(l=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?wd(o[0]-o[1])*2*l:l,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+l,value:h,offset:l}});return u.filter(function(h){return!V1(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:s(h)+l,value:h,index:f,offset:l}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+l,value:h,offset:l}}):s.domain().map(function(h,f){return{coordinate:s(h)+l,value:i?i[h]:h,index:f,offset:l}})},ow=new WeakMap,g0=function(t,n){if(typeof n!="function")return t;ow.has(t)||ow.set(t,new WeakMap);var a=ow.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},MF=function(t,n,a){var s=t.scale,i=t.type,c=t.layout,o=t.axisType;if(s==="auto")return c==="radial"&&o==="radiusAxis"?{scale:p1(),realScaleType:"band"}:c==="radial"&&o==="angleAxis"?{scale:ex(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Jg(),realScaleType:"point"}:i==="category"?{scale:p1(),realScaleType:"band"}:{scale:ex(),realScaleType:"linear"};if($1(s)){var d="scale".concat(Kx(s));return{scale:(EI[d]||Jg)(),realScaleType:EI[d]?d:"point"}}return Xa(s)?{scale:s}:{scale:Jg(),realScaleType:"point"}},WI=1e-4,RF=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-WI,c=Math.max(s[0],s[1])+WI,o=t(n[0]),d=t(n[a-1]);(o<i||o>c||d<i||d>c)&&t.domain([n[0],n[a-1]])}},CV=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},NV=function(t,n){if(!n||n.length!==2||!mn(n[0])||!mn(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!mn(t[0])||t[0]<a)&&(i[0]=a),(!mn(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},SV=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,c=0,o=0;o<n;++o){var d=V1(t[o][a][1])?t[o][a][0]:t[o][a][1];d>=0?(t[o][a][0]=i,t[o][a][1]=i+d,i=t[o][a][1]):(t[o][a][0]=c,t[o][a][1]=c+d,c=t[o][a][1])}},EV=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,c=0;c<n;++c){var o=V1(t[c][a][1])?t[c][a][0]:t[c][a][1];o>=0?(t[c][a][0]=i,t[c][a][1]=i+o,i=t[c][a][1]):(t[c][a][0]=0,t[c][a][1]=0)}},BV={sign:SV,expand:A7,none:rm,silhouette:p7,wiggle:m7,positive:EV},IV=function(t,n,a){var s=n.map(function(o){return o.props.dataKey}),i=BV[a],c=f7().keys(s).value(function(o,d){return+ql(o,d,0)}).order(WC).offset(i);return c(t)},TV=function(t,n,a,s,i,c){if(!t)return null;var o=c?n.reverse():n,d={},l=o.reduce(function(h,f){var A,g=(A=f.type)!==null&&A!==void 0&&A.defaultProps?nl(nl({},f.type.defaultProps),f.props):f.props,m=g.stackId,x=g.hide;if(x)return h;var y=g[a],b=h[y]||{hasStack:!1,stackGroups:{}};if(Yl(m)){var j=b.stackGroups[m]||{numericAxisId:a,cateAxisId:s,items:[]};j.items.push(f),b.hasStack=!0,b.stackGroups[m]=j}else b.stackGroups[Om("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return nl(nl({},h),{},tm({},y,b))},d),u={};return Object.keys(l).reduce(function(h,f){var A=l[f];if(A.hasStack){var g={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(m,x){var y=A.stackGroups[x];return nl(nl({},m),{},tm({},x,{numericAxisId:a,cateAxisId:s,items:y.items,stackedData:IV(t,y.items,i)}))},g)}return nl(nl({},h),{},tm({},f,A))},u)},LF=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,c=n.originalDomain,o=n.allowDecimals,d=a||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var l=t.domain();if(!l.length)return null;var u=$$(l,i,o);return t.domain([d2(u),c2(u)]),{niceTicks:u}}if(i&&s==="number"){var h=t.domain(),f=V$(h,i,o);return{niceTicks:f}}return null};function $I(r){var t=r.axis,n=r.ticks,a=r.bandSize,s=r.entry,i=r.index,c=r.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!os(s[t.dataKey])){var o=Pv(n,"value",s[t.dataKey]);if(o)return o.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var d=ql(s,os(c)?t.dataKey:c);return os(d)?null:t.scale(d)}var VI=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,c=t.entry,o=t.index;if(n.type==="category")return a[o]?a[o].coordinate+s:null;var d=ql(c,n.dataKey,n.domain[o]);return os(d)?null:n.scale(d)-i/2+s},kV=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},_V=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?nl(nl({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Yl(i)){var c=n[i];if(c){var o=c.items.indexOf(t);return o>=0?c.stackedData[o]:null}}return null},OV=function(t){return t.reduce(function(n,a){return[d2(a.concat([n[0]]).filter(mn)),c2(a.concat([n[1]]).filter(mn))]},[1/0,-1/0])},UF=function(t,n,a){return Object.keys(t).reduce(function(s,i){var c=t[i],o=c.stackedData,d=o.reduce(function(l,u){var h=OV(u.slice(n,a+1));return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},zI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AN=function(t,n,a){if(Xa(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(mn(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(zI.test(t[0])){var i=+zI.exec(t[0])[1];s[0]=n[0]-i}else Xa(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(mn(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(GI.test(t[1])){var c=+GI.exec(t[1])[1];s[1]=n[1]+c}else Xa(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},ox=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=H4(n,function(h){return h.coordinate}),c=1/0,o=1,d=i.length;o<d;o++){var l=i[o],u=i[o-1];c=Math.min((l.coordinate||0)-(u.coordinate||0),c)}return c===1/0?0:c}return a?void 0:0},KI=function(t,n,a){return!t||!t.length||Y1(t,hu(a,"type.defaultProps.domain"))?n:t},HF=function(t,n){var a=t.type.defaultProps?nl(nl({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,c=a.unit,o=a.formatter,d=a.tooltipType,l=a.chartType,u=a.hide;return nl(nl({},ka(t,!1)),{},{dataKey:s,unit:c,formatter:o,name:i||s,color:fS(t),value:ql(n,s),type:d,payload:n,chartType:l,hide:u})};function C1(r){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(r)}function qI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function ff(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(a){QF(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function QF(r,t,n){return t=FV(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function FV(r){var t=PV(r,"string");return C1(t)=="symbol"?t:t+""}function PV(r,t){if(C1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(C1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function DV(r,t){return UV(r)||LV(r,t)||RV(r,t)||MV()}function MV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(r,t){if(r){if(typeof r=="string")return XI(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(r,t)}}function XI(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function LV(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function UV(r){if(Array.isArray(r))return r}var lx=Math.PI/180,HV=function(t){return t*180/Math.PI},io=function(t,n,a,s){return{x:t+Math.cos(-lx*s)*a,y:n+Math.sin(-lx*s)*a}},WF=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},QV=function(t,n,a,s,i){var c=t.width,o=t.height,d=t.startAngle,l=t.endAngle,u=Cd(t.cx,c,c/2),h=Cd(t.cy,o,o/2),f=WF(c,o,a),A=Cd(t.innerRadius,f,0),g=Cd(t.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(x,y){var b=n[y],j=b.domain,S=b.reversed,w;if(os(b.range))s==="angleAxis"?w=[d,l]:s==="radiusAxis"&&(w=[A,g]),S&&(w=[w[1],w[0]]);else{w=b.range;var E=w,I=DV(E,2);d=I[0],l=I[1]}var L=MF(b,i),Z=L.realScaleType,ne=L.scale;ne.domain(j).range(w),RF(ne);var G=LF(ne,ff(ff({},b),{},{realScaleType:Z})),le=ff(ff(ff({},b),G),{},{range:w,radius:g,realScaleType:Z,scale:ne,cx:u,cy:h,innerRadius:A,outerRadius:g,startAngle:d,endAngle:l});return ff(ff({},x),{},QF({},y,le))},{})},WV=function(t,n){var a=t.x,s=t.y,i=n.x,c=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-c,2))},$V=function(t,n){var a=t.x,s=t.y,i=n.cx,c=n.cy,o=WV({x:a,y:s},{x:i,y:c});if(o<=0)return{radius:o};var d=(a-i)/o,l=Math.acos(d);return s>c&&(l=2*Math.PI-l),{radius:o,angle:HV(l),angleInRadian:l}},VV=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),c=Math.min(s,i);return{startAngle:n-c*360,endAngle:a-c*360}},zV=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),c=Math.floor(s/360),o=Math.min(i,c);return t+o*360},YI=function(t,n){var a=t.x,s=t.y,i=$V({x:a,y:s},n),c=i.radius,o=i.angle,d=n.innerRadius,l=n.outerRadius;if(c<d||c>l)return!1;if(c===0)return!0;var u=VV(n),h=u.startAngle,f=u.endAngle,A=o,g;if(h<=f){for(;A>f;)A-=360;for(;A<h;)A+=360;g=A>=h&&A<=f}else{for(;A>h;)A-=360;for(;A<f;)A+=360;g=A>=f&&A<=h}return g?ff(ff({},n),{},{radius:c,angle:zV(A,n)}):null},$F=function(t){return!C.isValidElement(t)&&!Xa(t)&&typeof t!="boolean"?t.className:""};function N1(r){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(r)}var GV=["offset"];function KV(r){return JV(r)||YV(r)||XV(r)||qV()}function qV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(r,t){if(r){if(typeof r=="string")return pN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pN(r,t)}}function YV(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function JV(r){if(Array.isArray(r))return pN(r)}function pN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function ZV(r,t){if(r==null)return{};var n=ez(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function ez(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function JI(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function $l(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(n),!0).forEach(function(a){tz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tz(r,t,n){return t=rz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function rz(r){var t=nz(r,"string");return N1(t)=="symbol"?t:t+""}function nz(r,t){if(N1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(N1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function S1(){return S1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},S1.apply(this,arguments)}var az=function(t){var n=t.value,a=t.formatter,s=os(t.children)?n:t.children;return Xa(a)?a(s):s},sz=function(t,n){var a=wd(n-t),s=Math.min(Math.abs(n-t),360);return a*s},iz=function(t,n,a){var s=t.position,i=t.viewBox,c=t.offset,o=t.className,d=i,l=d.cx,u=d.cy,h=d.innerRadius,f=d.outerRadius,A=d.startAngle,g=d.endAngle,m=d.clockWise,x=(h+f)/2,y=sz(A,g),b=y>=0?1:-1,j,S;s==="insideStart"?(j=A+b*c,S=m):s==="insideEnd"?(j=g-b*c,S=!m):s==="end"&&(j=g+b*c,S=m),S=y<=0?S:!S;var w=io(l,u,x,j),E=io(l,u,x,j+(S?1:-1)*359),I="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=os(t.id)?Om("recharts-radial-line-"):t.id;return Ct.createElement("text",S1({},a,{dominantBaseline:"central",className:vs("recharts-radial-bar-label",o)}),Ct.createElement("defs",null,Ct.createElement("path",{id:L,d:I})),Ct.createElement("textPath",{xlinkHref:"#".concat(L)},n))},oz=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,c=i.cx,o=i.cy,d=i.innerRadius,l=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(s==="outside"){var A=io(c,o,l+a,f),g=A.x,m=A.y;return{x:g,y:m,textAnchor:g>=c?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:c,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(d+l)/2,y=io(c,o,x,f),b=y.x,j=y.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},lz=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,c=n,o=c.x,d=c.y,l=c.width,u=c.height,h=u>=0?1:-1,f=h*s,A=h>0?"end":"start",g=h>0?"start":"end",m=l>=0?1:-1,x=m*s,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var j={x:o+l/2,y:d-h*s,textAnchor:"middle",verticalAnchor:A};return $l($l({},j),a?{height:Math.max(d-a.y,0),width:l}:{})}if(i==="bottom"){var S={x:o+l/2,y:d+u+f,textAnchor:"middle",verticalAnchor:g};return $l($l({},S),a?{height:Math.max(a.y+a.height-(d+u),0),width:l}:{})}if(i==="left"){var w={x:o-x,y:d+u/2,textAnchor:y,verticalAnchor:"middle"};return $l($l({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(i==="right"){var E={x:o+l+x,y:d+u/2,textAnchor:b,verticalAnchor:"middle"};return $l($l({},E),a?{width:Math.max(a.x+a.width-E.x,0),height:u}:{})}var I=a?{width:l,height:u}:{};return i==="insideLeft"?$l({x:o+x,y:d+u/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideRight"?$l({x:o+l-x,y:d+u/2,textAnchor:y,verticalAnchor:"middle"},I):i==="insideTop"?$l({x:o+l/2,y:d+f,textAnchor:"middle",verticalAnchor:g},I):i==="insideBottom"?$l({x:o+l/2,y:d+u-f,textAnchor:"middle",verticalAnchor:A},I):i==="insideTopLeft"?$l({x:o+x,y:d+f,textAnchor:b,verticalAnchor:g},I):i==="insideTopRight"?$l({x:o+l-x,y:d+f,textAnchor:y,verticalAnchor:g},I):i==="insideBottomLeft"?$l({x:o+x,y:d+u-f,textAnchor:b,verticalAnchor:A},I):i==="insideBottomRight"?$l({x:o+l-x,y:d+u-f,textAnchor:y,verticalAnchor:A},I):_m(i)&&(mn(i.x)||JA(i.x))&&(mn(i.y)||JA(i.y))?$l({x:o+Cd(i.x,l),y:d+Cd(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):$l({x:o+l/2,y:d+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},cz=function(t){return"cx"in t&&mn(t.cx)};function jc(r){var t=r.offset,n=t===void 0?5:t,a=ZV(r,GV),s=$l({offset:n},a),i=s.viewBox,c=s.position,o=s.value,d=s.children,l=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||os(o)&&os(d)&&!C.isValidElement(l)&&!Xa(l))return null;if(C.isValidElement(l))return C.cloneElement(l,s);var A;if(Xa(l)){if(A=C.createElement(l,s),C.isValidElement(A))return A}else A=az(s);var g=cz(i),m=ka(s,!0);if(g&&(c==="insideStart"||c==="insideEnd"||c==="end"))return iz(s,A,m);var x=g?oz(s):lz(s);return Ct.createElement(dp,S1({className:vs("recharts-label",h)},m,x,{breakAll:f}),A)}jc.displayName="Label";var VF=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,c=t.endAngle,o=t.r,d=t.radius,l=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,A=t.top,g=t.left,m=t.width,x=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(mn(m)&&mn(x)){if(mn(h)&&mn(f))return{x:h,y:f,width:m,height:x};if(mn(A)&&mn(g))return{x:A,y:g,width:m,height:x}}return mn(h)&&mn(f)?{x:h,y:f,width:0,height:0}:mn(n)&&mn(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:c||s||0,innerRadius:l||0,outerRadius:u||d||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},dz=function(t,n){return t?t===!0?Ct.createElement(jc,{key:"label-implicit",viewBox:n}):Yl(t)?Ct.createElement(jc,{key:"label-implicit",viewBox:n,value:t}):C.isValidElement(t)?t.type===jc?C.cloneElement(t,{key:"label-implicit",viewBox:n}):Ct.createElement(jc,{key:"label-implicit",content:t,viewBox:n}):Xa(t)?Ct.createElement(jc,{key:"label-implicit",content:t,viewBox:n}):_m(t)?Ct.createElement(jc,S1({viewBox:n},t,{key:"label-implicit"})):null:null},uz=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=VF(t),c=fu(s,jc).map(function(d,l){return C.cloneElement(d,{viewBox:n||i,key:"label-".concat(l)})});if(!a)return c;var o=dz(t.label,n||i);return[o].concat(KV(c))};jc.parseViewBox=VF;jc.renderCallByParent=uz;var lw,ZI;function hz(){if(ZI)return lw;ZI=1;function r(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return lw=r,lw}var fz=hz();const Az=Zs(fz);function E1(r){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(r)}var pz=["valueAccessor"],mz=["data","dataKey","clockWise","id","textBreakAll"];function gz(r){return jz(r)||yz(r)||xz(r)||vz()}function vz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(r,t){if(r){if(typeof r=="string")return mN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(r,t)}}function yz(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jz(r){if(Array.isArray(r))return mN(r)}function mN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function cx(){return cx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},cx.apply(this,arguments)}function e6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function t6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(n),!0).forEach(function(a){bz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function bz(r,t,n){return t=wz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function wz(r){var t=Cz(r,"string");return E1(t)=="symbol"?t:t+""}function Cz(r,t){if(E1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(E1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function r6(r,t){if(r==null)return{};var n=Nz(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Nz(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var Sz=function(t){return Array.isArray(t.value)?Az(t.value):t.value};function yf(r){var t=r.valueAccessor,n=t===void 0?Sz:t,a=r6(r,pz),s=a.data,i=a.dataKey,c=a.clockWise,o=a.id,d=a.textBreakAll,l=r6(a,mz);return!s||!s.length?null:Ct.createElement(oi,{className:"recharts-label-list"},s.map(function(u,h){var f=os(i)?n(u,h):ql(u&&u.payload,i),A=os(o)?{}:{id:"".concat(o,"-").concat(h)};return Ct.createElement(jc,cx({},ka(u,!0),l,A,{parentViewBox:u.parentViewBox,value:f,textBreakAll:d,viewBox:jc.parseViewBox(os(c)?u:t6(t6({},u),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}yf.displayName="LabelList";function Ez(r,t){return r?r===!0?Ct.createElement(yf,{key:"labelList-implicit",data:t}):Ct.isValidElement(r)||Xa(r)?Ct.createElement(yf,{key:"labelList-implicit",data:t,content:r}):_m(r)?Ct.createElement(yf,cx({data:t},r,{key:"labelList-implicit"})):null:null}function Bz(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,s=fu(a,yf).map(function(c,o){return C.cloneElement(c,{data:t,key:"labelList-".concat(o)})});if(!n)return s;var i=Ez(r.label,t);return[i].concat(gz(s))}yf.renderCallByParent=Bz;function B1(r){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(r)}function gN(){return gN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},gN.apply(this,arguments)}function n6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function a6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(a){Iz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Iz(r,t,n){return t=Tz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Tz(r){var t=kz(r,"string");return B1(t)=="symbol"?t:t+""}function kz(r,t){if(B1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(B1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var _z=function(t,n){var a=wd(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},v0=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,c=t.sign,o=t.isExternal,d=t.cornerRadius,l=t.cornerIsExternal,u=d*(o?1:-1)+s,h=Math.asin(d/u)/lx,f=l?i:i+c*h,A=io(n,a,u,f),g=io(n,a,s,f),m=l?i-c*h:i,x=io(n,a,u*Math.cos(h*lx),m);return{center:A,circleTangency:g,lineTangency:x,theta:h}},zF=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,c=t.startAngle,o=t.endAngle,d=_z(c,o),l=c+d,u=io(n,a,i,c),h=io(n,a,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var A=io(n,a,s,c),g=io(n,a,s,l);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=l),`,
            `).concat(A.x,",").concat(A.y," Z")}else f+="L ".concat(n,",").concat(a," Z");return f},Oz=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,c=t.cornerRadius,o=t.forceCornerRadius,d=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,h=wd(u-l),f=v0({cx:n,cy:a,radius:i,angle:l,sign:h,cornerRadius:c,cornerIsExternal:d}),A=f.circleTangency,g=f.lineTangency,m=f.theta,x=v0({cx:n,cy:a,radius:i,angle:u,sign:-h,cornerRadius:c,cornerIsExternal:d}),y=x.circleTangency,b=x.lineTangency,j=x.theta,S=d?Math.abs(l-u):Math.abs(l-u)-m-j;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):zF({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var E=v0({cx:n,cy:a,radius:s,angle:l,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=E.circleTangency,L=E.lineTangency,Z=E.theta,ne=v0({cx:n,cy:a,radius:s,angle:u,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),G=ne.circleTangency,le=ne.lineTangency,V=ne.theta,me=d?Math.abs(l-u):Math.abs(l-u)-Z-V;if(me<0&&c===0)return"".concat(w,"L").concat(n,",").concat(a,"Z");w+="L".concat(le.x,",").concat(le.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(me>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else w+="L".concat(n,",").concat(a,"Z");return w},Fz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GF=function(t){var n=a6(a6({},Fz),t),a=n.cx,s=n.cy,i=n.innerRadius,c=n.outerRadius,o=n.cornerRadius,d=n.forceCornerRadius,l=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(c<i||u===h)return null;var A=vs("recharts-sector",f),g=c-i,m=Cd(o,g,0,!0),x;return m>0&&Math.abs(u-h)<360?x=Oz({cx:a,cy:s,innerRadius:i,outerRadius:c,cornerRadius:Math.min(m,g/2),forceCornerRadius:d,cornerIsExternal:l,startAngle:u,endAngle:h}):x=zF({cx:a,cy:s,innerRadius:i,outerRadius:c,startAngle:u,endAngle:h}),Ct.createElement("path",gN({},ka(n,!0),{className:A,d:x,role:"img"}))};function I1(r){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(r)}function vN(){return vN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},vN.apply(this,arguments)}function s6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function i6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(n),!0).forEach(function(a){Pz(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Pz(r,t,n){return t=Dz(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Dz(r){var t=Mz(r,"string");return I1(t)=="symbol"?t:t+""}function Mz(r,t){if(I1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(I1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var o6={curveBasisClosed:r7,curveBasisOpen:n7,curveBasis:t7,curveBumpX:HL,curveBumpY:QL,curveLinearClosed:a7,curveLinear:Xx,curveMonotoneX:s7,curveMonotoneY:i7,curveNatural:o7,curveStep:l7,curveStepAfter:d7,curveStepBefore:c7},x0=function(t){return t.x===+t.x&&t.y===+t.y},Ym=function(t){return t.x},Jm=function(t){return t.y},Rz=function(t,n){if(Xa(t))return t;var a="curve".concat(Kx(t));return(a==="curveMonotone"||a==="curveBump")&&n?o6["".concat(a).concat(n==="vertical"?"Y":"X")]:o6[a]||Xx},Lz=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,c=t.baseLine,o=t.layout,d=t.connectNulls,l=d===void 0?!1:d,u=Rz(a,o),h=l?i.filter(function(m){return x0(m)}):i,f;if(Array.isArray(c)){var A=l?c.filter(function(m){return x0(m)}):c,g=h.map(function(m,x){return i6(i6({},m),{},{base:A[x]})});return o==="vertical"?f=d0().y(Jm).x1(Ym).x0(function(m){return m.base.x}):f=d0().x(Ym).y1(Jm).y0(function(m){return m.base.y}),f.defined(x0).curve(u),f(g)}return o==="vertical"&&mn(c)?f=d0().y(Jm).x1(Ym).x0(c):mn(c)?f=d0().x(Ym).y1(Jm).y0(c):f=z_().x(Ym).y(Jm),f.defined(x0).curve(u),f(h)},dx=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var c=a&&a.length?Lz(t):s;return Ct.createElement("path",vN({},ka(t,!1),Dv(t),{className:vs("recharts-curve",n),d:c,ref:i}))},cw={exports:{}},dw,l6;function Uz(){if(l6)return dw;l6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dw=r,dw}var uw,c6;function Hz(){if(c6)return uw;c6=1;var r=Uz();function t(){}function n(){}return n.resetWarningCache=t,uw=function(){function a(c,o,d,l,u,h){if(h!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},uw}var d6;function Qz(){return d6||(d6=1,cw.exports=Hz()()),cw.exports}var Wz=Qz();const Bi=Zs(Wz),{getOwnPropertyNames:$z,getOwnPropertySymbols:Vz}=Object,{hasOwnProperty:zz}=Object.prototype;function hw(r,t){return function(a,s,i){return r(a,s,i)&&t(a,s,i)}}function y0(r){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,s);const{cache:i}=s,c=i.get(n),o=i.get(a);if(c&&o)return c===a&&o===n;i.set(n,a),i.set(a,n);const d=r(n,a,s);return i.delete(n),i.delete(a),d}}function Gz(r){return r!=null?r[Symbol.toStringTag]:void 0}function u6(r){return $z(r).concat(Vz(r))}const Kz=Object.hasOwn||((r,t)=>zz.call(r,t));function vp(r,t){return r===t||!r&&!t&&r!==r&&t!==t}const qz="__v",Xz="__o",Yz="_owner",{getOwnPropertyDescriptor:h6,keys:f6}=Object;function Jz(r,t){return r.byteLength===t.byteLength&&ux(new Uint8Array(r),new Uint8Array(t))}function Zz(r,t,n){let a=r.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],t[a],a,a,r,t,n))return!1;return!0}function eG(r,t){return r.byteLength===t.byteLength&&ux(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function tG(r,t){return vp(r.getTime(),t.getTime())}function rG(r,t){return r.name===t.name&&r.message===t.message&&r.cause===t.cause&&r.stack===t.stack}function nG(r,t){return r===t}function A6(r,t,n){const a=r.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=r.entries();let c,o,d=0;for(;(c=i.next())&&!c.done;){const l=t.entries();let u=!1,h=0;for(;(o=l.next())&&!o.done;){if(s[h]){h++;continue}const f=c.value,A=o.value;if(n.equals(f[0],A[0],d,h,r,t,n)&&n.equals(f[1],A[1],f[0],A[0],r,t,n)){u=s[h]=!0;break}h++}if(!u)return!1;d++}return!0}const aG=vp;function sG(r,t,n){const a=f6(r);let s=a.length;if(f6(t).length!==s)return!1;for(;s-- >0;)if(!KF(r,t,n,a[s]))return!1;return!0}function Zm(r,t,n){const a=u6(r);let s=a.length;if(u6(t).length!==s)return!1;let i,c,o;for(;s-- >0;)if(i=a[s],!KF(r,t,n,i)||(c=h6(r,i),o=h6(t,i),(c||o)&&(!c||!o||c.configurable!==o.configurable||c.enumerable!==o.enumerable||c.writable!==o.writable)))return!1;return!0}function iG(r,t){return vp(r.valueOf(),t.valueOf())}function oG(r,t){return r.source===t.source&&r.flags===t.flags}function p6(r,t,n){const a=r.size;if(a!==t.size)return!1;if(!a)return!0;const s=new Array(a),i=r.values();let c,o;for(;(c=i.next())&&!c.done;){const d=t.values();let l=!1,u=0;for(;(o=d.next())&&!o.done;){if(!s[u]&&n.equals(c.value,o.value,c.value,o.value,r,t,n)){l=s[u]=!0;break}u++}if(!l)return!1}return!0}function ux(r,t){let n=r.byteLength;if(t.byteLength!==n||r.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(r[n]!==t[n])return!1;return!0}function lG(r,t){return r.hostname===t.hostname&&r.pathname===t.pathname&&r.protocol===t.protocol&&r.port===t.port&&r.hash===t.hash&&r.username===t.username&&r.password===t.password}function KF(r,t,n,a){return(a===Yz||a===Xz||a===qz)&&(r.$$typeof||t.$$typeof)?!0:Kz(t,a)&&n.equals(r[a],t[a],a,a,r,t,n)}const cG="[object ArrayBuffer]",dG="[object Arguments]",uG="[object Boolean]",hG="[object DataView]",fG="[object Date]",AG="[object Error]",pG="[object Map]",mG="[object Number]",gG="[object Object]",vG="[object RegExp]",xG="[object Set]",yG="[object String]",jG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},bG="[object URL]",wG=Object.prototype.toString;function CG({areArrayBuffersEqual:r,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:c,areNumbersEqual:o,areObjectsEqual:d,arePrimitiveWrappersEqual:l,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:A,unknownTagComparators:g}){return function(x,y,b){if(x===y)return!0;if(x==null||y==null)return!1;const j=typeof x;if(j!==typeof y)return!1;if(j!=="object")return j==="number"?o(x,y,b):j==="function"?i(x,y,b):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return d(x,y,b);if(Array.isArray(x))return t(x,y,b);if(S===Date)return a(x,y,b);if(S===RegExp)return u(x,y,b);if(S===Map)return c(x,y,b);if(S===Set)return h(x,y,b);const w=wG.call(x);if(w===fG)return a(x,y,b);if(w===vG)return u(x,y,b);if(w===pG)return c(x,y,b);if(w===xG)return h(x,y,b);if(w===gG)return typeof x.then!="function"&&typeof y.then!="function"&&d(x,y,b);if(w===bG)return A(x,y,b);if(w===AG)return s(x,y,b);if(w===dG)return d(x,y,b);if(jG[w])return f(x,y,b);if(w===cG)return r(x,y,b);if(w===hG)return n(x,y,b);if(w===uG||w===mG||w===yG)return l(x,y,b);if(g){let E=g[w];if(!E){const I=Gz(x);I&&(E=g[I])}if(E)return E(x,y,b)}return!1}}function NG({circular:r,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:Jz,areArraysEqual:n?Zm:Zz,areDataViewsEqual:eG,areDatesEqual:tG,areErrorsEqual:rG,areFunctionsEqual:nG,areMapsEqual:n?hw(A6,Zm):A6,areNumbersEqual:aG,areObjectsEqual:n?Zm:sG,arePrimitiveWrappersEqual:iG,areRegExpsEqual:oG,areSetsEqual:n?hw(p6,Zm):p6,areTypedArraysEqual:n?hw(ux,Zm):ux,areUrlsEqual:lG,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),r){const s=y0(a.areArraysEqual),i=y0(a.areMapsEqual),c=y0(a.areObjectsEqual),o=y0(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:o})}return a}function SG(r){return function(t,n,a,s,i,c,o){return r(t,n,o)}}function EG({circular:r,comparator:t,createState:n,equals:a,strict:s}){if(n)return function(o,d){const{cache:l=r?new WeakMap:void 0,meta:u}=n();return t(o,d,{cache:l,equals:a,meta:u,strict:s})};if(r)return function(o,d){return t(o,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};const i={cache:void 0,equals:a,meta:void 0,strict:s};return function(o,d){return t(o,d,i)}}const BG=xA();xA({strict:!0});xA({circular:!0});xA({circular:!0,strict:!0});xA({createInternalComparator:()=>vp});xA({strict:!0,createInternalComparator:()=>vp});xA({circular:!0,createInternalComparator:()=>vp});xA({circular:!0,createInternalComparator:()=>vp,strict:!0});function xA(r={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:s=!1}=r,i=NG(r),c=CG(i),o=n?n(c):SG(c);return EG({circular:t,comparator:c,createState:a,equals:o,strict:s})}function IG(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function m6(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(r(i),n=-1):IG(s)};requestAnimationFrame(a)}function xN(r){"@babel/helpers - typeof";return xN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xN(r)}function TG(r){return FG(r)||OG(r)||_G(r)||kG()}function kG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(r,t){if(r){if(typeof r=="string")return g6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g6(r,t)}}function g6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function OG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function FG(r){if(Array.isArray(r))return r}function PG(){var r={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var c=i,o=TG(c),d=o[0],l=o.slice(1);if(typeof d=="number"){m6(s.bind(null,l),d);return}s(d),m6(s.bind(null,l));return}xN(i)==="object"&&(r=i,t(r)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function T1(r){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(r)}function v6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function x6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(a){qF(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function qF(r,t,n){return t=DG(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function DG(r){var t=MG(r,"string");return T1(t)==="symbol"?t:String(t)}function MG(r,t){if(T1(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(T1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var RG=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},LG=function(t){return t},UG=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},e1=function(t,n){return Object.keys(n).reduce(function(a,s){return x6(x6({},a),{},qF({},s,t(s,n[s])))},{})},y6=function(t,n,a){return t.map(function(s){return"".concat(UG(s)," ").concat(n,"ms ").concat(a)}).join(",")};function HG(r,t){return $G(r)||WG(r,t)||XF(r,t)||QG()}function QG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function $G(r){if(Array.isArray(r))return r}function VG(r){return KG(r)||GG(r)||XF(r)||zG()}function zG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(r,t){if(r){if(typeof r=="string")return yN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(r,t)}}function GG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function KG(r){if(Array.isArray(r))return yN(r)}function yN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var hx=1e-4,YF=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},JF=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},j6=function(t,n){return function(a){var s=YF(t,n);return JF(s,a)}},qG=function(t,n){return function(a){var s=YF(t,n),i=[].concat(VG(s.map(function(c,o){return c*o}).slice(1)),[0]);return JF(i,a)}},b6=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],c=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,c=1,o=1;break;case"ease":s=.25,i=.1,c=.25,o=1;break;case"ease-in":s=.42,i=0,c=1,o=1;break;case"ease-out":s=.42,i=0,c=.58,o=1;break;case"ease-in-out":s=0,i=0,c=.58,o=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var l=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=HG(l,4);s=u[0],i=u[1],c=u[2],o=u[3]}}}var h=j6(s,c),f=j6(i,o),A=qG(s,c),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,j=b,S=0;S<8;++S){var w=h(j)-b,E=A(j);if(Math.abs(w-b)<hx||E<hx)return f(j);j=g(j-w/E)}return f(j)};return m.isStepper=!1,m},XG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,c=t.dt,o=c===void 0?17:c,d=function(u,h,f){var A=-(u-h)*a,g=f*i,m=f+(A-g)*o/1e3,x=f*o/1e3+u;return Math.abs(x-h)<hx&&Math.abs(m)<hx?[h,0]:[x,m]};return d.isStepper=!0,d.dt=o,d},YG=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b6(s);case"spring":return XG();default:if(s.split("(")[0]==="cubic-bezier")return b6(s)}return typeof s=="function"?s:null};function k1(r){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(r)}function w6(r){return eK(r)||ZG(r)||ZF(r)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function eK(r){if(Array.isArray(r))return bN(r)}function C6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Uc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(n),!0).forEach(function(a){jN(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function jN(r,t,n){return t=tK(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function tK(r){var t=rK(r,"string");return k1(t)==="symbol"?t:String(t)}function rK(r,t){if(k1(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(k1(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function nK(r,t){return iK(r)||sK(r,t)||ZF(r,t)||aK()}function aK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZF(r,t){if(r){if(typeof r=="string")return bN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(r,t)}}function bN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function sK(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function iK(r){if(Array.isArray(r))return r}var fx=function(t,n,a){return t+(n-t)*a},wN=function(t){var n=t.from,a=t.to;return n!==a},oK=function r(t,n,a){var s=e1(function(i,c){if(wN(c)){var o=t(c.from,c.to,c.velocity),d=nK(o,2),l=d[0],u=d[1];return Uc(Uc({},c),{},{from:l,velocity:u})}return c},n);return a<1?e1(function(i,c){return wN(c)?Uc(Uc({},c),{},{velocity:fx(c.velocity,s[i].velocity,a),from:fx(c.from,s[i].from,a)}):c},n):r(t,s,a-1)};const lK=(function(r,t,n,a,s){var i=RG(r,t),c=i.reduce(function(x,y){return Uc(Uc({},x),{},jN({},y,[r[y],t[y]]))},{}),o=i.reduce(function(x,y){return Uc(Uc({},x),{},jN({},y,{from:r[y],velocity:0,to:t[y]}))},{}),d=-1,l,u,h=function(){return null},f=function(){return e1(function(y,b){return b.from},o)},A=function(){return!Object.values(o).filter(wN).length},g=function(y){l||(l=y);var b=y-l,j=b/n.dt;o=oK(n,o,j),s(Uc(Uc(Uc({},r),t),f())),l=y,A()||(d=requestAnimationFrame(h))},m=function(y){u||(u=y);var b=(y-u)/a,j=e1(function(w,E){return fx.apply(void 0,w6(E).concat([n(b)]))},c);if(s(Uc(Uc(Uc({},r),t),j)),b<1)d=requestAnimationFrame(h);else{var S=e1(function(w,E){return fx.apply(void 0,w6(E).concat([n(1)]))},c);s(Uc(Uc(Uc({},r),t),S))}};return h=n.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function um(r){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(r)}var cK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dK(r,t){if(r==null)return{};var n=uK(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function uK(r,t){if(r==null)return{};var n={},a=Object.keys(r),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=r[s]);return n}function fw(r){return pK(r)||AK(r)||fK(r)||hK()}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(r,t){if(r){if(typeof r=="string")return CN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(r,t)}}function AK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function pK(r){if(Array.isArray(r))return CN(r)}function CN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function N6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function oh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(n),!0).forEach(function(a){Hg(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Hg(r,t,n){return t=eP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function mK(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function gK(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,eP(a.key),a)}}function vK(r,t,n){return t&&gK(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function eP(r){var t=xK(r,"string");return um(t)==="symbol"?t:String(t)}function xK(r,t){if(um(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function yK(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&NN(r,t)}function NN(r,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},NN(r,t)}function jK(r){var t=bK();return function(){var a=Ax(r),s;if(t){var i=Ax(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return SN(this,s)}}function SN(r,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EN(r)}function EN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ax(r){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(r)}var Uh=(function(r){yK(n,r);var t=jK(n);function n(a,s){var i;mK(this,n),i=t.call(this,a,s);var c=i.props,o=c.isActive,d=c.attributeName,l=c.from,u=c.to,h=c.steps,f=c.children,A=c.duration;if(i.handleStyleChange=i.handleStyleChange.bind(EN(i)),i.changeStyle=i.changeStyle.bind(EN(i)),!o||A<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),SN(i);if(h&&h.length)i.state={style:h[0].style};else if(l){if(typeof f=="function")return i.state={style:l},SN(i);i.state={style:d?Hg({},d,l):l}}else i.state={style:{}};return i}return vK(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,c=s.canBegin;this.mounted=!0,!(!i||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,c=i.isActive,o=i.canBegin,d=i.attributeName,l=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(o){if(!c){var A={style:d?Hg({},d,u):u};this.state&&f&&(d&&f[d]!==u||!d&&f!==u)&&this.setState(A);return}if(!(BG(s.to,u)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?h:s.to;if(this.state&&f){var x={style:d?Hg({},d,m):m};(d&&f[d]!==m||!d&&f!==m)&&this.setState(x)}this.runAnimation(oh(oh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,c=s.from,o=s.to,d=s.duration,l=s.easing,u=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,A=lK(c,o,YG(l),d,this.changeStyle),g=function(){i.stopJSAnimation=A()};this.manager.start([f,u,g,d,h])}},{key:"runStepAnimation",value:function(s){var i=this,c=s.steps,o=s.begin,d=s.onAnimationStart,l=c[0],u=l.style,h=l.duration,f=h===void 0?0:h,A=function(m,x,y){if(y===0)return m;var b=x.duration,j=x.easing,S=j===void 0?"ease":j,w=x.style,E=x.properties,I=x.onAnimationEnd,L=y>0?c[y-1]:x,Z=E||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(fw(m),[i.runJSAnimation.bind(i,{from:L.style,to:w,duration:b,easing:S}),b]);var ne=y6(Z,b,S),G=oh(oh(oh({},L.style),w),{},{transition:ne});return[].concat(fw(m),[G,b,I]).filter(LG)};return this.manager.start([d].concat(fw(c.reduce(A,[u,Math.max(f,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=PG());var i=s.begin,c=s.duration,o=s.attributeName,d=s.to,l=s.easing,u=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,A=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof A=="function"||l==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var m=o?Hg({},o,d):d,x=y6(Object.keys(m),c,l);g.start([u,i,oh(oh({},m),{},{transition:x}),c,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var c=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=dK(s,cK),l=C.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||l===0||c<=0)return i;var h=function(A){var g=A.props,m=g.style,x=m===void 0?{}:m,y=g.className,b=C.cloneElement(A,oh(oh({},d),{},{style:oh(oh({},x),u),className:y}));return b};return l===1?h(C.Children.only(i)):Ct.createElement("div",null,C.Children.map(i,function(f){return h(f)}))}}]),n})(C.PureComponent);Uh.displayName="Animate";Uh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Uh.propTypes={from:Bi.oneOfType([Bi.object,Bi.string]),to:Bi.oneOfType([Bi.object,Bi.string]),attributeName:Bi.string,duration:Bi.number,begin:Bi.number,easing:Bi.oneOfType([Bi.string,Bi.func]),steps:Bi.arrayOf(Bi.shape({duration:Bi.number.isRequired,style:Bi.object.isRequired,easing:Bi.oneOfType([Bi.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bi.func]),properties:Bi.arrayOf("string"),onAnimationEnd:Bi.func})),children:Bi.oneOfType([Bi.node,Bi.func]),isActive:Bi.bool,canBegin:Bi.bool,onAnimationEnd:Bi.func,shouldReAnimate:Bi.bool,onAnimationStart:Bi.func,onAnimationReStart:Bi.func};function _1(r){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(r)}function px(){return px=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},px.apply(this,arguments)}function wK(r,t){return EK(r)||SK(r,t)||NK(r,t)||CK()}function CK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(r,t){if(r){if(typeof r=="string")return S6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S6(r,t)}}function S6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function SK(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function EK(r){if(Array.isArray(r))return r}function E6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function B6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(n),!0).forEach(function(a){BK(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function BK(r,t,n){return t=IK(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function IK(r){var t=TK(r,"string");return _1(t)=="symbol"?t:t+""}function TK(r,t){if(_1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(_1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var I6=function(t,n,a,s,i){var c=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,d=a>=0?1:-1,l=s>=0&&a>=0||s<0&&a<0?1:0,u;if(c>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,A=4;f<A;f++)h[f]=i[f]>c?c:i[f];u="M".concat(t,",").concat(n+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(t+d*h[0],",").concat(n)),u+="L ".concat(t+a-d*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(t+a,",").concat(n+o*h[1])),u+="L ".concat(t+a,",").concat(n+s-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(t+a-d*h[2],",").concat(n+s)),u+="L ".concat(t+d*h[3],",").concat(n+s),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(n+s-o*h[3])),u+="Z"}else if(c>0&&i===+i&&i>0){var g=Math.min(c,i);u="M ".concat(t,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+d*g,",").concat(n,`
            L `).concat(t+a-d*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+a,",").concat(n+o*g,`
            L `).concat(t+a,",").concat(n+s-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t+a-d*g,",").concat(n+s,`
            L `).concat(t+d*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(t,",").concat(n+s-o*g," Z")}else u="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},kK=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,c=n.y,o=n.width,d=n.height;if(Math.abs(o)>0&&Math.abs(d)>0){var l=Math.min(i,i+o),u=Math.max(i,i+o),h=Math.min(c,c+d),f=Math.max(c,c+d);return a>=l&&a<=u&&s>=h&&s<=f}return!1},_K={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AS=function(t){var n=B6(B6({},_K),t),a=C.useRef(),s=C.useState(-1),i=wK(s,2),c=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&o(S)}catch{}},[]);var d=n.x,l=n.y,u=n.width,h=n.height,f=n.radius,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(d!==+d||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var j=vs("recharts-rectangle",A);return b?Ct.createElement(Uh,{canBegin:c>0,from:{width:u,height:h,x:d,y:l},to:{width:u,height:h,x:d,y:l},duration:m,animationEasing:g,isActive:b},function(S){var w=S.width,E=S.height,I=S.x,L=S.y;return Ct.createElement(Uh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:y,easing:g},Ct.createElement("path",px({},ka(n,!0),{className:j,d:I6(I,L,w,E,f),ref:a})))}):Ct.createElement("path",px({},ka(n,!0),{className:j,d:I6(d,l,u,h,f)}))},OK=["points","className","baseLinePoints","connectNulls"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Qp.apply(this,arguments)}function FK(r,t){if(r==null)return{};var n=PK(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function PK(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function T6(r){return LK(r)||RK(r)||MK(r)||DK()}function DK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(r,t){if(r){if(typeof r=="string")return BN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(r,t)}}function RK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function LK(r){if(Array.isArray(r))return BN(r)}function BN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var k6=function(t){return t&&t.x===+t.x&&t.y===+t.y},UK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){k6(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),k6(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},t1=function(t,n){var a=UK(t);n&&(a=[a.reduce(function(i,c){return[].concat(T6(i),T6(c))},[])]);var s=a.map(function(i){return i.reduce(function(c,o,d){return"".concat(c).concat(d===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},HK=function(t,n,a){var s=t1(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(t1(n.reverse(),a).slice(1))},QK=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,c=FK(t,OK);if(!n||!n.length)return null;var o=vs("recharts-polygon",a);if(s&&s.length){var d=c.stroke&&c.stroke!=="none",l=HK(n,s,i);return Ct.createElement("g",{className:o},Ct.createElement("path",Qp({},ka(c,!0),{fill:l.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:l})),d?Ct.createElement("path",Qp({},ka(c,!0),{fill:"none",d:t1(n,i)})):null,d?Ct.createElement("path",Qp({},ka(c,!0),{fill:"none",d:t1(s,i)})):null)}var u=t1(n,i);return Ct.createElement("path",Qp({},ka(c,!0),{fill:u.slice(-1)==="Z"?c.fill:"none",className:o,d:u}))};function IN(){return IN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},IN.apply(this,arguments)}var f2=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,c=vs("recharts-dot",i);return n===+n&&a===+a&&s===+s?Ct.createElement("circle",IN({},ka(t,!1),Dv(t),{className:c,cx:n,cy:a,r:s})):null};function O1(r){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(r)}var WK=["x","y","top","left","width","height","className"];function TN(){return TN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},TN.apply(this,arguments)}function _6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function $K(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(n),!0).forEach(function(a){VK(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function VK(r,t,n){return t=zK(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function zK(r){var t=GK(r,"string");return O1(t)=="symbol"?t:t+""}function GK(r,t){if(O1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(O1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function KK(r,t){if(r==null)return{};var n=qK(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function qK(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var XK=function(t,n,a,s,i,c){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(c,",").concat(n,"h").concat(a)},YK=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,c=t.top,o=c===void 0?0:c,d=t.left,l=d===void 0?0:d,u=t.width,h=u===void 0?0:u,f=t.height,A=f===void 0?0:f,g=t.className,m=KK(t,WK),x=$K({x:a,y:i,top:o,left:l,width:h,height:A},m);return!mn(a)||!mn(i)||!mn(h)||!mn(A)||!mn(o)||!mn(l)?null:Ct.createElement("path",TN({},ka(x,!0),{className:vs("recharts-cross",g),d:XK(a,i,h,A,o,l)}))},Aw,O6;function JK(){if(O6)return Aw;O6=1;var r=l2(),t=pF(),n=Wh();function a(s,i){return s&&s.length?r(s,n(i,2),t):void 0}return Aw=a,Aw}var ZK=JK();const eq=Zs(ZK);var pw,F6;function tq(){if(F6)return pw;F6=1;var r=l2(),t=Wh(),n=mF();function a(s,i){return s&&s.length?r(s,t(i,2),n):void 0}return pw=a,pw}var rq=tq();const nq=Zs(rq);var aq=["cx","cy","angle","ticks","axisLine"],sq=["ticks","tick","angle","tickFormatter","stroke"];function hm(r){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(r)}function r1(){return r1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},r1.apply(this,arguments)}function P6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function RA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(a){A2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function D6(r,t){if(r==null)return{};var n=iq(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function iq(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function oq(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function M6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,rP(a.key),a)}}function lq(r,t,n){return t&&M6(r.prototype,t),n&&M6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function cq(r,t,n){return t=mx(t),dq(r,tP()?Reflect.construct(t,n||[],mx(r).constructor):t.apply(r,n))}function dq(r,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uq(r)}function uq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!r})()}function mx(r){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(r)}function hq(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&kN(r,t)}function kN(r,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kN(r,t)}function A2(r,t,n){return t=rP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function rP(r){var t=fq(r,"string");return hm(t)=="symbol"?t:t+""}function fq(r,t){if(hm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var p2=(function(r){function t(){return oq(this,t),cq(this,t,arguments)}return hq(t,r),lq(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,c=i.angle,o=i.cx,d=i.cy;return io(o,d,s,c)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.angle,o=a.ticks,d=eq(o,function(u){return u.coordinate||0}),l=nq(o,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:c,endAngle:c,innerRadius:l.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.angle,o=a.ticks,d=a.axisLine,l=D6(a,aq),u=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),h=io(s,i,u[0],c),f=io(s,i,u[1],c),A=RA(RA(RA({},ka(l,!1)),{},{fill:"none"},ka(d,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return Ct.createElement("line",r1({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,c=s.tick,o=s.angle,d=s.tickFormatter,l=s.stroke,u=D6(s,sq),h=this.getTickTextAnchor(),f=ka(u,!1),A=ka(c,!1),g=i.map(function(m,x){var y=a.getTickValueCoord(m),b=RA(RA(RA(RA({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:l},A),{},{index:x},y),{},{payload:m});return Ct.createElement(oi,r1({className:vs("recharts-polar-radius-axis-tick",$F(c)),key:"tick-".concat(m.coordinate)},cp(a.props,m,x)),t.renderTickItem(c,b,d?d(m.value,x):m.value))});return Ct.createElement(oi,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,c=a.tick;return!s||!s.length?null:Ct.createElement(oi,{className:vs("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),c&&this.renderTicks(),jc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):Xa(a)?c=a(s):c=Ct.createElement(dp,r1({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),c}}])})(C.PureComponent);A2(p2,"displayName","PolarRadiusAxis");A2(p2,"axisType","radiusAxis");A2(p2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fm(r){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(r)}function XA(){return XA=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},XA.apply(this,arguments)}function R6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function LA(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(a){m2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Aq(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,aP(a.key),a)}}function pq(r,t,n){return t&&L6(r.prototype,t),n&&L6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function mq(r,t,n){return t=gx(t),gq(r,nP()?Reflect.construct(t,n||[],gx(r).constructor):t.apply(r,n))}function gq(r,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vq(r)}function vq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!r})()}function gx(r){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(r)}function xq(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&_N(r,t)}function _N(r,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_N(r,t)}function m2(r,t,n){return t=aP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function aP(r){var t=yq(r,"string");return fm(t)=="symbol"?t:t+""}function yq(r,t){if(fm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var jq=Math.PI/180,U6=1e-5,g2=(function(r){function t(){return Aq(this,t),mq(this,t,arguments)}return xq(t,r),pq(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,c=s.cy,o=s.radius,d=s.orientation,l=s.tickSize,u=l||8,h=io(i,c,o,a.coordinate),f=io(i,c,o+(d==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*jq),c;return i>U6?c=s==="outer"?"start":"end":i<-U6?c=s==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,c=a.radius,o=a.axisLine,d=a.axisLineType,l=LA(LA({},ka(this.props,!1)),{},{fill:"none"},ka(o,!1));if(d==="circle")return Ct.createElement(f2,XA({className:"recharts-polar-angle-axis-line"},l,{cx:s,cy:i,r:c}));var u=this.props.ticks,h=u.map(function(f){return io(s,i,c,f.coordinate)});return Ct.createElement(QK,XA({className:"recharts-polar-angle-axis-line"},l,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,c=s.tick,o=s.tickLine,d=s.tickFormatter,l=s.stroke,u=ka(this.props,!1),h=ka(c,!1),f=LA(LA({},u),{},{fill:"none"},ka(o,!1)),A=i.map(function(g,m){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),b=LA(LA(LA({textAnchor:y},u),{},{stroke:"none",fill:l},h),{},{index:m,payload:g,x:x.x2,y:x.y2});return Ct.createElement(oi,XA({className:vs("recharts-polar-angle-axis-tick",$F(c)),key:"tick-".concat(g.coordinate)},cp(a.props,g,m)),o&&Ct.createElement("line",XA({className:"recharts-polar-angle-axis-tick-line"},f,x)),c&&t.renderTickItem(c,b,d?d(g.value,m):g.value))});return Ct.createElement(oi,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,c=a.axisLine;return i<=0||!s||!s.length?null:Ct.createElement(oi,{className:vs("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):Xa(a)?c=a(s):c=Ct.createElement(dp,XA({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),c}}])})(C.PureComponent);m2(g2,"displayName","PolarAngleAxis");m2(g2,"axisType","angleAxis");m2(g2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mw,H6;function bq(){if(H6)return mw;H6=1;var r=pO(),t=r(Object.getPrototypeOf,Object);return mw=t,mw}var gw,Q6;function wq(){if(Q6)return gw;Q6=1;var r=Sf(),t=bq(),n=Ef(),a="[object Object]",s=Function.prototype,i=Object.prototype,c=s.toString,o=i.hasOwnProperty,d=c.call(Object);function l(u){if(!n(u)||r(u)!=a)return!1;var h=t(u);if(h===null)return!0;var f=o.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&c.call(f)==d}return gw=l,gw}var Cq=wq();const Nq=Zs(Cq);var vw,W6;function Sq(){if(W6)return vw;W6=1;var r=Sf(),t=Ef(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&r(s)==n}return vw=a,vw}var Eq=Sq();const Bq=Zs(Eq);function F1(r){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(r)}function vx(){return vx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},vx.apply(this,arguments)}function Iq(r,t){return Oq(r)||_q(r,t)||kq(r,t)||Tq()}function Tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kq(r,t){if(r){if(typeof r=="string")return $6(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $6(r,t)}}function $6(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function _q(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function Oq(r){if(Array.isArray(r))return r}function V6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function z6(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(n),!0).forEach(function(a){Fq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Fq(r,t,n){return t=Pq(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Pq(r){var t=Dq(r,"string");return F1(t)=="symbol"?t:t+""}function Dq(r,t){if(F1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(F1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var G6=function(t,n,a,s,i){var c=a-s,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+a,",").concat(n),o+="L ".concat(t+a-c/2,",").concat(n+i),o+="L ".concat(t+a-c/2-s,",").concat(n+i),o+="L ".concat(t,",").concat(n," Z"),o},Mq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rq=function(t){var n=z6(z6({},Mq),t),a=C.useRef(),s=C.useState(-1),i=Iq(s,2),c=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&o(j)}catch{}},[]);var d=n.x,l=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,A=n.className,g=n.animationEasing,m=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(d!==+d||l!==+l||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var b=vs("recharts-trapezoid",A);return y?Ct.createElement(Uh,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:f,x:d,y:l},to:{upperWidth:u,lowerWidth:h,height:f,x:d,y:l},duration:m,animationEasing:g,isActive:y},function(j){var S=j.upperWidth,w=j.lowerWidth,E=j.height,I=j.x,L=j.y;return Ct.createElement(Uh,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},Ct.createElement("path",vx({},ka(n,!0),{className:b,d:G6(I,L,S,w,E),ref:a})))}):Ct.createElement("g",null,Ct.createElement("path",vx({},ka(n,!0),{className:b,d:G6(d,l,u,h,f)})))},Lq=["option","shapeType","propTransformer","activeClassName","isActive"];function P1(r){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(r)}function Uq(r,t){if(r==null)return{};var n=Hq(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function Hq(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function K6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function xx(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(n),!0).forEach(function(a){Qq(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Qq(r,t,n){return t=Wq(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Wq(r){var t=$q(r,"string");return P1(t)=="symbol"?t:t+""}function $q(r,t){if(P1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(P1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Vq(r,t){return xx(xx({},t),r)}function zq(r,t){return r==="symbols"}function q6(r){var t=r.shapeType,n=r.elementProps;switch(t){case"rectangle":return Ct.createElement(AS,n);case"trapezoid":return Ct.createElement(Rq,n);case"sector":return Ct.createElement(GF,n);case"symbols":if(zq(t))return Ct.createElement(O4,n);break;default:return null}}function Gq(r){return C.isValidElement(r)?r.props:r}function sP(r){var t=r.option,n=r.shapeType,a=r.propTransformer,s=a===void 0?Vq:a,i=r.activeClassName,c=i===void 0?"recharts-active-shape":i,o=r.isActive,d=Uq(r,Lq),l;if(C.isValidElement(t))l=C.cloneElement(t,xx(xx({},d),Gq(t)));else if(Xa(t))l=t(d);else if(Nq(t)&&!Bq(t)){var u=s(t,d);l=Ct.createElement(q6,{shapeType:n,elementProps:u})}else{var h=d;l=Ct.createElement(q6,{shapeType:n,elementProps:h})}return o?Ct.createElement(oi,{className:c},l):l}function v2(r,t){return t!=null&&"trapezoids"in r.props}function x2(r,t){return t!=null&&"sectors"in r.props}function D1(r,t){return t!=null&&"points"in r.props}function Kq(r,t){var n,a,s=r.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===t.x,i=r.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||r.y===t.y;return s&&i}function qq(r,t){var n=r.endAngle===t.endAngle,a=r.startAngle===t.startAngle;return n&&a}function Xq(r,t){var n=r.x===t.x,a=r.y===t.y,s=r.z===t.z;return n&&a&&s}function Yq(r,t){var n;return v2(r,t)?n=Kq:x2(r,t)?n=qq:D1(r,t)&&(n=Xq),n}function Jq(r,t){var n;return v2(r,t)?n="trapezoids":x2(r,t)?n="sectors":D1(r,t)&&(n="points"),n}function Zq(r,t){if(v2(r,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(x2(r,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return D1(r,t)?t.payload:{}}function eX(r){var t=r.activeTooltipItem,n=r.graphicalItem,a=r.itemData,s=Jq(n,t),i=Zq(n,t),c=a.filter(function(d,l){var u=Y1(i,d),h=n.props[s].filter(function(g){var m=Yq(n,t);return m(g,t)}),f=n.props[s].indexOf(h[h.length-1]),A=l===f;return u&&A}),o=a.indexOf(c[c.length-1]);return o}var Sv;function Am(r){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(r)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Wp.apply(this,arguments)}function X6(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function ao(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(n),!0).forEach(function(a){Qu(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function tX(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Y6(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,oP(a.key),a)}}function rX(r,t,n){return t&&Y6(r.prototype,t),n&&Y6(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function nX(r,t,n){return t=yx(t),aX(r,iP()?Reflect.construct(t,n||[],yx(r).constructor):t.apply(r,n))}function aX(r,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sX(r)}function sX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!r})()}function yx(r){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(r)}function iX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&ON(r,t)}function ON(r,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ON(r,t)}function Qu(r,t,n){return t=oP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function oP(r){var t=oX(r,"string");return Am(t)=="symbol"?t:t+""}function oX(r,t){if(Am(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var If=(function(r){function t(n){var a;return tX(this,t),a=nX(this,t,[n]),Qu(a,"pieRef",null),Qu(a,"sectorRefs",[]),Qu(a,"id",Om("recharts-pie-")),Qu(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Xa(s)&&s()}),Qu(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Xa(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return iX(t,r),rX(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.label,o=i.labelLine,d=i.dataKey,l=i.valueKey,u=ka(this.props,!1),h=ka(c,!1),f=ka(o,!1),A=c&&c.offsetRadius||20,g=a.map(function(m,x){var y=(m.startAngle+m.endAngle)/2,b=io(m.cx,m.cy,m.outerRadius+A,y),j=ao(ao(ao(ao({},u),m),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(b.x,m.cx)},b),S=ao(ao(ao(ao({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:x,points:[io(m.cx,m.cy,m.outerRadius,y),b]}),w=d;return os(d)&&os(l)?w="value":os(d)&&(w=l),Ct.createElement(oi,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,S,"line"),t.renderLabelItem(c,j,ql(m,w)))});return Ct.createElement(oi,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,c=i.activeShape,o=i.blendStroke,d=i.inactiveShape;return a.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(u),f=d&&s.hasActiveIndex()?d:null,A=h?c:f,g=ao(ao({},l),{},{stroke:o?l.fill:l.stroke,tabIndex:-1});return Ct.createElement(oi,Wp({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},cp(s.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),Ct.createElement(sP,Wp({option:A,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,c=s.isAnimationActive,o=s.animationBegin,d=s.animationDuration,l=s.animationEasing,u=s.animationId,h=this.state,f=h.prevSectors,A=h.prevIsAnimationActive;return Ct.createElement(Uh,{begin:o,duration:d,isActive:c,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],y=i&&i[0],b=y.startAngle;return i.forEach(function(j,S){var w=f&&f[S],E=S>0?hu(j,"paddingAngle",0):0;if(w){var I=du(w.endAngle-w.startAngle,j.endAngle-j.startAngle),L=ao(ao({},j),{},{startAngle:b+E,endAngle:b+I(m)+E});x.push(L),b=L.endAngle}else{var Z=j.endAngle,ne=j.startAngle,G=du(0,Z-ne),le=G(m),V=ao(ao({},j),{},{startAngle:b+E,endAngle:b+le+E});x.push(V),b=V.endAngle}}),Ct.createElement(oi,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var c=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"ArrowRight":{var o=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,c=this.state.prevSectors;return i&&s&&s.length&&(!c||!Y1(c,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,c=s.sectors,o=s.className,d=s.label,l=s.cx,u=s.cy,h=s.innerRadius,f=s.outerRadius,A=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!c||!c.length||!mn(l)||!mn(u)||!mn(h)||!mn(f))return null;var m=vs("recharts-pie",o);return Ct.createElement(oi,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){a.pieRef=y}},this.renderSectors(),d&&this.renderLabels(c),jc.renderCallByParent(this.props,null,!1),(!A||g)&&yf.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(Ct.isValidElement(a))return Ct.cloneElement(a,s);if(Xa(a))return a(s);var c=vs("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return Ct.createElement(dx,Wp({},s,{key:i,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(a,s,i){if(Ct.isValidElement(a))return Ct.cloneElement(a,s);var c=i;if(Xa(a)&&(c=a(s),Ct.isValidElement(c)))return c;var o=vs("recharts-pie-label-text",typeof a!="boolean"&&!Xa(a)?a.className:"");return Ct.createElement(dp,Wp({},s,{alignmentBaseline:"middle",className:o}),c)}}])})(C.PureComponent);Sv=If;Qu(If,"displayName","Pie");Qu(If,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qu(If,"parseDeltaAngle",function(r,t){var n=wd(t-r),a=Math.min(Math.abs(t-r),360);return n*a});Qu(If,"getRealPieData",function(r){var t=r.data,n=r.children,a=ka(r,!1),s=fu(n,t2);return t&&t.length?t.map(function(i,c){return ao(ao(ao({payload:i},a),i),s&&s[c]&&s[c].props)}):s&&s.length?s.map(function(i){return ao(ao({},a),i.props)}):[]});Qu(If,"parseCoordinateOfPie",function(r,t){var n=t.top,a=t.left,s=t.width,i=t.height,c=WF(s,i),o=a+Cd(r.cx,s,s/2),d=n+Cd(r.cy,i,i/2),l=Cd(r.innerRadius,c,0),u=Cd(r.outerRadius,c,c*.8),h=r.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:o,cy:d,innerRadius:l,outerRadius:u,maxRadius:h}});Qu(If,"getComposedData",function(r){var t=r.item,n=r.offset,a=t.type.defaultProps!==void 0?ao(ao({},t.type.defaultProps),t.props):t.props,s=Sv.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,c=a.startAngle,o=a.endAngle,d=a.paddingAngle,l=a.dataKey,u=a.nameKey,h=a.valueKey,f=a.tooltipType,A=Math.abs(a.minAngle),g=Sv.parseCoordinateOfPie(a,n),m=Sv.parseDeltaAngle(c,o),x=Math.abs(m),y=l;os(l)&&os(h)?(ph(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):os(l)&&(ph(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var b=s.filter(function(L){return ql(L,y,0)!==0}).length,j=(x>=360?b:b-1)*d,S=x-b*A-j,w=s.reduce(function(L,Z){var ne=ql(Z,y,0);return L+(mn(ne)?ne:0)},0),E;if(w>0){var I;E=s.map(function(L,Z){var ne=ql(L,y,0),G=ql(L,u,Z),le=(mn(ne)?ne:0)/w,V;Z?V=I.endAngle+wd(m)*d*(ne!==0?1:0):V=c;var me=V+wd(m)*((ne!==0?A:0)+le*S),$=(V+me)/2,X=(g.innerRadius+g.outerRadius)/2,Ce=[{name:G,value:ne,payload:L,dataKey:y,type:f}],M=io(g.cx,g.cy,X,$);return I=ao(ao(ao({percent:le,cornerRadius:i,name:G,tooltipPayload:Ce,midAngle:$,middleRadius:X,tooltipPosition:M},L),g),{},{value:ql(L,y),startAngle:V,endAngle:me,payload:L,paddingAngle:wd(m)*d}),I})}return ao(ao({},g),{},{sectors:E,data:s})});var xw,J6;function lX(){if(J6)return xw;J6=1;var r=Math.ceil,t=Math.max;function n(a,s,i,c){for(var o=-1,d=t(r((s-a)/(i||1)),0),l=Array(d);d--;)l[c?d:++o]=a,a+=i;return l}return xw=n,xw}var yw,Z6;function lP(){if(Z6)return yw;Z6=1;var r=kO(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=r(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return yw=a,yw}var jw,e8;function cX(){if(e8)return jw;e8=1;var r=lX(),t=e2(),n=lP();function a(s){return function(i,c,o){return o&&typeof o!="number"&&t(i,c,o)&&(c=o=void 0),i=n(i),c===void 0?(c=i,i=0):c=n(c),o=o===void 0?i<c?1:-1:n(o),r(i,c,o,s)}}return jw=a,jw}var bw,t8;function dX(){if(t8)return bw;t8=1;var r=cX(),t=r();return bw=t,bw}var uX=dX();const jx=Zs(uX);function M1(r){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(r)}function r8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function n8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(a){cP(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function cP(r,t,n){return t=hX(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function hX(r){var t=fX(r,"string");return M1(t)=="symbol"?t:t+""}function fX(r,t){if(M1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(M1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var AX=["Webkit","Moz","O","ms"],pX=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=AX.reduce(function(i,c){return n8(n8({},i),{},cP({},c+a,n))},{});return s[t]=n,s};function pm(r){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(r)}function bx(){return bx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},bx.apply(this,arguments)}function a8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function ww(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(n),!0).forEach(function(a){ou(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mX(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function s8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,uP(a.key),a)}}function gX(r,t,n){return t&&s8(r.prototype,t),n&&s8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function vX(r,t,n){return t=wx(t),xX(r,dP()?Reflect.construct(t,n||[],wx(r).constructor):t.apply(r,n))}function xX(r,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(r)}function yX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function dP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!r})()}function wx(r){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(r)}function jX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&FN(r,t)}function FN(r,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},FN(r,t)}function ou(r,t,n){return t=uP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function uP(r){var t=bX(r,"string");return pm(t)=="symbol"?t:t+""}function bX(r,t){if(pm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wX=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,c=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,l=Jg().domain(jx(0,d)).range([i,i+c-o]),u=l.domain().map(function(h){return l(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(a),endX:l(s),scale:l,scaleValues:u}},i8=function(t){return t.changedTouches&&!!t.changedTouches.length},mm=(function(r){function t(n){var a;return mX(this,t),a=vX(this,t,[n]),ou(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),ou(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),ou(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,c=s.onDragEnd,o=s.startIndex;c==null||c({endIndex:i,startIndex:o})}),a.detachDragEndListener()}),ou(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ou(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ou(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ou(a,"handleSlideDragStart",function(s){var i=i8(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return jX(t,r),gX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,c=this.state.scaleValues,o=this.props,d=o.gap,l=o.data,u=l.length-1,h=Math.min(s,i),f=Math.max(s,i),A=t.getIndexInRange(c,h),g=t.getIndexInRange(c,f);return{startIndex:A-A%d,endIndex:g===u?u:g-g%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,c=s.tickFormatter,o=s.dataKey,d=ql(i[a],o,a);return Xa(c)?c(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,c=s.startX,o=s.endX,d=this.props,l=d.x,u=d.width,h=d.travellerWidth,f=d.startIndex,A=d.endIndex,g=d.onChange,m=a.pageX-i;m>0?m=Math.min(m,l+u-h-o,l+u-h-c):m<0&&(m=Math.max(m,l-c,l-o));var x=this.getIndex({startX:c+m,endX:o+m});(x.startIndex!==f||x.endIndex!==A)&&g&&g(x),this.setState({startX:c+m,endX:o+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=i8(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,c=s.movingTravellerId,o=s.endX,d=s.startX,l=this.state[c],u=this.props,h=u.x,f=u.width,A=u.travellerWidth,g=u.onChange,m=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},b=a.pageX-i;b>0?b=Math.min(b,h+f-A-l):b<0&&(b=Math.max(b,h-l)),y[c]=l+b;var j=this.getIndex(y),S=j.startIndex,w=j.endIndex,E=function(){var L=x.length-1;return c==="startX"&&(o>d?S%m===0:w%m===0)||o<d&&w===L||c==="endX"&&(o>d?w%m===0:S%m===0)||o>d&&w===L};this.setState(ou(ou({},c,l+b),"brushMoveStartX",a.pageX),function(){g&&E()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,c=this.state,o=c.scaleValues,d=c.startX,l=c.endX,u=this.state[s],h=o.indexOf(u);if(h!==-1){var f=h+a;if(!(f===-1||f>=o.length)){var A=o[f];s==="startX"&&A>=l||s==="endX"&&A<=d||this.setState(ou({},s,A),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.fill,l=a.stroke;return Ct.createElement("rect",{stroke:l,fill:d,x:s,y:i,width:c,height:o})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.data,l=a.children,u=a.padding,h=C.Children.only(l);return h?Ct.cloneElement(h,{x:s,y:i,width:c,height:o,margin:u,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,c,o=this,d=this.props,l=d.y,u=d.travellerWidth,h=d.height,f=d.traveller,A=d.ariaLabel,g=d.data,m=d.startIndex,x=d.endIndex,y=Math.max(a,this.props.x),b=ww(ww({},ka(this.props,!1)),{},{x:y,y:l,width:u,height:h}),j=A||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((c=g[x])===null||c===void 0?void 0:c.name);return Ct.createElement(oi,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(a,s){var i=this.props,c=i.y,o=i.height,d=i.stroke,l=i.travellerWidth,u=Math.min(a,s)+l,h=Math.max(Math.abs(s-a)-l,0);return Ct.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:u,y:c,width:h,height:o})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,c=a.y,o=a.height,d=a.travellerWidth,l=a.stroke,u=this.state,h=u.startX,f=u.endX,A=5,g={pointerEvents:"none",fill:l};return Ct.createElement(oi,{className:"recharts-brush-texts"},Ct.createElement(dp,bx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-A,y:c+o/2},g),this.getTextOfTick(s)),Ct.createElement(dp,bx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+d+A,y:c+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,c=a.children,o=a.x,d=a.y,l=a.width,u=a.height,h=a.alwaysShowText,f=this.state,A=f.startX,g=f.endX,m=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!s||!s.length||!mn(o)||!mn(d)||!mn(l)||!mn(u)||l<=0||u<=0)return null;var j=vs("recharts-brush",i),S=Ct.Children.count(c)===1,w=pX("userSelect","none");return Ct.createElement(oi,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(A,g),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,c=a.width,o=a.height,d=a.stroke,l=Math.floor(i+o/2)-1;return Ct.createElement(Ct.Fragment,null,Ct.createElement("rect",{x:s,y:i,width:c,height:o,fill:d,stroke:"none"}),Ct.createElement("line",{x1:s+1,y1:l,x2:s+c-1,y2:l,fill:"none",stroke:"#fff"}),Ct.createElement("line",{x1:s+1,y1:l+2,x2:s+c-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Ct.isValidElement(a)?i=Ct.cloneElement(a,s):Xa(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,c=a.width,o=a.x,d=a.travellerWidth,l=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==s.prevData||l!==s.prevUpdateId)return ww({prevData:i,prevTravellerWidth:d,prevUpdateId:l,prevX:o,prevWidth:c},i&&i.length?wX({data:i,width:c,x:o,travellerWidth:d,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(c!==s.prevWidth||o!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([o,o+c-d]);var f=s.scale.domain().map(function(A){return s.scale(A)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:l,prevX:o,prevWidth:c,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,c=0,o=i-1;o-c>1;){var d=Math.floor((c+o)/2);a[d]>s?o=d:c=d}return s>=a[o]?o:c}}])})(C.PureComponent);ou(mm,"displayName","Brush");ou(mm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cw,o8;function CX(){if(o8)return Cw;o8=1;var r=U4();function t(n,a){var s;return r(n,function(i,c,o){return s=a(i,c,o),!s}),!!s}return Cw=t,Cw}var Nw,l8;function NX(){if(l8)return Nw;l8=1;var r=lO(),t=Wh(),n=CX(),a=Qd(),s=e2();function i(c,o,d){var l=a(c)?r:n;return d&&s(c,o,d)&&(o=void 0),l(c,t(o,3))}return Nw=i,Nw}var SX=NX();const EX=Zs(SX);var Rh=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},Sw,c8;function BX(){if(c8)return Sw;c8=1;var r=SO();function t(n,a,s){a=="__proto__"&&r?r(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return Sw=t,Sw}var Ew,d8;function IX(){if(d8)return Ew;d8=1;var r=BX(),t=CO(),n=Wh();function a(s,i){var c={};return i=n(i,3),t(s,function(o,d,l){r(c,d,i(o,d,l))}),c}return Ew=a,Ew}var TX=IX();const kX=Zs(TX);var Bw,u8;function _X(){if(u8)return Bw;u8=1;function r(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return Bw=r,Bw}var Iw,h8;function OX(){if(h8)return Iw;h8=1;var r=U4();function t(n,a){var s=!0;return r(n,function(i,c,o){return s=!!a(i,c,o),s}),s}return Iw=t,Iw}var Tw,f8;function FX(){if(f8)return Tw;f8=1;var r=_X(),t=OX(),n=Wh(),a=Qd(),s=e2();function i(c,o,d){var l=a(c)?r:t;return d&&s(c,o,d)&&(o=void 0),l(c,n(o,3))}return Tw=i,Tw}var PX=FX();const hP=Zs(PX);var DX=["x","y"];function R1(r){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(r)}function PN(){return PN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},PN.apply(this,arguments)}function A8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function eg(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(a){MX(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function MX(r,t,n){return t=RX(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function RX(r){var t=LX(r,"string");return R1(t)=="symbol"?t:t+""}function LX(r,t){if(R1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(R1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function UX(r,t){if(r==null)return{};var n=HX(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function HX(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function QX(r,t){var n=r.x,a=r.y,s=UX(r,DX),i="".concat(n),c=parseInt(i,10),o="".concat(a),d=parseInt(o,10),l="".concat(t.height||s.height),u=parseInt(l,10),h="".concat(t.width||s.width),f=parseInt(h,10);return eg(eg(eg(eg(eg({},t),s),c?{x:c}:{}),d?{y:d}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function p8(r){return Ct.createElement(sP,PN({shapeType:"rectangle",propTransformer:QX,activeClassName:"recharts-active-bar"},r))}var WX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,s):(i||hp(),n)}},$X=["value","background"],fP;function gm(r){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(r)}function VX(r,t){if(r==null)return{};var n=zX(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function zX(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Cx(){return Cx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Cx.apply(this,arguments)}function m8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Sl(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(a){lA(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function GX(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function g8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,pP(a.key),a)}}function KX(r,t,n){return t&&g8(r.prototype,t),n&&g8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function qX(r,t,n){return t=Nx(t),XX(r,AP()?Reflect.construct(t,n||[],Nx(r).constructor):t.apply(r,n))}function XX(r,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YX(r)}function YX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!r})()}function Nx(r){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(r)}function JX(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&DN(r,t)}function DN(r,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},DN(r,t)}function lA(r,t,n){return t=pP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function pP(r){var t=ZX(r,"string");return gm(t)=="symbol"?t:t+""}function ZX(r,t){if(gm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var xp=(function(r){function t(){var n;GX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=qX(this,t,[].concat(s)),lA(n,"state",{isAnimationFinished:!1}),lA(n,"id",Om("recharts-bar-")),lA(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),lA(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return JX(t,r),KX(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,c=i.shape,o=i.dataKey,d=i.activeIndex,l=i.activeBar,u=ka(this.props,!1);return a&&a.map(function(h,f){var A=f===d,g=A?l:c,m=Sl(Sl(Sl({},u),h),{},{isActive:A,option:g,index:f,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Ct.createElement(oi,Cx({className:"recharts-bar-rectangle"},cp(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ct.createElement(p8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,c=s.layout,o=s.isAnimationActive,d=s.animationBegin,l=s.animationDuration,u=s.animationEasing,h=s.animationId,f=this.state.prevData;return Ct.createElement(Uh,{begin:d,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var g=A.t,m=i.map(function(x,y){var b=f&&f[y];if(b){var j=du(b.x,x.x),S=du(b.y,x.y),w=du(b.width,x.width),E=du(b.height,x.height);return Sl(Sl({},x),{},{x:j(g),y:S(g),width:w(g),height:E(g)})}if(c==="horizontal"){var I=du(0,x.height),L=I(g);return Sl(Sl({},x),{},{y:x.y+x.height-L,height:L})}var Z=du(0,x.width),ne=Z(g);return Sl(Sl({},x),{},{width:ne})});return Ct.createElement(oi,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,c=this.state.prevData;return i&&s&&s.length&&(!c||!Y1(c,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,c=s.dataKey,o=s.activeIndex,d=ka(this.props.background,!1);return i.map(function(l,u){l.value;var h=l.background,f=VX(l,$X);if(!h)return null;var A=Sl(Sl(Sl(Sl(Sl({},f),{},{fill:"#eee"},h),d),cp(a.props,l,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:c,index:u,className:"recharts-bar-background-rectangle"});return Ct.createElement(p8,Cx({key:"background-bar-".concat(u),option:a.props.background,isActive:u===o},A))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.data,o=i.xAxis,d=i.yAxis,l=i.layout,u=i.children,h=fu(u,J1);if(!h)return null;var f=l==="vertical"?c[0].height/2:c[0].width/2,A=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:ql(x,y)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Ct.createElement(oi,g,h.map(function(m){return Ct.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:c,xAxis:o,yAxis:d,layout:l,offset:f,dataPointFormatter:A})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,c=a.className,o=a.xAxis,d=a.yAxis,l=a.left,u=a.top,h=a.width,f=a.height,A=a.isAnimationActive,g=a.background,m=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=vs("recharts-bar",c),b=o&&o.allowDataOverflow,j=d&&d.allowDataOverflow,S=b||j,w=os(m)?this.id:m;return Ct.createElement(oi,{className:y},b||j?Ct.createElement("defs",null,Ct.createElement("clipPath",{id:"clipPath-".concat(w)},Ct.createElement("rect",{x:b?l:l-h/2,y:j?u:u-f/2,width:b?h:h*2,height:j?f:f*2}))):null,Ct.createElement(oi,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!A||x)&&yf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(C.PureComponent);fP=xp;lA(xp,"displayName","Bar");lA(xp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lA(xp,"getComposedData",function(r){var t=r.props,n=r.item,a=r.barPosition,s=r.bandSize,i=r.xAxis,c=r.yAxis,o=r.xAxisTicks,d=r.yAxisTicks,l=r.stackedData,u=r.dataStartIndex,h=r.displayedData,f=r.offset,A=CV(a,n);if(!A)return null;var g=t.layout,m=n.type.defaultProps,x=m!==void 0?Sl(Sl({},m),n.props):n.props,y=x.dataKey,b=x.children,j=x.minPointSize,S=g==="horizontal"?c:i,w=l?S.scale.domain():null,E=kV({numericAxis:S}),I=fu(b,t2),L=h.map(function(Z,ne){var G,le,V,me,$,X;l?G=NV(l[u+ne],w):(G=ql(Z,y),Array.isArray(G)||(G=[E,G]));var Ce=WX(j,fP.defaultProps.minPointSize)(G[1],ne);if(g==="horizontal"){var M,q=[c.scale(G[0]),c.scale(G[1])],ie=q[0],J=q[1];le=VI({axis:i,ticks:o,bandSize:s,offset:A.offset,entry:Z,index:ne}),V=(M=J??ie)!==null&&M!==void 0?M:void 0,me=A.size;var D=ie-J;if($=Number.isNaN(D)?0:D,X={x:le,y:c.y,width:me,height:c.height},Math.abs(Ce)>0&&Math.abs($)<Math.abs(Ce)){var ce=wd($||Ce)*(Math.abs(Ce)-Math.abs($));V-=ce,$+=ce}}else{var te=[i.scale(G[0]),i.scale(G[1])],ge=te[0],pe=te[1];if(le=ge,V=VI({axis:c,ticks:d,bandSize:s,offset:A.offset,entry:Z,index:ne}),me=pe-ge,$=A.size,X={x:i.x,y:V,width:i.width,height:$},Math.abs(Ce)>0&&Math.abs(me)<Math.abs(Ce)){var be=wd(me||Ce)*(Math.abs(Ce)-Math.abs(me));me+=be}}return Sl(Sl(Sl({},Z),{},{x:le,y:V,width:me,height:$,value:l?G:G[1],payload:Z,background:X},I&&I[ne]&&I[ne].props),{},{tooltipPayload:[HF(n,Z)],tooltipPosition:{x:le+me/2,y:V+$/2}})});return Sl({data:L,layout:g},f)});function L1(r){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(r)}function eY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function v8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,mP(a.key),a)}}function tY(r,t,n){return t&&v8(r.prototype,t),n&&v8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function x8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function dh(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(a){y2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function y2(r,t,n){return t=mP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function mP(r){var t=rY(r,"string");return L1(t)=="symbol"?t:t+""}function rY(r,t){if(L1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(L1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var gP=function(t,n,a,s,i){var c=t.width,o=t.height,d=t.layout,l=t.children,u=Object.keys(n),h={left:a.left,leftMirror:a.left,right:c-a.right,rightMirror:c-a.right,top:a.top,topMirror:a.top,bottom:o-a.bottom,bottomMirror:o-a.bottom},f=!!lu(l,xp);return u.reduce(function(A,g){var m=n[g],x=m.orientation,y=m.domain,b=m.padding,j=b===void 0?{}:b,S=m.mirror,w=m.reversed,E="".concat(x).concat(S?"Mirror":""),I,L,Z,ne,G;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var le=y[1]-y[0],V=1/0,me=m.categoricalDomain.sort();if(me.forEach(function(te,ge){ge>0&&(V=Math.min((te||0)-(me[ge-1]||0),V))}),Number.isFinite(V)){var $=V/le,X=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(I=$*X/2),m.padding==="no-gap"){var Ce=Cd(t.barCategoryGap,$*X),M=$*X/2;I=M-Ce-(M-Ce)/X*Ce}}}s==="xAxis"?L=[a.left+(j.left||0)+(I||0),a.left+a.width-(j.right||0)-(I||0)]:s==="yAxis"?L=d==="horizontal"?[a.top+a.height-(j.bottom||0),a.top+(j.top||0)]:[a.top+(j.top||0)+(I||0),a.top+a.height-(j.bottom||0)-(I||0)]:L=m.range,w&&(L=[L[1],L[0]]);var q=MF(m,i,f),ie=q.scale,J=q.realScaleType;ie.domain(y).range(L),RF(ie);var D=LF(ie,dh(dh({},m),{},{realScaleType:J}));s==="xAxis"?(G=x==="top"&&!S||x==="bottom"&&S,Z=a.left,ne=h[E]-G*m.height):s==="yAxis"&&(G=x==="left"&&!S||x==="right"&&S,Z=h[E]-G*m.width,ne=a.top);var ce=dh(dh(dh({},m),D),{},{realScaleType:J,x:Z,y:ne,scale:ie,width:s==="xAxis"?a.width:m.width,height:s==="yAxis"?a.height:m.height});return ce.bandSize=ox(ce,D),!m.hide&&s==="xAxis"?h[E]+=(G?-1:1)*ce.height:m.hide||(h[E]+=(G?-1:1)*ce.width),dh(dh({},A),{},y2({},g,ce))},{})},vP=function(t,n){var a=t.x,s=t.y,i=n.x,c=n.y;return{x:Math.min(a,i),y:Math.min(s,c),width:Math.abs(i-a),height:Math.abs(c-s)}},nY=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return vP({x:n,y:a},{x:s,y:i})},xP=(function(){function r(t){eY(this,r),this.scale=t}return tY(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new r(n)}}])})();y2(xP,"EPS",1e-4);var pS=function(t){var n=Object.keys(t).reduce(function(a,s){return dh(dh({},a),{},y2({},s,xP.create(t[s])))},{});return dh(dh({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.bandAware,o=i.position;return kX(s,function(d,l){return n[l].apply(d,{bandAware:c,position:o})})},isInRange:function(s){return hP(s,function(i,c){return n[c].isInRange(i)})}})};function aY(r){return(r%180+180)%180}var sY=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=aY(s),c=i*Math.PI/180,o=Math.atan(a/n),d=c>o&&c<Math.PI-o?a/Math.sin(c):n/Math.cos(c);return Math.abs(d)},kw,y8;function iY(){if(y8)return kw;y8=1;var r=Wh(),t=z1(),n=Jx();function a(s){return function(i,c,o){var d=Object(i);if(!t(i)){var l=r(c,3);i=n(i),c=function(h){return l(d[h],h,d)}}var u=s(i,c,o);return u>-1?d[l?i[u]:u]:void 0}}return kw=a,kw}var _w,j8;function oY(){if(j8)return _w;j8=1;var r=lP();function t(n){var a=r(n),s=a%1;return a===a?s?a-s:a:0}return _w=t,_w}var Ow,b8;function lY(){if(b8)return Ow;b8=1;var r=xO(),t=Wh(),n=oY(),a=Math.max;function s(i,c,o){var d=i==null?0:i.length;if(!d)return-1;var l=o==null?0:n(o);return l<0&&(l=a(d+l,0)),r(i,t(c,3),l)}return Ow=s,Ow}var Fw,w8;function cY(){if(w8)return Fw;w8=1;var r=iY(),t=lY(),n=r(t);return Fw=n,Fw}var dY=cY();const uY=Zs(dY);var hY=P_();const fY=Zs(hY);var AY=fY(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),mS=C.createContext(void 0),gS=C.createContext(void 0),yP=C.createContext(void 0),jP=C.createContext({}),bP=C.createContext(void 0),wP=C.createContext(0),CP=C.createContext(0),C8=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,c=t.clipPathId,o=t.children,d=t.width,l=t.height,u=AY(i);return Ct.createElement(mS.Provider,{value:a},Ct.createElement(gS.Provider,{value:s},Ct.createElement(jP.Provider,{value:i},Ct.createElement(yP.Provider,{value:u},Ct.createElement(bP.Provider,{value:c},Ct.createElement(wP.Provider,{value:l},Ct.createElement(CP.Provider,{value:d},o)))))))},pY=function(){return C.useContext(bP)},NP=function(t){var n=C.useContext(mS);n==null&&hp();var a=n[t];return a==null&&hp(),a},mY=function(){var t=C.useContext(mS);return iA(t)},gY=function(){var t=C.useContext(gS),n=uY(t,function(a){return hP(a.domain,Number.isFinite)});return n||iA(t)},SP=function(t){var n=C.useContext(gS);n==null&&hp();var a=n[t];return a==null&&hp(),a},vY=function(){var t=C.useContext(yP);return t},xY=function(){return C.useContext(jP)},vS=function(){return C.useContext(CP)},xS=function(){return C.useContext(wP)};function vm(r){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(r)}function yY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function jY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,BP(a.key),a)}}function bY(r,t,n){return t&&jY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function wY(r,t,n){return t=Sx(t),CY(r,EP()?Reflect.construct(t,n||[],Sx(r).constructor):t.apply(r,n))}function CY(r,t){if(t&&(vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(r)}function NY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!r})()}function Sx(r){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sx(r)}function SY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&MN(r,t)}function MN(r,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},MN(r,t)}function N8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function S8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(a){yS(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function yS(r,t,n){return t=BP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function BP(r){var t=EY(r,"string");return vm(t)=="symbol"?t:t+""}function EY(r,t){if(vm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function BY(r,t){return _Y(r)||kY(r,t)||TY(r,t)||IY()}function IY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(r,t){if(r){if(typeof r=="string")return E8(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E8(r,t)}}function E8(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function kY(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function _Y(r){if(Array.isArray(r))return r}function RN(){return RN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},RN.apply(this,arguments)}var OY=function(t,n){var a;return Ct.isValidElement(t)?a=Ct.cloneElement(t,n):Xa(t)?a=t(n):a=Ct.createElement("line",RN({},n,{className:"recharts-reference-line-line"})),a},FY=function(t,n,a,s,i,c,o,d,l){var u=i.x,h=i.y,f=i.width,A=i.height;if(a){var g=l.y,m=t.y.apply(g,{position:c});if(Rh(l,"discard")&&!t.y.isInRange(m))return null;var x=[{x:u+f,y:m},{x:u,y:m}];return d==="left"?x.reverse():x}if(n){var y=l.x,b=t.x.apply(y,{position:c});if(Rh(l,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:h+A},{x:b,y:h}];return o==="top"?j.reverse():j}if(s){var S=l.segment,w=S.map(function(E){return t.apply(E,{position:c})});return Rh(l,"discard")&&EX(w,function(E){return!t.isInRange(E)})?null:w}return null};function PY(r){var t=r.x,n=r.y,a=r.segment,s=r.xAxisId,i=r.yAxisId,c=r.shape,o=r.className,d=r.alwaysShow,l=pY(),u=NP(s),h=SP(i),f=vY();if(!l||!f)return null;ph(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=pS({x:u.scale,y:h.scale}),g=Yl(t),m=Yl(n),x=a&&a.length===2,y=FY(A,g,m,x,f,r.position,u.orientation,h.orientation,r);if(!y)return null;var b=BY(y,2),j=b[0],S=j.x,w=j.y,E=b[1],I=E.x,L=E.y,Z=Rh(r,"hidden")?"url(#".concat(l,")"):void 0,ne=S8(S8({clipPath:Z},ka(r,!0)),{},{x1:S,y1:w,x2:I,y2:L});return Ct.createElement(oi,{className:vs("recharts-reference-line",o)},OY(c,ne),jc.renderCallByParent(r,nY({x1:S,y1:w,x2:I,y2:L})))}var jS=(function(r){function t(){return yY(this,t),wY(this,t,arguments)}return SY(t,r),bY(t,[{key:"render",value:function(){return Ct.createElement(PY,this.props)}}])})(Ct.Component);yS(jS,"displayName","ReferenceLine");yS(jS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function LN(){return LN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},LN.apply(this,arguments)}function xm(r){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(r)}function B8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function I8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(n),!0).forEach(function(a){j2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function DY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function MY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,TP(a.key),a)}}function RY(r,t,n){return t&&MY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function LY(r,t,n){return t=Ex(t),UY(r,IP()?Reflect.construct(t,n||[],Ex(r).constructor):t.apply(r,n))}function UY(r,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(r)}function HY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!r})()}function Ex(r){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(r)}function QY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&UN(r,t)}function UN(r,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},UN(r,t)}function j2(r,t,n){return t=TP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function TP(r){var t=WY(r,"string");return xm(t)=="symbol"?t:t+""}function WY(r,t){if(xm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var $Y=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,c=pS({x:s.scale,y:i.scale}),o=c.apply({x:n,y:a},{bandAware:!0});return Rh(t,"discard")&&!c.isInRange(o)?null:o},b2=(function(r){function t(){return DY(this,t),LY(this,t,arguments)}return QY(t,r),RY(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,c=a.r,o=a.alwaysShow,d=a.clipPathId,l=Yl(s),u=Yl(i);if(ph(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var h=$Y(this.props);if(!h)return null;var f=h.x,A=h.y,g=this.props,m=g.shape,x=g.className,y=Rh(this.props,"hidden")?"url(#".concat(d,")"):void 0,b=I8(I8({clipPath:y},ka(this.props,!0)),{},{cx:f,cy:A});return Ct.createElement(oi,{className:vs("recharts-reference-dot",x)},t.renderDot(m,b),jc.renderCallByParent(this.props,{x:f-c,y:A-c,width:2*c,height:2*c}))}}])})(Ct.Component);j2(b2,"displayName","ReferenceDot");j2(b2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});j2(b2,"renderDot",function(r,t){var n;return Ct.isValidElement(r)?n=Ct.cloneElement(r,t):Xa(r)?n=r(t):n=Ct.createElement(f2,LN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function HN(){return HN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},HN.apply(this,arguments)}function ym(r){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(r)}function T8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function k8(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(a){w2(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function VY(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function zY(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,_P(a.key),a)}}function GY(r,t,n){return t&&zY(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function KY(r,t,n){return t=Bx(t),qY(r,kP()?Reflect.construct(t,n||[],Bx(r).constructor):t.apply(r,n))}function qY(r,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(r)}function XY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!r})()}function Bx(r){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(r)}function YY(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&QN(r,t)}function QN(r,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},QN(r,t)}function w2(r,t,n){return t=_P(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function _P(r){var t=JY(r,"string");return ym(t)=="symbol"?t:t+""}function JY(r,t){if(ym(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var ZY=function(t,n,a,s,i){var c=i.x1,o=i.x2,d=i.y1,l=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=pS({x:u.scale,y:h.scale}),A={x:t?f.x.apply(c,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(d,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(l,{position:"end"}):f.y.rangeMax};return Rh(i,"discard")&&(!f.isInRange(A)||!f.isInRange(g))?null:vP(A,g)},C2=(function(r){function t(){return VY(this,t),KY(this,t,arguments)}return YY(t,r),GY(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,c=a.y1,o=a.y2,d=a.className,l=a.alwaysShow,u=a.clipPathId;ph(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Yl(s),f=Yl(i),A=Yl(c),g=Yl(o),m=this.props.shape;if(!h&&!f&&!A&&!g&&!m)return null;var x=ZY(h,f,A,g,this.props);if(!x&&!m)return null;var y=Rh(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ct.createElement(oi,{className:vs("recharts-reference-area",d)},t.renderRect(m,k8(k8({clipPath:y},ka(this.props,!0)),x)),jc.renderCallByParent(this.props,x))}}])})(Ct.Component);w2(C2,"displayName","ReferenceArea");w2(C2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w2(C2,"renderRect",function(r,t){var n;return Ct.isValidElement(r)?n=Ct.cloneElement(r,t):Xa(r)?n=r(t):n=Ct.createElement(AS,HN({},t,{className:"recharts-reference-area-rect"})),n});function OP(r,t,n){if(t<1)return[];if(t===1&&n===void 0)return r;for(var a=[],s=0;s<r.length;s+=t)a.push(r[s]);return a}function eJ(r,t,n){var a={width:r.width+t.width,height:r.height+t.height};return sY(a,n)}function tJ(r,t,n){var a=n==="width",s=r.x,i=r.y,c=r.width,o=r.height;return t===1?{start:a?s:i,end:a?s+c:i+o}:{start:a?s+c:i+o,end:a?s:i}}function Ix(r,t,n,a,s){if(r*t<r*a||r*t>r*s)return!1;var i=n();return r*(t-r*i/2-a)>=0&&r*(t+r*i/2-s)<=0}function rJ(r,t){return OP(r,t+1)}function nJ(r,t,n,a,s){for(var i=(a||[]).slice(),c=t.start,o=t.end,d=0,l=1,u=c,h=function(){var g=a==null?void 0:a[d];if(g===void 0)return{v:OP(a,l)};var m=d,x,y=function(){return x===void 0&&(x=n(g,m)),x},b=g.coordinate,j=d===0||Ix(r,b,y,u,o);j||(d=0,u=c,l+=1),j&&(u=b+r*(y()/2+s),d+=l)},f;l<=i.length;)if(f=h(),f)return f.v;return[]}function U1(r){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(r)}function _8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function rd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(a){aJ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function aJ(r,t,n){return t=sJ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function sJ(r){var t=iJ(r,"string");return U1(t)=="symbol"?t:t+""}function iJ(r,t){if(U1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(U1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function oJ(r,t,n,a,s){for(var i=(a||[]).slice(),c=i.length,o=t.start,d=t.end,l=function(f){var A=i[f],g,m=function(){return g===void 0&&(g=n(A,f)),g};if(f===c-1){var x=r*(A.coordinate+r*m()/2-d);i[f]=A=rd(rd({},A),{},{tickCoord:x>0?A.coordinate-x*r:A.coordinate})}else i[f]=A=rd(rd({},A),{},{tickCoord:A.coordinate});var y=Ix(r,A.tickCoord,m,o,d);y&&(d=A.tickCoord-r*(m()/2+s),i[f]=rd(rd({},A),{},{isShow:!0}))},u=c-1;u>=0;u--)l(u);return i}function lJ(r,t,n,a,s,i){var c=(a||[]).slice(),o=c.length,d=t.start,l=t.end;if(i){var u=a[o-1],h=n(u,o-1),f=r*(u.coordinate+r*h/2-l);c[o-1]=u=rd(rd({},u),{},{tickCoord:f>0?u.coordinate-f*r:u.coordinate});var A=Ix(r,u.tickCoord,function(){return h},d,l);A&&(l=u.tickCoord-r*(h/2+s),c[o-1]=rd(rd({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var j=c[b],S,w=function(){return S===void 0&&(S=n(j,b)),S};if(b===0){var E=r*(j.coordinate-r*w()/2-d);c[b]=j=rd(rd({},j),{},{tickCoord:E<0?j.coordinate-E*r:j.coordinate})}else c[b]=j=rd(rd({},j),{},{tickCoord:j.coordinate});var I=Ix(r,j.tickCoord,w,d,l);I&&(d=j.tickCoord+r*(w()/2+s),c[b]=rd(rd({},j),{},{isShow:!0}))},x=0;x<g;x++)m(x);return c}function bS(r,t,n){var a=r.tick,s=r.ticks,i=r.viewBox,c=r.minTickGap,o=r.orientation,d=r.interval,l=r.tickFormatter,u=r.unit,h=r.angle;if(!s||!s.length||!a)return[];if(mn(d)||pp.isSsr)return rJ(s,typeof d=="number"&&mn(d)?d:0);var f=[],A=o==="top"||o==="bottom"?"width":"height",g=u&&A==="width"?Yg(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(j,S){var w=Xa(l)?l(j.value,S):j.value;return A==="width"?eJ(Yg(w,{fontSize:t,letterSpacing:n}),g,h):Yg(w,{fontSize:t,letterSpacing:n})[A]},x=s.length>=2?wd(s[1].coordinate-s[0].coordinate):1,y=tJ(i,x,A);return d==="equidistantPreserveStart"?nJ(x,y,m,s,c):(d==="preserveStart"||d==="preserveStartEnd"?f=lJ(x,y,m,s,c,d==="preserveStartEnd"):f=oJ(x,y,m,s,c),f.filter(function(b){return b.isShow}))}var cJ=["viewBox"],dJ=["viewBox"],uJ=["ticks"];function jm(r){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(r)}function $p(){return $p=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},$p.apply(this,arguments)}function O8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function vd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(a){wS(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Pw(r,t){if(r==null)return{};var n=hJ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function hJ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function fJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function F8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,PP(a.key),a)}}function AJ(r,t,n){return t&&F8(r.prototype,t),n&&F8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function pJ(r,t,n){return t=Tx(t),mJ(r,FP()?Reflect.construct(t,n||[],Tx(r).constructor):t.apply(r,n))}function mJ(r,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(r)}function gJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!r})()}function Tx(r){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(r)}function vJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&WN(r,t)}function WN(r,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WN(r,t)}function wS(r,t,n){return t=PP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function PP(r){var t=xJ(r,"string");return jm(t)=="symbol"?t:t+""}function xJ(r,t){if(jm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Rm=(function(r){function t(n){var a;return fJ(this,t),a=pJ(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return vJ(t,r),AJ(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,c=Pw(a,cJ),o=this.props,d=o.viewBox,l=Pw(o,dJ);return!Zp(i,d)||!Zp(c,l)||!Zp(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,c=s.y,o=s.width,d=s.height,l=s.orientation,u=s.tickSize,h=s.mirror,f=s.tickMargin,A,g,m,x,y,b,j=h?-1:1,S=a.tickSize||u,w=mn(a.tickCoord)?a.tickCoord:a.coordinate;switch(l){case"top":A=g=a.coordinate,x=c+ +!h*d,m=x-j*S,b=m-j*f,y=w;break;case"left":m=x=a.coordinate,g=i+ +!h*o,A=g-j*S,y=A-j*f,b=w;break;case"right":m=x=a.coordinate,g=i+ +h*o,A=g+j*S,y=A+j*f,b=w;break;default:A=g=a.coordinate,x=c+ +h*d,m=x+j*S,b=m+j*f,y=w;break}return{line:{x1:A,y1:m,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,c;switch(s){case"left":c=i?"start":"end";break;case"right":c=i?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,c="end";switch(s){case"left":case"right":c="middle";break;case"top":c=i?"start":"end";break;default:c=i?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,c=a.width,o=a.height,d=a.orientation,l=a.mirror,u=a.axisLine,h=vd(vd(vd({},ka(this.props,!1)),ka(u,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var f=+(d==="top"&&!l||d==="bottom"&&l);h=vd(vd({},h),{},{x1:s,y1:i+f*o,x2:s+c,y2:i+f*o})}else{var A=+(d==="left"&&!l||d==="right"&&l);h=vd(vd({},h),{},{x1:s+A*c,y1:i,x2:s+A*c,y2:i+o})}return Ct.createElement("line",$p({},h,{className:vs("recharts-cartesian-axis-line",hu(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var c=this,o=this.props,d=o.tickLine,l=o.stroke,u=o.tick,h=o.tickFormatter,f=o.unit,A=bS(vd(vd({},this.props),{},{ticks:a}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ka(this.props,!1),y=ka(u,!1),b=vd(vd({},x),{},{fill:"none"},ka(d,!1)),j=A.map(function(S,w){var E=c.getTickLineCoord(S),I=E.line,L=E.tick,Z=vd(vd(vd(vd({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:l},y),L),{},{index:w,payload:S,visibleTicksCount:A.length,tickFormatter:h});return Ct.createElement(oi,$p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},cp(c.props,S,w)),d&&Ct.createElement("line",$p({},b,I,{className:vs("recharts-cartesian-axis-tick-line",hu(d,"className"))})),u&&t.renderTickItem(u,Z,"".concat(Xa(h)?h(S.value,w):S.value).concat(f||"")))});return Ct.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,c=s.width,o=s.height,d=s.ticksGenerator,l=s.className,u=s.hide;if(u)return null;var h=this.props,f=h.ticks,A=Pw(h,uJ),g=f;return Xa(d)&&(g=f&&f.length>0?d(this.props):d(A)),c<=0||o<=0||!g||!g.length?null:Ct.createElement(oi,{className:vs("recharts-cartesian-axis",l),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),jc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var c;return Ct.isValidElement(a)?c=Ct.cloneElement(a,s):Xa(a)?c=a(s):c=Ct.createElement(dp,$p({},s,{className:"recharts-cartesian-axis-tick-value"}),i),c}}])})(C.Component);wS(Rm,"displayName","CartesianAxis");wS(Rm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yJ=["x1","y1","x2","y2","key"],jJ=["offset"];function fp(r){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(r)}function P8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function nd(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(a){bJ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function bJ(r,t,n){return t=wJ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function wJ(r){var t=CJ(r,"string");return fp(t)=="symbol"?t:t+""}function CJ(r,t){if(fp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function tp(){return tp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},tp.apply(this,arguments)}function D8(r,t){if(r==null)return{};var n=NJ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function NJ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}var SJ=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,c=t.width,o=t.height,d=t.ry;return Ct.createElement("rect",{x:s,y:i,ry:d,width:c,height:o,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function DP(r,t){var n;if(Ct.isValidElement(r))n=Ct.cloneElement(r,t);else if(Xa(r))n=r(t);else{var a=t.x1,s=t.y1,i=t.x2,c=t.y2,o=t.key,d=D8(t,yJ),l=ka(d,!1);l.offset;var u=D8(l,jJ);n=Ct.createElement("line",tp({},u,{x1:a,y1:s,x2:i,y2:c,fill:"none",key:o}))}return n}function EJ(r){var t=r.x,n=r.width,a=r.horizontal,s=a===void 0?!0:a,i=r.horizontalPoints;if(!s||!i||!i.length)return null;var c=i.map(function(o,d){var l=nd(nd({},r),{},{x1:t,y1:o,x2:t+n,y2:o,key:"line-".concat(d),index:d});return DP(s,l)});return Ct.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function BJ(r){var t=r.y,n=r.height,a=r.vertical,s=a===void 0?!0:a,i=r.verticalPoints;if(!s||!i||!i.length)return null;var c=i.map(function(o,d){var l=nd(nd({},r),{},{x1:o,y1:t,x2:o,y2:t+n,key:"line-".concat(d),index:d});return DP(s,l)});return Ct.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function IJ(r){var t=r.horizontalFill,n=r.fillOpacity,a=r.x,s=r.y,i=r.width,c=r.height,o=r.horizontalPoints,d=r.horizontal,l=d===void 0?!0:d;if(!l||!t||!t.length)return null;var u=o.map(function(f){return Math.round(f+s-s)}).sort(function(f,A){return f-A});s!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var g=!u[A+1],m=g?s+c-f:u[A+1]-f;if(m<=0)return null;var x=A%t.length;return Ct.createElement("rect",{key:"react-".concat(A),y:f,x:a,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ct.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function TJ(r){var t=r.vertical,n=t===void 0?!0:t,a=r.verticalFill,s=r.fillOpacity,i=r.x,c=r.y,o=r.width,d=r.height,l=r.verticalPoints;if(!n||!a||!a.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,A){return f-A});i!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var g=!u[A+1],m=g?i+o-f:u[A+1]-f;if(m<=0)return null;var x=A%a.length;return Ct.createElement("rect",{key:"react-".concat(A),x:f,y:c,width:m,height:d,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ct.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var kJ=function(t,n){var a=t.xAxis,s=t.width,i=t.height,c=t.offset;return DF(bS(nd(nd(nd({},Rm.defaultProps),a),{},{ticks:gf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),c.left,c.left+c.width,n)},_J=function(t,n){var a=t.yAxis,s=t.width,i=t.height,c=t.offset;return DF(bS(nd(nd(nd({},Rm.defaultProps),a),{},{ticks:gf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),c.top,c.top+c.height,n)},_p={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ev(r){var t,n,a,s,i,c,o=vS(),d=xS(),l=xY(),u=nd(nd({},r),{},{stroke:(t=r.stroke)!==null&&t!==void 0?t:_p.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:_p.fill,horizontal:(a=r.horizontal)!==null&&a!==void 0?a:_p.horizontal,horizontalFill:(s=r.horizontalFill)!==null&&s!==void 0?s:_p.horizontalFill,vertical:(i=r.vertical)!==null&&i!==void 0?i:_p.vertical,verticalFill:(c=r.verticalFill)!==null&&c!==void 0?c:_p.verticalFill,x:mn(r.x)?r.x:l.left,y:mn(r.y)?r.y:l.top,width:mn(r.width)?r.width:l.width,height:mn(r.height)?r.height:l.height}),h=u.x,f=u.y,A=u.width,g=u.height,m=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,b=mY(),j=gY();if(!mn(A)||A<=0||!mn(g)||g<=0||!mn(h)||h!==+h||!mn(f)||f!==+f)return null;var S=u.verticalCoordinatesGenerator||kJ,w=u.horizontalCoordinatesGenerator||_J,E=u.horizontalPoints,I=u.verticalPoints;if((!E||!E.length)&&Xa(w)){var L=x&&x.length,Z=w({yAxis:j?nd(nd({},j),{},{ticks:L?x:j.ticks}):void 0,width:o,height:d,offset:l},L?!0:m);ph(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fp(Z),"]")),Array.isArray(Z)&&(E=Z)}if((!I||!I.length)&&Xa(S)){var ne=y&&y.length,G=S({xAxis:b?nd(nd({},b),{},{ticks:ne?y:b.ticks}):void 0,width:o,height:d,offset:l},ne?!0:m);ph(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fp(G),"]")),Array.isArray(G)&&(I=G)}return Ct.createElement("g",{className:"recharts-cartesian-grid"},Ct.createElement(SJ,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ct.createElement(EJ,tp({},u,{offset:l,horizontalPoints:E,xAxis:b,yAxis:j})),Ct.createElement(BJ,tp({},u,{offset:l,verticalPoints:I,xAxis:b,yAxis:j})),Ct.createElement(IJ,tp({},u,{horizontalPoints:E})),Ct.createElement(TJ,tp({},u,{verticalPoints:I})))}Ev.displayName="CartesianGrid";var OJ=["type","layout","connectNulls","ref"],FJ=["key"];function bm(r){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(r)}function M8(r,t){if(r==null)return{};var n=PJ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function PJ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function n1(){return n1=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},n1.apply(this,arguments)}function R8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function iu(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(a){uh(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function Op(r){return LJ(r)||RJ(r)||MJ(r)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(r,t){if(r){if(typeof r=="string")return $N(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(r,t)}}function RJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function LJ(r){if(Array.isArray(r))return $N(r)}function $N(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function UJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function L8(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,RP(a.key),a)}}function HJ(r,t,n){return t&&L8(r.prototype,t),n&&L8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function QJ(r,t,n){return t=kx(t),WJ(r,MP()?Reflect.construct(t,n||[],kx(r).constructor):t.apply(r,n))}function WJ(r,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(r)}function $J(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!r})()}function kx(r){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(r)}function VJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&VN(r,t)}function VN(r,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VN(r,t)}function uh(r,t,n){return t=RP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function RP(r){var t=zJ(r,"string");return bm(t)=="symbol"?t:t+""}function zJ(r,t){if(bm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wm=(function(r){function t(){var n;UJ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=QJ(this,t,[].concat(s)),uh(n,"state",{isAnimationFinished:!0,totalLength:0}),uh(n,"generateSimpleStrokeDasharray",function(c,o){return"".concat(o,"px ").concat(c-o,"px")}),uh(n,"getStrokeDasharray",function(c,o,d){var l=d.reduce(function(y,b){return y+b});if(!l)return n.generateSimpleStrokeDasharray(o,c);for(var u=Math.floor(c/l),h=c%l,f=o-c,A=[],g=0,m=0;g<d.length;m+=d[g],++g)if(m+d[g]>h){A=[].concat(Op(d.slice(0,g)),[h-m]);break}var x=A.length%2===0?[0,f]:[f];return[].concat(Op(t.repeat(d,u)),Op(A),x).map(function(y){return"".concat(y,"px")}).join(", ")}),uh(n,"id",Om("recharts-line-")),uh(n,"pathRef",function(c){n.mainCurve=c}),uh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),uh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return VJ(t,r),HJ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.points,o=i.xAxis,d=i.yAxis,l=i.layout,u=i.children,h=fu(u,J1);if(!h)return null;var f=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:ql(m.payload,x)}},A={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Ct.createElement(oi,A,h.map(function(g){return Ct.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:c,xAxis:o,yAxis:d,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,s,i){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var o=this.props,d=o.dot,l=o.points,u=o.dataKey,h=ka(this.props,!1),f=ka(d,!0),A=l.map(function(m,x){var y=iu(iu(iu({key:"dot-".concat(x),r:3},h),f),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:x,payload:m.payload});return t.renderDotItem(d,y)}),g={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Ct.createElement(oi,n1({className:"recharts-line-dots",key:"dots"},g),A)}},{key:"renderCurveStatically",value:function(a,s,i,c){var o=this.props,d=o.type,l=o.layout,u=o.connectNulls;o.ref;var h=M8(o,OJ),f=iu(iu(iu({},ka(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},c),{},{type:d,layout:l,connectNulls:u});return Ct.createElement(dx,n1({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,c=this.props,o=c.points,d=c.strokeDasharray,l=c.isAnimationActive,u=c.animationBegin,h=c.animationDuration,f=c.animationEasing,A=c.animationId,g=c.animateNewValues,m=c.width,x=c.height,y=this.state,b=y.prevPoints,j=y.totalLength;return Ct.createElement(Uh,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(b){var E=b.length/o.length,I=o.map(function(le,V){var me=Math.floor(V*E);if(b[me]){var $=b[me],X=du($.x,le.x),Ce=du($.y,le.y);return iu(iu({},le),{},{x:X(w),y:Ce(w)})}if(g){var M=du(m*2,le.x),q=du(x/2,le.y);return iu(iu({},le),{},{x:M(w),y:q(w)})}return iu(iu({},le),{},{x:le.x,y:le.y})});return i.renderCurveStatically(I,a,s)}var L=du(0,j),Z=L(w),ne;if(d){var G="".concat(d).split(/[,\s]+/gim).map(function(le){return parseFloat(le)});ne=i.getStrokeDasharray(Z,j,G)}else ne=i.generateSimpleStrokeDasharray(j,Z);return i.renderCurveStatically(o,a,s,{strokeDasharray:ne})})}},{key:"renderCurve",value:function(a,s){var i=this.props,c=i.points,o=i.isAnimationActive,d=this.state,l=d.prevPoints,u=d.totalLength;return o&&c&&c.length&&(!l&&u>0||!Y1(l,c))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(c,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,c=s.dot,o=s.points,d=s.className,l=s.xAxis,u=s.yAxis,h=s.top,f=s.left,A=s.width,g=s.height,m=s.isAnimationActive,x=s.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,j=vs("recharts-line",d),S=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,E=S||w,I=os(x)?this.id:x,L=(a=ka(c,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},Z=L.r,ne=Z===void 0?3:Z,G=L.strokeWidth,le=G===void 0?2:G,V=yL(c)?c:{},me=V.clipDot,$=me===void 0?!0:me,X=ne*2+le;return Ct.createElement(oi,{className:j},S||w?Ct.createElement("defs",null,Ct.createElement("clipPath",{id:"clipPath-".concat(I)},Ct.createElement("rect",{x:S?f:f-A/2,y:w?h:h-g/2,width:S?A:A*2,height:w?g:g*2})),!$&&Ct.createElement("clipPath",{id:"clipPath-dots-".concat(I)},Ct.createElement("rect",{x:f-X/2,y:h-X/2,width:A+X,height:g+X}))):null,!b&&this.renderCurve(E,I),this.renderErrorBar(E,I),(b||c)&&this.renderDots(E,$,I),(!m||y)&&yf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Op(a),[0]):a,c=[],o=0;o<s;++o)c=[].concat(Op(c),Op(i));return c}},{key:"renderDotItem",value:function(a,s){var i;if(Ct.isValidElement(a))i=Ct.cloneElement(a,s);else if(Xa(a))i=a(s);else{var c=s.key,o=M8(s,FJ),d=vs("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Ct.createElement(f2,n1({key:c},o,{className:d}))}return i}}])})(C.PureComponent);uh(wm,"displayName","Line");uh(wm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uh(wm,"getComposedData",function(r){var t=r.props,n=r.xAxis,a=r.yAxis,s=r.xAxisTicks,i=r.yAxisTicks,c=r.dataKey,o=r.bandSize,d=r.displayedData,l=r.offset,u=t.layout,h=d.map(function(f,A){var g=ql(f,c);return u==="horizontal"?{x:$I({axis:n,ticks:s,bandSize:o,entry:f,index:A}),y:os(g)?null:a.scale(g),value:g,payload:f}:{x:os(g)?null:n.scale(g),y:$I({axis:a,ticks:i,bandSize:o,entry:f,index:A}),value:g,payload:f}});return iu({points:h,layout:u},l)});function Cm(r){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(r)}function GJ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function KJ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,HP(a.key),a)}}function qJ(r,t,n){return t&&KJ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function XJ(r,t,n){return t=_x(t),YJ(r,LP()?Reflect.construct(t,n||[],_x(r).constructor):t.apply(r,n))}function YJ(r,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JJ(r)}function JJ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!r})()}function _x(r){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(r)}function ZJ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&zN(r,t)}function zN(r,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zN(r,t)}function UP(r,t,n){return t=HP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function HP(r){var t=eZ(r,"string");return Cm(t)=="symbol"?t:t+""}function eZ(r,t){if(Cm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function GN(){return GN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},GN.apply(this,arguments)}function tZ(r){var t=r.xAxisId,n=vS(),a=xS(),s=NP(t);return s==null?null:Ct.createElement(Rm,GN({},s,{className:vs("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return gf(c,!0)}}))}var ip=(function(r){function t(){return GJ(this,t),XJ(this,t,arguments)}return ZJ(t,r),qJ(t,[{key:"render",value:function(){return Ct.createElement(tZ,this.props)}}])})(Ct.Component);UP(ip,"displayName","XAxis");UP(ip,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nm(r){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(r)}function rZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function nZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,$P(a.key),a)}}function aZ(r,t,n){return t&&nZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function sZ(r,t,n){return t=Ox(t),iZ(r,QP()?Reflect.construct(t,n||[],Ox(r).constructor):t.apply(r,n))}function iZ(r,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(r)}function oZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function QP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!r})()}function Ox(r){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(r)}function lZ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&KN(r,t)}function KN(r,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KN(r,t)}function WP(r,t,n){return t=$P(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function $P(r){var t=cZ(r,"string");return Nm(t)=="symbol"?t:t+""}function cZ(r,t){if(Nm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function qN(){return qN=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qN.apply(this,arguments)}var dZ=function(t){var n=t.yAxisId,a=vS(),s=xS(),i=SP(n);return i==null?null:Ct.createElement(Rm,qN({},i,{className:vs("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(o){return gf(o,!0)}}))},op=(function(r){function t(){return rZ(this,t),sZ(this,t,arguments)}return lZ(t,r),aZ(t,[{key:"render",value:function(){return Ct.createElement(dZ,this.props)}}])})(Ct.Component);WP(op,"displayName","YAxis");WP(op,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function U8(r){return AZ(r)||fZ(r)||hZ(r)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(r,t){if(r){if(typeof r=="string")return XN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(r,t)}}function fZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function AZ(r){if(Array.isArray(r))return XN(r)}function XN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}var YN=function(t,n,a,s,i){var c=fu(t,jS),o=fu(t,b2),d=[].concat(U8(c),U8(o)),l=fu(t,C2),u="".concat(s,"Id"),h=s[0],f=n;if(d.length&&(f=d.reduce(function(m,x){if(x.props[u]===a&&Rh(x.props,"extendDomain")&&mn(x.props[h])){var y=x.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},f)),l.length){var A="".concat(h,"1"),g="".concat(h,"2");f=l.reduce(function(m,x){if(x.props[u]===a&&Rh(x.props,"extendDomain")&&mn(x.props[A])&&mn(x.props[g])){var y=x.props[A],b=x.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,x){return mn(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},f)),f},Dw={exports:{}},H8;function pZ(){return H8||(H8=1,(function(r){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(d,l,u){this.fn=d,this.context=l,this.once=u||!1}function i(d,l,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var A=new s(u,h||d,f),g=n?n+l:l;return d._events[g]?d._events[g].fn?d._events[g]=[d._events[g],A]:d._events[g].push(A):(d._events[g]=A,d._eventsCount++),d}function c(d,l){--d._eventsCount===0?d._events=new a:delete d._events[l]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)t.call(u,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,A=h.length,g=new Array(A);f<A;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(l){var u=n?n+l:l,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(l,u,h,f,A,g){var m=n?n+l:l;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,b,j;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,f),!0;case 5:return x.fn.call(x.context,u,h,f,A),!0;case 6:return x.fn.call(x.context,u,h,f,A,g),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];x.fn.apply(x.context,b)}else{var S=x.length,w;for(j=0;j<S;j++)switch(x[j].once&&this.removeListener(l,x[j].fn,void 0,!0),y){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,u);break;case 3:x[j].fn.call(x[j].context,u,h);break;case 4:x[j].fn.call(x[j].context,u,h,f);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x[j].fn.apply(x[j].context,b)}}return!0},o.prototype.on=function(l,u,h){return i(this,l,u,h,!1)},o.prototype.once=function(l,u,h){return i(this,l,u,h,!0)},o.prototype.removeListener=function(l,u,h,f){var A=n?n+l:l;if(!this._events[A])return this;if(!u)return c(this,A),this;var g=this._events[A];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&c(this,A);else{for(var m=0,x=[],y=g.length;m<y;m++)(g[m].fn!==u||f&&!g[m].once||h&&g[m].context!==h)&&x.push(g[m]);x.length?this._events[A]=x.length===1?x[0]:x:c(this,A)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&c(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,r.exports=o})(Dw)),Dw.exports}var mZ=pZ();const gZ=Zs(mZ);var Mw=new gZ,Rw="recharts.syncMouseEvents";function H1(r){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(r)}function vZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function xZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,VP(a.key),a)}}function yZ(r,t,n){return t&&xZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Lw(r,t,n){return t=VP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function VP(r){var t=jZ(r,"string");return H1(t)=="symbol"?t:t+""}function jZ(r,t){if(H1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(H1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var bZ=(function(){function r(){vZ(this,r),Lw(this,"activeIndex",0),Lw(this,"coordinateList",[]),Lw(this,"layout","horizontal")}return yZ(r,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,c=n.container,o=c===void 0?null:c,d=n.layout,l=d===void 0?null:d,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,A=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=o??this.container,this.layout=l??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,c=s.y,o=s.height,d=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+d+l,f=c+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])})();function wZ(r,t,n){if(n==="number"&&t===!0&&Array.isArray(r)){var a=r==null?void 0:r[0],s=r==null?void 0:r[1];if(a&&s&&mn(a)&&mn(s))return!0}return!1}function CZ(r,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?t.x-s:n.left+.5,y:r==="horizontal"?n.top+.5:t.y-s,width:r==="horizontal"?a:n.width-1,height:r==="horizontal"?n.height-1:a}}function zP(r){var t=r.cx,n=r.cy,a=r.radius,s=r.startAngle,i=r.endAngle,c=io(t,n,a,s),o=io(t,n,a,i);return{points:[c,o],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function NZ(r,t,n){var a,s,i,c;if(r==="horizontal")a=t.x,i=a,s=n.top,c=n.top+n.height;else if(r==="vertical")s=t.y,c=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(r==="centric"){var o=t.cx,d=t.cy,l=t.innerRadius,u=t.outerRadius,h=t.angle,f=io(o,d,l,h),A=io(o,d,u,h);a=f.x,s=f.y,i=A.x,c=A.y}else return zP(t);return[{x:a,y:s},{x:i,y:c}]}function Q1(r){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(r)}function Q8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function j0(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(n),!0).forEach(function(a){SZ(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function SZ(r,t,n){return t=EZ(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function EZ(r){var t=BZ(r,"string");return Q1(t)=="symbol"?t:t+""}function BZ(r,t){if(Q1(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Q1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function IZ(r){var t,n,a=r.element,s=r.tooltipEventType,i=r.isActive,c=r.activeCoordinate,o=r.activePayload,d=r.offset,l=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=r.layout,f=r.chartName,A=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!A||!i||!c||f!=="ScatterChart"&&s!=="axis")return null;var g,m=dx;if(f==="ScatterChart")g=c,m=YK;else if(f==="BarChart")g=CZ(h,c,d,u),m=AS;else if(h==="radial"){var x=zP(c),y=x.cx,b=x.cy,j=x.radius,S=x.startAngle,w=x.endAngle;g={cx:y,cy:b,startAngle:S,endAngle:w,innerRadius:j,outerRadius:j},m=GF}else g={points:NZ(h,c,d)},m=dx;var E=j0(j0(j0(j0({stroke:"#ccc",pointerEvents:"none"},d),g),ka(A,!1)),{},{payload:o,payloadIndex:l,className:vs("recharts-tooltip-cursor",A.className)});return C.isValidElement(A)?C.cloneElement(A,E):C.createElement(m,E)}var TZ=["item"],kZ=["children","className","width","height","style","compact","title","desc"];function Sm(r){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(r)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Vp.apply(this,arguments)}function W8(r,t){return FZ(r)||OZ(r,t)||KP(r,t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,i,c,o=[],d=!0,l=!1;try{if(i=(n=n.call(r)).next,t!==0)for(;!(d=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);d=!0);}catch(u){l=!0,s=u}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw s}}return o}}function FZ(r){if(Array.isArray(r))return r}function $8(r,t){if(r==null)return{};var n=PZ(r,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function PZ(r,t){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;n[a]=r[a]}return n}function DZ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function MZ(r,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,qP(a.key),a)}}function RZ(r,t,n){return t&&MZ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function LZ(r,t,n){return t=Fx(t),UZ(r,GP()?Reflect.construct(t,n||[],Fx(r).constructor):t.apply(r,n))}function UZ(r,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(r)}function HZ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!r})()}function Fx(r){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(r)}function QZ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&JN(r,t)}function JN(r,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JN(r,t)}function Em(r){return VZ(r)||$Z(r)||KP(r)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KP(r,t){if(r){if(typeof r=="string")return ZN(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(r,t)}}function $Z(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function VZ(r){if(Array.isArray(r))return ZN(r)}function ZN(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=r[n];return a}function V8(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,a)}return n}function Pr(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(n),!0).forEach(function(a){La(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function La(r,t,n){return t=qP(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function qP(r){var t=zZ(r,"string");return Sm(t)=="symbol"?t:t+""}function zZ(r,t){if(Sm(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,t);if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var GZ={xAxis:["bottom","top"],yAxis:["left","right"]},KZ={width:"100%",height:"100%"},XP={x:0,y:0};function b0(r){return r}var qZ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},XZ=function(t,n,a,s){var i=n.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var c=i.coordinate,o=s.radius;return Pr(Pr(Pr({},s),io(s.cx,s.cy,o,c)),{},{angle:c,radius:o})}var d=i.coordinate,l=s.angle;return Pr(Pr(Pr({},s),io(s.cx,s.cy,d,l)),{},{angle:l,radius:d})}return XP},N2=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,c=(a??[]).reduce(function(o,d){var l=d.props.data;return l&&l.length?[].concat(Em(o),Em(l)):o},[]);return c.length>0?c:t&&t.length&&mn(s)&&mn(i)?t.slice(s,i+1):[]};function YP(r){return r==="number"?[0,"auto"]:void 0}var e4=function(t,n,a,s){var i=t.graphicalItems,c=t.tooltipAxis,o=N2(n,t);return a<0||!i||!i.length||a>=o.length?null:i.reduce(function(d,l){var u,h=(u=l.props.data)!==null&&u!==void 0?u:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(c.dataKey&&!c.allowDuplicatedCategory){var A=h===void 0?o:h;f=Pv(A,c.dataKey,s)}else f=h&&h[a]||o[a];return f?[].concat(Em(d),[HF(l,f)]):d},[])},z8=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},c=qZ(i,a),o=t.orderedTooltipTicks,d=t.tooltipAxis,l=t.tooltipTicks,u=vV(c,o,l,d);if(u>=0&&l){var h=l[u]&&l[u].value,f=e4(t,n,u,h),A=XZ(a,o,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:A}}return null},YZ=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,c=n.axisIdKey,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,A=PF(u,i);return a.reduce(function(g,m){var x,y=m.type.defaultProps!==void 0?Pr(Pr({},m.type.defaultProps),m.props):m.props,b=y.type,j=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,E=y.scale,I=y.ticks,L=y.includeHidden,Z=y[c];if(g[Z])return g;var ne=N2(t.data,{graphicalItems:s.filter(function(D){var ce,te=c in D.props?D.props[c]:(ce=D.type.defaultProps)===null||ce===void 0?void 0:ce[c];return te===Z}),dataStartIndex:d,dataEndIndex:l}),G=ne.length,le,V,me;wZ(y.domain,S,b)&&(le=AN(y.domain,null,S),A&&(b==="number"||E!=="auto")&&(me=Zg(ne,j,"category")));var $=YP(b);if(!le||le.length===0){var X,Ce=(X=y.domain)!==null&&X!==void 0?X:$;if(j){if(le=Zg(ne,j,b),b==="category"&&A){var M=uL(le);w&&M?(V=le,le=jx(0,G)):w||(le=KI(Ce,le,m).reduce(function(D,ce){return D.indexOf(ce)>=0?D:[].concat(Em(D),[ce])},[]))}else if(b==="category")w?le=le.filter(function(D){return D!==""&&!os(D)}):le=KI(Ce,le,m).reduce(function(D,ce){return D.indexOf(ce)>=0||ce===""||os(ce)?D:[].concat(Em(D),[ce])},[]);else if(b==="number"){var q=wV(ne,s.filter(function(D){var ce,te,ge=c in D.props?D.props[c]:(ce=D.type.defaultProps)===null||ce===void 0?void 0:ce[c],pe="hide"in D.props?D.props.hide:(te=D.type.defaultProps)===null||te===void 0?void 0:te.hide;return ge===Z&&(L||!pe)}),j,i,u);q&&(le=q)}A&&(b==="number"||E!=="auto")&&(me=Zg(ne,j,"category"))}else A?le=jx(0,G):o&&o[Z]&&o[Z].hasStack&&b==="number"?le=f==="expand"?[0,1]:UF(o[Z].stackGroups,d,l):le=FF(ne,s.filter(function(D){var ce=c in D.props?D.props[c]:D.type.defaultProps[c],te="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return ce===Z&&(L||!te)}),b,u,!0);if(b==="number")le=YN(h,le,Z,i,I),Ce&&(le=AN(Ce,le,S));else if(b==="category"&&Ce){var ie=Ce,J=le.every(function(D){return ie.indexOf(D)>=0});J&&(le=ie)}}return Pr(Pr({},g),{},La({},Z,Pr(Pr({},y),{},{axisType:i,domain:le,categoricalDomain:me,duplicateDomain:V,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:A,layout:u})))},{})},JZ=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,c=n.axisIdKey,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.layout,h=t.children,f=N2(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:l}),A=f.length,g=PF(u,i),m=-1;return a.reduce(function(x,y){var b=y.type.defaultProps!==void 0?Pr(Pr({},y.type.defaultProps),y.props):y.props,j=b[c],S=YP("number");if(!x[j]){m++;var w;return g?w=jx(0,A):o&&o[j]&&o[j].hasStack?(w=UF(o[j].stackGroups,d,l),w=YN(h,w,j,i)):(w=AN(S,FF(f,a.filter(function(E){var I,L,Z=c in E.props?E.props[c]:(I=E.type.defaultProps)===null||I===void 0?void 0:I[c],ne="hide"in E.props?E.props.hide:(L=E.type.defaultProps)===null||L===void 0?void 0:L.hide;return Z===j&&!ne}),"number",u),s.defaultProps.allowDataOverflow),w=YN(h,w,j,i)),Pr(Pr({},x),{},La({},j,Pr(Pr({axisType:i},s.defaultProps),{},{hide:!0,orientation:hu(GZ,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:S,isCategorical:g,layout:u})))}return x},{})},ZZ=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,c=n.graphicalItems,o=n.stackGroups,d=n.dataStartIndex,l=n.dataEndIndex,u=t.children,h="".concat(s,"Id"),f=fu(u,i),A={};return f&&f.length?A=YZ(t,{axes:f,graphicalItems:c,axisType:s,axisIdKey:h,stackGroups:o,dataStartIndex:d,dataEndIndex:l}):c&&c.length&&(A=JZ(t,{Axis:i,graphicalItems:c,axisType:s,axisIdKey:h,stackGroups:o,dataStartIndex:d,dataEndIndex:l})),A},eee=function(t){var n=iA(t),a=gf(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:H4(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ox(n,a)}},G8=function(t){var n=t.children,a=t.defaultShowTooltip,s=lu(n,mm),i=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(c=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!a}},tee=function(t){return!t||!t.length?!1:t.some(function(n){var a=vf(n&&n.type);return a&&a.indexOf("Bar")>=0})},K8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ree=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,c=i===void 0?{}:i,o=t.yAxisMap,d=o===void 0?{}:o,l=a.width,u=a.height,h=a.children,f=a.margin||{},A=lu(h,mm),g=lu(h,_h),m=Object.keys(d).reduce(function(w,E){var I=d[E],L=I.orientation;return!I.mirror&&!I.hide?Pr(Pr({},w),{},La({},L,w[L]+I.width)):w},{left:f.left||0,right:f.right||0}),x=Object.keys(c).reduce(function(w,E){var I=c[E],L=I.orientation;return!I.mirror&&!I.hide?Pr(Pr({},w),{},La({},L,hu(w,"".concat(L))+I.height)):w},{top:f.top||0,bottom:f.bottom||0}),y=Pr(Pr({},x),m),b=y.bottom;A&&(y.bottom+=A.props.height||mm.defaultProps.height),g&&n&&(y=jV(y,s,a,n));var j=l-y.left-y.right,S=u-y.top-y.bottom;return Pr(Pr({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(S,0)})},nee=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},CS=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,c=t.validateTooltipEventTypes,o=c===void 0?["axis"]:c,d=t.axisComponents,l=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(y,b){var j=b.graphicalItems,S=b.stackGroups,w=b.offset,E=b.updateId,I=b.dataStartIndex,L=b.dataEndIndex,Z=y.barSize,ne=y.layout,G=y.barGap,le=y.barCategoryGap,V=y.maxBarSize,me=K8(ne),$=me.numericAxisName,X=me.cateAxisName,Ce=tee(j),M=[];return j.forEach(function(q,ie){var J=N2(y.data,{graphicalItems:[q],dataStartIndex:I,dataEndIndex:L}),D=q.type.defaultProps!==void 0?Pr(Pr({},q.type.defaultProps),q.props):q.props,ce=D.dataKey,te=D.maxBarSize,ge=D["".concat($,"Id")],pe=D["".concat(X,"Id")],be={},re=d.reduce(function(lt,$t){var Ue=b["".concat($t.axisType,"Map")],yt=D["".concat($t.axisType,"Id")];Ue&&Ue[yt]||$t.axisType==="zAxis"||hp();var Tt=Ue[yt];return Pr(Pr({},lt),{},La(La({},$t.axisType,Tt),"".concat($t.axisType,"Ticks"),gf(Tt)))},be),de=re[X],Y=re["".concat(X,"Ticks")],Ae=S&&S[ge]&&S[ge].hasStack&&_V(q,S[ge].stackGroups),ye=vf(q.type).indexOf("Bar")>=0,Oe=ox(de,Y),We=[],ae=Ce&&xV({barSize:Z,stackGroups:S,totalSize:nee(re,X)});if(ye){var ke,Fe,nt=os(te)?V:te,tt=(ke=(Fe=ox(de,Y,!0))!==null&&Fe!==void 0?Fe:nt)!==null&&ke!==void 0?ke:0;We=yV({barGap:G,barCategoryGap:le,bandSize:tt!==Oe?tt:Oe,sizeList:ae[pe],maxBarSize:nt}),tt!==Oe&&(We=We.map(function(lt){return Pr(Pr({},lt),{},{position:Pr(Pr({},lt.position),{},{offset:lt.position.offset-tt/2})})}))}var Le=q&&q.type&&q.type.getComposedData;Le&&M.push({props:Pr(Pr({},Le(Pr(Pr({},re),{},{displayedData:J,props:y,dataKey:ce,item:q,bandSize:Oe,barPosition:We,offset:w,stackedData:Ae,layout:ne,dataStartIndex:I,dataEndIndex:L}))),{},La(La(La({key:q.key||"item-".concat(ie)},$,re[$]),X,re[X]),"animationId",E)),childIndex:wL(q,y.children),item:q})}),M},A=function(y,b){var j=y.props,S=y.dataStartIndex,w=y.dataEndIndex,E=y.updateId;if(!lB({props:j}))return null;var I=j.children,L=j.layout,Z=j.stackOffset,ne=j.data,G=j.reverseStackOrder,le=K8(L),V=le.numericAxisName,me=le.cateAxisName,$=fu(I,a),X=TV(ne,$,"".concat(V,"Id"),"".concat(me,"Id"),Z,G),Ce=d.reduce(function(D,ce){var te="".concat(ce.axisType,"Map");return Pr(Pr({},D),{},La({},te,ZZ(j,Pr(Pr({},ce),{},{graphicalItems:$,stackGroups:ce.axisType===V&&X,dataStartIndex:S,dataEndIndex:w}))))},{}),M=ree(Pr(Pr({},Ce),{},{props:j,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(Ce).forEach(function(D){Ce[D]=u(j,Ce[D],M,D.replace("Map",""),n)});var q=Ce["".concat(me,"Map")],ie=eee(q),J=f(j,Pr(Pr({},Ce),{},{dataStartIndex:S,dataEndIndex:w,updateId:E,graphicalItems:$,stackGroups:X,offset:M}));return Pr(Pr({formattedGraphicalItems:J,graphicalItems:$,offset:M,stackGroups:X},ie),Ce)},g=(function(x){function y(b){var j,S,w;return DZ(this,y),w=LZ(this,y,[b]),La(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),La(w,"accessibilityManager",new bZ),La(w,"handleLegendBBoxUpdate",function(E){if(E){var I=w.state,L=I.dataStartIndex,Z=I.dataEndIndex,ne=I.updateId;w.setState(Pr({legendBBox:E},A({props:w.props,dataStartIndex:L,dataEndIndex:Z,updateId:ne},Pr(Pr({},w.state),{},{legendBBox:E}))))}}),La(w,"handleReceiveSyncEvent",function(E,I,L){if(w.props.syncId===E){if(L===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(I)}}),La(w,"handleBrushChange",function(E){var I=E.startIndex,L=E.endIndex;if(I!==w.state.dataStartIndex||L!==w.state.dataEndIndex){var Z=w.state.updateId;w.setState(function(){return Pr({dataStartIndex:I,dataEndIndex:L},A({props:w.props,dataStartIndex:I,dataEndIndex:L,updateId:Z},w.state))}),w.triggerSyncEvent({dataStartIndex:I,dataEndIndex:L})}}),La(w,"handleMouseEnter",function(E){var I=w.getMouseInfo(E);if(I){var L=Pr(Pr({},I),{},{isTooltipActive:!0});w.setState(L),w.triggerSyncEvent(L);var Z=w.props.onMouseEnter;Xa(Z)&&Z(L,E)}}),La(w,"triggeredAfterMouseMove",function(E){var I=w.getMouseInfo(E),L=I?Pr(Pr({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(L),w.triggerSyncEvent(L);var Z=w.props.onMouseMove;Xa(Z)&&Z(L,E)}),La(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),La(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),La(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),La(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};w.setState(I),w.triggerSyncEvent(I);var L=w.props.onMouseLeave;Xa(L)&&L(I,E)}),La(w,"handleOuterEvent",function(E){var I=bL(E),L=hu(w.props,"".concat(I));if(I&&Xa(L)){var Z,ne;/.*touch.*/i.test(I)?ne=w.getMouseInfo(E.changedTouches[0]):ne=w.getMouseInfo(E),L((Z=ne)!==null&&Z!==void 0?Z:{},E)}}),La(w,"handleClick",function(E){var I=w.getMouseInfo(E);if(I){var L=Pr(Pr({},I),{},{isTooltipActive:!0});w.setState(L),w.triggerSyncEvent(L);var Z=w.props.onClick;Xa(Z)&&Z(L,E)}}),La(w,"handleMouseDown",function(E){var I=w.props.onMouseDown;if(Xa(I)){var L=w.getMouseInfo(E);I(L,E)}}),La(w,"handleMouseUp",function(E){var I=w.props.onMouseUp;if(Xa(I)){var L=w.getMouseInfo(E);I(L,E)}}),La(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),La(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),La(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),La(w,"handleDoubleClick",function(E){var I=w.props.onDoubleClick;if(Xa(I)){var L=w.getMouseInfo(E);I(L,E)}}),La(w,"handleContextMenu",function(E){var I=w.props.onContextMenu;if(Xa(I)){var L=w.getMouseInfo(E);I(L,E)}}),La(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&Mw.emit(Rw,w.props.syncId,E,w.eventEmitterSymbol)}),La(w,"applySyncEvent",function(E){var I=w.props,L=I.layout,Z=I.syncMethod,ne=w.state.updateId,G=E.dataStartIndex,le=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(Pr({dataStartIndex:G,dataEndIndex:le},A({props:w.props,dataStartIndex:G,dataEndIndex:le,updateId:ne},w.state)));else if(E.activeTooltipIndex!==void 0){var V=E.chartX,me=E.chartY,$=E.activeTooltipIndex,X=w.state,Ce=X.offset,M=X.tooltipTicks;if(!Ce)return;if(typeof Z=="function")$=Z(M,E);else if(Z==="value"){$=-1;for(var q=0;q<M.length;q++)if(M[q].value===E.activeLabel){$=q;break}}var ie=Pr(Pr({},Ce),{},{x:Ce.left,y:Ce.top}),J=Math.min(V,ie.x+ie.width),D=Math.min(me,ie.y+ie.height),ce=M[$]&&M[$].value,te=e4(w.state,w.props.data,$),ge=M[$]?{x:L==="horizontal"?M[$].coordinate:J,y:L==="horizontal"?D:M[$].coordinate}:XP;w.setState(Pr(Pr({},E),{},{activeLabel:ce,activeCoordinate:ge,activePayload:te,activeTooltipIndex:$}))}else w.setState(E)}),La(w,"renderCursor",function(E){var I,L=w.state,Z=L.isTooltipActive,ne=L.activeCoordinate,G=L.activePayload,le=L.offset,V=L.activeTooltipIndex,me=L.tooltipAxisBandSize,$=w.getTooltipEventType(),X=(I=E.props.active)!==null&&I!==void 0?I:Z,Ce=w.props.layout,M=E.key||"_recharts-cursor";return Ct.createElement(IZ,{key:M,activeCoordinate:ne,activePayload:G,activeTooltipIndex:V,chartName:n,element:E,isActive:X,layout:Ce,offset:le,tooltipAxisBandSize:me,tooltipEventType:$})}),La(w,"renderPolarAxis",function(E,I,L){var Z=hu(E,"type.axisType"),ne=hu(w.state,"".concat(Z,"Map")),G=E.type.defaultProps,le=G!==void 0?Pr(Pr({},G),E.props):E.props,V=ne&&ne[le["".concat(Z,"Id")]];return C.cloneElement(E,Pr(Pr({},V),{},{className:vs(Z,V.className),key:E.key||"".concat(I,"-").concat(L),ticks:gf(V,!0)}))}),La(w,"renderPolarGrid",function(E){var I=E.props,L=I.radialLines,Z=I.polarAngles,ne=I.polarRadius,G=w.state,le=G.radiusAxisMap,V=G.angleAxisMap,me=iA(le),$=iA(V),X=$.cx,Ce=$.cy,M=$.innerRadius,q=$.outerRadius;return C.cloneElement(E,{polarAngles:Array.isArray(Z)?Z:gf($,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(ne)?ne:gf(me,!0).map(function(ie){return ie.coordinate}),cx:X,cy:Ce,innerRadius:M,outerRadius:q,key:E.key||"polar-grid",radialLines:L})}),La(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,I=w.props,L=I.children,Z=I.width,ne=I.height,G=w.props.margin||{},le=Z-(G.left||0)-(G.right||0),V=_F({children:L,formattedGraphicalItems:E,legendWidth:le,legendContent:l});if(!V)return null;var me=V.item,$=$8(V,TZ);return C.cloneElement(me,Pr(Pr({},$),{},{chartWidth:Z,chartHeight:ne,margin:G,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),La(w,"renderTooltip",function(){var E,I=w.props,L=I.children,Z=I.accessibilityLayer,ne=lu(L,cu);if(!ne)return null;var G=w.state,le=G.isTooltipActive,V=G.activeCoordinate,me=G.activePayload,$=G.activeLabel,X=G.offset,Ce=(E=ne.props.active)!==null&&E!==void 0?E:le;return C.cloneElement(ne,{viewBox:Pr(Pr({},X),{},{x:X.left,y:X.top}),active:Ce,label:$,payload:Ce?me:[],coordinate:V,accessibilityLayer:Z})}),La(w,"renderBrush",function(E){var I=w.props,L=I.margin,Z=I.data,ne=w.state,G=ne.offset,le=ne.dataStartIndex,V=ne.dataEndIndex,me=ne.updateId;return C.cloneElement(E,{key:E.key||"_recharts-brush",onChange:g0(w.handleBrushChange,E.props.onChange),data:Z,x:mn(E.props.x)?E.props.x:G.left,y:mn(E.props.y)?E.props.y:G.top+G.height+G.brushBottom-(L.bottom||0),width:mn(E.props.width)?E.props.width:G.width,startIndex:le,endIndex:V,updateId:"brush-".concat(me)})}),La(w,"renderReferenceElement",function(E,I,L){if(!E)return null;var Z=w,ne=Z.clipPathId,G=w.state,le=G.xAxisMap,V=G.yAxisMap,me=G.offset,$=E.type.defaultProps||{},X=E.props,Ce=X.xAxisId,M=Ce===void 0?$.xAxisId:Ce,q=X.yAxisId,ie=q===void 0?$.yAxisId:q;return C.cloneElement(E,{key:E.key||"".concat(I,"-").concat(L),xAxis:le[M],yAxis:V[ie],viewBox:{x:me.left,y:me.top,width:me.width,height:me.height},clipPathId:ne})}),La(w,"renderActivePoints",function(E){var I=E.item,L=E.activePoint,Z=E.basePoint,ne=E.childIndex,G=E.isRange,le=[],V=I.props.key,me=I.item.type.defaultProps!==void 0?Pr(Pr({},I.item.type.defaultProps),I.item.props):I.item.props,$=me.activeDot,X=me.dataKey,Ce=Pr(Pr({index:ne,dataKey:X,cx:L.x,cy:L.y,r:4,fill:fS(I.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},ka($,!1)),Dv($));return le.push(y.renderActiveDot($,Ce,"".concat(V,"-activePoint-").concat(ne))),Z?le.push(y.renderActiveDot($,Pr(Pr({},Ce),{},{cx:Z.x,cy:Z.y}),"".concat(V,"-basePoint-").concat(ne))):G&&le.push(null),le}),La(w,"renderGraphicChild",function(E,I,L){var Z=w.filterFormatItem(E,I,L);if(!Z)return null;var ne=w.getTooltipEventType(),G=w.state,le=G.isTooltipActive,V=G.tooltipAxis,me=G.activeTooltipIndex,$=G.activeLabel,X=w.props.children,Ce=lu(X,cu),M=Z.props,q=M.points,ie=M.isRange,J=M.baseLine,D=Z.item.type.defaultProps!==void 0?Pr(Pr({},Z.item.type.defaultProps),Z.item.props):Z.item.props,ce=D.activeDot,te=D.hide,ge=D.activeBar,pe=D.activeShape,be=!!(!te&&le&&Ce&&(ce||ge||pe)),re={};ne!=="axis"&&Ce&&Ce.props.trigger==="click"?re={onClick:g0(w.handleItemMouseEnter,E.props.onClick)}:ne!=="axis"&&(re={onMouseLeave:g0(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:g0(w.handleItemMouseEnter,E.props.onMouseEnter)});var de=C.cloneElement(E,Pr(Pr({},Z.props),re));function Y($t){return typeof V.dataKey=="function"?V.dataKey($t.payload):null}if(be)if(me>=0){var Ae,ye;if(V.dataKey&&!V.allowDuplicatedCategory){var Oe=typeof V.dataKey=="function"?Y:"payload.".concat(V.dataKey.toString());Ae=Pv(q,Oe,$),ye=ie&&J&&Pv(J,Oe,$)}else Ae=q==null?void 0:q[me],ye=ie&&J&&J[me];if(pe||ge){var We=E.props.activeIndex!==void 0?E.props.activeIndex:me;return[C.cloneElement(E,Pr(Pr(Pr({},Z.props),re),{},{activeIndex:We})),null,null]}if(!os(Ae))return[de].concat(Em(w.renderActivePoints({item:Z,activePoint:Ae,basePoint:ye,childIndex:me,isRange:ie})))}else{var ae,ke=(ae=w.getItemByXY(w.state.activeCoordinate))!==null&&ae!==void 0?ae:{graphicalItem:de},Fe=ke.graphicalItem,nt=Fe.item,tt=nt===void 0?E:nt,Le=Fe.childIndex,lt=Pr(Pr(Pr({},Z.props),re),{},{activeIndex:Le});return[C.cloneElement(tt,lt),null,null]}return ie?[de,null,null]:[de,null]}),La(w,"renderCustomized",function(E,I,L){return C.cloneElement(E,Pr(Pr({key:"recharts-customized-".concat(L)},w.props),w.state))}),La(w,"renderMap",{CartesianGrid:{handler:b0,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:b0},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:b0},YAxis:{handler:b0},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:Om("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=_O(w.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return QZ(y,x),RZ(y,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,w=j.data,E=j.height,I=j.layout,L=lu(S,cu);if(L){var Z=L.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var ne=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,G=e4(this.state,w,Z,ne),le=this.state.tooltipTicks[Z].coordinate,V=(this.state.offset.top+E)/2,me=I==="horizontal",$=me?{x:le,y:V}:{y:le,x:V},X=this.state.formattedGraphicalItems.find(function(M){var q=M.item;return q.type.name==="Scatter"});X&&($=Pr(Pr({},$),X.props.points[Z].tooltipPosition),G=X.props.points[Z].tooltipPayload);var Ce={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:ne,activePayload:G,activeCoordinate:$};this.setState(Ce),this.renderCursor(L),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(j){DC([lu(j.children,cu)],[lu(this.props.children,cu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=lu(this.props.children,cu);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),E=dH(w),I={chartX:Math.round(j.pageX-E.left),chartY:Math.round(j.pageY-E.top)},L=w.width/S.offsetWidth||1,Z=this.inRange(I.chartX,I.chartY,L);if(!Z)return null;var ne=this.state,G=ne.xAxisMap,le=ne.yAxisMap,V=this.getTooltipEventType();if(V!=="axis"&&G&&le){var me=iA(G).scale,$=iA(le).scale,X=me&&me.invert?me.invert(I.chartX):null,Ce=$&&$.invert?$.invert(I.chartY):null;return Pr(Pr({},I),{},{xValue:X,yValue:Ce})}var M=z8(this.state,this.props.data,this.props.layout,Z);return M?Pr(Pr({},I),M):null}},{key:"inRange",value:function(j,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,I=j/w,L=S/w;if(E==="horizontal"||E==="vertical"){var Z=this.state.offset,ne=I>=Z.left&&I<=Z.left+Z.width&&L>=Z.top&&L<=Z.top+Z.height;return ne?{x:I,y:L}:null}var G=this.state,le=G.angleAxisMap,V=G.radiusAxisMap;if(le&&V){var me=iA(le);return YI({x:I,y:L},me)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),w=lu(j,cu),E={};w&&S==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Dv(this.props,this.handleOuterEvent);return Pr(Pr({},I),E)}},{key:"addListener",value:function(){Mw.on(Rw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mw.removeListener(Rw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,w){for(var E=this.state.formattedGraphicalItems,I=0,L=E.length;I<L;I++){var Z=E[I];if(Z.item===j||Z.props.key===j.key||S===vf(Z.item.type)&&w===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,w=S.left,E=S.top,I=S.height,L=S.width;return Ct.createElement("defs",null,Ct.createElement("clipPath",{id:j},Ct.createElement("rect",{x:w,y:E,height:I,width:L})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,w){var E=W8(w,2),I=E[0],L=E[1];return Pr(Pr({},S),{},La({},I,L.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,w){var E=W8(w,2),I=E[0],L=E[1];return Pr(Pr({},S),{},La({},I,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,w=S.formattedGraphicalItems,E=S.activeItem;if(w&&w.length)for(var I=0,L=w.length;I<L;I++){var Z=w[I],ne=Z.props,G=Z.item,le=G.type.defaultProps!==void 0?Pr(Pr({},G.type.defaultProps),G.props):G.props,V=vf(G.type);if(V==="Bar"){var me=(ne.data||[]).find(function(M){return kK(j,M)});if(me)return{graphicalItem:Z,payload:me}}else if(V==="RadialBar"){var $=(ne.data||[]).find(function(M){return YI(j,M)});if($)return{graphicalItem:Z,payload:$}}else if(v2(Z,E)||x2(Z,E)||D1(Z,E)){var X=eX({graphicalItem:Z,activeTooltipItem:E,itemData:le.data}),Ce=le.activeIndex===void 0?X:le.activeIndex;return{graphicalItem:Pr(Pr({},Z),{},{childIndex:Ce}),payload:D1(Z,E)?le.data[X]:Z.props.data[X]}}}return null}},{key:"render",value:function(){var j=this;if(!lB(this))return null;var S=this.props,w=S.children,E=S.className,I=S.width,L=S.height,Z=S.style,ne=S.compact,G=S.title,le=S.desc,V=$8(S,kZ),me=ka(V,!1);if(ne)return Ct.createElement(C8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ct.createElement(RC,Vp({},me,{width:I,height:L,title:G,desc:le}),this.renderClipPath(),dB(w,this.renderMap)));if(this.props.accessibilityLayer){var $,X;me.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,me.role=(X=this.props.role)!==null&&X!==void 0?X:"application",me.onKeyDown=function(M){j.accessibilityManager.keyboardEvent(M)},me.onFocus=function(){j.accessibilityManager.focus()}}var Ce=this.parseEventsOfWrapper();return Ct.createElement(C8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ct.createElement("div",Vp({className:vs("recharts-wrapper",E),style:Pr({position:"relative",cursor:"default",width:I,height:L},Z)},Ce,{ref:function(q){j.container=q}}),Ct.createElement(RC,Vp({},me,{width:I,height:L,title:G,desc:le,style:KZ}),this.renderClipPath(),dB(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);La(g,"displayName",n),La(g,"defaultProps",Pr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),La(g,"getDerivedStateFromProps",function(x,y){var b=x.dataKey,j=x.data,S=x.children,w=x.width,E=x.height,I=x.layout,L=x.stackOffset,Z=x.margin,ne=y.dataStartIndex,G=y.dataEndIndex;if(y.updateId===void 0){var le=G8(x);return Pr(Pr(Pr({},le),{},{updateId:0},A(Pr(Pr({props:x},le),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:j,prevWidth:w,prevHeight:E,prevLayout:I,prevStackOffset:L,prevMargin:Z,prevChildren:S})}if(b!==y.prevDataKey||j!==y.prevData||w!==y.prevWidth||E!==y.prevHeight||I!==y.prevLayout||L!==y.prevStackOffset||!Zp(Z,y.prevMargin)){var V=G8(x),me={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=Pr(Pr({},z8(y,j,I)),{},{updateId:y.updateId+1}),X=Pr(Pr(Pr({},V),me),$);return Pr(Pr(Pr({},X),A(Pr({props:x},X),y)),{},{prevDataKey:b,prevData:j,prevWidth:w,prevHeight:E,prevLayout:I,prevStackOffset:L,prevMargin:Z,prevChildren:S})}if(!DC(S,y.prevChildren)){var Ce,M,q,ie,J=lu(S,mm),D=J&&(Ce=(M=J.props)===null||M===void 0?void 0:M.startIndex)!==null&&Ce!==void 0?Ce:ne,ce=J&&(q=(ie=J.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&q!==void 0?q:G,te=D!==ne||ce!==G,ge=!os(j),pe=ge&&!te?y.updateId:y.updateId+1;return Pr(Pr({updateId:pe},A(Pr(Pr({props:x},y),{},{updateId:pe,dataStartIndex:D,dataEndIndex:ce}),y)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:ce})}return null}),La(g,"renderActiveDot",function(x,y,b){var j;return C.isValidElement(x)?j=C.cloneElement(x,y):Xa(x)?j=x(y):j=Ct.createElement(f2,y),Ct.createElement(oi,{className:"recharts-active-dot",key:b},j)});var m=C.forwardRef(function(y,b){return Ct.createElement(g,Vp({},y,{ref:b}))});return m.displayName=g.displayName,m},q8=CS({chartName:"LineChart",GraphicalChild:wm,axisComponents:[{axisType:"xAxis",AxisComp:ip},{axisType:"yAxis",AxisComp:op}],formatAxisMap:gP}),aee=CS({chartName:"BarChart",GraphicalChild:xp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ip},{axisType:"yAxis",AxisComp:op}],formatAxisMap:gP}),see=CS({chartName:"PieChart",GraphicalChild:If,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:g2},{axisType:"radiusAxis",AxisComp:p2}],formatAxisMap:QV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const iee=({title:r,type:t,data:n=[],loading:a=!1,xAxis:s,yAxis:i,series:c})=>{const[o,d]=C.useState([]),[l,u]=C.useState([]),h=s||"label",f=i||"value";C.useEffect(()=>{Array.isArray(n)?(d(n),u(n.map((m,x)=>m.label||m[h]||`Item ${x+1}`))):n&&typeof n=="object"&&"labels"in n&&"data"in n?(u(n.labels||[]),d((n.data||[]).map((m,x)=>{var y;return{label:((y=n.labels)==null?void 0:y[x])||`Item ${x+1}`,value:m}}))):(d([]),u([]))},[n,h]);const A=C.useMemo(()=>Array.isArray(c)&&c.length>0?c:[f],[f,c]),g=C.useMemo(()=>["#2563eb","#16a34a","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#64748b"],[]);return a?e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-chart"})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--chart",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:o.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e.jsx("polyline",{points:"5 21 5 10 9 10 9 21"}),e.jsx("polyline",{points:"13 21 13 10 17 10 17 21"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"chart-container",children:e.jsx(nH,{width:"100%",height:"100%",children:t==="line"?e.jsxs(q8,{data:o,children:[e.jsx(Ev,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(_h,{}),A.map(m=>e.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]}):t==="bar"?e.jsxs(aee,{data:o,children:[e.jsx(Ev,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(_h,{}),A.map(m=>e.jsx(xp,{dataKey:m,fill:"#2563eb",radius:[6,6,0,0]},m))]}):t==="pie"||t==="doughnut"?e.jsxs(see,{children:[e.jsx(cu,{}),e.jsx(_h,{}),e.jsx(If,{data:o,dataKey:f,nameKey:h,cx:"50%",cy:"50%",outerRadius:90,innerRadius:t==="doughnut"?55:0,paddingAngle:2,children:o.map((m,x)=>e.jsx(t2,{fill:g[x%g.length]},`cell-${x}`))})]}):e.jsxs(q8,{data:o,children:[e.jsx(Ev,{strokeDasharray:"3 3"}),e.jsx(ip,{dataKey:h}),e.jsx(op,{}),e.jsx(cu,{}),e.jsx(_h,{}),A.map(m=>e.jsx(wm,{type:"monotone",dataKey:m,stroke:"#2563eb",strokeWidth:2,dot:!1},m))]})})})})]})},oee=({title:r,columns:t,data:n,loading:a=!1,maxRows:s=5,onRowClick:i})=>{const c=n.slice(0,s);return a?e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:e.jsx("div",{className:"skeleton-table",children:[...Array(3)].map((o,d)=>e.jsx("div",{className:"skeleton-row",children:t.map((l,u)=>e.jsx("div",{className:"skeleton-cell"},u))},d))})})})]}):e.jsxs("div",{className:"widget-panel widget-panel--table",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),n.length>s&&e.jsxs("span",{className:"widget-panel__badge",children:[n.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:c.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),e.jsx("p",{children:"No data available"})]}):e.jsx("div",{className:"table-widget",children:e.jsxs("table",{className:"table-widget__table",children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(o=>e.jsx("th",{children:o.label},o.key))})}),e.jsx("tbody",{children:c.map((o,d)=>e.jsx("tr",{onClick:()=>i==null?void 0:i(o),className:i?"table-widget__row--clickable":"",children:t.map(l=>e.jsx("td",{children:l.render?l.render(o[l.key],o):o[l.key]||"-"},l.key))},d))})]})})})]})},lee=({title:r,tasks:t,loading:n=!1,maxItems:a=5,onTaskClick:s})=>{const i=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((o,d)=>e.jsx("div",{className:"skeleton-task-item"},d))})})]});const c=o=>{switch(o){case"completed":return"#10b981";case"in-progress":return"#3b82f6";case"overdue":return"#ef4444";default:return"#f59e0b"}};return e.jsxs("div",{className:"widget-panel widget-panel--task-list",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:i.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"})]}),e.jsx("p",{children:"No tasks available"})]}):e.jsx("ul",{className:"task-list",children:i.map(o=>e.jsxs("li",{className:`task-item ${s?"task-item--clickable":""}`,onClick:()=>s==null?void 0:s(o),children:[e.jsxs("div",{className:"task-item__header",children:[e.jsx("h4",{className:"task-item__title",children:o.title}),e.jsx("span",{className:"task-item__status",style:{backgroundColor:c(o.status)},children:o.status})]}),o.description&&e.jsx("p",{className:"task-item__description",children:o.description}),o.dueDate&&e.jsx("div",{className:"task-item__meta",children:e.jsxs("span",{className:"task-item__due-date",children:["Due: ",o.dueDate]})})]},o.id))})})]})},cee=({title:r,items:t,loading:n=!1,maxItems:a=5,onApprove:s,onReject:i,onView:c,canApprove:o=!1,canReject:d=!1})=>{const l=t.slice(0,a);return n?e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(3)].map((u,h)=>e.jsx("div",{className:"skeleton-approval-item"},h))})})]}):e.jsxs("div",{className:"widget-panel widget-panel--approval-queue",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," pending"]})]}),e.jsx("div",{className:"widget-panel__body",children:l.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No pending approvals"})]}):e.jsx("ul",{className:"approval-queue",children:l.map(u=>e.jsxs("li",{className:"approval-item",children:[e.jsxs("div",{className:"approval-item__header",children:[e.jsxs("div",{className:"approval-item__info",children:[e.jsx("h4",{className:"approval-item__title",children:u.title}),u.description&&e.jsx("p",{className:"approval-item__description",children:u.description})]}),u.amount&&e.jsxs("div",{className:"approval-item__amount",children:["",u.amount.toLocaleString()]})]}),e.jsxs("div",{className:"approval-item__meta",children:[e.jsxs("span",{className:"approval-item__submitted",children:["By ",u.submittedBy,"  ",u.submittedOn]}),u.priority&&e.jsx("span",{className:`approval-item__priority approval-item__priority--${u.priority}`,children:u.priority})]}),e.jsxs("div",{className:"approval-item__actions",children:[c&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--view",onClick:()=>c(u),children:"View"}),d&&i&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--reject",onClick:()=>i(u),children:"Reject"}),o&&s&&e.jsx("button",{className:"approval-item__action-btn approval-item__action-btn--approve",onClick:()=>s(u),children:"Approve"})]})]},u.id))})})]})},dee=({title:r,alerts:t,loading:n=!1,maxItems:a=5})=>{const s=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(2)].map((c,o)=>e.jsx("div",{className:"skeleton-alert-item"},o))})})]});const i=c=>{switch(c){case"error":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});case"warning":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"success":return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});default:return e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--alert",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:s.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"No alerts"})]}):e.jsx("ul",{className:"alert-list",children:s.map(c=>e.jsxs("li",{className:`alert-item alert-item--${c.type}`,children:[e.jsx("div",{className:"alert-item__icon",children:i(c.type)}),e.jsxs("div",{className:"alert-item__content",children:[e.jsx("h4",{className:"alert-item__title",children:c.title}),e.jsx("p",{className:"alert-item__message",children:c.message}),c.timestamp&&e.jsx("span",{className:"alert-item__timestamp",children:c.timestamp})]}),c.actionLabel&&c.onAction&&e.jsx("button",{className:"alert-item__action",onClick:c.onAction,children:c.actionLabel})]},c.id))})})]})},uee=({title:r,activities:t,loading:n=!1,maxItems:a=10,onItemClick:s})=>{const i=t.slice(0,a);if(n)return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsx("div",{className:"widget-panel__header",children:e.jsx("h3",{className:"widget-panel__title",children:r})}),e.jsx("div",{className:"widget-panel__body",children:e.jsx("div",{className:"widget-panel__skeleton",children:[...Array(5)].map((o,d)=>e.jsx("div",{className:"skeleton-activity-item"},d))})})]});const c=o=>{switch(o){case"success":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"warning":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"error":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});default:return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}};return e.jsxs("div",{className:"widget-panel widget-panel--activity-timeline",children:[e.jsxs("div",{className:"widget-panel__header",children:[e.jsx("h3",{className:"widget-panel__title",children:r}),t.length>a&&e.jsxs("span",{className:"widget-panel__badge",children:[t.length," total"]})]}),e.jsx("div",{className:"widget-panel__body",children:i.length===0?e.jsxs("div",{className:"widget-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("ul",{className:"activity-timeline",children:i.map((o,d)=>e.jsxs("li",{className:`activity-item activity-item--${o.type||"info"} ${s?"activity-item--clickable":""}`,onClick:()=>s==null?void 0:s(o),children:[e.jsx("div",{className:"activity-item__line",children:d<i.length-1&&e.jsx("div",{className:"activity-item__line-connector"})}),e.jsx("div",{className:"activity-item__icon",children:o.icon||c(o.type)}),e.jsxs("div",{className:"activity-item__content",children:[e.jsxs("div",{className:"activity-item__header",children:[e.jsx("span",{className:"activity-item__user",children:o.user}),e.jsx("span",{className:"activity-item__timestamp",children:o.timestamp})]}),e.jsx("div",{className:"activity-item__action",children:o.action}),o.description&&e.jsx("div",{className:"activity-item__description",children:o.description})]})]},o.id))})})]})},hee={transaction:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW","ROUTE_ASSIGNMENT_VIEW","ROUTE_ASSIGNMENT.VIEW","BARCODE_LABEL_VIEW","BARCODE_LABEL.VIEW","WASTE_COLLECTION_VIEW","WASTE_COLLECTION.VIEW","WASTE_TRANSACTION_VIEW","WASTE_TRANSACTION.VIEW","VEHICLE_WASTE_COLLECTION_VIEW","VEHICLE_WASTE_COLLECTION.VIEW","WASTE_PROCESS_VIEW","WASTE_PROCESS.VIEW"],finance:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW","INVOICE_VIEW","INVOICE.VIEW"],commercial:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW","CONTRACT_VIEW","CONTRACT.VIEW","AGREEMENT_VIEW","AGREEMENT.VIEW","AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE.VIEW"],compliance:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW","TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE.VIEW"],master:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW","COMPANY_VIEW","COMPANY.VIEW","STATE_VIEW","STATE.VIEW","AREA_VIEW","AREA.VIEW","CATEGORY_VIEW","CATEGORY.VIEW","COLOR_VIEW","COLOR.VIEW","PCB_ZONE_VIEW","PCB_ZONE.VIEW","FREQUENCY_VIEW","FREQUENCY.VIEW","HCF_TYPE_VIEW","HCF_TYPE.VIEW","HCF_VIEW","HCF.VIEW","ROUTE_VIEW","ROUTE.VIEW","FLEET_VIEW","FLEET.VIEW","ROUTE_HCF_VIEW","ROUTE_HCF.VIEW","USER_VIEW","USER.VIEW","ROLE_VIEW","ROLE.VIEW"],report:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"]};function Qn(r,t){const n=Array.isArray(r)?r:[];return n.includes("*")||t==="dashboard"?!0:(hee[t]||[]).some(s=>bc(n,s))}const Uw=({widget:r,index:t,isSelected:n=!1,children:a,className:s="",disableGridSizing:i=!1,onSelect:c,onRemove:o,onDuplicate:d,onUpdateSize:l})=>{const u=r.span||Math.min(12,Math.max(1,(r.gridColumn||1)*3)),h=String((r==null?void 0:r.type)||"").toLowerCase().trim();return e.jsxs("div",{className:`card-wrapper draggable-widget ${s} ${n?"draggable-widget--selected":""}`.trim(),"data-widget-type":h,"data-widget-span":u,style:i?void 0:{"--span":u},onClick:c,children:[e.jsx("div",{className:"draggable-widget__content",children:a}),n&&e.jsx("div",{className:"draggable-widget__overlay",children:e.jsxs("div",{className:"draggable-widget__actions",children:[d&&e.jsx("button",{className:"draggable-widget__action-btn",onClick:f=>{f.stopPropagation(),d()},title:"Duplicate",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),o&&e.jsx("button",{className:"draggable-widget__action-btn draggable-widget__action-btn--danger",onClick:f=>{f.stopPropagation(),o()},title:"Remove",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]})},X8=({children:r,className:t=""})=>{const n=C.useMemo(()=>Array.isArray(r)?r.filter(a=>a!=null).length:r?1:0,[r]);return e.jsx("section",{className:`dashboard-row section-row row-section dashboard-grid ${t}`.trim(),"data-widget-count":n,children:r})},fee="http://localhost:3000/api/v1";var Qg=(r=>(r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.CRITICAL="CRITICAL",r))(Qg||{});const Aee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},w0=async(r,t={})=>{const n=Aee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${fee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message&&(i=Array.isArray(c.message)?c.message.join(", "):c.message)}catch{}throw new Error(i)}return s.status===204?{}:s.json()},C0={getMyNotifications:async()=>w0("/notifications/my"),getUnreadCount:async()=>(await w0("/notifications/unread-count")).count,markAsRead:async r=>{await w0(`/notifications/read/${r}`,{method:"POST"})},markAllAsRead:async()=>{await w0("/notifications/read-all",{method:"POST"})}},pee=()=>{const[r,t]=C.useState([]),[n,a]=C.useState(0),[s,i]=C.useState(!1),[c,o]=C.useState(!1),d=C.useRef(null),l=Ma(),u=async()=>{try{o(!0);const[y,b]=await Promise.all([C0.getMyNotifications(),C0.getUnreadCount()]);t(y),a(b)}catch(y){console.error("Failed to load notifications:",y)}finally{o(!1)}};C.useEffect(()=>{u();const y=setInterval(u,3e4);return()=>clearInterval(y)},[]),C.useEffect(()=>{const y=b=>{d.current&&!d.current.contains(b.target)&&i(!1)};if(s)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[s]);const h=async y=>{const b=y.receivers.find(j=>!j.isRead&&(j.userId||j.roleId));if(b)try{await C0.markAsRead(b.id),await u()}catch(j){console.error("Failed to mark notification as read:",j)}if(y.referenceId){const S={invoice:"/finance",downtime:"/transaction",compliance:"/compliance-training",training:"/compliance-training"}[y.module]||"/dashboard";l(S)}i(!1)},f=async()=>{await C0.markAllAsRead(),await u()},A=y=>{switch(y){case Qg.LOW:return"#94a3b8";case Qg.MEDIUM:return"#3b82f6";case Qg.HIGH:return"#f59e0b";case Qg.CRITICAL:return"#ef4444";default:return"#94a3b8"}},g=y=>{const b=new Date(y),S=new Date().getTime()-b.getTime(),w=Math.floor(S/6e4),E=Math.floor(S/36e5),I=Math.floor(S/864e5);return w<1?"Just now":w<60?`${w}m ago`:E<24?`${E}h ago`:I<7?`${I}d ago`:b.toLocaleDateString()},x=(y=>{const b=new Date,j=new Date(b.getFullYear(),b.getMonth(),b.getDate()),S=new Date(j);S.setDate(S.getDate()-1);const w=[{label:"Today",notifications:[]},{label:"Yesterday",notifications:[]},{label:"Earlier",notifications:[]}];return y.forEach(E=>{const I=new Date(E.createdAt);I>=j?w[0].notifications.push(E):I>=S?w[1].notifications.push(E):w[2].notifications.push(E)}),w.filter(E=>E.notifications.length>0)})(r);return e.jsxs("div",{className:"notification-bell-container",ref:d,children:[e.jsxs("button",{className:"notification-bell-btn",onClick:()=>i(!s),"aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),n>0&&e.jsx("span",{className:"notification-badge",children:n>99?"99+":n})]}),s&&e.jsxs("div",{className:"notification-panel",children:[e.jsxs("div",{className:"notification-panel-header",children:[e.jsx("h3",{children:"Notifications"}),n>0&&e.jsx("button",{className:"notification-mark-all-btn",onClick:f,children:"Mark all as read"})]}),e.jsx("div",{className:"notification-panel-body",children:c?e.jsx("div",{className:"notification-loading",children:"Loading..."}):r.length===0?e.jsx("div",{className:"notification-empty",children:"No notifications"}):x.map(y=>e.jsxs("div",{className:"notification-group",children:[e.jsx("div",{className:"notification-group-label",children:y.label}),y.notifications.map(b=>{const j=b.receivers[0],S=j&&!j.isRead;return e.jsx("div",{className:`notification-item ${S?"notification-item--unread":""}`,onClick:()=>h(b),children:e.jsxs("div",{className:"notification-item-content",children:[e.jsxs("div",{className:"notification-item-header",children:[e.jsx("span",{className:"notification-priority-dot",style:{backgroundColor:A(j.priority)}}),e.jsx("span",{className:"notification-title",children:b.title})]}),e.jsx("p",{className:"notification-message",children:b.message}),e.jsx("span",{className:"notification-time",children:g(b.createdAt)})]})},b.id)})]},y.label))})]})]})},xa=({title:r,subtitle:t})=>{const{user:n}=Wn(),a=(n==null?void 0:n.name)||(n==null?void 0:n.username)||"User",i=(c=>{const o=c.trim().split(/\s+/);return o.length>=2?(o[0][0]+o[o.length-1][0]).toUpperCase():c.substring(0,2).toUpperCase()})(a);return e.jsxs("header",{className:"dashboard-header page-header top-header app-header",children:[e.jsx("div",{className:"app-header-left",children:e.jsxs("div",{className:"app-title-group",children:[e.jsx("h1",{className:"app-page-title",children:r}),t&&e.jsx("span",{className:"app-page-subtitle",children:t})]})}),e.jsxs("div",{className:"app-header-actions",children:[e.jsx("div",{className:"app-notification-btn",children:e.jsx(pee,{})}),e.jsxs("div",{className:"app-user-profile",children:[e.jsx("div",{className:"app-avatar","aria-hidden":"true",children:i}),e.jsxs("div",{className:"app-user-text",children:[e.jsx("div",{className:"app-name",children:a}),e.jsx("div",{className:"app-status",children:"Online"})]})]})]})]})},Hw=({widget:r,permissions:t,isPreviewMode:n})=>{var h,f,A,g,m,x,y,b,j,S,w,E,I,L;const[a,s]=C.useState(null),[i,c]=C.useState(!0),[o,d]=C.useState(null);if(!r||typeof r!="object"||Array.isArray(r))return console.error("[WidgetRenderer] Invalid widget passed:",r),null;if(!r.id||!r.type)return console.error("[WidgetRenderer] Widget missing required properties (id or type):",r),null;const l=C.useMemo(()=>{var Z;return(Z=r.permissions)!=null&&Z.view?t[r.permissions.view]===!0:!0},[r.permissions,t]);if(C.useEffect(()=>{var G,le,V,me;if(!r||!r.id||!r.type){console.error("[WidgetRenderer] Widget validation failed in useEffect:",r),c(!1);return}if(console.log(`[WidgetRenderer] Widget ${r.id} check:`,{hasDataSource:!!r.dataSource,hasEndpoint:!!((G=r.dataSource)!=null&&G.endpoint),endpoint:(le=r.dataSource)==null?void 0:le.endpoint,canView:l,permissions:r.permissions,widgetType:r.type}),!((V=r.dataSource)!=null&&V.endpoint)){console.warn(`[WidgetRenderer] Widget ${r.id} has no dataSource.endpoint, skipping API call`,{widgetId:r.id,widgetTitle:r.title,widgetType:r.type,dataSource:r.dataSource,fullWidget:r}),c(!1);return}if(!l){console.warn(`[WidgetRenderer] Widget ${r.id} cannot be viewed (permission check failed)`,{widgetId:r.id,widgetTitle:r.title,requiredPermission:(me=r.permissions)==null?void 0:me.view,permissions:t}),c(!1);return}const Z=async()=>{var $;try{c(!0),d(null),console.log("[WidgetRenderer] Loading data for widget:",{id:r.id,type:r.type,endpoint:($=r.dataSource)==null?void 0:$.endpoint,fullWidget:r});const X=await bR(r);console.log(`[WidgetRenderer] Data loaded for widget ${r.id}:`,{data:X,hasValue:(X==null?void 0:X.value)!==void 0,value:X==null?void 0:X.value,fullData:X}),X==null?(console.warn(`[WidgetRenderer] Widget ${r.id} returned null/undefined data`),s({value:0})):s(X)}catch(X){console.error(`[WidgetRenderer] Failed to load data for widget ${r.id}:`,X),console.error("[WidgetRenderer] Error type:",typeof X),console.error("[WidgetRenderer] Error message:",X==null?void 0:X.message),console.error("[WidgetRenderer] Error stack:",X==null?void 0:X.stack),console.error("[WidgetRenderer] Widget config:",r),d("Failed to load data"),s({value:0})}finally{c(!1)}};Z();let ne=null;return r.dataSource.refreshInterval&&r.dataSource.refreshInterval>0&&(ne=setInterval(Z,r.dataSource.refreshInterval*1e3)),()=>{ne&&clearInterval(ne)}},[r,l]),!l)return null;const u=((h=r.type)==null?void 0:h.toLowerCase().trim())||"metric";switch(u){case"metric":case"kpi":return e.jsx(wR,{title:r.title,value:(a==null?void 0:a.value)||0,unit:a==null?void 0:a.unit,label:a==null?void 0:a.label,trend:a==null?void 0:a.trend,loading:i});case"chart":return e.jsx(iee,{title:r.title,type:((f=r.chartConfig)==null?void 0:f.type)||"line",data:(a==null?void 0:a.data)||a||[],loading:i,xAxis:(A=r.chartConfig)==null?void 0:A.xAxis,yAxis:(g=r.chartConfig)==null?void 0:g.yAxis,series:(m=r.chartConfig)==null?void 0:m.series});case"table":return e.jsx(oee,{title:r.title,columns:(a==null?void 0:a.columns)||[],data:(a==null?void 0:a.data)||[],loading:i,maxRows:((x=r.props)==null?void 0:x.maxRows)||5,onRowClick:n||a==null?void 0:a.onRowClick});case"task-list":case"list":return e.jsx(lee,{title:r.title,tasks:(a==null?void 0:a.tasks)||[],loading:i,maxItems:((y=r.props)==null?void 0:y.maxItems)||5,onTaskClick:n||a==null?void 0:a.onTaskClick});case"approval-queue":return e.jsx(cee,{title:r.title,items:(a==null?void 0:a.items)||[],loading:i,maxItems:((b=r.props)==null?void 0:b.maxItems)||5,onApprove:n||a==null?void 0:a.onApprove,onReject:n||a==null?void 0:a.onReject,onView:n||a==null?void 0:a.onView,canApprove:t[((S=(j=r.permissions)==null?void 0:j.actions)==null?void 0:S.approve)||""]||!1,canReject:t[((E=(w=r.permissions)==null?void 0:w.actions)==null?void 0:E.approve)||""]||!1});case"activity-timeline":return e.jsx(uee,{title:r.title,activities:(a==null?void 0:a.activities)||[],loading:i,maxItems:((I=r.props)==null?void 0:I.maxItems)||10,onItemClick:n||a==null?void 0:a.onItemClick});case"alert":return e.jsx(dee,{title:r.title,alerts:(a==null?void 0:a.alerts)||[],loading:i,maxItems:((L=r.props)==null?void 0:L.maxItems)||5});default:return console.warn(`[WidgetRenderer] Unknown widget type: "${r.type}" (normalized: "${u}")`,r),e.jsxs("div",{className:"dashboard-widget-error",children:[e.jsxs("p",{children:["Unknown widget type: ",r.type||"undefined"]}),e.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:["Widget ID: ",r.id||"N/A"]})]})}},mee=()=>{var Z;const{user:r,permissions:t,logout:n}=Wn(),a=un(),[s]=x4(),[i,c]=C.useState([]),[o,d]=C.useState({}),[l,u]=C.useState(!0),[h,f]=C.useState(!1),[A,g]=C.useState({enabled:!1,role:null});C.useEffect(()=>{const ne=s.get("preview")==="true",G=sessionStorage.getItem("dashboard-preview-config"),le=sessionStorage.getItem("dashboard-preview-role");if(ne&&G&&le)try{const V=JSON.parse(G);g({enabled:!0,role:le}),c(V.widgets||[]),d(V.permissions||{}),u(!1)}catch(V){console.error("Failed to load preview config:",V)}},[s]);const m=A.enabled&&A.role?A.role:((Z=r==null?void 0:r.roles)==null?void 0:Z[0])||"viewer",x=A.enabled,y=t.includes("*"),b=()=>{f(!h)},j=()=>{g({enabled:!1,role:null})},w=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...y?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}]:[]].filter(ne=>ne.path==="/dashboard"?!0:ne.path==="/transaction"?Qn(t,"transaction"):ne.path==="/finance"?Qn(t,"finance"):ne.path==="/commercial-agreements"?Qn(t,"commercial"):ne.path==="/compliance-training"?Qn(t,"compliance"):ne.path==="/master"?Qn(t,"master"):ne.path==="/report"?Qn(t,"report"):!0);C.useEffect(()=>{if(A.enabled)return;(async()=>{u(!0);try{console.log("[DashboardPage] Loading dashboard for role:",m);const G=await YA.getDashboardConfig(m);console.log("[DashboardPage] Loaded role config:",{role:G.role,widgetsCount:Array.isArray(G.widgets)?G.widgets.length:0,widgets:G.widgets});const le=r!=null&&r.id?await YA.getUserOverrides(r.id):null,V=YA.computePermissions(G,le);console.log("[DashboardPage] Computed widgets:",{widgetsCount:Array.isArray(V.widgets)?V.widgets.length:0,widgets:V.widgets});let me=[];Array.isArray(V.widgets)?V.widgets.forEach(X=>{Array.isArray(X)?X.forEach(Ce=>{Ce&&typeof Ce=="object"&&!Array.isArray(Ce)&&me.push(Ce)}):X&&typeof X=="object"&&!Array.isArray(X)&&me.push(X)}):V.widgets&&typeof V.widgets=="object"&&!Array.isArray(V.widgets)&&(me=[V.widgets]),console.log("[DashboardPage] Processed widgets:",{originalCount:Array.isArray(V.widgets)?V.widgets.length:0,processedCount:me.length,widgets:me});const $=me.filter(X=>!X||typeof X!="object"||Array.isArray(X)?(console.warn("[DashboardPage] Filtering out invalid widget entry (not an object):",X),!1):!0).map((X,Ce)=>{var J,D,ce,te,ge,pe;if(X.id||(X.id=`widget-${Date.now()}-${Ce}-${Math.random()}`),X.dataSource||(X.dataSource={}),!X.dataSource.endpoint){const be=X.id.toLowerCase(),re=(X.title||"").toLowerCase(),de=`${be} ${re}`;let Y=null;if(be.includes("total-invoices")||be.includes("totalinvoices")||be.startsWith("metric-total-invoices")?Y="/dashboard/kpi/total-invoices":be.includes("pending-invoices")||be.includes("pendinginvoices")||be.startsWith("metric-pending-invoices")?Y="/dashboard/kpi/pending-invoices":be.includes("total-revenue")||be.includes("totalrevenue")||be.startsWith("metric-total-revenue")?Y="/dashboard/kpi/total-revenue":be.includes("pending-payments")||be.includes("pendingpayments")||be.startsWith("metric-pending-payments")?Y="/dashboard/kpi/pending-payments":be.includes("receipts-today")||be.includes("receiptstoday")?Y="/dashboard/kpi/receipts-today":be.includes("active-users")||be.includes("activeusers")?Y="/dashboard/kpi/active-users":be.includes("errors-today")||be.includes("errorstoday")?Y="/dashboard/kpi/errors-today":be.includes("monthly-revenue")||be.includes("monthlyrevenue")||be.startsWith("chart-monthly-revenue")?Y="/dashboard/chart/monthly-revenue":be.includes("payment-status")||be.includes("paymentstatus")?Y="/dashboard/chart/payment-status":be.includes("invoice-aging")||be.includes("invoiceaging")?Y="/dashboard/chart/invoice-aging":be.includes("recent-invoices")||be.includes("recentinvoices")||be.startsWith("table-recent-invoices")?Y="/dashboard/table/recent-invoices":be.includes("recent-payments")||be.includes("recentpayments")?Y="/dashboard/table/recent-payments":be.includes("pending-receipts")||be.includes("pendingreceipts")?Y="/dashboard/table/pending-receipts":be.includes("pending-approvals")||be.includes("pendingapprovals")||be.includes("approval-queue")||be.startsWith("approval-queue")?Y="/dashboard/tasks/pending-approvals":be.includes("assigned-tasks")||be.includes("assignedtasks")?Y="/dashboard/tasks/assigned":be.includes("payment-overdue")||be.includes("paymentoverdue")?Y="/dashboard/alerts/payment-overdue":(be.includes("compliance-expiry")||be.includes("complianceexpiry"))&&(Y="/dashboard/alerts/compliance-expiry"),Y||(de.includes("total invoices")||de.includes("totalinvoices")?Y="/dashboard/kpi/total-invoices":de.includes("pending invoices")||de.includes("pendinginvoices")?Y="/dashboard/kpi/pending-invoices":de.includes("total revenue")||de.includes("totalrevenue")?Y="/dashboard/kpi/total-revenue":de.includes("pending payments")||de.includes("pendingpayments")?Y="/dashboard/kpi/pending-payments":de.includes("receipts today")||de.includes("receiptstoday")?Y="/dashboard/kpi/receipts-today":de.includes("active users")||de.includes("activeusers")?Y="/dashboard/kpi/active-users":de.includes("errors today")||de.includes("errorstoday")?Y="/dashboard/kpi/errors-today":de.includes("monthly revenue")||de.includes("monthlyrevenue")?Y="/dashboard/chart/monthly-revenue":de.includes("payment status")||de.includes("paymentstatus")?Y="/dashboard/chart/payment-status":de.includes("invoice aging")||de.includes("invoiceaging")?Y="/dashboard/chart/invoice-aging":de.includes("recent invoices")||de.includes("recentinvoices")?Y="/dashboard/table/recent-invoices":de.includes("recent payments")||de.includes("recentpayments")?Y="/dashboard/table/recent-payments":de.includes("pending receipts")||de.includes("pendingreceipts")?Y="/dashboard/table/pending-receipts":de.includes("pending approvals")||de.includes("pendingapprovals")||de.includes("approval queue")?Y="/dashboard/tasks/pending-approvals":de.includes("assigned tasks")||de.includes("assignedtasks")?Y="/dashboard/tasks/assigned":de.includes("payment overdue")||de.includes("paymentoverdue")?Y="/dashboard/alerts/payment-overdue":(de.includes("compliance expiry")||de.includes("complianceexpiry"))&&(Y="/dashboard/alerts/compliance-expiry")),Y)console.log(`[DashboardPage] Widget ${X.id} endpoint inferred from ID/title:`,{widgetId:X.id,widgetTitle:X.title,inferredEndpoint:Y});else{const Ae=["/dashboard/kpi/total-invoices","/dashboard/kpi/pending-invoices","/dashboard/kpi/total-revenue","/dashboard/kpi/pending-payments","/dashboard/kpi/receipts-today","/dashboard/kpi/active-users","/dashboard/kpi/errors-today","/dashboard/chart/monthly-revenue"];X.type==="metric"||X.type==="kpi"?Y=Ae[Ce%Ae.length]||"/dashboard/kpi/total-invoices":X.type==="chart"?Y="/dashboard/chart/monthly-revenue":X.type==="table"?Y="/dashboard/table/recent-invoices":X.type==="task-list"||X.type==="approval-queue"?Y="/dashboard/tasks/pending-approvals":X.type==="alert"?Y="/dashboard/alerts/payment-overdue":Y=Ae[Ce%Ae.length]||"/dashboard/kpi/total-invoices",console.log(`[DashboardPage] Widget ${X.id} missing endpoint, using index-based assignment:`,{widgetId:X.id,widgetTitle:X.title,widgetType:X.type,widgetIndex:Ce,assignedEndpoint:Y})}X.dataSource.endpoint=Y}if(!X.title){const be=((J=X.dataSource)==null?void 0:J.endpoint)||"";be.includes("total-invoices")?X.title="Total Invoices":be.includes("pending-invoices")?X.title="Pending Invoices":be.includes("total-revenue")?X.title="Total Revenue":be.includes("pending-payments")?X.title="Pending Payments":be.includes("receipts-today")?X.title="Receipts Today":be.includes("active-users")?X.title="Active Users":be.includes("errors-today")?X.title="Errors Today":be.includes("monthly-revenue")?X.title="Monthly Revenue":be.includes("payment-status")?X.title="Payment Status":be.includes("invoice-aging")?X.title="Invoice Aging":be.includes("recent-invoices")?X.title="Recent Invoices":be.includes("recent-payments")?X.title="Recent Payments":be.includes("pending-receipts")?X.title="Pending Receipts":be.includes("pending-approvals")?X.title="Pending Approvals":be.includes("assigned-tasks")?X.title="Assigned Tasks":be.includes("payment-overdue")?X.title="Payment Overdue":be.includes("compliance-expiry")?X.title="Compliance Expiry":X.title=`Widget ${Ce+1}`,console.log(`[DashboardPage] Widget ${X.id} missing title, inferred from endpoint:`,{widgetId:X.id,inferredTitle:X.title,endpoint:(D=X.dataSource)==null?void 0:D.endpoint})}if(!X.type){const be=((ce=X.dataSource)==null?void 0:ce.endpoint)||"";be.includes("/kpi/")||be.includes("/dashboard/kpi/")?X.type="metric":be.includes("/chart/")||be.includes("/dashboard/chart/")?X.type="chart":be.includes("/table/")||be.includes("/dashboard/table/")?X.type="table":be.includes("/tasks/")||be.includes("/approval")||be.includes("/dashboard/tasks/")?X.type="task-list":be.includes("/alerts/")||be.includes("/dashboard/alerts/")?X.type="alert":be.includes("/activity")||be.includes("/timeline")?X.type="activity-timeline":(X.id&&!X.id.startsWith("widget-")&&console.warn("[DashboardPage] Widget missing type and cannot infer from endpoint:",{id:X.id,title:X.title,endpoint:be||"none"}),X.type="metric")}const M=X.type.toLowerCase().trim(),ie={kpi:"metric",metric:"metric",chart:"chart",table:"table","task-list":"task-list",tasklist:"task-list",tasks:"task-list","approval-queue":"approval-queue",approvalqueue:"approval-queue",approvals:"approval-queue",alert:"alert",alerts:"alert","activity-timeline":"activity-timeline",activitytimeline:"activity-timeline",timeline:"activity-timeline",custom:"custom"}[M];return ie?X.type=ie:["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(M)||(console.warn(`[DashboardPage] Unknown widget type "${X.type}", defaulting to "metric"`,X),X.type="metric"),(!X.gridColumn||X.gridColumn<1)&&(X.gridColumn=1),X.gridColumn>4&&(X.gridColumn=4),(te=X.dataSource)!=null&&te.endpoint||(console.error(`[DashboardPage] Widget ${X.id} still missing endpoint after validation!`,X),X.dataSource=X.dataSource||{},X.dataSource.endpoint="/dashboard/kpi/total-invoices"),console.log("[DashboardPage] Validated widget:",{id:X.id,title:X.title,type:X.type,endpoint:(ge=X.dataSource)==null?void 0:ge.endpoint,hasEndpoint:!!((pe=X.dataSource)!=null&&pe.endpoint)}),X}).filter(X=>!X||typeof X!="object"||Array.isArray(X)?(console.warn("[DashboardPage] Filtering out invalid widget (not an object):",X),!1):!X.id||!X.type?(console.warn("[DashboardPage] Filtering out invalid widget (missing id or type):",X),!1):["metric","chart","table","task-list","approval-queue","alert","activity-timeline","custom"].includes(X.type)?!X.dataSource||!X.dataSource.endpoint?(console.warn("[DashboardPage] Filtering out invalid widget (missing dataSource.endpoint):",X),!1):!0:(console.warn("[DashboardPage] Filtering out invalid widget (invalid type):",X),!1));console.log("[DashboardPage] Final validated widgets:",{count:$.length,widgets:$}),c($),d(V.permissions)}catch(G){console.error("[DashboardPage] Failed to load dashboard:",G),c([]),d({})}finally{u(!1)}})()},[m,r==null?void 0:r.id,A.enabled,a.pathname]);const E=ne=>String((ne==null?void 0:ne.type)||"").toLowerCase().trim(),I=C.useMemo(()=>{const ne=[],G=[],le=[];return i.forEach(V=>{var X;const me=E(V),$={...V};$.span||(me==="metric"||me==="kpi"?$.span=4:me==="chart"?String((V==null?void 0:V.size)||((X=V==null?void 0:V.props)==null?void 0:X.size)||"").toLowerCase().trim()==="xl"||(V.gridColumn||1)>=4||(V.gridRow||1)>=3?$.span=12:$.span=3:$.span=4),me==="metric"||me==="kpi"?ne.push($):me==="chart"?le.push($):G.push($)}),{kpiWidgets:ne,middleInfo:G,bottomAnalytics:le}},[i]),L=ne=>{var me,$;const G=["dashboard-card"];return E(ne)==="chart"&&(G.push("chart-container"),(String((ne==null?void 0:ne.size)||((me=ne==null?void 0:ne.props)==null?void 0:me.size)||"").toLowerCase().trim()==="xl"||(ne.gridColumn||1)>=4||(ne.gridRow||1)>=3)&&G.push("large-chart")),String((ne==null?void 0:ne.size)||(($=ne==null?void 0:ne.props)==null?void 0:$.size)||"").toLowerCase().trim()==="xl"&&G.push("full-width"),G.join(" ")};return e.jsx("div",{className:"dashboard-page",children:e.jsxs("div",{className:"app-layout",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${h?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!h&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:b,"aria-label":h?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:h?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:w.map(ne=>e.jsx("li",{children:e.jsxs(Rr,{to:ne.path,className:`nav-link ${ne.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ne.icon}),!h&&e.jsx("span",{className:"nav-label",children:ne.label})]})},ne.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),!h&&e.jsx("span",{children:"Notifications"}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!h&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:n,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!h&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main main-container",children:[e.jsx(xa,{title:"Analytics Dashboard",subtitle:"Real-time insights and performance metrics"}),e.jsxs("div",{className:"dashboard-page-content page-body",children:[x&&e.jsxs("div",{className:"dashboard-preview-selector",style:{background:"#fef3c7",border:"1px solid #fbbf24",padding:"12px 16px",borderRadius:"6px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsxs("span",{style:{fontWeight:"600",color:"#92400e"},children:["Preview Mode: ",A.role?A.role.charAt(0).toUpperCase()+A.role.slice(1):"Unknown"]})]}),e.jsx("button",{onClick:j,style:{padding:"6px 16px",background:"#fbbf24",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#78350f"},children:"Exit Preview"})]}),l&&e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"dashboard-loading-spinner"}),e.jsx("p",{children:"Loading dashboard..."})]}),!l&&e.jsx("div",{className:"dashboard-canvas",children:i.length===0?e.jsxs("div",{className:"dashboard-empty-state-modern",children:[e.jsx("div",{className:"dashboard-empty-state__pattern"}),e.jsx("div",{className:"dashboard-empty-state__orb dashboard-empty-state__orb--left"}),e.jsx("div",{className:"dashboard-empty-state__orb dashboard-empty-state__orb--right"}),e.jsxs("div",{className:"dashboard-empty-state__content",children:[e.jsx("div",{className:"dashboard-empty-state__icon",children:e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]})}),e.jsx("h3",{className:"dashboard-empty-state__title",children:"Start Building Your Dashboard"}),e.jsx("p",{className:"dashboard-empty-state__description",children:"Add widgets from the sidebar to create a powerful, customized dashboard experience"}),e.jsxs("div",{className:"dashboard-empty-state__hint",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),e.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"})]}),e.jsx("span",{children:"Contact your administrator to configure widgets for your role"})]})]})]}):e.jsxs(e.Fragment,{children:[I.kpiWidgets.length>0&&e.jsx("div",{className:"kpi-grid-container",children:I.kpiWidgets.map((ne,G)=>e.jsx(Uw,{widget:ne,index:G,className:L(ne),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Hw,{widget:ne,permissions:o,isPreviewMode:x})})},ne.id||`kpi-${G}`))}),I.middleInfo.length>0&&e.jsx(X8,{className:"middle-info",children:I.middleInfo.map((ne,G)=>e.jsx(Uw,{widget:ne,index:G,className:L(ne),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Hw,{widget:ne,permissions:o,isPreviewMode:x})})},ne.id||`middle-${G}`))}),I.bottomAnalytics.length>0&&e.jsx(X8,{className:"bottom-analytics",children:I.bottomAnalytics.map((ne,G)=>e.jsx(Uw,{widget:ne,index:G,className:L(ne),disableGridSizing:!1,isSelected:!1,children:e.jsx(C.Suspense,{fallback:e.jsx("div",{className:"widget-loading",children:"Loading widget..."}),children:e.jsx(Hw,{widget:ne,permissions:o,isPreviewMode:x})})},ne.id||`bottom-${G}`))}),e.jsx("div",{className:"page-end-space"})]})})]})]})]})})},gee=({catalog:r,onAddWidget:t})=>{const[n,a]=Ct.useState(""),[s,i]=Ct.useState("all"),c=Ct.useMemo(()=>{const u=[];for(const h of r.kpis)u.push({...h,widgetType:"kpi"});for(const h of r.charts)u.push({...h,widgetType:"chart"});for(const h of r.tables)u.push({...h,widgetType:"table"});for(const h of r.tasks)u.push({...h,widgetType:"task"});for(const h of r.alerts)u.push({...h,widgetType:"alert"});return u},[r]),o=Ct.useMemo(()=>{const u=n.trim().toLowerCase();return c.filter(h=>s==="all"?!0:h.widgetType===s).filter(h=>u?`${h.title} ${h.code} ${h.description||""} ${h.widgetType}`.toLowerCase().includes(u):!0)},[c,s,n]),d=[{key:"all",label:"All Widgets"},{key:"kpi",label:"KPIs"},{key:"chart",label:"Charts"},{key:"table",label:"Tables"},{key:"task",label:"Tasks"},{key:"alert",label:"Alerts"}],l={kpi:"Metric",chart:"Chart",table:"Table",task:"Task",alert:"Alert"};return e.jsxs("div",{className:"catalog-panel",children:[e.jsxs("div",{className:"catalog-panel-header catalog-panel-header--library",children:[e.jsxs("div",{className:"catalog-library-title-row",children:[e.jsx("div",{className:"catalog-library-icon","aria-hidden":!0,children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z"})})}),e.jsxs("div",{className:"catalog-library-title-text",children:[e.jsx("h2",{className:"catalog-panel-title",children:"Widget Library"}),e.jsx("p",{className:"catalog-panel-subtitle",children:"Choose widgets to add to your dashboard"})]})]}),e.jsxs("div",{className:"catalog-library-search",children:[e.jsxs("svg",{className:"catalog-library-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{value:n,onChange:u=>a(u.target.value),className:"catalog-library-search-input",placeholder:"Search widgets... (try 'revenue', 'users', 'invoices')"})]}),e.jsx("div",{className:"catalog-library-tabs",role:"tablist","aria-label":"Widget categories",children:d.map(u=>e.jsx("button",{type:"button",className:`catalog-library-tab ${s===u.key?"active":""}`,onClick:()=>i(u.key),"aria-selected":s===u.key,role:"tab",children:u.label},u.key))})]}),e.jsx("div",{className:"catalog-panel-content catalog-panel-content--library",children:o.length===0?e.jsx("div",{className:"catalog-empty",children:"No widgets match your search."}):e.jsx("div",{className:"catalog-library-grid",children:o.map(u=>e.jsxs("div",{className:"catalog-library-card",children:[e.jsxs("div",{className:"catalog-library-card-top",children:[e.jsx("div",{className:"catalog-library-card-icon","aria-hidden":!0,children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20"}),e.jsx("path",{d:"M2 12h20"})]})}),e.jsx("span",{className:`catalog-library-badge catalog-library-badge--${u.widgetType}`,children:l[u.widgetType]})]}),e.jsx("div",{className:"catalog-library-card-title",children:u.title}),e.jsx("div",{className:"catalog-library-card-desc",children:u.description||""}),e.jsxs("button",{type:"button",className:"catalog-library-add",onClick:()=>t(u,u.widgetType),title:"Add widget",children:[e.jsx("span",{className:"catalog-library-add-plus",children:""})," Add Widget"]})]},`${u.widgetType}:${u.code}`))})}),e.jsx("div",{className:"catalog-library-footer",children:e.jsxs("span",{className:"catalog-library-footer-count",children:[c.length," widgets available"]})})]})},vee=({widgets:r,selectedWidgetId:t,onSelectWidget:n,onUpdateWidget:a,onRemoveWidget:s,onReorderWidget:i})=>{const c=d=>d===4?"Full":d===2?"Half":d===1?"Quarter":`${d}/4`,o=(d,l)=>{a(d,{gridColumn:l})};return e.jsxs("div",{className:"dashboard-canvas",children:[e.jsxs("div",{className:"dashboard-canvas-header",children:[e.jsx("h2",{className:"dashboard-canvas-title",children:"Dashboard Layout"}),e.jsx("p",{className:"dashboard-canvas-subtitle",children:"Configure widget layout and order. Click a widget to edit settings."})]}),e.jsx("div",{className:"dashboard-canvas-content",children:r.length===0?e.jsxs("div",{className:"dashboard-canvas-empty",children:[e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dashboard-canvas-empty-icon",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),e.jsx("p",{className:"dashboard-canvas-empty-text",children:"No widgets configured"}),e.jsx("p",{className:"dashboard-canvas-empty-hint",children:"Add widgets from the catalog panel on the left"})]}):e.jsx("div",{className:"dashboard-canvas-widgets",children:r.map((d,l)=>{const u=t===d.id,h=l>0,f=l<r.length-1;return e.jsxs("div",{className:`dashboard-canvas-widget ${u?"selected":""}`,style:{gridColumn:`span ${d.gridColumn}`},onClick:()=>n(d.id),children:[e.jsxs("div",{className:"dashboard-canvas-widget-header",children:[e.jsxs("div",{className:"dashboard-canvas-widget-info",children:[e.jsx("span",{className:"dashboard-canvas-widget-title",children:d.title}),e.jsx("span",{className:"dashboard-canvas-widget-type",children:d.type})]}),e.jsxs("div",{className:"dashboard-canvas-widget-actions",children:[e.jsxs("select",{value:d.gridColumn,onChange:A=>o(d.id,parseInt(A.target.value,10)),onClick:A=>A.stopPropagation(),className:"dashboard-canvas-widget-size-select",children:[e.jsx("option",{value:"1",children:"Quarter"}),e.jsx("option",{value:"2",children:"Half"}),e.jsx("option",{value:"4",children:"Full"})]}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),h&&i(d.id,"up")},disabled:!h,title:"Move up",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn",onClick:A=>{A.stopPropagation(),f&&i(d.id,"down")},disabled:!f,title:"Move down",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})}),e.jsx("button",{className:"dashboard-canvas-widget-action-btn danger",onClick:A=>{A.stopPropagation(),window.confirm("Remove this widget from the dashboard?")&&s(d.id)},title:"Remove widget",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),e.jsx("div",{className:"dashboard-canvas-widget-preview",children:e.jsxs("div",{className:"dashboard-canvas-widget-preview-content",children:[e.jsxs("span",{className:"dashboard-canvas-widget-preview-text",children:[d.type==="metric"&&"Metric Widget",d.type==="chart"&&"Chart Widget",d.type==="table"&&"Table Widget",d.type==="task-list"&&" Task List Widget",d.type==="alert"&&"Alert Widget",!["metric","chart","table","task-list","alert"].includes(d.type)&&"Widget Preview"]}),e.jsx("span",{className:"dashboard-canvas-widget-size-badge",children:c(d.gridColumn)})]})})]},d.id||`widget-${l}`)})})})]})},xee=({widget:r,onUpdateWidget:t})=>{if(!r)return e.jsx("div",{className:"widget-settings-panel",children:e.jsxs("div",{className:"widget-settings-empty",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"widget-settings-empty-icon",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("p",{className:"widget-settings-empty-text",children:"No widget selected"}),e.jsx("p",{className:"widget-settings-empty-hint",children:"Select a widget from the canvas to configure its settings"})]})});const n=c=>{t(r.id,{title:c})},a=c=>{t(r.id,{description:c})},s=c=>{t(r.id,{gridColumn:c})},i=c=>{t(r.id,{chartConfig:{...r.chartConfig,type:c}})};return e.jsxs("div",{className:"widget-settings-panel",children:[e.jsxs("div",{className:"widget-settings-header",children:[e.jsx("h2",{className:"widget-settings-title",children:"Widget Settings"}),e.jsx("p",{className:"widget-settings-subtitle",children:"Configure selected widget properties"})]}),e.jsxs("div",{className:"widget-settings-content",children:[e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget ID"}),e.jsx("div",{className:"widget-settings-readonly",children:r.id})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Widget Type"}),e.jsx("div",{className:"widget-settings-readonly",children:r.type})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-title",children:"Title"}),e.jsx("input",{id:"widget-title",type:"text",value:r.title,onChange:c=>n(c.target.value),className:"widget-settings-input",placeholder:"Widget title"})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-description",children:"Description (Optional)"}),e.jsx("textarea",{id:"widget-description",value:r.description||"",onChange:c=>a(c.target.value),className:"widget-settings-textarea",placeholder:"Widget description",rows:3})]}),e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-size",children:"Size"}),e.jsxs("select",{id:"widget-size",value:r.gridColumn,onChange:c=>s(parseInt(c.target.value,10)),className:"widget-settings-select",children:[e.jsx("option",{value:"1",children:"Quarter (1/4 width)"}),e.jsx("option",{value:"2",children:"Half (1/2 width)"}),e.jsx("option",{value:"4",children:"Full (full width)"})]})]}),r.type==="chart"&&r.chartConfig&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",htmlFor:"widget-chart-type",children:"Chart Type"}),e.jsxs("select",{id:"widget-chart-type",value:r.chartConfig.type||"line",onChange:c=>i(c.target.value),className:"widget-settings-select",children:[e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"bar",children:"Bar Chart"})]})]}),r.dataSource&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"API Endpoint"}),e.jsx("div",{className:"widget-settings-readonly",children:r.dataSource.endpoint}),e.jsx("p",{className:"widget-settings-hint",children:"This endpoint is read-only and does not modify business logic"})]}),r.permissions&&e.jsxs("div",{className:"widget-settings-section",children:[e.jsx("label",{className:"widget-settings-label",children:"Permissions"}),e.jsxs("div",{className:"widget-settings-permissions",children:[r.permissions.view&&e.jsxs("div",{className:"widget-settings-permission",children:[e.jsx("span",{className:"widget-settings-permission-label",children:"View:"}),e.jsx("span",{className:"widget-settings-permission-value",children:r.permissions.view})]}),r.permissions.actions&&Object.entries(r.permissions.actions).map(([c,o])=>e.jsxs("div",{className:"widget-settings-permission",children:[e.jsxs("span",{className:"widget-settings-permission-label",children:[c,":"]}),e.jsx("span",{className:"widget-settings-permission-value",children:o})]},c))]})]})]})]})},yee=()=>{const r=Ma(),[t,n]=Ct.useState({kpis:[],charts:[],tables:[],tasks:[],alerts:[]}),[a,s]=Ct.useState([]),[i,c]=Ct.useState(""),[o,d]=Ct.useState("role"),[l,u]=Ct.useState(null),[h,f]=Ct.useState(null),[A,g]=Ct.useState(!1),[m,x]=Ct.useState(!1),[y,b]=Ct.useState(null);Ct.useEffect(()=>{(async()=>{g(!0);try{const[G,le]=await Promise.all([YA.getCatalog(),YA.getAvailableRoles()]);n(G),s(le)}catch(G){console.error("Failed to load catalog:",G),b("Failed to load dashboard catalog")}finally{g(!1)}})()},[]),Ct.useEffect(()=>{i?(async()=>{g(!0);try{const G=await YA.getDashboardConfigByTarget(i);u(G),f(null)}catch(G){console.error("Failed to load configuration:",G),b("Failed to load dashboard configuration")}finally{g(!1)}})():(u(null),f(null))},[i,o]);const j=(ne,G)=>{if(!l){alert("Please select a role or department first");return}const le={kpi:"metric",chart:"chart",table:"table",task:"task-list",alert:"alert"},V={id:`${ne.code.toLowerCase()}-${Date.now()}`,type:le[G]||"metric",title:ne.title,description:ne.description,gridColumn:2,dataSource:{endpoint:ne.api,method:"GET"},...G==="chart"&&ne.chartTypes&&ne.chartTypes.length>0&&{chartConfig:{type:ne.chartTypes[0]}}};u({...l,widgets:[...l.widgets,V]}),f(V.id)},S=(ne,G)=>{l&&u({...l,widgets:l.widgets.map(le=>le.id===ne?{...le,...G}:le)})},w=ne=>{l&&(u({...l,widgets:l.widgets.filter(G=>G.id!==ne)}),h===ne&&f(null))},E=(ne,G)=>{if(!l)return;const le=l.widgets.findIndex($=>$.id===ne);if(le===-1)return;const V=G==="up"?le-1:le+1;if(V<0||V>=l.widgets.length)return;const me=[...l.widgets];[me[le],me[V]]=[me[V],me[le]],u({...l,widgets:me})},I=async()=>{if(!l||!i){alert("Please select a role or department and configure widgets");return}x(!0),b(null);try{const ne={...l,widgets:(l.widgets||[]).filter(G=>G&&typeof G=="object"&&!Array.isArray(G)),menuItems:Array.isArray(l.menuItems)?l.menuItems:[],permissions:l.permissions&&typeof l.permissions=="object"&&!Array.isArray(l.permissions)?l.permissions:{}};console.log("[DashboardConfigurationContent] Saving normalized config:",{role:ne.role,widgetsCount:ne.widgets.length,widgets:ne.widgets}),await YA.saveDashboardConfig(ne),alert("Dashboard configuration saved successfully")}catch(ne){console.error("Failed to save configuration:",ne);const G=(ne==null?void 0:ne.message)||"Failed to save dashboard configuration";b(G)}finally{x(!1)}},L=()=>{if(!l||!i){alert("Please select a role or department and configure widgets");return}sessionStorage.setItem("dashboard-preview-config",JSON.stringify(l)),sessionStorage.setItem("dashboard-preview-role",i),r("/dashboard?preview=true")},Z=(l==null?void 0:l.widgets.find(ne=>ne.id===h))||null;return e.jsxs("div",{className:"dashboard-configuration-content-wrapper",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar",children:[e.jsxs("div",{className:"dashboard-configuration-toolbar-left",children:[e.jsx("h1",{className:"dashboard-configuration-title",children:"Dashboard Configuration"}),e.jsx("p",{className:"dashboard-configuration-description",children:"This screen configures dashboards only and does not affect business logic"})]}),e.jsxs("div",{className:"dashboard-configuration-toolbar-right",children:[e.jsxs("div",{className:"dashboard-configuration-target-selector",children:[e.jsxs("select",{value:o,onChange:ne=>{d(ne.target.value),c("")},className:"dashboard-configuration-type-select",children:[e.jsx("option",{value:"role",children:"Role"}),e.jsx("option",{value:"department",children:"Department"})]}),e.jsxs("select",{value:i,onChange:ne=>c(ne.target.value),className:"dashboard-configuration-target-select",disabled:A,children:[e.jsxs("option",{value:"",children:["Select ",o,"..."]}),o==="role"&&a.map(ne=>e.jsx("option",{value:ne,children:ne.charAt(0).toUpperCase()+ne.slice(1)},ne))]})]}),e.jsxs("button",{className:"dashboard-configuration-btn preview",onClick:L,disabled:!l||!i||l.widgets.length===0,title:"Preview dashboard with current configuration",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Dashboard"]}),e.jsx("button",{className:"dashboard-configuration-btn save",onClick:I,disabled:!l||!i||m,children:m?"Saving...":"Save Configuration"})]})]}),y&&e.jsxs("div",{className:"dashboard-configuration-error",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),e.jsxs("div",{className:"dashboard-configuration-panels",children:[e.jsx("div",{className:"dashboard-configuration-panel-left",children:A&&!t.kpis.length?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading catalog..."}):e.jsx(gee,{catalog:t,onAddWidget:j})}),e.jsx("div",{className:"dashboard-configuration-panel-center",children:A&&!l?e.jsx("div",{className:"dashboard-configuration-loading",children:"Loading configuration..."}):l?e.jsx(vee,{widgets:l.widgets,selectedWidgetId:h,onSelectWidget:f,onUpdateWidget:S,onRemoveWidget:w,onReorderWidget:E}):e.jsx("div",{className:"dashboard-configuration-empty-state",children:e.jsx("p",{children:"Select a role or department to start configuring the dashboard"})})}),e.jsx("div",{className:"dashboard-configuration-panel-right",children:e.jsx(xee,{widget:Z,onUpdateWidget:S})})]})]})},jee=()=>{const{permissions:r,logout:t}=Wn(),n=un(),a=Ma(),[s,i]=Ct.useState(!1),c=r.includes("*");if(Ct.useEffect(()=>{c||a("/dashboard",{replace:!0,state:{from:n}})},[c,a,n]),!c)return null;const o=()=>{i(!s)},l=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}].filter(u=>u.path==="/dashboard"?!0:u.path==="/transaction"?Qn(r,"transaction"):u.path==="/finance"?Qn(r,"finance"):u.path==="/commercial-agreements"?Qn(r,"commercial"):u.path==="/compliance-training"?Qn(r,"compliance"):u.path==="/master"?Qn(r,"master"):u.path==="/report"?Qn(r,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!s&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":s?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:s?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(u=>e.jsx("li",{children:e.jsxs(Rr,{to:u.path,className:`nav-link ${u.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:u.icon}),!s&&e.jsx("span",{className:"nav-label",children:u.label})]})},u.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Dashboard Configuration",subtitle:"Configure dashboard settings for different roles"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:0,overflow:"hidden",flex:1},children:e.jsx(yee,{})})]})]})},bee="http://localhost:3000/api/v1",wee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},tg=async(r,t={})=>{const n=wee(),a=`${bee}${r}`;console.log("[roleService] Making request:",{method:t.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!t.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(console.log("[roleService] Response received:",{status:i.status,statusText:i.statusText,ok:i.ok}),!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`,d=null;try{const u=await i.text();console.log("[roleService] Error response text:",u),u&&(d=JSON.parse(u),console.log("[roleService] Error response parsed:",d),Array.isArray(d.message)?o=d.message.join(", "):typeof d.message=="string"?o=d.message:d.error?o=typeof d.error=="string"?d.error:JSON.stringify(d.error):d.message&&(o=String(d.message)))}catch(u){console.error("[roleService] Failed to parse error response:",u)}console.error("[roleService] Request failed:",{status:i.status,statusText:i.statusText,errorMessage:o,errorData:d});const l=new Error(o);throw l.status=i.status,l.statusText=i.statusText,l.errorData=d,l}if(i.status===204)return console.log("[roleService] 204 No Content response, returning empty object"),{};const c=await i.json();return console.log("[roleService] Success response data:",c),c}catch(i){if(console.error("[roleService] Fetch error:",i),i instanceof Error&&i.status)throw i;const c=new Error(i instanceof Error?`Network error: ${i.message}`:"Network error: Failed to connect to server");throw c.originalError=i,c}},zp={createRole:async r=>(console.log("[roleService] createRole called with data:",r),(await tg("/roles",{method:"POST",body:JSON.stringify(r)})).data),getRoleById:async r=>(await tg(`/roles/${r}`,{method:"GET"})).data,getAllRoles:async(r,t)=>{let n="/roles";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await tg(n,{method:"GET"})).data},updateRole:async(r,t)=>(console.log("[roleService] updateRole called"),console.log("[roleService] Role ID:",r),console.log("[roleService] Data:",t),(await tg(`/roles/${r}`,{method:"PUT",body:JSON.stringify(t)})).data),deleteRole:async r=>{await tg(`/roles/${r}`,{method:"DELETE"})}},Cee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},rg=async(r,t={})=>{const n=Cee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{s.status===401?i="User not authenticated":s.status===403&&(i="Access forbidden")}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},ia={createCompany:async r=>(await rg("/companies",{method:"POST",body:JSON.stringify(r)})).data,getCompanyById:async r=>(await rg(`/companies/${r}`,{method:"GET"})).data,getAllCompanies:async(r=!1)=>(await rg(r?"/companies?activeOnly=true":"/companies",{method:"GET"})).data||[],updateCompany:async(r,t)=>(await rg(`/companies/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCompany:async r=>{await rg(`/companies/${r}`,{method:"DELETE"})}},Nee=()=>{const r=localStorage.getItem("mw-auth-user");if(!r)return null;try{const t=JSON.parse(r);return(t==null?void 0:t.token)||null}catch{return null}};async function Qw(r,t={}){const n=Nee();if(!n)throw new Error("Unauthorized: missing token");const a=await fetch(`${jf}${r}`,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...t.headers||{}}});if(!a.ok){const i=await a.json().catch(()=>({})),c=(i==null?void 0:i.message)||(i==null?void 0:i.error)||`HTTP ${a.status}`;throw new Error(Array.isArray(c)?c.join(", "):String(c))}return(await a.json()).data}const Ww={listPermissions:async()=>Qw("/permissions",{method:"GET"}),getRolePermissionCodes:async r=>Qw(`/permissions/roles/${r}`,{method:"GET"}),replaceRolePermissions:async(r,t)=>Qw(`/permissions/roles/${r}`,{method:"PUT",body:JSON.stringify({permissionCodes:t})})},Bv=r=>r&&r.trim()?r.trim():"General",See=r=>{const t=String(r||"").trim();if(!t)return{featureKey:"GENERAL",action:"ACCESS"};const n=t.includes(".")?t.split("."):t.split("_");if(n.length<=1)return{featureKey:t,action:"ACCESS"};const a=n[n.length-1]||"ACCESS";return{featureKey:n.slice(0,-1).join("_")||t,action:a}},Eee=r=>{const t=new Map;for(const a of r){const s=Bv(a.moduleName),{featureKey:i,action:c}=See(a.permissionCode);t.has(s)||t.set(s,new Map);const o=t.get(s);o.has(i)||o.set(i,[]),o.get(i).push({...a,action:c})}return Array.from(t.entries()).sort(([a],[s])=>a.localeCompare(s)).map(([a,s])=>{const i=Array.from(s.entries()).sort(([c],[o])=>c.localeCompare(o)).map(([c,o])=>(o.sort((d,l)=>{const u=String(d.action||"").localeCompare(String(l.action||""));return u!==0?u:String(d.permissionName||"").localeCompare(String(l.permissionName||""))}),{featureKey:c,items:o}));return{moduleName:a,features:i}})},$w=(r,t)=>{let n=0;for(const a of r)t.has(a)&&n++;return{selected:n,total:r.length}},N0=r=>String(r||"").toLowerCase().replace(/[^a-z0-9]+/g,""),Y8=r=>{const t=new Map;for(const s of r){const i=String(s||"").trim();i&&t.set(i,(t.get(i)||0)+1)}let n="",a=0;for(const[s,i]of t.entries())i>a&&(n=s,a=i);return{value:n,count:a}},J8=({checked:r,indeterminate:t,disabled:n,onChange:a,ariaLabel:s})=>{const i=Ct.useRef(null);return Ct.useEffect(()=>{i.current&&(i.current.indeterminate=t)},[t]),e.jsx("input",{ref:i,type:"checkbox",checked:r,disabled:n,onChange:a,"aria-label":s})},Bee=()=>{const{permissions:r,logout:t}=Wn(),n=Ma(),a=un(),[s,i]=Ct.useState(!1),c=bc(r,"ROLE_PERMISSIONS_MANAGE"),o=r.includes("*"),[d,l]=Ct.useState([]),[u,h]=Ct.useState(""),[f,A]=Ct.useState([]),[g,m]=Ct.useState([]),[x,y]=Ct.useState(""),[b,j]=Ct.useState(new Set),[S,w]=Ct.useState(new Set),[E,I]=Ct.useState(""),[L,Z]=Ct.useState(!0),[ne,G]=Ct.useState(!1),[le,V]=Ct.useState(null),[me,$]=Ct.useState(new Set),[X,Ce]=Ct.useState(new Set),[M,q]=Ct.useState("all");Ct.useEffect(()=>{c||n("/dashboard",{replace:!0,state:{from:a}})},[c,n,a]),Ct.useEffect(()=>{(async()=>{Z(!0),V(null);try{const ke=await Ww.listPermissions();if(m(ke),o){const Fe=await ia.getAllCompanies(!0);l(Fe),!u&&Fe.length>0&&h(Fe[0].id)}$(new Set)}catch(ke){V((ke==null?void 0:ke.message)||"Failed to load roles/permissions")}finally{Z(!1)}})()},[o]),Ct.useEffect(()=>{const ae=async()=>{if(o&&!u){A([]),y(""),j(new Set);return}V(null);try{const ke=await zp.getAllRoles(o?u:void 0,!1);A(ke),x&&!ke.some(Fe=>Fe.roleId===x)&&(y(""),j(new Set))}catch(ke){A([]),y(""),j(new Set),V((ke==null?void 0:ke.message)||"Failed to load roles")}};c&&ae()},[c,o,u]),Ct.useEffect(()=>{(async()=>{if(!x){j(new Set),w(new Set);return}V(null);try{const ke=await Ww.getRolePermissionCodes(x),Fe=new Set(ke);j(Fe),w(new Set(Fe))}catch(ke){V((ke==null?void 0:ke.message)||"Failed to load role permissions")}})()},[x]);const ie=Ct.useMemo(()=>{const ae=E.trim().toLowerCase();return ae?g.filter(ke=>`${ke.moduleName} ${ke.permissionCode} ${ke.permissionName} ${ke.description||""}`.toLowerCase().includes(ae)):g},[g,E]),J=Ct.useMemo(()=>Eee(ie),[ie]),D=Ct.useMemo(()=>{const ae=new Map;for(const ke of g)ae.set(ke.permissionCode,ke);return ae},[g]),ce=Ct.useMemo(()=>{const ae=[];for(const ke of Array.from(b)){const Fe=D.get(ke);Fe?ae.push(Fe):ae.push({permissionId:ke,permissionCode:ke,permissionName:ke,moduleName:"General",description:null,isActive:!0})}return ae.sort((ke,Fe)=>{const nt=Bv(ke.moduleName).localeCompare(Bv(Fe.moduleName));return nt!==0?nt:String(ke.permissionCode).localeCompare(String(Fe.permissionCode))}),ae},[b,D]),te=Ct.useMemo(()=>{const ae=new Map;for(const Fe of ce){const nt=Bv(Fe.moduleName);ae.has(nt)||ae.set(nt,[]),ae.get(nt).push(Fe.permissionCode)}const ke=Array.from(ae.entries()).map(([Fe,nt])=>(nt.sort((tt,Le)=>tt.localeCompare(Le)),{moduleName:Fe,codes:nt}));return ke.sort((Fe,nt)=>Fe.moduleName.localeCompare(nt.moduleName)),ke},[ce]),ge=Ct.useMemo(()=>{let ae=0;for(const ke of b)S.has(ke)||ae++;for(const ke of S)b.has(ke)||ae++;return ae},[b,S]),pe=ae=>{j(ke=>{const Fe=new Set(ke),{selected:nt,total:tt}=$w(ae,ke),Le=nt!==tt;for(const lt of ae)Le?Fe.add(lt):Fe.delete(lt);return Fe})},be=ae=>{j(ke=>{const Fe=new Set(ke);for(const nt of ae)Fe.add(nt);return Fe})},re=ae=>{j(ke=>{const Fe=new Set(ke);for(const nt of ae)Fe.delete(nt);return Fe})},de=(ae,ke,Fe)=>M==="all"?!0:M==="enabled"?ae>0:M==="disabled"?ae<ke:M==="partial"?ae>0&&ae<ke:M==="system"?Fe:!0,Y=(ae,ke)=>M==="all"?!0:M==="enabled"?ae:M==="disabled"?!ae:M==="system"?ke:!0,Ae=ae=>{j(ke=>{const Fe=new Set(ke);return Fe.has(ae)?Fe.delete(ae):Fe.add(ae),Fe})},ye=(ae,ke)=>{$(Fe=>{const nt=new Set(Fe);return ke?nt.add(ae):nt.delete(ae),nt})},Oe=(ae,ke)=>{Ce(Fe=>{const nt=new Set(Fe);return ke?nt.add(ae):nt.delete(ae),nt})},We=async()=>{if(!x){V("Please select a role");return}G(!0),V(null);try{const ae=Array.from(b).sort();await Ww.replaceRolePermissions(x,ae),w(new Set(b))}catch(ae){V((ae==null?void 0:ae.message)||"Failed to save permissions")}finally{G(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${s?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!s&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:()=>i(ae=>!ae),"aria-label":s?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:s?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),(()=>{const ke=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:a.pathname==="/admin/dashboard-configuration"||a.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:a.pathname==="/admin/permission-configuration"||a.pathname.startsWith("/admin/permission-configuration")}].filter(Fe=>Fe.path==="/dashboard"?!0:Fe.path==="/transaction"?Qn(r,"transaction"):Fe.path==="/finance"?Qn(r,"finance"):Fe.path==="/commercial-agreements"?Qn(r,"commercial"):Fe.path==="/compliance-training"?Qn(r,"compliance"):Fe.path==="/master"?Qn(r,"master"):Fe.path==="/report"?Qn(r,"report"):Fe.path==="/admin/permission-configuration"?c:!0);return e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ke.map(Fe=>e.jsx("li",{children:e.jsxs(Rr,{to:Fe.path,className:`nav-link ${Fe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Fe.icon}),!s&&e.jsx("span",{className:"nav-label",children:Fe.label})]})},Fe.path))})})})(),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!s&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!s&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Permission Configuration",subtitle:"Manage user roles and permissions"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsxs("div",{className:"perm-config-page",children:[e.jsxs("div",{className:"perm-config-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Permission Configuration"}),e.jsxs("p",{children:["Assign permissions to roles (writes to existing ",e.jsx("code",{children:"role_permissions"})," table)"]})]}),e.jsxs("div",{className:"perm-config-save-wrap",children:[ge>0?e.jsx("div",{className:"perm-config-unsaved",children:"Unsaved changes"}):null,e.jsx("button",{className:"perm-config-save",onClick:We,disabled:ne||L||!x||ge===0,title:ge===0?"No changes to save":"Save role permissions",children:ne?"Saving...":ge>0?`Save changes (${ge})`:"Saved"})]})]}),e.jsxs("div",{className:`perm-config-controls ${o?"perm-config-controls--company":""}`,children:[o?e.jsxs("div",{className:"perm-config-control",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:u,onChange:ae=>{h(ae.target.value),y(""),j(new Set),w(new Set)},children:[e.jsx("option",{value:"",children:"Select company..."}),d.map(ae=>e.jsx("option",{value:ae.id,children:ae.companyName},ae.id))]})]}):null,e.jsxs("div",{className:"perm-config-control",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:x,onChange:ae=>y(ae.target.value),children:[e.jsx("option",{value:"",children:"Select role..."}),f.length===0&&!L?e.jsx("option",{value:"",disabled:!0,children:"No roles found"}):null,f.map(ae=>e.jsx("option",{value:ae.roleId,children:ae.roleName},ae.roleId))]})]}),e.jsxs("div",{className:"perm-config-control perm-config-control--search",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{value:E,onChange:ae=>I(ae.target.value),placeholder:"Search by menu / module / code / operation..."})]}),e.jsxs("div",{className:"perm-config-filters","aria-label":"Filters",children:[e.jsxs("div",{className:"perm-config-filters-left",children:[e.jsx("span",{className:"perm-config-filters-label",children:"Filter:"}),e.jsxs("div",{className:"perm-config-filter-pills",role:"tablist","aria-label":"Permission filters",children:[e.jsx("button",{type:"button",className:`perm-config-pill ${M==="all"?"active":""}`,onClick:()=>q("all"),children:"All"}),e.jsx("button",{type:"button",className:`perm-config-pill ${M==="enabled"?"active":""}`,onClick:()=>q("enabled"),children:"Enabled"}),e.jsx("button",{type:"button",className:`perm-config-pill ${M==="partial"?"active":""}`,onClick:()=>q("partial"),children:"Partial"}),e.jsx("button",{type:"button",className:`perm-config-pill ${M==="disabled"?"active":""}`,onClick:()=>q("disabled"),children:"Disabled"}),e.jsxs("button",{type:"button",className:`perm-config-pill ${M==="system"?"active":""}`,onClick:()=>q("system"),children:[e.jsx("span",{className:"legend-lock","aria-hidden":!0,children:""})," ","System"]})]})]}),e.jsx("button",{className:"perm-config-clear-link",type:"button",onClick:()=>j(new Set),disabled:L||ne||!x,children:"Clear selection"})]})]}),le&&e.jsx("div",{className:"perm-config-error",children:le}),L?e.jsx("div",{className:"perm-config-loading",children:"Loading..."}):x?e.jsxs("div",{className:"perm-config-layout",children:[e.jsx("section",{className:"perm-config-tree",children:J.length===0?e.jsx("div",{className:"perm-config-empty",children:"No permissions match your search."}):J.map(ae=>{const ke=ae.features.flatMap($t=>$t.items.map(Ue=>Ue.permissionCode)),Fe=$w(ke,b),nt=Fe.total>0&&Fe.selected===Fe.total,tt=Fe.selected>0&&Fe.selected<Fe.total,Le=me.has(ae.moduleName),lt=ae.features.some($t=>$t.items.some(Ue=>Ue.isActive===!1));return de(Fe.selected,Fe.total,lt)?e.jsxs("div",{className:"module-card",children:[e.jsxs("div",{className:"module-card-header",children:[e.jsxs("div",{className:"module-card-left",children:[e.jsx(J8,{checked:nt,indeterminate:tt,disabled:L||ne,onChange:()=>pe(ke),ariaLabel:`Toggle module ${ae.moduleName}`}),e.jsxs("div",{className:"module-card-title",children:[e.jsx("div",{className:"module-card-name",children:ae.moduleName}),e.jsx("div",{className:"module-card-meta",children:Le?`${Fe.selected} of ${Fe.total} selected`:Fe.selected>0?`${Fe.selected} selected`:"Expand to view items"})]})]}),e.jsxs("div",{className:"module-card-right",children:[Le?e.jsxs("div",{className:"module-bulk-actions",children:[e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>be(ke),disabled:L||ne||ke.length===0,children:"Select all"}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>re(ke),disabled:L||ne||ke.length===0,children:"Clear"})]}):null,e.jsx("button",{type:"button",className:"module-card-expander",onClick:()=>ye(ae.moduleName,!Le),"aria-label":Le?`Collapse ${ae.moduleName}`:`Expand ${ae.moduleName}`,children:Le?"":""})]})]}),Le?e.jsxs("div",{className:"module-card-body",children:[(()=>{const $t=ae.features.find(yt=>N0(yt.featureKey)===N0(ae.moduleName));if(!$t)return null;const Ue=$t.items;return!Ue||Ue.length===0?null:e.jsx("div",{className:"module-actions",children:Ue.map(yt=>{const Tt=!!(L||ne||yt.isActive===!1),Zt=yt.isActive===!1,Mr=b.has(yt.permissionCode);return Y(Mr,Zt)?e.jsxs("label",{className:`action-item module-action-item ${Tt?"action-item--disabled":""}`,title:yt.permissionCode,children:[e.jsx("input",{type:"checkbox",checked:Mr,onChange:()=>Ae(yt.permissionCode),disabled:Tt}),e.jsxs("span",{className:"action-text",children:[e.jsx("span",{className:"action-name",children:yt.permissionName||yt.action}),e.jsx("span",{className:"action-code",children:yt.permissionCode})]}),Zt?e.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},yt.permissionId):null})})})(),ae.features.filter($t=>N0($t.featureKey)!==N0(ae.moduleName)).map($t=>{const Ue=`${ae.moduleName}::${$t.featureKey}`,yt=$t.items.map(Lt=>Lt.permissionCode),Tt=$w(yt,b),Zt=Tt.total>0&&Tt.selected===Tt.total,Mr=Tt.selected>0&&Tt.selected<Tt.total,_t=X.has(Ue),Vt=$t.items.some(Lt=>Lt.isActive===!1);if(!de(Tt.selected,Tt.total,Vt))return null;const mr=Y8($t.items.map(Lt=>Lt.permissionName)),Qe=Y8($t.items.map(Lt=>Lt.description)),Bt=mr.count>=2&&mr.value?mr.value:$t.featureKey,Ge=Qe.count>=2&&Qe.value?Qe.value:"",Ft=Bt!==$t.featureKey;return e.jsxs("div",{className:"entity-section",children:[e.jsxs("div",{className:"entity-header",children:[e.jsxs("div",{className:"entity-header-left",children:[e.jsx(J8,{checked:Zt,indeterminate:Mr,disabled:L||ne,onChange:()=>pe(yt),ariaLabel:`Toggle entity ${Bt}`}),e.jsxs("div",{className:"entity-title",children:[e.jsx("div",{className:"entity-name",children:Bt}),Ge?e.jsx("div",{className:"entity-desc",children:Ge}):null,e.jsx("div",{className:"entity-meta",children:`${Tt.selected} of ${Tt.total} selected`})]})]}),e.jsxs("div",{className:"entity-header-right",children:[e.jsxs("div",{className:"entity-bulk-actions","aria-label":"Entity bulk actions",children:[e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>be(yt),disabled:L||ne||yt.length===0,title:"Select all actions in this entity",children:"Select all"}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>re(yt),disabled:L||ne||yt.length===0,title:"Clear all actions in this entity",children:"Clear"})]}),e.jsx("button",{type:"button",className:"entity-expander entity-expander--icon",onClick:()=>Oe(Ue,!_t),"aria-label":_t?`Collapse ${Bt}`:`Expand ${Bt}`,title:_t?"Collapse":"Expand",children:_t?"":""})]})]}),_t?e.jsxs("div",{className:"entity-actions",children:[e.jsx("div",{className:`action-grid ${Ft?"action-grid--chips":"action-grid--list"}`,children:$t.items.filter(Lt=>{const Dr=Lt.isActive===!1,Or=b.has(Lt.permissionCode);return Y(Or,Dr)}).map(Lt=>{const Dr=!!(L||ne||Lt.isActive===!1),Or=Lt.isActive===!1,Kr=b.has(Lt.permissionCode);return e.jsxs("label",{className:`action-item ${Ft?"action-item--chip":""} ${Dr?"action-item--disabled":""}`,title:Lt.permissionCode,children:[e.jsx("input",{type:"checkbox",checked:Kr,onChange:()=>Ae(Lt.permissionCode),disabled:Dr}),Ft?e.jsx("span",{className:"action-chip-label",children:String(Lt.action||"").toUpperCase()}):e.jsxs("span",{className:"action-text",children:[e.jsx("span",{className:"action-name",children:Lt.permissionName||Lt.action}),e.jsx("span",{className:"action-code",children:Lt.permissionCode})]}),Or?e.jsx("span",{className:"action-lock","aria-label":"System permission",children:""}):null]},Lt.permissionId)})}),e.jsx("div",{className:"entity-footnote",children:$t.items.length>0?e.jsx("span",{className:"muted",children:"Permission codes are saved exactly as-is."}):null})]}):null]},Ue)})]}):null]},ae.moduleName):null})}),e.jsxs("aside",{className:"perm-config-selected",children:[e.jsx("div",{className:"perm-config-selected-header",children:e.jsxs("div",{children:[e.jsx("div",{className:"perm-config-selected-title",children:"Selected permissions"}),e.jsxs("div",{className:"perm-config-selected-subtitle",children:[ce.length," selected"]})]})}),ce.length===0?e.jsxs("div",{className:"perm-config-selected-empty",children:[e.jsx("div",{className:"perm-config-selected-empty-icon","aria-hidden":!0,children:e.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"}),e.jsx("path",{d:"M9 12h6"}),e.jsx("path",{d:"M12 9v6"})]})}),e.jsx("div",{className:"perm-config-selected-empty-title",children:"No permissions selected"}),e.jsx("div",{className:"perm-config-selected-empty-subtitle",children:"Select permissions from the left tree (Module  Entity  Action). Your selection will appear here grouped by module."})]}):e.jsx("div",{className:"perm-config-selected-list",children:te.map(ae=>e.jsxs("div",{className:"selected-module-group",children:[e.jsxs("div",{className:"selected-module-header",children:[e.jsx("span",{className:"selected-module-name",children:ae.moduleName}),e.jsx("span",{className:"selected-module-count",children:ae.codes.length})]}),e.jsx("ul",{className:"selected-code-list",children:ae.codes.map(ke=>e.jsxs("li",{className:"selected-code-item",children:[e.jsx("code",{className:"selected-code",children:ke}),e.jsx("button",{type:"button",className:"perm-config-btn perm-config-btn--ghost perm-config-btn--tiny",onClick:()=>Ae(ke),"aria-label":`Remove ${ke}`,children:"Remove"})]},ke))})]},ae.moduleName))})]})]}):e.jsx("div",{className:"perm-config-empty",children:"Select a role to view and assign permissions."})]})})]})]})};function Z1(r,t){return(Array.isArray(r)?r:[]).includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:t==="/admin/dashboard-configuration"||t.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:t==="/admin/permission-configuration"||t.startsWith("/admin/permission-configuration")}]:[]}function As(r,t){return[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:t==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:t==="/transaction"||t.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:t==="/finance"||t.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t==="/commercial-agreements"||t.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:t==="/compliance-training"||t.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:t==="/master"||t.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:t.startsWith("/report")},...Z1(r,t)].filter(a=>a.path==="/dashboard"?Qn(r,"dashboard"):a.path==="/transaction"?Qn(r,"transaction"):a.path==="/finance"?Qn(r,"finance"):a.path==="/commercial-agreements"?Qn(r,"commercial"):a.path==="/compliance-training"?Qn(r,"compliance"):a.path==="/master"?Qn(r,"master"):a.path==="/report"?Qn(r,"report"):!0)}function Iee(){var u;const{logout:r,permissions:t,permissionsLoading:n,permissionsReady:a}=Wn(),s=un(),i=Ma(),c=(u=s.state)==null?void 0:u.from,[o,d]=Ct.useState(!1),l=As(t,s.pathname);return Ct.useEffect(()=>{n||!a||(Array.isArray(t)?t:[]).length===0||(!c||c==="/dashboard")&&i("/dashboard",{replace:!0})},[c,i,t,n,a]),!n&&a&&(Array.isArray(t)?t:[]).length>0&&(!c||c==="/dashboard")?e.jsx(Jp,{to:"/dashboard",replace:!0}):e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${o?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!o&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:()=>d(h=>!h),"aria-label":o?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:l.map(h=>e.jsx("li",{children:e.jsxs(Rr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!o&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${s.pathname==="/profile"?"sidebar-profile-btn--active":""}`,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!o&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!o&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Not Authorized",subtitle:"You don't have permission to access this page"}),e.jsx("div",{className:"dashboard-page-content",style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsx("div",{className:"not-auth-page",children:e.jsxs("div",{className:"not-auth-card",children:[e.jsx("div",{className:"not-auth-title",children:"Not authorized"}),e.jsx("div",{className:"not-auth-subtitle",children:"You dont have permission to access this page."}),e.jsxs("div",{className:"not-auth-meta",children:[e.jsx("div",{className:"not-auth-meta-label",children:"Requested"}),e.jsx("div",{className:"not-auth-meta-value",children:c||s.pathname})]}),e.jsx("div",{className:"not-auth-actions",children:e.jsx(Rr,{className:"not-auth-btn not-auth-btn--primary",to:"/dashboard",children:"Go to Dashboard"})})]})})})]})]})}const Tee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},l=[{id:"route-assignment",title:"Route Assignment",description:"Assign routes to vehicles and drivers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/transaction/route-assignment"},{id:"barcode-generation",title:"Barcode Generation",description:"Generate and manage barcodes for waste containers",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),path:"/transaction/barcode-generation"},{id:"waste-collection",title:"Waste Collection",description:"Record and manage waste collection transactions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/transaction/waste-collection"},{id:"waste-transaction-data",title:"Waste Transaction Data",description:"View and manage all waste transaction records",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),e.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]}),path:"/transaction/waste-transaction-data"},{id:"vehicle-wise-waste-collection",title:"Vehicle-Wise Waste Collection",description:"Track waste collection by vehicle",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/transaction/vehicle-wise-waste-collection"},{id:"waste-processing",title:"Waste Processing",description:"Manage daily plant operations for incineration and autoclave",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),path:"/transaction/waste-processing"},{id:"incident-register",title:"Incident Register",description:"Manage and track incident reports and safety issues",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),path:"/transaction/incident-register"},{id:"incineration-register",title:"Incineration Register",description:"Manage and track incineration operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]}),path:"/transaction/incineration-register"},{id:"autoclave-register",title:"Autoclave Register",description:"Manage and track autoclave operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]}),path:"/transaction/autoclave-register"},{id:"shredder-register",title:"Shredder Register",description:"Manage and track shredder operations and compliance",icon:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),path:"/transaction/shredder-register"},{id:"disposal-register",title:"Disposal Register",description:"Manage and track waste disposal operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]}),path:"/transaction/disposal-register"},{id:"emission-register",title:"Emission Register",description:"Manage and track emission monitoring and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}),path:"/transaction/emission-register"},{id:"etp-register",title:"ETP Register",description:"Manage and track Effluent Treatment Plant operations and compliance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]}),path:"/transaction/etp-register"},{id:"downtime-register",title:"Downtime Register",description:"Manage and track equipment downtime and breakdowns",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]}),path:"/transaction/downtime-register"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),u=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(t)&&t.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],h={"route-assignment":"ROUTE_ASSIGNMENT_VIEW","barcode-generation":"BARCODE_LABEL_VIEW","waste-collection":"WASTE_COLLECTION_VIEW","waste-transaction-data":"WASTE_TRANSACTION_VIEW","vehicle-wise-waste-collection":"VEHICLE_WASTE_COLLECTION_VIEW","waste-processing":"WASTE_PROCESS_VIEW","incident-register":"INCIDENT_REGISTER_VIEW","incineration-register":"INCINERATION_REGISTER_VIEW","autoclave-register":"AUTOCLAVE_REGISTER_VIEW","shredder-register":"SHREDDER_REGISTER_VIEW","disposal-register":"DISPOSAL_REGISTER_VIEW","emission-register":"EMISSION_REGISTER_VIEW","etp-register":"ETP_REGISTER_VIEW","downtime-register":"DOWNTIME_REGISTER_VIEW"},f=g=>{const m=Array.isArray(t)?t:[];if(m.includes("*"))return!0;const x=h[g];return x?bc(m,x):!1},A=u.filter(g=>g.path==="/dashboard"?Qn(t,"dashboard"):g.path==="/transaction"?Qn(t,"transaction"):g.path==="/finance"?Qn(t,"finance"):g.path==="/commercial-agreements"?Qn(t,"commercial"):g.path==="/compliance-training"?Qn(t,"compliance"):g.path==="/master"?Qn(t,"master"):g.path==="/report"?Qn(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:A.map(g=>e.jsx("li",{children:e.jsxs(Rr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),!i&&e.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Transaction",subtitle:"Manage transactions and operations"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Transaction"}),e.jsx("p",{className:"master-subtitle",children:"Manage your transactions at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>s(g.target.value)})]})}),e.jsxs("div",{className:"master-grid",children:[l.filter(g=>f(g.id)).map(g=>e.jsxs(Rr,{to:g.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:g.icon}),e.jsx("h3",{className:"master-card-title",children:g.title}),e.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),l.filter(g=>f(g.id)).length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No transaction modules available for your permissions."}):null]})]})]})]})},kee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"invoice-management",title:"Invoice Management",description:"Create, manage and track invoices",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/finance/invoice-management"},{id:"generate-invoices",title:"Generate Invoices",description:"Create manual invoices or auto-generate based on billing rules",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),path:"/finance/generate-invoices"},{id:"receipt-management",title:"Receipt Management",description:"Generate and manage payment receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/finance/receipt-management"},{id:"financial-balance-summary",title:"Financial Balance Summary",description:"View financial balance and summary reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/finance/financial-balance-summary"}],l={"invoice-management":["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],"generate-invoices":["INVOICE_CREATE"],"receipt-management":["INVOICE_VIEW","INVOICE_CREATE"],"financial-balance-summary":["INVOICE_VIEW","INVOICE_CREATE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>bc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Rr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Finance",subtitle:"Manage financial operations and reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Finance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your financial operations at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No finance modules available for your permissions."}):h.map(A=>e.jsxs(Rr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},_ee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"contract-master",title:"Contract Master",description:"Manage contracts and commercial line items",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/commercial-agreements/contract-master"},{id:"agreement",title:"Agreement Management",description:"Generate and manage agreement documents",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/commercial-agreements/agreement"},{id:"agreement-clause",title:"Agreement Clause Management",description:"Manage legal clauses for agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/commercial-agreements/agreement-clause"}],l={"contract-master":["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],agreement:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],"agreement-clause":["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>bc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Rr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Commercial Agreements",subtitle:"Manage contracts and agreements"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Commercial / Agreements"}),e.jsx("p",{className:"master-subtitle",children:"Manage your commercial agreements at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No commercial modules available for your permissions."}):h.map(A=>e.jsxs(Rr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},Oee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=[{id:"training-certificate-management",title:"Training Certificate Management",description:"Manage training certificates and certifications",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/compliance-training/training-certificate-management"}],l={"training-certificate-management":["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"]},u=A=>{const g=Array.isArray(t)?t:[];return g.includes("*")?!0:(l[A]||[]).some(x=>bc(g,x))},h=d.filter(A=>u(A.id)).filter(A=>A.title.toLowerCase().includes(a.toLowerCase())||A.description.toLowerCase().includes(a.toLowerCase())),f=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:f.map(A=>e.jsx("li",{children:e.jsxs(Rr,{to:A.path,className:`nav-link ${A.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:A.icon}),!i&&e.jsx("span",{className:"nav-label",children:A.label})]})},A.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Compliance & Training",subtitle:"Manage compliance and training programs"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Compliance & Training"}),e.jsx("p",{className:"master-subtitle",children:"Manage your compliance and training at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:A=>s(A.target.value)})]})}),e.jsx("div",{className:"master-grid",children:h.length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No compliance modules available for your permissions."}):h.map(A=>e.jsxs(Rr,{to:A.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:A.icon}),e.jsx("h3",{className:"master-card-title",children:A.title}),e.jsx("p",{className:"master-card-description",children:A.description})]},A.id))})]})]})]})},Fee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},l=[{id:"company",title:"Company Master",description:"Manage company information and details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/company"},{id:"state",title:"State Master",description:"Manage state information and regions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/master/state"},{id:"area",title:"Area Master",description:"Manage area and zone information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),path:"/master/area"},{id:"category",title:"Category Master",description:"Organize items into categories",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"22"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"})]}),path:"/master/category"},{id:"color-code",title:"Color Code Master",description:"Manage color coding standards",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),e.jsx("circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor"}),e.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.289.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .437-.19.835-.5 1.125-.29.29-.7.5-1.125.5-.437 0-.835-.19-1.125-.5-.29-.29-.5-.7-.5-1.125 0-.942.722-1.688 1.648-1.688.437 0 .835.19 1.125.5.29.29.5.7.5 1.125 0 .942.722 1.688 1.648 1.688C17.254 22 18 21.254 18 20.328c0-.437-.19-.835-.5-1.125-.29-.29-.7-.5-1.125-.5-.437 0-.835.19-1.125.5-.29.29-.5.7-.5 1.125 0 .942-.722 1.688-1.648 1.688"})]}),path:"/master/color-code"},{id:"pcb-zone",title:"PCB Zone Master",description:"Manage PCB zone configurations",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"8.5",r:"1.5"}),e.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5"}),e.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5"})]}),path:"/master/pcb-zone"},{id:"frequency",title:"Frequency Master",description:"Manage frequency settings and schedules",icon:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),path:"/master/frequency"},{id:"hcf-type",title:"HCF Type Master",description:"Manage Healthcare Facility types",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/master/hcf-type"},{id:"user-management",title:"User Management",description:"Control user access and permissions",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/master/user-management"},{id:"hcf-master",title:"HCF Master",description:"Manage Healthcare Facility information",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/master/hcf-master"},{id:"hcf-amendments",title:"HCF Amendments",description:"Manage Healthcare Facility amendments",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),path:"/master/hcf-amendments"},{id:"fleet-management",title:"Fleet Management",description:"Manage vehicle fleet and logistics",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/master/fleet-management"},{id:"route-master",title:"Route Master",description:"Manage routes and pathways",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/master/route"},{id:"route-hcf-mapping",title:"RouteHCF Mapping",description:"Map routes to Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"}),e.jsx("path",{d:"M12 13l-2-2"}),e.jsx("path",{d:"M12 13l2-2"})]}),path:"/master/route-hcf-mapping"}].filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),u=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Array.isArray(t)&&t.includes("*")?[{path:"/admin/dashboard-configuration",label:"Dashboard Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),active:n.pathname==="/admin/dashboard-configuration"||n.pathname.startsWith("/admin/dashboard-configuration")},{path:"/admin/permission-configuration",label:"Permission Configuration",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 1l3 5 5 .5-3.6 3.3 1.1 5.2L12 12.9 6.5 15l1.1-5.2L4 6.5 9 6z"}),e.jsx("path",{d:"M20 21v-7a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M4 21v-7a2 2 0 0 1 2-2h3"})]}),active:n.pathname==="/admin/permission-configuration"||n.pathname.startsWith("/admin/permission-configuration")}]:[]],h={company:"COMPANY_VIEW",state:"STATE_VIEW",area:"AREA_VIEW",category:"CATEGORY_VIEW","color-code":"COLOR_VIEW","pcb-zone":"PCB_ZONE_VIEW",frequency:"FREQUENCY_VIEW","hcf-type":"HCF_TYPE_VIEW","user-management":"USER_VIEW","hcf-master":"HCF_VIEW","hcf-amendments":"HCF_AMENDMENT_VIEW","fleet-management":"FLEET_VIEW","route-master":"ROUTE_VIEW","route-hcf-mapping":"ROUTE_HCF_VIEW"},f=g=>{const m=Array.isArray(t)?t:[];if(m.includes("*"))return!0;const x=h[g];return x?bc(m,x):!1},A=u.filter(g=>g.path==="/dashboard"?Qn(t,"dashboard"):g.path==="/transaction"?Qn(t,"transaction"):g.path==="/finance"?Qn(t,"finance"):g.path==="/commercial-agreements"?Qn(t,"commercial"):g.path==="/compliance-training"?Qn(t,"compliance"):g.path==="/master"?Qn(t,"master"):g.path==="/report"?Qn(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!i&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:A.map(g=>e.jsx("li",{children:e.jsxs(Rr,{to:g.path,className:`nav-link ${g.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),!i&&e.jsx("span",{className:"nav-label",children:g.label})]})},g.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Master Data",subtitle:"Manage master data and configurations"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Masters"}),e.jsx("p",{className:"master-subtitle",children:"Manage your data at one place"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:g=>s(g.target.value)})]})}),e.jsxs("div",{className:"master-grid",children:[l.filter(g=>f(g.id)).map(g=>e.jsxs(Rr,{to:g.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:g.icon}),e.jsx("h3",{className:"master-card-title",children:g.title}),e.jsx("p",{className:"master-card-description",children:g.description})]},g.id)),l.filter(g=>f(g.id)).length===0?e.jsx("div",{style:{color:"#64748b",fontSize:13,padding:"8px 4px"},children:"No master modules available for your permissions."}):null]})]})]})]})},Pee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},c=Ma(),[o,d]=C.useState(""),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,b]=C.useState(null),[j,S]=C.useState({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),[w,E]=C.useState("all"),[I]=C.useState([{id:"1",stateCode:"MH",stateName:"Maharashtra",status:"Active"},{id:"2",stateCode:"DL",stateName:"Delhi",status:"Active"},{id:"3",stateCode:"KA",stateName:"Karnataka",status:"Active"},{id:"4",stateCode:"TN",stateName:"Tamil Nadu",status:"Active"},{id:"5",stateCode:"GJ",stateName:"Gujarat",status:"Active"}]),[L]=C.useState([{id:"1",pcbZoneName:"Zone A",pcbZoneAddress:"123 Industrial Area, Mumbai",contactNum:"+91-9876543210",contactEmail:"zonea@example.com",alertEmail:"alert.zonea@example.com",status:"Active"},{id:"2",pcbZoneName:"Zone B",pcbZoneAddress:"456 Commercial Street, Delhi",contactNum:"+91-9876543211",contactEmail:"zoneb@example.com",alertEmail:"alert.zoneb@example.com",status:"Active"},{id:"3",pcbZoneName:"Zone C",pcbZoneAddress:"789 Business Park, Bangalore",contactNum:"+91-9876543212",contactEmail:"zonec@example.com",alertEmail:"alert.zonec@example.com",status:"Active"}]),[Z,ne]=C.useState([]),G=q=>({id:q.id,companyCode:q.companyCode,companyName:q.companyName,regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:q.status,createdBy:q.createdBy||"System",createdOn:q.createdOn,modifiedBy:q.modifiedBy||"System",modifiedOn:q.modifiedOn}),le=async()=>{x(!0),b(null);try{const ie=(await ia.getAllCompanies(!0)).map(J=>G(J));ne(ie)}catch(q){const ie=q.message||"Failed to load companies";if(console.error("Error loading companies:",q),ie.includes("not authenticated")||ie.includes("Unauthorized")||ie.includes("401")||ie.includes("403")||(q==null?void 0:q.status)===401||(q==null?void 0:q.status)===403){localStorage.removeItem("mw-auth-user"),c("/login",{replace:!0});return}b(ie)}finally{x(!1)}};C.useEffect(()=>{le()},[]);const V=As(t,n.pathname),me=Z.filter(q=>{const ie=o.toLowerCase(),J=!ie||(q.companyName||"").toLowerCase().includes(ie)||(q.companyCode||"").toLowerCase().includes(ie)||(q.gstin||"").toLowerCase().includes(ie),D=!j.companyCode||(q.companyCode||"").toLowerCase().includes(j.companyCode.toLowerCase()),ce=!j.companyName||(q.companyName||"").toLowerCase().includes(j.companyName.toLowerCase()),te=!j.gstin||(q.gstin||"").toLowerCase().includes(j.gstin.toLowerCase()),ge=!j.state||(q.state||"").toLowerCase().includes(j.state.toLowerCase()),pe=!j.pcbZone||(q.pcbZoneID||"").toLowerCase().includes(j.pcbZone.toLowerCase()),be=w==="all"||q.status===w;return J&&D&&ce&&te&&ge&&pe&&be}),$=()=>{g(null),u(!0)},X=q=>{g(q),u(!0)},Ce=async q=>{if(window.confirm("Are you sure you want to delete this company?")){x(!0),b(null);try{await ia.deleteCompany(q),await le()}catch(ie){b(ie.message||"Failed to delete company"),console.error("Error deleting company:",ie)}finally{x(!1)}}},M=async q=>{x(!0),b(null);try{if(A){const ie={companyCode:q.companyCode,companyName:q.companyName,status:q.status};await ia.updateCompany(A.id,ie)}else{if(!q.companyCode||!q.companyName)throw new Error("Company Code and Company Name are required");const ie={companyCode:q.companyCode,companyName:q.companyName};await ia.createCompany(ie)}await le(),u(!1),g(null)}catch(ie){const J=ie.message||"Failed to save company";b(J),console.error("Error saving company:",ie),(J.includes("403")||J.includes("401")||J.includes("Unauthorized"))&&b("Authentication failed. Please login again.")}finally{x(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:V.map(q=>e.jsx("li",{children:e.jsxs(Rr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!a&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Company Master",subtitle:"Manage company master data"}),y&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),m&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading..."}),e.jsxs("div",{className:"company-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Company Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage company information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by company code, name, GSTIN...",value:o,onChange:q=>d(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>f(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Company"]})]})]}),e.jsx("div",{className:"company-master-table-container",children:e.jsxs("table",{className:"company-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"CODE"}),e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"GSTIN"}),e.jsx("th",{children:"STATE"}),e.jsx("th",{children:"PCB ZONE"}),e.jsx("th",{children:"GST FROM"}),e.jsx("th",{children:"GST RATE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:m?"Loading...":"No companies found"})}):me.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyCode||"-"}),e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.gstin||"-"}),e.jsx("td",{children:q.state||"-"}),e.jsx("td",{children:q.pcbZoneID||"-"}),e.jsx("td",{children:q.gstValidFrom||"-"}),e.jsx("td",{children:q.gstRate||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),h&&e.jsx(Mee,{statusFilter:w,advancedFilters:j,onClose:()=>f(!1),onClear:()=>{S({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),E("all"),d("")},onApply:q=>{E(q.statusFilter),S(q.advancedFilters),f(!1)}}),l&&e.jsx(Dee,{company:A,states:I.filter(q=>q.status==="Active"),pcbZones:L.filter(q=>q.status==="Active"),loading:m,onClose:()=>{u(!1),g(null)},onSave:M})]})},Dee=({company:r,states:t,pcbZones:n,loading:a=!1,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{companyCode:"",companyName:"",regdOfficeAddress:"",adminOfficeAddress:"",factoryAddress:"",gstin:"",state:"",pincode:"",prefix:"",authPersonName:"",authPersonDesignation:"",authPersonDOB:"",pcbauthNum:"",ctoWaterNum:"",ctoWaterDate:"",ctoWaterValidUpto:"",ctoAirNum:"",ctoAirDate:"",ctoAirValidUpto:"",cteWaterNum:"",cteWaterDate:"",cteWaterValidUpto:"",cteAirNum:"",cteAirDate:"",cteAirValidUpto:"",hazardousWasteNum:"",pcbZoneID:"",gstValidFrom:"",gstRate:"",status:"Active"}),[d,l]=C.useState(1),[u,h]=C.useState({cto:!0,cte:!0}),f=j=>{h(S=>({...S,[j]:!S[j]}))},A=j=>{if(!j)return!1;const S=new Date(j),w=new Date,E=S.getTime()-w.getTime(),I=Math.ceil(E/(1e3*60*60*24));return I>=0&&I<=30},g=[{number:1,title:"Basic Information",icon:"building",key:"basicInfo"},{number:2,title:"Addresses",icon:"map-pin",key:"addresses"},{number:3,title:"Authorized Person",icon:"user",key:"authorizedPerson"},{number:4,title:"PCB & Compliance",icon:"shield",key:"pcbCompliance"},{number:5,title:"Environmental Clearances",icon:"water",key:"environmentalClearances"},{number:6,title:"GST Details",icon:"document",key:"gstDetails"}],m=()=>{d<6&&l(d+1)},x=()=>{d>1&&l(d-1)},y=j=>{j&&j.preventDefault(),d===6&&i(c)},b=j=>{switch(j){case"building":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]});case"map-pin":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"user":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]});case"shield":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});case"water":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})});case"document":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]});default:return null}};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content company-form-modal wizard-modal",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"modal-header company-form-header",children:[e.jsxs("div",{className:"modal-header-content",children:[e.jsx("div",{className:"modal-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsx("h2",{className:"modal-title",children:r?"Edit Company":"Add Company"})]}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:g.map(j=>{const S=d>=j.number,w=d===j.number,E=w;return e.jsxs("div",{className:`wizard-step ${S?"wizard-step--active":""} ${w?"wizard-step--current":""}`,children:[e.jsx("div",{className:"wizard-step-icon-wrapper",children:E?e.jsx("div",{className:"wizard-step-icon",children:b(j.icon)}):e.jsx("div",{className:"wizard-step-number",children:j.number})}),e.jsx("div",{className:"wizard-step-title",children:j.title})]},j.number)})}),e.jsx("div",{className:"wizard-content",children:e.jsxs("form",{className:"company-form",onSubmit:y,children:[d===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon",children:b("building")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Basic Information"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Company Code ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.companyCode||"",onChange:j=>o({...c,companyCode:j.target.value}),placeholder:"e.g., COMP001",required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Company Name ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.companyName||"",onChange:j=>o({...c,companyName:j.target.value}),placeholder:"Enter company name",required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["GSTIN ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:c.gstin||"",onChange:j=>o({...c,gstin:j.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["State ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("select",{value:c.state||"",onChange:j=>o({...c,state:j.target.value}),required:!0,className:"form-select",children:[e.jsx("option",{value:"",children:"Select State"}),t.map(j=>e.jsx("option",{value:j.stateCode,children:j.stateCode},j.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Pincode"}),e.jsx("input",{type:"text",value:c.pincode||"",onChange:j=>o({...c,pincode:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Prefix"}),e.jsx("input",{type:"text",value:c.prefix||"",onChange:j=>o({...c,prefix:j.target.value}),placeholder:"e.g., TI",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:j=>o({...c,status:j.target.value}),className:"form-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),d===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-pink",children:b("map-pin")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Addresses"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Registered Office Address"}),e.jsx("textarea",{value:c.regdOfficeAddress||"",onChange:j=>o({...c,regdOfficeAddress:j.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Admin Office Address"}),e.jsx("textarea",{value:c.adminOfficeAddress||"",onChange:j=>o({...c,adminOfficeAddress:j.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Factory Address"}),e.jsx("textarea",{value:c.factoryAddress||"",onChange:j=>o({...c,factoryAddress:j.target.value}),rows:3,className:"form-textarea"})]})]})]}),d===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-green",children:b("user")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Authorized Person"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",value:c.authPersonName||"",onChange:j=>o({...c,authPersonName:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Designation"}),e.jsx("input",{type:"text",value:c.authPersonDesignation||"",onChange:j=>o({...c,authPersonDesignation:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Date of Birth"}),e.jsx("input",{type:"date",value:c.authPersonDOB||"",onChange:j=>o({...c,authPersonDOB:j.target.value}),className:"form-input"})]})]})]}),d===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:b("shield")}),e.jsx("h3",{className:"wizard-step-header-title",children:"PCB & Compliance"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"PCB Auth Num"}),e.jsx("input",{type:"text",value:c.pcbauthNum||"",onChange:j=>o({...c,pcbauthNum:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hazardous Waste Num"}),e.jsx("input",{type:"text",value:c.hazardousWasteNum||"",onChange:j=>o({...c,hazardousWasteNum:j.target.value}),className:"form-input"})]})]})]}),d===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-orange",children:b("water")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Environmental Clearances"})]}),e.jsxs("div",{className:"env-clearance-section",children:[e.jsxs("div",{className:"env-clearance-section-header",onClick:()=>f("cto"),children:[e.jsx("h4",{className:"env-clearance-section-title",children:"CTO (Consent To Operate)"}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`env-clearance-section-arrow ${u.cto?"expanded":""}`,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),u.cto&&e.jsxs("div",{className:"env-clearance-grid",children:[e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Water"}),A(c.ctoWaterValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.ctoWaterNum||"",onChange:j=>o({...c,ctoWaterNum:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.ctoWaterDate||"",onChange:j=>o({...c,ctoWaterDate:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.ctoWaterValidUpto||"",onChange:j=>o({...c,ctoWaterValidUpto:j.target.value}),className:`form-input ${A(c.ctoWaterValidUpto||"")?"form-input--warning":""}`})]})]})]}),e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Air"}),A(c.ctoAirValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.ctoAirNum||"",onChange:j=>o({...c,ctoAirNum:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.ctoAirDate||"",onChange:j=>o({...c,ctoAirDate:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.ctoAirValidUpto||"",onChange:j=>o({...c,ctoAirValidUpto:j.target.value}),className:`form-input ${A(c.ctoAirValidUpto||"")?"form-input--warning":""}`})]})]})]})]})]}),e.jsxs("div",{className:"env-clearance-section",children:[e.jsxs("div",{className:"env-clearance-section-header",onClick:()=>f("cte"),children:[e.jsx("h4",{className:"env-clearance-section-title",children:"CTE (Consent To Establish)"}),e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`env-clearance-section-arrow ${u.cte?"expanded":""}`,children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),u.cte&&e.jsxs("div",{className:"env-clearance-grid",children:[e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Water"}),A(c.cteWaterValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.cteWaterNum||"",onChange:j=>o({...c,cteWaterNum:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.cteWaterDate||"",onChange:j=>o({...c,cteWaterDate:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.cteWaterValidUpto||"",onChange:j=>o({...c,cteWaterValidUpto:j.target.value}),className:`form-input ${A(c.cteWaterValidUpto||"")?"form-input--warning":""}`})]})]})]}),e.jsxs("div",{className:"env-clearance-column",children:[e.jsxs("div",{className:"env-clearance-column-header",children:[e.jsx("h5",{className:"env-clearance-column-title",children:"Air"}),A(c.cteAirValidUpto||"")&&e.jsx("span",{className:"env-clearance-warning-badge",children:"Expiring Soon"})]}),e.jsxs("div",{className:"env-clearance-column-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certificate Number"}),e.jsx("input",{type:"text",value:c.cteAirNum||"",onChange:j=>o({...c,cteAirNum:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Issue Date"}),e.jsx("input",{type:"date",value:c.cteAirDate||"",onChange:j=>o({...c,cteAirDate:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Expiry Date"}),e.jsx("input",{type:"date",value:c.cteAirValidUpto||"",onChange:j=>o({...c,cteAirValidUpto:j.target.value}),className:`form-input ${A(c.cteAirValidUpto||"")?"form-input--warning":""}`})]})]})]})]})]})]}),d===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:b("document")}),e.jsx("h3",{className:"wizard-step-header-title",children:"GST Details"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"PCB Zone ID"}),e.jsxs("select",{value:c.pcbZoneID||"",onChange:j=>o({...c,pcbZoneID:j.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),n.map(j=>e.jsx("option",{value:j.pcbZoneName,children:j.pcbZoneName},j.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"GST Valid From"}),e.jsx("input",{type:"date",value:c.gstValidFrom||"",onChange:j=>o({...c,gstValidFrom:j.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"GST Rate"}),e.jsx("input",{type:"text",value:c.gstRate||"",onChange:j=>o({...c,gstRate:j.target.value}),placeholder:"e.g., 18%",className:"form-input"})]})]})]})]})}),e.jsxs("div",{className:"modal-footer wizard-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),d>1&&e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Back"}),d<6?e.jsx("button",{type:"button",className:"btn btn--primary",onClick:m,children:"Next"}):e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:a,children:a?"Saving...":"Save Company"})]})]})})},Mee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter companies by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Code"}),e.jsx("input",{type:"text",value:o.companyCode,onChange:l=>d({...o,companyCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter company code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"GSTIN"}),e.jsx("input",{type:"text",value:o.gstin,onChange:l=>d({...o,gstin:l.target.value}),className:"cm-filter-input",placeholder:"Enter GSTIN"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:o.state,onChange:l=>d({...o,state:l.target.value}),className:"cm-filter-input",placeholder:"Enter state"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"PCB Zone"}),e.jsx("input",{type:"text",value:o.pcbZone,onChange:l=>d({...o,pcbZone:l.target.value}),className:"cm-filter-input",placeholder:"Enter PCB zone"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({companyCode:"",companyName:"",gstin:"",state:"",pcbZone:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Ree="http://localhost:3000/api/v1",Lee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ng=async(r,t={})=>{const n=Lee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Ree}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Wg={createState:async r=>(await ng("/states",{method:"POST",body:JSON.stringify(r)})).data,getStateById:async r=>(await ng(`/states/${r}`,{method:"GET"})).data,getAllStates:async(r=!1)=>(await ng(r?"/states?activeOnly=true":"/states",{method:"GET"})).data,updateState:async(r,t)=>(await ng(`/states/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteState:async r=>{await ng(`/states/${r}`,{method:"DELETE"})}},Uee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState(!1),[b,j]=C.useState(null),[S,w]=C.useState({stateCode:"",stateName:""}),[E,I]=C.useState("all"),L=async()=>{y(!0),j(null);try{const X=(await Wg.getAllStates(!0)).map(Ce=>({id:Ce.id,stateCode:Ce.stateCode,stateName:Ce.stateName,status:Ce.status,createdBy:Ce.createdBy||"",createdOn:Ce.createdOn,modifiedBy:Ce.modifiedBy||"",modifiedOn:Ce.modifiedOn}));m(X)}catch($){const X=$ instanceof Error?$.message:"Failed to load states";j(X),console.error("Error loading states:",$)}finally{y(!1)}};C.useEffect(()=>{L()},[]);const Z=As(t,n.pathname),ne=g.filter($=>{const X=c.trim().toLowerCase(),Ce=S.stateCode.trim().toLowerCase(),M=S.stateName.trim().toLowerCase(),q=!X||$.stateName.toLowerCase().includes(X)||$.stateCode.toLowerCase().includes(X),ie=!Ce||$.stateCode.toLowerCase().includes(Ce),J=!M||$.stateName.toLowerCase().includes(M),D=E==="all"||$.status===E;return q&&ie&&J&&D}),G=()=>{A(null),l(!0)},le=$=>{A($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this state?"))try{y(!0),await Wg.deleteState($),await L(),alert("State deleted successfully")}catch(X){const Ce=X instanceof Error?X.message:"Failed to delete state";alert(`Error: ${Ce}`),console.error("Error deleting state:",X)}finally{y(!1)}},me=async $=>{try{if(y(!0),j(null),f)await Wg.updateState(f.id,{status:$.status}),alert("State updated successfully");else{if(!$.stateCode||!$.stateName){alert("Please fill in all required fields");return}await Wg.createState({stateCode:$.stateCode,stateName:$.stateName}),alert("State created successfully")}l(!1),A(null),await L()}catch(X){const Ce=X instanceof Error?X.message:"Failed to save state";j(Ce),alert(`Error: ${Ce}`),console.error("Error saving state:",X)}finally{y(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map($=>e.jsx("li",{children:e.jsxs(Rr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"State Master",subtitle:"Manage state master data"}),b&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),x&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading states..."}),e.jsxs("div",{className:"state-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"State Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage state information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by state code, name...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add State"]})]})]}),e.jsx("div",{className:"state-master-table-container",children:e.jsxs("table",{className:"state-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"STATE CODE"}),e.jsx("th",{children:"STATE NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"empty-message",children:x?"Loading...":"No states found"})}):ne.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.stateCode||"-"}),e.jsx("td",{children:$.stateName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ne.length," of ",g.length," items"]})]})]}),u&&e.jsx(Hee,{statusFilter:E,advancedFilters:S,onClose:()=>h(!1),onClear:()=>{w({stateCode:"",stateName:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),h(!1)}}),d&&e.jsx(Qee,{state:f,onClose:()=>{l(!1),A(null)},onSave:me})]})},Hee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter states by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State Code"}),e.jsx("input",{type:"text",value:o.stateCode,onChange:l=>d({...o,stateCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter state code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"State Name"}),e.jsx("input",{type:"text",value:o.stateName,onChange:l=>d({...o,stateName:l.target.value}),className:"cm-filter-input",placeholder:"Enter state name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({stateCode:"",stateName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Qee=({state:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{stateCode:"",stateName:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit State":"Add State"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"state-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Code *"}),e.jsx("input",{type:"text",value:a.stateCode||"",onChange:c=>s({...a,stateCode:c.target.value}),required:!0,maxLength:10,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State Name *"}),e.jsx("input",{type:"text",value:a.stateName||"",onChange:c=>s({...a,stateName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Wee="http://localhost:3000/api/v1",$ee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ag=async(r,t={})=>{const n=$ee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Wee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},$g={createArea:async r=>(await ag("/areas",{method:"POST",body:JSON.stringify(r)})).data,getAreaById:async r=>(await ag(`/areas/${r}`,{method:"GET"})).data,getAllAreas:async(r=!1)=>(await ag(r?"/areas?activeOnly=true":"/areas",{method:"GET"})).data,updateArea:async(r,t)=>(await ag(`/areas/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteArea:async r=>{await ag(`/areas/${r}`,{method:"DELETE"})}},Vee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState(!1),[b,j]=C.useState(null),[S,w]=C.useState({areaCode:"",areaName:"",areaPincode:""}),[E,I]=C.useState("all"),L=async()=>{y(!0),j(null);try{const X=(await $g.getAllAreas(!0)).map(Ce=>({id:Ce.id,areaCode:Ce.areaCode,areaName:Ce.areaName,areaPincode:Ce.areaPincode,status:Ce.status,createdBy:Ce.createdBy||"",createdOn:Ce.createdOn,modifiedBy:Ce.modifiedBy||"",modifiedOn:Ce.modifiedOn}));m(X)}catch($){const X=$ instanceof Error?$.message:"Failed to load areas";j(X),console.error("Error loading areas:",$)}finally{y(!1)}};C.useEffect(()=>{L()},[]);const Z=As(t,n.pathname),ne=g.filter($=>{const X=c.trim().toLowerCase(),Ce=S.areaCode.trim().toLowerCase(),M=S.areaName.trim().toLowerCase(),q=S.areaPincode.trim().toLowerCase(),ie=!X||$.areaName.toLowerCase().includes(X)||$.areaCode.toLowerCase().includes(X)||$.areaPincode.toLowerCase().includes(X),J=!Ce||$.areaCode.toLowerCase().includes(Ce),D=!M||$.areaName.toLowerCase().includes(M),ce=!q||$.areaPincode.toLowerCase().includes(q),te=E==="all"||$.status===E;return ie&&J&&D&&ce&&te}),G=()=>{A(null),l(!0)},le=$=>{A($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this area?"))try{y(!0),await $g.deleteArea($),await L(),alert("Area deleted successfully")}catch(X){const Ce=X instanceof Error?X.message:"Failed to delete area";alert(`Error: ${Ce}`),console.error("Error deleting area:",X)}finally{y(!1)}},me=async $=>{try{if(y(!0),j(null),f)await $g.updateArea(f.id,{areaPincode:$.areaPincode,status:$.status}),alert("Area updated successfully");else{if(!$.areaCode||!$.areaName||!$.areaPincode){alert("Please fill in all required fields");return}await $g.createArea({areaCode:$.areaCode,areaName:$.areaName,areaPincode:$.areaPincode}),alert("Area created successfully")}l(!1),A(null),await L()}catch(X){const Ce=X instanceof Error?X.message:"Failed to save area";j(Ce),alert(`Error: ${Ce}`),console.error("Error saving area:",X)}finally{y(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map($=>e.jsx("li",{children:e.jsxs(Rr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Area Master",subtitle:"Manage area master data"}),b&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),x&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading areas..."}),e.jsxs("div",{className:"area-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Area Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage area information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by area code, name, pincode...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Area"]})]})]}),e.jsx("div",{className:"area-master-table-container",children:e.jsxs("table",{className:"area-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"AREA CODE"}),e.jsx("th",{children:"AREA NAME"}),e.jsx("th",{children:"AREA PINCODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:x?"Loading...":"No areas found"})}):ne.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.areaCode||"-"}),e.jsx("td",{children:$.areaName||"-"}),e.jsx("td",{children:$.areaPincode||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ne.length," of ",g.length," items"]})]})]}),u&&e.jsx(zee,{statusFilter:E,advancedFilters:S,onClose:()=>h(!1),onClear:()=>{w({areaCode:"",areaName:"",areaPincode:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),h(!1)}}),d&&e.jsx(Gee,{area:f,onClose:()=>{l(!1),A(null)},onSave:me})]})},zee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter areas by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Code"}),e.jsx("input",{type:"text",value:o.areaCode,onChange:l=>d({...o,areaCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter area code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Name"}),e.jsx("input",{type:"text",value:o.areaName,onChange:l=>d({...o,areaName:l.target.value}),className:"cm-filter-input",placeholder:"Enter area name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Area Pincode"}),e.jsx("input",{type:"text",value:o.areaPincode,onChange:l=>d({...o,areaPincode:l.target.value}),className:"cm-filter-input",placeholder:"Enter area pincode"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({areaCode:"",areaName:"",areaPincode:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Gee=({area:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{areaCode:"",areaName:"",areaPincode:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Area":"Add Area"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"area-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Code *"}),e.jsx("input",{type:"text",value:a.areaCode||"",onChange:c=>s({...a,areaCode:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Name *"}),e.jsx("input",{type:"text",value:a.areaName||"",onChange:c=>s({...a,areaName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Pincode *"}),e.jsx("input",{type:"text",value:a.areaPincode||"",onChange:c=>s({...a,areaPincode:c.target.value}),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Kee="http://localhost:3000/api/v1",qee=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},sg=async(r,t={})=>{const n=qee(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Kee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Fh={createCategory:async r=>(await sg("/categories",{method:"POST",body:JSON.stringify(r)})).data,getCategoryById:async r=>(await sg(`/categories/${r}`,{method:"GET"})).data,getAllCategories:async(r,t=!1)=>{let n="/categories";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await sg(n,{method:"GET"})).data},updateCategory:async(r,t)=>(await sg(`/categories/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCategory:async r=>{await sg(`/categories/${r}`,{method:"DELETE"})}},Xee=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[b,j]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState({categoryCode:"",categoryName:"",companyName:""}),[L,Z]=C.useState("all"),ne=async()=>{try{const q=(await ia.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(q)}catch(M){console.error("Error loading companies:",M)}},G=async()=>{j(!0),w(null);try{const q=(await Fh.getAllCategories(void 0,!0)).map(ie=>{const J=x.find(D=>D.id===ie.companyId);return{id:ie.id,companyName:(J==null?void 0:J.companyName)||"Unknown Company",categoryCode:ie.categoryCode,categoryName:ie.categoryName,status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(q)}catch(M){const q=M instanceof Error?M.message:"Failed to load categories";w(q),console.error("Error loading categories:",M),m([])}finally{j(!1)}};C.useEffect(()=>{(async()=>{await ne()})()},[]),C.useEffect(()=>{x.length>0&&G()},[x.length]);const le=As(t,n.pathname),V=g.filter(M=>{const q=c.trim().toLowerCase(),ie=E.categoryCode.trim().toLowerCase(),J=E.categoryName.trim().toLowerCase(),D=E.companyName.trim().toLowerCase(),ce=!q||M.categoryName.toLowerCase().includes(q)||M.categoryCode.toLowerCase().includes(q)||M.companyName.toLowerCase().includes(q),te=!ie||M.categoryCode.toLowerCase().includes(ie),ge=!J||M.categoryName.toLowerCase().includes(J),pe=!D||M.companyName.toLowerCase().includes(D),be=L==="all"||M.status===L;return ce&&te&&ge&&pe&&be}),me=()=>{A(null),l(!0)},$=M=>{A(M),l(!0)},X=async M=>{if(window.confirm("Are you sure you want to delete this category?"))try{j(!0),await Fh.deleteCategory(M),await G(),alert("Category deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete category";alert(`Error: ${ie}`),console.error("Error deleting category:",q)}finally{j(!1)}},Ce=async M=>{try{j(!0),w(null);const q=x.find(ie=>ie.companyName===M.companyName);if(!q){alert("Please select a valid company");return}if(f)await Fh.updateCategory(f.id,{status:M.status}),alert("Category updated successfully");else{if(!M.categoryCode||!M.categoryName||!M.companyName){alert("Please fill in all required fields");return}await Fh.createCategory({categoryCode:M.categoryCode,categoryName:M.categoryName,companyId:q.id}),alert("Category created successfully")}l(!1),A(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save category";w(ie),alert(`Error: ${ie}`),console.error("Error saving category:",q)}finally{j(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),!a&&e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Category Master",subtitle:"Manage category master data"}),S&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),b&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading categories..."}),e.jsxs("div",{className:"category-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),e.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Category Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage category information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by category code, name, company...",value:c,onChange:M=>o(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Category"]})]})]}),e.jsx("div",{className:"category-master-table-container",children:e.jsxs("table",{className:"category-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"CATEGORY CODE"}),e.jsx("th",{children:"CATEGORY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:b?"Loading...":"No categories found"})}):V.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.companyName||"-"}),e.jsx("td",{children:M.categoryCode||"-"}),e.jsx("td",{children:M.categoryName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",g.length," items"]})]})]}),u&&e.jsx(Yee,{statusFilter:L,advancedFilters:E,onClose:()=>h(!1),onClear:()=>{I({categoryCode:"",categoryName:"",companyName:""}),Z("all"),o("")},onApply:M=>{Z(M.statusFilter),I(M.advancedFilters),h(!1)}}),d&&e.jsx(Jee,{category:f,companies:x.filter(M=>M.status==="Active"),onClose:()=>{l(!1),A(null)},onSave:Ce})]})},Yee=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter categories by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Category Code"}),e.jsx("input",{type:"text",value:o.categoryCode,onChange:l=>d({...o,categoryCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter category code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",value:o.categoryName,onChange:l=>d({...o,categoryName:l.target.value}),className:"cm-filter-input",placeholder:"Enter category name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({categoryCode:"",categoryName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Jee=({category:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",categoryCode:"",categoryName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Category":"Add Category"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"category-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Code *"}),e.jsx("input",{type:"text",value:s.categoryCode||"",onChange:o=>i({...s,categoryCode:o.target.value}),required:!0,placeholder:"Enter Category Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name *"}),e.jsx("input",{type:"text",value:s.categoryName||"",onChange:o=>i({...s,categoryName:o.target.value}),required:!0,placeholder:"Enter Category Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Zee="http://localhost:3000/api/v1",ete=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ig=async(r,t={})=>{const n=ete(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Zee}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Vg={createPcbZone:async r=>(await ig("/pcb-zones",{method:"POST",body:JSON.stringify(r)})).data,getPcbZoneById:async r=>(await ig(`/pcb-zones/${r}`,{method:"GET"})).data,getAllPcbZones:async(r=!1)=>(await ig(r?"/pcb-zones?activeOnly=true":"/pcb-zones",{method:"GET"})).data,updatePcbZone:async(r,t)=>(await ig(`/pcb-zones/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deletePcbZone:async r=>{await ig(`/pcb-zones/${r}`,{method:"DELETE"})}},tte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(null),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[b,j]=C.useState(!1),[S,w]=C.useState({pcbZoneName:"",contactEmail:""}),[E,I]=C.useState("all"),L=async()=>{m(!0),y(null);try{const X=(await Vg.getAllPcbZones(!0)).map(Ce=>({id:Ce.id,pcbZoneName:Ce.pcbZoneName,pcbZoneAddress:Ce.pcbZoneAddress||"",contactNum:Ce.contactNum||"",contactEmail:Ce.contactEmail||"",alertEmail:Ce.alertEmail||"",status:Ce.status,createdBy:Ce.createdBy||"",createdOn:Ce.createdOn,modifiedBy:Ce.modifiedBy||"",modifiedOn:Ce.modifiedOn}));A(X)}catch($){const X=$ instanceof Error?$.message:"Failed to load PCB zones";y(X),console.error("Error loading PCB zones:",$)}finally{m(!1)}};C.useEffect(()=>{L()},[]);const Z=As(t,n.pathname),ne=f.filter($=>{const X=c.trim().toLowerCase(),Ce=S.pcbZoneName.trim().toLowerCase(),M=S.contactEmail.trim().toLowerCase(),q=!X||$.pcbZoneName.toLowerCase().includes(X)||$.pcbZoneAddress.toLowerCase().includes(X)||$.contactEmail.toLowerCase().includes(X),ie=!Ce||$.pcbZoneName.toLowerCase().includes(Ce),J=!M||$.contactEmail.toLowerCase().includes(M),D=E==="all"||$.status===E;return q&&ie&&J&&D}),G=()=>{h(null),l(!0)},le=$=>{h($),l(!0)},V=async $=>{if(window.confirm("Are you sure you want to delete this PCB Zone?"))try{m(!0),await Vg.deletePcbZone($),await L(),alert("PCB Zone deleted successfully")}catch(X){const Ce=X instanceof Error?X.message:"Failed to delete PCB zone";alert(`Error: ${Ce}`),console.error("Error deleting PCB zone:",X)}finally{m(!1)}},me=async $=>{try{if(m(!0),y(null),u)await Vg.updatePcbZone(u.id,{pcbZoneAddress:$.pcbZoneAddress,contactNum:$.contactNum,contactEmail:$.contactEmail,alertEmail:$.alertEmail,status:$.status}),alert("PCB Zone updated successfully");else{if(!$.pcbZoneName){alert("Please fill in PCB Zone Name");return}await Vg.createPcbZone({pcbZoneName:$.pcbZoneName,pcbZoneAddress:$.pcbZoneAddress,contactNum:$.contactNum,contactEmail:$.contactEmail,alertEmail:$.alertEmail}),alert("PCB Zone created successfully")}l(!1),h(null),await L()}catch(X){const Ce=X instanceof Error?X.message:"Failed to save PCB zone";y(Ce),alert(`Error: ${Ce}`),console.error("Error saving PCB zone:",X)}finally{m(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Z.map($=>e.jsx("li",{children:e.jsxs(Rr,{to:$.path,className:`nav-link ${$.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:$.icon}),!a&&e.jsx("span",{className:"nav-label",children:$.label})]})},$.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"PCB Zone Master",subtitle:"Manage PCB zone master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!f.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading PCB zones..."}),e.jsxs("div",{className:"pcb-zone-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"PCB Zone Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage PCB zone information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by PCB zone name, address, email...",value:c,onChange:$=>o($.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>j(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:G,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add PCB Zone"]})]})]}),e.jsx("div",{className:"pcb-zone-master-table-container",children:e.jsxs("table",{className:"pcb-zone-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PCB ZONE NAME"}),e.jsx("th",{children:"PCB ZONE ADDRESS"}),e.jsx("th",{children:"CONTACT NUMBER"}),e.jsx("th",{children:"CONTACT EMAIL"}),e.jsx("th",{children:"ALERT EMAIL"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"empty-message",children:g?"Loading...":"No PCB zones found"})}):ne.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.pcbZoneName||"-"}),e.jsx("td",{children:$.pcbZoneAddress||"-"}),e.jsx("td",{children:$.contactNum||"-"}),e.jsx("td",{children:$.contactEmail||"-"}),e.jsx("td",{children:$.alertEmail||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${$.status.toLowerCase()}`,children:$.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>le($),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>le($),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>V($.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",ne.length," of ",f.length," items"]})]})]}),b&&e.jsx(rte,{statusFilter:E,advancedFilters:S,onClose:()=>j(!1),onClear:()=>{w({pcbZoneName:"",contactEmail:""}),I("all"),o("")},onApply:$=>{I($.statusFilter),w($.advancedFilters),j(!1)}}),d&&e.jsx(nte,{pcbZone:u,onClose:()=>{l(!1),h(null)},onSave:me})]})},rte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter PCB zones by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"PCB Zone Name"}),e.jsx("input",{type:"text",value:o.pcbZoneName,onChange:l=>d({...o,pcbZoneName:l.target.value}),className:"cm-filter-input",placeholder:"Enter PCB zone name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Contact Email"}),e.jsx("input",{type:"text",value:o.contactEmail,onChange:l=>d({...o,contactEmail:l.target.value}),className:"cm-filter-input",placeholder:"Enter contact email"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({pcbZoneName:"",contactEmail:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},nte=({pcbZone:r,onClose:t,onSave:n})=>{const[a,s]=C.useState(r||{pcbZoneName:"",pcbZoneAddress:"",contactNum:"",contactEmail:"",alertEmail:"",status:"Active"}),i=c=>{c.preventDefault(),n(a)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit PCB Zone":"Add PCB Zone"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"pcb-zone-form",onSubmit:i,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PCB Zone Name *"}),e.jsx("input",{type:"text",value:a.pcbZoneName||"",onChange:c=>s({...a,pcbZoneName:c.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"PCB Zone Address *"}),e.jsx("textarea",{value:a.pcbZoneAddress||"",onChange:c=>s({...a,pcbZoneAddress:c.target.value}),required:!0,rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Number *"}),e.jsx("input",{type:"tel",value:a.contactNum||"",onChange:c=>s({...a,contactNum:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Email *"}),e.jsx("input",{type:"email",value:a.contactEmail||"",onChange:c=>s({...a,contactEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alert Email *"}),e.jsx("input",{type:"email",value:a.alertEmail||"",onChange:c=>s({...a,alertEmail:c.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:a.status||"Active",onChange:c=>s({...a,status:c.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ate="http://localhost:3000/api/v1",ste=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},og=async(r,t={})=>{const n=ste(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ate}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},cA={createRoute:async r=>(await og("/routes",{method:"POST",body:JSON.stringify(r)})).data,getRouteById:async r=>(await og(`/routes/${r}`,{method:"GET"})).data,getAllRoutes:async(r=!1)=>(await og(r?"/routes?activeOnly=true":"/routes",{method:"GET"})).data,updateRoute:async(r,t)=>(await og(`/routes/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRoute:async r=>{await og(`/routes/${r}`,{method:"DELETE"})}},ite="http://localhost:3000/api/v1",ote=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},lg=async(r,t={})=>{const n=ote(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ite}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Gp={createFrequency:async r=>(await lg("/frequencies",{method:"POST",body:JSON.stringify(r)})).data,getFrequencyById:async r=>(await lg(`/frequencies/${r}`,{method:"GET"})).data,getAllFrequencies:async(r,t=!1)=>{let n="/frequencies";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await lg(n,{method:"GET"})).data},updateFrequency:async(r,t)=>(await lg(`/frequencies/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteFrequency:async r=>{await lg(`/frequencies/${r}`,{method:"DELETE"})}},lte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState({routeCode:"",routeName:"",companyName:""}),[h,f]=C.useState("all"),[A,g]=C.useState(null),[m,x]=C.useState([]),[y,b]=C.useState([]),[j,S]=C.useState([]),[w,E]=C.useState(!1),[I,L]=C.useState(null),Z=async()=>{try{const q=(await ia.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));b(q)}catch(M){console.error("Error loading companies:",M)}},ne=async()=>{try{const q=(await Gp.getAllFrequencies(void 0,!0)).map(ie=>({id:ie.id,frequencyCode:ie.frequencyCode,frequencyName:ie.frequencyName,companyName:ie.companyName||"",status:ie.status}));S(q)}catch(M){console.error("Error loading frequencies:",M)}},G=async()=>{E(!0),L(null);try{let M=y;M.length===0&&(M=(await ia.getAllCompanies(!0)).map(ce=>({id:ce.id,companyCode:ce.companyCode,companyName:ce.companyName,status:ce.status})),b(M));let q=j;q.length===0&&(q=(await Gp.getAllFrequencies(void 0,!0)).map(ce=>({id:ce.id,frequencyCode:ce.frequencyCode,frequencyName:ce.frequencyName,companyName:ce.companyName||"",status:ce.status})),S(q));const J=(await cA.getAllRoutes(!0)).map(D=>{const ce=M.find(be=>be.id===D.companyId),te=(ce==null?void 0:ce.companyName)||"Unknown",ge=q.find(be=>be.id===D.frequencyId),pe=(ge==null?void 0:ge.frequencyCode)||D.frequencyId||"";return{id:D.id,companyName:te,routeCode:D.routeCode,routeName:D.routeName,frequencyID:pe,status:D.status,createdBy:D.createdBy||"",createdOn:D.createdOn,modifiedBy:D.modifiedBy||"",modifiedOn:D.modifiedOn}});x(J)}catch(M){const q=M instanceof Error?M.message:"Failed to load routes";L(q),console.error("Error loading routes:",M)}finally{E(!1)}};C.useEffect(()=>{(async()=>{await Z(),await ne(),await G()})()},[]);const le=As(t,n.pathname),V=m.filter(M=>M.routeName.toLowerCase().includes(a.toLowerCase())||M.routeCode.toLowerCase().includes(a.toLowerCase())||M.frequencyID.toLowerCase().includes(a.toLowerCase())||M.companyName.toLowerCase().includes(a.toLowerCase())),me=()=>{g(null),c(!0)},$=M=>{g(M),c(!0)},X=async M=>{if(window.confirm("Are you sure you want to delete this route?"))try{E(!0),await cA.deleteRoute(M),await G(),alert("Route deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete route";alert(`Error: ${ie}`),console.error("Error deleting route:",q)}finally{E(!1)}},Ce=async M=>{try{E(!0),L(null);const q=y.find(J=>J.companyName===M.companyName);if(!q){alert("Please select a valid company");return}const ie=j.find(J=>J.frequencyCode===M.frequencyID);if(A)await cA.updateRoute(A.id,{frequencyId:ie==null?void 0:ie.id,status:M.status}),alert("Route updated successfully");else{if(!M.routeCode||!M.routeName||!M.companyName){alert("Please fill in all required fields");return}await cA.createRoute({routeCode:M.routeCode,routeName:M.routeName,companyId:q.id,frequencyId:ie==null?void 0:ie.id}),alert("Route created successfully")}c(!1),g(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save route";L(ie),alert(`Error: ${ie}`),console.error("Error saving route:",q)}finally{E(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Route Master",subtitle:"Manage route master data"}),I&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),w&&!m.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading routes..."}),e.jsxs("div",{className:"route-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage route information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route code, name, company...",value:a,onChange:M=>s(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>d(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Route"]})]})]}),e.jsx("div",{className:"route-master-table-container",children:e.jsxs("table",{className:"route-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"ROUTE CODE"}),e.jsx("th",{children:"ROUTE NAME"}),e.jsx("th",{children:"FREQUENCY ID"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-message",children:w?"Loading...":"No routes found"})}):V.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.companyName||"-"}),e.jsx("td",{children:M.routeCode||"-"}),e.jsx("td",{children:M.routeName||"-"}),e.jsx("td",{children:M.frequencyID||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",m.length," items"]})]})]}),o&&e.jsx(cte,{statusFilter:h,advancedFilters:l,onClose:()=>d(!1),onClear:()=>{u({routeCode:"",routeName:"",companyName:""}),f("all"),s("")},onApply:M=>{f(M.statusFilter),u(M.advancedFilters),d(!1)}}),i&&e.jsx(dte,{route:A,companies:y.filter(M=>M.status==="Active"),frequencies:j.filter(M=>M.status==="Active"),onClose:()=>{c(!1),g(null)},onSave:Ce})]})},cte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter routes by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Code"}),e.jsx("input",{type:"text",value:o.routeCode,onChange:l=>d({...o,routeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter route code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Name"}),e.jsx("input",{type:"text",value:o.routeName,onChange:l=>d({...o,routeName:l.target.value}),className:"cm-filter-input",placeholder:"Enter route name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({routeCode:"",routeName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},dte=({route:r,companies:t,frequencies:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyName:"",routeCode:"",routeName:"",frequencyID:"",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Route":"Add Route"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"route-form",onSubmit:o,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:i.companyName||"",onChange:d=>c({...i,companyName:d.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.companyName,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsx("input",{type:"text",value:i.routeCode||"",onChange:d=>c({...i,routeCode:d.target.value}),required:!0,placeholder:"Enter Route Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Name *"}),e.jsx("input",{type:"text",value:i.routeName||"",onChange:d=>c({...i,routeName:d.target.value}),required:!0,placeholder:"Enter Route Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency"}),e.jsxs("select",{value:i.frequencyID||"",onChange:d=>c({...i,frequencyID:d.target.value}),children:[e.jsx("option",{value:"",children:"Select Frequency"}),n.map(d=>e.jsxs("option",{value:d.frequencyCode,children:[d.frequencyName," (",d.frequencyCode,")"]},d.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},ute="http://localhost:3000/api/v1",hte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},cg=async(r,t={})=>{const n=hte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ute}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},S0={createColor:async r=>(await cg("/colors",{method:"POST",body:JSON.stringify(r)})).data,getColorById:async r=>(await cg(`/colors/${r}`,{method:"GET"})).data,getAllColors:async(r,t=!1)=>{let n="/colors";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await cg(n,{method:"GET"})).data},updateColor:async(r,t)=>(await cg(`/colors/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteColor:async r=>{await cg(`/colors/${r}`,{method:"DELETE"})}},fte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(!1),i=()=>{s(!a)},[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[b,j]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState({colorName:"",companyName:""}),[L,Z]=C.useState("all"),ne=async()=>{try{const q=(await ia.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));y(q)}catch(M){console.error("Error loading companies:",M)}},G=async()=>{j(!0),w(null);try{const q=(await S0.getAllColors(void 0,!0)).map(ie=>{const J=x.find(D=>D.id===ie.companyId);return{id:ie.id,colorName:ie.colorName,companyName:(J==null?void 0:J.companyName)||"Unknown Company",status:ie.status,createdBy:ie.createdBy||"",createdOn:ie.createdOn,modifiedBy:ie.modifiedBy||"",modifiedOn:ie.modifiedOn}});m(q)}catch(M){const q=M instanceof Error?M.message:"Failed to load color codes";w(q),console.error("Error loading color codes:",M)}finally{j(!1)}};C.useEffect(()=>{(async()=>{await ne()})()},[]),C.useEffect(()=>{x.length>0&&G()},[x.length]);const le=As(t,n.pathname),V=g.filter(M=>{const q=c.trim().toLowerCase(),ie=E.colorName.trim().toLowerCase(),J=E.companyName.trim().toLowerCase(),D=!q||M.colorName.toLowerCase().includes(q)||M.companyName.toLowerCase().includes(q),ce=!ie||M.colorName.toLowerCase().includes(ie),te=!J||M.companyName.toLowerCase().includes(J),ge=L==="all"||M.status===L;return D&&ce&&te&&ge}),me=()=>{A(null),l(!0)},$=M=>{A(M),l(!0)},X=async M=>{if(window.confirm("Are you sure you want to delete this color code?"))try{j(!0),await S0.deleteColor(M),await G(),alert("Color code deleted successfully")}catch(q){const ie=q instanceof Error?q.message:"Failed to delete color code";alert(`Error: ${ie}`),console.error("Error deleting color code:",q)}finally{j(!1)}},Ce=async M=>{try{j(!0),w(null);const q=x.find(ie=>ie.companyName===M.companyName);if(!q){alert("Please select a valid company");return}if(f)await S0.updateColor(f.id,{status:M.status}),alert("Color code updated successfully");else{if(!M.colorName||!M.companyName){alert("Please fill in all required fields");return}await S0.createColor({colorName:M.colorName,companyId:q.id}),alert("Color code created successfully")}l(!1),A(null),await G()}catch(q){const ie=q instanceof Error?q.message:"Failed to save color code";w(ie),alert(`Error: ${ie}`),console.error("Error saving color code:",q)}finally{j(!1)}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!a&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":a?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:le.map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),!a&&e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!a&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!a&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Color Code Master",subtitle:"Manage color code master data"}),S&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>w(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),b&&!g.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading color codes..."}),e.jsxs("div",{className:"color-code-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4m0 12v4M2 12h4m12 0h4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Color Code Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage color code information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by color name, company...",value:c,onChange:M=>o(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Color Code"]})]})]}),e.jsx("div",{className:"color-code-master-table-container",children:e.jsxs("table",{className:"color-code-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COLOR NAME"}),e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"empty-message",children:b?"Loading...":"No color codes found"})}):V.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.colorName||"-"}),e.jsx("td",{children:M.companyName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",g.length," items"]})]})]}),u&&e.jsx(Ate,{statusFilter:L,advancedFilters:E,onClose:()=>h(!1),onClear:()=>{I({colorName:"",companyName:""}),Z("all"),o("")},onApply:M=>{Z(M.statusFilter),I(M.advancedFilters),h(!1)}}),d&&e.jsx(pte,{colorCode:f,companies:x.filter(M=>M.status==="Active"),onClose:()=>{l(!1),A(null)},onSave:Ce})]})},Ate=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter color codes by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Color Name"}),e.jsx("input",{type:"text",value:o.colorName,onChange:l=>d({...o,colorName:l.target.value}),className:"cm-filter-input",placeholder:"Enter color name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({colorName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},pte=({colorCode:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{colorName:"",companyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Color Code":"Add Color Code"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"color-code-form",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color Name *"}),e.jsx("input",{type:"text",value:s.colorName||"",onChange:o=>i({...s,colorName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},mte="http://localhost:3000/api/v1",gte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ih=async(r,t={})=>{const n=gte(),a=`${mte}${r}`;console.log("[apiRequest] Making request:",{method:t.method||"GET",url:a,endpoint:r,hasToken:!!n,hasBody:!!t.body});const s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers};try{const i=await fetch(a,{...t,headers:s});if(console.log("[apiRequest] Response received:",{status:i.status,statusText:i.statusText,ok:i.ok,headers:Object.fromEntries(i.headers.entries())}),!i.ok){let o=`HTTP ${i.status}: ${i.statusText}`,d=null;try{const u=await i.text();console.log("[apiRequest] Error response text:",u),u&&(d=JSON.parse(u),console.log("[apiRequest] Error response parsed:",d),Array.isArray(d.message)?o=d.message.join(", "):typeof d.message=="string"?o=d.message:d.error?o=typeof d.error=="string"?d.error:JSON.stringify(d.error):d.message&&(o=String(d.message)))}catch(u){console.error("[apiRequest] Failed to parse error response:",u)}console.error("[apiRequest] Request failed:",{status:i.status,statusText:i.statusText,errorMessage:o,errorData:d});const l=new Error(o);throw l.status=i.status,l.statusText=i.statusText,l.errorData=d,l}if(i.status===204)return console.log("[apiRequest] 204 No Content response, returning empty object"),{};const c=await i.json();return console.log("[apiRequest] Success response data:",c),c}catch(i){if(console.error("[apiRequest] Fetch error:",i),console.error("[apiRequest] Fetch error details:",{message:i instanceof Error?i.message:String(i),name:i instanceof Error?i.name:void 0,stack:i instanceof Error?i.stack:void 0}),i instanceof Error&&i.status)throw i;const c=new Error(i instanceof Error?`Network error: ${i.message}`:"Network error: Failed to connect to server");throw c.originalError=i,c}},Hc={createUser:async r=>(await Ih("/users",{method:"POST",body:JSON.stringify(r)})).data,createCompleteUser:async r=>{console.log("[userService] createCompleteUser called with data:",r),console.log("[userService] API endpoint: POST /users/complete");try{const t=await Ih("/users/complete",{method:"POST",body:JSON.stringify(r)});return console.log("[userService] createCompleteUser success - Response:",t),t.data}catch(t){throw console.error("[userService] createCompleteUser error:",t),console.error("[userService] Error details:",{message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0}),t}},getUserById:async r=>(await Ih(`/users/${r}`,{method:"GET"})).data,updateUser:async(r,t)=>(await Ih(`/users/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,updateCompleteUser:async(r,t)=>{console.log("[userService] updateCompleteUser called"),console.log("[userService] User ID:",r),console.log("[userService] Data:",t),console.log("[userService] API endpoint: PUT /users/"+r+"/complete");try{const n=await Ih(`/users/${r}/complete`,{method:"PUT",body:JSON.stringify(t)});return console.log("[userService] updateCompleteUser success - Response:",n),n.data}catch(n){throw console.error("[userService] updateCompleteUser error:",n),console.error("[userService] Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),n}},deleteUser:async r=>{await Ih(`/users/${r}`,{method:"DELETE"})},activateUser:async(r,t)=>(await Ih(`/users/${r}/activate`,{method:"POST",body:JSON.stringify(t)})).data,deactivateUser:async r=>(await Ih(`/users/${r}/deactivate`,{method:"POST"})).data,getUsersByCompany:async r=>(await Ih(`/users/company/${r}`,{method:"GET"})).data,getUserByUsername:async r=>(await Ih(`/users/username/${encodeURIComponent(r)}`,{method:"GET"})).data},vte="http://localhost:3000/api/v1",xte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},NS=async(r,t={})=>{const n=xte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${vte}${r}`,{...t,headers:a});if(!s.ok){const c=await s.json().catch(()=>({}));let o=`HTTP error! status: ${s.status}`;throw c.message?Array.isArray(c.message)?o=c.message.join(", "):o=c.message:c.error&&(o=c.error),new Error(o)}return(await s.json()).data},yte=async(r,t)=>NS(`/users/${r}/activate-with-password`,{method:"POST",body:JSON.stringify(t)}),JP=async(r,t)=>NS(`/users/${r}/change-password`,{method:"POST",body:JSON.stringify(t)}),jte=async r=>NS(`/users/${r}/reset-password`,{method:"POST"}),bte=()=>{const{user:r,logout:t}=Wn(),n=un();Ma();const[a,s]=C.useState("users"),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,b]=C.useState(null),[j,S]=C.useState(null),[w,E]=C.useState(!1),[I,L]=C.useState(null),Z=Qe=>{if(console.log("[extractErrorMessage] Extracting error message from:",Qe),Qe instanceof Error){const Bt=Qe;Bt.status&&console.log("[extractErrorMessage] Error has status:",Bt.status),Bt.errorData&&console.log("[extractErrorMessage] Error has errorData:",Bt.errorData);const Ge=Bt.message||"Unknown error occurred";return console.log("[extractErrorMessage] Extracted message:",Ge),Ge}if(typeof Qe=="string")return Qe;if(Qe&&typeof Qe=="object"){const Bt=Qe;if(Array.isArray(Bt.message))return Bt.message.join(", ");if(Bt.message)return String(Bt.message);if(Bt.error)return Array.isArray(Bt.error)?Bt.error.join(", "):String(Bt.error);try{return JSON.stringify(Bt)}catch{return"Unknown error occurred"}}return console.log("[extractErrorMessage] Could not extract message, returning default"),"An unexpected error occurred. Please check the console for details."},[ne,G]=C.useState([]),[le,V]=C.useState(!1),me=Qe=>({id:Qe.id,companyCode:Qe.companyCode,companyName:Qe.companyName,status:Qe.status}),$=async()=>{V(!0);try{const Bt=(await ia.getAllCompanies(!0)).map(Ge=>me(Ge));return G(Bt),Bt}catch(Qe){console.error("Error loading companies:",Qe);const Bt=Z(Qe);return L(Bt||"Failed to load companies. Please ensure the backend is running and accessible."),[]}finally{V(!1)}},[X,Ce]=C.useState([]),[M,q]=C.useState([]),ie=Qe=>{if(!Qe)return null;if(Ae(Qe))return Qe;const Bt=M.find(Ge=>Ge.roleName===Qe);return Bt?Bt.id:null},J=(Qe,Bt)=>{let Ge="-";if(Qe.userRoleId)if(M.length>0){const Ft=M.find(Lt=>Lt.id===Qe.userRoleId);Ge=Ft?Ft.roleName:"-"}else Ge=Qe.userRoleId;return{id:Qe.userId,companyName:Bt,mobileNumber:Qe.mobileNumber,userName:Qe.userName,empCode:Qe.employeeCode||"",userRoleID:Ge,employmentType:Qe.employmentType||"",designation:Qe.designation||"",contractorName:Qe.contractorName||"",companyNameThirdParty:Qe.companyNameThirdParty||"",grossSalary:Qe.grossSalary?String(Qe.grossSalary):"",emailAddress:Qe.emailAddress||"",aadhaar:Qe.aadhaarNumber||"",pan:Qe.panNumber||"",dlNum:Qe.drivingLicenseNumber||"",pfNum:Qe.pfNumber||"",uan:Qe.uanNumber||"",esiNum:Qe.esiNumber||"",address:Qe.addressLine||"",area:Qe.area||"",city:Qe.city||"",district:Qe.district||"",pincode:Qe.pincode||"",emergencyContact:Qe.emergencyContact||"",webLogin:Qe.webLogin,mobileApp:Qe.mobileAppAccess,password:"",status:Qe.status,passwordEnabled:Qe.passwordEnabled,otpEnabled:Qe.otpEnabled,forceOtpOnNextLogin:!1,createdBy:"",createdOn:Qe.createdOn,modifiedBy:"",modifiedOn:Qe.modifiedOn}},D=async Qe=>{let Bt=Qe||ne;if(Bt.length===0&&(Bt=await $(),Bt.length===0)){Ce([]),E(!1),L("No companies found. Please create a company first.");return}E(!0),L(null);try{const Ge=[];let Ft=!1;for(const Lt of Bt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Lt.id)){console.warn(`Skipping company ${Lt.companyName} - ID is not a valid UUID: ${Lt.id}`);continue}try{Ft=!0;const Kr=(await Hc.getUsersByCompany(Lt.id)).map(Hr=>J(Hr,Lt.companyName));Ge.push(...Kr)}catch(Or){console.warn(`Failed to load users for company ${Lt.companyName}:`,Or);const Kr=Z(Or);Kr.includes("403")||Kr.includes("401")||Kr.includes("Unauthorized")?L("Authentication failed. Please login again."):Kr.includes("404")||console.warn(`Error loading users for ${Lt.companyName}: ${Kr}`)}}Ft?(Ce(Ge),Ge.length>0&&L(null)):L("No valid companies found. Please create a company first.")}catch(Ge){const Ft=Z(Ge);L(Ft||"Failed to load users"),console.error("Error loading users:",Ge)}finally{E(!1)}};C.useEffect(()=>{let Qe=!0;return(async()=>{try{const Ge=await $();if(!Qe)return;if(Ge.length>0){if(await We(Ge),!Qe)return;await D(Ge)}else L("No companies found. Please create a company first.")}catch(Ge){if(!Qe)return;console.error("[UserManagementPage] Error during initialization:",Ge);const Ft=Z(Ge);L(Ft||"Failed to initialize page. Please refresh.")}})(),()=>{Qe=!1}},[]),C.useEffect(()=>{if(M.length>0&&X.length>0){const Qe=X.map(Ge=>{if(Ge.userRoleID&&Ae(Ge.userRoleID)){const Ft=M.find(Lt=>Lt.id===Ge.userRoleID);return Ft?{...Ge,userRoleID:Ft.roleName}:{...Ge,userRoleID:"-"}}return Ge});Qe.some((Ge,Ft)=>Ge.userRoleID!==X[Ft].userRoleID)&&(console.log("[UserManagementPage] Updating user role names after roles loaded"),Ce(Qe))}},[M]);const[ce]=C.useState([{id:"1",companyName:"Sample Company",mobileNumber:"+91-9876543210",userName:"johndoe",empCode:"EMP001",userRoleID:"Admin",employmentType:"Permanent",webLogin:!0,mobileApp:!0,dlNum:"DL1234567890",aadhaar:"1234-5678-9012",pan:"ABCDE1234F",uan:"UAN123456789",pfNum:"PF123456789",esiNum:"ESI123456789",address:"123 Main Street",area:"Downtown",city:"Mumbai",district:"Mumbai",pincode:"400001",emergencyContact:"+91-9876543211",contractorName:"",grossSalary:"50000",password:"********",emailAddress:"john.doe@example.com",status:"Active",createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"},{id:"2",companyName:"ABC Industries",mobileNumber:"+91-9876543212",userName:"janesmith",empCode:"EMP002",userRoleID:"Manager",employmentType:"Permanent",webLogin:!0,mobileApp:!1,dlNum:"DL0987654321",aadhaar:"9876-5432-1098",pan:"FGHIJ5678K",uan:"UAN987654321",pfNum:"PF987654321",esiNum:"ESI987654321",address:"456 Admin Avenue",area:"Suburban",city:"Delhi",district:"New Delhi",pincode:"110001",emergencyContact:"+91-9876543213",contractorName:"",grossSalary:"75000",password:"********",emailAddress:"jane.smith@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-02",modifiedBy:"Admin",modifiedOn:"2023-01-02"},{id:"3",companyName:"XYZ Corporation",mobileNumber:"+91-9876543214",userName:"bobwilson",empCode:"EMP003",userRoleID:"Driver",employmentType:"Contract",webLogin:!1,mobileApp:!0,dlNum:"DL1122334455",aadhaar:"5555-6666-7777",pan:"KLMNO9012P",uan:"UAN555666777",pfNum:"PF555666777",esiNum:"ESI555666777",address:"789 Factory Road",area:"Industrial",city:"Bangalore",district:"Bangalore",pincode:"560001",emergencyContact:"+91-9876543215",contractorName:"ABC Contractors",grossSalary:"35000",password:"********",emailAddress:"bob.wilson@example.com",status:"Active",createdBy:"Admin",createdOn:"2023-01-03",modifiedBy:"Admin",modifiedOn:"2023-01-03"}]),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")}],ge=X.filter(Qe=>{const Bt=i.toLowerCase();return(Qe.userName||"").toLowerCase().includes(Bt)||(Qe.emailAddress||"").toLowerCase().includes(Bt)||(Qe.empCode||"").toLowerCase().includes(Bt)||(Qe.mobileNumber||"").toLowerCase().includes(Bt)||(Qe.companyName||"").toLowerCase().includes(Bt)}),pe=M.filter(Qe=>Qe.roleName.toLowerCase().includes(i.toLowerCase())||Qe.description.toLowerCase().includes(i.toLowerCase())||Qe.companyName.toLowerCase().includes(i.toLowerCase())),be=()=>{g(null),d(!0)},re=async Qe=>{console.log("[handleEditUser] Editing user:",Qe.id),E(!0),L(null),x(!1);try{const Bt=await Hc.getUserById(Qe.id);console.log("[handleEditUser] Complete user data fetched:",Bt);const Ge=ne.find(Dr=>Dr.id===Bt.companyId),Ft=(Ge==null?void 0:Ge.companyName)||Qe.companyName,Lt=J(Bt,Ft);console.log("[handleEditUser] Mapped user data:",Lt),g(Lt),d(!0)}catch(Bt){console.error("[handleEditUser] Error fetching user data:",Bt);const Ge=Z(Bt);L(Ge||"Failed to load user data. Please try again."),g(Qe),d(!0)}finally{E(!1)}},de=async Qe=>{console.log("[handleViewUser] Viewing user:",Qe.id),E(!0),L(null),x(!0);try{const Bt=await Hc.getUserById(Qe.id);console.log("[handleViewUser] Complete user data fetched:",Bt);const Ge=ne.find(Dr=>Dr.id===Bt.companyId),Ft=(Ge==null?void 0:Ge.companyName)||Qe.companyName,Lt=J(Bt,Ft);console.log("[handleViewUser] Mapped user data:",Lt),g(Lt),d(!0)}catch(Bt){console.error("[handleViewUser] Error fetching user data:",Bt);const Ge=Z(Bt);L(Ge||"Failed to load user data. Please try again."),g(Qe),d(!0)}finally{E(!1)}},Y=async Qe=>{if(window.confirm("Are you sure you want to delete this user?")){E(!0),L(null);try{await Hc.deleteUser(Qe),await D()}catch(Bt){const Ge=Z(Bt);L(Ge||"Failed to delete user"),console.error("Error deleting user:",Bt)}finally{E(!1)}}},Ae=Qe=>!Qe||Qe.trim()===""?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Qe),ye=async Qe=>{console.log("handleSaveUser called with formData:",Qe),E(!0),L(null);try{if(A){console.log("[handleSaveUser] ========== UPDATE START =========="),console.log("[handleSaveUser] Editing user ID:",A.id);const Bt=ne.find(Lt=>Lt.companyName===Qe.companyName)||ne[0];if(!Bt)throw new Error("Please select a company");if(!Ae(Bt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Bt.id}`);const Ge={companyId:Bt.id,userName:Qe.userName||"",mobileNumber:Qe.mobileNumber||"",employeeCode:Qe.empCode||null,emailAddress:Qe.emailAddress||null};if(Qe.userRoleID&&Qe.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",Qe.userRoleID);const Lt=ie(Qe.userRoleID);console.log("[handleSaveUser] Converted role ID:",Lt),Lt&&Ae(Lt)?(Ge.userRoleId=Lt,console.log("[handleSaveUser] Using converted UUID role ID:",Lt)):Ae(Qe.userRoleID)?(Ge.userRoleId=Qe.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",Qe.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:Qe.userRoleID,roleId:Lt,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Ge.employmentType=Qe.employmentType&&Qe.employmentType.trim()?Qe.employmentType.trim():null,Ge.designation=Qe.designation&&Qe.designation.trim()?Qe.designation.trim():null,Ge.contractorName=Qe.contractorName&&Qe.contractorName.trim()?Qe.contractorName.trim():null,Ge.companyNameThirdParty=Qe.companyNameThirdParty&&Qe.companyNameThirdParty.trim()?Qe.companyNameThirdParty.trim():null,Ge.grossSalary=Qe.grossSalary&&parseFloat(String(Qe.grossSalary))||null,Ge.aadhaarNumber=Qe.aadhaar&&Qe.aadhaar.trim()?Qe.aadhaar.trim():null,Ge.panNumber=Qe.pan&&Qe.pan.trim()?Qe.pan.trim():null,Ge.drivingLicenseNumber=Qe.dlNum&&Qe.dlNum.trim()?Qe.dlNum.trim():null,Ge.pfNumber=Qe.pfNum&&Qe.pfNum.trim()?Qe.pfNum.trim():null,Ge.uanNumber=Qe.uan&&Qe.uan.trim()?Qe.uan.trim():null,Ge.esiNumber=Qe.esiNum&&Qe.esiNum.trim()?Qe.esiNum.trim():null,Ge.addressLine=Qe.address&&Qe.address.trim()?Qe.address.trim():null,Ge.area=Qe.area&&Qe.area.trim()?Qe.area.trim():null,Ge.city=Qe.city&&Qe.city.trim()?Qe.city.trim():null,Ge.district=Qe.district&&Qe.district.trim()?Qe.district.trim():null,Ge.pincode=Qe.pincode&&Qe.pincode.trim()?Qe.pincode.trim():null,Ge.emergencyContact=Qe.emergencyContact&&Qe.emergencyContact.trim()?Qe.emergencyContact.trim():null,Ge.webLogin=Qe.webLogin||!1,Ge.mobileAppAccess=Qe.mobileApp||!1,Ge.status=Qe.status||"Draft",Ge.passwordEnabled=Qe.passwordEnabled||!1,Ge.otpEnabled=Qe.otpEnabled||!1,Ge.forceOtpOnNextLogin=Qe.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] Update payload (FULL):",JSON.stringify(Ge,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Ge.emailAddress),console.log("  - Aadhaar:",Ge.aadhaarNumber),console.log("  - PAN:",Ge.panNumber),console.log("  - ESI:",Ge.esiNumber),console.log("  - Address:",Ge.addressLine);let Ft=!1;try{const Lt=await Hc.updateCompleteUser(A.id,Ge);Ft=!0,console.log("[handleSaveUser] UPDATE API call successful. Result:",Lt),alert("User updated successfully!"),console.log("[handleSaveUser] Closing modal..."),d(!1),g(null),L(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await D(),console.log("[handleSaveUser] Users reloaded")}catch(Dr){console.error("[handleSaveUser] Reload error (data was saved):",Dr)}},500),console.log("[handleSaveUser] ========== UPDATE END (SUCCESS) ==========")}catch(Lt){throw Ft=!1,console.error("[handleSaveUser]  UPDATE API CALL FAILED:",Lt),Lt}}else{const Bt=ne.find(Lt=>Lt.companyName===Qe.companyName)||ne[0];if(!Bt)throw new Error("Please select a company");if(!Ae(Bt.id))throw new Error(`Invalid company ID. Please ensure companies are loaded from the API. Company ID: ${Bt.id}`);const Ge={companyId:Bt.id,userName:Qe.userName||"",mobileNumber:Qe.mobileNumber||"",employeeCode:Qe.empCode,emailAddress:Qe.emailAddress||null};if(console.log("[handleSaveUser] Email address from formData:",Qe.emailAddress),console.log("[handleSaveUser] Email address in createData:",Ge.emailAddress),Qe.userRoleID&&Qe.userRoleID.trim()){console.log("[handleSaveUser] Processing userRoleID:",Qe.userRoleID);const Lt=ie(Qe.userRoleID);console.log("[handleSaveUser] Converted role ID:",Lt),Lt&&Ae(Lt)?(Ge.userRoleId=Lt,console.log("[handleSaveUser] Using converted UUID role ID:",Lt)):Ae(Qe.userRoleID)?(Ge.userRoleId=Qe.userRoleID,console.log("[handleSaveUser] Using provided UUID role ID:",Qe.userRoleID)):console.warn("[handleSaveUser] Role ID is not a valid UUID, skipping role assignment:",{roleName:Qe.userRoleID,roleId:Lt,message:"Role will not be assigned. Please ensure roles are fetched from the backend API with valid UUIDs."})}else console.log("[handleSaveUser] No userRoleID provided, skipping role assignment");Ge.employmentType=Qe.employmentType&&Qe.employmentType.trim()?Qe.employmentType.trim():null,Ge.designation=Qe.designation&&Qe.designation.trim()?Qe.designation.trim():null,Ge.contractorName=Qe.contractorName&&Qe.contractorName.trim()?Qe.contractorName.trim():null,Ge.companyNameThirdParty=Qe.companyNameThirdParty&&Qe.companyNameThirdParty.trim()?Qe.companyNameThirdParty.trim():null,Ge.grossSalary=Qe.grossSalary&&parseFloat(String(Qe.grossSalary))||null,console.log("[handleSaveUser] Step 2 fields:",{employmentType:Ge.employmentType,designation:Ge.designation,contractorName:Ge.contractorName,companyNameThirdParty:Ge.companyNameThirdParty,grossSalary:Ge.grossSalary}),Ge.aadhaarNumber=Qe.aadhaar&&Qe.aadhaar.trim()?Qe.aadhaar.trim():null,Ge.panNumber=Qe.pan&&Qe.pan.trim()?Qe.pan.trim():null,Ge.drivingLicenseNumber=Qe.dlNum&&Qe.dlNum.trim()?Qe.dlNum.trim():null,Ge.pfNumber=Qe.pfNum&&Qe.pfNum.trim()?Qe.pfNum.trim():null,Ge.uanNumber=Qe.uan&&Qe.uan.trim()?Qe.uan.trim():null,Ge.esiNumber=Qe.esiNum&&Qe.esiNum.trim()?Qe.esiNum.trim():null,console.log("[handleSaveUser] Step 3 fields:",{aadhaar:Ge.aadhaarNumber,pan:Ge.panNumber,drivingLicense:Ge.drivingLicenseNumber,pfNumber:Ge.pfNumber,uan:Ge.uanNumber,esi:Ge.esiNumber}),Ge.addressLine=Qe.address&&Qe.address.trim()?Qe.address.trim():null,Ge.area=Qe.area&&Qe.area.trim()?Qe.area.trim():null,Ge.city=Qe.city&&Qe.city.trim()?Qe.city.trim():null,Ge.district=Qe.district&&Qe.district.trim()?Qe.district.trim():null,Ge.pincode=Qe.pincode&&Qe.pincode.trim()?Qe.pincode.trim():null,Ge.emergencyContact=Qe.emergencyContact&&Qe.emergencyContact.trim()?Qe.emergencyContact.trim():null,console.log("[handleSaveUser] Step 4 fields:",{address:Ge.addressLine,area:Ge.area,city:Ge.city,district:Ge.district,pincode:Ge.pincode,emergencyContact:Ge.emergencyContact}),Ge.webLogin=Qe.webLogin||!1,Ge.mobileAppAccess=Qe.mobileApp||!1,Ge.status=Qe.status||"Draft",Ge.passwordEnabled=Qe.passwordEnabled||!1,Ge.otpEnabled=Qe.otpEnabled||!1,Ge.forceOtpOnNextLogin=Qe.forceOtpOnNextLogin||!1,console.log("[handleSaveUser] ========== SAVE START =========="),console.log("[handleSaveUser] Calling createCompleteUser with data:",Ge),console.log("[handleSaveUser] API payload (FULL):",JSON.stringify(Ge,null,2)),console.log("[handleSaveUser] Field verification:"),console.log("  - Email:",Ge.emailAddress),console.log("  - Aadhaar:",Ge.aadhaarNumber),console.log("  - PAN:",Ge.panNumber),console.log("  - ESI:",Ge.esiNumber),console.log("  - Address:",Ge.addressLine),console.log("  - Area:",Ge.area),console.log("  - City:",Ge.city);let Ft=!1;try{const Lt=await Hc.createCompleteUser(Ge);Ft=!0,console.log("[handleSaveUser] API call successful. Result:",Lt),Lt||console.warn("[handleSaveUser] Warning: API returned empty result but status was 200"),alert("User created successfully!"),console.log("[handleSaveUser] Closing modal..."),d(!1),g(null),L(null),console.log("[handleSaveUser] Modal closed"),setTimeout(async()=>{try{await D(),console.log("[handleSaveUser] Users reloaded")}catch(Dr){console.error("[handleSaveUser] Reload error (data was saved):",Dr)}},500),console.log("[handleSaveUser] ========== SAVE END (SUCCESS) ==========")}catch(Lt){throw Ft=!1,console.error("[handleSaveUser]  API CALL FAILED:",Lt),Lt}}}catch(Bt){console.error("[handleSaveUser] ========== ERROR START =========="),console.error("[handleSaveUser] Catch block - Error saving user:",Bt),console.error("[handleSaveUser] Error type:",typeof Bt),console.error("[handleSaveUser] Error instance check:",Bt instanceof Error);try{if(Bt instanceof Error){const Lt=Bt;console.error("[handleSaveUser] Error details:",{message:Lt.message,name:Lt.name,stack:Lt.stack,status:Lt.status,statusText:Lt.statusText,errorData:Lt.errorData})}else console.error("[handleSaveUser] Non-Error object:",JSON.stringify(Bt,null,2))}catch(Lt){console.error("[handleSaveUser] Could not log error details:",Lt)}const Ge=Z(Bt);console.error("[handleSaveUser] Extracted error message:",Ge),console.error("[handleSaveUser] ========== ERROR END ==========");const Ft=Ge||"Failed to save user. Please check console (F12) for details.";L(Ft),alert(` Error Saving User

${Ft}

Please check the browser console (F12) for more details.`),console.error("[handleSaveUser] Error handling complete - Modal remains open")}finally{E(!1),console.log("[handleSaveUser] Finally block - Loading set to false")}},Oe=(Qe,Bt)=>({id:Qe.roleId,roleName:Qe.roleName,description:Qe.roleDescription||"",companyName:Bt,status:Qe.status,createdBy:Qe.createdBy||"",createdOn:Qe.createdOn,modifiedBy:Qe.modifiedBy||"",modifiedOn:Qe.modifiedOn}),We=async Qe=>{let Bt=Qe||ne;if(Bt.length===0&&(Bt=await $(),Bt.length===0)){console.warn("No companies available to load roles"),q([]);return}E(!0),L(null);try{const Ge=[];for(const Ft of Bt){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Ft.id)){console.warn(`Skipping company ${Ft.companyName} - ID is not a valid UUID: ${Ft.id}`);continue}try{const Or=(await zp.getAllRoles(Ft.id,!1)).map(Kr=>Oe(Kr,Ft.companyName));Ge.push(...Or)}catch(Dr){console.warn(`Failed to load roles for company ${Ft.companyName}:`,Dr)}}q(Ge),console.log(`[loadRoles] Loaded ${Ge.length} roles`)}catch(Ge){const Ft=Z(Ge);L(Ft||"Failed to load roles"),console.error("Error loading roles:",Ge)}finally{E(!1)}},ae=()=>{b(null),u(!0)},ke=Qe=>{b(Qe),u(!0)},Fe=async Qe=>{if(window.confirm("Are you sure you want to delete this role?")){E(!0),L(null);try{await zp.deleteRole(Qe),await We(),alert("Role deleted successfully!")}catch(Bt){const Ge=Z(Bt);L(Ge||"Failed to delete role"),console.error("Error deleting role:",Bt),alert(` Error Deleting Role

${Ge}

Please check the browser console (F12) for more details.`)}finally{E(!1)}}},nt=async Qe=>{E(!0),L(null);try{const Bt=ne.find(Ge=>Ge.companyName===Qe.companyName);if(!Bt)throw new Error("Please select a company");if(y){const Ge={roleName:Qe.roleName,roleDescription:Qe.description||null,status:Qe.status};console.log("[handleSaveRole] Updating role:",y.id,Ge),await zp.updateRole(y.id,Ge),console.log("[handleSaveRole] Role updated successfully"),alert("Role updated successfully!")}else{const Ge={companyId:Bt.id,roleName:Qe.roleName||"",roleDescription:Qe.description||null,status:Qe.status||"Active"};console.log("[handleSaveRole] Creating role:",Ge),await zp.createRole(Ge),console.log("[handleSaveRole] Role created successfully"),alert("Role created successfully!")}u(!1),b(null),await We()}catch(Bt){const Ge=Z(Bt);L(Ge||"Failed to save role"),console.error("[handleSaveRole] Error saving role:",Bt),alert(` Error Saving Role

${Ge}

Please check the browser console (F12) for more details.`)}finally{E(!1)}},[tt,Le]=C.useState(!1),[lt,$t]=C.useState(null),[Ue,yt]=C.useState(!1),[Tt,Zt]=C.useState(null),Mr=async(Qe,Bt)=>{E(!0),L(null);try{if(Bt.passwordEnabled){const Ge=await yte(Qe,Bt);$t({userName:Ge.userName,temporaryPassword:Ge.temporaryPassword,expiry:Ge.temporaryPasswordExpiry}),Le(!0),await D()}else await Hc.activateUser(Qe,Bt),await D()}catch(Ge){const Ft=Z(Ge);L(Ft||"Failed to activate user"),console.error("Error activating user:",Ge)}finally{E(!1)}},_t=(Qe,Bt)=>{Zt({id:Qe,userName:Bt}),yt(!0)},Vt=async()=>{if(Tt){E(!0),L(null),yt(!1);try{const Qe=await jte(Tt.id);$t({userName:Qe.userName,temporaryPassword:Qe.temporaryPassword,expiry:Qe.temporaryPasswordExpiry}),Le(!0),Zt(null),await D()}catch(Qe){const Bt=Z(Qe);L(Bt||"Failed to reset password"),console.error("Error resetting password:",Qe),alert(` Error Resetting Password

${Bt}

Please check the browser console (F12) for more details.`)}finally{E(!1)}}},mr=async Qe=>{if(window.confirm("Are you sure you want to deactivate this user?")){E(!0),L(null);try{await Hc.deactivateUser(Qe),await D()}catch(Bt){const Ge=Z(Bt);L(Ge||"Failed to deactivate user"),console.error("Error deactivating user:",Bt)}finally{E(!1)}}};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:te.map(Qe=>e.jsx("li",{children:e.jsxs(Rr,{to:Qe.path,className:`nav-link ${Qe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Qe.icon}),e.jsx("span",{className:"nav-label",children:Qe.label})]})},Qe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"User Management",subtitle:"Manage users, roles and permissions"}),e.jsxs("div",{className:"user-management-page",children:[e.jsxs("div",{className:"user-management-header",children:[e.jsx("div",{className:"user-management-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsx("h1",{className:"user-management-title",children:a==="roles"?"Roles & Permissions":"User Management"})]}),I&&e.jsxs("div",{className:"error-message",style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),w&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#64748b",fontSize:"14px"},children:"Loading..."}),e.jsxs("div",{className:"user-management-tabs",children:[e.jsx("button",{className:`tab-button ${a==="users"?"tab-button--active":""}`,onClick:()=>s("users"),children:"Users"}),e.jsx("button",{className:`tab-button ${a==="roles"?"tab-button--active":""}`,onClick:()=>s("roles"),children:"Roles & Permissions"})]}),e.jsxs("div",{className:"user-management-actions",children:[e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:a==="roles"?"Search roles...":"Search users...",value:i,onChange:Qe=>c(Qe.target.value)})]}),e.jsxs("div",{className:"user-management-action-buttons",children:[e.jsxs("button",{className:"filter-btn",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter"]}),e.jsxs("button",{className:"add-btn",onClick:a==="users"?be:ae,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),a==="users"?"Add User":"Add Role"]})]})]}),a==="users"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Emp Code"}),e.jsx("th",{children:"Email Address"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"User Role"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:ge.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"40px",color:"#64748b"},children:w?"Loading users...":"No users found"})}):ge.map(Qe=>e.jsxs("tr",{children:[e.jsx("td",{children:Qe.companyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:"user-name-link",children:Qe.userName||"-"})}),e.jsx("td",{children:Qe.empCode||"-"}),e.jsx("td",{children:Qe.emailAddress||"-"}),e.jsx("td",{children:Qe.mobileNumber||"-"}),e.jsx("td",{children:(()=>{const Bt=M.find(Ge=>Ge.id===Qe.userRoleID||Ge.roleName===Qe.userRoleID);return Bt?Bt.roleName:Qe.userRoleID||"-"})()}),e.jsx("td",{children:Qe.employmentType||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${Qe.status.toLowerCase()}`,children:Qe.status})}),e.jsx("td",{children:e.jsxs("span",{className:"action-icons",children:[e.jsx("span",{className:"action-icon action-icon--edit",onClick:()=>re(Qe),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("span",{className:"action-icon action-icon--view",onClick:()=>de(Qe),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("span",{className:"action-icon action-icon--reset",onClick:()=>_t(Qe.id,Qe.userName),title:"Reset Password",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsx("span",{className:"action-icon action-icon--delete",onClick:()=>Y(Qe.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},Qe.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",ge.length," of ",X.length," ",ge.length===1?"user":"users"]})]}),a==="roles"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:w?"Loading roles...":"No roles found"})}):pe.map(Qe=>e.jsxs("tr",{children:[e.jsx("td",{children:Qe.roleName}),e.jsx("td",{children:Qe.description}),e.jsx("td",{children:Qe.companyName||"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${Qe.status.toLowerCase()}`,children:Qe.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ke(Qe),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>{S(Qe),f(!0)},title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Fe(Qe.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Qe.id))})]})}),e.jsxs("div",{className:"user-management-pagination-info",children:["Showing ",pe.length," of ",M.length," Items"]})]})]})]}),o&&e.jsx(wte,{user:A,roles:M.filter(Qe=>Qe.status==="Active"),companies:ne.filter(Qe=>Qe.status==="Active"),viewMode:m,onClose:()=>{d(!1),g(null),x(!1)},onSave:ye,onActivate:Mr,onDeactivate:mr,loading:w}),Ue&&Tt&&e.jsx("div",{className:"modal-overlay",onClick:()=>{yt(!1),Zt(null)},children:e.jsxs("div",{className:"modal-content reset-password-modal",onClick:Qe=>Qe.stopPropagation(),children:[e.jsxs("div",{className:"reset-password-modal-header",children:[e.jsxs("div",{className:"reset-password-modal-header-left",children:[e.jsx("div",{className:"reset-password-modal-icon-box",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsx("h2",{className:"reset-password-modal-title",children:"Reset Password"})]}),e.jsx("button",{className:"modal-close-btn",onClick:()=>{yt(!1),Zt(null)},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"reset-password-modal-body",children:e.jsxs("p",{className:"reset-password-modal-message",children:["Are you sure you want to reset the password for the user ",e.jsx("strong",{children:Tt.userName}),"? This action cannot be undone."]})}),e.jsxs("div",{className:"reset-password-modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--cancel-reset",onClick:()=>{yt(!1),Zt(null)},children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn--confirm-reset",onClick:Vt,disabled:w,children:"Reset Password"})]})]})}),tt&&lt&&e.jsx("div",{className:"modal-overlay",onClick:()=>Le(!1),children:e.jsxs("div",{className:"modal-content temp-password-modal",onClick:Qe=>Qe.stopPropagation(),children:[e.jsxs("div",{className:"temp-password-modal-header",children:[e.jsxs("div",{className:"temp-password-modal-header-left",children:[e.jsx("div",{className:"temp-password-modal-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M3 21v-5h5"})]})}),e.jsxs("div",{className:"temp-password-modal-title-wrap",children:[e.jsx("h2",{className:"temp-password-modal-title",children:"Temporary Password Generated"}),e.jsx("p",{className:"temp-password-modal-subtitle",children:"Password will only be shown once."})]})]}),e.jsx("button",{className:"modal-close-btn",onClick:()=>Le(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"temp-password-modal-body",children:[e.jsxs("div",{className:"temp-password-security-notice",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),e.jsxs("div",{className:"temp-password-security-notice-content",children:[e.jsx("h3",{className:"temp-password-security-notice-title",children:"Important Security Notice"}),e.jsx("p",{className:"temp-password-security-notice-text",children:"This temporary password will only be displayed once for security reasons. Please copy it now and share it securely with the user through a secure channel."})]})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"USER NAME"}),e.jsxs("div",{className:"temp-password-field-value",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:lt.userName})]})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"TEMPORARY PASSWORD"}),e.jsxs("div",{className:"temp-password-password-row",children:[e.jsx("div",{className:"temp-password-password-value",children:lt.temporaryPassword}),e.jsxs("button",{type:"button",className:"temp-password-copy-btn",onClick:()=>{navigator.clipboard.writeText(lt.temporaryPassword),alert("Password copied to clipboard!")},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Copy"]})]})]}),lt.expiry&&e.jsxs("div",{className:"temp-password-expiry-row",children:[e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"EXPIRES ON"}),e.jsx("div",{className:"temp-password-field-value",children:new Date(lt.expiry).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),e.jsxs("div",{className:"temp-password-field",children:[e.jsx("label",{className:"temp-password-field-label",children:"VALID FOR"}),e.jsx("div",{className:"temp-password-field-value",children:"24 Hours"})]})]}),e.jsxs("div",{className:"temp-password-requirements",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),e.jsxs("div",{className:"temp-password-requirements-content",children:[e.jsx("h3",{className:"temp-password-requirements-title",children:"Password Requirements"}),e.jsxs("ul",{className:"temp-password-requirements-list",children:[e.jsx("li",{children:"User must change password on first login"}),e.jsx("li",{children:"Password expires automatically after 24 hours"}),e.jsx("li",{children:"Share through secure communication channels only"})]})]})]})]}),e.jsx("div",{className:"temp-password-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--copied-password",onClick:()=>{Le(!1),$t(null)},children:"I've Copied the Password"})})]})}),l&&e.jsx(Cte,{role:y,companies:ne.filter(Qe=>Qe.status==="Active"),onClose:()=>{u(!1),b(null)},onSave:nt}),h&&j&&e.jsx(Nte,{role:j,onClose:()=>{f(!1),S(null)},onSave:Qe=>{console.log("Saving permissions for role:",j.roleName,Qe),f(!1),S(null)}})]})},wte=({user:r,roles:t,companies:n,viewMode:a=!1,onClose:s,onSave:i,onActivate:c,onDeactivate:o,loading:d})=>{const l=I=>{if(!I)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(I))return I;if(t&&t.length>0){const L=t.find(Z=>Z.roleName===I);return L?L.id:""}return""},[u,h]=C.useState(1),[f,A]=C.useState(r||{companyName:"",mobileNumber:"",userName:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",contractorName:"",grossSalary:"",password:"",emailAddress:"",designation:"",companyNameThirdParty:"",status:"Draft",passwordEnabled:!1,otpEnabled:!1,forceOtpOnNextLogin:!1});C.useEffect(()=>{if(r)try{const I=l(r.userRoleID);A(L=>({...r,userRoleID:I||r.userRoleID||""}))}catch(I){console.error("[UserFormModal] Error converting role:",I),A(r)}},[r==null?void 0:r.id]);const g=()=>{const I=[f.companyName,f.userName,f.mobileNumber,f.empCode,f.userRoleID,f.employmentType,f.designation,f.aadhaar,f.pan,f.address,f.area,f.city,f.district,f.pincode,f.emergencyContact],L=I.filter(Z=>Z&&Z.toString().trim()!=="").length;return Math.round(L/I.length*100)},m=(I,L)=>{A(I==="companyName"?{...f,[I]:L,userRoleID:""}:{...f,[I]:L})},x=()=>{if(console.log("handleNext called - Current step:",u),u<6){const I=u+1;console.log("Setting step to:",I),h(I)}else console.warn("handleNext called but already at step 6")},y=()=>{u>1&&h(u-1)},b=I=>{const L=[];switch(I){case 1:(!f.companyName||f.companyName.trim()==="")&&L.push("Company"),(!f.userName||f.userName.trim()==="")&&L.push("User Name"),(!f.mobileNumber||f.mobileNumber.trim()==="")&&L.push("Mobile Number"),(!f.empCode||f.empCode.trim()==="")&&L.push("Employee Code"),(!f.userRoleID||f.userRoleID.trim()==="")&&L.push("User Role");break;case 2:(!f.employmentType||f.employmentType.trim()==="")&&L.push("Employment Type"),(!f.designation||f.designation.trim()==="")&&L.push("Designation"),f.employmentType==="Contract"&&(!f.contractorName||f.contractorName.trim()==="")&&L.push("Contractor Name");break;case 3:break;case 4:break;case 5:break;case 6:(!f.companyName||f.companyName.trim()==="")&&L.push("Company (Step 1)"),(!f.userName||f.userName.trim()==="")&&L.push("User Name (Step 1)"),(!f.mobileNumber||f.mobileNumber.trim()==="")&&L.push("Mobile Number (Step 1)"),(!f.empCode||f.empCode.trim()==="")&&L.push("Employee Code (Step 1)"),(!f.userRoleID||f.userRoleID.trim()==="")&&L.push("User Role (Step 1)"),(!f.employmentType||f.employmentType.trim()==="")&&L.push("Employment Type (Step 2)"),(!f.designation||f.designation.trim()==="")&&L.push("Designation (Step 2)"),f.employmentType==="Contract"&&(!f.contractorName||f.contractorName.trim()==="")&&L.push("Contractor Name (Step 2)");break}const Z=L.length===0,G=Z?"":`Validation Error - Step ${I}: ${I===1?"Create User":I===2?"Employee Profile":I===3?"Identity & Compliance":I===4?"Address & Emergency":I===5?"User Activation":"Summary"}

Please fill in the following required fields:

${L.map((le,V)=>`  ${V+1}. ${le}`).join(`
`)}

Please complete these fields before continuing.`;return{isValid:Z,missingFields:L,message:G}},j=I=>{I&&(I.preventDefault(),I.stopPropagation()),console.log("handleSaveAndContinue called - Current step:",u),console.log("Form data:",f);const L=b(u);if(!L.isValid){alert(L.message),console.error(`Step ${u} validation failed - Missing fields:`,L.missingFields);return}u<6?(console.log(`Moving from Step ${u} to Step ${u+1}`),x()):console.warn("handleSaveAndContinue called on Step 6 - should use handleFinalSave instead")},S=I=>{if(I&&(I.preventDefault(),I.stopPropagation()),console.log("handleFinalSave called - Current step:",u),u===6){const L=[],Z=b(1);if(Z.isValid||L.push({step:1,fields:Z.missingFields}),L.length>0){const G=L.map(({step:le,fields:V})=>`Step ${le}:
${V.map((me,$)=>`  ${$+1}. ${me}`).join(`
`)}`).join(`

`);alert(`Please fill in all required fields before saving:

${G}

Please go back and complete these fields.`),console.error("Final save validation failed - Missing fields:",L);return}const ne={...f,status:f.status||"Draft"};console.log("[handleFinalSave] Saving complete user data:",ne),console.log("[handleFinalSave] Email address in finalData:",ne.emailAddress),console.log("[handleFinalSave] Calling onSave (handleSaveUser)..."),i(ne)}else console.warn("handleFinalSave called but not on Step 6 - Current step:",u)},w=()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&s()},E=[{number:1,title:"Create user",icon:"user-plus"},{number:2,title:"Employee profile",icon:"building"},{number:3,title:"Identity & compliance",icon:"document"},{number:4,title:"Address & emergency",icon:"map-pin"},{number:5,title:"User activation",icon:"shield"},{number:6,title:"Summary & confirm",icon:"sparkle"}];return e.jsx("div",{className:"modal-overlay",onClick:w,children:e.jsxs("div",{className:"modal-content wizard-modal",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"modal-header-left",children:[e.jsx("div",{className:"modal-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),e.jsx("h2",{className:"modal-title",children:a?"View User":r?"Edit User":"Add User"})]}),e.jsx("button",{className:"modal-close-btn",onClick:w,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:E.map(I=>{const L=u>=I.number,Z=u===I.number,ne=Z,G=le=>{switch(le){case"user-plus":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]});case"building":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]});case"document":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]});case"map-pin":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"shield":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});case"sparkle":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})});default:return null}};return e.jsxs("div",{className:`wizard-step ${L?"wizard-step--active":""} ${Z?"wizard-step--current":""} ${a?"wizard-step--clickable":""}`,onClick:a?()=>h(I.number):void 0,style:a?{cursor:"pointer"}:{},children:[e.jsx("div",{className:"wizard-step-icon-wrapper",children:ne?e.jsx("div",{className:"wizard-step-icon",children:G(I.icon)}):e.jsx("div",{className:"wizard-step-number",children:I.number})}),e.jsx("div",{className:"wizard-step-title",children:I.title})]},I.number)})}),e.jsxs("div",{className:"wizard-content",children:[u===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:a?"User Information":"Create user"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"Company *"]}),e.jsxs("select",{value:f.companyName||"",onChange:I=>m("companyName",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"",children:"Select company"}),n.map(I=>e.jsx("option",{value:I.companyName,children:I.companyName},I.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"User name *"]}),e.jsx("input",{type:"text",value:f.userName||"",onChange:I=>m("userName",I.target.value),placeholder:"e.g., johndoe, user123",required:!0,minLength:3,maxLength:100,pattern:"^[a-zA-Z0-9_]+$",disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Minimum 3 characters, only letters, numbers, and underscores allowed (e.g., johndoe, user_123)"})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Mobile number *"]}),e.jsx("input",{type:"tel",value:f.mobileNumber||"",onChange:I=>m("mobileNumber",I.target.value),placeholder:"e.g., 9876543210 or +91-9876543210",required:!0,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Format: 10-digit Indian mobile number (9876543210, +91-9876543210, or 98765 43210)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email address"]}),e.jsx("input",{type:"email",value:f.emailAddress||"",onChange:I=>m("emailAddress",I.target.value),placeholder:"e.g., user@example.com",maxLength:255,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Valid email address (e.g., user@example.com)"})]}),e.jsxs("div",{className:"form-group field-emp-code",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Employee code *"]}),e.jsx("input",{type:"text",value:f.empCode||"",onChange:I=>m("empCode",I.target.value),placeholder:"e.g., EMP001, E12345",required:!0,maxLength:50,disabled:a}),e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Maximum 50 characters (e.g., EMP001, E12345)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"User role *"]}),e.jsxs("select",{value:f.userRoleID||"",onChange:I=>m("userRoleID",I.target.value),required:!0,disabled:a||!f.companyName,children:[e.jsx("option",{value:"",children:f.companyName?"Select role":"Select company first"}),f.companyName&&t.filter(I=>I.companyName===f.companyName&&I.status==="Active").map(I=>e.jsx("option",{value:I.id,children:I.roleName},I.id))]}),!f.companyName&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Please select a company first to see available roles"}),f.companyName&&t.filter(I=>I.companyName===f.companyName&&I.status==="Active").length===0&&e.jsx("small",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"},children:"No active roles available for this company. Please create a role first."})]})]})]}),u===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-green",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Employee profile"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Employment type *"]}),e.jsxs("select",{value:f.employmentType||"",onChange:I=>m("employmentType",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Permanent",children:"Permanent"}),e.jsx("option",{value:"Contract",children:"Contract"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),"Designation *"]}),e.jsx("input",{type:"text",value:f.designation||"",onChange:I=>m("designation",I.target.value),required:!0,disabled:a})]}),f.employmentType==="Contract"&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Contractor name *"]}),e.jsx("input",{type:"text",value:f.contractorName||"",onChange:I=>m("contractorName",I.target.value),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"Company name (if third-party)"]}),e.jsx("input",{type:"text",value:f.companyNameThirdParty||"",onChange:I=>m("companyNameThirdParty",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"Gross salary"]}),e.jsx("input",{type:"text",value:f.grossSalary||"",onChange:I=>m("grossSalary",I.target.value),disabled:a})]})]})]}),u===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-orange",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Identity & compliance details"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group field-aadhaar",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Aadhaar"]}),e.jsx("input",{type:"text",value:f.aadhaar||"",onChange:I=>m("aadhaar",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group field-pan",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# PAN"]}),e.jsx("input",{type:"text",value:f.pan||"",onChange:I=>m("pan",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# Driving license"]}),e.jsx("input",{type:"text",value:f.dlNum||"",onChange:I=>m("dlNum",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# PF number"]}),e.jsx("input",{type:"text",value:f.pfNum||"",onChange:I=>m("pfNum",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# UAN"]}),e.jsx("input",{type:"text",value:f.uan||"",onChange:I=>m("uan",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"# ESI number"]}),e.jsx("input",{type:"text",value:f.esiNum||"",onChange:I=>m("esiNum",I.target.value),disabled:a})]})]})]}),u===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-pink",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsx("h3",{className:"wizard-step-header-title",children:"Address & emergency"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Address"]}),e.jsx("textarea",{value:f.address||"",onChange:I=>m("address",I.target.value),rows:3,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),"Area"]}),e.jsx("input",{type:"text",value:f.area||"",onChange:I=>m("area",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]}),"City"]}),e.jsx("input",{type:"text",value:f.city||"",onChange:I=>m("city",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"District"]}),e.jsx("input",{type:"text",value:f.district||"",onChange:I=>m("district",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.jsx("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.jsx("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.jsx("line",{x1:"16",y1:"3",x2:"14",y2:"21"})]}),"Pincode"]}),e.jsx("input",{type:"text",value:f.pincode||"",onChange:I=>m("pincode",I.target.value),disabled:a})]}),e.jsxs("div",{className:"form-group field-mobile",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Emergency contact number"]}),e.jsx("input",{type:"tel",value:f.emergencyContact||"",onChange:I=>m("emergencyContact",I.target.value),disabled:a})]})]})]}),u===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("h3",{className:"wizard-step-header-title",children:"User activation & access enablement"})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),"Web login *"]}),e.jsxs("select",{value:f.webLogin?"Yes":"No",onChange:I=>m("webLogin",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Mobile app access *"]}),e.jsxs("select",{value:f.mobileApp?"Yes":"No",onChange:I=>m("mobileApp",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Status *"]}),e.jsxs("select",{value:f.status||"Draft",onChange:I=>m("status",I.target.value),required:!0,disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Password enabled *"]}),e.jsxs("select",{value:f.passwordEnabled?"Yes":"No",onChange:I=>m("passwordEnabled",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"OTP enabled *"]}),e.jsxs("select",{value:f.otpEnabled?"Yes":"No",onChange:I=>m("otpEnabled",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{className:"form-group field-otp",children:[e.jsxs("label",{className:"form-label-with-icon",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Force OTP on next login *"]}),e.jsxs("select",{value:f.forceOtpOnNextLogin?"Yes":"No",onChange:I=>m("forceOtpOnNextLogin",I.target.value==="Yes"),required:!0,disabled:a,children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]})]}),u===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})})}),e.jsx("h3",{className:"wizard-step-header-title",children:"User summary & confirmation"})]}),e.jsxs("div",{className:"profile-completeness-box",children:[e.jsx("div",{className:"completeness-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e.jsxs("div",{className:"completeness-text",children:[e.jsx("span",{className:"completeness-label",children:"Profile Completeness"}),e.jsxs("span",{className:"completeness-value",children:[g(),"%"]})]}),e.jsx("button",{className:"btn-ready-activate",children:"Ready to activate"})]}),e.jsxs("div",{className:"summary-cards-grid",children:[e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--blue",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Company"}),e.jsx("span",{className:"summary-card-value",children:f.companyName||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--purple",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"User Name"}),e.jsx("span",{className:"summary-card-value",children:f.userName||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--orange",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Employee Code"}),e.jsx("span",{className:"summary-card-value",children:f.empCode||"-"})]})]}),e.jsxs("div",{className:"summary-card-item",children:[e.jsx("div",{className:"summary-card-icon summary-card-icon--pink",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsxs("div",{className:"summary-card-content",children:[e.jsx("span",{className:"summary-card-label",children:"Role"}),e.jsx("span",{className:"summary-card-value",children:(()=>{const I=t.find(L=>L.id===f.userRoleID);return I?I.roleName:f.userRoleID||"-"})()})]})]})]}),e.jsxs("div",{className:"activation-actions",children:[e.jsxs("button",{type:"button",className:"btn btn--activate",onClick:async()=>{r!=null&&r.id&&c&&(await c(r.id,{passwordEnabled:f.passwordEnabled||!1,otpEnabled:f.otpEnabled||!1,webLogin:f.webLogin||!1,mobileAppAccess:f.mobileApp||!1,forceOtpOnNextLogin:f.forceOtpOnNextLogin||!1}),s())},disabled:!(r!=null&&r.id)||d,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Activate User"]}),e.jsxs("button",{type:"button",className:"btn btn--deactivate",onClick:async()=>{r!=null&&r.id&&o&&(await o(r.id),s())},disabled:!(r!=null&&r.id)||d,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Deactivate"]})]})]})]}),e.jsx("div",{className:"modal-footer",children:a?e.jsxs(e.Fragment,{children:[u>1&&e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:y,children:"Previous"}),u<6?e.jsxs("button",{type:"button",className:"btn btn--next",onClick:x,children:["Next",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:w,children:"Close"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--cancel",onClick:w,children:"Cancel"}),u<6?e.jsxs("button",{type:"button",className:"btn btn--next",onClick:I=>{I.preventDefault(),I.stopPropagation(),console.log("Next button clicked!"),j(I)},disabled:d,children:["Next",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:I=>{I.preventDefault(),I.stopPropagation(),console.log("Save & Complete button clicked!"),S(I)},disabled:d,children:"Save & Complete"})]})})]})})},Cte=({role:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{roleName:"",description:"",companyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--role",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Role":"Add Role"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"role-form role-form--simple",onSubmit:c,children:[e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-single-column",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,children:[e.jsx("option",{value:"",children:"Select company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]}),r&&e.jsx("small",{style:{fontSize:"12px",color:"#666",marginTop:"4px",display:"block"},children:"Company cannot be changed after role creation"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role name *"}),e.jsx("input",{type:"text",value:s.roleName||"",onChange:o=>i({...s,roleName:o.target.value}),required:!0,maxLength:100})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:s.description||"",onChange:o=>i({...s,description:o.target.value}),rows:3,maxLength:500})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Nte=({role:r,onClose:t,onSave:n})=>{const a=[{module:"User Management",permissions:[{id:"user_view",name:"View User",code:"user.view"},{id:"user_create",name:"Create User",code:"user.create"},{id:"user_edit",name:"Edit User",code:"user.edit"},{id:"user_delete",name:"Delete User",code:"user.delete"}]},{module:"Roles & Permissions",permissions:[{id:"role_view",name:"View Role",code:"role.view"},{id:"role_create",name:"Create Role",code:"role.create"},{id:"role_edit",name:"Edit Role",code:"role.edit"},{id:"role_delete",name:"Delete Role",code:"role.delete"},{id:"role_permissions",name:"Manage Permissions",code:"role.permissions"}]},{module:"Company Master",permissions:[{id:"company_view",name:"View Company",code:"company.view"},{id:"company_create",name:"Create Company",code:"company.create"},{id:"company_edit",name:"Edit Company",code:"company.edit"},{id:"company_delete",name:"Delete Company",code:"company.delete"}]},{module:"Invoice",permissions:[{id:"invoice_view",name:"View Invoice",code:"invoice.view"},{id:"invoice_create",name:"Create Invoice",code:"invoice.create"},{id:"invoice_edit",name:"Edit Invoice",code:"invoice.edit"},{id:"invoice_approve",name:"Approve Invoice",code:"invoice.approve"},{id:"invoice_delete",name:"Delete Invoice",code:"invoice.delete"}]},{module:"HCF Master",permissions:[{id:"hcf_view",name:"View HCF",code:"hcf.view"},{id:"hcf_create",name:"Create HCF",code:"hcf.create"},{id:"hcf_edit",name:"Edit HCF",code:"hcf.edit"},{id:"hcf_delete",name:"Delete HCF",code:"hcf.delete"}]},{module:"Route Master",permissions:[{id:"route_view",name:"View Route",code:"route.view"},{id:"route_create",name:"Create Route",code:"route.create"},{id:"route_edit",name:"Edit Route",code:"route.edit"},{id:"route_delete",name:"Delete Route",code:"route.delete"}]}],[s,i]=C.useState(()=>{const u={};return a.forEach(h=>{h.permissions.forEach(f=>{u[f.code]=!1})}),u}),c=r.status==="Inactive",o=(u,h)=>{c||i({...s,[u]:h})},d=u=>{if(c)return;const h={...s},f=u.every(A=>s[A.code]);u.forEach(A=>{h[A.code]=!f}),i(h)},l=u=>{u.preventDefault(),n(s)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content modal-content--permissions",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Manage Permissions - ",r.roleName]}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"permissions-form",onSubmit:l,children:[e.jsx("div",{className:"permissions-content",children:a.map(u=>{const h=u.permissions,f=h.every(A=>s[A.code]);return h.some(A=>s[A.code]),e.jsxs("div",{className:"permissions-module",children:[e.jsxs("div",{className:"permissions-module-header",children:[e.jsx("h3",{className:"permissions-module-title",children:u.module}),e.jsx("button",{type:"button",className:"permissions-select-all",onClick:()=>d(h),disabled:c,children:f?"Deselect All":"Select All"})]}),e.jsx("div",{className:"permissions-list",children:h.map(A=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:s[A.code]||!1,onChange:g=>o(A.code,g.target.checked),disabled:c}),e.jsx("span",{className:"permission-label",children:A.name})]},A.id))})]},u.module)})}),e.jsxs("div",{className:"modal-footer modal-footer--sticky",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:c,children:"Save Permissions"})]})]})]})})},Ste=()=>{const{logout:r}=Wn(),t=un(),[n,a]=C.useState(""),[s,i]=C.useState(!1),[c,o]=C.useState(null),[d,l]=C.useState({}),u={Home:[{id:"home-view",name:"View Home",code:"HOME_VIEW",module:"Home"}],"Recon Onboarding":[{id:"recon-onboarding-view",name:"View Recon Onboarding",code:"RECON_ONBOARDING_VIEW",module:"Recon Onboarding"},{id:"recon-onboarding-create",name:"Create Recon Onboarding",code:"RECON_ONBOARDING_CREATE",module:"Recon Onboarding"},{id:"recon-onboarding-edit",name:"Edit Recon Onboarding",code:"RECON_ONBOARDING_EDIT",module:"Recon Onboarding"}],"Recon Configuration":[{id:"recon-config-view",name:"View Recon Configuration",code:"RECON_CONFIG_VIEW",module:"Recon Configuration"},{id:"recon-config-edit",name:"Edit Recon Configuration",code:"RECON_CONFIG_EDIT",module:"Recon Configuration"}],"Recon XOXO":[{id:"recon-xoxo-view",name:"View Recon XOXO",code:"RECON_XOXO_VIEW",module:"Recon XOXO"},{id:"recon-xoxo-create",name:"Create Recon XOXO",code:"RECON_XOXO_CREATE",module:"Recon XOXO"}],Funding:[{id:"funding-view",name:"View Funding",code:"FUNDING_VIEW",module:"Funding"},{id:"funding-approve",name:"Approve Funding",code:"FUNDING_APPROVE",module:"Funding"}],Reports:[{id:"reports-view",name:"View Reports",code:"REPORTS_VIEW",module:"Reports"},{id:"reports-export",name:"Export Reports",code:"REPORTS_EXPORT",module:"Reports"}],Masters:[{id:"masters-view",name:"View Masters",code:"MASTERS_VIEW",module:"Masters"},{id:"masters-create",name:"Create Masters",code:"MASTERS_CREATE",module:"Masters"},{id:"masters-edit",name:"Edit Masters",code:"MASTERS_EDIT",module:"Masters"},{id:"masters-delete",name:"Delete Masters",code:"MASTERS_DELETE",module:"Masters"}],"Camspay Exceptions":[{id:"camspay-view",name:"View Camspay Exceptions",code:"CAMSPAY_VIEW",module:"Camspay Exceptions"},{id:"camspay-resolve",name:"Resolve Camspay Exceptions",code:"CAMSPAY_RESOLVE",module:"Camspay Exceptions"}]},[h]=C.useState([{id:"1",companyCode:"COMP001",companyName:"Sample Company",status:"Active"},{id:"2",companyCode:"COMP002",companyName:"ABC Industries",status:"Active"},{id:"3",companyCode:"COMP003",companyName:"XYZ Corporation",status:"Active"}]),[f,A]=C.useState([{id:"1",roleName:"Administrator",description:"Full system access",companyName:"Sample Company",landingPage:"Dashboard",accessLevel:"Admin",status:"Active",permissions:{},createdBy:"System",createdOn:"2023-01-01",modifiedBy:"System",modifiedOn:"2023-01-01"}]),[g,m]=C.useState({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),x=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),active:t.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:t.pathname==="/master"||t.pathname.startsWith("/master")},{path:"/master/user-management",label:"User Management",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),active:t.pathname==="/master/user-management"||t.pathname.startsWith("/master/user-management")},{path:"/report",label:"Report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:t.pathname.startsWith("/report")}],y=f.filter(G=>G.roleName.toLowerCase().includes(n.toLowerCase())||G.description.toLowerCase().includes(n.toLowerCase())||G.companyName.toLowerCase().includes(n.toLowerCase())),b=()=>{m({roleName:"",description:"",companyName:"",landingPage:"",status:"",accessLevel:"Admin",permissions:{}}),o(null),i(!0);const G={};Object.values(u).forEach(le=>{le.forEach(V=>{G[V.code]=!1})}),m(le=>({...le,permissions:G}))},j=G=>{m({roleName:G.roleName,description:G.description,companyName:G.companyName,landingPage:G.landingPage,status:G.status,accessLevel:G.accessLevel,permissions:G.permissions||{}}),o(G),i(!0)},S=G=>{window.confirm("Are you sure you want to delete this role?")&&A(f.filter(le=>le.id!==G))},w=()=>{if(!g.roleName||!g.companyName||!g.status){alert("Please fill in all required fields (Role Name, Company Name, and Status)");return}if(c)A(f.map(G=>G.id===c.id?{...G,roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]}:G));else{const G={id:Date.now().toString(),roleName:g.roleName,description:g.description,companyName:g.companyName,landingPage:g.landingPage,status:g.status,accessLevel:g.accessLevel,permissions:g.permissions,createdBy:"Current User",createdOn:new Date().toISOString().split("T")[0],modifiedBy:"Current User",modifiedOn:new Date().toISOString().split("T")[0]};A([...f,G])}i(!1),o(null)},E=(G,le)=>{m(V=>({...V,permissions:{...V.permissions,[G]:le}}))},I=(G,le)=>{const V=u[G]||[],me={...g.permissions};V.forEach($=>{me[$.code]=le}),m($=>({...$,permissions:me}))},L=G=>{l(le=>({...le,[G]:!le[G]}))},Z=G=>{const le=u[G]||[];return le.length===0?!1:le.every(V=>g.permissions[V.code])},ne=G=>{const le=u[G]||[],V=le.filter(me=>g.permissions[me.code]).length;return V>0&&V<le.length};return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h2",{className:"sidebar-logo",children:"MWM"})}),e.jsx("nav",{className:"sidebar-nav",children:x.map(G=>e.jsxs(Rr,{to:G.path,className:`nav-item ${G.active?"nav-item--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:G.icon}),e.jsx("span",{className:"nav-label",children:G.label})]},G.path))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${t.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"logout-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Roles & Permissions",subtitle:"Manage roles and their permissions"}),e.jsxs("div",{className:"user-management-page",children:[e.jsxs("div",{className:"user-management-header",children:[e.jsx("h1",{className:"user-management-title",children:"Roles & Permissions"}),e.jsxs("button",{className:"btn btn-primary",onClick:b,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Role"]})]}),e.jsx("div",{className:"user-management-search-section",children:e.jsxs("div",{className:"user-management-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"user-management-search-input",placeholder:"Search roles...",value:n,onChange:G=>a(G.target.value)})]})}),e.jsx("div",{className:"user-management-table-container",children:e.jsxs("table",{className:"user-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:"No roles found"})}):y.map(G=>e.jsxs("tr",{children:[e.jsx("td",{children:G.roleName}),e.jsx("td",{children:G.description}),e.jsx("td",{children:G.companyName}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${G.status.toLowerCase()}`,children:G.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>j(G),title:"Edit Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--permissions",onClick:()=>j(G),title:"Manage Permissions",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>S(G.id),title:"Delete Role",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},G.id))})]})})]})]}),s&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content modal-content--role-form",onClick:G=>G.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),c?"Edit Role":"Add Role"]}),e.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Access Level"}),e.jsx("div",{className:"access-level-options",children:["Admin","Maker","Checker","Viewer"].map(G=>e.jsxs("label",{className:"access-level-option",children:[e.jsx("input",{type:"radio",name:"accessLevel",value:G,checked:g.accessLevel===G,onChange:le=>m({...g,accessLevel:le.target.value})}),e.jsx("span",{children:G})]},G))})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Role Name *"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Role Name",value:g.roleName,onChange:G=>m({...g,roleName:G.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter Description",value:g.description,onChange:G=>m({...g,description:G.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Company Name *"}),e.jsxs("select",{className:"form-input",value:g.companyName,onChange:G=>m({...g,companyName:G.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),h.filter(G=>G.status==="Active").map(G=>e.jsx("option",{value:G.companyName,children:G.companyName},G.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status *"}),e.jsxs("select",{className:"form-input",value:g.status,onChange:G=>m({...g,status:G.target.value}),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"form-label",children:"Permissions"}),e.jsx("div",{className:"permissions-list-container",children:Object.entries(u).map(([G,le])=>e.jsxs("div",{className:"permission-module-item",children:[e.jsxs("div",{className:"permission-module-header-row",children:[e.jsxs("div",{className:"permission-module-header-left",children:[e.jsx("input",{type:"checkbox",checked:Z(G),ref:V=>{V&&(V.indeterminate=ne(G))},onChange:V=>I(G,V.target.checked),className:"permission-module-checkbox"}),e.jsx("span",{className:"permission-module-title",children:G})]}),e.jsx("button",{className:"permission-module-toggle",onClick:()=>L(G),children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:d[G]?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),d[G]&&e.jsx("div",{className:"permission-module-permissions",children:le.map(V=>e.jsxs("label",{className:"permission-item",children:[e.jsx("input",{type:"checkbox",checked:g.permissions[V.code]||!1,onChange:me=>E(V.code,me.target.checked)}),e.jsx("span",{children:V.name})]},V.id))})]},G))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:w,children:"Save"})]})]})})]})},Ete=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},dg=async(r,t={})=>{const n=Ete(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},xi={createHcf:async r=>(await dg("/hcfs",{method:"POST",body:JSON.stringify(r)})).data,getHcfById:async r=>(await dg(`/hcfs/${r}`,{method:"GET"})).data,getAllHcfs:async(r,t=!1)=>{let n="/hcfs";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await dg(n,{method:"GET"})).data},updateHcf:async(r,t)=>(await dg(`/hcfs/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcf:async r=>{await dg(`/hcfs/${r}`,{method:"DELETE"})}},Bte="http://localhost:3000/api/v1",Ite=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},ug=async(r,t={})=>{const n=Ite(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Bte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},zg={createHcfType:async r=>(await ug("/hcf-types",{method:"POST",body:JSON.stringify(r)})).data,getHcfTypeById:async r=>(await ug(`/hcf-types/${r}`,{method:"GET"})).data,getAllHcfTypes:async(r,t=!1)=>{let n="/hcf-types";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await ug(n,{method:"GET"})).data},updateHcfType:async(r,t)=>(await ug(`/hcf-types/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcfType:async r=>{await ug(`/hcf-types/${r}`,{method:"DELETE"})}},Tte=()=>{const{logout:r,user:t,permissions:n}=Wn(),a=un(),s=Array.isArray(n)?n:[],i=bc(s,"HCF_CREATE"),c=bc(s,"HCF_EDIT")||bc(s,"HCF_UPDATE"),o=bc(s,"HCF_DELETE");C.useEffect(()=>{t&&(console.log("HCF Master - User:",{id:t.id,email:t.email,name:t.name,roles:t.roles}),console.log("HCF Master - Permissions:",{canCreate:i,canEdit:c,canDelete:o}))},[t,i,c]);const[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState(!1),[x,y]=C.useState(null),[b,j]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,Z]=C.useState({hcfCode:"",hcfName:"",companyName:""}),[ne,G]=C.useState("all"),le=()=>{w(!S)},[V,me]=C.useState([]),[$,X]=C.useState([]),[Ce,M]=C.useState([]),[q,ie]=C.useState([]),[J,D]=C.useState([]),[ce,te]=C.useState([]),[ge,pe]=C.useState([]),[be,re]=C.useState([]),de=C.useCallback(async()=>{try{const Ue=await ia.getAllCompanies(void 0,!0);me(Ue.map(yt=>({id:yt.id,companyCode:yt.companyCode,companyName:yt.companyName,status:yt.status})))}catch(Ue){console.error("Failed to load companies:",Ue)}},[]),Y=C.useCallback(async()=>{try{const Ue=await $g.getAllAreas(!0);X(Ue.map(yt=>({id:yt.id,areaName:yt.areaName,status:yt.status})))}catch(Ue){console.error("Failed to load areas:",Ue)}},[]),Ae=C.useCallback(async()=>{try{const Ue=await Wg.getAllStates(!0);M(Ue.map(yt=>({id:yt.id,stateCode:yt.stateCode,stateName:yt.stateName,status:yt.status})))}catch(Ue){console.error("Failed to load states:",Ue)}},[]),ye=C.useCallback(async()=>{try{const Ue=await Vg.getAllPcbZones(!0);ie(Ue.map(yt=>({id:yt.id,pcbZoneName:yt.pcbZoneName,status:yt.status})))}catch(Ue){console.error("Failed to load PCB zones:",Ue)}},[]),Oe=C.useCallback(async()=>{try{const Ue=await Fh.getAllCategories(void 0,!0);D(Ue.map(yt=>({id:yt.id,categoryName:yt.categoryName,status:yt.status})))}catch(Ue){console.error("Failed to load categories:",Ue)}},[]),We=C.useCallback(async()=>{try{const Ue=await cA.getAllRoutes(!0);te(Ue.map(yt=>({id:yt.id,routeName:yt.routeName,status:yt.status})))}catch(Ue){console.error("Failed to load routes:",Ue)}},[]),ae=C.useCallback(async()=>{try{const Ue=await zg.getAllHcfTypes(void 0,!0);pe(Ue)}catch(Ue){console.error("Failed to load HCF types:",Ue)}},[]),ke=C.useCallback(async()=>{try{m(!0),y(null);const yt=(await xi.getAllHcfs()).map(Tt=>{const Zt=V.find(Bt=>Bt.id===Tt.companyId),Mr=$.find(Bt=>Bt.id===Tt.areaId),_t=Ce.find(Bt=>Bt.stateCode===Tt.stateCode),Vt=q.find(Bt=>Bt.id===Tt.pcbZone),mr=J.find(Bt=>Bt.id===Tt.category),Qe=ce.find(Bt=>Bt.id===Tt.route);return{id:Tt.id,companyName:(Zt==null?void 0:Zt.companyName)||"",companyID:Tt.companyId,hcfCode:Tt.hcfCode,password:Tt.password||"",hcfTypeCode:Tt.hcfTypeCode||"",hcfName:Tt.hcfName,hcfShortName:Tt.hcfShortName||"",areaID:Tt.areaId||"",pincode:Tt.pincode||"",district:Tt.district||"",stateCode:Tt.stateCode||"",groupCode:Tt.groupCode||"",pcbZone:Tt.pcbZone||"",billingName:Tt.billingName||"",billingAddress:Tt.billingAddress||"",serviceAddress:Tt.serviceAddress||"",gstin:Tt.gstin||"",regnNum:Tt.regnNum||"",hospRegnDate:Tt.hospRegnDate||"",billingType:Tt.billingType||"",advAmount:Tt.advAmount||"",billingOption:Tt.billingOption||"",bedCount:Tt.bedCount||"",bedRate:Tt.bedRate||"",kgRate:Tt.kgRate||"",lumpsum:Tt.lumpsum||"",accountsLandline:Tt.accountsLandline||"",accountsMobile:Tt.accountsMobile||"",accountsEmail:Tt.accountsEmail||"",contactName:Tt.contactName||"",contactDesignation:Tt.contactDesignation||"",contactMobile:Tt.contactMobile||"",contactEmail:Tt.contactEmail||"",agrSignAuthName:Tt.agrSignAuthName||"",agrSignAuthDesignation:Tt.agrSignAuthDesignation||"",drName:Tt.drName||"",drPhNo:Tt.drPhNo||"",drEmail:Tt.drEmail||"",serviceStartDate:Tt.serviceStartDate||"",serviceEndDate:Tt.serviceEndDate||"",category:Tt.category||"",route:Tt.route||"",executive_Assigned:Tt.executive_Assigned||"",submitBy:Tt.submitBy||"",agrID:Tt.agrID||"",sortOrder:Tt.sortOrder||"",isGovt:Tt.isGovt||!1,isGSTExempt:Tt.isGSTExempt||!1,autoGen:Tt.autoGen||!1,status:Tt.status,createdBy:Tt.createdBy||"",createdOn:Tt.createdOn,modifiedBy:Tt.modifiedBy||"",modifiedOn:Tt.modifiedOn}});re(yt)}catch(Ue){console.error("Failed to load HCFs:",Ue),y(Ue.message||"Failed to load HCFs"),re([])}finally{m(!1)}},[V,$,Ce,q,J,ce]);C.useEffect(()=>{(async()=>{await Promise.all([de(),Y(),Ae(),ye(),Oe(),We(),ae()])})()},[de,Y,Ae,ye,Oe,We,ae]),C.useEffect(()=>{V.length>0&&ke()},[V.length,ke]);const Fe=be.filter(Ue=>{const yt=d.trim().toLowerCase(),Tt=L.hcfCode.trim().toLowerCase(),Zt=L.hcfName.trim().toLowerCase(),Mr=L.companyName.trim().toLowerCase(),_t=!yt||Ue.hcfName.toLowerCase().includes(yt)||Ue.hcfCode.toLowerCase().includes(yt)||Ue.companyName.toLowerCase().includes(yt)||Ue.hcfShortName.toLowerCase().includes(yt),Vt=!Tt||Ue.hcfCode.toLowerCase().includes(Tt),mr=!Zt||Ue.hcfName.toLowerCase().includes(Zt),Qe=!Mr||Ue.companyName.toLowerCase().includes(Mr),Bt=ne==="all"||Ue.status===ne;return _t&&Vt&&mr&&Qe&&Bt});C.useEffect(()=>{const Ue=setTimeout(()=>{const yt=document.querySelector(".add-hcf-btn"),Tt=document.querySelectorAll(".action-btn"),Zt=yt?window.getComputedStyle(yt):null,Mr=Tt[0],_t=Mr?window.getComputedStyle(Mr):null;console.log("HCF Master - Button Check:",{addButtonExists:!!yt,addButtonVisible:yt?(Zt==null?void 0:Zt.display)!=="none"&&(Zt==null?void 0:Zt.visibility)!=="hidden":!1,addButtonStyles:yt?{display:Zt==null?void 0:Zt.display,visibility:Zt==null?void 0:Zt.visibility,opacity:Zt==null?void 0:Zt.opacity,width:Zt==null?void 0:Zt.width,height:Zt==null?void 0:Zt.height}:null,actionButtonsCount:Tt.length,firstActionButtonStyles:Mr?{display:_t==null?void 0:_t.display,visibility:_t==null?void 0:_t.visibility,opacity:_t==null?void 0:_t.opacity}:null,canCreate:i,canEdit:c,hcfsCount:be.length,filteredHCFsCount:Fe.length})},500);return()=>clearTimeout(Ue)},[i,c,be.length,Fe.length]);const nt=()=>{A(null),h(!0)},tt=Ue=>{A(Ue),h(!0)},Le=async Ue=>{if(window.confirm("Are you sure you want to delete this HCF?"))try{m(!0),await xi.deleteHcf(Ue),await ke()}catch(yt){console.error("Failed to delete HCF:",yt),y(yt.message||"Failed to delete HCF"),alert(yt.message||"Failed to delete HCF")}finally{m(!1)}},lt=async Ue=>{try{if(j(!0),y(null),f){const yt={hcfName:Ue.hcfName,hcfShortName:Ue.hcfShortName,areaId:Ue.areaID,pincode:Ue.pincode,district:Ue.district,stateCode:Ue.stateCode,groupCode:Ue.groupCode,pcbZone:Ue.pcbZone,billingName:Ue.billingName,billingAddress:Ue.billingAddress,serviceAddress:Ue.serviceAddress,gstin:Ue.gstin,regnNum:Ue.regnNum,hospRegnDate:Ue.hospRegnDate,billingType:Ue.billingType,advAmount:Ue.advAmount,billingOption:Ue.billingOption,bedCount:Ue.bedCount,bedRate:Ue.bedRate,kgRate:Ue.kgRate,lumpsum:Ue.lumpsum,accountsLandline:Ue.accountsLandline,accountsMobile:Ue.accountsMobile,accountsEmail:Ue.accountsEmail,contactName:Ue.contactName,contactDesignation:Ue.contactDesignation,contactMobile:Ue.contactMobile,contactEmail:Ue.contactEmail,agrSignAuthName:Ue.agrSignAuthName,agrSignAuthDesignation:Ue.agrSignAuthDesignation,drName:Ue.drName,drPhNo:Ue.drPhNo,drEmail:Ue.drEmail,serviceStartDate:Ue.serviceStartDate,serviceEndDate:Ue.serviceEndDate,category:Ue.category,route:Ue.route,executive_Assigned:Ue.executive_Assigned,submitBy:Ue.submitBy,agrID:Ue.agrID,sortOrder:Ue.sortOrder,isGovt:Ue.isGovt,isGSTExempt:Ue.isGSTExempt,autoGen:Ue.autoGen,status:Ue.status};await xi.updateHcf(f.id,yt)}else{if(!Ue.companyID)throw new Error("Company is required");if(!Ue.hcfCode)throw new Error("HCF Code is required");if(!Ue.hcfName)throw new Error("HCF Name is required");await xi.createHcf({companyId:Ue.companyID,hcfCode:Ue.hcfCode,password:Ue.password,hcfTypeCode:Ue.hcfTypeCode,hcfName:Ue.hcfName,hcfShortName:Ue.hcfShortName,areaId:Ue.areaID,pincode:Ue.pincode,district:Ue.district,stateCode:Ue.stateCode,groupCode:Ue.groupCode,pcbZone:Ue.pcbZone,billingName:Ue.billingName,billingAddress:Ue.billingAddress,serviceAddress:Ue.serviceAddress,gstin:Ue.gstin,regnNum:Ue.regnNum,hospRegnDate:Ue.hospRegnDate,billingType:Ue.billingType,advAmount:Ue.advAmount,billingOption:Ue.billingOption,bedCount:Ue.bedCount,bedRate:Ue.bedRate,kgRate:Ue.kgRate,lumpsum:Ue.lumpsum,accountsLandline:Ue.accountsLandline,accountsMobile:Ue.accountsMobile,accountsEmail:Ue.accountsEmail,contactName:Ue.contactName,contactDesignation:Ue.contactDesignation,contactMobile:Ue.contactMobile,contactEmail:Ue.contactEmail,agrSignAuthName:Ue.agrSignAuthName,agrSignAuthDesignation:Ue.agrSignAuthDesignation,drName:Ue.drName,drPhNo:Ue.drPhNo,drEmail:Ue.drEmail,serviceStartDate:Ue.serviceStartDate,serviceEndDate:Ue.serviceEndDate,category:Ue.category,route:Ue.route,executive_Assigned:Ue.executive_Assigned,submitBy:Ue.submitBy,agrID:Ue.agrID,sortOrder:Ue.sortOrder,isGovt:Ue.isGovt,isGSTExempt:Ue.isGSTExempt,autoGen:Ue.autoGen})}await ke(),h(!1),A(null)}catch(yt){console.error("Failed to save HCF:",yt),y(yt.message||"Failed to save HCF"),alert(yt.message||"Failed to save HCF")}finally{j(!1)}},$t=As(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${S?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!S&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:le,"aria-label":S?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:S?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:$t.map(Ue=>e.jsx("li",{children:e.jsxs(Rr,{to:Ue.path,className:`nav-link ${Ue.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Ue.icon}),!S&&e.jsx("span",{className:"nav-label",children:Ue.label})]})},Ue.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!S&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!S&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"HCF Master",subtitle:"Manage healthcare facility master data"}),e.jsxs("div",{className:"hcf-master-page",children:[x&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:x}),g&&be.length===0&&e.jsx("div",{className:"loading-message",style:{padding:"10px",marginBottom:"20px",textAlign:"center"},children:"Loading HCFs..."}),e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF code, name, company...",value:d,onChange:Ue=>l(Ue.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>I(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),i&&e.jsxs("button",{className:"ra-add-btn",onClick:nt,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF"]})]})]}),e.jsx("div",{className:"hcf-master-table-container",children:e.jsxs("table",{className:"hcf-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"HCF NAME"}),e.jsx("th",{children:"HCF SHORT NAME"}),e.jsx("th",{children:"STATE CODE"}),e.jsx("th",{children:"DISTRICT"}),e.jsx("th",{children:"PINCODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:g&&be.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading..."})}):Fe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No HCF records found"})}):Fe.map(Ue=>e.jsxs("tr",{children:[e.jsx("td",{children:Ue.companyName||"-"}),e.jsx("td",{children:Ue.hcfCode||"-"}),e.jsx("td",{children:Ue.hcfName||"-"}),e.jsx("td",{children:Ue.hcfShortName||"-"}),e.jsx("td",{children:Ue.stateCode||"-"}),e.jsx("td",{children:Ue.district||"-"}),e.jsx("td",{children:Ue.pincode||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${Ue.status.toLowerCase()}`,children:Ue.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>c&&tt(Ue),title:c?"View":"No permission to view",disabled:!c,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>c&&tt(Ue),title:c?"Edit":"No permission to edit",disabled:!c,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>o&&Le(Ue.id),title:o?"Delete":"No permission to delete",disabled:!o,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},Ue.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",Fe.length," of ",be.length," items"]})]})]}),E&&e.jsx(kte,{statusFilter:ne,advancedFilters:L,onClose:()=>I(!1),onClear:()=>{Z({hcfCode:"",hcfName:"",companyName:""}),G("all"),l("")},onApply:Ue=>{G(Ue.statusFilter),Z(Ue.advancedFilters),I(!1)}}),u&&e.jsx(_te,{hcf:f,companies:V.filter(Ue=>Ue.status==="Active"),areas:$.filter(Ue=>Ue.status==="Active"),states:Ce.filter(Ue=>Ue.status==="Active"),pcbZones:q.filter(Ue=>Ue.status==="Active"),categories:J.filter(Ue=>Ue.status==="Active"),routes:ce.filter(Ue=>Ue.status==="Active"),hcfTypes:ge.filter(Ue=>Ue.status==="Active"),saving:b,onClose:()=>{h(!1),A(null)},onSave:lt})]})},kte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter HCFs by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:o.hcfName,onChange:l=>d({...o,hcfName:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfCode:"",hcfName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},_te=({hcf:r,companies:t,areas:n,states:a,pcbZones:s,categories:i,routes:c,hcfTypes:o,saving:d,onClose:l,onSave:u})=>{const h=C.useCallback(()=>r?{...r}:{companyName:"",companyID:"",hcfCode:"",password:"",hcfTypeCode:"",hcfName:"",hcfShortName:"",areaID:"",pincode:"",district:"",stateCode:"",groupCode:"",pcbZone:"",billingName:"",billingAddress:"",serviceAddress:"",gstin:"",regnNum:"",hospRegnDate:"",billingType:"",advAmount:"",billingOption:"",bedCount:"",bedRate:"",kgRate:"",lumpsum:"",accountsLandline:"",accountsMobile:"",accountsEmail:"",contactName:"",contactDesignation:"",contactMobile:"",contactEmail:"",agrSignAuthName:"",agrSignAuthDesignation:"",drName:"",drPhNo:"",drEmail:"",serviceStartDate:"",serviceEndDate:"",category:"",route:"",executive_Assigned:"",submitBy:"",agrID:"",sortOrder:"",isGovt:!1,isGSTExempt:!1,autoGen:!1,status:"Active"},[r]),[f,A]=C.useState(h);C.useEffect(()=>{A(h())},[r,h]);const[g,m]=C.useState(1),x=[{number:1,title:"Basic Information",icon:"building",key:"basicInfo"},{number:2,title:"Location",icon:"map-pin",key:"location"},{number:3,title:"Addresses",icon:"address",key:"addresses"},{number:4,title:"Registration & GST",icon:"shield",key:"registration"},{number:5,title:"Billing",icon:"billing",key:"billing"},{number:6,title:"Contacts & Service",icon:"contacts",key:"contacts"}],y=()=>{g<6&&m(g+1)},b=()=>{g>1&&m(g-1)},j=w=>{w&&w.preventDefault(),g===6&&u(f)},S=w=>{switch(w){case"building":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),e.jsx("path",{d:"M9 22v-4h6v4"}),e.jsx("path",{d:"M8 6h.01"}),e.jsx("path",{d:"M16 6h.01"}),e.jsx("path",{d:"M12 6h.01"}),e.jsx("path",{d:"M12 10h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M8 10h.01"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M16 14h.01"})]});case"map-pin":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"address":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]});case"shield":return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});case"billing":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]});case"contacts":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});default:return null}};return e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content company-form-modal wizard-modal",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"modal-header company-form-header",children:[e.jsxs("div",{className:"modal-header-content",children:[e.jsx("div",{className:"modal-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsx("h2",{className:"modal-title",children:r?"Edit HCF":"Add HCF"})]}),e.jsx("button",{className:"modal-close-btn",onClick:l,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wizard-progress",children:x.map(w=>{const E=g>=w.number,I=g===w.number,L=I;return e.jsxs("div",{className:`wizard-step ${E?"wizard-step--active":""} ${I?"wizard-step--current":""}`,children:[e.jsx("div",{className:"wizard-step-icon-wrapper",children:L?e.jsx("div",{className:"wizard-step-icon",children:S(w.icon)}):e.jsx("div",{className:"wizard-step-number",children:w.number})}),e.jsx("div",{className:"wizard-step-title",children:w.title})]},w.number)})}),e.jsx("div",{className:"wizard-content",children:e.jsxs("form",{className:"company-form",onSubmit:j,children:[g===1&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon",children:S("building")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Basic Information"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Company Name ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("select",{value:f.companyName||"",onChange:w=>{const E=t.find(I=>I.companyName===w.target.value);A({...f,companyName:w.target.value,companyID:(E==null?void 0:E.id)||""})},required:!0,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(w=>e.jsx("option",{value:w.companyName,children:w.companyName},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Company ID"}),e.jsx("input",{type:"text",value:f.companyID||"",readOnly:!0,className:"form-input",style:{backgroundColor:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["HCF Code ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:f.hcfCode||"",onChange:w=>A({...f,hcfCode:w.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Password ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"password",value:f.password||"",onChange:w=>A({...f,password:w.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"HCF Type Code"}),e.jsxs("select",{value:f.hcfTypeCode||"",onChange:w=>A({...f,hcfTypeCode:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select HCF Type"}),o.map(w=>e.jsxs("option",{value:w.hcfTypeCode,children:[w.hcfTypeCode," - ",w.hcfTypeName]},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["HCF Name ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:f.hcfName||"",onChange:w=>A({...f,hcfName:w.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"HCF Short Name"}),e.jsx("input",{type:"text",value:f.hcfShortName||"",onChange:w=>A({...f,hcfShortName:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Group Code"}),e.jsx("input",{type:"text",value:f.groupCode||"",onChange:w=>A({...f,groupCode:w.target.value}),className:"form-input"})]})]})]}),g===2&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-pink",children:S("map-pin")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Location Information"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Area ID ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("select",{value:f.areaID||"",onChange:w=>A({...f,areaID:w.target.value}),required:!0,className:"form-select",children:[e.jsx("option",{value:"",children:"Select Area"}),n.map(w=>e.jsx("option",{value:w.id,children:w.areaName},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["State Code ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("select",{value:f.stateCode||"",onChange:w=>A({...f,stateCode:w.target.value}),required:!0,className:"form-select",children:[e.jsx("option",{value:"",children:"Select State"}),a.map(w=>e.jsxs("option",{value:w.stateCode,children:[w.stateCode," - ",w.stateName]},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["District ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:f.district||"",onChange:w=>A({...f,district:w.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Pincode ",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsx("input",{type:"text",value:f.pincode||"",onChange:w=>A({...f,pincode:w.target.value}),required:!0,className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"PCB Zone"}),e.jsxs("select",{value:f.pcbZone||"",onChange:w=>A({...f,pcbZone:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select PCB Zone"}),s.map(w=>e.jsx("option",{value:w.id,children:w.pcbZoneName},w.id))]})]})]})]}),g===3&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-green",children:S("address")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Addresses"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Billing Address"}),e.jsx("textarea",{value:f.billingAddress||"",onChange:w=>A({...f,billingAddress:w.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{className:"form-label",children:"Service Address"}),e.jsx("textarea",{value:f.serviceAddress||"",onChange:w=>A({...f,serviceAddress:w.target.value}),rows:3,className:"form-textarea"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Billing Name"}),e.jsx("input",{type:"text",value:f.billingName||"",onChange:w=>A({...f,billingName:w.target.value}),className:"form-input"})]})]})]}),g===4&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-purple",children:S("shield")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Registration & GST"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"GSTIN"}),e.jsx("input",{type:"text",value:f.gstin||"",onChange:w=>A({...f,gstin:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Registration Number"}),e.jsx("input",{type:"text",value:f.regnNum||"",onChange:w=>A({...f,regnNum:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hospital Registration Date"}),e.jsx("input",{type:"date",value:f.hospRegnDate||"",onChange:w=>A({...f,hospRegnDate:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Is GST Exempt"}),e.jsxs("select",{value:f.isGSTExempt?"true":"false",onChange:w=>A({...f,isGSTExempt:w.target.value==="true"}),className:"form-select",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Is Government"}),e.jsxs("select",{value:f.isGovt?"true":"false",onChange:w=>A({...f,isGovt:w.target.value==="true"}),className:"form-select",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})]})]}),g===5&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-blue",children:S("billing")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Billing Information"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Billing Type"}),e.jsxs("select",{value:f.billingType||"",onChange:w=>A({...f,billingType:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Billing Option"}),e.jsxs("select",{value:f.billingOption||"",onChange:w=>A({...f,billingOption:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select Billing Option"}),e.jsx("option",{value:"Per Bed",children:"Per Bed"}),e.jsx("option",{value:"Per Kg",children:"Per Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Advance Amount"}),e.jsx("input",{type:"text",value:f.advAmount||"",onChange:w=>A({...f,advAmount:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Bed Count"}),e.jsx("input",{type:"text",value:f.bedCount||"",onChange:w=>A({...f,bedCount:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Bed Rate"}),e.jsx("input",{type:"text",value:f.bedRate||"",onChange:w=>A({...f,bedRate:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kg Rate"}),e.jsx("input",{type:"text",value:f.kgRate||"",onChange:w=>A({...f,kgRate:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Lumpsum"}),e.jsx("input",{type:"text",value:f.lumpsum||"",onChange:w=>A({...f,lumpsum:w.target.value}),className:"form-input"})]})]})]}),g===6&&e.jsxs("div",{className:"wizard-step-content",children:[e.jsxs("div",{className:"wizard-step-header",children:[e.jsx("div",{className:"wizard-step-header-icon icon-orange",children:S("contacts")}),e.jsx("h3",{className:"wizard-step-header-title",children:"Contacts & Service"})]}),e.jsxs("div",{className:"form-grid-two-col",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Accounts Landline"}),e.jsx("input",{type:"tel",value:f.accountsLandline||"",onChange:w=>A({...f,accountsLandline:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Accounts Mobile"}),e.jsx("input",{type:"tel",value:f.accountsMobile||"",onChange:w=>A({...f,accountsMobile:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Accounts Email"}),e.jsx("input",{type:"email",value:f.accountsEmail||"",onChange:w=>A({...f,accountsEmail:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Contact Name"}),e.jsx("input",{type:"text",value:f.contactName||"",onChange:w=>A({...f,contactName:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Contact Designation"}),e.jsx("input",{type:"text",value:f.contactDesignation||"",onChange:w=>A({...f,contactDesignation:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Contact Mobile"}),e.jsx("input",{type:"tel",value:f.contactMobile||"",onChange:w=>A({...f,contactMobile:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Contact Email"}),e.jsx("input",{type:"email",value:f.contactEmail||"",onChange:w=>A({...f,contactEmail:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Agreement Signatory Auth Name"}),e.jsx("input",{type:"text",value:f.agrSignAuthName||"",onChange:w=>A({...f,agrSignAuthName:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Agreement Signatory Auth Designation"}),e.jsx("input",{type:"text",value:f.agrSignAuthDesignation||"",onChange:w=>A({...f,agrSignAuthDesignation:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Agreement ID"}),e.jsx("input",{type:"text",value:f.agrID||"",onChange:w=>A({...f,agrID:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Doctor Name"}),e.jsx("input",{type:"text",value:f.drName||"",onChange:w=>A({...f,drName:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Doctor Phone Number"}),e.jsx("input",{type:"tel",value:f.drPhNo||"",onChange:w=>A({...f,drPhNo:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Doctor Email"}),e.jsx("input",{type:"email",value:f.drEmail||"",onChange:w=>A({...f,drEmail:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Service Start Date"}),e.jsx("input",{type:"date",value:f.serviceStartDate||"",onChange:w=>A({...f,serviceStartDate:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Service End Date"}),e.jsx("input",{type:"date",value:f.serviceEndDate||"",onChange:w=>A({...f,serviceEndDate:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsxs("select",{value:f.category||"",onChange:w=>A({...f,category:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select Category"}),i.map(w=>e.jsx("option",{value:w.id,children:w.categoryName},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Route"}),e.jsxs("select",{value:f.route||"",onChange:w=>A({...f,route:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"Select Route"}),c.map(w=>e.jsx("option",{value:w.id,children:w.routeName},w.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Executive Assigned"}),e.jsx("input",{type:"text",value:f.executive_Assigned||"",onChange:w=>A({...f,executive_Assigned:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Submit By"}),e.jsx("input",{type:"text",value:f.submitBy||"",onChange:w=>A({...f,submitBy:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sort Order"}),e.jsx("input",{type:"text",value:f.sortOrder||"",onChange:w=>A({...f,sortOrder:w.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Auto Generate"}),e.jsxs("select",{value:f.autoGen?"true":"false",onChange:w=>A({...f,autoGen:w.target.value==="true"}),className:"form-select",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{value:f.status||"Active",onChange:w=>A({...f,status:w.target.value}),className:"form-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]})]})}),e.jsxs("div",{className:"wizard-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:l,disabled:d,children:"Cancel"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[g>1&&e.jsx("button",{type:"button",className:"wp-btn wp-btn--secondary",onClick:b,disabled:d,children:"Back"}),g<6?e.jsx("button",{type:"button",className:"wp-btn wp-btn--primary",onClick:y,disabled:d,children:"Next"}):e.jsx("button",{type:"button",className:"wp-btn wp-btn--primary",onClick:j,disabled:d,children:d?"Saving...":r?"Update":"Save"})]})]})]})})},Ote="http://localhost:3000/api/v1",Fte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},hg=async(r,t={})=>{const n=Fte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Ote}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},E0={createHcfAmendment:async r=>(await hg("/hcf-amendments",{method:"POST",body:JSON.stringify(r)})).data,getHcfAmendmentById:async r=>(await hg(`/hcf-amendments/${r}`,{method:"GET"})).data,getAllHcfAmendments:async(r,t=!1)=>{let n="/hcf-amendments";const a=new URLSearchParams;return r&&a.append("hcfId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await hg(n,{method:"GET"})).data},updateHcfAmendment:async(r,t)=>(await hg(`/hcf-amendments/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteHcfAmendment:async r=>{await hg(`/hcf-amendments/${r}`,{method:"DELETE"})}},Pte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=bc(Array.isArray(t)?t:[],"HCF_AMENDMENT_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState(!0),[f,A]=C.useState(null),[g,m]=C.useState(!1),[x,y]=C.useState(!1),[b,j]=C.useState(!1),[S,w]=C.useState({hcfCode:"",companyName:"",amendmentType:""}),[E,I]=C.useState("all"),L=()=>{y(!x)},[Z,ne]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]);C.useCallback(async()=>{try{const D=await ia.getAllCompanies(void 0,!0);ne(D)}catch(D){console.error("Failed to load companies:",D),A("Failed to load companies")}},[]),C.useCallback(async()=>{try{const D=await xi.getAllHcfs(void 0,!0);le(D)}catch(D){console.error("Failed to load HCFs:",D),A("Failed to load HCFs")}},[]);const $=C.useCallback(async()=>{try{h(!0),A(null),console.log("Loading amendments...");const D=await E0.getAllHcfAmendments();console.log("Amendments loaded:",D),me(D.map(ce=>({id:ce.id,hcfId:ce.hcfId,amendmentType:ce.amendmentType,amendmentDate:ce.amendmentDate,description:ce.description,status:ce.status,approvedBy:ce.approvedBy,approvedDate:ce.approvedDate,createdBy:ce.createdBy,createdOn:ce.createdOn,modifiedBy:ce.modifiedBy,modifiedOn:ce.modifiedOn}))),h(!1)}catch(D){console.error("Failed to load amendments:",D),A(D.message||"Failed to load amendments"),me([]),h(!1)}},[]);C.useEffect(()=>{V.length>0&&Z.length>0&&G.length>0&&me(D=>{if(!D.some(pe=>!pe.hcfCode||!pe.companyName))return D;const te=D.map(pe=>{if(pe.hcfCode&&pe.companyName)return pe;const be=G.find(de=>de.id===pe.hcfId),re=be?Z.find(de=>de.id===be.companyId):null;return{...pe,hcfCode:(be==null?void 0:be.hcfCode)||"",companyName:(re==null?void 0:re.companyName)||""}});return te.some((pe,be)=>{var re,de;return pe.hcfCode!==((re=D[be])==null?void 0:re.hcfCode)||pe.companyName!==((de=D[be])==null?void 0:de.companyName)})?te:D})},[Z,G]),C.useEffect(()=>{let D=!0;return(async()=>{try{h(!0);const[te,ge]=await Promise.all([ia.getAllCompanies(void 0,!0).catch(pe=>(console.error("Failed to load companies:",pe),[])),xi.getAllHcfs(void 0,!0).catch(pe=>(console.error("Failed to load HCFs:",pe),[]))]);if(!D)return;ne(te),le(ge),await $()}catch(te){console.error("Failed to initialize:",te),D&&(A("Failed to load data"),h(!1))}})(),()=>{D=!1}},[$]);const X=V.filter(D=>{const ce=s.trim().toLowerCase(),te=S.hcfCode.trim().toLowerCase(),ge=S.companyName.trim().toLowerCase(),pe=S.amendmentType.trim().toLowerCase(),be=!ce||(D.companyName||"").toLowerCase().includes(ce)||(D.hcfCode||"").toLowerCase().includes(ce)||D.amendmentType.toLowerCase().includes(ce)||(D.description||"").toLowerCase().includes(ce),re=!te||(D.hcfCode||"").toLowerCase().includes(te),de=!ge||(D.companyName||"").toLowerCase().includes(ge),Y=!pe||D.amendmentType.toLowerCase().includes(pe),Ae=E==="all"||(D.status||"Pending")===E;return be&&re&&de&&Y&&Ae}),Ce=()=>{l(null),o(!0)},M=D=>{l(D),o(!0)},q=async D=>{if(window.confirm("Are you sure you want to delete this amendment?"))try{h(!0),await E0.deleteHcfAmendment(D),await $()}catch(ce){console.error("Failed to delete amendment:",ce),alert(ce.message||"Failed to delete amendment")}finally{h(!1)}},ie=async D=>{try{if(m(!0),A(null),d){const ce={};D.amendmentType!==void 0&&(ce.amendmentType=D.amendmentType),D.amendmentDate!==void 0&&(ce.amendmentDate=D.amendmentDate),D.description!==void 0&&(ce.description=D.description),D.status!==void 0&&(ce.amendmentStatus=D.status),D.approvedBy!==void 0&&(ce.approvedBy=D.approvedBy),D.approvedDate!==void 0&&(ce.approvedDate=D.approvedDate),await E0.updateHcfAmendment(d.id,ce)}else{if(!D.hcfId)throw new Error("HCF is required");if(!D.amendmentType)throw new Error("Amendment type is required");if(!D.amendmentDate)throw new Error("Amendment date is required");await E0.createHcfAmendment({hcfId:D.hcfId,amendmentType:D.amendmentType,amendmentDate:D.amendmentDate,description:D.description,status:D.status,approvedBy:D.approvedBy,approvedDate:D.approvedDate})}await $(),o(!1),l(null)}catch(ce){console.error("Failed to save amendment:",ce),A(ce.message||"Failed to save amendment"),alert(ce.message||"Failed to save amendment")}finally{m(!1)}},J=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:L,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map(D=>e.jsx("li",{children:e.jsxs(Rr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),!x&&e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"HCF Amendments",subtitle:"Manage HCF amendments and changes"}),f&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>A(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),u&&V.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading amendments..."}),e.jsxs("div",{className:"hcf-amendments-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Amendments"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF amendment information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF code, company, amendment type...",value:s,onChange:D=>i(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>j(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:Ce,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Amendment"]})]})]}),e.jsx("div",{className:"hcf-amendments-table-container",children:e.jsxs("table",{className:"hcf-amendments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"AMENDMENT TYPE"}),e.jsx("th",{children:"AMENDMENT DATE"}),e.jsx("th",{children:"DESCRIPTION"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"APPROVED BY"}),e.jsx("th",{children:"APPROVED DATE"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:u&&V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"Loading amendments..."})}):X.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:"No amendment records found"})}):X.map(D=>{const ce=G.find(te=>te.id===D.hcfId);return e.jsxs("tr",{children:[e.jsx("td",{children:D.companyName||"-"}),e.jsx("td",{children:ce?`${ce.hcfCode} - ${ce.hcfName}`:D.hcfCode||"-"}),e.jsx("td",{children:D.amendmentType||"-"}),e.jsx("td",{children:D.amendmentDate?new Date(D.amendmentDate).toLocaleDateString():"-"}),e.jsx("td",{children:D.description||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${(D.status||"Pending").toLowerCase()}`,children:D.status||"Pending"})})}),e.jsx("td",{children:D.approvedBy||"-"}),e.jsx("td",{children:D.approvedDate?new Date(D.approvedDate).toLocaleDateString():"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>M(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>M(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>q(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",X.length," of ",V.length," items"]})]})]}),b&&e.jsx(Dte,{statusFilter:E,advancedFilters:S,onClose:()=>j(!1),onClear:()=>{w({hcfCode:"",companyName:"",amendmentType:""}),I("all"),i("")},onApply:D=>{I(D.statusFilter),w(D.advancedFilters),j(!1)}}),c&&e.jsx(Mte,{amendment:d,companies:Z.filter(D=>D.status==="Active"),hcfs:G.filter(D=>D.status==="Active"),onClose:()=>{o(!1),l(null),A(null)},onSave:ie,saving:g})]})},Dte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter amendments by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Amendment Type"}),e.jsx("input",{type:"text",value:o.amendmentType,onChange:l=>d({...o,amendmentType:l.target.value}),className:"cm-filter-input",placeholder:"Enter amendment type"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfCode:"",companyName:"",amendmentType:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Mte=({amendment:r,companies:t,hcfs:n,onClose:a,onSave:s,saving:i=!1})=>{const c=()=>r?{...r,hcfId:r.hcfId}:{hcfId:"",amendmentType:"",amendmentDate:new Date().toISOString().split("T")[0],description:"",status:"Active",approvedBy:"",approvedDate:""},[o,d]=C.useState(c()),l=()=>{if(r&&r.hcfId){const g=n.find(m=>m.id===r.hcfId);return(g==null?void 0:g.companyId)||""}return""},[u,h]=C.useState(l());C.useEffect(()=>{u&&!r&&d(g=>({...g,hcfId:""}))},[u,r]),C.useEffect(()=>{if(r&&r.hcfId&&n.length>0&&!u){const g=n.find(m=>m.id===r.hcfId);g&&h(g.companyId)}},[r,n,u]);const f=u?n.filter(g=>g.companyId===u&&g.status==="Active"):n,A=g=>{if(g.preventDefault(),!o.hcfId){alert("Please select an HCF");return}if(!o.amendmentType){alert("Amendment type is required");return}if(!o.amendmentDate){alert("Amendment date is required");return}s(o)};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Amendment":"Add Amendment"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"amendment-form",onSubmit:A,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:u,onChange:g=>{h(g.target.value),d({...o,hcfId:""})},required:!0,disabled:!!r,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:o.hcfId||"",onChange:g=>d({...o,hcfId:g.target.value}),required:!0,disabled:!u&&!r,children:[e.jsx("option",{value:"",children:"Select HCF"}),f.length===0&&(u||r)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):f.map(g=>e.jsxs("option",{value:g.id,children:[g.hcfCode," - ",g.hcfName]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Type *"}),e.jsx("input",{type:"text",value:o.amendmentType||"",onChange:g=>d({...o,amendmentType:g.target.value}),required:!0,placeholder:"Enter amendment type"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amendment Date *"}),e.jsx("input",{type:"date",value:o.amendmentDate||"",onChange:g=>d({...o,amendmentDate:g.target.value}),required:!0})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Description"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:o.description||"",onChange:g=>d({...o,description:g.target.value}),placeholder:"Enter amendment description",rows:4})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Approval Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o.status||"Pending",onChange:g=>d({...o,status:g.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved By"}),e.jsx("input",{type:"text",value:o.approvedBy||"",onChange:g=>d({...o,approvedBy:g.target.value}),placeholder:"Enter approver name or ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approved Date"}),e.jsx("input",{type:"date",value:o.approvedDate||"",onChange:g=>d({...o,approvedDate:g.target.value})})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:i,children:i?"Saving...":r?"Update":"Save"})]})]})]})})},Rte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=bc(Array.isArray(t)?t:[],"HCF_TYPE_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[b,j]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({hcfTypeCode:"",hcfTypeName:"",companyName:""}),[L,Z]=C.useState("all"),ne=()=>{j(!b)},G=async()=>{try{const ie=(await ia.getAllCompanies(!0)).map(J=>({id:J.id,companyCode:J.companyCode,companyName:J.companyName,status:J.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await zg.getAllHcfTypes(void 0,!0)).map(J=>{const D=f.find(ce=>ce.id===J.companyId);return{id:J.id,companyName:(D==null?void 0:D.companyName)||"Unknown Company",hcfTypeCode:J.hcfTypeCode,hcfTypeName:J.hcfTypeName,status:J.status,createdBy:J.createdBy||"",createdOn:J.createdOn,modifiedBy:J.modifiedBy||"",modifiedOn:J.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load HCF types";y(ie),console.error("Error loading HCF types:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),J=E.hcfTypeCode.trim().toLowerCase(),D=E.hcfTypeName.trim().toLowerCase(),ce=E.companyName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.hcfTypeCode.toLowerCase().includes(ie)||q.hcfTypeName.toLowerCase().includes(ie),ge=!J||q.hcfTypeCode.toLowerCase().includes(J),pe=!D||q.hcfTypeName.toLowerCase().includes(D),be=!ce||q.companyName.toLowerCase().includes(ce),re=L==="all"||q.status===L;return te&&ge&&pe&&be&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},X=async q=>{if(window.confirm("Are you sure you want to delete this HCF Type?"))try{m(!0),await zg.deleteHcfType(q),await le(),alert("HCF Type deleted successfully")}catch(ie){const J=ie instanceof Error?ie.message:"Failed to delete HCF type";alert(`Error: ${J}`),console.error("Error deleting HCF type:",ie)}finally{m(!1)}},Ce=async q=>{try{m(!0),y(null);const ie=f.find(J=>J.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await zg.updateHcfType(d.id,{status:q.status}),alert("HCF Type updated successfully");else{if(!q.hcfTypeCode||!q.hcfTypeName||!q.companyName){alert("Please fill in all required fields");return}await zg.createHcfType({hcfTypeCode:q.hcfTypeCode,hcfTypeName:q.hcfTypeName,companyId:ie.id}),alert("HCF Type created successfully")}o(!1),l(null),await le()}catch(ie){const J=ie instanceof Error?ie.message:"Failed to save HCF type";y(J),alert(`Error: ${J}`),console.error("Error saving HCF type:",ie)}finally{m(!1)}},M=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ne,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:M.map(q=>e.jsx("li",{children:e.jsxs(Rr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!b&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"HCF Type Master",subtitle:"Manage HCF type master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading HCF types..."}),e.jsxs("div",{className:"hcf-type-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"HCF Type Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage HCF type information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by HCF type code, name, company...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add HCF Type"]})]})]}),e.jsx("div",{className:"hcf-type-master-table-container",children:e.jsxs("table",{className:"hcf-type-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"HCF TYPE CODE"}),e.jsx("th",{children:"HCF TYPE NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:g?"Loading...":"No HCF Type records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.hcfTypeCode||"-"}),e.jsx("td",{children:q.hcfTypeName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx(Lte,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({hcfTypeCode:"",hcfTypeName:"",companyName:""}),Z("all"),i("")},onApply:q=>{Z(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(Ute,{hcfType:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:Ce})]})},Lte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter HCF types by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Type Code"}),e.jsx("input",{type:"text",value:o.hcfTypeCode,onChange:l=>d({...o,hcfTypeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF type code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Type Name"}),e.jsx("input",{type:"text",value:o.hcfTypeName,onChange:l=>d({...o,hcfTypeName:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF type name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({hcfTypeCode:"",hcfTypeName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Ute=({hcfType:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",hcfTypeCode:"",hcfTypeName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit HCF Type":"Add HCF Type"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"hcf-type-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Code *"}),e.jsx("input",{type:"text",value:s.hcfTypeCode||"",onChange:o=>i({...s,hcfTypeCode:o.target.value}),required:!0,placeholder:"Enter HCF Type Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Type Name *"}),e.jsx("input",{type:"text",value:s.hcfTypeName||"",onChange:o=>i({...s,hcfTypeName:o.target.value}),required:!0,placeholder:"Enter HCF Type Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Hte="http://localhost:3000/api/v1",Qte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},fg=async(r,t={})=>{const n=Qte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Hte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Ph={createFleet:async r=>(await fg("/fleets",{method:"POST",body:JSON.stringify(r)})).data,getFleetById:async r=>(await fg(`/fleets/${r}`,{method:"GET"})).data,getAllFleets:async(r,t=!1)=>{let n="/fleets";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("activeOnly","true"),a.toString()&&(n+=`?${a.toString()}`),(await fg(n,{method:"GET"})).data},updateFleet:async(r,t)=>(await fg(`/fleets/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteFleet:async r=>{await fg(`/fleets/${r}`,{method:"DELETE"})}},Wte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=bc(Array.isArray(t)?t:[],"FLEET_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[b,j]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({vehicleNum:"",companyName:"",ownerName:""}),[L,Z]=C.useState("all"),ne=()=>{j(!b)},G=async()=>{try{const ie=(await ia.getAllCompanies(!0)).map(J=>({id:J.id,companyCode:J.companyCode,companyName:J.companyName,status:J.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await Ph.getAllFleets(void 0,!0)).map(J=>{const D=f.find(ce=>ce.id===J.companyId);return{id:J.id,companyName:(D==null?void 0:D.companyName)||"Unknown Company",vehicleNum:J.vehicleNum,capacity:J.capacity||"",vehMake:J.vehMake||"",vehModel:J.vehModel||"",mfgYear:J.mfgYear||"",nextFCDate:J.nextFCDate||"",pucDateValidUpto:J.pucDateValidUpto||"",insuranceValidUpto:J.insuranceValidUpto||"",ownerName:J.ownerName||"",ownerContact:J.ownerContact||"",ownerEmail:J.ownerEmail||"",ownerPAN:J.ownerPAN||"",ownerAadhaar:J.ownerAadhaar||"",pymtToName:J.pymtToName||"",pymtBankName:J.pymtBankName||"",pymtAccNum:J.pymtAccNum||"",pymtIFSCode:J.pymtIFSCode||"",pymtBranch:J.pymtBranch||"",contractAmount:J.contractAmount||"",tdsExemption:J.tdsExemption||!1,status:J.status,createdBy:J.createdBy||"",createdOn:J.createdOn,modifiedBy:J.modifiedBy||"",modifiedOn:J.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load fleets";y(ie),console.error("Error loading fleets:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),J=E.vehicleNum.trim().toLowerCase(),D=E.companyName.trim().toLowerCase(),ce=E.ownerName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.vehicleNum.toLowerCase().includes(ie)||q.vehMake.toLowerCase().includes(ie)||q.vehModel.toLowerCase().includes(ie)||q.ownerName.toLowerCase().includes(ie),ge=!J||q.vehicleNum.toLowerCase().includes(J),pe=!D||q.companyName.toLowerCase().includes(D),be=!ce||q.ownerName.toLowerCase().includes(ce),re=L==="all"||q.status===L;return te&&ge&&pe&&be&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},X=async q=>{if(window.confirm("Are you sure you want to delete this fleet vehicle?"))try{m(!0),await Ph.deleteFleet(q),await le(),alert("Fleet deleted successfully")}catch(ie){const J=ie instanceof Error?ie.message:"Failed to delete fleet";alert(`Error: ${J}`),console.error("Error deleting fleet:",ie)}finally{m(!1)}},Ce=async q=>{try{m(!0),y(null);const ie=f.find(J=>J.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await Ph.updateFleet(d.id,{capacity:q.capacity,vehMake:q.vehMake,vehModel:q.vehModel,mfgYear:q.mfgYear,nextFCDate:q.nextFCDate,pucDateValidUpto:q.pucDateValidUpto,insuranceValidUpto:q.insuranceValidUpto,ownerName:q.ownerName,ownerContact:q.ownerContact,ownerEmail:q.ownerEmail,ownerPAN:q.ownerPAN,ownerAadhaar:q.ownerAadhaar,pymtToName:q.pymtToName,pymtBankName:q.pymtBankName,pymtAccNum:q.pymtAccNum,pymtIFSCode:q.pymtIFSCode,pymtBranch:q.pymtBranch,contractAmount:q.contractAmount,tdsExemption:q.tdsExemption,status:q.status}),alert("Fleet updated successfully");else{if(!q.vehicleNum||!q.companyName){alert("Please fill in Vehicle Number and Company Name");return}await Ph.createFleet({companyId:ie.id,vehicleNum:q.vehicleNum,capacity:q.capacity,vehMake:q.vehMake,vehModel:q.vehModel,mfgYear:q.mfgYear,nextFCDate:q.nextFCDate,pucDateValidUpto:q.pucDateValidUpto,insuranceValidUpto:q.insuranceValidUpto,ownerName:q.ownerName,ownerContact:q.ownerContact,ownerEmail:q.ownerEmail,ownerPAN:q.ownerPAN,ownerAadhaar:q.ownerAadhaar,pymtToName:q.pymtToName,pymtBankName:q.pymtBankName,pymtAccNum:q.pymtAccNum,pymtIFSCode:q.pymtIFSCode,pymtBranch:q.pymtBranch,contractAmount:q.contractAmount,tdsExemption:q.tdsExemption}),alert("Fleet created successfully")}o(!1),l(null),await le()}catch(ie){const J=ie instanceof Error?ie.message:"Failed to save fleet";y(J),alert(`Error: ${J}`),console.error("Error saving fleet:",ie)}finally{m(!1)}},M=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ne,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:M.map(q=>e.jsx("li",{children:e.jsxs(Rr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!b&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Fleet Management",subtitle:"Manage fleet and vehicle master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading fleets..."}),e.jsxs("div",{className:"fleet-management-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Fleet Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage fleet vehicles and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by vehicle number, company, owner...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Vehicle"]})]})]}),e.jsx("div",{className:"fleet-management-table-container",children:e.jsxs("table",{className:"fleet-management-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"VEHICLE NUMBER"}),e.jsx("th",{children:"MAKE"}),e.jsx("th",{children:"MODEL"}),e.jsx("th",{children:"CAPACITY"}),e.jsx("th",{children:"OWNER NAME"}),e.jsx("th",{children:"OWNER CONTACT"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:g?"Loading...":"No fleet records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.vehicleNum||"-"}),e.jsx("td",{children:q.vehMake||"-"}),e.jsx("td",{children:q.vehModel||"-"}),e.jsx("td",{children:q.capacity||"-"}),e.jsx("td",{children:q.ownerName||"-"}),e.jsx("td",{children:q.ownerContact||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx($te,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({vehicleNum:"",companyName:"",ownerName:""}),Z("all"),i("")},onApply:q=>{Z(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(Vte,{fleet:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:Ce})]})},$te=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter fleets by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Vehicle Number"}),e.jsx("input",{type:"text",value:o.vehicleNum,onChange:l=>d({...o,vehicleNum:l.target.value}),className:"cm-filter-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Owner Name"}),e.jsx("input",{type:"text",value:o.ownerName,onChange:l=>d({...o,ownerName:l.target.value}),className:"cm-filter-input",placeholder:"Enter owner name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({vehicleNum:"",companyName:"",ownerName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Vte=({fleet:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",vehicleNum:"",capacity:"",vehMake:"",vehModel:"",mfgYear:"",nextFCDate:"",pucDateValidUpto:"",insuranceValidUpto:"",ownerName:"",ownerContact:"",ownerEmail:"",ownerPAN:"",ownerAadhaar:"",pymtToName:"",pymtBankName:"",pymtAccNum:"",pymtIFSCode:"",pymtBranch:"",contractAmount:"",tdsExemption:!1,status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Vehicle":"Add Vehicle"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"fleet-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Number *"}),e.jsx("input",{type:"text",value:s.vehicleNum||"",onChange:o=>i({...s,vehicleNum:o.target.value}),required:!0,placeholder:"e.g., MH-01-AB-1234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Capacity *"}),e.jsx("input",{type:"text",value:s.capacity||"",onChange:o=>i({...s,capacity:o.target.value}),required:!0,placeholder:"Enter capacity in kg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Make *"}),e.jsx("input",{type:"text",value:s.vehMake||"",onChange:o=>i({...s,vehMake:o.target.value}),required:!0,placeholder:"e.g., Tata, Mahindra"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vehicle Model *"}),e.jsx("input",{type:"text",value:s.vehModel||"",onChange:o=>i({...s,vehModel:o.target.value}),required:!0,placeholder:"e.g., 407, Bolero"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Manufacturing Year"}),e.jsx("input",{type:"text",value:s.mfgYear||"",onChange:o=>i({...s,mfgYear:o.target.value}),placeholder:"e.g., 2020"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Compliance Dates"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Next FC Date"}),e.jsx("input",{type:"date",value:s.nextFCDate||"",onChange:o=>i({...s,nextFCDate:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PUC Date Valid Upto"}),e.jsx("input",{type:"date",value:s.pucDateValidUpto||"",onChange:o=>i({...s,pucDateValidUpto:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Valid Upto"}),e.jsx("input",{type:"date",value:s.insuranceValidUpto||"",onChange:o=>i({...s,insuranceValidUpto:o.target.value})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Owner Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name *"}),e.jsx("input",{type:"text",value:s.ownerName||"",onChange:o=>i({...s,ownerName:o.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Contact *"}),e.jsx("input",{type:"tel",value:s.ownerContact||"",onChange:o=>i({...s,ownerContact:o.target.value}),required:!0,placeholder:"+91-9876543210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Email"}),e.jsx("input",{type:"email",value:s.ownerEmail||"",onChange:o=>i({...s,ownerEmail:o.target.value}),placeholder:"owner@example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner PAN"}),e.jsx("input",{type:"text",value:s.ownerPAN||"",onChange:o=>i({...s,ownerPAN:o.target.value}),placeholder:"ABCDE1234F"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Aadhaar"}),e.jsx("input",{type:"text",value:s.ownerAadhaar||"",onChange:o=>i({...s,ownerAadhaar:o.target.value}),placeholder:"1234-5678-9012"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment To Name"}),e.jsx("input",{type:"text",value:s.pymtToName||"",onChange:o=>i({...s,pymtToName:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.pymtBankName||"",onChange:o=>i({...s,pymtBankName:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:s.pymtAccNum||"",onChange:o=>i({...s,pymtAccNum:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code"}),e.jsx("input",{type:"text",value:s.pymtIFSCode||"",onChange:o=>i({...s,pymtIFSCode:o.target.value}),placeholder:"SBIN0001234"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch"}),e.jsx("input",{type:"text",value:s.pymtBranch||"",onChange:o=>i({...s,pymtBranch:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Amount"}),e.jsx("input",{type:"text",value:s.contractAmount||"",onChange:o=>i({...s,contractAmount:o.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TDS Exemption"}),e.jsxs("select",{value:s.tdsExemption?"true":"false",onChange:o=>i({...s,tdsExemption:o.target.value==="true"}),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},zte=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ag=async(r,t={})=>{const n=zte(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Gg={createRouteHcfMapping:async r=>(await Ag("/route-hcf-mappings",{method:"POST",body:JSON.stringify(r)})).data,getRouteHcfMappingById:async r=>(await Ag(`/route-hcf-mappings/${r}`,{method:"GET"})).data,getAllRouteHcfMappings:async(r,t,n,a=!1)=>{let s="/route-hcf-mappings";const i=new URLSearchParams;return r&&i.append("routeId",r),t&&i.append("hcfId",t),n&&i.append("companyId",n),a&&i.append("activeOnly","true"),i.toString()&&(s+=`?${i.toString()}`),(await Ag(s,{method:"GET"})).data},updateRouteHcfMapping:async(r,t)=>(await Ag(`/route-hcf-mappings/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRouteHcfMapping:async r=>{await Ag(`/route-hcf-mappings/${r}`,{method:"DELETE"})}},Gte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=bc(Array.isArray(t)?t:[],"ROUTE_HCF_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState(null),[x,y]=C.useState(!1),[b,j]=C.useState(!1),[S,w]=C.useState({routeCode:"",hcfCode:"",companyName:""}),[E,I]=C.useState("all"),L=()=>{y(!x)},[Z,ne]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,X]=C.useState([]),Ce=C.useCallback(async()=>{try{const de=(await ia.getAllCompanies(!0)).map(Y=>({id:Y.id,companyCode:Y.companyCode,companyName:Y.companyName,status:Y.status}));ne(de)}catch(re){console.error("Error loading companies:",re)}},[]),M=C.useCallback(async()=>{try{const re=await cA.getAllRoutes(!0),de=await Promise.all(re.map(async Y=>{const Ae=Z.find(ye=>ye.id===Y.companyId);return{id:Y.id,routeCode:Y.routeCode,routeName:Y.routeName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:Y.status}}));le(de)}catch(re){console.error("Error loading routes:",re)}},[Z]),q=C.useCallback(async()=>{try{const re=await xi.getAllHcfs(void 0,!0),de=await Promise.all(re.map(async Y=>{const Ae=Z.find(ye=>ye.id===Y.companyId);return{id:Y.id,hcfCode:Y.hcfCode,hcfName:Y.hcfName,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",status:Y.status}}));me(de)}catch(re){console.error("Error loading HCFs:",re)}},[Z]),ie=C.useCallback(async()=>{h(!0),A(null);try{const de=(await Gg.getAllRouteHcfMappings(void 0,void 0,void 0,!0)).map(Y=>{const Ae=G.find(We=>We.id===Y.routeId),ye=V.find(We=>We.id===Y.hcfId),Oe=Z.find(We=>We.id===Y.companyId);return{id:Y.id,routeId:Y.routeId,routeCode:(Ae==null?void 0:Ae.routeCode)||"",routeName:(Ae==null?void 0:Ae.routeName)||"",hcfId:Y.hcfId,hcfCode:(ye==null?void 0:ye.hcfCode)||"",hcfName:(ye==null?void 0:ye.hcfName)||"",companyId:Y.companyId,companyName:(Oe==null?void 0:Oe.companyName)||"Unknown",sequenceOrder:Y.sequenceOrder,status:Y.status,createdBy:Y.createdBy,createdOn:Y.createdOn,modifiedBy:Y.modifiedBy,modifiedOn:Y.modifiedOn}});X(de)}catch(re){const de=re instanceof Error?re.message:"Failed to load mappings";A(de),console.error("Error loading mappings:",re)}finally{h(!1)}},[G,V,Z]);C.useEffect(()=>{(async()=>{await Ce()})()},[Ce]),C.useEffect(()=>{Z.length>0&&(M(),q())},[Z,M,q]),C.useEffect(()=>{G.length>0&&V.length>0&&Z.length>0&&ie()},[G,V,Z,ie]);const J=$.filter(re=>{var nt,tt;const de=s.trim().toLowerCase(),Y=S.routeCode.trim().toLowerCase(),Ae=S.hcfCode.trim().toLowerCase(),ye=S.companyName.trim().toLowerCase(),Oe=!de||re.routeCode.toLowerCase().includes(de)||re.hcfCode.toLowerCase().includes(de)||re.companyName.toLowerCase().includes(de)||((nt=G.find(Le=>Le.routeCode===re.routeCode))==null?void 0:nt.routeName.toLowerCase().includes(de))||((tt=V.find(Le=>Le.hcfCode===re.hcfCode))==null?void 0:tt.hcfName.toLowerCase().includes(de)),We=!Y||re.routeCode.toLowerCase().includes(Y),ae=!Ae||re.hcfCode.toLowerCase().includes(Ae),ke=!ye||re.companyName.toLowerCase().includes(ye),Fe=E==="all"||re.status===E;return Oe&&We&&ae&&ke&&Fe}),D=()=>{l(null),o(!0)},ce=re=>{l(re),o(!0)},te=async re=>{if(window.confirm("Are you sure you want to delete this Route-HCF mapping?"))try{h(!0),A(null),await Gg.deleteRouteHcfMapping(re),m("Mapping deleted successfully"),await ie(),setTimeout(()=>{m(null)},3e3)}catch(de){let Y="Failed to delete mapping";de instanceof Error&&(Y=de.message,Y.includes("not found")?Y="This mapping could not be found. It may have already been deleted.":(Y.includes("permission")||Y.includes("unauthorized"))&&(Y="You do not have permission to delete this mapping.")),A(Y),console.error("Error deleting mapping:",de)}finally{h(!1)}},ge=(re,de,Y)=>{let Ae="Failed to save mapping";return re instanceof Error&&(Ae=re.message,Ae.includes("already exists")||Ae.includes("mapping between")?de&&Y?Ae=`This mapping already exists: Route "${de.routeCode} - ${de.routeName}" and HCF "${Y.hcfCode} - ${Y.hcfName}" are already mapped together. Each route-HCF combination can only be mapped once.`:Ae="This mapping already exists. Each route-HCF combination can only be mapped once.":Ae.includes("not found")?Ae="One or more selected items (Route, HCF, or Company) could not be found. Please refresh and try again.":Ae.includes("invalid")?Ae="Invalid data provided. Please check your inputs and try again.":Ae.includes("required")?Ae="Please fill in all required fields.":Ae.includes("permission")||Ae.includes("unauthorized")?Ae="You do not have permission to perform this action.":Ae.includes("HTTP 409")||Ae.includes("Conflict")?Ae="A conflict occurred. This mapping may already exist.":Ae.includes("HTTP 400")||Ae.includes("Bad Request")?Ae="Invalid request. Please check your inputs and try again.":(Ae.includes("HTTP 500")||Ae.includes("Internal Server Error"))&&(Ae="An internal server error occurred. Please try again later or contact support.")),Ae},pe=async re=>{try{h(!0),A(null);const de=Z.find(ye=>ye.companyName===re.companyName);if(!de){A("Please select a valid company");return}const Y=G.find(ye=>ye.routeCode===re.routeCode&&ye.companyName===re.companyName);if(!Y){A("Please select a valid route");return}const Ae=V.find(ye=>ye.hcfCode===re.hcfCode&&ye.companyName===re.companyName);if(!Ae){A("Please select a valid HCF");return}d?(await Gg.updateRouteHcfMapping(d.id,{sequenceOrder:re.sequenceOrder,status:re.status}),A(null),m("Mapping updated successfully"),o(!1),l(null),await ie(),setTimeout(()=>{m(null)},3e3)):(await Gg.createRouteHcfMapping({routeId:Y.id,hcfId:Ae.id,companyId:de.id,sequenceOrder:re.sequenceOrder}),A(null),m("Mapping created successfully"),o(!1),l(null),await ie(),setTimeout(()=>{m(null)},3e3))}catch(de){const Y=G.find(Oe=>Oe.routeCode===re.routeCode&&Oe.companyName===re.companyName),Ae=V.find(Oe=>Oe.hcfCode===re.hcfCode&&Oe.companyName===re.companyName),ye=ge(de,Y,Ae);A(ye),console.error("Error saving mapping:",de)}finally{h(!1)}},be=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${x?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!x&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:L,"aria-label":x?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:be.map(re=>e.jsx("li",{children:e.jsxs(Rr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!x&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!x&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!x&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Route-HCF Mapping",subtitle:"Map routes to healthcare facilities"}),g&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"4px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:g}),e.jsx("button",{onClick:()=>m(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),f&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>A(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),u&&!$.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading mappings..."}),e.jsxs("div",{className:"route-hcf-mapping-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route-HCF Mapping"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage route and HCF mapping information"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route code, HCF code, company...",value:s,onChange:re=>i(re.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>j(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:D,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Mapping"]})]})]}),e.jsx("div",{className:"route-hcf-mapping-table-container",children:e.jsxs("table",{className:"route-hcf-mapping-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"ROUTE CODE"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:J.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:u?"Loading...":"No mapping records found"})}):J.map(re=>e.jsxs("tr",{children:[e.jsx("td",{children:re.companyName||"-"}),e.jsx("td",{children:re.routeCode?`${re.routeCode} - ${re.routeName}`:"-"}),e.jsx("td",{children:re.hcfCode?`${re.hcfCode} - ${re.hcfName}`:"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${re.status.toLowerCase()}`,children:re.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ce(re),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>ce(re),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>te(re.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},re.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",J.length," of ",$.length," items"]})]})]}),b&&e.jsx(Kte,{statusFilter:E,advancedFilters:S,onClose:()=>j(!1),onClear:()=>{w({routeCode:"",hcfCode:"",companyName:""}),I("all"),i("")},onApply:re=>{I(re.statusFilter),w(re.advancedFilters),j(!1)}}),c&&e.jsx(qte,{mapping:d,companies:Z.filter(re=>re.status==="Active"),routes:G.filter(re=>re.status==="Active"),hcfs:V.filter(re=>re.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:pe})]})},Kte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter mappings by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Route Code"}),e.jsx("input",{type:"text",value:o.routeCode,onChange:l=>d({...o,routeCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter route code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:o.hcfCode,onChange:l=>d({...o,hcfCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({routeCode:"",hcfCode:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},qte=({mapping:r,companies:t,routes:n,hcfs:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{companyName:"",routeCode:"",hcfCode:"",status:"Active"}),d=c.companyName?n.filter(h=>h.companyName===c.companyName):n,l=c.companyName?a.filter(h=>h.companyName===c.companyName):a,u=h=>{h.preventDefault(),i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Mapping":"Add Mapping"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"mapping-form",onSubmit:u,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Mapping Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:c.companyName||"",onChange:h=>{o({...c,companyName:h.target.value,routeCode:"",hcfCode:""})},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Route Code *"}),e.jsxs("select",{value:c.routeCode||"",onChange:h=>o({...c,routeCode:h.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select Route"}),d.map(h=>e.jsxs("option",{value:h.routeCode,children:[h.routeCode," - ",h.routeName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF Code *"}),e.jsxs("select",{value:c.hcfCode||"",onChange:h=>o({...c,hcfCode:h.target.value}),required:!0,disabled:!c.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),l.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Active",onChange:h=>o({...c,status:h.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Xte=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=bc(Array.isArray(t)?t:[],"FREQUENCY_CREATE"),[s,i]=C.useState(""),[c,o]=C.useState(!1),[d,l]=C.useState(null),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState(!1),[x,y]=C.useState(null),[b,j]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState({frequencyCode:"",frequencyName:"",companyName:""}),[L,Z]=C.useState("all"),ne=()=>{j(!b)},G=async()=>{try{const ie=(await ia.getAllCompanies(!0)).map(J=>({id:J.id,companyCode:J.companyCode,companyName:J.companyName,status:J.status}));A(ie)}catch(q){console.error("Error loading companies:",q)}},le=async()=>{m(!0),y(null);try{const ie=(await Gp.getAllFrequencies(void 0,!0)).map(J=>{const D=f.find(ce=>ce.id===J.companyId);return{id:J.id,frequencyCode:J.frequencyCode,frequencyName:J.frequencyName,companyName:(D==null?void 0:D.companyName)||"Unknown Company",status:J.status,createdBy:J.createdBy||"",createdOn:J.createdOn,modifiedBy:J.modifiedBy||"",modifiedOn:J.modifiedOn}});h(ie)}catch(q){const ie=q instanceof Error?q.message:"Failed to load frequencies";y(ie),console.error("Error loading frequencies:",q),h([])}finally{m(!1)}};C.useEffect(()=>{(async()=>{await G()})()},[]),C.useEffect(()=>{f.length>0&&le()},[f.length]);const V=u.filter(q=>{const ie=s.trim().toLowerCase(),J=E.frequencyCode.trim().toLowerCase(),D=E.frequencyName.trim().toLowerCase(),ce=E.companyName.trim().toLowerCase(),te=!ie||q.companyName.toLowerCase().includes(ie)||q.frequencyCode.toLowerCase().includes(ie)||q.frequencyName.toLowerCase().includes(ie),ge=!J||q.frequencyCode.toLowerCase().includes(J),pe=!D||q.frequencyName.toLowerCase().includes(D),be=!ce||q.companyName.toLowerCase().includes(ce),re=L==="all"||q.status===L;return te&&ge&&pe&&be&&re}),me=()=>{l(null),o(!0)},$=q=>{l(q),o(!0)},X=async q=>{if(window.confirm("Are you sure you want to delete this frequency?"))try{m(!0),await Gp.deleteFrequency(q),await le(),alert("Frequency deleted successfully")}catch(ie){const J=ie instanceof Error?ie.message:"Failed to delete frequency";alert(`Error: ${J}`),console.error("Error deleting frequency:",ie)}finally{m(!1)}},Ce=async q=>{try{m(!0),y(null);const ie=f.find(J=>J.companyName===q.companyName);if(!ie){alert("Please select a valid company");return}if(d)await Gp.updateFrequency(d.id,{status:q.status}),alert("Frequency updated successfully");else{if(!q.frequencyCode||!q.frequencyName||!q.companyName){alert("Please fill in all required fields");return}await Gp.createFrequency({frequencyCode:q.frequencyCode,frequencyName:q.frequencyName,companyId:ie.id}),alert("Frequency created successfully")}o(!1),l(null),await le()}catch(ie){const J=ie instanceof Error?ie.message:"Failed to save frequency";y(J),alert(`Error: ${J}`),console.error("Error saving frequency:",ie)}finally{m(!1)}},M=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${b?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!b&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ne,"aria-label":b?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:M.map(q=>e.jsx("li",{children:e.jsxs(Rr,{to:q.path,className:`nav-link ${q.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:q.icon}),!b&&e.jsx("span",{className:"nav-label",children:q.label})]})},q.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!b&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!b&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Frequency Master",subtitle:"Manage frequency master data"}),x&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>y(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px"},children:""})]}),g&&!u.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"Loading frequencies..."}),e.jsxs("div",{className:"frequency-master-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Frequency Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage frequency information and details"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by frequency code, name, company...",value:s,onChange:q=>i(q.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>w(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),a&&e.jsxs("button",{className:"ra-add-btn",onClick:me,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Frequency"]})]})]}),e.jsx("div",{className:"frequency-master-table-container",children:e.jsxs("table",{className:"frequency-master-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"COMPANY NAME"}),e.jsx("th",{children:"FREQUENCY CODE"}),e.jsx("th",{children:"FREQUENCY NAME"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"empty-message",children:g?"Loading...":"No frequency records found"})}):V.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:q.companyName||"-"}),e.jsx("td",{children:q.frequencyCode||"-"}),e.jsx("td",{children:q.frequencyName||"-"}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${q.status.toLowerCase()}`,children:q.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>$(q),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>$(q),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>X(q.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},q.id))})]})}),e.jsxs("div",{className:"cm-pagination-info",children:["Showing ",V.length," of ",u.length," items"]})]})]}),S&&e.jsx(Yte,{statusFilter:L,advancedFilters:E,onClose:()=>w(!1),onClear:()=>{I({frequencyCode:"",frequencyName:"",companyName:""}),Z("all"),i("")},onApply:q=>{Z(q.statusFilter),I(q.advancedFilters),w(!1)}}),c&&e.jsx(Jte,{frequency:d,companies:f.filter(q=>q.status==="Active"),onClose:()=>{o(!1),l(null)},onSave:Ce})]})},Yte=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay cm-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content cm-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"cm-filter-modal-header",children:[e.jsxs("div",{className:"cm-filter-modal-titlewrap",children:[e.jsx("div",{className:"cm-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"cm-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"cm-filter-subtitle",children:"Filter frequencies by multiple criteria"})]})]}),e.jsx("button",{className:"cm-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"cm-filter-modal-body",children:e.jsxs("div",{className:"cm-filter-grid",children:[e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Frequency Code"}),e.jsx("input",{type:"text",value:o.frequencyCode,onChange:l=>d({...o,frequencyCode:l.target.value}),className:"cm-filter-input",placeholder:"Enter frequency code"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Frequency Name"}),e.jsx("input",{type:"text",value:o.frequencyName,onChange:l=>d({...o,frequencyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter frequency name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"cm-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"cm-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"cm-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"cm-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"cm-link-btn",onClick:()=>{c("all"),d({frequencyCode:"",frequencyName:"",companyName:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"cm-btn cm-btn--primary cm-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Jte=({frequency:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyName:"",frequencyCode:"",frequencyName:"",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Frequency":"Add Frequency"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"frequency-form",onSubmit:c,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name *"}),e.jsxs("select",{value:s.companyName||"",onChange:o=>i({...s,companyName:o.target.value}),required:!0,disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{},children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.companyName,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Code *"}),e.jsx("input",{type:"text",value:s.frequencyCode||"",onChange:o=>i({...s,frequencyCode:o.target.value}),required:!0,placeholder:"Enter Frequency Code",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency Name *"}),e.jsx("input",{type:"text",value:s.frequencyName||"",onChange:o=>i({...s,frequencyName:o.target.value}),required:!0,placeholder:"Enter Frequency Name",disabled:!!r,style:r?{backgroundColor:"#f5f5f5",cursor:"not-allowed"}:{}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:r?"Update":"Save"})]})]})]})})},Zte="http://localhost:3000/api/v1",ere=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},pg=async(r,t={})=>{const n=ere(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Zte}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},mg={createRouteAssignment:async r=>(await pg("/route-assignments",{method:"POST",body:JSON.stringify(r)})).data,getRouteAssignmentById:async r=>(await pg(`/route-assignments/${r}`,{method:"GET"})).data,getAllRouteAssignments:async(r,t,n)=>{let a="/route-assignments";const s=new URLSearchParams;return r&&s.append("companyId",r),t&&s.append("date",t),n&&s.append("status",n),s.toString()&&(a+=`?${s.toString()}`),(await pg(a,{method:"GET"})).data},updateRouteAssignment:async(r,t)=>(await pg(`/route-assignments/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteRouteAssignment:async r=>{await pg(`/route-assignments/${r}`,{method:"DELETE"})}},tre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(!1),[y,b]=C.useState(null),[j,S]=C.useState(null),[w,E]=C.useState({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),[I,L]=C.useState([]),[Z,ne]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,X]=C.useState([]),[Ce,M]=C.useState([]),[q,ie]=C.useState([]),J=C.useCallback(async()=>{try{const ke=(await ia.getAllCompanies(!0)).map(Fe=>({id:Fe.id,companyCode:Fe.companyCode,companyName:Fe.companyName,status:Fe.status}));L(ke)}catch(ae){console.error("Error loading companies:",ae)}},[]),D=C.useCallback(async ae=>{try{const Fe=(await cA.getAllRoutes(!0)).map(nt=>({id:nt.id,routeCode:nt.routeCode,routeName:nt.routeName,companyId:nt.companyId,status:nt.status}));ne(ae?Fe.filter(nt=>nt.companyId===ae):Fe)}catch(ke){console.error("Error loading routes:",ke)}},[]),ce=C.useCallback(async ae=>{try{const Fe=(await Ph.getAllFleets(ae,!0)).map(nt=>({id:nt.id,vehicleNum:nt.vehicleNum,companyId:nt.companyId,status:nt.status}));le(Fe)}catch(ke){console.error("Error loading vehicles:",ke)}},[]),te=C.useCallback(async ae=>{if(!ae){me([]),X([]),M([]);return}try{const nt=(await Hc.getUsersByCompany(ae)).map(tt=>({id:tt.userId,userName:tt.userName,employeeCode:tt.employeeCode,companyId:tt.companyId,status:tt.status})).filter(tt=>tt.status==="Active");me(nt),X(nt),M(nt)}catch(ke){console.error("Error loading users:",ke),me([]),X([]),M([])}},[]),ge=C.useCallback(async()=>{x(!0),b(null);try{const ae=await mg.getAllRouteAssignments(void 0,i,o!=="all"?o:void 0),ke=await Promise.all(ae.map(async Fe=>{const nt=Z.find(yt=>yt.id===Fe.routeId),tt=G.find(yt=>yt.id===Fe.vehicleId),Le=V.find(yt=>yt.id===Fe.driverId),lt=Fe.pickerId?$.find(yt=>yt.id===Fe.pickerId):null,$t=Fe.supervisorId?Ce.find(yt=>yt.id===Fe.supervisorId):null,Ue=I.find(yt=>yt.id===Fe.companyId);return{id:Fe.id,assignmentDate:Fe.assignmentDate,routeId:Fe.routeId,routeCode:(nt==null?void 0:nt.routeCode)||"",routeName:(nt==null?void 0:nt.routeName)||"",vehicleId:Fe.vehicleId,vehicleNum:(tt==null?void 0:tt.vehicleNum)||"",driverId:Fe.driverId,driverName:(Le==null?void 0:Le.userName)||"",pickerId:Fe.pickerId,pickerName:lt==null?void 0:lt.userName,supervisorId:Fe.supervisorId,supervisorName:$t==null?void 0:$t.userName,companyId:Fe.companyId,companyName:(Ue==null?void 0:Ue.companyName)||"Unknown",status:Fe.status,notes:Fe.notes,createdBy:Fe.createdBy,createdOn:Fe.createdOn,modifiedBy:Fe.modifiedBy,modifiedOn:Fe.modifiedOn}}));ie(ke)}catch(ae){const ke=ae instanceof Error?ae.message:"Failed to load assignments";b(ke),console.error("Error loading assignments:",ae)}finally{x(!1)}},[i,o,Z,G,V,$,Ce,I]);C.useEffect(()=>{(async()=>{await J()})()},[J]),C.useEffect(()=>{I.length>0&&(D(),ce())},[I,D,ce]),C.useEffect(()=>{Z.length>0&&G.length>0&&ge()},[i,o,Z,G,V,$,Ce,I,ge]);const pe=C.useMemo(()=>{const ae=a.trim().toLowerCase(),ke=w.route.trim().toLowerCase(),Fe=w.vehicle.trim().toLowerCase(),nt=w.driver.trim().toLowerCase(),tt=w.picker.trim().toLowerCase(),Le=w.supervisor.trim().toLowerCase();return q.filter(lt=>{var _t,Vt;const $t=!ae||lt.routeCode.toLowerCase().includes(ae)||lt.routeName.toLowerCase().includes(ae)||lt.vehicleNum.toLowerCase().includes(ae)||lt.driverName.toLowerCase().includes(ae)||((_t=lt.pickerName)==null?void 0:_t.toLowerCase().includes(ae))||((Vt=lt.supervisorName)==null?void 0:Vt.toLowerCase().includes(ae))||lt.companyName.toLowerCase().includes(ae),Ue=!ke||lt.routeCode.toLowerCase().includes(ke)||lt.routeName.toLowerCase().includes(ke),yt=!Fe||lt.vehicleNum.toLowerCase().includes(Fe),Tt=!nt||lt.driverName.toLowerCase().includes(nt),Zt=!tt||(lt.pickerName||"-").toLowerCase().includes(tt),Mr=!Le||(lt.supervisorName||"-").toLowerCase().includes(Le);return $t&&Ue&&yt&&Tt&&Zt&&Mr})},[q,a,w]),be=()=>{g(null),u(!0)},re=ae=>{if(ae.status==="In Progress"||ae.status==="Completed"){b("Cannot edit assignments that are In Progress or Completed");return}g(ae),u(!0)},de=async ae=>{if(window.confirm("Are you sure you want to delete this route assignment?"))try{x(!0),b(null),await mg.deleteRouteAssignment(ae),S("Assignment deleted successfully"),await ge(),setTimeout(()=>S(null),3e3)}catch(ke){const Fe=ke instanceof Error?ke.message:"Failed to delete assignment";b(Fe),console.error("Error deleting assignment:",ke)}finally{x(!1)}},Y=async ae=>{try{if(x(!0),b(null),A)await mg.updateRouteAssignment(A.id,{status:ae.status,pickerId:ae.pickerId,supervisorId:ae.supervisorId,notes:ae.notes}),S("Assignment updated successfully");else{const ke=I.find(Fe=>Fe.id===ae.companyId);if(!ke){b("Please select a valid company");return}await mg.createRouteAssignment({assignmentDate:i,routeId:ae.routeId,vehicleId:ae.vehicleId,driverId:ae.driverId,pickerId:ae.pickerId,supervisorId:ae.supervisorId,companyId:ke.id,status:ae.status||"Draft",notes:ae.notes}),S("Assignment created successfully")}u(!1),g(null),await ge(),setTimeout(()=>S(null),3e3)}catch(ke){const Fe=ke instanceof Error?ke.message:"Failed to save assignment";b(Fe),console.error("Error saving assignment:",ke)}finally{x(!1)}},Ae=async(ae,ke)=>{try{x(!0),b(null),await mg.updateRouteAssignment(ae.id,{status:ke}),S(`Assignment status changed to ${ke}`),await ge(),setTimeout(()=>S(null),3e3)}catch(Fe){const nt=Fe instanceof Error?Fe.message:"Failed to update status";b(nt),console.error("Error updating status:",Fe)}finally{x(!1)}},ye=ae=>{switch(ae){case"Draft":return"status-badge--draft";case"Assigned":return"status-badge--assigned";case"In Progress":return"status-badge--in-progress";case"Completed":return"status-badge--completed";default:return""}},Oe=ae=>ae.status==="Draft"||ae.status==="Assigned",We=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:We.map(ae=>e.jsx("li",{children:e.jsxs(Rr,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ae.icon}),e.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Route Assignment",subtitle:"Manage and assign routes to vehicles and drivers"}),j&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>S(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),y&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),m&&!q.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading assignments..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Route Assignment"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and assign routes to vehicles and drivers"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by route, vehicle, driver...",value:a,onChange:ae=>s(ae.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>f(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:be,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Assignment"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"ROUTE"}),e.jsx("th",{children:"VEHICLE"}),e.jsx("th",{children:"DRIVER"}),e.jsx("th",{children:"PICKER"}),e.jsx("th",{children:"SUPERVISOR"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:pe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:m?"Loading...":"No assignments found for the selected date"})}):pe.map(ae=>{const ke=Fe=>{const nt=new Date(Fe),tt=String(nt.getDate()).padStart(2,"0"),Le=String(nt.getMonth()+1).padStart(2,"0"),lt=nt.getFullYear();return`${tt}/${Le}/${lt}`};return e.jsxs("tr",{className:Oe(ae)?"":"read-only-row",children:[e.jsx("td",{children:ke(ae.assignmentDate)}),e.jsx("td",{children:e.jsxs("div",{className:"route-info route-info--single",title:`${ae.routeCode} - ${ae.routeName}`,children:[e.jsx("span",{className:"route-code",children:ae.routeCode}),e.jsx("span",{className:"route-sep",children:" - "}),e.jsx("span",{className:"route-name",children:ae.routeName})]})}),e.jsx("td",{children:ae.vehicleNum}),e.jsx("td",{children:ae.driverName}),e.jsx("td",{children:ae.pickerName?ae.pickerName:e.jsx("span",{className:"text-muted",children:"Not assigned"})}),e.jsx("td",{children:ae.supervisorName?ae.supervisorName:e.jsx("span",{className:"text-muted",children:"Not assigned"})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ye(ae.status)}`,children:ae.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[Oe(ae)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>re(ae),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re(ae),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>de(ae.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ae.status==="Assigned"&&e.jsx("button",{className:"action-btn action-btn--start",onClick:()=>Ae(ae,"In Progress"),title:"Start Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),ae.status==="In Progress"&&e.jsx("button",{className:"action-btn action-btn--complete",onClick:()=>Ae(ae,"Completed"),title:"Complete Route",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!Oe(ae)&&e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>re(ae),title:"View (Read-only)",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})})]},ae.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",pe.length," of ",q.length," items"]})]})]}),h&&e.jsx(nre,{selectedDate:i,statusFilter:o,advancedFilters:w,onClose:()=>f(!1),onClear:()=>{E({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),d("all"),s("")},onApply:ae=>{c(ae.selectedDate),d(ae.statusFilter),E(ae.advancedFilters),f(!1)}}),l&&e.jsx(rre,{assignment:A,companies:I.filter(ae=>ae.status==="Active"),routes:Z.filter(ae=>ae.status==="Active"),vehicles:G.filter(ae=>ae.status==="Active"),drivers:V,pickers:$,supervisors:Ce,selectedDate:i,onLoadUsers:te,onClose:()=>{u(!1),g(null)},onSave:Y})]})},rre=({assignment:r,companies:t,routes:n,vehicles:a,drivers:s,pickers:i,supervisors:c,selectedDate:o,onLoadUsers:d,onClose:l,onSave:u})=>{const[h,f]=C.useState(r||{companyId:"",routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null,status:"Draft",notes:null}),A=!!r&&(r.status==="In Progress"||r.status==="Completed");C.useEffect(()=>{h.companyId&&!r&&d(h.companyId)},[h.companyId,r,d]);const g=h.companyId?n.filter(S=>S.companyId===h.companyId):n,m=h.companyId?a.filter(S=>S.companyId===h.companyId):a,x=h.companyId?s.filter(S=>S.companyId===h.companyId):s,y=h.companyId?i.filter(S=>S.companyId===h.companyId):i,b=h.companyId?c.filter(S=>S.companyId===h.companyId):c,j=S=>{S.preventDefault(),u(h)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:l,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?A?"View Assignment":"Edit Assignment":"Add Assignment"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update assignment details":"Create a new assignment."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:l,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:j,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:h.companyId||"",onChange:async S=>{const w=S.target.value;f({...h,companyId:w,routeId:"",vehicleId:"",driverId:"",pickerId:null,supervisorId:null}),w&&await d(w)},required:!0,disabled:!!r||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(S=>e.jsx("option",{value:S.id,children:S.companyName},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"assignment-date",children:["Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"assignment-date",type:"date",value:r?r.assignmentDate:o,disabled:!0,className:"ra-assignment-input",placeholder:"dd-mm-yyyy"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"vehicle",children:["Vehicle ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"vehicle",value:h.vehicleId||"",onChange:S=>f({...h,vehicleId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Vehicle"}),m.map(S=>e.jsx("option",{value:S.id,children:S.vehicleNum},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"picker",children:"Picker"}),e.jsxs("select",{id:"picker",value:h.pickerId||"",onChange:S=>f({...h,pickerId:S.target.value||null}),disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Picker (Optional)"}),y.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"route",children:["Route ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"route",value:h.routeId||"",onChange:S=>f({...h,routeId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Route"}),g.map(S=>e.jsxs("option",{value:S.id,children:[S.routeCode," - ",S.routeName]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"driver",children:["Driver ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"driver",value:h.driverId||"",onChange:S=>f({...h,driverId:S.target.value}),required:!0,disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Driver"}),x.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"supervisor",children:"Supervisor"}),e.jsxs("select",{id:"supervisor",value:h.supervisorId||"",onChange:S=>f({...h,supervisorId:S.target.value||null}),disabled:!h.companyId||A,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Supervisor (Optional)"}),b.map(S=>e.jsxs("option",{value:S.id,children:[S.userName," ",S.employeeCode?`(${S.employeeCode})`:""]},S.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:h.status||"Draft",onChange:S=>f({...h,status:S.target.value}),disabled:A,className:"ra-assignment-select",children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:l,children:"Cancel"}),!A&&e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Assignment":"Create Assignment"})]})]})]})})},nre=({selectedDate:r,statusFilter:t,advancedFilters:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r),[d,l]=C.useState(t),[u,h]=C.useState(n);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter assignments by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field ra-filter-field--range",children:[e.jsx("label",{children:"Assignment Date"}),e.jsx("div",{className:"ra-filter-range",children:e.jsx("input",{type:"date",value:c,onChange:f=>o(f.target.value),className:"ra-filter-input"})})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Route"}),e.jsx("input",{type:"text",value:u.route,onChange:f=>h({...u,route:f.target.value}),className:"ra-filter-input",placeholder:"Enter route"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Vehicle"}),e.jsx("input",{type:"text",value:u.vehicle,onChange:f=>h({...u,vehicle:f.target.value}),className:"ra-filter-input",placeholder:"Enter vehicle"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Driver"}),e.jsx("input",{type:"text",value:u.driver,onChange:f=>h({...u,driver:f.target.value}),className:"ra-filter-input",placeholder:"Enter driver name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Picker"}),e.jsx("input",{type:"text",value:u.picker,onChange:f=>h({...u,picker:f.target.value}),className:"ra-filter-input",placeholder:"Enter picker name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Supervisor"}),e.jsx("input",{type:"text",value:u.supervisor,onChange:f=>h({...u,supervisor:f.target.value}),className:"ra-filter-input",placeholder:"Enter supervisor name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:d,onChange:f=>l(f.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Assigned",children:"Assigned"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o(new Date().toISOString().split("T")[0]),l("all"),h({route:"",vehicle:"",driver:"",picker:"",supervisor:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i({selectedDate:c,statusFilter:d,advancedFilters:u}),children:"Apply Filters"})]})]})})},are="http://localhost:3000/api/v1",sre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},gg=async(r,t={})=>{const n=sre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${are}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},B0={createIncidentRegister:async r=>(await gg("/incident-registers",{method:"POST",body:JSON.stringify(r)})).data,getIncidentRegisterById:async r=>(await gg(`/incident-registers/${r}`,{method:"GET"})).data,getAllIncidentRegisters:async(r,t)=>{let n="/incident-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await gg(n,{method:"GET"})).data},updateIncidentRegister:async(r,t)=>(await gg(`/incident-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteIncidentRegister:async r=>{await gg(`/incident-registers/${r}`,{method:"DELETE"})}},ire=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[Z,ne]=C.useState([]),G=C.useCallback(async()=>{try{const ce=(await ia.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ce)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ce=(await Fh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ce)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await B0.getAllIncidentRegisters(void 0,i!=="all"?i:void 0),ce=await Promise.all(D.map(async te=>{const ge=w.find(pe=>pe.id===te.companyId);return{id:te.id,incidentNum:te.incidentNum,companyId:te.companyId,companyName:(ge==null?void 0:ge.companyName)||"Unknown",incidentDate:te.incidentDate,incidentTime:te.incidentTime,incidentType:te.incidentType,location:te.location,wasteCategory:te.wasteCategory,quantityValue:te.quantityValue,quantityUnit:te.quantityUnit,severity:te.severity,personAffected:te.personAffected,immediateAction:te.immediateAction,medicalAction:te.medicalAction,reportedTo:te.reportedTo,incidentStatus:te.incidentStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ne(ce)}catch(D){const ce=D instanceof Error?D.message:"Failed to load incidents";x(ce),console.error("Error loading incidents:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ce=j.incidentNum.trim().toLowerCase(),te=j.companyName.trim().toLowerCase(),ge=j.incidentType.trim().toLowerCase(),pe=j.severity.trim().toLowerCase(),be=j.incidentStatus.trim().toLowerCase();return Z.filter(re=>{const de=!D||re.incidentNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.incidentType.toLowerCase().includes(D)||re.location.toLowerCase().includes(D)||re.severity.toLowerCase().includes(D),Y=!ce||re.incidentNum.toLowerCase().includes(ce),Ae=!te||re.companyName.toLowerCase().includes(te),ye=!ge||re.incidentType.toLowerCase().includes(ge),Oe=!pe||re.severity.toLowerCase().includes(pe),We=!be||re.incidentStatus.toLowerCase().includes(be),ae=i==="all"||re.status===i;return de&&Y&&Ae&&ye&&Oe&&We&&ae})},[Z,a,j,i]),$=()=>{f(null),d(!0)},X=D=>{f(D),d(!0)},Ce=async D=>{if(window.confirm("Are you sure you want to delete this incident register?"))try{g(!0),x(null),await B0.deleteIncidentRegister(D),b("Incident register deleted successfully"),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to delete incident register";x(te),console.error("Error deleting incident register:",ce)}finally{g(!1)}},M=async D=>{try{if(g(!0),x(null),h)await B0.updateIncidentRegister(h.id,{incidentDate:D.incidentDate,incidentTime:D.incidentTime,incidentType:D.incidentType,location:D.location,wasteCategory:D.wasteCategory,quantityValue:D.quantityValue,quantityUnit:D.quantityUnit,severity:D.severity,personAffected:D.personAffected,immediateAction:D.immediateAction,medicalAction:D.medicalAction,reportedTo:D.reportedTo,incidentStatus:D.incidentStatus,status:D.status}),b("Incident register updated successfully");else{const ce=w.find(te=>te.id===D.companyId);if(!ce){x("Please select a valid company");return}await B0.createIncidentRegister({companyId:ce.id,incidentDate:D.incidentDate,incidentTime:D.incidentTime,incidentType:D.incidentType,location:D.location,wasteCategory:D.wasteCategory,quantityValue:D.quantityValue,quantityUnit:D.quantityUnit,severity:D.severity,personAffected:D.personAffected,immediateAction:D.immediateAction,medicalAction:D.medicalAction,reportedTo:D.reportedTo,incidentStatus:D.incidentStatus||"Reported",status:D.status||"Active"}),b("Incident register created successfully")}d(!1),f(null),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to save incident register";x(te),console.error("Error saving incident register:",ce)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"critical":return"status-badge--critical";case"high":return"status-badge--high";case"medium":return"status-badge--medium";case"low":return"status-badge--low";default:return""}},ie=D=>{switch(D.toLowerCase()){case"reported":return"status-badge--reported";case"under investigation":return"status-badge--investigation";case"resolved":return"status-badge--resolved";case"closed":return"status-badge--closed";default:return""}},J=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map(D=>e.jsx("li",{children:e.jsxs(Rr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Incident Register",subtitle:"Manage incident and accident records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading incidents..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Incident Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track incident reports and safety issues"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by incident number, company, type, location...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Incident"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"INCIDENT NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"INCIDENT DATE"}),e.jsx("th",{children:"INCIDENT TIME"}),e.jsx("th",{children:"INCIDENT TYPE"}),e.jsx("th",{children:"LOCATION"}),e.jsx("th",{children:"SEVERITY"}),e.jsx("th",{children:"INCIDENT STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:A?"Loading...":"No incidents found"})}):me.map(D=>{const ce=te=>{const ge=new Date(te),pe=String(ge.getDate()).padStart(2,"0"),be=String(ge.getMonth()+1).padStart(2,"0"),re=ge.getFullYear();return`${pe}/${be}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.incidentNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ce(D.incidentDate)}),e.jsx("td",{children:D.incidentTime}),e.jsx("td",{children:D.incidentType}),e.jsx("td",{children:D.location}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.severity)}`,children:D.severity})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.incidentStatus)}`,children:D.incidentStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),l&&e.jsx(lre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(ore,{incident:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:M})]})},ore=({incident:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",incidentDate:new Date().toISOString().split("T")[0],incidentTime:new Date().toTimeString().slice(0,5),incidentType:"",location:"",wasteCategory:"",quantityValue:0,quantityUnit:"kg",severity:"Low",personAffected:null,immediateAction:null,medicalAction:null,reportedTo:null,incidentStatus:"Reported",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Incident Register":"Add Incident Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update incident details":"Create a new incident register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-date",children:["Incident Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incident-date",type:"date",value:i.incidentDate||"",onChange:d=>c({...i,incidentDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-time",children:["Incident Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incident-time",type:"time",value:i.incidentTime||"",onChange:d=>c({...i,incidentTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incident-type",children:["Incident Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"incident-type",value:i.incidentType||"",onChange:d=>c({...i,incidentType:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Spill",children:"Spill"}),e.jsx("option",{value:"Exposure",children:"Exposure"}),e.jsx("option",{value:"Injury",children:"Injury"}),e.jsx("option",{value:"Fire",children:"Fire"}),e.jsx("option",{value:"Equipment Failure",children:"Equipment Failure"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"location",children:["Location ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"location",type:"text",value:i.location||"",onChange:d=>c({...i,location:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter location"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity-value",children:["Quantity Value ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"quantity-value",type:"number",step:"0.01",value:i.quantityValue||0,onChange:d=>c({...i,quantityValue:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity-unit",children:["Quantity Unit ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"quantity-unit",value:i.quantityUnit||"kg",onChange:d=>c({...i,quantityUnit:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"mL",children:"mL"}),e.jsx("option",{value:"pieces",children:"pieces"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"severity",children:["Severity ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"severity",value:i.severity||"Low",onChange:d=>c({...i,severity:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Critical",children:"Critical"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"person-affected",children:"Person Affected"}),e.jsx("input",{id:"person-affected",type:"text",value:i.personAffected||"",onChange:d=>c({...i,personAffected:d.target.value||null}),className:"ra-assignment-input",placeholder:"Enter person name"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"immediate-action",children:"Immediate Action"}),e.jsx("textarea",{id:"immediate-action",value:i.immediateAction||"",onChange:d=>c({...i,immediateAction:d.target.value||null}),className:"ra-assignment-input",rows:3,placeholder:"Describe immediate actions taken"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"medical-action",children:"Medical Action"}),e.jsx("textarea",{id:"medical-action",value:i.medicalAction||"",onChange:d=>c({...i,medicalAction:d.target.value||null}),className:"ra-assignment-input",rows:3,placeholder:"Describe medical actions taken"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"reported-to",children:"Reported To"}),e.jsx("input",{id:"reported-to",type:"text",value:i.reportedTo||"",onChange:d=>c({...i,reportedTo:d.target.value||null}),className:"ra-assignment-input",placeholder:"Enter person/department reported to"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"incident-status",children:"Incident Status"}),e.jsxs("select",{id:"incident-status",value:i.incidentStatus||"Reported",onChange:d=>c({...i,incidentStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Reported",children:"Reported"}),e.jsx("option",{value:"Under Investigation",children:"Under Investigation"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Incident":"Create Incident"})]})]})]})})},lre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter incidents by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Number"}),e.jsx("input",{type:"text",value:o.incidentNum,onChange:l=>d({...o,incidentNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter incident number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Type"}),e.jsx("input",{type:"text",value:o.incidentType,onChange:l=>d({...o,incidentType:l.target.value}),className:"ra-filter-input",placeholder:"Enter incident type"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Severity"}),e.jsxs("select",{value:o.severity,onChange:l=>d({...o,severity:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Severity"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Critical",children:"Critical"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Incident Status"}),e.jsxs("select",{value:o.incidentStatus,onChange:l=>d({...o,incidentStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Reported",children:"Reported"}),e.jsx("option",{value:"Under Investigation",children:"Under Investigation"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({incidentNum:"",companyName:"",incidentType:"",severity:"",incidentStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},cre="http://localhost:3000/api/v1",dre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},vg=async(r,t={})=>{const n=dre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${cre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},I0={createIncinerationRegister:async r=>(await vg("/incineration-registers",{method:"POST",body:JSON.stringify(r)})).data,getIncinerationRegisterById:async r=>(await vg(`/incineration-registers/${r}`,{method:"GET"})).data,getAllIncinerationRegisters:async(r,t)=>{let n="/incineration-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await vg(n,{method:"GET"})).data},updateIncinerationRegister:async(r,t)=>(await vg(`/incineration-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteIncinerationRegister:async r=>{await vg(`/incineration-registers/${r}`,{method:"DELETE"})}},ure=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[Z,ne]=C.useState([]),G=C.useCallback(async()=>{try{const D=(await ia.getAllCompanies(!0)).map(ce=>({id:ce.id,companyCode:ce.companyCode,companyName:ce.companyName,status:ce.status}));E(D)}catch(J){console.error("Error loading companies:",J)}},[]),le=C.useCallback(async()=>{try{const D=(await Fh.getAllCategories(void 0,!0)).map(ce=>({id:ce.id,categoryCode:ce.categoryCode,categoryName:ce.categoryName,status:ce.status}));L(D)}catch(J){console.error("Error loading categories:",J)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const J=await I0.getAllIncinerationRegisters(void 0,i!=="all"?i:void 0),D=await Promise.all(J.map(async ce=>{const te=w.find(ge=>ge.id===ce.companyId);return{id:ce.id,inciRegNum:ce.inciRegNum,companyId:ce.companyId,companyName:(te==null?void 0:te.companyName)||"Unknown",incinerationDate:ce.incinerationDate,equipmentId:ce.equipmentId,secondaryChamberId:ce.secondaryChamberId,batchNo:ce.batchNo,wasteCategory:ce.wasteCategory,wasteQtyKg:ce.wasteQtyKg,startTime:ce.startTime,endTime:ce.endTime,avgTempC:ce.avgTempC,retentionTimeSec:ce.retentionTimeSec,fuelUsedL:ce.fuelUsedL,complianceStatus:ce.complianceStatus,status:ce.status,createdBy:ce.createdBy,createdOn:ce.createdOn,modifiedBy:ce.modifiedBy,modifiedOn:ce.modifiedOn}}));ne(D)}catch(J){const D=J instanceof Error?J.message:"Failed to load incineration registers";x(D),console.error("Error loading incineration registers:",J)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const J=a.trim().toLowerCase(),D=j.inciRegNum.trim().toLowerCase(),ce=j.companyName.trim().toLowerCase(),te=j.equipmentId.trim().toLowerCase(),ge=j.batchNo.trim().toLowerCase(),pe=j.complianceStatus.trim().toLowerCase();return Z.filter(be=>{const re=!J||be.inciRegNum.toLowerCase().includes(J)||be.companyName.toLowerCase().includes(J)||be.equipmentId.toLowerCase().includes(J)||be.batchNo.toLowerCase().includes(J)||be.wasteCategory.toLowerCase().includes(J),de=!D||be.inciRegNum.toLowerCase().includes(D),Y=!ce||be.companyName.toLowerCase().includes(ce),Ae=!te||be.equipmentId.toLowerCase().includes(te),ye=!ge||be.batchNo.toLowerCase().includes(ge),Oe=!pe||be.complianceStatus.toLowerCase().includes(pe),We=i==="all"||be.status===i;return re&&de&&Y&&Ae&&ye&&Oe&&We})},[Z,a,j,i]),$=()=>{f(null),d(!0)},X=J=>{f(J),d(!0)},Ce=async J=>{if(window.confirm("Are you sure you want to delete this incineration register?"))try{g(!0),x(null),await I0.deleteIncinerationRegister(J),b("Incineration register deleted successfully"),await V(),setTimeout(()=>b(null),3e3)}catch(D){const ce=D instanceof Error?D.message:"Failed to delete incineration register";x(ce),console.error("Error deleting incineration register:",D)}finally{g(!1)}},M=async J=>{try{if(g(!0),x(null),h)await I0.updateIncinerationRegister(h.id,{incinerationDate:J.incinerationDate,equipmentId:J.equipmentId,secondaryChamberId:J.secondaryChamberId,batchNo:J.batchNo,wasteCategory:J.wasteCategory,wasteQtyKg:J.wasteQtyKg,startTime:J.startTime,endTime:J.endTime,avgTempC:J.avgTempC,retentionTimeSec:J.retentionTimeSec,fuelUsedL:J.fuelUsedL,complianceStatus:J.complianceStatus,status:J.status}),b("Incineration register updated successfully");else{const D=w.find(ce=>ce.id===J.companyId);if(!D){x("Please select a valid company");return}await I0.createIncinerationRegister({companyId:D.id,incinerationDate:J.incinerationDate,equipmentId:J.equipmentId,secondaryChamberId:J.secondaryChamberId,batchNo:J.batchNo,wasteCategory:J.wasteCategory,wasteQtyKg:J.wasteQtyKg,startTime:J.startTime,endTime:J.endTime,avgTempC:J.avgTempC,retentionTimeSec:J.retentionTimeSec,fuelUsedL:J.fuelUsedL,complianceStatus:J.complianceStatus||"Compliant",status:J.status||"Active"}),b("Incineration register created successfully")}d(!1),f(null),await V(),setTimeout(()=>b(null),3e3)}catch(D){const ce=D instanceof Error?D.message:"Failed to save incineration register";x(ce),console.error("Error saving incineration register:",D)}finally{g(!1)}},q=J=>{switch(J.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(J=>e.jsx("li",{children:e.jsxs(Rr,{to:J.path,className:`nav-link ${J.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:J.icon}),e.jsx("span",{className:"nav-label",children:J.label})]})},J.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Incineration Register",subtitle:"Manage incineration operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading incineration registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Incineration Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track incineration operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:J=>s(J.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Incineration"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:A?"Loading...":"No incineration registers found"})}):me.map(J=>{const D=ce=>{const te=new Date(ce),ge=String(te.getDate()).padStart(2,"0"),pe=String(te.getMonth()+1).padStart(2,"0"),be=te.getFullYear();return`${ge}/${pe}/${be}`};return e.jsxs("tr",{children:[e.jsx("td",{children:J.inciRegNum}),e.jsx("td",{children:J.companyName}),e.jsx("td",{children:D(J.incinerationDate)}),e.jsx("td",{children:J.equipmentId}),e.jsx("td",{children:J.batchNo}),e.jsx("td",{children:J.wasteCategory}),e.jsx("td",{children:J.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(J.complianceStatus)}`,children:J.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${J.status.toLowerCase()}`,children:J.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(J),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(J),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(J.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},J.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),l&&e.jsx(fre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:J=>{c(J.statusFilter),S(J.advancedFilters),u(!1)}}),o&&e.jsx(hre,{incineration:h,companies:w.filter(J=>J.status==="Active"),categories:I.filter(J=>J.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:M})]})},hre=({incineration:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",incinerationDate:new Date().toISOString().split("T")[0],equipmentId:"",secondaryChamberId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",avgTempC:0,retentionTimeSec:0,fuelUsedL:0,complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Incineration Register":"Add Incineration Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update incineration details":"Create a new incineration register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"incineration-date",children:["Incineration Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"incineration-date",type:"date",value:i.incinerationDate||"",onChange:d=>c({...i,incinerationDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"secondary-chamber-id",children:["Secondary Chamber ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"secondary-chamber-id",type:"text",value:i.secondaryChamberId||"",onChange:d=>c({...i,secondaryChamberId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter secondary chamber ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"avg-temp",children:["Average Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"avg-temp",type:"number",step:"0.01",value:i.avgTempC||0,onChange:d=>c({...i,avgTempC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"retention-time",children:["Retention Time (seconds) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"retention-time",type:"number",step:"1",value:i.retentionTimeSec||0,onChange:d=>c({...i,retentionTimeSec:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"fuel-used",children:["Fuel Used (L) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"fuel-used",type:"number",step:"0.01",value:i.fuelUsedL||0,onChange:d=>c({...i,fuelUsedL:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Incineration":"Create Incineration"})]})]})]})})},fre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter incineration registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.inciRegNum,onChange:l=>d({...o,inciRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({inciRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Are="http://localhost:3000/api/v1",pre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},xg=async(r,t={})=>{const n=pre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Are}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},T0={createAutoclaveRegister:async r=>(await xg("/autoclave-registers",{method:"POST",body:JSON.stringify(r)})).data,getAutoclaveRegisterById:async r=>(await xg(`/autoclave-registers/${r}`,{method:"GET"})).data,getAllAutoclaveRegisters:async(r,t)=>{let n="/autoclave-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await xg(n,{method:"GET"})).data},updateAutoclaveRegister:async(r,t)=>(await xg(`/autoclave-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteAutoclaveRegister:async r=>{await xg(`/autoclave-registers/${r}`,{method:"DELETE"})}},mre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[Z,ne]=C.useState([]),G=C.useCallback(async()=>{try{const ce=(await ia.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ce)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ce=(await Fh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ce)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await T0.getAllAutoclaveRegisters(void 0,i!=="all"?i:void 0),ce=await Promise.all(D.map(async te=>{const ge=w.find(pe=>pe.id===te.companyId);return{id:te.id,autoclRegNum:te.autoclRegNum,companyId:te.companyId,companyName:(ge==null?void 0:ge.companyName)||"Unknown",autoclaveDate:te.autoclaveDate,equipmentId:te.equipmentId,batchNo:te.batchNo,wasteCategory:te.wasteCategory,wasteQtyKg:te.wasteQtyKg,startTime:te.startTime,endTime:te.endTime,temperatureC:te.temperatureC,pressureBar:te.pressureBar,cycleTimeMin:te.cycleTimeMin,indicatorResult:te.indicatorResult,complianceStatus:te.complianceStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ne(ce)}catch(D){const ce=D instanceof Error?D.message:"Failed to load autoclave registers";x(ce),console.error("Error loading autoclave registers:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ce=j.autoclRegNum.trim().toLowerCase(),te=j.companyName.trim().toLowerCase(),ge=j.equipmentId.trim().toLowerCase(),pe=j.batchNo.trim().toLowerCase(),be=j.complianceStatus.trim().toLowerCase();return Z.filter(re=>{const de=!D||re.autoclRegNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.equipmentId.toLowerCase().includes(D)||re.batchNo.toLowerCase().includes(D)||re.wasteCategory.toLowerCase().includes(D),Y=!ce||re.autoclRegNum.toLowerCase().includes(ce),Ae=!te||re.companyName.toLowerCase().includes(te),ye=!ge||re.equipmentId.toLowerCase().includes(ge),Oe=!pe||re.batchNo.toLowerCase().includes(pe),We=!be||re.complianceStatus.toLowerCase().includes(be),ae=i==="all"||re.status===i;return de&&Y&&Ae&&ye&&Oe&&We&&ae})},[Z,a,j,i]),$=()=>{f(null),d(!0)},X=D=>{f(D),d(!0)},Ce=async D=>{if(window.confirm("Are you sure you want to delete this autoclave register?"))try{g(!0),x(null),await T0.deleteAutoclaveRegister(D),b("Autoclave register deleted successfully"),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to delete autoclave register";x(te),console.error("Error deleting autoclave register:",ce)}finally{g(!1)}},M=async D=>{try{if(g(!0),x(null),h)await T0.updateAutoclaveRegister(h.id,{autoclaveDate:D.autoclaveDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus,status:D.status}),b("Autoclave register updated successfully");else{const ce=w.find(te=>te.id===D.companyId);if(!ce){x("Please select a valid company");return}await T0.createAutoclaveRegister({companyId:ce.id,autoclaveDate:D.autoclaveDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus||"Compliant",status:D.status||"Active"}),b("Autoclave register created successfully")}d(!1),f(null),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to save autoclave register";x(te),console.error("Error saving autoclave register:",ce)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=D=>{switch(D.toLowerCase()){case"pass":return"status-badge--pass";case"fail":return"status-badge--fail";default:return""}},J=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map(D=>e.jsx("li",{children:e.jsxs(Rr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Autoclave Register",subtitle:"Manage autoclave operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading autoclave registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Autoclave Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track autoclave operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Autoclave"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"INDICATOR RESULT"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"empty-message",children:A?"Loading...":"No autoclave registers found"})}):me.map(D=>{const ce=te=>{const ge=new Date(te),pe=String(ge.getDate()).padStart(2,"0"),be=String(ge.getMonth()+1).padStart(2,"0"),re=ge.getFullYear();return`${pe}/${be}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.autoclRegNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ce(D.autoclaveDate)}),e.jsx("td",{children:D.equipmentId}),e.jsx("td",{children:D.batchNo}),e.jsx("td",{children:D.wasteCategory}),e.jsx("td",{children:D.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.indicatorResult)}`,children:D.indicatorResult})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.complianceStatus)}`,children:D.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),l&&e.jsx(vre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(gre,{autoclave:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:M})]})},gre=({autoclave:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",autoclaveDate:new Date().toISOString().split("T")[0],equipmentId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",temperatureC:0,pressureBar:0,cycleTimeMin:0,indicatorResult:"Pass",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Autoclave Register":"Add Autoclave Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update autoclave details":"Create a new autoclave register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"autoclave-date",children:["Autoclave Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"autoclave-date",type:"date",value:i.autoclaveDate||"",onChange:d=>c({...i,autoclaveDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temperature",children:["Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temperature",type:"number",step:"0.01",value:i.temperatureC||0,onChange:d=>c({...i,temperatureC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pressure",children:["Pressure (bar) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pressure",type:"number",step:"0.01",value:i.pressureBar||0,onChange:d=>c({...i,pressureBar:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cycle-time",children:["Cycle Time (minutes) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cycle-time",type:"number",step:"1",value:i.cycleTimeMin||0,onChange:d=>c({...i,cycleTimeMin:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"indicator-result",children:"Indicator Result"}),e.jsxs("select",{id:"indicator-result",value:i.indicatorResult||"Pass",onChange:d=>c({...i,indicatorResult:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Autoclave":"Create Autoclave"})]})]})]})})},vre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter autoclave registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.autoclRegNum,onChange:l=>d({...o,autoclRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({autoclRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},xre="http://localhost:3000/api/v1",yre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},yg=async(r,t={})=>{const n=yre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${xre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},k0={createShredderRegister:async r=>(await yg("/shredder-registers",{method:"POST",body:JSON.stringify(r)})).data,getShredderRegisterById:async r=>(await yg(`/shredder-registers/${r}`,{method:"GET"})).data,getAllShredderRegisters:async(r,t)=>{let n="/shredder-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await yg(n,{method:"GET"})).data},updateShredderRegister:async(r,t)=>(await yg(`/shredder-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteShredderRegister:async r=>{await yg(`/shredder-registers/${r}`,{method:"DELETE"})}},jre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[Z,ne]=C.useState([]),G=C.useCallback(async()=>{try{const ce=(await ia.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));E(ce)}catch(D){console.error("Error loading companies:",D)}},[]),le=C.useCallback(async()=>{try{const ce=(await Fh.getAllCategories(void 0,!0)).map(te=>({id:te.id,categoryCode:te.categoryCode,categoryName:te.categoryName,status:te.status}));L(ce)}catch(D){console.error("Error loading categories:",D)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const D=await k0.getAllShredderRegisters(void 0,i!=="all"?i:void 0),ce=await Promise.all(D.map(async te=>{const ge=w.find(pe=>pe.id===te.companyId);return{id:te.id,shredRegNum:te.shredRegNum,companyId:te.companyId,companyName:(ge==null?void 0:ge.companyName)||"Unknown",shredderDate:te.shredderDate,equipmentId:te.equipmentId,batchNo:te.batchNo,wasteCategory:te.wasteCategory,wasteQtyKg:te.wasteQtyKg,startTime:te.startTime,endTime:te.endTime,temperatureC:te.temperatureC,pressureBar:te.pressureBar,cycleTimeMin:te.cycleTimeMin,indicatorResult:te.indicatorResult,complianceStatus:te.complianceStatus,status:te.status,createdBy:te.createdBy,createdOn:te.createdOn,modifiedBy:te.modifiedBy,modifiedOn:te.modifiedOn}}));ne(ce)}catch(D){const ce=D instanceof Error?D.message:"Failed to load shredder registers";x(ce),console.error("Error loading shredder registers:",D)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const D=a.trim().toLowerCase(),ce=j.shredRegNum.trim().toLowerCase(),te=j.companyName.trim().toLowerCase(),ge=j.equipmentId.trim().toLowerCase(),pe=j.batchNo.trim().toLowerCase(),be=j.complianceStatus.trim().toLowerCase();return Z.filter(re=>{const de=!D||re.shredRegNum.toLowerCase().includes(D)||re.companyName.toLowerCase().includes(D)||re.equipmentId.toLowerCase().includes(D)||re.batchNo.toLowerCase().includes(D)||re.wasteCategory.toLowerCase().includes(D),Y=!ce||re.shredRegNum.toLowerCase().includes(ce),Ae=!te||re.companyName.toLowerCase().includes(te),ye=!ge||re.equipmentId.toLowerCase().includes(ge),Oe=!pe||re.batchNo.toLowerCase().includes(pe),We=!be||re.complianceStatus.toLowerCase().includes(be),ae=i==="all"||re.status===i;return de&&Y&&Ae&&ye&&Oe&&We&&ae})},[Z,a,j,i]),$=()=>{f(null),d(!0)},X=D=>{f(D),d(!0)},Ce=async D=>{if(window.confirm("Are you sure you want to delete this shredder register?"))try{g(!0),x(null),await k0.deleteShredderRegister(D),b("Shredder register deleted successfully"),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to delete shredder register";x(te),console.error("Error deleting shredder register:",ce)}finally{g(!1)}},M=async D=>{try{if(g(!0),x(null),h)await k0.updateShredderRegister(h.id,{shredderDate:D.shredderDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus,status:D.status}),b("Shredder register updated successfully");else{const ce=w.find(te=>te.id===D.companyId);if(!ce){x("Please select a valid company");return}await k0.createShredderRegister({companyId:ce.id,shredderDate:D.shredderDate,equipmentId:D.equipmentId,batchNo:D.batchNo,wasteCategory:D.wasteCategory,wasteQtyKg:D.wasteQtyKg,startTime:D.startTime,endTime:D.endTime,temperatureC:D.temperatureC,pressureBar:D.pressureBar,cycleTimeMin:D.cycleTimeMin,indicatorResult:D.indicatorResult,complianceStatus:D.complianceStatus||"Compliant",status:D.status||"Active"}),b("Shredder register created successfully")}d(!1),f(null),await V(),setTimeout(()=>b(null),3e3)}catch(ce){const te=ce instanceof Error?ce.message:"Failed to save shredder register";x(te),console.error("Error saving shredder register:",ce)}finally{g(!1)}},q=D=>{switch(D.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=D=>{switch(D.toLowerCase()){case"pass":return"status-badge--pass";case"fail":return"status-badge--fail";default:return""}},J=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:J.map(D=>e.jsx("li",{children:e.jsxs(Rr,{to:D.path,className:`nav-link ${D.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:D.icon}),e.jsx("span",{className:"nav-label",children:D.label})]})},D.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Shredder Register",subtitle:"Manage shredder operation records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading shredder registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Shredder Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track shredder operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, batch...",value:a,onChange:D=>s(D.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Shredder"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BATCH NO"}),e.jsx("th",{children:"WASTE CATEGORY"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"INDICATOR RESULT"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"empty-message",children:A?"Loading...":"No shredder registers found"})}):me.map(D=>{const ce=te=>{const ge=new Date(te),pe=String(ge.getDate()).padStart(2,"0"),be=String(ge.getMonth()+1).padStart(2,"0"),re=ge.getFullYear();return`${pe}/${be}/${re}`};return e.jsxs("tr",{children:[e.jsx("td",{children:D.shredRegNum}),e.jsx("td",{children:D.companyName}),e.jsx("td",{children:ce(D.shredderDate)}),e.jsx("td",{children:D.equipmentId}),e.jsx("td",{children:D.batchNo}),e.jsx("td",{children:D.wasteCategory}),e.jsx("td",{children:D.wasteQtyKg.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${ie(D.indicatorResult)}`,children:D.indicatorResult})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(D.complianceStatus)}`,children:D.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${D.status.toLowerCase()}`,children:D.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(D),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(D),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(D.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},D.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),l&&e.jsx(wre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),c("all"),s("")},onApply:D=>{c(D.statusFilter),S(D.advancedFilters),u(!1)}}),o&&e.jsx(bre,{shredder:h,companies:w.filter(D=>D.status==="Active"),categories:I.filter(D=>D.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:M})]})},bre=({shredder:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",shredderDate:new Date().toISOString().split("T")[0],equipmentId:"",batchNo:"",wasteCategory:"",wasteQtyKg:0,startTime:"08:00",endTime:"17:00",temperatureC:0,pressureBar:0,cycleTimeMin:0,indicatorResult:"Pass",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Shredder Register":"Add Shredder Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update shredder details":"Create a new shredder register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"shredder-date",children:["Shredder Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"shredder-date",type:"date",value:i.shredderDate||"",onChange:d=>c({...i,shredderDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:i.equipmentId||"",onChange:d=>c({...i,equipmentId:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"batch-no",children:["Batch No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"batch-no",type:"text",value:i.batchNo||"",onChange:d=>c({...i,batchNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-category",children:["Waste Category ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-category",value:i.wasteCategory||"",onChange:d=>c({...i,wasteCategory:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Category"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-qty",children:["Waste Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"waste-qty",type:"number",step:"0.01",value:i.wasteQtyKg||0,onChange:d=>c({...i,wasteQtyKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:i.startTime||"",onChange:d=>c({...i,startTime:d.target.value}),required:!0,className:"ra-assignment-input"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"end-time",children:["End Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"end-time",type:"time",value:i.endTime||"",onChange:d=>c({...i,endTime:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temperature",children:["Temperature (C) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temperature",type:"number",step:"0.01",value:i.temperatureC||0,onChange:d=>c({...i,temperatureC:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pressure",children:["Pressure (bar) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pressure",type:"number",step:"0.01",value:i.pressureBar||0,onChange:d=>c({...i,pressureBar:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cycle-time",children:["Cycle Time (minutes) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cycle-time",type:"number",step:"1",value:i.cycleTimeMin||0,onChange:d=>c({...i,cycleTimeMin:parseInt(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"indicator-result",children:"Indicator Result"}),e.jsxs("select",{id:"indicator-result",value:i.indicatorResult||"Pass",onChange:d=>c({...i,indicatorResult:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Shredder":"Create Shredder"})]})]})]})})},wre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter shredder registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.shredRegNum,onChange:l=>d({...o,shredRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Batch No"}),e.jsx("input",{type:"text",value:o.batchNo,onChange:l=>d({...o,batchNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter batch number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({shredRegNum:"",companyName:"",equipmentId:"",batchNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Cre="http://localhost:3000/api/v1",Nre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},jg=async(r,t={})=>{const n=Nre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Cre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},_0={createDisposalRegister:async r=>(await jg("/disposal-registers",{method:"POST",body:JSON.stringify(r)})).data,getDisposalRegisterById:async r=>(await jg(`/disposal-registers/${r}`,{method:"GET"})).data,getAllDisposalRegisters:async(r,t)=>{let n="/disposal-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await jg(n,{method:"GET"})).data},updateDisposalRegister:async(r,t)=>(await jg(`/disposal-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteDisposalRegister:async r=>{await jg(`/disposal-registers/${r}`,{method:"DELETE"})}},Sre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),[Z,ne]=C.useState([]),G=C.useCallback(async()=>{try{const D=(await ia.getAllCompanies(!0)).map(ce=>({id:ce.id,companyCode:ce.companyCode,companyName:ce.companyName,status:ce.status}));E(D)}catch(J){console.error("Error loading companies:",J)}},[]),le=C.useCallback(async()=>{try{const D=(await Fh.getAllCategories(void 0,!0)).map(ce=>({id:ce.id,categoryCode:ce.categoryCode,categoryName:ce.categoryName,status:ce.status}));L(D)}catch(J){console.error("Error loading categories:",J)}},[]),V=C.useCallback(async()=>{g(!0),x(null);try{const J=await _0.getAllDisposalRegisters(void 0,i!=="all"?i:void 0),D=await Promise.all(J.map(async ce=>{const te=w.find(ge=>ge.id===ce.companyId);return{id:ce.id,dispoRegNum:ce.dispoRegNum,companyId:ce.companyId,companyName:(te==null?void 0:te.companyName)||"Unknown",disposalDate:ce.disposalDate,sourceTreatmentType:ce.sourceTreatmentType,sourceBatchRef:ce.sourceBatchRef,wasteType:ce.wasteType,quantityKg:ce.quantityKg,disposalMethod:ce.disposalMethod,disposalSite:ce.disposalSite,transportMode:ce.transportMode,vehicleNo:ce.vehicleNo,manifestNo:ce.manifestNo,complianceStatus:ce.complianceStatus,status:ce.status,createdBy:ce.createdBy,createdOn:ce.createdOn,modifiedBy:ce.modifiedBy,modifiedOn:ce.modifiedOn}}));ne(D)}catch(J){const D=J instanceof Error?J.message:"Failed to load disposal registers";x(D),console.error("Error loading disposal registers:",J)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await G(),await le()})()},[G,le]),C.useEffect(()=>{w.length>0&&V()},[w,i,V]);const me=C.useMemo(()=>{const J=a.trim().toLowerCase(),D=j.dispoRegNum.trim().toLowerCase(),ce=j.companyName.trim().toLowerCase(),te=j.disposalMethod.trim().toLowerCase(),ge=j.vehicleNo.trim().toLowerCase(),pe=j.complianceStatus.trim().toLowerCase();return Z.filter(be=>{const re=!J||be.dispoRegNum.toLowerCase().includes(J)||be.companyName.toLowerCase().includes(J)||be.disposalMethod.toLowerCase().includes(J)||be.vehicleNo.toLowerCase().includes(J)||be.manifestNo.toLowerCase().includes(J)||be.wasteType.toLowerCase().includes(J),de=!D||be.dispoRegNum.toLowerCase().includes(D),Y=!ce||be.companyName.toLowerCase().includes(ce),Ae=!te||be.disposalMethod.toLowerCase().includes(te),ye=!ge||be.vehicleNo.toLowerCase().includes(ge),Oe=!pe||be.complianceStatus.toLowerCase().includes(pe),We=i==="all"||be.status===i;return re&&de&&Y&&Ae&&ye&&Oe&&We})},[Z,a,j,i]),$=()=>{f(null),d(!0)},X=J=>{f(J),d(!0)},Ce=async J=>{if(window.confirm("Are you sure you want to delete this disposal register?"))try{g(!0),x(null),await _0.deleteDisposalRegister(J),b("Disposal register deleted successfully"),await V(),setTimeout(()=>b(null),3e3)}catch(D){const ce=D instanceof Error?D.message:"Failed to delete disposal register";x(ce),console.error("Error deleting disposal register:",D)}finally{g(!1)}},M=async J=>{try{if(g(!0),x(null),h)await _0.updateDisposalRegister(h.id,{disposalDate:J.disposalDate,sourceTreatmentType:J.sourceTreatmentType,sourceBatchRef:J.sourceBatchRef,wasteType:J.wasteType,quantityKg:J.quantityKg,disposalMethod:J.disposalMethod,disposalSite:J.disposalSite,transportMode:J.transportMode,vehicleNo:J.vehicleNo,manifestNo:J.manifestNo,complianceStatus:J.complianceStatus,status:J.status}),b("Disposal register updated successfully");else{const D=w.find(ce=>ce.id===J.companyId);if(!D){x("Please select a valid company");return}await _0.createDisposalRegister({companyId:D.id,disposalDate:J.disposalDate,sourceTreatmentType:J.sourceTreatmentType,sourceBatchRef:J.sourceBatchRef,wasteType:J.wasteType,quantityKg:J.quantityKg,disposalMethod:J.disposalMethod,disposalSite:J.disposalSite,transportMode:J.transportMode,vehicleNo:J.vehicleNo,manifestNo:J.manifestNo,complianceStatus:J.complianceStatus||"Compliant",status:J.status||"Active"}),b("Disposal register created successfully")}d(!1),f(null),await V(),setTimeout(()=>b(null),3e3)}catch(D){const ce=D instanceof Error?D.message:"Failed to save disposal register";x(ce),console.error("Error saving disposal register:",D)}finally{g(!1)}},q=J=>{switch(J.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},ie=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ie.map(J=>e.jsx("li",{children:e.jsxs(Rr,{to:J.path,className:`nav-link ${J.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:J.icon}),e.jsx("span",{className:"nav-label",children:J.label})]})},J.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Disposal Register",subtitle:"Manage waste disposal records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!Z.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading disposal registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Disposal Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track waste disposal operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, disposal method, vehicle...",value:a,onChange:J=>s(J.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:$,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Disposal"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"WASTE TYPE"}),e.jsx("th",{children:"QTY (KG)"}),e.jsx("th",{children:"DISPOSAL METHOD"}),e.jsx("th",{children:"DISPOSAL SITE"}),e.jsx("th",{children:"VEHICLE NO"}),e.jsx("th",{children:"MANIFEST NO"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-message",children:A?"Loading...":"No disposal registers found"})}):me.map(J=>{const D=ce=>{const te=new Date(ce),ge=String(te.getDate()).padStart(2,"0"),pe=String(te.getMonth()+1).padStart(2,"0"),be=te.getFullYear();return`${ge}/${pe}/${be}`};return e.jsxs("tr",{children:[e.jsx("td",{children:J.dispoRegNum}),e.jsx("td",{children:J.companyName}),e.jsx("td",{children:D(J.disposalDate)}),e.jsx("td",{children:J.wasteType}),e.jsx("td",{children:J.quantityKg.toFixed(2)}),e.jsx("td",{children:J.disposalMethod}),e.jsx("td",{children:J.disposalSite}),e.jsx("td",{children:J.vehicleNo}),e.jsx("td",{children:J.manifestNo}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${q(J.complianceStatus)}`,children:J.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${J.status.toLowerCase()}`,children:J.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>X(J),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>X(J),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>Ce(J.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},J.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",Z.length," items"]})]})]}),l&&e.jsx(Bre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),c("all"),s("")},onApply:J=>{c(J.statusFilter),S(J.advancedFilters),u(!1)}}),o&&e.jsx(Ere,{disposal:h,companies:w.filter(J=>J.status==="Active"),categories:I.filter(J=>J.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:M})]})},Ere=({disposal:r,companies:t,categories:n,onClose:a,onSave:s})=>{const[i,c]=C.useState(r||{companyId:"",disposalDate:new Date().toISOString().split("T")[0],sourceTreatmentType:"",sourceBatchRef:"",wasteType:"",quantityKg:0,disposalMethod:"",disposalSite:"",transportMode:"",vehicleNo:"",manifestNo:"",complianceStatus:"Compliant",status:"Active"}),o=d=>{d.preventDefault(),s(i)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 3h18v18H3z"}),e.jsx("path",{d:"M9 9h6v6H9z"}),e.jsx("path",{d:"M3 12h18"}),e.jsx("path",{d:"M12 3v18"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Disposal Register":"Add Disposal Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update disposal details":"Create a new disposal register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:a,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:o,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:i.companyId||"",onChange:d=>c({...i,companyId:d.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-date",children:["Disposal Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"disposal-date",type:"date",value:i.disposalDate||"",onChange:d=>c({...i,disposalDate:d.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"source-treatment-type",children:["Source Treatment Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"source-treatment-type",type:"text",value:i.sourceTreatmentType||"",onChange:d=>c({...i,sourceTreatmentType:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter source treatment type"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"source-batch-ref",children:["Source Batch Ref ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"source-batch-ref",type:"text",value:i.sourceBatchRef||"",onChange:d=>c({...i,sourceBatchRef:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter source batch reference"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"waste-type",children:["Waste Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"waste-type",value:i.wasteType||"",onChange:d=>c({...i,wasteType:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Waste Type"}),n.map(d=>e.jsx("option",{value:d.categoryName,children:d.categoryName},d.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"quantity",children:["Quantity (kg) ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"quantity",type:"number",step:"0.01",value:i.quantityKg||0,onChange:d=>c({...i,quantityKg:parseFloat(d.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-method",children:["Disposal Method ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"disposal-method",value:i.disposalMethod||"",onChange:d=>c({...i,disposalMethod:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Disposal Method"}),e.jsx("option",{value:"Landfill",children:"Landfill"}),e.jsx("option",{value:"Incineration",children:"Incineration"}),e.jsx("option",{value:"Recycling",children:"Recycling"}),e.jsx("option",{value:"Composting",children:"Composting"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"disposal-site",children:["Disposal Site ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"disposal-site",type:"text",value:i.disposalSite||"",onChange:d=>c({...i,disposalSite:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter disposal site"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"transport-mode",children:["Transport Mode ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"transport-mode",value:i.transportMode||"",onChange:d=>c({...i,transportMode:d.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Transport Mode"}),e.jsx("option",{value:"Truck",children:"Truck"}),e.jsx("option",{value:"Van",children:"Van"}),e.jsx("option",{value:"Container",children:"Container"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"vehicle-no",children:["Vehicle No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"vehicle-no",type:"text",value:i.vehicleNo||"",onChange:d=>c({...i,vehicleNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"manifest-no",children:["Manifest No ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"manifest-no",type:"text",value:i.manifestNo||"",onChange:d=>c({...i,manifestNo:d.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter manifest number"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:i.complianceStatus||"Compliant",onChange:d=>c({...i,complianceStatus:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status||"Active",onChange:d=>c({...i,status:d.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Disposal":"Create Disposal"})]})]})]})})},Bre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter disposal registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.dispoRegNum,onChange:l=>d({...o,dispoRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Disposal Method"}),e.jsx("input",{type:"text",value:o.disposalMethod,onChange:l=>d({...o,disposalMethod:l.target.value}),className:"ra-filter-input",placeholder:"Enter disposal method"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Vehicle No"}),e.jsx("input",{type:"text",value:o.vehicleNo,onChange:l=>d({...o,vehicleNo:l.target.value}),className:"ra-filter-input",placeholder:"Enter vehicle number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({dispoRegNum:"",companyName:"",disposalMethod:"",vehicleNo:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Ire="http://localhost:3000/api/v1",Tre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},bg=async(r,t={})=>{const n=Tre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Ire}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},O0={createEmissionRegister:async r=>(await bg("/emission-registers",{method:"POST",body:JSON.stringify(r)})).data,getEmissionRegisterById:async r=>(await bg(`/emission-registers/${r}`,{method:"GET"})).data,getAllEmissionRegisters:async(r,t)=>{let n="/emission-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await bg(n,{method:"GET"})).data},updateEmissionRegister:async(r,t)=>(await bg(`/emission-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteEmissionRegister:async r=>{await bg(`/emission-registers/${r}`,{method:"DELETE"})}},kre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),Z=C.useCallback(async()=>{try{const q=(await ia.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(M){console.error("Error loading companies:",M)}},[]),ne=C.useCallback(async()=>{g(!0),x(null);try{const M=await O0.getAllEmissionRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all(M.map(async ie=>{const J=w.find(D=>D.id===ie.companyId);return{id:ie.id,emisRegNum:ie.emisRegNum,companyId:ie.companyId,companyName:(J==null?void 0:J.companyName)||"Unknown",emissionDate:ie.emissionDate,equipmentId:ie.equipmentId,stackId:ie.stackId,pm:ie.pm,co:ie.co,hci:ie.hci,temp:ie.temp,oxygen:ie.oxygen,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(M){const q=M instanceof Error?M.message:"Failed to load emission registers";x(q),console.error("Error loading emission registers:",M)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await Z()})()},[Z]),C.useEffect(()=>{w.length>0&&ne()},[w,i,ne]);const G=C.useMemo(()=>{const M=a.trim().toLowerCase(),q=j.emisRegNum.trim().toLowerCase(),ie=j.companyName.trim().toLowerCase(),J=j.equipmentId.trim().toLowerCase(),D=j.stackId.trim().toLowerCase(),ce=j.complianceStatus.trim().toLowerCase();return I.filter(te=>{const ge=!M||te.emisRegNum.toLowerCase().includes(M)||te.companyName.toLowerCase().includes(M)||te.equipmentId.toLowerCase().includes(M)||te.stackId.toLowerCase().includes(M),pe=!q||te.emisRegNum.toLowerCase().includes(q),be=!ie||te.companyName.toLowerCase().includes(ie),re=!J||te.equipmentId.toLowerCase().includes(J),de=!D||te.stackId.toLowerCase().includes(D),Y=!ce||te.complianceStatus.toLowerCase().includes(ce),Ae=i==="all"||te.status===i;return ge&&pe&&be&&re&&de&&Y&&Ae})},[I,a,j,i]),le=()=>{f(null),d(!0)},V=M=>{f(M),d(!0)},me=async M=>{if(window.confirm("Are you sure you want to delete this emission register?"))try{g(!0),x(null),await O0.deleteEmissionRegister(M),b("Emission register deleted successfully"),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete emission register";x(ie),console.error("Error deleting emission register:",q)}finally{g(!1)}},$=async M=>{try{if(g(!0),x(null),h)await O0.updateEmissionRegister(h.id,{emissionDate:M.emissionDate,equipmentId:M.equipmentId,stackId:M.stackId,pm:M.pm,co:M.co,hci:M.hci,temp:M.temp,oxygen:M.oxygen,complianceStatus:M.complianceStatus,status:M.status}),b("Emission register updated successfully");else{const q=w.find(ie=>ie.id===M.companyId);if(!q){x("Please select a valid company");return}await O0.createEmissionRegister({companyId:q.id,emissionDate:M.emissionDate,equipmentId:M.equipmentId,stackId:M.stackId,pm:M.pm,co:M.co,hci:M.hci,temp:M.temp,oxygen:M.oxygen,complianceStatus:M.complianceStatus||"Compliant",status:M.status||"Active"}),b("Emission register created successfully")}d(!1),f(null),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save emission register";x(ie),console.error("Error saving emission register:",q)}finally{g(!1)}},X=M=>{switch(M.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},Ce=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Ce.map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Emission Register",subtitle:"Manage emission monitoring records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading emission registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Emission Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track emission monitoring and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, stack...",value:a,onChange:M=>s(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Emission"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"STACK ID"}),e.jsx("th",{children:"PM"}),e.jsx("th",{children:"CO"}),e.jsx("th",{children:"HCI"}),e.jsx("th",{children:"TEMP"}),e.jsx("th",{children:"OXYGEN"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"empty-message",children:A?"Loading...":"No emission registers found"})}):G.map(M=>{const q=ie=>{const J=new Date(ie),D=String(J.getDate()).padStart(2,"0"),ce=String(J.getMonth()+1).padStart(2,"0"),te=J.getFullYear();return`${D}/${ce}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:M.emisRegNum}),e.jsx("td",{children:M.companyName}),e.jsx("td",{children:q(M.emissionDate)}),e.jsx("td",{children:M.equipmentId}),e.jsx("td",{children:M.stackId}),e.jsx("td",{children:M.pm.toFixed(2)}),e.jsx("td",{children:M.co.toFixed(2)}),e.jsx("td",{children:M.hci.toFixed(2)}),e.jsx("td",{children:M.temp.toFixed(2)}),e.jsx("td",{children:M.oxygen.toFixed(2)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${X(M.complianceStatus)}`,children:M.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Ore,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),c("all"),s("")},onApply:M=>{c(M.statusFilter),S(M.advancedFilters),u(!1)}}),o&&e.jsx(_re,{emission:h,companies:w.filter(M=>M.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},_re=({emission:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyId:"",emissionDate:new Date().toISOString().split("T")[0],equipmentId:"",stackId:"",pm:0,co:0,hci:0,temp:0,oxygen:0,complianceStatus:"Compliant",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),e.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),e.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Emission Register":"Add Emission Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update emission details":"Create a new emission register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:c,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:s.companyId||"",onChange:o=>i({...s,companyId:o.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"emission-date",children:["Emission Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"emission-date",type:"date",value:s.emissionDate||"",onChange:o=>i({...s,emissionDate:o.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:s.equipmentId||"",onChange:o=>i({...s,equipmentId:o.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"stack-id",children:["Stack ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"stack-id",type:"text",value:s.stackId||"",onChange:o=>i({...s,stackId:o.target.value}),required:!0,className:"ra-assignment-input",placeholder:"Enter stack ID"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"pm",children:["PM ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"pm",type:"number",step:"0.01",value:s.pm||0,onChange:o=>i({...s,pm:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"co",children:["CO ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"co",type:"number",step:"0.01",value:s.co||0,onChange:o=>i({...s,co:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"hci",children:["HCI ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"hci",type:"number",step:"0.01",value:s.hci||0,onChange:o=>i({...s,hci:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"temp",children:["Temperature ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"temp",type:"number",step:"0.01",value:s.temp||0,onChange:o=>i({...s,temp:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"oxygen",children:["Oxygen ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"oxygen",type:"number",step:"0.01",value:s.oxygen||0,onChange:o=>i({...s,oxygen:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:s.complianceStatus||"Compliant",onChange:o=>i({...s,complianceStatus:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Emission":"Create Emission"})]})]})]})})},Ore=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter emission registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.emisRegNum,onChange:l=>d({...o,emisRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Stack ID"}),e.jsx("input",{type:"text",value:o.stackId,onChange:l=>d({...o,stackId:l.target.value}),className:"ra-filter-input",placeholder:"Enter stack ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({emisRegNum:"",companyName:"",equipmentId:"",stackId:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Fre="http://localhost:3000/api/v1",Pre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},wg=async(r,t={})=>{const n=Pre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Fre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},F0={createETPRegister:async r=>(await wg("/etp-registers",{method:"POST",body:JSON.stringify(r)})).data,getETPRegisterById:async r=>(await wg(`/etp-registers/${r}`,{method:"GET"})).data,getAllETPRegisters:async(r,t)=>{let n="/etp-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await wg(n,{method:"GET"})).data},updateETPRegister:async(r,t)=>(await wg(`/etp-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteETPRegister:async r=>{await wg(`/etp-registers/${r}`,{method:"DELETE"})}},Dre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),Z=C.useCallback(async()=>{try{const q=(await ia.getAllCompanies(!0)).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(M){console.error("Error loading companies:",M)}},[]),ne=C.useCallback(async()=>{g(!0),x(null);try{const M=await F0.getAllETPRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all(M.map(async ie=>{const J=w.find(D=>D.id===ie.companyId);return{id:ie.id,etpRegNum:ie.etpRegNum,companyId:ie.companyId,companyName:(J==null?void 0:J.companyName)||"Unknown",date:ie.date,inflow:ie.inflow,treated:ie.treated,ph:ie.ph,bod:ie.bod,cod:ie.cod,tss:ie.tss,oilGrease:ie.oilGrease,dischargeMode:ie.dischargeMode,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(M){const q=M instanceof Error?M.message:"Failed to load ETP registers";x(q),console.error("Error loading ETP registers:",M)}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await Z()})()},[Z]),C.useEffect(()=>{w.length>0&&ne()},[w,i,ne]);const G=C.useMemo(()=>{const M=a.trim().toLowerCase(),q=j.etpRegNum.trim().toLowerCase(),ie=j.companyName.trim().toLowerCase(),J=j.dischargeMode.trim().toLowerCase(),D=j.complianceStatus.trim().toLowerCase();return I.filter(ce=>{const te=!M||ce.etpRegNum.toLowerCase().includes(M)||ce.companyName.toLowerCase().includes(M)||ce.dischargeMode.toLowerCase().includes(M),ge=!q||ce.etpRegNum.toLowerCase().includes(q),pe=!ie||ce.companyName.toLowerCase().includes(ie),be=!J||ce.dischargeMode.toLowerCase().includes(J),re=!D||ce.complianceStatus.toLowerCase().includes(D),de=i==="all"||ce.status===i;return te&&ge&&pe&&be&&re&&de})},[I,a,j,i]),le=()=>{f(null),d(!0)},V=M=>{f(M),d(!0)},me=async M=>{if(window.confirm("Are you sure you want to delete this ETP register?"))try{g(!0),x(null),await F0.deleteETPRegister(M),b("ETP register deleted successfully"),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete ETP register";x(ie),console.error("Error deleting ETP register:",q)}finally{g(!1)}},$=async M=>{try{if(g(!0),x(null),h)await F0.updateETPRegister(h.id,{date:M.date,inflow:M.inflow,treated:M.treated,ph:M.ph,bod:M.bod,cod:M.cod,tss:M.tss,oilGrease:M.oilGrease,dischargeMode:M.dischargeMode,complianceStatus:M.complianceStatus,status:M.status}),b("ETP register updated successfully");else{const q=w.find(ie=>ie.id===M.companyId);if(!q){x("Please select a valid company");return}await F0.createETPRegister({companyId:q.id,date:M.date,inflow:M.inflow,treated:M.treated,ph:M.ph,bod:M.bod,cod:M.cod,tss:M.tss,oilGrease:M.oilGrease,dischargeMode:M.dischargeMode,complianceStatus:M.complianceStatus||"Compliant",status:M.status||"Active"}),b("ETP register created successfully")}d(!1),f(null),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save ETP register";x(ie),console.error("Error saving ETP register:",q)}finally{g(!1)}},X=M=>{switch(M.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},Ce=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Ce.map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"ETP Register",subtitle:"Manage ETP (Effluent Treatment Plant) records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading ETP registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"ETP Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track Effluent Treatment Plant operations and compliance"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, discharge mode...",value:a,onChange:M=>s(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add ETP"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"INFLOW"}),e.jsx("th",{children:"TREATED"}),e.jsx("th",{children:"PH"}),e.jsx("th",{children:"BOD"}),e.jsx("th",{children:"COD"}),e.jsx("th",{children:"TSS"}),e.jsx("th",{children:"OIL/GREASE"}),e.jsx("th",{children:"DISCHARGE MODE"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"empty-message",children:A?"Loading...":"No ETP registers found"})}):G.map(M=>{const q=ie=>{const J=new Date(ie),D=String(J.getDate()).padStart(2,"0"),ce=String(J.getMonth()+1).padStart(2,"0"),te=J.getFullYear();return`${D}/${ce}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:M.etpRegNum}),e.jsx("td",{children:M.companyName}),e.jsx("td",{children:q(M.date)}),e.jsx("td",{children:M.inflow.toFixed(2)}),e.jsx("td",{children:M.treated.toFixed(2)}),e.jsx("td",{children:M.ph.toFixed(2)}),e.jsx("td",{children:M.bod.toFixed(2)}),e.jsx("td",{children:M.cod.toFixed(2)}),e.jsx("td",{children:M.tss.toFixed(2)}),e.jsx("td",{children:M.oilGrease.toFixed(2)}),e.jsx("td",{children:M.dischargeMode}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${X(M.complianceStatus)}`,children:M.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Rre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),c("all"),s("")},onApply:M=>{c(M.statusFilter),S(M.advancedFilters),u(!1)}}),o&&e.jsx(Mre,{etp:h,companies:w.filter(M=>M.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},Mre=({etp:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(r||{companyId:"",date:new Date().toISOString().split("T")[0],inflow:0,treated:0,ph:0,bod:0,cod:0,tss:0,oilGrease:0,dischargeMode:"",complianceStatus:"Compliant",status:"Active"}),c=o=>{o.preventDefault(),a(s)};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}),e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit ETP Register":"Add ETP Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update ETP details":"Create a new ETP register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form",onSubmit:c,children:[e.jsxs("div",{className:"ra-assignment-form-grid",children:[e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"company",children:["Company Name ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:s.companyId||"",onChange:o=>i({...s,companyId:o.target.value}),required:!0,disabled:!!r,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"date",children:["Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"date",type:"date",value:s.date||"",onChange:o=>i({...s,date:o.target.value}),required:!0,className:"ra-assignment-input"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"inflow",children:["Inflow ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"inflow",type:"number",step:"0.01",value:s.inflow||0,onChange:o=>i({...s,inflow:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"treated",children:["Treated ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"treated",type:"number",step:"0.01",value:s.treated||0,onChange:o=>i({...s,treated:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"ph",children:["pH ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"ph",type:"number",step:"0.01",value:s.ph||0,onChange:o=>i({...s,ph:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"bod",children:["BOD ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"bod",type:"number",step:"0.01",value:s.bod||0,onChange:o=>i({...s,bod:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"cod",children:["COD ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"cod",type:"number",step:"0.01",value:s.cod||0,onChange:o=>i({...s,cod:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"ra-assignment-form-col",children:[e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"tss",children:["TSS ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"tss",type:"number",step:"0.01",value:s.tss||0,onChange:o=>i({...s,tss:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"oil-grease",children:["Oil/Grease ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"oil-grease",type:"number",step:"0.01",value:s.oilGrease||0,onChange:o=>i({...s,oilGrease:parseFloat(o.target.value)||0}),required:!0,className:"ra-assignment-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsxs("label",{htmlFor:"discharge-mode",children:["Discharge Mode ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"discharge-mode",value:s.dischargeMode||"",onChange:o=>i({...s,dischargeMode:o.target.value}),required:!0,className:"ra-assignment-select",children:[e.jsx("option",{value:"",children:"Select Discharge Mode"}),e.jsx("option",{value:"Surface Water",children:"Surface Water"}),e.jsx("option",{value:"Ground Water",children:"Ground Water"}),e.jsx("option",{value:"Sewer",children:"Sewer"}),e.jsx("option",{value:"Reuse",children:"Reuse"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:s.complianceStatus||"Compliant",onChange:o=>i({...s,complianceStatus:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-assignment-form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:s.status||"Active",onChange:o=>i({...s,status:o.target.value}),className:"ra-assignment-select",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update ETP":"Create ETP"})]})]})]})})},Rre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter ETP registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.etpRegNum,onChange:l=>d({...o,etpRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Discharge Mode"}),e.jsx("input",{type:"text",value:o.dischargeMode,onChange:l=>d({...o,dischargeMode:l.target.value}),className:"ra-filter-input",placeholder:"Enter discharge mode"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({etpRegNum:"",companyName:"",dischargeMode:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Lre="http://localhost:3000/api/v1",Ure=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Cg=async(r,t={})=>{const n=Ure(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Lre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},P0={createDowntimeRegister:async r=>(await Cg("/downtime-registers",{method:"POST",body:JSON.stringify(r)})).data,getDowntimeRegisterById:async r=>(await Cg(`/downtime-registers/${r}`,{method:"GET"})).data,getAllDowntimeRegisters:async(r,t)=>{let n="/downtime-registers";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Cg(n,{method:"GET"})).data||[]},updateDowntimeRegister:async(r,t)=>(await Cg(`/downtime-registers/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteDowntimeRegister:async r=>{await Cg(`/downtime-registers/${r}`,{method:"DELETE"})}},Hre=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("all"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),[w,E]=C.useState([]),[I,L]=C.useState([]),Z=C.useCallback(async()=>{try{const q=(await ia.getAllCompanies(!0)||[]).map(ie=>({id:ie.id,companyCode:ie.companyCode,companyName:ie.companyName,status:ie.status}));E(q)}catch(M){console.error("Error loading companies:",M),E([])}},[]),ne=C.useCallback(async()=>{g(!0),x(null);try{const M=await P0.getAllDowntimeRegisters(void 0,i!=="all"?i:void 0),q=await Promise.all((M||[]).map(async ie=>{const J=w.find(D=>D.id===ie.companyId);return{id:ie.id,dtRegNum:ie.dtRegNum,companyId:ie.companyId,companyName:(J==null?void 0:J.companyName)||"Unknown",breakdownDate:ie.breakdownDate,equipmentId:ie.equipmentId,breakdownType:ie.breakdownType,startTime:ie.startTime,endTime:ie.endTime,downtimeHours:ie.downtimeHours,cause:ie.cause,actionTaken:ie.actionTaken,sparesUsed:ie.sparesUsed,complianceStatus:ie.complianceStatus,status:ie.status,createdBy:ie.createdBy,createdOn:ie.createdOn,modifiedBy:ie.modifiedBy,modifiedOn:ie.modifiedOn}}));L(q)}catch(M){const q=M instanceof Error?M.message:"Failed to load downtime registers";x(q),console.error("Error loading downtime registers:",M),L([])}finally{g(!1)}},[i,w]);C.useEffect(()=>{(async()=>{await Z()})()},[Z]),C.useEffect(()=>{w.length>0&&ne()},[w,i,ne]);const G=C.useMemo(()=>{const M=a.trim().toLowerCase(),q=j.dtRegNum.trim().toLowerCase(),ie=j.companyName.trim().toLowerCase(),J=j.equipmentId.trim().toLowerCase(),D=j.breakdownType.trim().toLowerCase(),ce=j.complianceStatus.trim().toLowerCase();return I.filter(te=>{const ge=!M||te.dtRegNum.toLowerCase().includes(M)||te.companyName.toLowerCase().includes(M)||te.equipmentId.toLowerCase().includes(M)||te.breakdownType.toLowerCase().includes(M),pe=!q||te.dtRegNum.toLowerCase().includes(q),be=!ie||te.companyName.toLowerCase().includes(ie),re=!J||te.equipmentId.toLowerCase().includes(J),de=!D||te.breakdownType.toLowerCase().includes(D),Y=!ce||te.complianceStatus.toLowerCase().includes(ce),Ae=i==="all"||te.status===i;return ge&&pe&&be&&re&&de&&Y&&Ae})},[I,a,j,i]),le=()=>{f(null),d(!0)},V=M=>{f(M),d(!0)},me=async M=>{if(window.confirm("Are you sure you want to delete this downtime register?"))try{g(!0),x(null),await P0.deleteDowntimeRegister(M),b("Downtime register deleted successfully"),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to delete downtime register";x(ie),console.error("Error deleting downtime register:",q)}finally{g(!1)}},$=async M=>{try{if(g(!0),x(null),h)await P0.updateDowntimeRegister(h.id,{breakdownDate:M.breakdownDate,equipmentId:M.equipmentId,breakdownType:M.breakdownType,startTime:M.startTime,endTime:M.endTime,downtimeHours:M.downtimeHours,cause:M.cause,actionTaken:M.actionTaken,sparesUsed:M.sparesUsed,complianceStatus:M.complianceStatus,status:M.status}),b("Downtime register updated successfully");else{const q=w.find(ie=>ie.id===M.companyId);if(!q){x("Please select a valid company");return}await P0.createDowntimeRegister({companyId:q.id,breakdownDate:M.breakdownDate,equipmentId:M.equipmentId,breakdownType:M.breakdownType,startTime:M.startTime,endTime:M.endTime,downtimeHours:M.downtimeHours,cause:M.cause,actionTaken:M.actionTaken,sparesUsed:M.sparesUsed,complianceStatus:M.complianceStatus||"Compliant",status:M.status||"Active"}),b("Downtime register created successfully")}d(!1),f(null),await ne(),setTimeout(()=>b(null),3e3)}catch(q){const ie=q instanceof Error?q.message:"Failed to save downtime register";x(ie),console.error("Error saving downtime register:",q)}finally{g(!1)}},X=M=>{switch(M.toLowerCase()){case"compliant":return"status-badge--compliant";case"non-compliant":return"status-badge--non-compliant";case"pending":return"status-badge--pending";default:return""}},Ce=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:(Ce||[]).map(M=>e.jsx("li",{children:e.jsxs(Rr,{to:M.path,className:`nav-link ${M.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:M.icon}),e.jsx("span",{className:"nav-label",children:M.label})]})},M.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Downtime Register",subtitle:"Manage equipment downtime and breakdown records"}),y&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>b(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),A&&!I.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading downtime registers..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Downtime Register"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track equipment downtime and breakdowns"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by register number, company, equipment, breakdown type...",value:a,onChange:M=>s(M.target.value),className:"ra-search-input"})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:le,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Downtime"]})]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"REG NUM"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"BREAKDOWN DATE"}),e.jsx("th",{children:"EQUIPMENT ID"}),e.jsx("th",{children:"BREAKDOWN TYPE"}),e.jsx("th",{children:"START TIME"}),e.jsx("th",{children:"END TIME"}),e.jsx("th",{children:"DOWNTIME (HRS)"}),e.jsx("th",{children:"CAUSE"}),e.jsx("th",{children:"COMPLIANCE STATUS"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-message",children:A?"Loading...":"No downtime registers found"})}):G.map(M=>{const q=ie=>{const J=new Date(ie),D=String(J.getDate()).padStart(2,"0"),ce=String(J.getMonth()+1).padStart(2,"0"),te=J.getFullYear();return`${D}/${ce}/${te}`};return e.jsxs("tr",{children:[e.jsx("td",{children:M.dtRegNum}),e.jsx("td",{children:M.companyName}),e.jsx("td",{children:q(M.breakdownDate)}),e.jsx("td",{children:M.equipmentId}),e.jsx("td",{children:M.breakdownType}),e.jsx("td",{children:M.startTime}),e.jsx("td",{children:M.endTime}),e.jsx("td",{children:M.downtimeHours.toFixed(2)}),e.jsx("td",{children:M.cause}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${X(M.complianceStatus)}`,children:M.complianceStatus})})}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge status-badge--${M.status.toLowerCase()}`,children:M.status})})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons ra-actions",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>V(M),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>V(M),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>me(M.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",G.length," of ",I.length," items"]})]})]}),l&&e.jsx(Wre,{statusFilter:i,advancedFilters:j,onClose:()=>u(!1),onClear:()=>{S({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),c("all"),s("")},onApply:M=>{c(M.statusFilter),S(M.advancedFilters),u(!1)}}),o&&e.jsx(Qre,{downtime:h,companies:w.filter(M=>M.status==="Active"),onClose:()=>{d(!1),f(null)},onSave:$})]})},Qre=({downtime:r,companies:t,onClose:n,onSave:a})=>{const[s,i]=C.useState(0),[c,o]=C.useState(""),d=()=>{const g=new Date,m=String(g.getHours()).padStart(2,"0"),x=String(g.getMinutes()).padStart(2,"0");return`${m}:${x}`},[l,u]=C.useState(r||{companyId:"",breakdownDate:new Date().toISOString().split("T")[0],equipmentId:"",breakdownType:"",startTime:d(),endTime:"",downtimeHours:0,cause:"",actionTaken:"",sparesUsed:"",complianceStatus:"Compliant",status:"Active"});C.useEffect(()=>{r!=null&&r.cause?["Mechanical Failure","Electrical Fault","Component Wear","Lubrication Issue","Calibration Error","Operator Error","Power Failure","Sensor Malfunction"].includes(r.cause)?o(r.cause):o("Other"):r||o("")},[r]),C.useEffect(()=>{if(!l.endTime&&l.startTime){const g=setInterval(()=>{i(m=>m+1)},1e3);return()=>clearInterval(g)}else i(0)},[l.endTime,l.startTime]),C.useEffect(()=>{if(l.startTime&&l.endTime){const g=new Date(`2000-01-01T${l.startTime}`),m=new Date(`2000-01-01T${l.endTime}`);m<g&&m.setDate(m.getDate()+1);const y=(m.getTime()-g.getTime())/(1e3*60*60);u(b=>({...b,downtimeHours:parseFloat(y.toFixed(2))}))}else if(!l.endTime&&l.startTime&&s>0){const g=new Date(`2000-01-01T${l.startTime}`),m=new Date,x=`${String(m.getHours()).padStart(2,"0")}:${String(m.getMinutes()).padStart(2,"0")}`,y=new Date(`2000-01-01T${x}`);y<g&&y.setDate(y.getDate()+1);const j=(y.getTime()-g.getTime())/(1e3*60*60);u(S=>({...S,downtimeHours:parseFloat(j.toFixed(2))}))}},[l.startTime,l.endTime,s]),C.useEffect(()=>{l.endTime?u(g=>({...g,status:"Inactive"})):u(g=>({...g,status:"Active"}))},[l.endTime]);const h=g=>{o(g),u(g!=="Other"?m=>({...m,cause:g}):m=>({...m,cause:""}))},f=g=>{const m=Math.floor(g/3600),x=Math.floor(g%3600/60),y=g%60;return`${String(m).padStart(2,"0")}:${String(x).padStart(2,"0")}:${String(y).padStart(2,"0")}`},A=g=>{g.preventDefault();let m=l.cause;c&&c!=="Other"&&(m=c),!(!c||c==="Other"&&!m)&&a({...l,cause:m})};return e.jsx("div",{className:"modal-overlay ra-assignment-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-assignment-modal",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"ra-assignment-modal-header",children:[e.jsxs("div",{className:"ra-assignment-modal-titlewrap",children:[e.jsx("div",{className:"ra-assignment-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"}),e.jsx("path",{d:"M8 12h8"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"ra-assignment-modal-title",children:r?"Edit Downtime Register":"Add Downtime Register"}),e.jsx("p",{className:"ra-assignment-modal-subtitle",children:r?"Update downtime details":"Create a new downtime register."})]})]}),e.jsx("button",{className:"ra-assignment-close",onClick:n,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"ra-assignment-form dt-compact-form",onSubmit:A,children:[e.jsxs("div",{className:"dt-form-sections",children:[e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"company",children:["Company ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"company",value:l.companyId||"",onChange:g=>u({...l,companyId:g.target.value}),required:!0,disabled:!!r,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Company"}),(t||[]).map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"equipment-id",children:["Equipment ID ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"equipment-id",type:"text",value:l.equipmentId||"",onChange:g=>u({...l,equipmentId:g.target.value}),required:!0,className:"dt-form-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"breakdown-type",children:["Breakdown Type ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("select",{id:"breakdown-type",value:l.breakdownType||"",onChange:g=>u({...l,breakdownType:g.target.value}),required:!0,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Mechanical",children:"Mechanical"}),e.jsx("option",{value:"Electrical",children:"Electrical"}),e.jsx("option",{value:"Plumbing",children:"Plumbing"}),e.jsx("option",{value:"Software",children:"Software"}),e.jsx("option",{value:"Preventive Maintenance",children:"Preventive Maintenance"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"breakdown-date",children:["Breakdown Date ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"breakdown-date",type:"date",value:l.breakdownDate||"",onChange:g=>u({...l,breakdownDate:g.target.value}),required:!0,className:"dt-form-input"})]}),e.jsxs("div",{className:"dt-form-row dt-form-row-time",children:[e.jsxs("label",{children:["Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("div",{className:"dt-time-grid",children:[e.jsxs("label",{htmlFor:"start-time",children:["Start Time ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"start-time",type:"time",value:l.startTime||"",onChange:g=>u({...l,startTime:g.target.value}),required:!0,className:"dt-form-input"}),e.jsx("label",{htmlFor:"end-time",children:"End Time"}),e.jsxs("div",{children:[e.jsx("input",{id:"end-time",type:"time",value:l.endTime||"",onChange:g=>u({...l,endTime:g.target.value}),className:"dt-form-input"}),!l.endTime&&l.startTime?e.jsx("div",{className:"dt-duration-status",children:e.jsxs("span",{className:"dt-running-badge",children:[e.jsx("span",{className:"dt-running-dot"}),"Running ",f(s)]})}):l.endTime?e.jsx("div",{className:"dt-duration-status",children:e.jsxs("span",{className:"dt-duration-text",children:[(l.downtimeHours||0).toFixed(2)," hrs"]})}):null]})]})]})]})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsx("div",{className:"dt-form-grid",children:e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"cause-type",children:["Cause ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsxs("div",{children:[e.jsxs("select",{id:"cause-type",value:c,onChange:g=>h(g.target.value),required:!0,className:"dt-form-input",children:[e.jsx("option",{value:"",children:"Select Cause"}),e.jsx("option",{value:"Mechanical Failure",children:"Mechanical Failure"}),e.jsx("option",{value:"Electrical Fault",children:"Electrical Fault"}),e.jsx("option",{value:"Component Wear",children:"Component Wear"}),e.jsx("option",{value:"Lubrication Issue",children:"Lubrication Issue"}),e.jsx("option",{value:"Calibration Error",children:"Calibration Error"}),e.jsx("option",{value:"Operator Error",children:"Operator Error"}),e.jsx("option",{value:"Power Failure",children:"Power Failure"}),e.jsx("option",{value:"Sensor Malfunction",children:"Sensor Malfunction"}),e.jsx("option",{value:"Other",children:"Other"})]}),c==="Other"&&e.jsx("textarea",{id:"cause",value:l.cause||"",onChange:g=>u({...l,cause:g.target.value}),required:!0,className:"dt-form-input dt-form-textarea",placeholder:"Enter cause",rows:2})]})]})})]}),e.jsxs("div",{className:"dt-form-section-group",children:[e.jsx("div",{className:"dt-section-separator"}),e.jsxs("div",{className:"dt-form-grid",children:[e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"action-taken",children:["Action Taken ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("textarea",{id:"action-taken",value:l.actionTaken||"",onChange:g=>u({...l,actionTaken:g.target.value}),required:!0,className:"dt-form-input dt-form-textarea",placeholder:"Enter action taken",rows:2})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsxs("label",{htmlFor:"spares-used",children:["Spares Used ",e.jsx("span",{className:"ra-required",children:"*"})]}),e.jsx("input",{id:"spares-used",type:"text",value:l.sparesUsed||"",onChange:g=>u({...l,sparesUsed:g.target.value}),required:!0,className:"dt-form-input",placeholder:"Enter spares used"})]}),e.jsxs("div",{className:"dt-form-row",children:[e.jsx("label",{htmlFor:"compliance-status",children:"Compliance Status"}),e.jsxs("select",{id:"compliance-status",value:l.complianceStatus||"Compliant",onChange:g=>u({...l,complianceStatus:g.target.value}),className:"dt-form-input",children:[e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]})]}),e.jsxs("div",{className:"ra-assignment-modal-footer dt-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"ra-assignment-btn ra-assignment-btn--primary",children:r?"Update Downtime":"Create Downtime"})]})]})]})})},Wre=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter downtime registers by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Register Number"}),e.jsx("input",{type:"text",value:o.dtRegNum,onChange:l=>d({...o,dtRegNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter register number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Equipment ID"}),e.jsx("input",{type:"text",value:o.equipmentId,onChange:l=>d({...o,equipmentId:l.target.value}),className:"ra-filter-input",placeholder:"Enter equipment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Breakdown Type"}),e.jsx("input",{type:"text",value:o.breakdownType,onChange:l=>d({...o,breakdownType:l.target.value}),className:"ra-filter-input",placeholder:"Enter breakdown type"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:o.complianceStatus,onChange:l=>d({...o,complianceStatus:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("all"),d({dtRegNum:"",companyName:"",equipmentId:"",breakdownType:"",complianceStatus:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},$re=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},UA=async(r,t={})=>{const n=$re(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${jf}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},kh={lookupBarcode:async r=>(await UA(`/waste-collections/barcode/${encodeURIComponent(r)}`,{method:"GET"})).data,createWasteCollection:async r=>(await UA("/waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getWasteCollectionById:async r=>(await UA(`/waste-collections/${r}`,{method:"GET"})).data,getAllWasteCollections:async(r,t,n,a,s,i)=>{let c="/waste-collections";const o=new URLSearchParams;return r&&o.append("companyId",r),t&&o.append("hcfId",t),n&&o.append("date",n),a&&o.append("endDate",a),s&&o.append("status",s),i&&o.append("routeAssignmentId",i),o.toString()&&(c+=`?${o.toString()}`),(await UA(c,{method:"GET"})).data},updateWasteCollection:async(r,t)=>(await UA(`/waste-collections/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,collectWaste:async(r,t)=>(await UA(`/waste-collections/${r}/collect`,{method:"POST",body:JSON.stringify({weightKg:t})})).data,deleteWasteCollection:async r=>{await UA(`/waste-collections/${r}`,{method:"DELETE"})}},Vre=()=>{const{logout:r,user:t,permissions:n}=Wn(),a=un(),[s,i]=C.useState(""),[c,o]=C.useState(new Date().toISOString().split("T")[0]),[d,l]=C.useState("all"),[u,h]=C.useState("all"),[f,A]=C.useState(""),[g,m]=C.useState("all"),[x,y]=C.useState("all"),[b,j]=C.useState(!1),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,Z]=C.useState(!1),[ne,G]=C.useState(!1),[le,V]=C.useState(null),[me,$]=C.useState(null),[X,Ce]=C.useState(null),[M,q]=C.useState(!1),[ie,J]=C.useState(null),[D,ce]=C.useState(null),[te,ge]=C.useState(""),[pe,be]=C.useState(null),[re,de]=C.useState(!1),Y=C.useRef(null),[Ae,ye]=C.useState([]),[Oe,We]=C.useState([]),ae=C.useCallback(async()=>{try{const Vt=(await ia.getAllCompanies(!0)).map(mr=>({id:mr.id,companyCode:mr.companyCode,companyName:mr.companyName,status:mr.status}));ye(Vt)}catch(_t){console.error("Error loading companies:",_t)}},[]),ke=C.useCallback(async()=>{q(!0),J(null);try{const _t=await kh.getAllWasteCollections(void 0,void 0,c,void 0,d!=="all"?d:void 0),Vt=await Promise.all(_t.map(async mr=>{const Qe=Ae.find(Ft=>Ft.id===mr.companyId);let Bt="",Ge="";try{const Ft=await xi.getHcfById(mr.hcfId);Bt=Ft.hcfCode,Ge=Ft.hcfName}catch(Ft){console.error("Error loading HCF:",Ft)}return{id:mr.id,barcode:mr.barcode,collectionDate:mr.collectionDate,companyId:mr.companyId,companyName:(Qe==null?void 0:Qe.companyName)||"Unknown",hcfId:mr.hcfId,hcfCode:Bt,hcfName:Ge,wasteColor:mr.wasteColor,weightKg:mr.weightKg,status:mr.status,routeAssignmentId:mr.routeAssignmentId,collectedBy:mr.collectedBy,collectedAt:mr.collectedAt,notes:mr.notes,createdOn:mr.createdOn}}));We(Vt)}catch(_t){const Vt=_t instanceof Error?_t.message:"Failed to load collections";J(Vt),console.error("Error loading collections:",_t)}finally{q(!1)}},[c,d,Ae]);C.useEffect(()=>{(async()=>{await ae()})()},[ae]),C.useEffect(()=>{Ae.length>0&&ke()},[c,d,Ae,ke]);const Fe=async _t=>{if(!_t||_t.length<5){J("Please enter a valid barcode (at least 5 characters)");return}de(!0),J(null),be(null);try{const Vt=await kh.lookupBarcode(_t);be(Vt),Oe.find(Qe=>Qe.barcode===_t&&Qe.collectionDate===c)?(J(`Barcode ${_t} has already been collected on ${c}`),be(null)):j(!0)}catch(Vt){const mr=Vt instanceof Error?Vt.message:"Failed to lookup barcode";J(mr),be(null)}finally{de(!1)}},nt=_t=>{_t==null||_t.preventDefault(),te.trim()&&(Fe(te.trim()),ge(""))},tt=async _t=>{if(!pe){J("Barcode lookup result is missing");return}try{q(!0),J(null),await kh.createWasteCollection({barcode:pe.barcode,collectionDate:c,companyId:pe.companyId,hcfId:pe.hcfId,wasteColor:pe.wasteColor,weightKg:_t.weightKg||null,status:"Pending",notes:_t.notes||null}),ce("Waste collection recorded successfully"),j(!1),be(null),await ke(),setTimeout(()=>ce(null),3e3)}catch(Vt){const mr=Vt instanceof Error?Vt.message:"Failed to save collection";J(mr),console.error("Error saving collection:",Vt)}finally{q(!1)}},Le=_t=>{V(_t),w(!0)},lt=_t=>{$(_t),I(!0)},$t=async _t=>{if(me)try{q(!0),J(null),await kh.collectWaste(me.id,_t.weightKg),ce("Collection updated successfully"),await ke(),I(!1),$(null),setTimeout(()=>ce(null),3e3)}catch(Vt){const mr=Vt instanceof Error?Vt.message:"Failed to update collection";J(mr),console.error("Error updating collection:",Vt)}finally{q(!1)}},Ue=_t=>{Ce(_t),Z(!0)},yt=async()=>{if(X)try{q(!0),J(null),await kh.deleteWasteCollection(X.id),ce("Collection deleted successfully"),await ke(),Z(!1),Ce(null),setTimeout(()=>ce(null),3e3)}catch(_t){const Vt=_t instanceof Error?_t.message:"Failed to delete collection";J(Vt),console.error("Error deleting collection:",_t)}finally{q(!1)}},Tt=Oe.filter(_t=>{const Vt=_t.barcode.toLowerCase().includes(s.toLowerCase())||_t.hcfCode.toLowerCase().includes(s.toLowerCase())||_t.hcfName.toLowerCase().includes(s.toLowerCase())||_t.companyName.toLowerCase().includes(s.toLowerCase()),mr=u==="all"||_t.wasteColor===u;return Vt&&mr}),Zt=_t=>{switch(_t){case"Pending":return"wc-status-badge--pending";case"Collected":return"wc-status-badge--collected";case"In Transit":return"wc-status-badge--in-transit";case"Processed":return"wc-status-badge--verified";case"Disposed":return"wc-status-badge--rejected";default:return""}},Mr=As(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Mr.map(_t=>e.jsx("li",{children:e.jsxs(Rr,{to:_t.path,className:`nav-link ${_t.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:_t.icon}),e.jsx("span",{className:"nav-label",children:_t.label})]})},_t.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Waste Collection",subtitle:"Manage waste collection records"}),D&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:D}),e.jsx("button",{onClick:()=>ce(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),ie&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:ie}),e.jsx("button",{onClick:()=>J(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),M&&!Oe.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"wc-page",children:[e.jsxs("div",{className:"wc-page-header",children:[e.jsxs("div",{className:"wc-header-left",children:[e.jsx("div",{className:"wc-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),e.jsx("h1",{className:"wc-page-title",children:"Waste Collection"})]}),e.jsx("div",{className:"wc-header-actions"})]}),e.jsxs("div",{className:"wc-search-section",children:[e.jsxs("div",{className:"wc-barcode-row",children:[e.jsxs("div",{className:"wc-barcode-search",children:[e.jsxs("svg",{className:"wc-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("form",{onSubmit:nt,className:"wc-barcode-form",children:e.jsx("input",{ref:Y,type:"text",value:te,onChange:_t=>ge(_t.target.value),placeholder:"Scan or enter barcode...",className:"wc-barcode-input",autoFocus:!0,disabled:re})})]}),e.jsx("button",{type:"button",className:"wc-btn wc-btn--scan-inline",onClick:nt,disabled:re||!te.trim(),children:re?e.jsx("span",{children:"Scanning..."}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]}),"Scan"]})})]}),e.jsxs("div",{className:"wc-search-row",children:[e.jsxs("div",{className:"wc-general-search",children:[e.jsxs("svg",{className:"wc-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by barcode, HCF, company...",value:s,onChange:_t=>i(_t.target.value),className:"wc-search-input"})]}),e.jsxs("button",{className:"wc-btn wc-btn--filter-inline",onClick:()=>{A(c),m(d),y(u),G(!ne)},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]})]})]}),e.jsx("div",{className:"wc-table-container",children:e.jsxs("table",{className:"wc-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"BARCODE"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"COLOR"}),e.jsx("th",{children:"WEIGHT (KG)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:Tt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"wc-empty-message",children:M?"Loading...":"No collections found"})}):Tt.map(_t=>{const Vt=new Date(_t.collectionDate),mr=`${String(Vt.getDate()).padStart(2,"0")}/${String(Vt.getMonth()+1).padStart(2,"0")}/${Vt.getFullYear()}`;return e.jsxs("tr",{children:[e.jsx("td",{children:mr}),e.jsx("td",{children:e.jsx("span",{className:"wc-barcode-display",children:_t.barcode})}),e.jsx("td",{children:e.jsx("span",{className:"wc-hcf-code",children:_t.hcfCode})}),e.jsx("td",{children:_t.companyName}),e.jsx("td",{children:e.jsxs("div",{className:"wc-color-badge-wrapper",children:[e.jsx("span",{className:`wc-color-swatch wc-color-swatch--${_t.wasteColor.toLowerCase()}`}),e.jsx("span",{className:"wc-color-text",children:_t.wasteColor.toUpperCase()})]})}),e.jsx("td",{children:_t.weightKg!=null&&!isNaN(Number(_t.weightKg))?Number(_t.weightKg).toFixed(2):"-"}),e.jsx("td",{children:e.jsx("span",{className:`wc-status-badge ${Zt(_t.status)}`,children:_t.status==="Collected"?"COLLECTED":_t.status==="Processed"?"VERIFIED":_t.status==="Disposed"?"REJECTED":_t.status.toUpperCase()})}),e.jsx("td",{children:e.jsxs("div",{className:"wc-action-buttons",children:[e.jsx("button",{className:"wc-action-btn wc-action-btn--view",onClick:()=>Le(_t),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),_t.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"wc-action-btn wc-action-btn--edit",onClick:()=>lt(_t),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"wc-action-btn wc-action-btn--delete",onClick:()=>Ue(_t),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})})]},_t.id)})})]})}),e.jsxs("div",{className:"wc-table-footer",children:["Showing ",Tt.length," of ",Oe.length," items"]})]})]}),b&&pe&&e.jsx(zre,{barcodeLookup:pe,collectionDate:c,onClose:()=>{j(!1),be(null)},onSave:tt}),S&&le&&e.jsx(Gre,{collection:le,onClose:()=>{w(!1),V(null)}}),ne&&e.jsx(Kre,{filterDate:f,filterStatus:g,filterColor:x,onFilterDateChange:A,onFilterStatusChange:m,onFilterColorChange:y,onClearFilters:()=>{A(""),m("all"),y("all")},onApplyFilters:()=>{f&&o(f),l(g),h(x),G(!1)},onClose:()=>G(!1)}),E&&me&&e.jsx(qre,{collection:me,onClose:()=>{I(!1),$(null)},onUpdate:$t,loading:M}),L&&X&&e.jsx(Xre,{collection:X,onClose:()=>{Z(!1),Ce(null)},onConfirm:yt,loading:M})]})},zre=({barcodeLookup:r,collectionDate:t,onClose:n,onSave:a})=>{const[s,i]=C.useState({weightKg:null,notes:null}),c=d=>{d.preventDefault(),a(s)},o=d=>{if(!d)return"";const l=new Date(d),u=String(l.getDate()).padStart(2,"0"),h=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${h}/${f}`};return e.jsx("div",{className:"wc-collection-modal-overlay",onClick:n,children:e.jsxs("div",{className:"wc-collection-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"wc-collection-modal-header",children:[e.jsxs("div",{className:"wc-collection-header-left",children:[e.jsx("div",{className:"wc-collection-header-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),e.jsx("h2",{className:"wc-collection-modal-title",children:"Record Waste Collection"})]}),e.jsx("button",{className:"wc-collection-modal-close",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wc-collection-form",onSubmit:c,children:[e.jsxs("div",{className:"wc-collection-form-section",children:[e.jsx("h3",{className:"wc-collection-section-title",children:"BARCODE INFORMATION"}),e.jsxs("div",{className:"wc-collection-form-grid",children:[e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Barcode"}),e.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Collection Date"}),e.jsx("input",{type:"text",value:o(t),disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Company"}),e.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"HCF"}),e.jsx("input",{type:"text",value:r.hcfCode,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]}),e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsx("label",{className:"wc-collection-label",children:"Waste Color"}),e.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"wc-collection-input wc-collection-input--readonly"})]})]})]}),e.jsxs("div",{className:"wc-collection-form-section",children:[e.jsx("h3",{className:"wc-collection-section-title",children:"COLLECTION DETAILS"}),e.jsxs("div",{className:"wc-collection-form-grid",children:[e.jsxs("div",{className:"wc-collection-form-group",children:[e.jsxs("label",{className:"wc-collection-label",children:["Weight (Kg) ",e.jsx("span",{className:"wc-collection-required",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:s.weightKg||"",onChange:d=>i({...s,weightKg:parseFloat(d.target.value)||null}),required:!0,className:"wc-collection-input",placeholder:"Enter weight"})]}),e.jsxs("div",{className:"wc-collection-form-group wc-collection-form-group--full",children:[e.jsx("label",{className:"wc-collection-label",children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:d=>i({...s,notes:d.target.value||null}),rows:3,className:"wc-collection-textarea",placeholder:"Additional notes or observations..."})]})]})]}),e.jsxs("div",{className:"wc-collection-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-collection-btn wc-collection-btn--cancel",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wc-collection-btn wc-collection-btn--submit",children:"Record Collection"})]})]})]})})},Gre=({collection:r,onClose:t,onVerify:n})=>{const a=o=>{const d=new Date(o),l=String(d.getDate()).padStart(2,"0"),u=String(d.getMonth()+1).padStart(2,"0"),h=d.getFullYear();return`${l}/${u}/${h}`},s=o=>{switch(o){case"Pending":return"wc-view-status-badge--pending";case"Collected":return"wc-view-status-badge--collected";case"Processed":return"wc-view-status-badge--verified";case"Disposed":return"wc-view-status-badge--rejected";default:return""}},i=o=>`wc-view-color-badge--${o.toLowerCase()}`,c=()=>{n&&n(),t()};return e.jsx("div",{className:"wc-view-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-view-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"wc-view-modal-header",children:[e.jsxs("div",{className:"wc-view-header-left",children:[e.jsx("div",{className:"wc-view-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsxs("div",{className:"wc-view-title-wrap",children:[e.jsx("h2",{className:"wc-view-modal-title",children:"View Collection Details"}),e.jsxs("p",{className:"wc-view-modal-subtitle",children:["Barcode: ",r.barcode]})]})]}),e.jsx("button",{className:"wc-view-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wc-view-modal-body",children:e.jsxs("div",{className:"wc-view-detail-grid",children:[e.jsxs("div",{className:"wc-view-detail-column",children:[e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"COLLECTION DATE"}),e.jsx("span",{className:"wc-view-detail-value",children:a(r.collectionDate)})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"HCF"}),e.jsx("span",{className:"wc-view-detail-value",children:r.hcfCode})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"WASTE COLOR"}),e.jsxs("div",{className:`wc-view-color-badge ${i(r.wasteColor)}`,children:[e.jsx("span",{className:"wc-view-color-swatch"}),e.jsx("span",{className:"wc-view-color-text",children:r.wasteColor.toUpperCase()})]})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"STATUS"}),e.jsx("span",{className:`wc-view-status-badge ${s(r.status)}`,children:r.status==="Collected"?"COLLECTED":r.status==="Processed"?"VERIFIED":r.status==="Disposed"?"REJECTED":r.status.toUpperCase()})]})]}),e.jsxs("div",{className:"wc-view-detail-column",children:[e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"BARCODE"}),e.jsx("span",{className:"wc-view-detail-value",children:r.barcode})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"COMPANY"}),e.jsx("span",{className:"wc-view-detail-value",children:r.companyName})]}),e.jsxs("div",{className:"wc-view-detail-item",children:[e.jsx("label",{className:"wc-view-detail-label",children:"WEIGHT"}),e.jsx("span",{className:"wc-view-detail-value",children:r.weightKg!=null&&!isNaN(Number(r.weightKg))?`${Number(r.weightKg).toFixed(2)} kg`:"Not recorded"})]})]})]})}),e.jsxs("div",{className:"wc-view-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-view-btn wc-view-btn--close",onClick:t,children:"Close"}),(r.status==="Collected"||r.status==="Pending")&&e.jsx("button",{type:"button",className:"wc-view-btn wc-view-btn--verify",onClick:c,children:"Verify Collection"})]})]})})},Kre=({filterDate:r,filterStatus:t,filterColor:n,onFilterDateChange:a,onFilterStatusChange:s,onFilterColorChange:i,onClearFilters:c,onApplyFilters:o,onClose:d})=>{const l=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const h=r.split("-");if(h.length===3){const[f,A,g]=h;return`${g}-${A}-${f}`}}return r},u=h=>{const f=h.target.value;a(f||"")};return e.jsx("div",{className:"wc-filter-modal-overlay",onClick:d,children:e.jsxs("div",{className:"wc-filter-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"wc-filter-modal-header",children:[e.jsxs("div",{className:"wc-filter-modal-title-wrap",children:[e.jsx("h2",{className:"wc-filter-modal-title",children:"Advanced Filters"}),e.jsx("p",{className:"wc-filter-modal-subtitle",children:"Refine results by multiple criteria"})]}),e.jsx("button",{className:"wc-filter-modal-close",onClick:d,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"wc-filter-modal-body",children:[e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"COLLECTION DATE"}),e.jsxs("div",{className:"wc-filter-date-wrapper",children:[e.jsxs("svg",{className:"wc-filter-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{type:"date",value:l(),onChange:u,className:"wc-filter-date-input"})]})]}),e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"STATUS"}),e.jsxs("div",{className:"wc-filter-select-wrapper",children:[e.jsxs("select",{value:t,onChange:h=>s(h.target.value),className:"wc-filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Collected",children:"Collected"}),e.jsx("option",{value:"In Transit",children:"In Transit"}),e.jsx("option",{value:"Processed",children:"Processed"}),e.jsx("option",{value:"Disposed",children:"Disposed"})]}),e.jsx("svg",{className:"wc-filter-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wc-filter-form-group",children:[e.jsx("label",{className:"wc-filter-label",children:"COLOR"}),e.jsxs("div",{className:"wc-filter-select-wrapper",children:[e.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"wc-filter-select",children:[e.jsx("option",{value:"all",children:"All Colors"}),e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"}),e.jsx("option",{value:"Blue",children:"Blue"}),e.jsx("option",{value:"Black",children:"Black"})]}),e.jsx("svg",{className:"wc-filter-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]}),e.jsxs("div",{className:"wc-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-filter-clear-btn",onClick:c,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"wc-filter-apply-btn",onClick:o,children:"Apply Filters"})]})]})})},qre=({collection:r,onClose:t,onUpdate:n,loading:a})=>{const[s,i]=C.useState({weightKg:r.weightKg!=null&&!isNaN(Number(r.weightKg))?Number(r.weightKg):0}),c=d=>{const l=new Date(d),u=String(l.getDate()).padStart(2,"0"),h=String(l.getMonth()+1).padStart(2,"0"),f=l.getFullYear();return`${u}/${h}/${f}`},o=d=>{d.preventDefault(),!(s.weightKg<=0)&&n(s)};return e.jsx("div",{className:"wc-edit-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-edit-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"wc-edit-modal-header",children:[e.jsx("h2",{className:"wc-edit-modal-title",children:"Edit Waste Collection"}),e.jsx("button",{className:"wc-edit-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wc-edit-form",onSubmit:o,children:[e.jsxs("div",{className:"wc-edit-form-section",children:[e.jsx("h3",{className:"wc-edit-section-title",children:"BARCODE INFORMATION"}),e.jsxs("div",{className:"wc-edit-form-grid",children:[e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Barcode"}),e.jsx("input",{type:"text",value:r.barcode,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Collection Date"}),e.jsx("input",{type:"text",value:c(r.collectionDate),disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Company"}),e.jsx("input",{type:"text",value:r.companyName,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"HCF"}),e.jsx("input",{type:"text",value:r.hcfCode,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]}),e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsx("label",{className:"wc-edit-label",children:"Waste Color"}),e.jsx("input",{type:"text",value:r.wasteColor,disabled:!0,className:"wc-edit-input wc-edit-input--readonly"})]})]})]}),e.jsxs("div",{className:"wc-edit-form-section",children:[e.jsx("h3",{className:"wc-edit-section-title",children:"COLLECTION DETAILS"}),e.jsx("div",{className:"wc-edit-form-grid",children:e.jsxs("div",{className:"wc-edit-form-group",children:[e.jsxs("label",{className:"wc-edit-label",children:["Weight (Kg) ",e.jsx("span",{className:"wc-edit-required",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:s.weightKg||"",onChange:d=>i({...s,weightKg:parseFloat(d.target.value)||0}),required:!0,className:"wc-edit-input",placeholder:"Enter weight"})]})})]}),e.jsxs("div",{className:"wc-edit-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-edit-btn wc-edit-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wc-edit-btn wc-edit-btn--update",disabled:a,children:a?"Updating...":"Update Collection"})]})]})]})})},Xre=({collection:r,onClose:t,onConfirm:n,loading:a})=>e.jsx("div",{className:"wc-delete-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wc-delete-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"wc-delete-modal-header",children:[e.jsxs("div",{className:"wc-delete-header-left",children:[e.jsx("div",{className:"wc-delete-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),e.jsx("h2",{className:"wc-delete-modal-title",children:"Delete Waste Collection"})]}),e.jsx("button",{className:"wc-delete-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wc-delete-modal-body",children:e.jsxs("p",{className:"wc-delete-message",children:["Are you sure you want to delete the collection record for barcode ",e.jsx("strong",{children:r.barcode}),"?"]})}),e.jsxs("div",{className:"wc-delete-modal-footer",children:[e.jsx("button",{type:"button",className:"wc-delete-btn wc-delete-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"button",className:"wc-delete-btn wc-delete-btn--delete",onClick:n,disabled:a,children:a?"Deleting...":"Delete Collection"})]})]})}),Yre="http://localhost:3000/api/v1",Jre=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},HA=async(r,t={})=>{const n=Jre(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Yre}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Fp={createTransaction:async r=>(await HA("/waste-transactions",{method:"POST",body:JSON.stringify(r)})).data,getTransactionById:async r=>(await HA(`/waste-transactions/${r}`,{method:"GET"})).data,getAllTransactions:async(r,t,n,a,s)=>{let i="/waste-transactions";const c=new URLSearchParams;return r&&c.append("companyId",r),t&&c.append("hcfId",t),n&&c.append("startDate",n),a&&c.append("endDate",a),s&&c.append("status",s),c.toString()&&(i+=`?${c.toString()}`),(await HA(i,{method:"GET"})).data},updateTransaction:async(r,t)=>(await HA(`/waste-transactions/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitTransaction:async r=>(await HA(`/waste-transactions/${r}/submit`,{method:"PATCH"})).data,verifyTransaction:async r=>(await HA(`/waste-transactions/${r}/verify`,{method:"PATCH"})).data,deleteTransaction:async r=>{await HA(`/waste-transactions/${r}`,{method:"DELETE"})}},Zre=()=>{var tt;const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(!1),[j,S]=C.useState(null),[w,E]=C.useState(null),[I,L]=C.useState(!1),[Z,ne]=C.useState(null),[G,le]=C.useState(""),[V,me]=C.useState("all"),[$,X]=C.useState([]),[Ce,M]=C.useState([]),[q,ie]=C.useState([]),[J,D]=C.useState([]),[ce,te]=C.useState({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null}),ge=C.useCallback(async()=>{try{const Le=await ia.getAllCompanies(void 0,!0);X(Le)}catch(Le){console.error("Failed to load companies:",Le),S("Failed to load companies")}},[]),pe=C.useCallback(async()=>{try{const Le=await xi.getAllHcfs(void 0,!0);M(Le)}catch(Le){console.error("Failed to load HCFs:",Le),S("Failed to load HCFs")}},[]),be=C.useCallback(async()=>{b(!0),S(null);try{const Le=i,lt=i,$t=await Fp.getAllTransactions(void 0,void 0,Le,lt,o!=="all"?o:void 0),Ue=await Promise.all($t.map(async yt=>{const Tt=$.find(_t=>_t.id===yt.companyId);let Zt="",Mr="";try{const _t=await xi.getHcfById(yt.hcfId);Zt=_t.hcfName,Mr=_t.hcfCode}catch(_t){console.error("Error loading HCF:",_t)}return{id:yt.id,companyId:yt.companyId,companyName:(Tt==null?void 0:Tt.companyName)||"Unknown",hcfId:yt.hcfId,hcfCode:Mr,hcfName:Zt,pickupDate:yt.pickupDate,isNilPickup:yt.isNilPickup,yellowBagCount:yt.yellowBagCount,redBagCount:yt.redBagCount,whiteBagCount:yt.whiteBagCount,yellowWeightKg:yt.yellowWeightKg,redWeightKg:yt.redWeightKg,whiteWeightKg:yt.whiteWeightKg,latitude:yt.latitude,longitude:yt.longitude,segregationQuality:yt.segregationQuality,status:yt.status,notes:yt.notes,createdOn:yt.createdOn}}));D(Ue)}catch(Le){const lt=Le instanceof Error?Le.message:"Failed to load transactions";S(lt),console.error("Error loading transactions:",Le)}finally{b(!1)}},[i,o,$]);C.useEffect(()=>{if(ce.companyId){const Le=Ce.filter(lt=>lt.companyId===ce.companyId);ie(Le),ce.hcfId&&!Le.find(lt=>lt.id===ce.hcfId)&&te(lt=>({...lt,hcfId:""}))}else ie([]),te(Le=>({...Le,hcfId:""}))},[ce.companyId,Ce]),C.useEffect(()=>{ge(),pe()},[ge,pe]),C.useEffect(()=>{$.length>0&&be()},[i,o,$,be]);const re=C.useCallback(()=>{if(!navigator.geolocation){ne("Geolocation is not supported by your browser");return}L(!0),ne(null),navigator.geolocation.getCurrentPosition(Le=>{te(lt=>({...lt,latitude:Le.coords.latitude,longitude:Le.coords.longitude})),L(!1),E("GPS location captured successfully"),setTimeout(()=>E(null),3e3)},Le=>{ne(`Failed to get GPS location: ${Le.message}`),L(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),de=async Le=>{if(Le.preventDefault(),!ce.companyId||!ce.hcfId||!ce.pickupDate){S("Please fill in all required fields");return}if(!ce.isNilPickup&&ce.yellowBagCount===0&&ce.redBagCount===0&&ce.whiteBagCount===0){S("Please enter at least one bag count or select NIL pickup");return}try{if(b(!0),S(null),ce.editingId){const lt=Ue=>{if(Ue==null)return null;const yt=Number(Ue);return isNaN(yt)?null:yt},$t={pickupDate:ce.pickupDate,isNilPickup:ce.isNilPickup,yellowBagCount:ce.yellowBagCount,redBagCount:ce.redBagCount,whiteBagCount:ce.whiteBagCount,yellowWeightKg:lt(ce.yellowWeightKg),redWeightKg:lt(ce.redWeightKg),whiteWeightKg:lt(ce.whiteWeightKg),latitude:lt(ce.latitude),longitude:lt(ce.longitude),segregationQuality:ce.segregationQuality,notes:ce.notes};await Fp.updateTransaction(ce.editingId,$t),E("Transaction updated successfully")}else{const lt=Ue=>{if(Ue==null)return null;const yt=Number(Ue);return isNaN(yt)?null:yt},$t={companyId:ce.companyId,hcfId:ce.hcfId,pickupDate:ce.pickupDate,isNilPickup:ce.isNilPickup,yellowBagCount:ce.yellowBagCount,redBagCount:ce.redBagCount,whiteBagCount:ce.whiteBagCount,yellowWeightKg:lt(ce.yellowWeightKg),redWeightKg:lt(ce.redWeightKg),whiteWeightKg:lt(ce.whiteWeightKg),latitude:lt(ce.latitude),longitude:lt(ce.longitude),segregationQuality:ce.segregationQuality,notes:ce.notes};await Fp.createTransaction($t),E("Transaction created successfully")}await be(),u(!1),ye(),setTimeout(()=>E(null),3e3)}catch(lt){const $t=lt instanceof Error?lt.message:"Failed to save transaction";S($t),console.error("Error saving transaction:",lt)}finally{b(!1)}},Y=async(Le,lt)=>{try{b(!0),S(null),lt==="submit"?(await Fp.submitTransaction(Le),E("Transaction submitted successfully")):(await Fp.verifyTransaction(Le),E("Transaction verified successfully")),await be(),f(!1),setTimeout(()=>E(null),3e3)}catch($t){const Ue=$t instanceof Error?$t.message:"Failed to update status";S(Ue),console.error("Error updating status:",$t)}finally{b(!1)}},Ae=async Le=>{if(confirm("Are you sure you want to delete this transaction?"))try{b(!0),S(null),await Fp.deleteTransaction(Le),E("Transaction deleted successfully"),await be(),f(!1),setTimeout(()=>E(null),3e3)}catch(lt){const $t=lt instanceof Error?lt.message:"Failed to delete transaction";S($t),console.error("Error deleting transaction:",lt)}finally{b(!1)}},ye=()=>{te({companyId:"",hcfId:"",pickupDate:new Date().toISOString().split("T")[0],isNilPickup:!1,yellowBagCount:0,redBagCount:0,whiteBagCount:0,yellowWeightKg:null,redWeightKg:null,whiteWeightKg:null,latitude:null,longitude:null,segregationQuality:null,notes:null})},Oe=Le=>{if(Le.status!=="Draft"){S("Only draft transactions can be edited");return}te({companyId:Le.companyId,hcfId:Le.hcfId,pickupDate:Le.pickupDate.split("T")[0],isNilPickup:Le.isNilPickup,yellowBagCount:Le.yellowBagCount,redBagCount:Le.redBagCount,whiteBagCount:Le.whiteBagCount,yellowWeightKg:Le.yellowWeightKg,redWeightKg:Le.redWeightKg,whiteWeightKg:Le.whiteWeightKg,latitude:Le.latitude,longitude:Le.longitude,segregationQuality:Le.segregationQuality,notes:Le.notes,editingId:Le.id}),u(!0)},We=Le=>{x(Le),f(!0)},ae=Le=>{const lt=new Date(Le),$t=String(lt.getDate()).padStart(2,"0"),Ue=String(lt.getMonth()+1).padStart(2,"0"),yt=lt.getFullYear();return`${$t}/${Ue}/${yt}`},ke=J.filter(Le=>{if(!a.trim())return!0;const lt=a.toLowerCase().trim();return Le.companyName.toLowerCase().includes(lt)||Le.hcfName.toLowerCase().includes(lt)||Le.hcfCode.toLowerCase().includes(lt)}),Fe=!ce.editingId||((tt=J.find(Le=>Le.id===ce.editingId))==null?void 0:tt.status)==="Draft",nt=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:nt.map(Le=>e.jsx("li",{children:e.jsxs(Rr,{to:Le.path,className:`nav-link ${Le.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Le.icon}),e.jsx("span",{className:"nav-label",children:Le.label})]})},Le.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Waste Transaction Data",subtitle:"Manage waste transaction records"}),w&&e.jsxs("div",{style:{padding:"12px 16px",background:"#d4edda",color:"#155724",marginBottom:"16px",borderRadius:"6px",border:"1px solid #c3e6cb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),style:{background:"none",border:"none",color:"#155724",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close success message",children:""})]}),j&&e.jsxs("div",{style:{padding:"12px 16px",background:"#fee",color:"#c33",marginBottom:"16px",borderRadius:"6px",border:"1px solid #fcc",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#c33",cursor:"pointer",fontSize:"18px",padding:"0 8px",lineHeight:"1"},"aria-label":"Close error message",children:""})]}),y&&!J.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading transactions..."}),e.jsxs("div",{className:"waste-transaction-page",children:[e.jsxs("div",{className:"waste-transaction-header",children:[e.jsx("div",{className:"waste-transaction-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"}),e.jsx("line",{x1:"8",y1:"4",x2:"8",y2:"24"})]})}),e.jsx("h1",{className:"waste-transaction-title",children:"Waste Transaction Data"})]}),e.jsxs("div",{className:"waste-transaction-search-actions",children:[e.jsxs("div",{className:"waste-transaction-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by company, HCF, code...",value:a,onChange:Le=>s(Le.target.value),className:"waste-transaction-search-input"})]}),e.jsxs("div",{className:"waste-transaction-actions",children:[e.jsxs("button",{className:"waste-transaction-filter-btn",onClick:()=>g(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"waste-transaction-add-btn",onClick:()=>{ye(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Transaction"]})]})]}),e.jsx("div",{className:"waste-transaction-table-container",children:e.jsxs("table",{className:"waste-transaction-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"NIL"}),e.jsx("th",{children:"YELLOW"}),e.jsx("th",{children:"RED"}),e.jsx("th",{children:"WHITE"}),e.jsx("th",{children:"TOTAL WEIGHT"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ke.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"empty-message",children:y?"Loading...":"No transactions found for the selected date"})}):ke.map(Le=>{const lt=(Number(Le.yellowWeightKg)||0)+(Number(Le.redWeightKg)||0)+(Number(Le.whiteWeightKg)||0);return e.jsxs("tr",{children:[e.jsx("td",{children:ae(Le.pickupDate)}),e.jsx("td",{children:Le.companyName}),e.jsx("td",{children:e.jsxs("div",{className:"wt-hcf-info",children:[e.jsx("span",{className:"wt-hcf-code",children:Le.hcfCode}),e.jsx("span",{className:"wt-hcf-number",children:Le.id.slice(-3)})]})}),e.jsx("td",{children:Le.isNilPickup?e.jsx("span",{className:"wt-nil-badge",children:"NIL"}):e.jsx("span",{className:"wt-yes-badge",children:"Yes"})}),e.jsx("td",{children:Le.yellowBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--yellow"}),e.jsxs("span",{className:"wt-bag-text",children:[Le.yellowBagCount,Le.yellowWeightKg&&` (${Number(Le.yellowWeightKg).toFixed(2)}kg)`]})]}):"-"}),e.jsx("td",{children:Le.redBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--red"}),e.jsxs("span",{className:"wt-bag-text",children:[Le.redBagCount,Le.redWeightKg&&` (${Number(Le.redWeightKg).toFixed(2)}kg)`]})]}):"-"}),e.jsx("td",{children:Le.whiteBagCount>0?e.jsxs("div",{className:"wt-bag-info",children:[e.jsx("span",{className:"wt-color-circle wt-color-circle--white"}),e.jsx("span",{className:"wt-bag-text",children:Le.whiteBagCount})]}):"-"}),e.jsx("td",{children:lt>0?`${Number(lt).toFixed(2)} kg`:"-"}),e.jsx("td",{children:e.jsx("span",{className:`wt-status-badge wt-status-badge--${Le.status.toLowerCase()}`,children:Le.status})}),e.jsx("td",{children:e.jsxs("div",{className:"wt-action-buttons",children:[e.jsx("button",{className:"wt-action-btn wt-action-btn--view",onClick:()=>We(Le),title:"View Details",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Le.status==="Draft"&&e.jsx("button",{className:"wt-action-btn wt-action-btn--edit",onClick:()=>Oe(Le),title:"Edit",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})})]},Le.id)})})]})}),e.jsxs("div",{className:"waste-transaction-pagination-info",children:["Showing ",ke.length," of ",J.length," items"]})]})]}),A&&e.jsx(ene,{filterDate:G,filterStatus:V,onFilterDateChange:le,onFilterStatusChange:me,onClearFilters:()=>{le(""),me("all")},onApplyFilters:()=>{G&&c(G),d(V),g(!1)},onClose:()=>g(!1)}),l&&e.jsx("div",{className:"wt-form-modal-overlay",onClick:()=>{u(!1),ye()},children:e.jsxs("div",{className:"wt-form-modal",onClick:Le=>Le.stopPropagation(),children:[e.jsxs("div",{className:"wt-form-modal-header",children:[e.jsxs("div",{className:"wt-form-header-left",children:[e.jsx("div",{className:"wt-form-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wt-form-modal-title",children:ce.editingId?"Edit Transaction":"Add Waste Transaction"})]}),e.jsx("button",{className:"wt-form-modal-close",onClick:()=>{u(!1),ye()},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"wt-form-modal-form",onSubmit:de,children:[e.jsxs("div",{className:"wt-form-body",children:[e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["Company ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsxs("select",{className:"wt-form-select",value:ce.companyId,onChange:Le=>te({...ce,companyId:Le.target.value,hcfId:""}),required:!0,disabled:!Fe,children:[e.jsx("option",{value:"",children:"Select Company"}),$.map(Le=>e.jsxs("option",{value:Le.id,children:[Le.companyCode," - ",Le.companyName]},Le.id))]})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["HCF ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsxs("select",{className:"wt-form-input wt-form-input--hcf",value:ce.hcfId,onChange:Le=>te({...ce,hcfId:Le.target.value}),required:!0,disabled:!ce.companyId||!Fe,children:[e.jsx("option",{value:"",children:"e.g., SET12"}),q.map(Le=>e.jsx("option",{value:Le.id,children:Le.hcfCode},Le.id))]})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsxs("label",{className:"wt-form-label",children:["Pickup Date ",e.jsx("span",{className:"wt-required",children:"*"})]}),e.jsx("input",{type:"date",className:"wt-form-input",value:ce.pickupDate,onChange:Le=>te({...ce,pickupDate:Le.target.value}),required:!0,disabled:!Fe})]})]}),e.jsx("div",{className:"wt-form-row",children:e.jsx("div",{className:"wt-form-group",children:e.jsxs("label",{className:"wt-form-checkbox-label",children:[e.jsx("input",{type:"checkbox",className:"wt-form-checkbox",checked:ce.isNilPickup,onChange:Le=>te({...ce,isNilPickup:Le.target.checked}),disabled:!Fe}),e.jsx("span",{children:"NIL Pickup"})]})})}),e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Latitude"}),e.jsx("input",{type:"number",step:"any",className:"wt-form-input",value:ce.latitude||"",onChange:Le=>te({...ce,latitude:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"28.7041",disabled:!Fe})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Longitude"}),e.jsx("input",{type:"number",step:"any",className:"wt-form-input",value:ce.longitude||"",onChange:Le=>te({...ce,longitude:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"77.1025",disabled:!Fe})]}),e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:""}),e.jsx("button",{type:"button",className:"wt-form-gps-btn",onClick:re,disabled:!Fe||I,children:I?"Capturing...":"Capture GPS"}),Z&&e.jsx("div",{className:"wt-form-error",children:Z})]})]}),!ce.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"wt-form-row",children:[e.jsxs("div",{className:"wt-color-group wt-color-group--yellow",children:[e.jsx("h4",{className:"wt-color-title",children:"Yellow Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ce.yellowBagCount||0,onChange:Le=>te({...ce,yellowBagCount:parseInt(Le.target.value)||0}),disabled:!Fe})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ce.yellowWeightKg||"",onChange:Le=>te({...ce,yellowWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!Fe})]})]})]}),e.jsxs("div",{className:"wt-color-group wt-color-group--red",children:[e.jsx("h4",{className:"wt-color-title",children:"Red Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ce.redBagCount||0,onChange:Le=>te({...ce,redBagCount:parseInt(Le.target.value)||0}),disabled:!Fe})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ce.redWeightKg||"",onChange:Le=>te({...ce,redWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!Fe})]})]})]}),e.jsxs("div",{className:"wt-color-group wt-color-group--white",children:[e.jsx("h4",{className:"wt-color-title",children:"White Bags"}),e.jsxs("div",{className:"wt-color-inputs",children:[e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Count"}),e.jsx("input",{type:"number",min:"0",className:"wt-color-input",value:ce.whiteBagCount||0,onChange:Le=>te({...ce,whiteBagCount:parseInt(Le.target.value)||0}),disabled:!Fe})]}),e.jsxs("div",{className:"wt-color-input-group",children:[e.jsx("label",{className:"wt-color-label",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"wt-color-input",value:ce.whiteWeightKg||"",onChange:Le=>te({...ce,whiteWeightKg:Le.target.value?parseFloat(Le.target.value):null}),placeholder:"0.00",disabled:!Fe})]})]})]})]}),e.jsx("div",{className:"wt-form-row",children:e.jsxs("div",{className:"wt-form-group",children:[e.jsx("label",{className:"wt-form-label",children:"Quality"}),e.jsxs("select",{className:"wt-form-select",value:ce.segregationQuality||"",onChange:Le=>te({...ce,segregationQuality:Le.target.value||null}),disabled:!Fe,children:[e.jsx("option",{value:"",children:"Select Quality"}),e.jsx("option",{value:"Excellent",children:"Excellent"}),e.jsx("option",{value:"Good",children:"Good"}),e.jsx("option",{value:"Fair",children:"Fair"}),e.jsx("option",{value:"Poor",children:"Poor"})]})]})})]}),e.jsx("div",{className:"wt-form-row",children:e.jsxs("div",{className:"wt-form-group wt-form-group--full",children:[e.jsx("label",{className:"wt-form-label",children:"Notes"}),e.jsx("textarea",{className:"wt-form-textarea",value:ce.notes||"",onChange:Le=>te({...ce,notes:Le.target.value||null}),placeholder:"Additional notes or remarks...",rows:3,disabled:!Fe})]})})]}),e.jsxs("div",{className:"wt-form-modal-footer",children:[e.jsx("button",{type:"button",className:"wt-form-btn wt-form-btn--cancel",onClick:()=>{u(!1),ye()},disabled:y,children:"Cancel"}),Fe&&e.jsx("button",{type:"submit",className:"wt-form-btn wt-form-btn--create",disabled:y,children:y?"Saving...":ce.editingId?"Update":"Create"})]})]})]})}),h&&m&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:Le=>Le.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Transaction Details"}),e.jsx("button",{className:"modal-close-btn",onClick:()=>f(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"transaction-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Basic Information"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:new Date(m.pickupDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:m.companyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"HCF"}),e.jsxs("span",{children:[m.hcfCode," - ",m.hcfName]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`badge badge--${m.status.toLowerCase()}`,children:m.status})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"NIL Pickup"}),e.jsx("span",{children:m.isNilPickup?"Yes":"No"})]})]})]}),!m.isNilPickup&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Bag Counts & Weights"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Yellow Bags"}),e.jsxs("span",{children:[m.yellowBagCount," bags",m.yellowWeightKg&&` (${m.yellowWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Red Bags"}),e.jsxs("span",{children:[m.redBagCount," bags",m.redWeightKg&&` (${m.redWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"White Bags"}),e.jsxs("span",{children:[m.whiteBagCount," bags",m.whiteWeightKg&&` (${m.whiteWeightKg} kg)`]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Total Weight"}),e.jsxs("span",{children:[Number((Number(m.yellowWeightKg)||0)+(Number(m.redWeightKg)||0)+(Number(m.whiteWeightKg)||0)).toFixed(2)," kg"]})]}),m.segregationQuality&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Segregation Quality"}),e.jsx("span",{children:m.segregationQuality})]})]})]}),(m.latitude||m.longitude)&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"GPS Location"}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Latitude"}),e.jsx("span",{children:m.latitude})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Longitude"}),e.jsx("span",{children:m.longitude})]})]})]})]}),m.notes&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h3",{children:"Notes"}),e.jsx("p",{children:m.notes})]}),e.jsxs("div",{className:"modal-footer",children:[m.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn--secondary",onClick:()=>{Oe(m),f(!1)},children:"Edit"}),e.jsx("button",{className:"btn btn--primary",onClick:()=>Y(m.id,"submit"),disabled:y,children:"Submit"})]}),m.status==="Submitted"&&e.jsx("button",{className:"btn btn--primary",onClick:()=>Y(m.id,"verify"),disabled:y,children:"Verify"}),m.status==="Draft"&&e.jsx("button",{className:"btn btn--danger",onClick:()=>Ae(m.id),disabled:y,children:"Delete"}),e.jsx("button",{className:"btn btn--secondary",onClick:()=>f(!1),children:"Close"})]})]})]})})]})},ene=({filterDate:r,filterStatus:t,onFilterDateChange:n,onFilterStatusChange:a,onClearFilters:s,onApplyFilters:i,onClose:c})=>{const o=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const l=r.split("-");if(l.length===3){const[u,h,f]=l;return`${f}-${h}-${u}`}}return r},d=l=>{const u=l.target.value;n(u||"")};return e.jsx("div",{className:"wt-filter-modal-overlay",onClick:c,children:e.jsxs("div",{className:"wt-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"wt-filter-modal-header",children:[e.jsxs("div",{className:"wt-filter-header-left",children:[e.jsx("div",{className:"wt-filter-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsx("h2",{className:"wt-filter-modal-title",children:"Advanced Filter"})]}),e.jsx("button",{className:"wt-filter-modal-close",onClick:c,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"wt-filter-modal-body",children:[e.jsxs("div",{className:"wt-filter-form-group",children:[e.jsx("label",{className:"wt-filter-label",children:"Pickup Date"}),e.jsx("input",{type:"date",value:o(),onChange:d,className:"wt-filter-date-input"})]}),e.jsxs("div",{className:"wt-filter-form-group",children:[e.jsx("label",{className:"wt-filter-label",children:"Status"}),e.jsxs("select",{value:t,onChange:l=>a(l.target.value),className:"wt-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]})]}),e.jsxs("div",{className:"wt-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"wt-filter-btn-clear",onClick:s,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"wt-filter-btn-apply",onClick:i,children:"Apply Filters"})]})]})})},tne="http://localhost:3000/api/v1",rne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},QA=async(r,t={})=>{const n=rne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${tne}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},Pp={createCollection:async r=>(await QA("/vehicle-waste-collections",{method:"POST",body:JSON.stringify(r)})).data,getCollectionById:async r=>(await QA(`/vehicle-waste-collections/${r}`,{method:"GET"})).data,getAllCollections:async(r,t,n,a)=>{let s="/vehicle-waste-collections";const i=new URLSearchParams;return r&&i.append("vehicleId",r),t&&i.append("startDate",t),n&&i.append("endDate",n),a&&i.append("status",a),i.toString()&&(s+=`?${i.toString()}`),(await QA(s,{method:"GET"})).data},updateCollection:async(r,t)=>(await QA(`/vehicle-waste-collections/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitCollection:async r=>(await QA(`/vehicle-waste-collections/${r}/submit`,{method:"PUT"})).data,verifyCollection:async r=>(await QA(`/vehicle-waste-collections/${r}/verify`,{method:"PUT"})).data,deleteCollection:async r=>{await QA(`/vehicle-waste-collections/${r}`,{method:"DELETE"})}},nne=()=>{var re,de;const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(!1),[j,S]=C.useState(null),[w,E]=C.useState(null),[I,L]=C.useState(""),[Z,ne]=C.useState("all"),[G,le]=C.useState([]),[V,me]=C.useState([]),[$,X]=C.useState({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null}),Ce=C.useCallback(async()=>{try{const Y=await Ph.getAllFleets(void 0,!0);le(Y)}catch(Y){console.error("Failed to load vehicles:",Y),S("Failed to load vehicles")}},[]),M=C.useCallback(async()=>{b(!0),S(null);try{const Y=i,Ae=i,Oe=(await Pp.getAllCollections(void 0,Y,Ae,o!=="all"?o:void 0)).map(We=>{const ae=G.find(ke=>ke.id===We.vehicleId);return{id:We.id,vehicleId:We.vehicleId,vehicleNum:(ae==null?void 0:ae.vehicleNum)||"Unknown",collectionDate:We.collectionDate,grossWeightKg:Number(We.grossWeightKg)||0,tareWeightKg:Number(We.tareWeightKg)||0,netWeightKg:Number(We.netWeightKg)||0,incinerationWeightKg:Number(We.incinerationWeightKg)||0,autoclaveWeightKg:Number(We.autoclaveWeightKg)||0,vehicleKm:We.vehicleKm!==null&&We.vehicleKm!==void 0?Number(We.vehicleKm):null,fuelUsageLiters:We.fuelUsageLiters!==null&&We.fuelUsageLiters!==void 0?Number(We.fuelUsageLiters):null,status:We.status,notes:We.notes,createdOn:We.createdOn}});me(Oe)}catch(Y){const Ae=Y instanceof Error?Y.message:"Failed to load collections";S(Ae),console.error("Error loading collections:",Y)}finally{b(!1)}},[i,o,G]);C.useEffect(()=>{Ce()},[Ce]),C.useEffect(()=>{G.length>0&&M()},[i,o,G,M]),C.useEffect(()=>{const Y=$.grossWeightKg-$.tareWeightKg;Y>=0&&X(Ae=>({...Ae,netWeightKg:Y}))},[$.grossWeightKg,$.tareWeightKg]);const q=async Y=>{if(Y.preventDefault(),!$.vehicleId){S("Please select a vehicle");return}if($.grossWeightKg<$.tareWeightKg){S("Gross weight must be greater than or equal to tare weight");return}try{if(b(!0),S(null),$.editingId){const Ae={grossWeightKg:$.grossWeightKg,tareWeightKg:$.tareWeightKg,netWeightKg:$.netWeightKg,incinerationWeightKg:$.incinerationWeightKg,autoclaveWeightKg:$.autoclaveWeightKg,vehicleKm:$.vehicleKm!==null&&$.vehicleKm!==void 0?Number($.vehicleKm):null,fuelUsageLiters:$.fuelUsageLiters!==null&&$.fuelUsageLiters!==void 0?Number($.fuelUsageLiters):null,notes:$.notes};await Pp.updateCollection($.editingId,Ae),E("Collection updated successfully")}else{const Ae={vehicleId:$.vehicleId,collectionDate:$.collectionDate,grossWeightKg:Number($.grossWeightKg),tareWeightKg:Number($.tareWeightKg),netWeightKg:Number($.netWeightKg),incinerationWeightKg:Number($.incinerationWeightKg),autoclaveWeightKg:Number($.autoclaveWeightKg),vehicleKm:$.vehicleKm!==null&&$.vehicleKm!==void 0?Number($.vehicleKm):null,fuelUsageLiters:$.fuelUsageLiters!==null&&$.fuelUsageLiters!==void 0?Number($.fuelUsageLiters):null,notes:$.notes};await Pp.createCollection(Ae),E("Collection created successfully")}await M(),u(!1),te(),setTimeout(()=>E(null),3e3)}catch(Ae){const ye=Ae instanceof Error?Ae.message:"Failed to save collection";S(ye),console.error("Error saving collection:",Ae)}finally{b(!1)}},ie=async(Y,Ae)=>{try{b(!0),S(null),Ae==="submit"?(await Pp.submitCollection(Y),E("Collection submitted successfully")):(await Pp.verifyCollection(Y),E("Collection verified successfully")),await M(),setTimeout(()=>E(null),3e3)}catch(ye){const Oe=ye instanceof Error?ye.message:"Failed to update status";S(Oe),console.error("Error updating status:",ye)}finally{b(!1)}},J=async Y=>{if(window.confirm("Are you sure you want to delete this collection?"))try{b(!0),S(null),await Pp.deleteCollection(Y),E("Collection deleted successfully"),await M(),setTimeout(()=>E(null),3e3)}catch(Ae){const ye=Ae instanceof Error?Ae.message:"Failed to delete collection";S(ye),console.error("Error deleting collection:",Ae)}finally{b(!1)}},D=Y=>{X({vehicleId:Y.vehicleId,collectionDate:Y.collectionDate,grossWeightKg:Y.grossWeightKg,tareWeightKg:Y.tareWeightKg,netWeightKg:Y.netWeightKg,incinerationWeightKg:Y.incinerationWeightKg,autoclaveWeightKg:Y.autoclaveWeightKg,vehicleKm:Y.vehicleKm,fuelUsageLiters:Y.fuelUsageLiters,notes:Y.notes,editingId:Y.id,editingStatus:Y.status}),u(!0)},ce=Y=>{x(Y),f(!0)},te=()=>{X({vehicleId:"",collectionDate:new Date().toISOString().split("T")[0],grossWeightKg:0,tareWeightKg:0,netWeightKg:0,incinerationWeightKg:0,autoclaveWeightKg:0,vehicleKm:null,fuelUsageLiters:null,notes:null,editingId:void 0,editingStatus:void 0})},ge=V.filter(Y=>{if(a.trim()){const Ae=a.toLowerCase().trim();if(!Y.vehicleNum.toLowerCase().includes(Ae))return!1}return!0}),pe=Y=>{switch(Y){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";default:return"status-badge"}},be=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:be.map(Y=>e.jsx("li",{children:e.jsxs(Rr,{to:Y.path,className:`nav-link ${Y.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Y.icon}),e.jsx("span",{className:"nav-label",children:Y.label})]})},Y.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Vehicle Waste Collection",subtitle:"Manage vehicle waste collection records"}),w&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),"aria-label":"Close success message",children:""})]}),j&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:j}),e.jsx("button",{onClick:()=>S(null),"aria-label":"Close error message",children:""})]}),y&&!V.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading collections..."}),e.jsxs("div",{className:"vehicle-waste-collection-page",children:[e.jsxs("div",{className:"vwc-page-header",children:[e.jsx("div",{className:"vwc-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("div",{className:"vwc-header-text",children:e.jsx("h1",{className:"vwc-page-title",children:"Vehicle Waste Collection"})})]}),e.jsxs("div",{className:"vwc-search-actions",children:[e.jsxs("div",{className:"vwc-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by vehicle number...",value:a,onChange:Y=>s(Y.target.value),className:"vwc-search-input"})]}),e.jsxs("div",{className:"vwc-actions",children:[e.jsxs("button",{className:"vwc-filter-btn",onClick:()=>g(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"vwc-add-btn",onClick:()=>{te(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Collection"]})]})]}),e.jsx("div",{className:"vwc-table-container",children:e.jsxs("table",{className:"vwc-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"VEHICLE"}),e.jsx("th",{children:"GROSS WEIGHT (KG)"}),e.jsx("th",{children:"TARE WEIGHT (KG)"}),e.jsx("th",{children:"NET WEIGHT (KG)"}),e.jsx("th",{children:"INCINERATION (KG)"}),e.jsx("th",{children:"AUTOCLAVE (KG)"}),e.jsx("th",{children:"KM"}),e.jsx("th",{children:"FUEL (L)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ge.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"vwc-empty-message",children:y?"Loading...":"No collections found for the selected date"})}):ge.map(Y=>{var ye,Oe;const Ae=We=>{const ae=new Date(We),ke=String(ae.getDate()).padStart(2,"0"),Fe=String(ae.getMonth()+1).padStart(2,"0"),nt=ae.getFullYear();return`${ke}/${Fe}/${nt}`};return e.jsxs("tr",{children:[e.jsx("td",{children:Ae(Y.collectionDate)}),e.jsx("td",{children:Y.vehicleNum}),e.jsx("td",{children:Y.grossWeightKg.toFixed(2)}),e.jsx("td",{children:Y.tareWeightKg.toFixed(2)}),e.jsx("td",{children:Y.netWeightKg.toFixed(2)}),e.jsx("td",{children:Y.incinerationWeightKg.toFixed(2)}),e.jsx("td",{children:Y.autoclaveWeightKg.toFixed(2)}),e.jsx("td",{children:((ye=Y.vehicleKm)==null?void 0:ye.toFixed(2))||"-"}),e.jsx("td",{children:((Oe=Y.fuelUsageLiters)==null?void 0:Oe.toFixed(2))||"-"}),e.jsx("td",{children:e.jsx("span",{className:pe(Y.status),children:Y.status})}),e.jsx("td",{children:e.jsxs("span",{className:"action-icons",children:[e.jsx("span",{className:"action-icon",onClick:()=>ce(Y),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Y.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"action-icon",onClick:()=>D(Y),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("span",{className:"action-icon",onClick:()=>ie(Y.id,"submit"),title:"Submit",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("span",{className:"action-icon action-icon--danger",onClick:()=>J(Y.id),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),Y.status==="Submitted"&&e.jsx("span",{className:"action-icon",onClick:()=>ie(Y.id,"verify"),title:"Verify",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]})})]},Y.id)})})]})}),ge.length>0&&e.jsxs("div",{className:"vwc-table-footer",children:["Showing ",ge.length," of ",V.length," items"]})]})]}),A&&e.jsx(ane,{filterDate:I,filterStatus:Z,onFilterDateChange:L,onFilterStatusChange:ne,onClearFilters:()=>{L(""),ne("all")},onApplyFilters:()=>{I&&c(I),d(Z),g(!1)},onClose:()=>g(!1)}),l&&e.jsx("div",{className:"vwc-modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"vwc-modal-content",onClick:Y=>Y.stopPropagation(),children:[e.jsxs("div",{className:"vwc-modal-header",children:[e.jsxs("div",{className:"vwc-modal-header-left",children:[e.jsx("div",{className:"vwc-modal-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h2",{className:"vwc-modal-title",children:$.editingId?"Edit Collection":"Add Collection"})]}),e.jsx("button",{className:"vwc-modal-close",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"vwc-modal-body",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"vehicleId",className:"vwc-form-label",children:["Vehicle ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsxs("div",{className:"vwc-select-wrapper",children:[e.jsxs("select",{id:"vehicleId",className:"vwc-form-select",value:$.vehicleId,onChange:Y=>X({...$,vehicleId:Y.target.value}),required:!0,disabled:!!$.editingId,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),G.filter(Y=>Y.status==="Active").map(Y=>e.jsx("option",{value:Y.id,children:Y.vehicleNum},Y.id))]}),e.jsx("svg",{className:"vwc-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"collectionDate",className:"vwc-form-label",children:["Collection Date ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsxs("div",{className:"vwc-date-wrapper",children:[e.jsx("input",{id:"collectionDate",type:"date",className:"vwc-form-input vwc-date-input",value:$.collectionDate,onChange:Y=>X({...$,collectionDate:Y.target.value}),required:!0,disabled:!!$.editingId}),e.jsxs("svg",{className:"vwc-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})]})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"grossWeightKg",className:"vwc-form-label",children:["Gross Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"grossWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.grossWeightKg,onChange:Y=>X({...$,grossWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"tareWeightKg",className:"vwc-form-label",children:["Tare Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"tareWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.tareWeightKg,onChange:Y=>X({...$,tareWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"netWeightKg",className:"vwc-form-label",children:["Net Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"netWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input vwc-readonly-input",value:$.netWeightKg.toFixed(2),readOnly:!0}),e.jsx("small",{className:"vwc-helper-text",children:"Auto-calculated: Gross - Tare"})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"incinerationWeightKg",className:"vwc-form-label",children:["Incineration Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.incinerationWeightKg,onChange:Y=>X({...$,incinerationWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsxs("label",{htmlFor:"autoclaveWeightKg",className:"vwc-form-label",children:["Autoclave Weight (kg) ",e.jsx("span",{className:"vwc-required",children:"*"})]}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.autoclaveWeightKg,onChange:Y=>X({...$,autoclaveWeightKg:parseFloat(Y.target.value)||0}),required:!0,disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-row",children:[e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"vehicleKm",className:"vwc-form-label",children:"Vehicle KM"}),e.jsx("input",{id:"vehicleKm",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.vehicleKm||"",onChange:Y=>X({...$,vehicleKm:Y.target.value?parseFloat(Y.target.value):null}),disabled:!!$.editingId&&$.editingStatus!=="Draft"})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"fuelUsageLiters",className:"vwc-form-label",children:"Fuel Usage (Liters)"}),e.jsx("input",{id:"fuelUsageLiters",type:"number",step:"0.01",min:"0",className:"vwc-form-input",value:$.fuelUsageLiters||"",onChange:Y=>X({...$,fuelUsageLiters:Y.target.value?parseFloat(Y.target.value):null}),disabled:!!$.editingId&&$.editingStatus!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-form-group",children:[e.jsx("label",{htmlFor:"notes",className:"vwc-form-label",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,className:"vwc-form-textarea",value:$.notes||"",onChange:Y=>X({...$,notes:Y.target.value||null}),disabled:$.editingId&&$.status!=="Draft"})]})]}),e.jsxs("div",{className:"vwc-modal-footer",children:[e.jsx("button",{type:"button",className:"vwc-btn vwc-btn--cancel",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"vwc-btn vwc-btn--save",disabled:y,children:y?"Saving...":"Save"})]})]})]})}),h&&m&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content modal-content--large",onClick:Y=>Y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Collection Details"}),e.jsx("button",{className:"modal-close",onClick:()=>f(!1),children:""})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle:"}),e.jsx("span",{children:m.vehicleNum})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Collection Date:"}),e.jsx("span",{children:new Date(m.collectionDate).toLocaleDateString()})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Gross Weight:"}),e.jsxs("span",{children:[m.grossWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Tare Weight:"}),e.jsxs("span",{children:[m.tareWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Net Weight:"}),e.jsxs("span",{children:[m.netWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Incineration Weight:"}),e.jsxs("span",{children:[m.incinerationWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Autoclave Weight:"}),e.jsxs("span",{children:[m.autoclaveWeightKg.toFixed(2)," kg"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Vehicle KM:"}),e.jsx("span",{children:((re=m.vehicleKm)==null?void 0:re.toFixed(2))||"-"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Fuel Usage:"}),e.jsxs("span",{children:[((de=m.fuelUsageLiters)==null?void 0:de.toFixed(2))||"-"," L"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:pe(m.status),children:m.status})]}),m.notes&&e.jsxs("div",{className:"detail-item detail-item--full",children:[e.jsx("label",{children:"Notes:"}),e.jsx("span",{children:m.notes})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})},ane=({filterDate:r,filterStatus:t,onFilterDateChange:n,onFilterStatusChange:a,onClearFilters:s,onApplyFilters:i,onClose:c})=>{const o=()=>{if(!r)return"";if(r.includes("-")&&r.length===10&&r.split("-")[0].length===4)return r;if(r.includes("-")&&r.split("-")[0].length===2){const l=r.split("-");if(l.length===3){const[u,h,f]=l;return`${f}-${h}-${u}`}}return r},d=l=>{const u=l.target.value;n(u||"")};return e.jsx("div",{className:"vwc-filter-modal-overlay",onClick:c,children:e.jsxs("div",{className:"vwc-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"vwc-filter-modal-header",children:[e.jsxs("div",{className:"vwc-filter-header-left",children:[e.jsx("div",{className:"vwc-filter-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsx("h2",{className:"vwc-filter-modal-title",children:"Advanced Filter"})]}),e.jsx("button",{className:"vwc-filter-modal-close",onClick:c,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"vwc-filter-modal-body",children:[e.jsxs("div",{className:"vwc-filter-form-group",children:[e.jsx("label",{className:"vwc-filter-label",children:"Collection Date"}),e.jsx("input",{type:"date",value:o(),onChange:d,className:"vwc-filter-date-input"})]}),e.jsxs("div",{className:"vwc-filter-form-group",children:[e.jsx("label",{className:"vwc-filter-label",children:"Status"}),e.jsxs("select",{value:t,onChange:l=>a(l.target.value),className:"vwc-filter-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"})]})]})]}),e.jsxs("div",{className:"vwc-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"vwc-filter-btn-clear",onClick:s,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"vwc-filter-btn-apply",onClick:i,children:"Apply Filters"})]})]})})},sne="http://localhost:3000/api/v1",ine=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Jf=async(r,t={})=>{const n=ine(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${sne}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"&&(i=c.message):c.error&&(i=typeof c.error=="string"?c.error:c.error.message||JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},D0={createProcess:async r=>(await Jf("/waste-processes",{method:"POST",body:JSON.stringify(r)})).data,getProcessById:async r=>(await Jf(`/waste-processes/${r}`,{method:"GET"})).data,getAllProcesses:async(r,t,n,a)=>{let s="/waste-processes";const i=new URLSearchParams;return r&&i.append("companyId",r),t&&i.append("startDate",t),n&&i.append("endDate",n),a&&i.append("status",a),i.toString()&&(s+=`?${i.toString()}`),(await Jf(s,{method:"GET"})).data},updateProcess:async(r,t)=>(await Jf(`/waste-processes/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,submitProcess:async r=>(await Jf(`/waste-processes/${r}/submit`,{method:"PUT"})).data,verifyProcess:async r=>(await Jf(`/waste-processes/${r}/verify`,{method:"PUT"})).data,closeProcess:async r=>(await Jf(`/waste-processes/${r}/close`,{method:"PUT"})).data,deleteProcess:async r=>{await Jf(`/waste-processes/${r}`,{method:"DELETE"})}},one=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(new Date().toISOString().split("T")[0]),[o,d]=C.useState("all"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState(null),[Z,ne]=C.useState([]),[G,le]=C.useState([]),[V,me]=C.useState({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null}),$=C.useCallback(async()=>{try{const pe=await ia.getAllCompanies(void 0,!0);ne(pe)}catch(pe){console.error("Failed to load companies:",pe),E("Failed to load companies")}},[]),X=C.useCallback(async()=>{S(!0),E(null);try{const pe=i,be=i,de=(await D0.getAllProcesses(void 0,pe,be,o!=="all"?o:void 0)).map(Y=>{const Ae=Z.find(ye=>ye.id===Y.companyId);return{id:Y.id,companyId:Y.companyId,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",processDate:Y.processDate,incinerationWeightKg:Number(Y.incinerationWeightKg)||0,autoclaveWeightKg:Number(Y.autoclaveWeightKg)||0,status:Y.status,notes:Y.notes,createdOn:Y.createdOn}});le(de)}catch(pe){const be=pe instanceof Error?pe.message:"Failed to load processes";E(be),console.error("Error loading processes:",pe)}finally{S(!1)}},[i,o,Z]);C.useEffect(()=>{$()},[$]),C.useEffect(()=>{Z.length>0&&X()},[i,o,Z,X]);const Ce=async pe=>{if(pe.preventDefault(),!V.companyId){E("Please select a company");return}if(V.incinerationWeightKg<=0){E("Incineration weight must be greater than zero");return}if(V.autoclaveWeightKg<=0){E("Autoclave weight must be greater than zero");return}try{if(S(!0),E(null),V.editingId){const be={incinerationWeightKg:Number(V.incinerationWeightKg),autoclaveWeightKg:Number(V.autoclaveWeightKg),notes:V.notes};await D0.updateProcess(V.editingId,be),L("Process updated successfully")}else{const be={companyId:V.companyId,processDate:V.processDate,incinerationWeightKg:Number(V.incinerationWeightKg),autoclaveWeightKg:Number(V.autoclaveWeightKg),notes:V.notes};await D0.createProcess(be),L("Process created successfully")}await X(),u(!1),D(),setTimeout(()=>L(null),3e3)}catch(be){const re=be instanceof Error?be.message:"Failed to save process";E(re),console.error("Error saving process:",be)}finally{S(!1)}},M=pe=>{x(pe),g(!0)},q=async()=>{if(m)try{S(!0),E(null),await D0.deleteProcess(m.id),L("Process deleted successfully"),await X(),g(!1),x(null),setTimeout(()=>L(null),3e3)}catch(pe){const be=pe instanceof Error?pe.message:"Failed to delete process";E(be),console.error("Error deleting process:",pe)}finally{S(!1)}},ie=pe=>{me({companyId:pe.companyId,processDate:pe.processDate,incinerationWeightKg:pe.incinerationWeightKg,autoclaveWeightKg:pe.autoclaveWeightKg,notes:pe.notes,editingId:pe.id,editingStatus:pe.status}),u(!0)},J=pe=>{b(pe),f(!0)},D=()=>{me({companyId:"",processDate:new Date().toISOString().split("T")[0],incinerationWeightKg:0,autoclaveWeightKg:0,notes:null,editingId:void 0,editingStatus:void 0})},ce=G.filter(pe=>{if(a.trim()){const be=a.toLowerCase().trim();if(!pe.companyName.toLowerCase().includes(be))return!1}return!0}),te=pe=>{switch(pe){case"Draft":return"status-badge status-badge--draft";case"Submitted":return"status-badge status-badge--submitted";case"Verified":return"status-badge status-badge--verified";case"Closed":return"status-badge status-badge--closed";default:return"status-badge"}},ge=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:"dashboard-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ge.map(pe=>e.jsx("li",{children:e.jsxs(Rr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:pe.icon}),e.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Waste Processing",subtitle:"Manage waste processing records"}),I&&e.jsxs("div",{className:"success-banner",children:[e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>L(null),"aria-label":"Close success message",children:""})]}),w&&e.jsxs("div",{className:"error-banner",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>E(null),"aria-label":"Close error message",children:""})]}),j&&!G.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading processes..."}),e.jsxs("div",{className:"waste-process-page",children:[e.jsxs("div",{className:"wp-page-header",children:[e.jsx("div",{className:"wp-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]})}),e.jsx("h1",{className:"wp-page-title",children:"Waste Processing"})]}),e.jsxs("div",{className:"wp-filters-toolbar",children:[e.jsxs("div",{className:"wp-filter-group",children:[e.jsx("label",{htmlFor:"process-date",children:"Process Date"}),e.jsxs("div",{className:"wp-date-input-wrapper",children:[e.jsxs("svg",{className:"wp-date-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"process-date",type:"date",value:i,onChange:pe=>c(pe.target.value),className:"wp-date-input"})]})]}),e.jsxs("div",{className:"wp-filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("div",{className:"wp-select-wrapper",children:[e.jsxs("select",{id:"status-filter",value:o,onChange:pe=>d(pe.target.value),className:"wp-status-select",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Submitted",children:"Submitted"}),e.jsx("option",{value:"Verified",children:"Verified"}),e.jsx("option",{value:"Closed",children:"Closed"})]}),e.jsx("svg",{className:"wp-select-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-filter-group wp-filter-group--search",children:[e.jsx("label",{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"wp-search-box",children:[e.jsxs("svg",{className:"wp-search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{id:"search",type:"text",placeholder:"Search by company name...",value:a,onChange:pe=>s(pe.target.value),className:"wp-search-input"})]})]}),e.jsx("div",{className:"wp-filter-group wp-filter-group--action",children:e.jsxs("button",{className:"wp-add-process-btn",onClick:()=>{D(),u(!0)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Process"]})})]}),e.jsx("div",{className:"table-container",children:ce.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No processes found"})}):e.jsxs("table",{className:"wp-data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PROCESS DATE"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"INCINERATION WEIGHT (KG)"}),e.jsx("th",{children:"AUTOCLAVE WEIGHT (KG)"}),e.jsx("th",{children:"TOTAL WEIGHT (KG)"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ce.map(pe=>{const be=new Date(pe.processDate),re=`${String(be.getDate()).padStart(2,"0")}/${String(be.getMonth()+1).padStart(2,"0")}/${be.getFullYear()}`;return e.jsxs("tr",{children:[e.jsx("td",{children:re}),e.jsx("td",{children:pe.companyName}),e.jsx("td",{children:pe.incinerationWeightKg.toFixed(1)}),e.jsx("td",{children:pe.autoclaveWeightKg.toFixed(1)}),e.jsx("td",{children:(Number(pe.incinerationWeightKg)+Number(pe.autoclaveWeightKg)).toFixed(1)}),e.jsx("td",{children:e.jsx("span",{className:te(pe.status),children:pe.status==="Submitted"?"SUBMITTED":pe.status==="Verified"?"COMPLETED":pe.status==="Draft"?"IN PROGRESS":pe.status.toUpperCase()})}),e.jsx("td",{children:e.jsxs("div",{className:"wp-action-buttons",children:[e.jsx("button",{className:"wp-action-btn wp-action-btn--view",onClick:()=>J(pe),title:"View Details",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),pe.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"wp-action-btn wp-action-btn--edit",onClick:()=>ie(pe),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"wp-action-btn wp-action-btn--delete",onClick:()=>M(pe),title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})})]},pe.id)})})]})}),ce.length>0&&e.jsxs("div",{className:"table-footer",children:["Showing ",ce.length," of ",G.length," Items"]})]})]}),l&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>u(!1),children:e.jsxs("div",{className:"wp-modal-content",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:`wp-modal-icon ${V.editingId?"wp-modal-icon--edit":"wp-modal-icon--add"}`,children:V.editingId?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:V.editingId?"Edit Process":"Add Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>u(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:Ce,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",value:V.companyId,onChange:pe=>me({...V,companyId:pe.target.value}),required:!0,disabled:!!V.editingId,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),Z.filter(pe=>pe.status==="Active").map(pe=>e.jsx("option",{value:pe.id,children:pe.companyName},pe.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"processDate",children:["Process Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"processDate",type:"date",value:V.processDate,onChange:pe=>me({...V,processDate:pe.target.value}),required:!0,disabled:!!V.editingId,className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"incinerationWeightKg",children:["Incineration Weight (kg) ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.6 1.5-3.5 3.5-5.5z"})}),e.jsx("input",{id:"incinerationWeightKg",type:"number",step:"0.01",min:"0.01",value:V.incinerationWeightKg,onChange:pe=>me({...V,incinerationWeightKg:parseFloat(pe.target.value)||0}),required:!0,disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"autoclaveWeightKg",children:["Autoclave Weight (kg) ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2.69c-3.5 0-6.5 3-6.5 6.5 0 4.5 6.5 10.5 6.5 10.5s6.5-6 6.5-10.5c0-3.5-3-6.5-6.5-6.5z"})}),e.jsx("input",{id:"autoclaveWeightKg",type:"number",step:"0.01",min:"0.01",value:V.autoclaveWeightKg,onChange:pe=>me({...V,autoclaveWeightKg:parseFloat(pe.target.value)||0}),required:!0,disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsxs("div",{className:"wp-textarea-wrapper",children:[e.jsxs("svg",{className:"wp-textarea-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),e.jsx("textarea",{id:"notes",rows:3,value:V.notes||"",onChange:pe=>me({...V,notes:pe.target.value||null}),disabled:!!V.editingId&&V.editingStatus!=="Draft",className:"wp-form-textarea"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:j,children:j?"Saving...":"Save"})]})]})]})}),h&&y&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"wp-modal-content wp-modal-content--view",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--view",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"View Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>f(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wp-modal-body",children:e.jsxs("div",{className:"wp-detail-grid",children:[e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Company"}),e.jsx("span",{children:y.companyName})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Process Date"}),e.jsx("span",{children:(()=>{const pe=new Date(y.processDate);return`${String(pe.getDate()).padStart(2,"0")}/${String(pe.getMonth()+1).padStart(2,"0")}/${pe.getFullYear()}`})()})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Incineration Weight (kg)"}),e.jsx("span",{children:y.incinerationWeightKg.toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Autoclave Weight (kg)"}),e.jsx("span",{children:y.autoclaveWeightKg.toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Total Weight (kg)"}),e.jsx("span",{children:(Number(y.incinerationWeightKg)+Number(y.autoclaveWeightKg)).toFixed(1)})]}),e.jsxs("div",{className:"wp-detail-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:te(y.status),children:y.status==="Submitted"?"SUBMITTED":y.status==="Verified"?"COMPLETED":y.status==="Draft"?"IN PROGRESS":y.status.toUpperCase()})]}),e.jsxs("div",{className:"wp-detail-item wp-detail-item--full",children:[e.jsx("label",{children:"Notes"}),e.jsx("span",{children:y.notes||"-"})]})]})}),e.jsx("div",{className:"wp-modal-footer",children:e.jsx("button",{type:"button",className:"wp-btn wp-btn--close",onClick:()=>f(!1),children:"Close"})})]})}),A&&m&&e.jsx("div",{className:"wp-modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"wp-modal-content wp-modal-content--delete",onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--delete",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"Delete Process"})]}),e.jsx("button",{className:"wp-modal-close",onClick:()=>g(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"wp-modal-body",children:e.jsxs("p",{className:"wp-delete-message",children:["Are you sure you want to delete the process for ",e.jsx("strong",{children:m.companyName}),"?"]})}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"wp-btn wp-btn--delete",onClick:q,disabled:j,children:j?"Deleting...":"Delete"})]})]})})]})},ZP="http://localhost:3000/api/v1",eD=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},gh=async(r,t={})=>{const n=eD(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${ZP}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?c=o.message.join(", "):typeof o.message=="string"?c=o.message:o.error&&(c=typeof o.error=="string"?o.error:JSON.stringify(o.error)),s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c=o.message||o.error||"Forbidden: You do not have permission to access this resource":s.status===500&&(c=o.message||o.error||"Internal server error")}catch{s.status===401?(c="Unauthorized: Please login again",localStorage.removeItem("mw-auth-user"),window.location.href="/login"):s.status===403?c="Forbidden: You do not have permission to access this resource":s.status===500&&(c="Internal server error")}throw new Error(c)}return(await s.json()).data},lne=(r,t)=>{var a;if(!r)return t;const n=/filename="([^"]+)"/i.exec(r)||/filename=([^;]+)/i.exec(r);return((a=n==null?void 0:n[1])==null?void 0:a.trim())||t},cne=async(r,t={},n="download.bin")=>{const a=eD(),s={...a&&{Authorization:`Bearer ${a}`},...t.headers},i=await fetch(`${ZP}${r}`,{...t,headers:s});if(!i.ok){let d=`HTTP ${i.status}: ${i.statusText}`;try{const l=await i.json();Array.isArray(l.message)?d=l.message.join(", "):typeof l.message=="string"?d=l.message:l.error&&(d=typeof l.error=="string"?l.error:JSON.stringify(l.error))}catch{}throw i.status===401&&(localStorage.removeItem("mw-auth-user"),window.location.href="/login"),new Error(d)}const c=await i.blob(),o=lne(i.headers.get("content-disposition"),n);return{blob:c,filename:o}},tD=async r=>{const n=new URLSearchParams().toString();return gh(`/invoices${n?`?${n}`:""}`)},a1=async r=>{const t=r?{...r}:{};t.fromDate&&!t.invoiceFromDate&&(t.invoiceFromDate=t.fromDate),t.toDate&&!t.invoiceToDate&&(t.invoiceToDate=t.toDate),t.search&&!t.searchText&&(t.searchText=t.search),t.sortDir&&!t.sortOrder&&(t.sortOrder=t.sortDir);const n={};return Object.keys(t).forEach(a=>{const s=t[a];s!=null&&s!==""&&(n[a]=s)}),gh("/reports/invoices",{method:"POST",body:JSON.stringify(n)})},dne=async r=>gh("/invoices",{method:"POST",body:JSON.stringify(r)}),une=async(r,t)=>gh(`/invoices/${r}`,{method:"PUT",body:JSON.stringify(t)}),hne=async r=>cne(`/invoices/${r}/pdf`,{method:"GET"},`invoice-${r}.pdf`),fne=async r=>gh(`/billing/batches/${r}`),Ane=async(r,t)=>gh(`/billing/batches/${r}/post`,{method:"POST",body:JSON.stringify({invoiceDate:t})}),pne=async(r,t)=>{const a=new URLSearchParams().toString();return gh(`/billing/batches${a?`?${a}`:""}`)},Z8=async r=>gh("/billing/batches/draft",{method:"POST",body:JSON.stringify(r)}),mne=async r=>gh(`/billing/batches/${r}/draft-invoices`),Vw=async(r,t)=>gh(`/billing/batches/draft-invoices/${r}`,{method:"PUT",body:JSON.stringify(t)}),gne=async(r,t)=>gh("/billing/batches/draft-invoices/post",{method:"POST",body:JSON.stringify({invoiceIds:r,invoiceDate:t})}),vne="http://localhost:3000/api/v1",xne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},e0=async(r,t={})=>{const n=xne(),a={"Content-Type":"application/json",...t.headers};if(n&&(a.Authorization=`Bearer ${n}`),t.body&&r.includes("/payments"))try{const c=JSON.parse(t.body);console.log("=== API Request Debug ==="),console.log("Endpoint:",r),console.log("Request Body:",JSON.stringify(c,null,2)),console.log("Payment Amount in request:",c.paymentAmount,typeof c.paymentAmount)}catch{console.log("Could not parse request body for logging")}const s=await fetch(`${vne}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const d=await s.json();c=d.message||d.error||c,d.message&&typeof d.message=="object"&&(c=JSON.stringify(d.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const o=new Error(c);throw o.status=s.status,o.response={status:s.status},o}return(await s.json()).data};var es=(r=>(r.CASH="Cash",r.CHEQUE="Cheque",r.BANK_TRANSFER="Bank Transfer",r.UPI="UPI",r.NEFT="NEFT",r.RTGS="RTGS",r.OTHER="Other",r))(es||{});const rD=async r=>e0("/payments",{method:"POST",body:JSON.stringify(r)}),yne=async r=>{const t=new URLSearchParams;r!=null&&r.companyId&&t.append("companyId",r.companyId),r!=null&&r.status&&t.append("status",r.status),r!=null&&r.paymentDateFrom&&t.append("paymentDateFrom",r.paymentDateFrom),r!=null&&r.paymentDateTo&&t.append("paymentDateTo",r.paymentDateTo);const n=`/payments${t.toString()?`?${t.toString()}`:""}`;return e0(n,{method:"GET"})},eT=async r=>e0(`/payments/receipts/${r}`,{method:"GET"}),jne=async r=>{const t=new URLSearchParams;r&&t.append("companyId",r);const n=`/payments/without-receipt${t.toString()?`?${t.toString()}`:""}`;return e0(n,{method:"GET"})},bne=async r=>e0("/payments/receipts/manual",{method:"POST",body:JSON.stringify(r)}),wne=()=>{const{logout:r,permissions:t,user:n}=Wn(),a=un(),s=Ma(),[i,c]=C.useState(""),[o,d]=C.useState("All"),[l,u]=C.useState(!1),[h,f]=C.useState({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),[A,g]=C.useState(!1),[m,x]=C.useState(!1),[y,b]=C.useState([]),[j,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState(!1),[Z,ne]=C.useState(null),[G,le]=C.useState(new Set),[V,me]=C.useState(null),[$,X]=C.useState(!1),[Ce,M]=C.useState(null),[q,ie]=C.useState(null),[J,D]=C.useState(!1),ce=()=>{D(!J)},[te,ge]=C.useState([]),[pe,be]=C.useState([]),[re,de]=C.useState([]);C.useEffect(()=>{Y()},[]);const Y=async()=>{X(!0),M(null);try{const Vt=await ia.getAllCompanies(!0),mr=Vt.map(Ge=>({id:Ge.id,companyCode:Ge.companyCode,companyName:Ge.companyName,status:Ge.status}));ge(mr);const Bt=(await xi.getAllHcfs(void 0,!0)).map(Ge=>{var Ft;return{id:Ge.id,hcfCode:Ge.hcfCode,hcfName:Ge.hcfName,companyName:((Ft=Vt.find(Lt=>Lt.id===Ge.companyId))==null?void 0:Ft.companyName)||"",status:Ge.status||"Active"}});be(Bt),await Ae(mr,Bt)}catch(Vt){console.error("Error loading data:",Vt);const mr=Vt.message||"Failed to load data";mr.includes("Internal server error")||mr.includes("500")?M("Internal server error. Please check the backend logs."):M(mr)}finally{X(!1)}},Ae=async(Vt,mr)=>{try{const Qe=await tD();console.log("Loaded invoices:",Qe.length),console.log("Companies available:",Vt.length),console.log("HCFs available:",mr.length);const Bt=Qe.map(Ge=>{var Dr,Or,Kr,Hr,Bn,Wr,Qr,vn;const Ft=Vt.find(sn=>sn.id===Ge.companyId),Lt=mr.find(sn=>sn.id===Ge.hcfId);return Qe.indexOf(Ge)===0&&console.log("First invoice mapping:",{invoiceId:Ge.invoiceId,companyId:Ge.companyId,hcfId:Ge.hcfId,foundCompany:!!Ft,foundHcf:!!Lt,companyName:Ft==null?void 0:Ft.companyName,hcfCode:Lt==null?void 0:Lt.hcfCode}),{...Ge,id:Ge.invoiceId,invoiceNum:Ge.invoiceNumber,invoiceStatus:Ge.status,companyName:(Ft==null?void 0:Ft.companyName)||Ge.companyName||"",hcfCode:(Lt==null?void 0:Lt.hcfCode)||Ge.hcfCode||"",invoiceDate:Ge.invoiceDate||"",dueDate:Ge.dueDate||"",billingDays:Ge.billingDays!==null&&Ge.billingDays!==void 0?Ge.billingDays.toString():"",bedCount:Ge.bedCount!==null&&Ge.bedCount!==void 0?Ge.bedCount.toString():"",bedRate:Ge.bedRate!==null&&Ge.bedRate!==void 0?Ge.bedRate.toString():"",weightInKg:Ge.weightInKg!==null&&Ge.weightInKg!==void 0?Ge.weightInKg.toString():"",kgRate:Ge.kgRate!==null&&Ge.kgRate!==void 0?Ge.kgRate.toString():"",lumpsumAmount:Ge.lumpsumAmount!==null&&Ge.lumpsumAmount!==void 0?Ge.lumpsumAmount.toString():"",taxableValue:((Dr=Ge.taxableValue)==null?void 0:Dr.toString())||"",igst:((Or=Ge.igst)==null?void 0:Or.toString())||"",cgst:((Kr=Ge.cgst)==null?void 0:Kr.toString())||"",sgst:((Hr=Ge.sgst)==null?void 0:Hr.toString())||"",roundOff:((Bn=Ge.roundOff)==null?void 0:Bn.toString())||"",invoiceValue:((Wr=Ge.invoiceValue)==null?void 0:Wr.toString())||"",totalPaidAmount:((Qr=Ge.totalPaidAmount)==null?void 0:Qr.toString())||"",balanceAmount:((vn=Ge.balanceAmount)==null?void 0:vn.toString())||""}});console.log("Mapped invoices:",Bt.length),de(Bt),Bt.length>0&&M(null)}catch(Qe){console.error("Error loading invoices:",Qe);const Bt=Qe.message||"Failed to load invoices";if(Bt.includes("Unauthorized")||Bt.includes("Forbidden")||Bt.includes("permission")){M("Access denied: You do not have permission to view invoices. Please contact your administrator or log in again.");return}throw Bt.includes("Internal server error")||Bt.includes("500")?M("Internal server error. Please check the backend logs."):M(Bt),Qe}},ye=async()=>{await Ae(te,pe)},Oe=re.filter(Vt=>{var Hr;const mr=i.toLowerCase(),Qe=!i||Vt.invoiceNum.toLowerCase().includes(mr)||Vt.companyName.toLowerCase().includes(mr)||Vt.hcfCode.toLowerCase().includes(mr)||((Hr=pe.find(Bn=>Bn.hcfCode===Vt.hcfCode))==null?void 0:Hr.hcfName.toLowerCase().includes(mr)),Bt=o==="All"||Vt.invoiceStatus===o,Ge=!h.invoiceNum||Vt.invoiceNum.toLowerCase().includes(h.invoiceNum.toLowerCase()),Ft=!h.companyName||Vt.companyName.toLowerCase().includes(h.companyName.toLowerCase()),Lt=!h.hcfCode||Vt.hcfCode.toLowerCase().includes(h.hcfCode.toLowerCase()),Dr=!h.invoiceDate||Vt.invoiceDate===h.invoiceDate,Or=!h.dueDate||Vt.dueDate===h.dueDate,Kr=!h.status||h.status==="All"||Vt.invoiceStatus===h.status;return Qe&&Bt&&Ge&&Ft&&Lt&&Dr&&Or&&Kr}),We=Vt=>{me(Vt),g(!0)},ae=Vt=>{if(Vt.invoiceStatus!=="Draft"){alert("Only Draft invoices can be generated.");return}alert('Please use the "Generate Invoice" button in the edit modal to generate this invoice.')},ke=Vt=>{window.confirm("Are you sure you want to cancel this invoice?")&&de(re.map(mr=>mr.id===Vt.id?{...mr,invoiceStatus:"Cancelled",modifiedOn:new Date().toISOString().split("T")[0]}:mr))},Fe=async Vt=>{X(!0),M(null),ie(null);try{const mr=await recordPayment(Vt);ie(`Payment recorded successfully! Receipt Number: ${mr.data.receipt.receiptNumber}`);const Qe=await eT(mr.data.receipt.receiptId);E(Qe.data),S(!0),await ye(),L(!1),ne(null)}catch(mr){console.error("Error recording payment:",mr);const Qe=mr.message||"Failed to record payment";M(Qe)}finally{X(!1)}},nt=Vt=>Vt==="Generated"?"DUE":Vt,tt=Vt=>Vt.invoiceStatus==="Generated"||Vt.invoiceStatus==="Partially Paid",Le=Vt=>G.has(Vt),lt=Vt=>{if(!tt(Vt))return;const mr=new Set(G);mr.has(Vt.id)?mr.delete(Vt.id):mr.add(Vt.id),le(mr)},$t=()=>{if(Oe.filter(Qe=>G.has(Qe.id)).length===0){alert("Please select at least one invoice to proceed with payment");return}const mr=Array.from(G);s(`/finance/payment?invoices=${mr.join(",")}`)},Ue=()=>{const Vt=Oe.filter(Qe=>G.has(Qe.id)),mr=Vt.reduce((Qe,Bt)=>Qe+parseFloat(Bt.balanceAmount||"0"),0);return{count:Vt.length,totalBalance:mr}},yt=async Vt=>{X(!0),M(null),ie(null);try{const mr=await rD(Vt);ie(`Payment processed successfully! Receipt Number: ${mr.data.receipt.receiptNumber}`);const Qe=await eT(mr.data.receipt.receiptId);E(Qe.data),S(!0),await ye(),x(!1)}catch(mr){console.error("Error processing payment:",mr);const Qe=mr.message||"Failed to process payment";M(Qe)}finally{X(!1)}},Tt=async Vt=>{try{X(!0),M(null);const{blob:mr,filename:Qe}=await hne(Vt.id),Bt=window.URL.createObjectURL(mr);window.open(Bt,"_blank","noopener,noreferrer"),window.setTimeout(()=>window.URL.revokeObjectURL(Bt),6e4)}catch(mr){M((mr==null?void 0:mr.message)||"Failed to generate/download PDF")}finally{X(!1)}},Zt=()=>{alert("Export functionality will be implemented")},_t=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...Z1(t,a.pathname)].filter(Vt=>Vt.path==="/dashboard"?Qn(t,"dashboard"):Vt.path==="/transaction"?Qn(t,"transaction"):Vt.path==="/finance"?Qn(t,"finance"):Vt.path==="/commercial-agreements"?Qn(t,"commercial"):Vt.path==="/compliance-training"?Qn(t,"compliance"):Vt.path==="/master"?Qn(t,"master"):Vt.path==="/report"?Qn(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${J?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!J&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ce,"aria-label":J?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:J?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:_t.map(Vt=>e.jsx("li",{children:e.jsxs(Rr,{to:Vt.path,className:`nav-link ${Vt.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Vt.icon}),!J&&e.jsx("span",{className:"nav-label",children:Vt.label})]})},Vt.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!J&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!J&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Invoice Management",subtitle:"Create, manage and track invoices"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Invoice Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage invoices, payments, and billing records"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by invoice number, company, HCF...",value:i,onChange:Vt=>c(Vt.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"export-btn",onClick:Zt,disabled:$,style:{marginRight:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]})]})]}),Ce&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:Ce}),e.jsx("button",{className:"ra-alert-close",onClick:()=>M(null),children:""})]}),q&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:q}),e.jsx("button",{className:"ra-alert-close",onClick:()=>ie(null),children:""})]}),$&&!re.length&&e.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading invoices..."}),e.jsx("div",{className:"route-assignment-table-container",children:$&&!re.length?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading invoices..."}):Oe.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No invoices found for the selected filters"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px"}}),e.jsx("th",{children:"Invoice Number"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Invoice Value"}),e.jsx("th",{children:"Paid Amount"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Oe.map(Vt=>{const mr=pe.find(Ge=>Ge.hcfCode===Vt.hcfCode),Qe=tt(Vt),Bt=Le(Vt.id);return e.jsxs("tr",{style:{opacity:Vt.invoiceStatus==="Paid"?.6:1},children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:Bt,onChange:()=>lt(Vt),disabled:!Qe,title:Qe?"Select invoice":"Only DUE or Partially Paid invoices can be selected"})}),e.jsx("td",{children:Vt.invoiceNum||"-"}),e.jsx("td",{children:Vt.companyName||"-"}),e.jsx("td",{children:mr?`${Vt.hcfCode} - ${mr.hcfName}`:Vt.hcfCode}),e.jsx("td",{children:Vt.invoiceDate||"-"}),e.jsx("td",{children:Vt.dueDate||"-"}),e.jsxs("td",{children:["",Vt.invoiceValue||"0"]}),e.jsxs("td",{style:{color:"#94a3b8",fontSize:"13px"},children:["",parseFloat(Vt.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{fontWeight:700,color:"#059669",fontSize:"14px"},children:["",parseFloat(Vt.balanceAmount||"0").toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${Vt.invoiceStatus.toLowerCase().replace(" ","-")}`,children:nt(Vt.invoiceStatus)})}),e.jsx("td",{children:e.jsxs("div",{className:"invoice-action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>We(Vt),title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),Vt.invoiceStatus==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>handleEdit(Vt),title:"Edit",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--generate",onClick:()=>ae(Vt),title:"Generate",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>Tt(Vt),title:"Download PDF",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),Vt.invoiceStatus!=="Cancelled"&&Vt.invoiceStatus!=="Paid"&&e.jsx("button",{className:"action-btn action-btn--cancel",onClick:()=>ke(Vt),title:"Cancel",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})})]},Vt.id)})})]})}),G.size>0&&e.jsxs("div",{className:"invoice-payment-summary-bar",style:{position:"fixed",bottom:0,left:"280px",right:0,background:"#FFFFFF",borderTop:"1px solid #E5E7EB",padding:"16px 24px",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1e3,minHeight:"64px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Selected Invoices:"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1F2937",lineHeight:"1.5"},children:Ue().count})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280",fontWeight:400,lineHeight:"1.5"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#059669",lineHeight:"1.5",letterSpacing:"-0.02em"},children:["",Ue().totalBalance.toFixed(2)]})]})]}),e.jsx("div",{style:{flexShrink:0},children:e.jsxs("button",{onClick:$t,disabled:G.size===0,title:G.size===0?"Select at least one invoice":"Proceed to payment",style:{padding:"12px 32px",background:"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:G.size>0?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"48px",boxShadow:G.size>0?"0 2px 4px rgba(16, 185, 129, 0.2)":"none"},onMouseEnter:Vt=>{G.size>0&&(Vt.currentTarget.style.background="#059669",Vt.currentTarget.style.transform="translateY(-1px)",Vt.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:Vt=>{G.size>0&&(Vt.currentTarget.style.background="#10b981",Vt.currentTarget.style.transform="translateY(0)",Vt.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"Proceed to Payment"]})})]}),e.jsxs("div",{className:"route-assignment-pagination-info",style:{marginBottom:G.size>0?"80px":"0"},children:["Showing ",Oe.length," of ",re.length," items"]})]})]}),A&&V&&e.jsx(Cne,{invoice:V,hcfs:pe,onClose:()=>{g(!1),me(null)},onPrint:Tt}),l&&e.jsx(Bne,{statusFilter:o,advancedFilters:h,companies:te,hcfs:pe,onClose:()=>u(!1),onClear:()=>{d("All"),f({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),u(!1)},onApply:Vt=>{d(Vt.statusFilter),f(Vt.advancedFilters),u(!1)}}),m&&e.jsx(Nne,{invoices:y,companies:te.filter(Vt=>Vt.status==="Active"),onClose:()=>{x(!1),b([])},onProcessPayment:yt,loading:$}),I&&Z&&e.jsx(Sne,{invoice:Z,onClose:()=>{L(!1),ne(null)},onSubmit:Fe,loading:$}),j&&w&&e.jsx(Ene,{receiptData:w,onClose:()=>{S(!1),E(null)}})]})},Cne=({invoice:r,hcfs:t,onClose:n,onPrint:a})=>{const s=t.find(o=>o.hcfCode===r.hcfCode),i=()=>{alert("Add Receipt functionality will be implemented")},c=()=>{alert("View Receipts functionality will be implemented")};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Invoice Details - ",r.invoiceNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"invoice-view-content",children:[e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Basic Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{children:r.companyName||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"HCF Code:"}),e.jsx("span",{children:s?`${r.hcfCode} - ${s.hcfName}`:r.hcfCode})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Number:"}),e.jsx("span",{children:r.invoiceNum||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Invoice Date:"}),e.jsx("span",{children:r.invoiceDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Due Date:"}),e.jsx("span",{children:r.dueDate||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`invoice-status-badge invoice-status-badge--${r.invoiceStatus.toLowerCase().replace(" ","-")}`,children:r.invoiceStatus})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Billing Information"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Type:"}),e.jsx("span",{children:r.billingType||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Billing Days:"}),e.jsx("span",{children:r.billingDays||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Count:"}),e.jsx("span",{children:r.bedCount||"-"})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Bed Rate:"}),e.jsxs("span",{children:["",r.bedRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Weight in Kg:"}),e.jsxs("span",{children:[r.weightInKg||"-"," kg"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Kg Rate:"}),e.jsxs("span",{children:["",r.kgRate||"-"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Lumpsum Amount:"}),e.jsxs("span",{children:["",r.lumpsumAmount||"-"]})]})]})]}),e.jsxs("div",{className:"invoice-view-section",children:[e.jsx("h3",{className:"invoice-view-section-title",children:"Tax & Amount Details"}),e.jsxs("div",{className:"invoice-view-grid",children:[e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Taxable Value:"}),e.jsxs("span",{children:["",r.taxableValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"IGST:"}),e.jsxs("span",{children:["",r.igst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"CGST:"}),e.jsxs("span",{children:["",r.cgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"SGST:"}),e.jsxs("span",{children:["",r.sgst||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Round Off:"}),e.jsxs("span",{children:["",r.roundOff||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Invoice Value:"}),e.jsxs("span",{children:["",r.invoiceValue||"0"]})]}),e.jsxs("div",{className:"invoice-view-field",children:[e.jsx("label",{children:"Total Paid Amount:"}),e.jsxs("span",{children:["",r.totalPaidAmount||"0"]})]}),e.jsxs("div",{className:"invoice-view-field invoice-view-field--highlight",children:[e.jsx("label",{children:"Balance Amount:"}),e.jsxs("span",{children:["",r.balanceAmount||"0"]})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"}),(r.invoiceStatus==="Generated"||r.invoiceStatus==="Partially Paid"||r.invoiceStatus==="Paid")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--info",onClick:c,children:"View Receipts"}),e.jsx("button",{type:"button",className:"btn btn--success",onClick:i,children:"Add Receipt"})]}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>a(r),children:"Print / Download PDF"})]})]})})},Nne=({invoices:r,companies:t,onClose:n,onProcessPayment:a,loading:s})=>{const i=()=>{if(r.length===0)return"";const m=r[0],x=t.find(y=>y.companyName===m.companyName);return(x==null?void 0:x.id)||""},[c,o]=C.useState({companyId:i(),paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:es.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[d,l]=C.useState("FIFO"),[u,h]=C.useState({}),f=r.reduce((m,x)=>m+parseFloat(x.balanceAmount||"0"),0);C.useEffect(()=>{o(m=>({...m,paymentAmount:d==="FIFO"?f:Object.values(u).reduce((x,y)=>x+y,0)}))},[d,u,f]);const A=m=>{if(m.preventDefault(),c.paymentAmount<=0){alert("Payment amount must be greater than zero");return}const x={...c,invoiceAllocations:d==="FIFO"?[]:r.map(y=>({invoiceId:y.id,allocatedAmount:u[y.id]||0})).filter(y=>y.allocatedAmount>0)};a(x)},g=(m,x)=>{const y=r.find(S=>S.id===m),b=parseFloat((y==null?void 0:y.balanceAmount)||"0"),j=Math.min(Math.max(0,x),b);h(S=>({...S,[m]:j}))};return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Make Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:""})]}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:["Selected Invoices (",r.length,")"]}),e.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"12px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Invoice Value"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Paid"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Balance"})]})}),e.jsx("tbody",{children:r.map(m=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px"},children:m.invoiceNum}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.invoiceValue||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",parseFloat(m.totalPaidAmount||"0").toFixed(2)]}),e.jsxs("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:["",parseFloat(m.balanceAmount||"0").toFixed(2)]})]},m.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{borderTop:"2px solid #cbd5e1",fontWeight:600},children:[e.jsx("td",{style:{padding:"8px"},children:"Total Payable:"}),e.jsxs("td",{colSpan:3,style:{padding:"8px",textAlign:"right"},children:["",f.toFixed(2)]})]})})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{required:!0,value:c.companyId,onChange:m=>o({...c,companyId:m.target.value}),children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(m=>e.jsx("option",{value:m.id,children:m.companyName},m.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:c.paymentDate,onChange:m=>o({...c,paymentDate:m.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:c.paymentMode,onChange:m=>o({...c,paymentMode:m.target.value}),children:[e.jsx("option",{value:es.CASH,children:"Cash"}),e.jsx("option",{value:es.CHEQUE,children:"Cheque"}),e.jsx("option",{value:es.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:es.UPI,children:"UPI"}),e.jsx("option",{value:es.NEFT,children:"NEFT"}),e.jsx("option",{value:es.RTGS,children:"RTGS"}),e.jsx("option",{value:es.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:c.paymentAmount,onChange:m=>o({...c,paymentAmount:parseFloat(m.target.value)||0}),disabled:d==="FIFO"}),d==="FIFO"&&e.jsx("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"Auto-calculated from selected invoices (FIFO allocation)"})]}),(c.paymentMode===es.CHEQUE||c.paymentMode===es.BANK_TRANSFER||c.paymentMode===es.NEFT||c.paymentMode===es.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:c.referenceNumber||"",onChange:m=>o({...c,referenceNumber:m.target.value||null}),placeholder:"Transaction/Reference number"})]}),c.paymentMode===es.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:c.bankName||"",onChange:m=>o({...c,bankName:m.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:c.chequeNumber||"",onChange:m=>o({...c,chequeNumber:m.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:c.chequeDate||"",onChange:m=>o({...c,chequeDate:m.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:c.notes||"",onChange:m=>o({...c,notes:m.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Allocation Mode"}),e.jsx("div",{style:{marginBottom:"15px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"FIFO",checked:d==="FIFO",onChange:m=>l(m.target.value)}),e.jsx("span",{children:"FIFO (First In, First Out) - Automatically allocate to oldest invoices first"})]})}),e.jsx("div",{children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"radio",name:"allocationMode",value:"Manual",checked:d==="Manual",onChange:m=>l(m.target.value)}),e.jsx("span",{children:"Manual - Specify allocation amounts for each invoice"})]})}),d==="Manual"&&e.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#f8fafc",borderRadius:"8px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:600},children:"Manual Allocation"}),e.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map(m=>{const x=parseFloat(m.balanceAmount||"0"),y=u[m.id]||0;return e.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#ffffff",borderRadius:"6px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[e.jsx("span",{style:{fontSize:"12px",fontWeight:600},children:m.invoiceNum}),e.jsxs("span",{style:{fontSize:"12px",color:"#64748b"},children:["Balance: ",x.toFixed(2)]})]}),e.jsx("input",{type:"number",min:"0",max:x,step:"0.01",value:y,onChange:b=>g(m.id,parseFloat(b.target.value)||0),placeholder:"0.00",style:{width:"100%",padding:"6px",border:"1px solid #cbd5e1",borderRadius:"4px"}})]},m.id)})}),e.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#dbeafe",borderRadius:"6px",fontSize:"12px"},children:[e.jsx("strong",{children:"Total Allocated:"})," ",Object.values(u).reduce((m,x)=>m+x,0).toFixed(2)]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",disabled:s,children:s?"Processing...":"Process Payment"})]})]})]})})},Sne=({invoice:r,onClose:t,onSubmit:n,loading:a})=>{const[s,i]=C.useState({invoiceId:r.id,paymentDate:new Date().toISOString().split("T")[0],paymentAmount:parseFloat(r.balanceAmount||"0"),paymentMode:es.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null}),c=async o=>{o.preventDefault();const d=parseFloat(r.balanceAmount||"0");if(s.paymentAmount>d){alert(`Payment amount cannot exceed invoice balance of ${d.toFixed(2)}`);return}if(s.paymentAmount<=0){alert("Payment amount must be greater than zero");return}await n(s)};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Record Payment"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoice Details"}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice #:"}),e.jsx("span",{style:{fontWeight:600},children:r.invoiceNum})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Invoice Value:"}),e.jsxs("span",{children:["",parseFloat(r.invoiceValue||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[e.jsx("span",{children:"Paid Amount:"}),e.jsxs("span",{children:["",parseFloat(r.totalPaidAmount||"0").toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #cbd5e1",paddingTop:"5px",marginTop:"5px"},children:[e.jsx("span",{style:{fontWeight:600},children:"Balance Amount:"}),e.jsxs("span",{style:{fontWeight:600,color:"#dc2626"},children:["",parseFloat(r.balanceAmount||"0").toFixed(2)]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:s.paymentDate,onChange:o=>i({...s,paymentDate:o.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:s.paymentMode,onChange:o=>i({...s,paymentMode:o.target.value}),children:[e.jsx("option",{value:es.CASH,children:"Cash"}),e.jsx("option",{value:es.CHEQUE,children:"Cheque"}),e.jsx("option",{value:es.NEFT,children:"NEFT"}),e.jsx("option",{value:es.RTGS,children:"RTGS"}),e.jsx("option",{value:es.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:es.UPI,children:"UPI"}),e.jsx("option",{value:es.OTHER,children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Amount *"}),e.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",max:parseFloat(r.balanceAmount||"0"),value:s.paymentAmount,onChange:o=>i({...s,paymentAmount:parseFloat(o.target.value)||0})}),e.jsxs("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:["Maximum: ",parseFloat(r.balanceAmount||"0").toFixed(2)]})]}),(s.paymentMode===es.CHEQUE||s.paymentMode===es.BANK_TRANSFER||s.paymentMode===es.NEFT||s.paymentMode===es.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:s.referenceNumber||"",onChange:o=>i({...s,referenceNumber:o.target.value||null}),placeholder:"Transaction/Reference number"})]}),s.paymentMode===es.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:s.bankName||"",onChange:o=>i({...s,bankName:o.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:s.chequeNumber||"",onChange:o=>i({...s,chequeNumber:o.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:s.chequeDate||"",onChange:o=>i({...s,chequeDate:o.target.value||null})})]})]})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:s.notes||"",onChange:o=>i({...s,notes:o.target.value||null}),placeholder:"Payment notes (optional)",rows:3})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})]})})},Ene=({receiptData:r,onClose:t})=>e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"700px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Payment Receipt"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"#f1f5f9",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("p",{style:{margin:"0",fontSize:"18px",fontWeight:600,color:"#059669"},children:["Receipt #: ",r.receiptNumber]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Receipt Date:"}),e.jsx("span",{children:r.receiptDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Total Amount:"}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:700,color:"#059669"},children:["",r.totalAmount.toFixed(2)]})]}),r.payment&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Mode:"}),e.jsx("span",{children:r.payment.paymentMode})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontWeight:600},children:"Payment Date:"}),e.jsx("span",{children:r.payment.paymentDate})]})]})]}),r.invoices&&r.invoices.length>0&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:600},children:"Invoices Paid:"}),e.jsxs("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f1f5f9",borderBottom:"2px solid #cbd5e1"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:r.invoices.map((n,a)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"8px"},children:n.invoiceNumber}),e.jsxs("td",{style:{padding:"8px",textAlign:"right"},children:["",n.allocatedAmount.toFixed(2)]})]},a))})]})]}),e.jsx("div",{style:{marginTop:"30px",padding:"15px",background:"#dbeafe",borderRadius:"8px",textAlign:"center"},children:e.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#1e40af"},children:["Payment processed successfully! Receipt number: ",e.jsx("strong",{children:r.receiptNumber})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--primary",onClick:t,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:()=>window.print(),style:{marginLeft:"10px"},children:"Print Receipt"})]})]})}),Bne=({statusFilter:r,advancedFilters:t,companies:n,hcfs:a,onClose:s,onClear:i,onApply:c})=>{const[o,d]=C.useState(r),[l,u]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter invoices by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:s,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Invoice Number"}),e.jsx("input",{type:"text",value:l.invoiceNum,onChange:h=>u({...l,invoiceNum:h.target.value}),className:"ra-filter-input",placeholder:"Enter invoice number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsxs("select",{value:l.companyName,onChange:h=>u({...l,companyName:h.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),n.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsxs("select",{value:l.hcfCode,onChange:h=>u({...l,hcfCode:h.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All HCFs"}),a.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Invoice Date"}),e.jsx("input",{type:"date",value:l.invoiceDate,onChange:h=>u({...l,invoiceDate:h.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:l.dueDate,onChange:h=>u({...l,dueDate:h.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o,onChange:h=>d(h.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"DUE"}),e.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{d("All"),u({invoiceNum:"",companyName:"",hcfCode:"",invoiceDate:"",dueDate:"",status:""}),i()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>c({statusFilter:o,advancedFilters:l}),children:"Apply Filters"})]})]})})},Ine=()=>{const{logout:r,permissions:t,user:n}=Wn(),a=un(),s=Ma(),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(!1),[y,b]=C.useState(null),[j,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState([]),[Z,ne]=C.useState(null),[G,le]=C.useState(!1),[V,me]=C.useState(null),[$,X]=C.useState(null),[Ce,M]=C.useState(!1),[q,ie]=C.useState(""),[J,D]=C.useState(!1),[ce,te]=C.useState({type:"All",status:"All"}),[ge,pe]=C.useState(1),be=10,re=()=>{M(!Ce)},[de,Y]=C.useState([]),[Ae,ye]=C.useState([]);C.useEffect(()=>{Oe(),We()},[]);const Oe=async()=>{le(!0),me(null);try{const Ue=await ia.getAllCompanies(!0),yt=Ue.map(Mr=>({id:Mr.id,companyCode:Mr.companyCode,companyName:Mr.companyName,status:Mr.status}));Y(yt);const Zt=(await xi.getAllHcfs(void 0,!0)).map(Mr=>{var _t;return{id:Mr.id,hcfCode:Mr.hcfCode,hcfName:Mr.hcfName,companyName:((_t=Ue.find(Vt=>Vt.id===Mr.companyId))==null?void 0:_t.companyName)||"",status:Mr.status||"Active"}});ye(Zt)}catch(Ue){console.error("Error loading data:",Ue);const yt=Ue.message||"Failed to load data";me(yt)}finally{le(!1)}},We=async()=>{try{const Ue=await pne();L(Ue)}catch(Ue){console.error("Error loading batches:",Ue)}},ae=()=>{ne(null),c(!0)},ke=async(Ue,yt=!1)=>{le(!0),me(null),X(null);try{const Tt=de.find(Mr=>Mr.companyName===Ue.companyName),Zt=Ae.find(Mr=>Mr.hcfCode===Ue.hcfCode);if(!Tt||!Zt)throw new Error("Company or HCF not found");if(Z){const Mr={invoiceDate:Ue.invoiceDate,dueDate:Ue.dueDate,billingType:Ue.billingType,billingDays:Ue.billingDays?parseInt(Ue.billingDays):void 0,billingOption:Ue.billingOption,bedCount:Ue.bedCount?parseInt(Ue.bedCount):void 0,bedRate:Ue.bedRate?parseFloat(Ue.bedRate):void 0,weightInKg:Ue.weightInKg?parseFloat(Ue.weightInKg):void 0,kgRate:Ue.kgRate?parseFloat(Ue.kgRate):void 0,lumpsumAmount:Ue.lumpsumAmount?parseFloat(Ue.lumpsumAmount):void 0,taxableValue:Ue.taxableValue?parseFloat(Ue.taxableValue):void 0,igst:Ue.igst?parseFloat(Ue.igst):void 0,cgst:Ue.cgst?parseFloat(Ue.cgst):void 0,sgst:Ue.sgst?parseFloat(Ue.sgst):void 0,roundOff:Ue.roundOff?parseFloat(Ue.roundOff):void 0,invoiceValue:Ue.invoiceValue?parseFloat(Ue.invoiceValue):void 0,notes:Ue.notes};await une(Z.id,Mr),X("Invoice updated successfully.")}else{const Mr={companyId:Tt.id,hcfId:Zt.id,invoiceDate:Ue.invoiceDate||new Date().toISOString().split("T")[0],dueDate:Ue.dueDate||new Date().toISOString().split("T")[0],billingType:Ue.billingType||"Monthly",billingDays:Ue.billingDays?parseInt(Ue.billingDays):void 0,billingOption:Ue.billingOption||"Bed-wise",generationType:"Manual",bedCount:Ue.bedCount?parseInt(Ue.bedCount):void 0,bedRate:Ue.bedRate?parseFloat(Ue.bedRate):void 0,weightInKg:Ue.weightInKg?parseFloat(Ue.weightInKg):void 0,kgRate:Ue.kgRate?parseFloat(Ue.kgRate):void 0,lumpsumAmount:Ue.lumpsumAmount?parseFloat(Ue.lumpsumAmount):void 0,taxableValue:Ue.taxableValue?parseFloat(Ue.taxableValue):void 0,igst:Ue.igst?parseFloat(Ue.igst):void 0,cgst:Ue.cgst?parseFloat(Ue.cgst):void 0,sgst:Ue.sgst?parseFloat(Ue.sgst):void 0,roundOff:Ue.roundOff?parseFloat(Ue.roundOff):void 0,invoiceValue:Ue.invoiceValue?parseFloat(Ue.invoiceValue):void 0,notes:Ue.notes,status:"DRAFT"};await dne(Mr),await We(),X('Draft invoice created successfully. Click "Edit Invoices" button in the table below to review and post.')}c(!1),ne(null)}catch(Tt){console.error("Error saving invoice:",Tt),me(Tt.message||"Failed to save invoice")}finally{le(!1)}},Fe=async Ue=>{le(!0),me(null),X(null);try{const yt=await Z8({type:"weight",companyId:Ue.companyId,periodFrom:Ue.pickupDateFrom,periodTo:Ue.pickupDateTo});u(!1),await We(),X(`Generated ${yt.invoiceCount} draft invoice(s) successfully. Click "Edit Invoices" button in the table below to review and post them.`)}catch(yt){console.error("Error generating weight-based draft invoices:",yt),me(yt.message||"Failed to generate draft invoices")}finally{le(!1)}},nt=async Ue=>{le(!0),me(null),X(null);try{const yt=String(Ue.month).padStart(2,"0"),Tt=`${Ue.year}-${yt}`,Zt=await Z8({type:"bed",companyId:Ue.companyId,billingMonth:Tt});f(!1),await We(),X(`Generated ${Zt.invoiceCount} draft invoice(s) successfully. Click "Edit Invoices" button in the table below to review and post them.`)}catch(yt){console.error("Error generating draft invoices:",yt),me(yt.message||"Failed to generate draft invoices")}finally{le(!1)}},tt=async(Ue,yt)=>{le(!0),me(null),X(null);try{const Tt=await Ane(Ue,yt);X(`Batch posted successfully. ${Tt.success} invoice(s) created, ${Tt.failed} failed.`),S(!1),E(null),await We(),setTimeout(()=>{s("/finance/invoice-management")},2e3)}catch(Tt){console.error("Error posting batch:",Tt),me(Tt.message||"Failed to post batch")}finally{le(!1)}},Le=Ue=>{const yt=parseFloat(Ue.taxableValue||"0"),Tt=parseFloat(Ue.igst||"0"),Zt=parseFloat(Ue.cgst||"0"),Mr=parseFloat(Ue.sgst||"0"),_t=parseFloat(Ue.roundOff||"0");return(yt+Tt+Zt+Mr+_t).toFixed(2)},$t=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:a.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:a.pathname==="/transaction"||a.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:a.pathname==="/finance"||a.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname==="/commercial-agreements"||a.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:a.pathname==="/compliance-training"||a.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:a.pathname==="/master"||a.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:a.pathname.startsWith("/report")},...Z1(t,a.pathname)].filter(Ue=>Ue.path==="/dashboard"?Qn(t,"dashboard"):Ue.path==="/transaction"?Qn(t,"transaction"):Ue.path==="/finance"?Qn(t,"finance"):Ue.path==="/commercial-agreements"?Qn(t,"commercial"):Ue.path==="/compliance-training"?Qn(t,"compliance"):Ue.path==="/master"?Qn(t,"master"):Ue.path==="/report"?Qn(t,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${Ce?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Ce&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:re,"aria-label":Ce?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Ce?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:$t.map(Ue=>e.jsx("li",{children:e.jsxs(Rr,{to:Ue.path,className:`nav-link ${Ue.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:Ue.icon}),!Ce&&e.jsx("span",{className:"nav-label",children:Ue.label})]})},Ue.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Ce&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Ce&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Billing Operations",subtitle:"Generate invoices and manage billing operations"}),$&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:$}),e.jsx("button",{onClick:()=>X(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),V&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:V}),e.jsx("button",{onClick:()=>me(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),G&&I.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading billing operations..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),e.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"}),e.jsx("path",{d:"M8 6h8"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Billing Operations"}),e.jsx("p",{className:"ra-page-subtitle",children:"Generate invoices and manage billing operations"})]})]}),e.jsxs("div",{className:"ra-search-actions",style:{minHeight:"36px",marginBottom:"16px",borderBottom:"1px solid #e2e8f0",paddingBottom:"12px",alignItems:"center"},children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search batches...",value:q,onChange:Ue=>{ie(Ue.target.value),pe(1)},className:"ra-search-input",style:{height:"34px",fontSize:"13px"}})]}),e.jsxs("div",{className:"ra-actions",style:{marginLeft:"auto",gap:"8px"},children:[e.jsxs("button",{onClick:ae,style:{width:"163px",height:"34px",padding:"6px 14px",background:"#1e293b",color:"white",border:"none",borderRadius:"6px",fontWeight:500,fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",whiteSpace:"nowrap"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Manual"]}),e.jsxs("button",{onClick:()=>u(!0),style:{width:"163px",height:"34px",padding:"6px 14px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",fontWeight:500,fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",whiteSpace:"nowrap"},children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:e.jsx("path",{d:"M12 2.69C8.5 2.69 5.69 5.5 5.69 9c0 4.5 6.31 10.31 6.31 10.31S18.31 13.5 18.31 9c0-3.5-2.81-6.31-6.31-6.31zM12 11.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),"Weight"]}),e.jsxs("button",{onClick:()=>f(!0),style:{width:"163px",height:"34px",padding:"6px 14px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontWeight:500,fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",whiteSpace:"nowrap"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"})]}),"Bed"]}),e.jsxs("button",{onClick:()=>D(!0),className:"ra-filter-btn",style:{width:"163px",height:"34px",padding:"6px 14px",fontSize:"13px"},children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter"]})]})]}),!G&&e.jsx("div",{style:{marginTop:"16px"},children:(()=>{const Ue=I.filter(_t=>{const Vt=_t.type==="weight"?"Weight Based":_t.type==="bed"?"Bed / Lumpsum":"Manual",mr=q.toLowerCase();return!(q&&!Vt.toLowerCase().includes(mr)||ce.type!=="All"&&_t.type!==ce.type.toLowerCase()||ce.status!=="All"&&_t.status!==ce.status)}),yt=Math.ceil(Ue.length/be),Tt=(ge-1)*be,Zt=Tt+be,Mr=Ue.slice(Tt,Zt);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"TYPE"}),e.jsx("th",{style:{textAlign:"right"},children:"RECORDS"}),e.jsx("th",{style:{textAlign:"right"},children:"DRAFT INVOICES"}),e.jsx("th",{style:{textAlign:"center"},children:"STATUS"}),e.jsx("th",{style:{textAlign:"center"},children:"ACTION"})]})}),e.jsx("tbody",{children:Mr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-message",children:I.length===0?"No billing runs found":"No billing runs match the filters"})}):Mr.map(_t=>{const Vt=new Date(_t.createdAt).toISOString().split("T")[0],mr=_t.type==="weight"?"Weight Based":_t.type==="bed"?"Bed / Lumpsum":"Manual";let Qe="",Bt="",Ge="",Ft=()=>{};return _t.status==="STAGED"?(Qe="Draft",Bt="#dbeafe",Ge="Edit Invoices",Ft=()=>{s(`/finance/draft-invoices/${_t.id}`)}):_t.status==="PROCESSING"?(Qe="Processing",Bt="#fef3c7",Ge="Processing",Ft=()=>{}):_t.status==="POSTED"?(Qe="Posted",Bt="#dcfce7",Ge="View Invoices",Ft=()=>{s("/finance/invoice-management")}):_t.status==="FAILED"&&(Qe="Failed",Bt="#fee2e2",Ge="Retry",Ft=async()=>{try{const Lt=await fne(_t.id);E(Lt),S(!0)}catch(Lt){me(Lt.message||"Failed to load batch preview")}}),e.jsxs("tr",{children:[e.jsx("td",{children:Vt}),e.jsx("td",{children:mr}),e.jsx("td",{style:{textAlign:"right"},children:_t.totalRecords}),e.jsx("td",{style:{textAlign:"right"},children:_t.status==="STAGED"?_t.totalRecords:"-"}),e.jsx("td",{style:{textAlign:"center"},children:e.jsx("div",{className:"ra-cell-center",children:e.jsx("span",{className:`status-badge ${Bt==="#fee2e2"?"status-badge--draft":Bt==="#fef3c7"?"status-badge--in-progress":Bt==="#dcfce7"?"status-badge--completed":"status-badge--draft"}`,style:Qe==="Draft"?{background:"#fef3c7",color:"#92400e",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500}:Bt==="#fee2e2"?{background:"#fee2e2",color:"#991b1b",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500}:Bt==="#dcfce7"?{background:"#dcfce7",color:"#166534",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500}:{background:Bt,color:"#1e40af",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:500},children:Qe})})}),e.jsx("td",{style:{textAlign:"center"},children:e.jsxs("button",{onClick:Ft,disabled:_t.status==="PROCESSING",className:"ra-btn ra-btn--sm",style:{background:_t.status==="PROCESSING"?"#f1f5f9":_t.status==="STAGED"?"#1e293b":"transparent",color:_t.status==="PROCESSING"?"#94a3b8":_t.status==="STAGED"?"white":"#475569",border:_t.status==="STAGED"?"none":"1px solid #cbd5e1",cursor:_t.status==="PROCESSING"?"not-allowed":"pointer"},children:[Ge==="Edit Invoices"&&e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"4px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Ge]})})]},_t.id)})})]})}),Ue.length>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px",padding:"12px 16px",background:"#f8fafc",borderRadius:"8px"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#64748b"},children:["Showing ",Ue.length," of ",I.length," billing runs"]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{className:"ra-btn ra-btn--sm",onClick:()=>pe(_t=>Math.max(1,_t-1)),disabled:ge===1,style:{background:ge===1?"#f1f5f9":"white",color:ge===1?"#94a3b8":"#475569",border:"1px solid #cbd5e1",cursor:ge===1?"not-allowed":"pointer",opacity:ge===1?.6:1},children:"Previous"}),e.jsx("button",{className:"ra-btn ra-btn--sm",onClick:()=>pe(_t=>Math.min(yt,_t+1)),disabled:ge===yt,style:{background:ge===yt?"#f1f5f9":"white",color:ge===yt?"#94a3b8":"#475569",border:"1px solid #cbd5e1",cursor:ge===yt?"not-allowed":"pointer",opacity:ge===yt?.6:1},children:"Next"})]})]})]})})()})]})]}),J&&e.jsx(Fne,{advancedFilters:ce,onClose:()=>D(!1),onClear:()=>{te({type:"All",status:"All"}),ie(""),pe(1)},onApply:Ue=>{te(Ue),D(!1),pe(1)}}),i&&e.jsx(Tne,{invoice:Z,companies:de.filter(Ue=>Ue.status==="Active"),hcfs:Ae.filter(Ue=>Ue.status==="Active"),onClose:()=>{c(!1),ne(null)},onSave:ke,calculateInvoiceValue:Le}),h&&e.jsx(tT,{companies:de.filter(Ue=>Ue.status==="Active"),onClose:()=>f(!1),onGenerate:nt,loading:G,generationMode:"Bed/Lumpsum"}),l&&e.jsx(kne,{companies:de.filter(Ue=>Ue.status==="Active"),hcfs:Ae.filter(Ue=>Ue.status==="Active"),onClose:()=>u(!1),onGenerate:Fe,loading:G}),h&&e.jsx(tT,{companies:de.filter(Ue=>Ue.status==="Active"),onClose:()=>f(!1),onGenerate:nt,loading:G,generationMode:"Bed/Lumpsum"}),m&&y&&e.jsx(_ne,{skipped:y.skipped,onClose:()=>x(!1)}),j&&w&&e.jsx(One,{batch:w,onClose:()=>{S(!1),E(null)},onPost:tt,loading:G})]})},Tne=({invoice:r,companies:t,hcfs:n,onClose:a,onSave:s,calculateInvoiceValue:i})=>{const[c,o]=C.useState(r||{companyName:"",hcfCode:"",invoiceNum:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",billingType:"",billingDays:"",bedCount:"",bedRate:"",weightInKg:"",kgRate:"",lumpsumAmount:"",taxableValue:"",igst:"",cgst:"",sgst:"",roundOff:"0",invoiceValue:"",invoiceStatus:"Draft"}),d=c.companyName?n.filter(h=>h.companyName===c.companyName):n,l=(h,f)=>{const A={...c,[h]:f};if(["taxableValue","igst","cgst","sgst","roundOff"].includes(h)){const y=i(A);A.invoiceValue=y}const g=parseFloat(A.invoiceValue||"0"),m=parseFloat(A.totalPaidAmount||"0"),x=(g-m).toFixed(2);A.balanceAmount=x,o(A)},u=h=>{h.preventDefault(),s(c,!1)};return e.jsx("div",{className:"wp-modal-overlay",onClick:a,children:e.jsxs("div",{className:"wp-modal-content generate-invoice-modal",onClick:h=>h.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:`wp-modal-icon ${r?"wp-modal-icon--edit":"wp-modal-icon--add"}`,children:r?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"wp-modal-title",children:r?"Edit Invoice":"Create Invoice"}),!r&&e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"13px",color:"#64748b",fontWeight:400},children:"Fill in the details to generate a new invoice"})]})]}),e.jsx("button",{className:"wp-modal-close",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"wp-modal-body generate-invoice-form",style:{"--wp-form-columns":"3",overflowY:"auto",flex:"1"},children:[e.jsx("style",{children:`
              .generate-invoice-form .wp-form-row {
                grid-template-columns: 1fr 1fr 1fr !important;
                gap: 12px !important;
                margin-bottom: 12px !important;
              }
              .generate-invoice-form .wp-form-group {
                margin-bottom: 0;
              }
              .generate-invoice-modal .wp-modal-body {
                padding: 16px 18px !important;
              }
              .generate-invoice-form h3 {
                margin-bottom: 12px !important;
              }
              .generate-invoice-modal .wp-modal-header {
                padding: 12px 18px !important;
              }
              .generate-invoice-modal .wp-modal-footer {
                padding: 12px 18px !important;
              }
            `}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"12px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"BASIC INFORMATION"}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyName",children:["Company Name ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyName",value:c.companyName||"",onChange:h=>{l("companyName",h.target.value),l("hcfCode","")},required:!0,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsx("option",{value:h.companyName,children:h.companyName},h.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"hcfCode",children:["HCF Code ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),e.jsxs("select",{id:"hcfCode",value:c.hcfCode||"",onChange:h=>l("hcfCode",h.target.value),required:!0,disabled:!c.companyName,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select HCF"}),d.map(h=>e.jsxs("option",{value:h.hcfCode,children:[h.hcfCode," - ",h.hcfName]},h.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceNum",children:["Invoice Number ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),e.jsx("input",{id:"invoiceNum",type:"text",value:c.invoiceNum||"",onChange:h=>l("invoiceNum",h.target.value),required:!0,placeholder:"e.g., INV-2024-001",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceDate",children:["Invoice Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"invoiceDate",type:"date",value:c.invoiceDate||"",onChange:h=>l("invoiceDate",h.target.value),required:!0,className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"dueDate",children:["Due Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"dueDate",type:"date",value:c.dueDate||"",onChange:h=>l("dueDate",h.target.value),required:!0,className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"billingType",children:["Billing Type ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("select",{id:"billingType",value:c.billingType||"",onChange:h=>l("billingType",h.target.value),required:!0,className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Billing Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"})]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]}),e.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0",marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"12px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"BILLING INFORMATION"}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"billingDays",children:"Billing Days"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"billingDays",type:"text",value:c.billingDays||"",onChange:h=>l("billingDays",h.target.value),placeholder:"Enter billing days",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"bedCount",children:"Bed Count"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),e.jsx("input",{id:"bedCount",type:"text",value:c.bedCount||"",onChange:h=>l("bedCount",h.target.value),placeholder:"Enter bed count",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"bedRate",children:"Bed Rate"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"bedRate",type:"text",value:c.bedRate||"",onChange:h=>l("bedRate",h.target.value),placeholder:"Enter bed rate",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"weightInKg",children:"Weight in Kg"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsx("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.6 1.5-3.5 3.5-5.5z"})}),e.jsx("input",{id:"weightInKg",type:"text",value:c.weightInKg||"",onChange:h=>l("weightInKg",h.target.value),placeholder:"Enter weight in kg",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"kgRate",children:"Kg Rate"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"kgRate",type:"text",value:c.kgRate||"",onChange:h=>l("kgRate",h.target.value),placeholder:"Enter kg rate",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"lumpsumAmount",children:"Lumpsum Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"lumpsumAmount",type:"text",value:c.lumpsumAmount||"",onChange:h=>l("lumpsumAmount",h.target.value),placeholder:"Enter lumpsum amount",className:"wp-form-input"})]})]})]})]}),e.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0",marginBottom:"16px"},children:[e.jsx("h3",{style:{fontSize:"12px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"TAX & AMOUNT INFORMATION"}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"taxableValue",children:["Taxable Value ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"taxableValue",type:"text",value:c.taxableValue||"",onChange:h=>l("taxableValue",h.target.value),required:!0,placeholder:"Enter taxable value",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"igst",children:"IGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"igst",type:"text",value:c.igst||"",onChange:h=>l("igst",h.target.value),placeholder:"Enter IGST",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"cgst",children:"CGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"cgst",type:"text",value:c.cgst||"",onChange:h=>l("cgst",h.target.value),placeholder:"Enter CGST",className:"wp-form-input"})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"sgst",children:"SGST"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"sgst",type:"text",value:c.sgst||"",onChange:h=>l("sgst",h.target.value),placeholder:"Enter SGST",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"roundOff",children:"Round Off"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"roundOff",type:"text",value:c.roundOff||"0",onChange:h=>l("roundOff",h.target.value),placeholder:"Enter round off",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"invoiceValue",children:"Invoice Value"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"invoiceValue",type:"text",value:c.invoiceValue||"",readOnly:!0,placeholder:"Auto-calculated",className:"wp-form-input",style:{backgroundColor:"#f1f5f9",fontWeight:"600"}})]})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"totalPaidAmount",children:"Total Paid Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"totalPaidAmount",type:"text",value:c.totalPaidAmount||"0",onChange:h=>l("totalPaidAmount",h.target.value),placeholder:"Enter paid amount",className:"wp-form-input"})]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"balanceAmount",children:"Balance Amount"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),e.jsx("input",{id:"balanceAmount",type:"text",value:c.balanceAmount||"",readOnly:!0,placeholder:"Auto-calculated",className:"wp-form-input",style:{backgroundColor:"#f1f5f9",fontWeight:"600"}})]})]}),e.jsx("div",{className:"wp-form-group"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("p",{style:{margin:0,fontSize:"13px",color:"#64748b"},children:[e.jsx("span",{style:{color:"#ef4444"},children:"*"})," Required fields"]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",children:"Save Invoice"})]})]})]})]})})},kne=({companies:r,hcfs:t,onClose:n,onGenerate:a,loading:s})=>{const[i,c]=C.useState({companyId:"",pickupDateFrom:"",pickupDateTo:"",billingType:"Monthly",dueDays:30}),o=d=>{d.preventDefault(),!(!i.pickupDateFrom||!i.pickupDateTo)&&a(i)};return e.jsx("div",{className:"wp-modal-overlay",onClick:n,children:e.jsxs("div",{className:"wp-modal-content",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsx("h2",{className:"wp-modal-title",children:"Generate Weight Based Invoices"})]}),e.jsx("button",{className:"wp-modal-close",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",required:!0,value:i.companyId,onChange:d=>c({...i,companyId:d.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"pickupDateFrom",children:["Pickup Date From ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"pickupDateFrom",type:"date",required:!0,value:i.pickupDateFrom,onChange:d=>c({...i,pickupDateFrom:d.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Start date for waste transaction pickup"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"pickupDateTo",children:["Pickup Date To ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"pickupDateTo",type:"date",required:!0,value:i.pickupDateTo,onChange:d=>c({...i,pickupDateTo:d.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"End date for waste transaction pickup"})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:n,disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:s,children:s?"Generating...":"Generate Invoices"})]})]})]})})},tT=({companies:r,onClose:t,onGenerate:n,loading:a,generationMode:s})=>{const i=new Date,c=i.getMonth()+1,o=i.getFullYear();let d=c-1,l=o;d===0&&(d=12,l=o-1);const[u,h]=C.useState({companyId:"",month:d,year:l,invoiceDate:new Date().toISOString().split("T")[0],generationMode:s,dueDays:30}),f=["January","February","March","April","May","June","July","August","September","October","November","December"],A=g=>{g.preventDefault(),n(u)};return e.jsx("div",{className:"wp-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wp-modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),e.jsxs("h2",{className:"wp-modal-title",children:["Auto Generate Invoices (",s,")"]})]}),e.jsx("button",{className:"wp-modal-close",onClick:t,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{onSubmit:A,children:[e.jsxs("div",{className:"wp-modal-body",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"companyId",children:["Company ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsxs("select",{id:"companyId",required:!0,value:u.companyId,onChange:g=>h({...u,companyId:g.target.value}),className:"wp-form-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(g=>e.jsx("option",{value:g.id,children:g.companyName},g.id))]}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Note: Only HCFs with AutoGeneration enabled will be included"})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"month",children:["Month ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("select",{id:"month",required:!0,value:u.month,onChange:g=>h({...u,month:parseInt(g.target.value)}),className:"wp-form-select",children:f.map((g,m)=>e.jsxs("option",{value:m+1,disabled:m+1!==d,children:[g," ",m+1===d?"(Previous Month)":""]},m+1))}),e.jsx("svg",{className:"wp-select-arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),e.jsxs("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:["Only previous month (",f[d-1]," ",l,") can be selected"]})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"year",children:["Year ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"year",type:"number",required:!0,min:"2000",max:"2100",value:u.year,onChange:g=>h({...u,year:parseInt(g.target.value)}),disabled:!0,className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Year is automatically set to previous month's year"})]})]}),e.jsxs("div",{className:"wp-form-row",children:[e.jsxs("div",{className:"wp-form-group",children:[e.jsxs("label",{htmlFor:"invoiceDate",children:["Invoice Date ",e.jsx("span",{className:"wp-required",children:"*"})]}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("input",{id:"invoiceDate",type:"date",required:!0,value:u.invoiceDate,onChange:g=>h({...u,invoiceDate:g.target.value}),className:"wp-form-input"})]}),e.jsx("small",{style:{display:"block",marginTop:"3px",color:"#64748b",fontSize:"11px"},children:"Enter the invoice date"})]}),e.jsxs("div",{className:"wp-form-group",children:[e.jsx("label",{htmlFor:"dueDays",children:"Due Days (from invoice date)"}),e.jsxs("div",{className:"wp-input-wrapper",children:[e.jsxs("svg",{className:"wp-input-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),e.jsx("input",{id:"dueDays",type:"number",min:"1",value:u.dueDays||30,onChange:g=>h({...u,dueDays:parseInt(g.target.value)||30}),className:"wp-form-input"})]})]})]})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{type:"button",className:"wp-btn wp-btn--cancel",onClick:t,disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"wp-btn wp-btn--save",disabled:a,children:a?"Generating...":`Generate Invoices (${s})`})]})]})]})})},_ne=({skipped:r,onClose:t})=>e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:"Duplicate Invoices Found"}),e.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("p",{style:{marginBottom:"16px",color:"#666"},children:"The following HCFs already have invoices for the selected period. These were skipped during generation:"}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f5f5f5"},children:[e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"HCF Code"}),e.jsx("th",{style:{padding:"8px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Reason"})]})}),e.jsx("tbody",{children:r.map((n,a)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.hcfCode}),e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:n.reason})]},a))})]})})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--primary",onClick:t,children:"OK"})})]})}),One=({batch:r,onClose:t,onPost:n,loading:a})=>{const[s,i]=C.useState(new Date().toISOString().split("T")[0]),[c,o]=C.useState(r.items),d=()=>{window.confirm(`Are you sure you want to post this batch? This will create ${c.filter(f=>f.isSelected&&!f.errorFlag).length} invoice(s).`)&&n(r.id,s)},l=f=>{o(c.map(A=>A.id===f?{...A,isSelected:!A.isSelected}:A))},u=c.filter(f=>f.isSelected&&!f.errorFlag).length,h=c.filter(f=>f.errorFlag).length;return e.jsx("div",{className:"wp-modal-overlay",onClick:t,children:e.jsxs("div",{className:"wp-modal-content",onClick:f=>f.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"wp-modal-header",children:[e.jsxs("div",{className:"wp-modal-header-left",children:[e.jsx("div",{className:"wp-modal-icon wp-modal-icon--add",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("h2",{className:"wp-modal-title",children:["Batch Preview - ",r.type==="weight"?"Weight Based":r.type==="bed"?"Bed / Lumpsum":"Manual"]})]}),e.jsx("button",{className:"wp-modal-close",onClick:t,children:""})]}),e.jsxs("div",{className:"wp-modal-body",style:{flexGrow:1,overflowY:"auto",padding:"20px"},children:[e.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{children:e.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:["Total Records: ",e.jsx("strong",{children:r.totalRecords})," | Selected: ",e.jsx("strong",{style:{color:"#10b981"},children:u})," | Errors: ",e.jsx("strong",{style:{color:"#ef4444"},children:h})]})}),e.jsxs("div",{className:"wp-form-group",style:{margin:0,width:"200px"},children:[e.jsx("label",{htmlFor:"invoiceDate",style:{fontSize:"12px",marginBottom:"4px"},children:"Invoice Date"}),e.jsx("input",{id:"invoiceDate",type:"date",value:s,onChange:f=>i(f.target.value),className:"wp-form-input",style:{padding:"6px 10px",fontSize:"13px"}})]})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"10px",textAlign:"left",fontWeight:600,color:"#64748b"},children:e.jsx("input",{type:"checkbox",checked:u===c.filter(f=>!f.errorFlag).length&&u>0,onChange:f=>{const A=f.target.checked;o(c.map(g=>g.errorFlag?g:{...g,isSelected:A}))}})}),e.jsx("th",{style:{padding:"10px",textAlign:"left",fontWeight:600,color:"#64748b"},children:"Customer"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",fontWeight:600,color:"#64748b"},children:"Qty"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",fontWeight:600,color:"#64748b"},children:"Rate"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",fontWeight:600,color:"#64748b"},children:"Tax %"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",fontWeight:600,color:"#64748b"},children:"Amount"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",fontWeight:600,color:"#64748b"},children:"Status"})]})}),e.jsx("tbody",{children:c.map(f=>e.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("input",{type:"checkbox",checked:f.isSelected,onChange:()=>l(f.id),disabled:f.errorFlag})}),e.jsx("td",{style:{padding:"10px",color:"#1e293b"},children:f.customerId}),e.jsx("td",{style:{padding:"10px",textAlign:"right",color:"#1e293b"},children:f.quantity.toFixed(2)}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",color:"#1e293b"},children:["",f.rate.toFixed(2)]}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",color:"#1e293b"},children:[f.taxPercent,"%"]}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",color:"#1e293b",fontWeight:600},children:["",f.amount.toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:f.errorFlag?e.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"11px",background:"#fee2e2",color:"#991b1b"},children:f.errorMessage||"Error"}):e.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"11px",background:"#dcfce7",color:"#166534"},children:"Ready"})})]},f.id))})]})})]}),e.jsxs("div",{className:"wp-modal-footer",children:[e.jsx("button",{className:"wp-btn wp-btn--cancel",onClick:t,disabled:a,children:"Cancel"}),e.jsx("button",{className:"wp-btn wp-btn--save",onClick:d,disabled:a||u===0,style:{backgroundColor:"#10b981"},children:a?"Posting...":`Post Batch (${u} invoices)`})]})]})})},Fne=({advancedFilters:r,onClose:t,onClear:n,onApply:a})=>{const[s,i]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter billing runs by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:t,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:s.type,onChange:c=>i({...s,type:c.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"manual",children:"Manual"}),e.jsx("option",{value:"weight",children:"Weight Based"}),e.jsx("option",{value:"bed",children:"Bed / Lumpsum"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status,onChange:c=>i({...s,status:c.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"STAGED",children:"Draft"}),e.jsx("option",{value:"PROCESSING",children:"Processing"}),e.jsx("option",{value:"POSTED",children:"Posted"}),e.jsx("option",{value:"FAILED",children:"Failed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:n,children:"Clear All"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--primary",onClick:()=>a(s),children:"Apply Filters"})]})]})]})})},Pne=()=>{const{batchId:r}=TM(),t=Ma(),n=un(),{logout:a,permissions:s,user:i}=Wn(),[c,o]=C.useState(!1),d=()=>{o(!c)},[l,u]=C.useState([]),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState(null),[y,b]=C.useState({}),[j,S]=C.useState(""),[w,E]=C.useState(""),[I,L]=C.useState(""),[Z,ne]=C.useState(!1),[G,le]=C.useState({customer:"",status:"All",minAmount:"",maxAmount:""});C.useEffect(()=>{r&&V()},[r]);const V=async()=>{if(r){f(!0),g(null);try{const ye=await mne(r),Oe=[...new Set(ye.map(ke=>ke.hcfId))],We={};for(const ke of Oe)try{const Fe=await xi.getHcfById(ke);We[ke]={code:Fe.hcfCode,name:Fe.hcfName}}catch{We[ke]={code:ke.substring(0,8),name:"Unknown"}}b(We);const ae=ye.map(ke=>({...ke,isSelected:!0,hasError:(ke.invoiceValue||0)<=0,originalQuantity:ke.weightInKg||ke.bedCount||1,originalRate:ke.kgRate||ke.bedRate||ke.lumpsumAmount||0,originalDueDate:ke.dueDate}));u(ae)}catch(ye){console.error("Error loading draft invoices:",ye),g(ye.message||"Failed to load draft invoices")}finally{f(!1)}}},me=ye=>{u(l.map(Oe=>Oe.invoiceId===ye?{...Oe,isSelected:!Oe.isSelected}:Oe))},$=async(ye,Oe,We)=>{if(l.find(ke=>ke.invoiceId===ye)){f(!0);try{const ke={};Oe==="quantity"?ke.quantity=Number(We):Oe==="rate"?ke.rate=Number(We):Oe==="dueDate"&&(ke.dueDate=String(We));const Fe=await Vw(ye,ke);u(l.map(nt=>{if(nt.invoiceId===ye){const tt={...nt,...Fe};return tt.hasError=(tt.invoiceValue||0)<=0,tt}return nt})),x("Invoice updated successfully"),setTimeout(()=>x(null),3e3)}catch(ke){console.error("Error updating invoice:",ke),g(ke.message||"Failed to update invoice")}finally{f(!1)}}},X=()=>{if(!j||isNaN(Number(j))){g("Please enter a valid rate");return}const ye=l.filter(Oe=>Oe.isSelected&&!Oe.hasError);if(ye.length===0){g("Please select at least one invoice");return}f(!0),Promise.all(ye.map(Oe=>Vw(Oe.invoiceId,{rate:Number(j)}))).then(()=>{V(),S(""),x(`Updated rate for ${ye.length} invoice(s)`),setTimeout(()=>x(null),3e3)}).catch(Oe=>{g(Oe.message||"Failed to update rates")}).finally(()=>f(!1))},Ce=()=>{if(!w){g("Please select a due date");return}const ye=l.filter(Oe=>Oe.isSelected&&!Oe.hasError);if(ye.length===0){g("Please select at least one invoice");return}f(!0),Promise.all(ye.map(Oe=>Vw(Oe.invoiceId,{dueDate:w}))).then(()=>{V(),E(""),x(`Updated due date for ${ye.length} invoice(s)`),setTimeout(()=>x(null),3e3)}).catch(Oe=>{g(Oe.message||"Failed to update due dates")}).finally(()=>f(!1))},M=()=>{const ye=l.filter(Oe=>Oe.isSelected).map(Oe=>Oe.invoiceId);if(ye.length===0){g("Please select at least one invoice to delete");return}window.confirm(`Are you sure you want to delete ${ye.length} invoice(s)?`)&&(u(l.filter(Oe=>!Oe.isSelected)),x(`Deleted ${ye.length} invoice(s)`),setTimeout(()=>x(null),3e3))},q=()=>{const ye=[];l.forEach(Oe=>{if(Oe.isSelected&&Oe.hasError){const We=y[Oe.hcfId];ye.push(`${(We==null?void 0:We.code)||Oe.hcfId}: Amount is zero or negative`)}}),ye.length>0?g(`Validation failed:
${ye.join(`
`)}`):(x("All selected invoices are valid"),setTimeout(()=>x(null),3e3))},ie=async()=>{x("Draft invoices saved"),setTimeout(()=>x(null),3e3)},J=async()=>{const ye=l.filter(We=>We.isSelected&&!We.hasError);if(ye.length===0){g("Please select at least one valid invoice to post");return}if(ye.some(We=>We.hasError)){g("Cannot post invoices with errors. Please fix or deselect them.");return}if(window.confirm(`Are you sure you want to post ${ye.length} invoice(s)? This action cannot be undone.`)){f(!0),g(null);try{const We=ye.map(Fe=>Fe.invoiceId),ae=new Date().toISOString().split("T")[0],ke=await gne(We,ae);x(`Posted ${ke.success} invoice(s) successfully. ${ke.failed} failed.`),setTimeout(()=>{t("/finance/invoice-management")},2e3)}catch(We){console.error("Error posting invoices:",We),g(We.message||"Failed to post invoices")}finally{f(!1)}}},D=ye=>ye.weightInKg||ye.bedCount||1,ce=ye=>ye.kgRate||ye.bedRate||ye.lumpsumAmount||0,te=ye=>{var Oe,We,ae,ke;return ye.billingOption==="Weight-wise"?`Weight-based billing: ${(Oe=ye.weightInKg)==null?void 0:Oe.toFixed(2)} kg @ ${(We=ye.kgRate)==null?void 0:We.toFixed(2)}/kg`:ye.billingOption==="Bed-wise"?`Bed-wise billing: ${ye.bedCount} beds @ ${(ae=ye.bedRate)==null?void 0:ae.toFixed(2)}/bed`:`Lumpsum billing: ${(ke=ye.lumpsumAmount)==null?void 0:ke.toFixed(2)}`},ge=l.filter(ye=>{const Oe=y[ye.hcfId],We=Oe?`${Oe.code} ${Oe.name}`.toLowerCase():"",ae=te(ye).toLowerCase(),ke=I.toLowerCase();if(I&&!We.includes(ke)&&!ae.includes(ke))return!1;if(G.customer&&Oe){const Fe=G.customer.toLowerCase();if(!We.includes(Fe))return!1}if(G.status!=="All"&&(ye.hasError&&G.status!=="Error"||!ye.hasError&&ye.status!==G.status))return!1;if(G.minAmount){const Fe=parseFloat(G.minAmount);if(ye.invoiceValue<Fe)return!1}if(G.maxAmount){const Fe=parseFloat(G.maxAmount);if(ye.invoiceValue>Fe)return!1}return!0}),pe=ge.filter(ye=>ye.isSelected).length,be=ge.filter(ye=>ye.isSelected&&!ye.hasError).length,re=ge.filter(ye=>ye.hasError).length,de=ge.filter(ye=>ye.isSelected&&!ye.hasError).reduce((ye,Oe)=>ye+(Oe.invoiceValue||0),0),Ae=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:n.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:n.pathname==="/transaction"||n.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:n.pathname==="/finance"||n.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname==="/commercial-agreements"||n.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:n.pathname==="/compliance-training"||n.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:n.pathname==="/master"||n.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:n.pathname.startsWith("/report")},...Z1(s,n.pathname)].filter(ye=>ye.path==="/dashboard"?Qn(s,"dashboard"):ye.path==="/transaction"?Qn(s,"transaction"):ye.path==="/finance"?Qn(s,"finance"):ye.path==="/commercial-agreements"?Qn(s,"commercial"):ye.path==="/compliance-training"?Qn(s,"compliance"):ye.path==="/master"?Qn(s,"master"):ye.path==="/report"?Qn(s,"report"):!0);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${c?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:d,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:Ae.map(ye=>e.jsx("li",{children:e.jsxs(Rr,{to:ye.path,className:`nav-link ${ye.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ye.icon}),!c&&e.jsx("span",{className:"nav-label",children:ye.label})]})},ye.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!c&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:a,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Draft Invoice Batch Edit",subtitle:"Review and edit draft invoices before posting"}),m&&e.jsxs("div",{className:"ra-alert ra-alert--success",role:"status","aria-live":"polite",children:[e.jsx("span",{children:m}),e.jsx("button",{onClick:()=>x(null),className:"ra-alert-close","aria-label":"Close success message",children:""})]}),A&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:A}),e.jsx("button",{onClick:()=>g(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),h&&l.length===0&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading draft invoices..."}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Draft Invoice Batch Edit"}),e.jsx("p",{className:"ra-page-subtitle",children:"Review and edit draft invoices before posting"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search by customer, description...",value:I,onChange:ye=>L(ye.target.value),className:"ra-search-input"})]}),e.jsx("div",{className:"ra-actions",children:e.jsxs("button",{className:"ra-filter-btn",onClick:()=>ne(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]})})]}),e.jsxs("div",{className:"ra-toolbar",children:[e.jsxs("div",{className:"ra-toolbar-left",children:[e.jsxs("div",{className:"ra-control ra-control--search",children:[e.jsx("label",{children:"Change Rate"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("input",{type:"number",value:j,onChange:ye=>S(ye.target.value),placeholder:"Enter rate",className:"ra-assignment-input",style:{flex:1},disabled:h||l.length===0}),e.jsx("button",{onClick:X,disabled:h||l.length===0||!j,className:"ra-btn ra-btn--primary ra-btn--sm",children:"Apply"})]})]}),e.jsxs("div",{className:"ra-control",children:[e.jsx("label",{children:"Change Due Date"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("input",{type:"date",value:w,onChange:ye=>E(ye.target.value),className:"ra-assignment-input",disabled:h||l.length===0}),e.jsx("button",{onClick:Ce,disabled:h||l.length===0||!w,className:"ra-btn ra-btn--primary ra-btn--sm",children:"Apply"})]})]})]}),e.jsx("div",{className:"ra-toolbar-right",children:e.jsx("button",{onClick:M,disabled:h||pe===0||l.length===0,className:"ra-btn ra-btn--secondary",children:"Delete Selected"})})]}),l.length>0&&e.jsxs("div",{style:{background:"#f8fafc",padding:"16px",borderRadius:"8px",border:"1px solid #e2e8f0",marginBottom:"16px",display:"flex",gap:"24px",fontSize:"14px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Total Records:"})," ",ge.length]}),e.jsxs("div",{style:{color:"#10b981"},children:[e.jsx("strong",{children:"Valid Records:"})," ",be]}),e.jsxs("div",{style:{color:"#ef4444"},children:[e.jsx("strong",{children:"Error Records:"})," ",re]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Amount:"})," ",de.toFixed(2)]})]}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:pe===ge.length&&ge.length>0,onChange:()=>{const ye=ge.every(Oe=>Oe.isSelected);u(l.map(Oe=>ge.some(ae=>ae.invoiceId===Oe.invoiceId)?{...Oe,isSelected:!ye}:Oe))}})}),e.jsx("th",{children:"CUSTOMER"}),e.jsx("th",{children:"DESCRIPTION"}),e.jsx("th",{style:{textAlign:"right"},children:"QTY"}),e.jsx("th",{style:{textAlign:"right"},children:"RATE"}),e.jsx("th",{style:{textAlign:"right"},children:"AMOUNT"}),e.jsx("th",{children:"DUE DATE"}),e.jsx("th",{style:{textAlign:"center"},children:"STATUS"})]})}),e.jsx("tbody",{children:ge.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:h?"Loading...":l.length===0?"No draft invoices found":"No invoices match the filters"})}):ge.map(ye=>{const Oe=y[ye.hcfId];return e.jsxs("tr",{className:ye.hasError?"read-only-row":"",style:{background:ye.hasError?"#fef2f2":ye.isSelected?"#f0f9ff":"transparent"},children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:ye.isSelected,onChange:()=>me(ye.invoiceId)})}),e.jsx("td",{children:Oe?`${Oe.code} - ${Oe.name}`:ye.hcfId}),e.jsx("td",{style:{fontSize:"12px",color:"#64748b"},children:te(ye)}),e.jsx("td",{style:{textAlign:"right"},children:e.jsx("input",{type:"number",value:D(ye),onChange:We=>$(ye.invoiceId,"quantity",We.target.value),className:"ra-assignment-input",style:{width:"80px",textAlign:"right"},step:"0.01"})}),e.jsx("td",{style:{textAlign:"right"},children:e.jsx("input",{type:"number",value:ce(ye),onChange:We=>$(ye.invoiceId,"rate",We.target.value),className:"ra-assignment-input",style:{width:"100px",textAlign:"right"},step:"0.01"})}),e.jsxs("td",{style:{textAlign:"right",fontWeight:600},children:["",(ye.invoiceValue||0).toFixed(2)]}),e.jsx("td",{children:e.jsx("input",{type:"date",value:ye.dueDate||"",onChange:We=>$(ye.invoiceId,"dueDate",We.target.value),className:"ra-assignment-input",style:{fontSize:"13px"}})}),e.jsx("td",{style:{textAlign:"center"},children:e.jsx("div",{className:"ra-cell-center",children:ye.hasError?e.jsx("span",{className:"status-badge status-badge--draft",style:{background:"#fee2e2",color:"#991b1b"},children:"Error"}):e.jsx("span",{className:"status-badge status-badge--draft",children:ye.status||"Draft"})})})]},ye.invoiceId)})})]})}),l.length>0&&e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ge.length," of ",l.length," items"]}),e.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"8px",display:"flex",gap:"12px",justifyContent:"flex-end",position:"sticky",bottom:0,zIndex:10},children:[e.jsx("button",{onClick:ie,disabled:h||l.length===0,className:"ra-btn ra-btn--secondary",children:"Save Draft"}),e.jsx("button",{onClick:q,disabled:h||l.length===0,className:"ra-btn ra-btn--secondary",style:{background:"#f59e0b",color:"white",borderColor:"#f59e0b"},children:"Validate"}),e.jsxs("button",{onClick:J,disabled:h||be===0,className:"ra-btn ra-btn--primary",children:["Post Invoices (",be,")"]})]})]})]}),Z&&e.jsx(Dne,{advancedFilters:G,onClose:()=>ne(!1),onClear:()=>{le({customer:"",status:"All",minAmount:"",maxAmount:""}),L("")},onApply:ye=>{le(ye),ne(!1)}})]})},Dne=({advancedFilters:r,onClose:t,onClear:n,onApply:a})=>{const[s,i]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:t,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter draft invoices by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:t,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Customer"}),e.jsx("input",{type:"text",value:s.customer,onChange:c=>i({...s,customer:c.target.value}),placeholder:"Search by customer name or code",className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:s.status,onChange:c=>i({...s,status:c.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Error",children:"Error"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Min Amount"}),e.jsx("input",{type:"number",value:s.minAmount,onChange:c=>i({...s,minAmount:c.target.value}),placeholder:"Minimum amount",className:"ra-filter-input",step:"0.01"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Max Amount"}),e.jsx("input",{type:"number",value:s.maxAmount,onChange:c=>i({...s,maxAmount:c.target.value}),placeholder:"Maximum amount",className:"ra-filter-input",step:"0.01"})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:n,children:"Clear All"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--cancel",onClick:t,children:"Cancel"}),e.jsx("button",{type:"button",className:"ra-assignment-btn ra-assignment-btn--primary",onClick:()=>a(s),children:"Apply Filters"})]})]})]})})},Mne=()=>{var le;const{logout:r}=Wn(),t=Ma(),[n]=x4(),a=n.get("invoices")||"",s=a.split(",").filter(V=>V),[i,c]=C.useState([]),[o,d]=C.useState([]),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(null),[m,x]=C.useState({companyId:"",paymentDate:new Date().toISOString().split("T")[0],paymentAmount:0,paymentMode:es.CASH,referenceNumber:null,bankName:null,chequeNumber:null,chequeDate:null,notes:null,invoiceAllocations:[]}),[y,b]=C.useState(!1),[j,S]=C.useState(!1),w=C.useRef(0),E=C.useRef(null);C.useEffect(()=>{I()},[a]);const I=async()=>{var V,me;if(s.length===0){f("No invoices selected");return}u(!0),f(null);try{const $=await ia.getAllCompanies();d($.filter(ie=>ie.status==="Active"));const Ce=(await tD()).filter(ie=>s.includes(ie.invoiceId));if(Ce.length===0){f("Selected invoices not found");return}const M=Ce.map(ie=>({id:ie.invoiceId,invoiceId:ie.invoiceId,companyId:ie.companyId,companyName:ie.companyName,hcfId:ie.hcfId,hcfCode:ie.hcfCode,invoiceNum:ie.invoiceNumber,invoiceDate:ie.invoiceDate,dueDate:ie.dueDate,invoiceValue:ie.invoiceValue,totalPaidAmount:ie.totalPaidAmount,balanceAmount:ie.balanceAmount,invoiceStatus:ie.status}));c(M),M.length>0&&M[0].companyId&&x(ie=>({...ie,companyId:M[0].companyId}));const q=M.reduce((ie,J)=>ie+parseFloat(J.balanceAmount||"0"),0);w.current=q,x(ie=>({...ie,paymentAmount:q}))}catch($){console.error("Error loading data:",$);let X="Failed to load invoice data";$.message?X=$.message:(me=(V=$.response)==null?void 0:V.data)!=null&&me.message?X=$.response.data.message:typeof $=="string"&&(X=$),(X.includes("Internal server error")||X.includes("500"))&&(X="Internal server error. Please check the backend logs or try again later."),f(X)}finally{u(!1)}},L=i.reduce((V,me)=>V+parseFloat(me.balanceAmount||"0"),0),Z=async V=>{var $;V.preventDefault();let me=0;if(E.current){const X=E.current.value;me=X?parseFloat(X):0}if((!me||me<=0)&&(me=w.current>0?w.current:m.paymentAmount),me=Number(me),console.log("=== Form Submit Debug ==="),console.log("Input Field Value:",($=E.current)==null?void 0:$.value),console.log("Payment Amount Ref:",w.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Current Amount:",me),me>L){f(`Payment amount (${me.toFixed(2)}) cannot exceed total payable (${L.toFixed(2)})`);return}if(me<=0||isNaN(me)){f("Payment amount must be greater than zero"),me=L,w.current=L,x(X=>({...X,paymentAmount:L})),E.current&&(E.current.value=L.toString());return}w.current=me,x(X=>({...X,paymentAmount:me})),E.current&&(E.current.value=me.toString()),b(!0)},ne=async()=>{var V,me,$;b(!1),S(!0),u(!0),f(null),g(null);try{let X=0;if(E.current){const J=E.current.value;X=J?parseFloat(J):0,console.log("Reading from input field:",J,"->",X)}if((!X||X<=0)&&(X=w.current>0?w.current:m.paymentAmount,console.log("Using fallback - Ref:",w.current,"FormData:",m.paymentAmount)),X=Number(X),console.log("=== Payment Processing Debug ==="),console.log("Input Field Value:",(V=E.current)==null?void 0:V.value),console.log("Payment Amount Ref:",w.current),console.log("Form Data Payment Amount:",m.paymentAmount),console.log("Final Payment Amount:",X),console.log("Total Payable:",L),!X||X<=0||isNaN(X)){f(`Invalid payment amount: ${X}. Please enter a valid amount greater than zero.`),S(!1),u(!1);return}if(X>L){f(`Payment amount (${X.toFixed(2)}) cannot exceed total payable (${L.toFixed(2)})`),S(!1),u(!1);return}const Ce=i.map(J=>({invoiceId:J.id,allocatedAmount:0})),M={companyId:m.companyId||"",paymentDate:m.paymentDate||new Date().toISOString().split("T")[0],paymentAmount:X,paymentMode:m.paymentMode||es.CASH,referenceNumber:m.referenceNumber||null,bankName:m.bankName||null,chequeNumber:m.chequeNumber||null,chequeDate:m.chequeDate||null,notes:m.notes||null,invoiceAllocations:Ce},q=Number(M.paymentAmount);if(!q||q<=0||isNaN(q)){console.error("=== PAYMENT AMOUNT VALIDATION FAILED ==="),console.error("Payment Request:",M),console.error("Payment Amount:",M.paymentAmount),console.error("Final Payment Amount:",q),f(`Invalid payment amount: ${M.paymentAmount}. Cannot proceed. Please check the amount and try again.`),S(!1),u(!1);return}M.paymentAmount=q,console.log("=== Final Payment Request ==="),console.log("Payment Request Object:",M),console.log("Payment Amount Type:",typeof M.paymentAmount),console.log("Payment Amount Value:",M.paymentAmount),console.log("Payment Amount is Number?",!isNaN(M.paymentAmount)),console.log("JSON Stringified:",JSON.stringify(M,null,2)),console.log("JSON paymentAmount value:",JSON.stringify(M).match(/"paymentAmount":\s*([^,}]+)/));const ie=await rD(M);t("/finance/payment-success",{state:{receiptNumber:ie.receipt.receiptNumber,receiptId:ie.receipt.receiptId,totalAmount:ie.receipt.totalAmount,receiptDate:ie.receipt.receiptDate,invoiceUpdates:ie.invoiceUpdates}})}catch(X){console.error("Error processing payment:",X);let Ce="Failed to process payment";X.message?Ce=X.message:($=(me=X.response)==null?void 0:me.data)!=null&&$.message?Ce=X.response.data.message:typeof X=="string"&&(Ce=X),(Ce.includes("Internal server error")||Ce.includes("500"))&&(Ce="Internal server error. Please check the backend logs or try again later."),f(Ce),S(!1)}finally{u(!1)}},G=()=>{t("/finance/invoice-management")};return s.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("h2",{children:"No invoices selected"}),e.jsx("p",{children:"Please select invoices from the Invoice Management page."}),e.jsx("button",{onClick:G,style:{marginTop:"20px",padding:"10px 20px"},children:"Back to Invoice Management"})]}):e.jsx("div",{className:"payment-page",style:{minHeight:"100vh",background:"#F8FAFC",padding:"24px",display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:"950px",width:"100%",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[e.jsxs("button",{onClick:G,style:{padding:"8px 16px",background:"#FFFFFF",border:"1px solid #E2E8F0",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,color:"#475569",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:V=>{V.currentTarget.style.background="#F1F5F9",V.currentTarget.style.borderColor="#CBD5E1"},onMouseLeave:V=>{V.currentTarget.style.background="#FFFFFF",V.currentTarget.style.borderColor="#E2E8F0"},children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back"]}),e.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:600,color:"#1F2937"},children:"Process Payment"})]}),h&&e.jsxs("div",{className:"alert alert-error",style:{marginBottom:"24px",padding:"12px 16px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",color:"#DC2626"},children:[h,e.jsx("button",{onClick:()=>f(null),style:{float:"right",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#DC2626",padding:"0",marginLeft:"12px"},children:""})]}),A&&e.jsx("div",{className:"alert alert-success",style:{marginBottom:"24px",padding:"12px 16px",background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"8px",color:"#059669"},children:A}),e.jsxs("form",{onSubmit:Z,children:[e.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#F1F5F9",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[e.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600,color:"#1F2937"},children:["Selected Invoices (",i.length,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:i.map(V=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",padding:"12px",background:"#FFFFFF",borderRadius:"6px",border:"1px solid #E2E8F0"},children:[e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Invoice #"}),e.jsx("div",{style:{fontSize:"14px",color:"#1F2937",fontWeight:600,textAlign:"right"},children:V.invoiceNum}),e.jsx("div",{style:{fontSize:"14px",color:"#6B7280",fontWeight:500},children:"Balance"}),e.jsxs("div",{style:{fontSize:"14px",color:"#059669",fontWeight:700,textAlign:"right"},children:["",parseFloat(V.balanceAmount||"0").toFixed(2)]})]},V.id))}),e.jsxs("div",{style:{padding:"16px",background:"#FFFFFF",borderRadius:"6px",border:"2px solid #10b981",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#1F2937"},children:"Total Payable:"}),e.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"#059669",letterSpacing:"-0.02em"},children:["",L.toFixed(2)]})]})]}),e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:600,color:"#1F2937"},children:"Payment Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Company *"}),e.jsx("input",{type:"text",value:((le=o.find(V=>V.id===m.companyId))==null?void 0:le.companyName)||"",readOnly:!0,disabled:!0,style:{width:"100%",padding:"10px 12px",background:"#F3F4F6",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"not-allowed",fontSize:"14px",color:"#6B7280"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Company is derived from selected invoices"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Date *"}),e.jsx("input",{type:"date",required:!0,value:m.paymentDate,onChange:V=>x(me=>({...me,paymentDate:V.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Mode *"}),e.jsxs("select",{required:!0,value:m.paymentMode,onChange:V=>x(me=>({...me,paymentMode:V.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",background:"#FFFFFF",cursor:"pointer"},children:[e.jsx("option",{value:es.CASH,children:"Cash"}),e.jsx("option",{value:es.CHEQUE,children:"Cheque"}),e.jsx("option",{value:es.NEFT,children:"NEFT"}),e.jsx("option",{value:es.RTGS,children:"RTGS"}),e.jsx("option",{value:es.BANK_TRANSFER,children:"Bank Transfer"}),e.jsx("option",{value:es.UPI,children:"UPI"}),e.jsx("option",{value:es.OTHER,children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Payment Amount *"}),e.jsx("input",{ref:E,type:"number",required:!0,min:"0.01",step:"0.01",max:L,value:m.paymentAmount>0?m.paymentAmount:"",onChange:V=>{const me=V.target.value.trim();if(me===""){x(X=>({...X,paymentAmount:0})),f(null);return}const $=parseFloat(me);if(isNaN($)){x(X=>({...X,paymentAmount:0}));return}if($<0){x(X=>({...X,paymentAmount:0}));return}$>L?f(`Payment amount cannot exceed total payable of ${L.toFixed(2)}`):f(null),w.current=$,x(X=>({...X,paymentAmount:$})),console.log("Payment amount updated to:",$)},onBlur:V=>{const me=V.target.value.trim();if(me===""){w.current=L,x(X=>({...X,paymentAmount:L}));return}const $=parseFloat(me);isNaN($)||$<=0?(w.current=L,x(X=>({...X,paymentAmount:L}))):(w.current=$,x(X=>({...X,paymentAmount:$})))},style:{width:"100%",padding:"12px",border:"2px solid #10b981",borderRadius:"6px",fontSize:"16px",fontWeight:600,color:"#1F2937",background:"#FFFFFF"}}),e.jsxs("small",{style:{display:"block",marginTop:"6px",color:"#6B7280",fontSize:"12px"},children:["Maximum: ",L.toFixed(2)," (supports partial payments)"]})]}),(m.paymentMode===es.CHEQUE||m.paymentMode===es.BANK_TRANSFER||m.paymentMode===es.NEFT||m.paymentMode===es.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Reference Number"}),e.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:V=>x({...m,referenceNumber:V.target.value||null}),placeholder:"Transaction/Reference number"})]}),m.paymentMode===es.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:m.bankName||"",onChange:V=>x({...m,bankName:V.target.value||null}),placeholder:"Bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:V=>x({...m,chequeNumber:V.target.value||null}),placeholder:"Cheque number"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Cheque Date"}),e.jsx("input",{type:"date",value:m.chequeDate||"",onChange:V=>x({...m,chequeDate:V.target.value||null})})]})]})]}),(m.paymentMode===es.CHEQUE||m.paymentMode===es.BANK_TRANSFER||m.paymentMode===es.NEFT||m.paymentMode===es.RTGS)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Reference Number"}),e.jsx("input",{type:"text",value:m.referenceNumber||"",onChange:V=>x({...m,referenceNumber:V.target.value||null}),placeholder:"Transaction/Reference number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),m.paymentMode===es.CHEQUE&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Bank Name"}),e.jsx("input",{type:"text",value:m.bankName||"",onChange:V=>x({...m,bankName:V.target.value||null}),placeholder:"Bank name",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Number"}),e.jsx("input",{type:"text",value:m.chequeNumber||"",onChange:V=>x({...m,chequeNumber:V.target.value||null}),placeholder:"Cheque number",style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Cheque Date"}),e.jsx("input",{type:"date",value:m.chequeDate||"",onChange:V=>x({...m,chequeDate:V.target.value||null}),style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937"}})]})]})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:500,color:"#374151"},children:"Notes"}),e.jsx("textarea",{value:m.notes||"",onChange:V=>x({...m,notes:V.target.value||null}),placeholder:"Payment notes (optional)",rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",fontFamily:"inherit",resize:"vertical"}})]})]})]}),e.jsxs("div",{style:{marginBottom:"32px",padding:"16px",background:"#F1F5F9",borderRadius:"8px",border:"1px solid #E2E8F0"},children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:600,color:"#1F2937"},children:"Allocation Mode"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#6B7280",fontSize:"14px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),e.jsx("span",{children:"FIFO (First In, First Out) - Payment will be automatically allocated to oldest invoices first"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #E2E8F0"},children:[e.jsx("button",{type:"button",onClick:G,disabled:l||j,style:{padding:"12px 24px",background:"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"8px",cursor:l||j?"not-allowed":"pointer",fontSize:"14px",fontWeight:500,color:"#475569",transition:"all 0.2s ease"},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l||j,style:{padding:"12px 32px",background:j?"#94a3b8":"#10b981",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:j?"not-allowed":"pointer",fontSize:"15px",fontWeight:600,transition:"all 0.2s ease",boxShadow:j?"none":"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:V=>{!j&&!l&&(V.currentTarget.style.background="#059669",V.currentTarget.style.transform="translateY(-1px)",V.currentTarget.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)")},onMouseLeave:V=>{!j&&!l&&(V.currentTarget.style.background="#10b981",V.currentTarget.style.transform="translateY(0)",V.currentTarget.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)")},children:j?"Processing...":l?"Loading...":"Process Payment"})]})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>!j&&b(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),style:{background:"#fff",padding:"24px",borderRadius:"8px",maxWidth:"500px",width:"90%"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:600},children:"Confirm Payment"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("p",{style:{margin:"0 0 12px 0",color:"#dc2626",fontWeight:600},children:"This action cannot be undone."}),e.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:["You are about to process a payment of ",e.jsxs("strong",{children:["",m.paymentAmount.toFixed(2)]}),"."]}),e.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#64748b"},children:"Payment will be allocated using FIFO (First In, First Out) method to the selected invoices."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:()=>b(!1),disabled:j,style:{padding:"10px 20px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{type:"button",onClick:ne,disabled:j,style:{padding:"10px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:j?"not-allowed":"pointer",fontWeight:600},children:j?"Processing...":"Confirm & Process Payment"})]})]})})]})})},Rne=()=>{const r=un(),t=Ma(),n=r.state;C.useEffect(()=>{if(!(n!=null&&n.receiptId)){t("/finance/invoice-management");return}},[n,t]);const a=()=>{window.print()},s=()=>{t("/finance/invoice-management")};return n?e.jsxs("div",{className:"payment-success-page",children:[e.jsx("div",{className:"payment-success-header",children:e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px"},children:""}),e.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:600,color:"#059669"},children:"Payment Successful"}),e.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Your payment has been processed successfully"})]})}),e.jsxs("div",{className:"payment-success-content",children:[e.jsxs("div",{className:"success-card receipt-card",children:[e.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Payment Receipt"}),e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Number"}),e.jsx("span",{style:{fontWeight:600,fontSize:"15px",color:"#1e293b",letterSpacing:"0.3px"},children:n.receiptNumber})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"Receipt Date"}),e.jsx("span",{style:{fontSize:"14px",color:"#334155",fontWeight:500},children:n.receiptDate})]}),e.jsx("div",{className:"amount-received-section",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0"},children:[e.jsx("span",{style:{color:"#1e293b",fontSize:"16px",fontWeight:600},children:"Amount Received"}),e.jsxs("span",{className:"amount-value",children:["",n.totalAmount.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"success-card settlement-card",children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"#1e293b"},children:"Invoice Settlement Status"}),e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#64748b",lineHeight:"1.5"},children:"Partial payments are automatically allocated using FIFO (oldest invoices first). Remaining balances will carry forward for future payments."})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Invoice #"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Amount Paid"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Remaining Balance"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:600,color:"#475569",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Settlement Status"})]})}),e.jsx("tbody",{children:n.invoiceUpdates.map(i=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"14px 12px",fontSize:"14px",color:"#1e293b",fontWeight:500},children:i.invoiceNumber}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:"#059669"},children:["",i.totalPaidAmount.toFixed(2)]}),e.jsxs("td",{style:{padding:"14px 12px",textAlign:"right",fontSize:"15px",fontWeight:600,color:i.balanceAmount>0?"#dc2626":"#059669"},children:["",i.balanceAmount.toFixed(2)]}),e.jsx("td",{style:{padding:"14px 12px",textAlign:"center"},children:e.jsx("span",{style:{padding:"5px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"inline-block",background:i.status==="Paid"?"#d1fae5":i.status==="Partially Paid"?"#fef3c7":"#e0e7ff",color:i.status==="Paid"?"#065f46":i.status==="Partially Paid"?"#92400e":"#3730a3"},children:i.status==="Generated"?"DUE":i.status})})]},i.invoiceId))})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsxs("button",{onClick:a,className:"primary-action-btn",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Receipt"]}),e.jsx("button",{onClick:s,className:"secondary-action-btn",children:"Back to Invoice List"})]})]})]}):e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:e.jsx("p",{children:"No payment data found. Redirecting..."})})},Lne=()=>{const{logout:r,permissions:t}=Wn(),n=un();Ma();const[a,s]=C.useState(""),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),[h,f]=C.useState(!1),[A,g]=C.useState(null),[m,x]=C.useState([]),[y,b]=C.useState([]),[j,S]=C.useState(!1),[w,E]=C.useState(null),[I,L]=C.useState(null),[Z,ne]=C.useState(!1),G=()=>{ne(!Z)},[le,V]=C.useState({paymentId:"",receiptDate:"",notes:null});C.useEffect(()=>{me()},[]),C.useEffect(()=>{y.length>0&&(i?$(i):$())},[i,y.length]);const me=async()=>{var ie,J;try{S(!0),E(null);const ce=(await ia.getAllCompanies(!0)).map(te=>({id:te.id,companyCode:te.companyCode,companyName:te.companyName,status:te.status}));b(ce),console.log("Loaded companies:",ce.length),await $(),E(null)}catch(D){console.error("Error loading data:",D);const ce=D.message||((J=(ie=D.response)==null?void 0:ie.data)==null?void 0:J.message)||"Failed to load data";E(ce)}finally{S(!1)}},$=async ie=>{var J,D;try{S(!0),E(null);const ce=await jne(ie),te=Array.isArray(ce)?ce:[];x(te),E(null),te.length>0&&(console.log("Payments loaded:",te.length),console.log("Payment company IDs:",te.map(ge=>ge.companyId)),console.log("Available companies:",y.map(ge=>({id:ge.id,name:ge.companyName}))))}catch(ce){console.error("Error loading payments:",ce);const te=ce.message||((D=(J=ce.response)==null?void 0:J.data)==null?void 0:D.message)||"Failed to load payments";E(te),x([])}finally{S(!1)}},X=ie=>{g(ie),V({paymentId:ie.paymentId,receiptDate:ie.paymentDate,notes:null}),f(!0)},Ce=async()=>{if(!le.paymentId){E("Please select a payment");return}try{S(!0),E(null),L(null);const ie=await bne(le);L(`Receipt ${ie.data.receipt.receiptNumber} created successfully!`),f(!1),g(null),V({paymentId:"",receiptDate:"",notes:null}),await $(i||void 0)}catch(ie){console.error("Error creating receipt:",ie),E(ie.message||"Failed to create receipt")}finally{S(!1)}},M=m.filter(ie=>{var de,Y;const J=a.toLowerCase(),D=!a||ie.paymentId.toLowerCase().includes(J)||((de=ie.receiptNumber)==null?void 0:de.toLowerCase().includes(J))||((Y=y.find(Ae=>Ae.id===ie.companyId))==null?void 0:Y.companyName.toLowerCase().includes(J)),ce=!i||ie.companyId===i,te=!l.paymentId||ie.paymentId.toLowerCase().includes(l.paymentId.toLowerCase()),ge=!l.companyId||ie.companyId===l.companyId,pe=!l.paymentDate||ie.paymentDate===l.paymentDate,be=!l.paymentMode||ie.paymentMode===l.paymentMode,re=!l.status||ie.status===l.status;return D&&ce&&te&&ge&&pe&&be&&re}),q=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${Z?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!Z&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:G,"aria-label":Z?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:q.map(ie=>e.jsx("li",{children:e.jsxs(Rr,{to:ie.path,className:`nav-link ${ie.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ie.icon}),!Z&&e.jsx("span",{className:"nav-label",children:ie.label})]})},ie.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!Z&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!Z&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Receipt Management",subtitle:"Generate and manage payment receipts"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Receipt Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Generate and manage payment receipts"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by payment ID, receipt number, company...",value:a,onChange:ie=>s(ie.target.value)})]}),e.jsx("div",{className:"ra-actions",children:e.jsxs("button",{className:"ra-filter-btn",onClick:()=>d(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]})})]}),w&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:w}),e.jsx("button",{className:"ra-alert-close",onClick:()=>E(null),children:""})]}),I&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:I}),e.jsx("button",{className:"ra-alert-close",onClick:()=>L(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:j&&m.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading payments..."}):M.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:m.length===0?"No payments found without receipts":"No payments match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Payment ID"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Amount"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:M.map(ie=>{const J=y.find(D=>D.id===ie.companyId);return e.jsxs("tr",{children:[e.jsxs("td",{className:"payment-id-cell",children:[ie.paymentId.substring(0,8),"..."]}),e.jsx("td",{children:(J==null?void 0:J.companyName)||ie.companyId||"-"}),e.jsx("td",{children:ie.paymentDate}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(ie.paymentAmount).toFixed(2)]}),e.jsx("td",{children:ie.paymentMode}),e.jsx("td",{children:e.jsx("span",{className:`receipt-status-badge receipt-status-badge--${ie.status.toLowerCase()}`,children:ie.status})}),e.jsx("td",{children:e.jsx("button",{className:"action-btn action-btn--create",onClick:()=>X(ie),type:"button",children:"Create Receipt"})})]},ie.paymentId)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",M.length," of ",m.length," items"]}),o&&e.jsx(Une,{advancedFilters:l,companies:y.filter(ie=>ie.status==="Active"),onClose:()=>d(!1),onClear:()=>{u({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),d(!1)},onApply:ie=>{u(ie),d(!1)}}),h&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Create Receipt"}),e.jsx("button",{onClick:()=>f(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{style:{marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"6px"},children:e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment ID:"}),e.jsxs("span",{style:{fontWeight:600},children:[A.paymentId.substring(0,8),"..."]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Amount:"}),e.jsxs("span",{style:{fontWeight:600},children:["",Number(A.paymentAmount).toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Date:"}),e.jsx("span",{children:A.paymentDate})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#64748b"},children:"Payment Mode:"}),e.jsx("span",{children:A.paymentMode})]})]})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Receipt Date ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"date",value:le.receiptDate||"",onChange:ie=>V({...le,receiptDate:ie.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Defaults to payment date if not specified"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:le.notes||"",onChange:ie=>V({...le,notes:ie.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>f(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:Ce,disabled:j||!le.receiptDate,style:{padding:"10px 20px",background:j||!le.receiptDate?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:j||!le.receiptDate?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:j?"Creating...":"Create Receipt"})]})]})})]})]})]})},Une=({advancedFilters:r,companies:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter payments by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment ID"}),e.jsx("input",{type:"text",value:i.paymentId,onChange:o=>c({...i,paymentId:o.target.value}),className:"ra-filter-input",placeholder:"Enter payment ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:i.companyId,onChange:o=>c({...i,companyId:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment Date"}),e.jsx("input",{type:"date",value:i.paymentDate,onChange:o=>c({...i,paymentDate:o.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Payment Mode"}),e.jsxs("select",{value:i.paymentMode,onChange:o=>c({...i,paymentMode:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Modes"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Credit Card",children:"Credit Card"}),e.jsx("option",{value:"Debit Card",children:"Debit Card"}),e.jsx("option",{value:"Online Payment",children:"Online Payment"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i.status,onChange:o=>c({...i,status:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Failed",children:"Failed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c({paymentId:"",companyId:"",paymentDate:"",paymentMode:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s(i),children:"Apply Filters"})]})]})})},nD="http://localhost:3000/api/v1",aD=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},t0=async(r,t={})=>{const n=aD(),a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization=`Bearer ${n}`);const s=await fetch(`${nD}${r}`,{...t,headers:a});if(!s.ok){let c=`HTTP error! status: ${s.status}`;try{const d=await s.json();c=d.message||d.error||c,d.message&&typeof d.message=="object"&&(c=JSON.stringify(d.message))}catch{s.status===500?c="Internal server error":s.status===401?c="Unauthorized. Please login again.":s.status===403?c="Forbidden. You do not have permission.":s.status===404&&(c="Resource not found")}const o=new Error(c);throw o.status=s.status,o.response={status:s.status},o}return(await s.json()).data},Hne=async r=>{const t=r?`?companyId=${r}`:"";return t0(`/fin-balance${t}`,{method:"GET"})},Qne=async r=>t0("/fin-balance",{method:"POST",body:JSON.stringify(r)}),Wne=async(r,t)=>t0(`/fin-balance/${r}`,{method:"PUT",body:JSON.stringify(t)}),$ne=async r=>t0(`/fin-balance/${r}`,{method:"DELETE"}),Vne=async r=>{const t=aD(),n=new FormData;n.append("file",r);const a=await fetch(`${nD}/fin-balance/bulk-upload/preview`,{method:"POST",headers:{...t&&{Authorization:`Bearer ${t}`}},body:n});if(!a.ok){let i=`HTTP error! status: ${a.status}`;try{const c=await a.json();i=c.message||c.error||i}catch{i="Failed to preview bulk upload"}throw new Error(i)}return(await a.json()).data},zne=async r=>t0("/fin-balance/bulk-upload/execute",{method:"POST",body:JSON.stringify({preview:r})}),Gne=()=>{const{logout:r,permissions:t}=Wn(),n=un();Ma();const a=C.useRef(null),[s,i]=C.useState(""),[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState({companyId:"",hcfCode:"",hcfName:"",isManual:""}),[f,A]=C.useState([]),[g,m]=C.useState([]),[x,y]=C.useState([]),[b,j]=C.useState(!1),[S,w]=C.useState(null),[E,I]=C.useState(null),[L,Z]=C.useState(!1),ne=()=>{Z(!L)},[G,le]=C.useState(!1),[V,me]=C.useState(!1),[$,X]=C.useState(!1),[Ce,M]=C.useState(null),[q,ie]=C.useState(null),[J,D]=C.useState({companyId:"",hcfId:"",openingBalance:0,notes:null});C.useEffect(()=>{ce()},[]),C.useEffect(()=>{c?te(c):te()},[c]);const ce=async()=>{try{j(!0),w(null);const ae=await ia.getAllCompanies(!0);m(ae.map(Fe=>({id:Fe.id,companyCode:Fe.companyCode,companyName:Fe.companyName,status:Fe.status})));const ke=await xi.getAllHcfs(void 0,!1);y(ke.map(Fe=>{var nt;return{id:Fe.id,hcfCode:Fe.hcfCode,hcfName:Fe.hcfName,companyId:Fe.companyId,companyName:((nt=ae.find(tt=>tt.id===Fe.companyId))==null?void 0:nt.companyName)||""}})),await te()}catch(ae){console.error("Error loading data:",ae),w(ae.message||"Failed to load data")}finally{j(!1)}},te=async ae=>{var ke,Fe;try{j(!0),w(null);const nt=await Hne(ae);A(Array.isArray(nt)?nt:[]),w(null)}catch(nt){console.error("Error loading balances:",nt);const tt=nt.message||((Fe=(ke=nt.response)==null?void 0:ke.data)==null?void 0:Fe.message)||"Failed to load balances";w(tt),A([])}finally{j(!1)}},ge=async ae=>{var Fe;const ke=(Fe=ae.target.files)==null?void 0:Fe[0];if(ke)try{j(!0),w(null),I(null);const nt=await Vne(ke);ie(nt),X(!0)}catch(nt){console.error("Error previewing upload:",nt),w(nt.message||"Failed to preview Excel file")}finally{j(!1),a.current&&(a.current.value="")}},pe=async()=>{if(q)try{j(!0),w(null),I(null);const ae=await zne(q),ke=ae.created.length+ae.updated.length;I(`Successfully processed ${ke} records (${ae.created.length} created, ${ae.updated.length} updated)`),X(!1),ie(null),await te(c||void 0)}catch(ae){console.error("Error executing bulk upload:",ae),w(ae.message||"Failed to execute bulk upload")}finally{j(!1)}},be=()=>{D({companyId:"",hcfId:"",openingBalance:0,notes:null}),le(!0)},re=ae=>{M(ae),D({companyId:ae.companyId,hcfId:ae.hcfId,openingBalance:ae.openingBalance,notes:ae.notes}),me(!0)},de=async ae=>{if(window.confirm("Are you sure you want to delete this financial balance record?"))try{j(!0),w(null),await $ne(ae),I("Financial balance deleted successfully"),await te(c||void 0)}catch(ke){console.error("Error deleting balance:",ke),w(ke.message||"Failed to delete financial balance")}finally{j(!1)}},Y=async()=>{try{j(!0),w(null),I(null),await Qne(J),I("Financial balance created successfully"),le(!1),D({companyId:"",hcfId:"",openingBalance:0,notes:null}),await te(c||void 0)}catch(ae){console.error("Error creating balance:",ae),w(ae.message||"Failed to create financial balance")}finally{j(!1)}},Ae=async()=>{if(Ce)try{j(!0),w(null),I(null);const ae={openingBalance:J.openingBalance,notes:J.notes};await Wne(Ce.finBalanceId,ae),I("Financial balance updated successfully (current balance reset to opening balance)"),me(!1),M(null),await te(c||void 0)}catch(ae){console.error("Error updating balance:",ae),w(ae.message||"Failed to update financial balance")}finally{j(!1)}},ye=f.filter(ae=>{var Ue,yt,Tt,Zt,Mr,_t;const ke=s.toLowerCase(),Fe=!s||((Ue=ae.companyName)==null?void 0:Ue.toLowerCase().includes(ke))||((yt=ae.companyCode)==null?void 0:yt.toLowerCase().includes(ke))||((Tt=ae.hcfCode)==null?void 0:Tt.toLowerCase().includes(ke))||((Zt=ae.hcfName)==null?void 0:Zt.toLowerCase().includes(ke)),nt=!c||ae.companyId===c,tt=!u.companyId||ae.companyId===u.companyId,Le=!u.hcfCode||((Mr=ae.hcfCode)==null?void 0:Mr.toLowerCase().includes(u.hcfCode.toLowerCase())),lt=!u.hcfName||((_t=ae.hcfName)==null?void 0:_t.toLowerCase().includes(u.hcfName.toLowerCase())),$t=!u.isManual||u.isManual==="true"&&ae.isManual||u.isManual==="false"&&!ae.isManual;return Fe&&nt&&tt&&Le&&lt&&$t}),Oe=J.companyId?x.filter(ae=>ae.companyId===J.companyId):[],We=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${L?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!L&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ne,"aria-label":L?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:L?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:We.map(ae=>e.jsx("li",{children:e.jsxs(Rr,{to:ae.path,className:`nav-link ${ae.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:ae.icon}),!L&&e.jsx("span",{className:"nav-label",children:ae.label})]})},ae.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!L&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!L&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Financial Balance Summary",subtitle:"View and manage financial balance records"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Financial Balance Summary"}),e.jsx("p",{className:"ra-page-subtitle",children:"View and manage financial balance records"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by company, HCF code, or name...",value:s,onChange:ae=>i(ae.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("label",{className:"ra-filter-btn",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Excel",e.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",onChange:ge,style:{display:"none"}})]}),e.jsxs("button",{className:"ra-filter-btn",onClick:()=>l(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:be,disabled:b,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Balance"]})]})]}),S&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:S}),e.jsx("button",{className:"ra-alert-close",onClick:()=>w(null),children:""})]}),E&&e.jsxs("div",{className:"ra-alert ra-alert--success",children:[e.jsx("span",{children:E}),e.jsx("button",{className:"ra-alert-close",onClick:()=>I(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:b&&f.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading balances..."}):ye.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:f.length===0?"No financial balance records found":"No records match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Opening Balance"}),e.jsx("th",{children:"Current Balance"}),e.jsx("th",{children:"Is Manual"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:ye.map(ae=>e.jsxs("tr",{children:[e.jsx("td",{children:ae.companyName||"-"}),e.jsx("td",{className:"hcf-code-cell",children:ae.hcfCode||"-"}),e.jsx("td",{children:ae.hcfName||"-"}),e.jsxs("td",{style:{fontWeight:600},children:["",Number(ae.openingBalance).toFixed(2)]}),e.jsxs("td",{style:{fontWeight:600,color:ae.currentBalance<0?"#dc2626":"#059669"},children:["",Number(ae.currentBalance).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`balance-type-badge balance-type-badge--${ae.isManual?"manual":"auto"}`,children:ae.isManual?"Manual":"Auto"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>re(ae),type:"button",children:"Edit"}),e.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>de(ae.finBalanceId),type:"button",children:"Delete"})]})})]},ae.finBalanceId))})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ye.length," of ",f.length," items"]}),d&&e.jsx(Kne,{advancedFilters:u,companies:g.filter(ae=>ae.status==="Active"),onClose:()=>l(!1),onClear:()=>{h({companyId:"",hcfCode:"",hcfName:"",isManual:""}),l(!1)},onApply:ae=>{h(ae),l(!1)}}),G&&e.jsx("div",{className:"modal-overlay",onClick:()=>le(!1),children:e.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Add Financial Balance"}),e.jsx("button",{onClick:()=>le(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Company ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:J.companyId,onChange:ae=>D({...J,companyId:ae.target.value,hcfId:""}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Select Company"}),g.filter(ae=>ae.status==="Active").map(ae=>e.jsx("option",{value:ae.id,children:ae.companyName},ae.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["HCF ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsxs("select",{value:J.hcfId,onChange:ae=>D({...J,hcfId:ae.target.value}),required:!0,disabled:!J.companyId,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:J.companyId?"#fff":"#f1f5f9"},children:[e.jsx("option",{value:"",children:J.companyId?"Select HCF":"Select Company first"}),Oe.map(ae=>e.jsxs("option",{value:ae.id,children:[ae.hcfCode," - ",ae.hcfName]},ae.id))]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:J.openingBalance,onChange:ae=>D({...J,openingBalance:parseFloat(ae.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:J.notes||"",onChange:ae=>D({...J,notes:ae.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>le(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:Y,disabled:b||!J.companyId||!J.hcfId||J.openingBalance<0,style:{padding:"10px 20px",background:b||!J.companyId||!J.hcfId||J.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:b||!J.companyId||!J.hcfId||J.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:b?"Creating...":"Create"})]})]})}),V&&Ce&&e.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:e.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),style:{maxWidth:"600px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Financial Balance"}),e.jsx("button",{onClick:()=>me(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e"},children:[e.jsx("strong",{children:"Note:"})," Updating opening balance will reset current balance to the new opening balance value."]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"Company"}),e.jsx("input",{type:"text",value:Ce.companyName||"",disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px",color:"#64748b"},children:"HCF"}),e.jsx("input",{type:"text",value:`${Ce.hcfCode||""} - ${Ce.hcfName||""}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:["Opening Balance ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:J.openingBalance,onChange:ae=>D({...J,openingBalance:parseFloat(ae.target.value)||0}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Current Balance (Read-only)"}),e.jsx("input",{type:"text",value:`${Number(Ce.currentBalance).toFixed(2)}`,disabled:!0,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",background:"#f1f5f9",color:"#64748b"}}),e.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#64748b"},children:"Will be reset to opening balance after update"})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"Notes (Optional)"}),e.jsx("textarea",{value:J.notes||"",onChange:ae=>D({...J,notes:ae.target.value||null}),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>me(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:Ae,disabled:b||J.openingBalance<0,style:{padding:"10px 20px",background:b||J.openingBalance<0?"#cbd5e1":"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:b||J.openingBalance<0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:b?"Updating...":"Update"})]})]})}),$&&q&&e.jsx("div",{className:"modal-overlay",onClick:()=>X(!1),children:e.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Preview Bulk Upload"}),e.jsx("button",{onClick:()=>X(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"12px",background:"#dbeafe",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"4px"},children:"New Records"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#1e40af"},children:q.inserts.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Updates"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#92400e"},children:q.updates.length})]}),e.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",flex:"1",minWidth:"150px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Errors"}),e.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#991b1b"},children:q.errors.length+q.parseErrors.length})]})]}),q.parseErrors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Parse Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.parseErrors.map((ae,ke)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",ae.row,":"]})," ",ae.message]},ke))})]}),q.errors.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px",color:"#991b1b"},children:"Validation Errors"}),e.jsx("div",{style:{maxHeight:"150px",overflow:"auto",border:"1px solid #fee2e2",borderRadius:"6px",padding:"12px"},children:q.errors.map((ae,ke)=>e.jsxs("div",{style:{marginBottom:"8px",fontSize:"13px",color:"#991b1b"},children:[e.jsxs("strong",{children:["Row ",ae.row,":"]})," ",ae.message]},ke))})]}),(q.inserts.length>0||q.updates.length>0)&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"12px"},children:"Records to Process"}),e.jsx("div",{style:{maxHeight:"400px",overflow:"auto",border:"1px solid #e2e8f0",borderRadius:"6px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{style:{background:"#f8fafc",position:"sticky",top:0},children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Action"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"Company"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Code"}),e.jsx("th",{style:{padding:"10px",textAlign:"left",borderBottom:"2px solid #e2e8f0"},children:"HCF Name"}),e.jsx("th",{style:{padding:"10px",textAlign:"right",borderBottom:"2px solid #e2e8f0"},children:"Opening Balance"})]})}),e.jsxs("tbody",{children:[q.inserts.map((ae,ke)=>{const Fe=g.find(tt=>tt.id===ae.companyId),nt=x.find(tt=>tt.id===ae.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"INSERT"})}),e.jsx("td",{style:{padding:"10px"},children:(Fe==null?void 0:Fe.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(nt==null?void 0:nt.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(nt==null?void 0:nt.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(ae.openingBalance).toFixed(2)]})]},`insert-${ke}`)}),q.updates.map((ae,ke)=>{const Fe=g.find(tt=>tt.id===ae.data.companyId),nt=x.find(tt=>tt.id===ae.data.hcfId);return e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",background:"#fef3c7",color:"#92400e",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:"UPDATE"})}),e.jsx("td",{style:{padding:"10px"},children:(Fe==null?void 0:Fe.companyName)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(nt==null?void 0:nt.hcfCode)||"-"}),e.jsx("td",{style:{padding:"10px"},children:(nt==null?void 0:nt.hcfName)||"-"}),e.jsxs("td",{style:{padding:"10px",textAlign:"right",fontWeight:600},children:["",Number(ae.data.openingBalance).toFixed(2)]})]},`update-${ke}`)})]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>X(!1),style:{padding:"10px 20px",background:"#f1f5f9",color:"#475569",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),e.jsx("button",{onClick:pe,disabled:b||q.inserts.length===0&&q.updates.length===0,style:{padding:"10px 20px",background:b||q.inserts.length===0&&q.updates.length===0?"#cbd5e1":"#10b981",color:"#fff",border:"none",borderRadius:"6px",cursor:b||q.inserts.length===0&&q.updates.length===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:600},children:b?"Processing...":"Save All"})]})]})})]})]})]})},Kne=({advancedFilters:r,companies:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter financial balances by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:i.companyId,onChange:o=>c({...i,companyId:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:i.hcfCode,onChange:o=>c({...i,hcfCode:o.target.value}),className:"ra-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:i.hcfName,onChange:o=>c({...i,hcfName:o.target.value}),className:"ra-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:i.isManual,onChange:o=>c({...i,isManual:o.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"true",children:"Manual"}),e.jsx("option",{value:"false",children:"Auto"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c({companyId:"",hcfCode:"",hcfName:"",isManual:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s(i),children:"Apply Filters"})]})]})})},qne="http://localhost:3000/api/v1",Xne=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Ng=async(r,t={})=>{const n=Xne(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${qne}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const c=await s.json();c.message?Array.isArray(c.message)?i=c.message.join(", "):typeof c.message=="string"?i=c.message:i=String(c.message):c.error&&(typeof c.error=="string"?i=c.error:c.error.message?i=typeof c.error.message=="string"?c.error.message:String(c.error.message):i=JSON.stringify(c.error));const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o.errorData=c,o}catch{const o=new Error(i);throw o.status=s.status,o.statusText=s.statusText,o}}return s.status===204?{}:s.json()},rp={generateLabels:async r=>(await Ng("/barcode-labels",{method:"POST",body:JSON.stringify(r)})).data,getBarcodeLabelById:async r=>(await Ng(`/barcode-labels/${r}`,{method:"GET"})).data,getAllBarcodeLabels:async(r,t,n,a)=>{let s="/barcode-labels";const i=new URLSearchParams;return r&&i.append("companyId",r),t&&i.append("hcfId",t),n&&i.append("hcfCode",n),a&&i.append("barcodeType",a),i.toString()&&(s+=`?${i.toString()}`),(await Ng(s,{method:"GET"})).data},getLastSequence:async(r,t)=>(await Ng(`/barcode-labels/last-sequence?hcfCode=${encodeURIComponent(r)}&barcodeType=${encodeURIComponent(t)}`,{method:"GET"})).data.lastSequence,deleteBarcodeLabel:async r=>{await Ng(`/barcode-labels/${r}`,{method:"DELETE"})}};var M0={},Sg={},R0={},rT;function Au(){if(rT)return R0;rT=1,Object.defineProperty(R0,"__esModule",{value:!0});function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function n(a,s){r(this,n),this.data=a,this.text=s.text||a,this.options=s};return R0.default=t,R0}var nT;function Yne(){if(nT)return Sg;nT=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.CODE39=void 0;var r=(function(){function m(x,y){for(var b=0;b<y.length;b++){var j=y[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,y,b){return y&&m(x.prototype,y),b&&m(x,b),x}})(),t=Au(),n=a(t);function a(m){return m&&m.__esModule?m:{default:m}}function s(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function i(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function c(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var o=(function(m){c(x,m);function x(y,b){return s(this,x),y=y.toUpperCase(),b.mod43&&(y+=f(g(y))),i(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,b))}return r(x,[{key:"encode",value:function(){for(var b=u("*"),j=0;j<this.data.length;j++)b+=u(this.data[j])+"0";return b+=u("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),x})(n.default),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function u(m){return h(A(m))}function h(m){return l[m].toString(2)}function f(m){return d[m]}function A(m){return d.indexOf(m)}function g(m){for(var x=0,y=0;y<m.length;y++)x+=A(m[y]);return x=x%43,x}return Sg.CODE39=o,Sg}var lh={},L0={},U0={},rl={},aT;function r0(){if(aT)return rl;aT=1,Object.defineProperty(rl,"__esModule",{value:!0});var r;function t(d,l,u){return l in d?Object.defineProperty(d,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):d[l]=u,d}var n=rl.SET_A=0,a=rl.SET_B=1,s=rl.SET_C=2;rl.SHIFT=98;var i=rl.START_A=103,c=rl.START_B=104,o=rl.START_C=105;return rl.MODULO=103,rl.STOP=106,rl.FNC1=207,rl.SET_BY_CODE=(r={},t(r,i,n),t(r,c,a),t(r,o,s),r),rl.SWAP={101:n,100:a,99:s},rl.A_START_CHAR="",rl.B_START_CHAR="",rl.C_START_CHAR="",rl.A_CHARS="[\0-_-]",rl.B_CHARS="[ --]",rl.C_CHARS="(*[0-9]{2}*)",rl.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],rl}var sT;function S2(){if(sT)return U0;sT=1,Object.defineProperty(U0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=Au(),n=s(t),a=r0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){i(this,u);var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h.substring(1),f));return A.bytes=h.split("").map(function(g){return g.charCodeAt(0)}),A}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,A=f.shift()-105,g=a.SET_BY_CODE[A];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&f.unshift(a.FNC1);var m=u.next(f,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:u.getBar(A)+m.result+u.getBar((m.checksum+A)%a.MODULO)+u.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return typeof f=="string"&&(f=f.toLowerCase()==="true"),f}}],[{key:"getBar",value:function(f){return a.BARS[f]?a.BARS[f].toString():""}},{key:"correctIndex",value:function(f,A){if(A===a.SET_A){var g=f.shift();return g<32?g+64:g-32}else return A===a.SET_B?f.shift()-32:(f.shift()-48)*10+f.shift()-48}},{key:"next",value:function(f,A,g){if(!f.length)return{result:"",checksum:0};var m=void 0,x=void 0;if(f[0]>=200){x=f.shift()-105;var y=a.SWAP[x];y!==void 0?m=u.next(f,A+1,y):((g===a.SET_A||g===a.SET_B)&&x===a.SHIFT&&(f[0]=g===a.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),m=u.next(f,A+1,g))}else x=u.correctIndex(f,g),m=u.next(f,A+1,g);var b=u.getBar(x),j=x*A;return{result:b+m.result,checksum:j+m.checksum}}}]),u})(n.default);return U0.default=d,U0}var H0={},iT;function Jne(){if(iT)return H0;iT=1,Object.defineProperty(H0,"__esModule",{value:!0});var r=r0(),t=function(o){return o.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},n=function(o){return o.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(o){return o.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function s(c,o){var d=o?r.A_CHARS:r.B_CHARS,l=c.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(l)return l[1]+""+i(c.substring(l[1].length));var u=c.match(new RegExp("^"+d+"+"))[0];return u.length===c.length?c:u+String.fromCharCode(o?205:206)+s(c.substring(u.length),!o)}function i(c){var o=a(c),d=o.length;if(d===c.length)return c;c=c.substring(d);var l=t(c)>=n(c);return o+String.fromCharCode(l?206:205)+s(c,l)}return H0.default=function(c){var o=void 0,d=a(c).length;if(d>=2)o=r.C_START_CHAR+i(c);else{var l=t(c)>n(c);o=(l?r.A_START_CHAR:r.B_START_CHAR)+s(c,l)}return o.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,h){return""+h})},H0}var oT;function Zne(){if(oT)return L0;oT=1,Object.defineProperty(L0,"__esModule",{value:!0});var r=S2(),t=s(r),n=Jne(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){if(i(this,u),/^[\x00-\x7F\xC8-\xD3]+$/.test(h))var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(0,a.default)(h),f));else var A=c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f));return c(A)}return u})(t.default);return L0.default=d,L0}var Q0={},lT;function eae(){if(lT)return Q0;lT=1,Object.defineProperty(Q0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=S2(),n=s(t),a=r0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.A_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),u})(n.default);return Q0.default=d,Q0}var W0={},cT;function tae(){if(cT)return W0;cT=1,Object.defineProperty(W0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=S2(),n=s(t),a=r0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.B_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),u})(n.default);return W0.default=d,W0}var $0={},dT;function rae(){if(dT)return $0;dT=1,Object.defineProperty($0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=S2(),n=s(t),a=r0();function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a.C_START_CHAR+h,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),u})(n.default);return $0.default=d,$0}var uT;function nae(){if(uT)return lh;uT=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.CODE128C=lh.CODE128B=lh.CODE128A=lh.CODE128=void 0;var r=Zne(),t=d(r),n=eae(),a=d(n),s=tae(),i=d(s),c=rae(),o=d(c);function d(l){return l&&l.__esModule?l:{default:l}}return lh.CODE128=t.default,lh.CODE128A=a.default,lh.CODE128B=i.default,lh.CODE128C=o.default,lh}var xd={},V0={},hf={},hT;function n0(){return hT||(hT=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.SIDE_BIN="101",hf.MIDDLE_BIN="01010",hf.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},hf.EAN2_STRUCTURE=["LL","LG","GL","GG"],hf.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],hf.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),hf}var z0={},G0={},fT;function a0(){if(fT)return G0;fT=1,Object.defineProperty(G0,"__esModule",{value:!0});var r=n0(),t=function(a,s,i){var c=a.split("").map(function(d,l){return r.BINARIES[s[l]]}).map(function(d,l){return d?d[a[l]]:""});if(i){var o=a.length-1;c=c.map(function(d,l){return l<o?d+i:d})}return c.join("")};return G0.default=t,G0}var AT;function sD(){if(AT)return z0;AT=1,Object.defineProperty(z0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=n0(),n=a0(),a=c(n),s=Au(),i=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function o(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function d(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function l(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=(function(h){l(f,h);function f(A,g){o(this,f);var m=d(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,a.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:t.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:t.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:t.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),f})(i.default);return z0.default=u,z0}var pT;function aae(){if(pT)return V0;pT=1,Object.defineProperty(V0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=function h(f,A,g){f===null&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,A);if(m===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:h(x,A,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},n=n0(),a=sD(),s=i(a);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function o(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var l=function(f){var A=f.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,x){return x%2?g+m*3:g+m},0);return(10-A%10)%10},u=(function(h){d(f,h);function f(A,g){c(this,f),A.search(/^[0-9]{12}$/)!==-1&&(A+=l(A));var m=o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.lastChar=g.lastChar,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),f})(s.default);return V0.default=u,V0}var K0={},mT;function sae(){if(mT)return K0;mT=1,Object.defineProperty(K0,"__esModule",{value:!0});var r=(function(){function u(h,f){for(var A=0;A<f.length;A++){var g=f[A];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,f,A){return f&&u(h.prototype,f),A&&u(h,A),h}})(),t=function u(h,f,A){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,f);if(g===void 0){var m=Object.getPrototypeOf(h);return m===null?void 0:u(m,f,A)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(A)}},n=sD(),a=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function i(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function c(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:u}function o(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);u.prototype=Object.create(h&&h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(u,h):u.__proto__=h)}var d=function(h){var f=h.substr(0,7).split("").map(function(A){return+A}).reduce(function(A,g,m){return m%2?A+g:A+g*3},0);return(10-f%10)%10},l=(function(u){o(h,u);function h(f,A){return i(this,h),f.search(/^[0-9]{7}$/)!==-1&&(f+=d(f)),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,f,A))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===d(this.data)}},{key:"leftText",value:function(){return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var A=this.data.substr(0,4);return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"leftEncode",this).call(this,A,"LLLL")}},{key:"rightText",value:function(){return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var A=this.data.substr(4,4);return t(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"rightEncode",this).call(this,A,"RRRR")}}]),h})(a.default);return K0.default=l,K0}var q0={},gT;function iae(){if(gT)return q0;gT=1,Object.defineProperty(q0,"__esModule",{value:!0});var r=(function(){function f(A,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}return function(A,g,m){return g&&f(A.prototype,g),m&&f(A,m),A}})(),t=n0(),n=a0(),a=c(n),s=Au(),i=c(s);function c(f){return f&&f.__esModule?f:{default:f}}function o(f,A){if(!(f instanceof A))throw new TypeError("Cannot call a class as a function")}function d(f,A){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:f}function l(f,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);f.prototype=Object.create(A&&A.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(f,A):f.__proto__=A)}var u=function(A){var g=A.split("").map(function(m){return+m}).reduce(function(m,x,y){return y%2?m+x*9:m+x*3},0);return g%10},h=(function(f){l(A,f);function A(g,m){return o(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,g,m))}return r(A,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=t.EAN5_STRUCTURE[u(this.data)];return{data:"1011"+(0,a.default)(this.data,m,"01"),text:this.text}}}]),A})(i.default);return q0.default=h,q0}var X0={},vT;function oae(){if(vT)return X0;vT=1,Object.defineProperty(X0,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})(),t=n0(),n=a0(),a=c(n),s=Au(),i=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function o(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function d(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function l(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var u=(function(h){l(f,h);function f(A,g){return o(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,g,"01"),text:this.text}}}]),f})(i.default);return X0.default=u,X0}var Eg={},xT;function iD(){if(xT)return Eg;xT=1,Object.defineProperty(Eg,"__esModule",{value:!0});var r=(function(){function h(f,A){for(var g=0;g<A.length;g++){var m=A[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,A,g){return A&&h(f.prototype,A),g&&h(f,g),f}})();Eg.checksum=u;var t=a0(),n=i(t),a=Au(),s=i(a);function i(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function o(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var l=(function(h){d(f,h);function f(A,g){c(this,f),A.search(/^[0-9]{11}$/)!==-1&&(A+=u(A));var m=o(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,A,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==u(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),f})(s.default);function u(h){var f=0,A;for(A=1;A<11;A+=2)f+=parseInt(h[A]);for(A=0;A<11;A+=2)f+=parseInt(h[A])*3;return(10-f%10)%10}return Eg.default=l,Eg}var Y0={},yT;function lae(){if(yT)return Y0;yT=1,Object.defineProperty(Y0,"__esModule",{value:!0});var r=(function(){function g(m,x){for(var y=0;y<x.length;y++){var b=x[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,x,y){return x&&g(m.prototype,x),y&&g(m,y),m}})(),t=a0(),n=c(t),a=Au(),s=c(a),i=iD();function c(g){return g&&g.__esModule?g:{default:g}}function o(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function l(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=(function(g){l(m,g);function m(x,y){o(this,m);var b=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x,y));if(b.isValid=!1,x.search(/^[0-9]{6}$/)!==-1)b.middleDigits=x,b.upcA=A(x,"0"),b.text=y.text||""+b.upcA[0]+x+b.upcA[b.upcA.length-1],b.isValid=!0;else if(x.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=x.substring(1,x.length-1),b.upcA=A(b.middleDigits,x[0]),b.upcA[b.upcA.length-1]===x[x.length-1])b.isValid=!0;else return d(b);else return d(b);return b.displayValue=y.displayValue,y.fontSize>y.width*10?b.fontSize=y.width*10:b.fontSize=y.fontSize,b.guardHeight=y.height+b.fontSize/2+y.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),y+="010101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],b=this.upcA[this.upcA.length-1],j=h[parseInt(b)][parseInt(y)];return(0,n.default)(this.middleDigits,j)}}]),m})(s.default);function A(g,m){for(var x=parseInt(g[g.length-1]),y=u[x],b="",j=0,S=0;S<y.length;S++){var w=y[S];w==="X"?b+=g[j++]:b+=w}return b=""+m+b,""+b+(0,i.checksum)(b)}return Y0.default=f,Y0}var jT;function cae(){if(jT)return xd;jT=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.UPCE=xd.UPC=xd.EAN2=xd.EAN5=xd.EAN8=xd.EAN13=void 0;var r=aae(),t=f(r),n=sae(),a=f(n),s=iae(),i=f(s),c=oae(),o=f(c),d=iD(),l=f(d),u=lae(),h=f(u);function f(A){return A&&A.__esModule?A:{default:A}}return xd.EAN13=t.default,xd.EAN8=a.default,xd.EAN5=i.default,xd.EAN2=o.default,xd.UPC=l.default,xd.UPCE=h.default,xd}var WA={},J0={},Dp={},bT;function dae(){return bT||(bT=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.START_BIN="1010",Dp.END_BIN="11101",Dp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Dp}var wT;function oD(){if(wT)return J0;wT=1,Object.defineProperty(J0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=dae(),n=Au(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var f=this,A=this.data.match(/.{2}/g).map(function(g){return f.encodePair(g)}).join("");return{data:t.START_BIN+A+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var A=t.BINARIES[f[1]];return t.BINARIES[f[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(A[m]==="1"?"000":"0")}).join("")}}]),u})(a.default);return J0.default=d,J0}var Z0={},CT;function uae(){if(CT)return Z0;CT=1,Object.defineProperty(Z0,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=oD(),n=a(t);function a(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function i(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function c(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=function(u){var h=u.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,A,g){return f+A*(3-g%2*2)},0);return Math.ceil(h/10)*10-h},d=(function(l){c(u,l);function u(h,f){return s(this,u),h.search(/^[0-9]{13}$/)!==-1&&(h+=o(h)),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===o(this.data)}}]),u})(n.default);return Z0.default=d,Z0}var NT;function hae(){if(NT)return WA;NT=1,Object.defineProperty(WA,"__esModule",{value:!0}),WA.ITF14=WA.ITF=void 0;var r=oD(),t=s(r),n=uae(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}return WA.ITF=t.default,WA.ITF14=a.default,WA}var au={},ev={},ST;function s0(){if(ST)return ev;ST=1,Object.defineProperty(ev,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=Au(),n=a(t);function a(l){return l&&l.__esModule?l:{default:l}}function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function i(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function c(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=(function(l){c(u,l);function u(h,f){return s(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"encode",value:function(){for(var f="110",A=0;A<this.data.length;A++){var g=parseInt(this.data[A]),m=g.toString(2);m=d(m,4-m.length);for(var x=0;x<m.length;x++)f+=m[x]=="0"?"100":"110"}return f+="1001",{data:f,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),u})(n.default);function d(l,u){for(var h=0;h<u;h++)l="0"+l;return l}return ev.default=o,ev}var tv={},Bg={},ET;function E2(){if(ET)return Bg;ET=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.mod10=r,Bg.mod11=t;function r(n){for(var a=0,s=0;s<n.length;s++){var i=parseInt(n[s]);(s+n.length)%2===0?a+=i:a+=i*2%10+Math.floor(i*2/10)}return(10-a%10)%10}function t(n){for(var a=0,s=[2,3,4,5,6,7],i=0;i<n.length;i++){var c=parseInt(n[n.length-1-i]);a+=s[i%s.length]*c}return(11-a%11)%11}return Bg}var BT;function fae(){if(BT)return tv;BT=1,Object.defineProperty(tv,"__esModule",{value:!0});var r=s0(),t=a(r),n=E2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u+(0,n.mod10)(u),h))}return l})(t.default);return tv.default=o,tv}var rv={},IT;function Aae(){if(IT)return rv;IT=1,Object.defineProperty(rv,"__esModule",{value:!0});var r=s0(),t=a(r),n=E2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u+(0,n.mod11)(u),h))}return l})(t.default);return rv.default=o,rv}var nv={},TT;function pae(){if(TT)return nv;TT=1,Object.defineProperty(nv,"__esModule",{value:!0});var r=s0(),t=a(r),n=E2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),u+=(0,n.mod10)(u),u+=(0,n.mod10)(u),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return l})(t.default);return nv.default=o,nv}var av={},kT;function mae(){if(kT)return av;kT=1,Object.defineProperty(av,"__esModule",{value:!0});var r=s0(),t=a(r),n=E2();function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),u+=(0,n.mod11)(u),u+=(0,n.mod10)(u),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return l})(t.default);return av.default=o,av}var _T;function gae(){if(_T)return au;_T=1,Object.defineProperty(au,"__esModule",{value:!0}),au.MSI1110=au.MSI1010=au.MSI11=au.MSI10=au.MSI=void 0;var r=s0(),t=u(r),n=fae(),a=u(n),s=Aae(),i=u(s),c=pae(),o=u(c),d=mae(),l=u(d);function u(h){return h&&h.__esModule?h:{default:h}}return au.MSI=t.default,au.MSI10=a.default,au.MSI11=i.default,au.MSI1010=o.default,au.MSI1110=l.default,au}var Ig={},OT;function vae(){if(OT)return Ig;OT=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.pharmacode=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){s(this,l);var f=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h));return f.number=parseInt(u,10),f}return r(l,[{key:"encode",value:function(){for(var h=this.number,f="";!isNaN(h)&&h!=0;)h%2===0?(f="11100"+f,h=(h-2)/2):(f="100"+f,h=(h-1)/2);return f=f.slice(0,-2),{data:f,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),l})(n.default);return Ig.pharmacode=o,Ig}var Tg={},FT;function xae(){if(FT)return Tg;FT=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.codabar=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){s(this,l),u.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(u="A"+u+"A");var f=i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u.toUpperCase(),h));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return r(l,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],f=this.getEncodings(),A=0;A<this.data.length;A++)h.push(f[this.data.charAt(A)]),A!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),l})(n.default);return Tg.codabar=o,Tg}var $A={},sv={},Mp={},PT;function yae(){return PT||(PT=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Mp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Mp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Mp}var DT;function lD(){if(DT)return sv;DT=1,Object.defineProperty(sv,"__esModule",{value:!0});var r=(function(){function l(u,h){for(var f=0;f<h.length;f++){var A=h[f];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(u,A.key,A)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}})(),t=yae(),n=Au(),a=s(n);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function c(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var d=(function(l){o(u,l);function u(h,f){return i(this,u),c(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,h,f))}return r(u,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.data.split("").flatMap(function(x){return t.MULTI_SYMBOLS[x]||x}),A=f.map(function(x){return u.getEncoding(x)}).join(""),g=u.checksum(f,20),m=u.checksum(f.concat(g),15);return{text:this.text,data:u.getEncoding("")+A+u.getEncoding(g)+u.getEncoding(m)+u.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(f){return t.BINARIES[u.symbolValue(f)]}},{key:"getSymbol",value:function(f){return t.SYMBOLS[f]}},{key:"symbolValue",value:function(f){return t.SYMBOLS.indexOf(f)}},{key:"checksum",value:function(f,A){var g=f.slice().reverse().reduce(function(m,x,y){var b=y%A+1;return m+u.symbolValue(x)*b},0);return u.getSymbol(g%47)}}]),u})(a.default);return sv.default=d,sv}var iv={},MT;function jae(){if(MT)return iv;MT=1,Object.defineProperty(iv,"__esModule",{value:!0});var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=lD(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return r(l,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),l})(n.default);return iv.default=o,iv}var RT;function bae(){if(RT)return $A;RT=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.CODE93FullASCII=$A.CODE93=void 0;var r=lD(),t=s(r),n=jae(),a=s(n);function s(i){return i&&i.__esModule?i:{default:i}}return $A.CODE93=t.default,$A.CODE93FullASCII=a.default,$A}var kg={},LT;function wae(){if(LT)return kg;LT=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.GenericBarcode=void 0;var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=Au(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function c(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}var o=(function(d){c(l,d);function l(u,h){return s(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,u,h))}return r(l,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),l})(n.default);return kg.GenericBarcode=o,kg}var UT;function Cae(){if(UT)return M0;UT=1,Object.defineProperty(M0,"__esModule",{value:!0});var r=Yne(),t=nae(),n=cae(),a=hae(),s=gae(),i=vae(),c=xae(),o=bae(),d=wae();return M0.default={CODE39:r.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:i.pharmacode,codabar:c.codabar,CODE93:o.CODE93,CODE93FullASCII:o.CODE93FullASCII,GenericBarcode:d.GenericBarcode},M0}var ov={},HT;function B2(){if(HT)return ov;HT=1,Object.defineProperty(ov,"__esModule",{value:!0});var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};return ov.default=function(t,n){return r({},t,n)},ov}var lv={},QT;function Nae(){if(QT)return lv;QT=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.default=r;function r(t){var n=[];function a(s){if(Array.isArray(s))for(var i=0;i<s.length;i++)a(s[i]);else s.text=s.text||"",s.data=s.data||"",n.push(s)}return a(t),n}return lv}var cv={},WT;function Sae(){if(WT)return cv;WT=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.default=r;function r(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return cv}var dv={},uv={},hv={},$T;function cD(){if($T)return hv;$T=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.default=r;function r(t){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in n)n.hasOwnProperty(a)&&(a=n[a],typeof t[a]=="string"&&(t[a]=parseInt(t[a],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return hv}var fv={},VT;function dD(){if(VT)return fv;VT=1,Object.defineProperty(fv,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return fv.default=r,fv}var zT;function Eae(){if(zT)return uv;zT=1,Object.defineProperty(uv,"__esModule",{value:!0});var r=cD(),t=s(r),n=dD(),a=s(n);function s(c){return c&&c.__esModule?c:{default:c}}function i(c){var o={};for(var d in a.default)a.default.hasOwnProperty(d)&&(c.hasAttribute("jsbarcode-"+d.toLowerCase())&&(o[d]=c.getAttribute("jsbarcode-"+d.toLowerCase())),c.hasAttribute("data-"+d.toLowerCase())&&(o[d]=c.getAttribute("data-"+d.toLowerCase())));return o.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),o=(0,t.default)(o),o}return uv.default=i,uv}var Av={},pv={},su={},GT;function uD(){if(GT)return su;GT=1,Object.defineProperty(su,"__esModule",{value:!0}),su.getTotalWidthOfEncodings=su.calculateEncodingAttributes=su.getBarcodePadding=su.getEncodingHeight=su.getMaximumHeightOfEncodings=void 0;var r=B2(),t=n(r);function n(l){return l&&l.__esModule?l:{default:l}}function a(l,u){return u.height+(u.displayValue&&l.text.length>0?u.fontSize+u.textMargin:0)+u.marginTop+u.marginBottom}function s(l,u,h){if(h.displayValue&&u<l){if(h.textAlign=="center")return Math.floor((l-u)/2);if(h.textAlign=="left")return 0;if(h.textAlign=="right")return Math.floor(l-u)}return 0}function i(l,u,h){for(var f=0;f<l.length;f++){var A=l[f],g=(0,t.default)(u,A.options),m;g.displayValue?m=d(A.text,g,h):m=0;var x=A.data.length*g.width;A.width=Math.ceil(Math.max(m,x)),A.height=a(A,g),A.barcodePadding=s(m,x,g)}}function c(l){for(var u=0,h=0;h<l.length;h++)u+=l[h].width;return u}function o(l){for(var u=0,h=0;h<l.length;h++)l[h].height>u&&(u=l[h].height);return u}function d(l,u,h){var f;if(h)f=h;else if(typeof document<"u")f=document.createElement("canvas").getContext("2d");else return 0;f.font=u.fontOptions+" "+u.fontSize+"px "+u.font;var A=f.measureText(l);if(!A)return 0;var g=A.width;return g}return su.getMaximumHeightOfEncodings=o,su.getEncodingHeight=a,su.getBarcodePadding=s,su.calculateEncodingAttributes=i,su.getTotalWidthOfEncodings=c,su}var KT;function Bae(){if(KT)return pv;KT=1,Object.defineProperty(pv,"__esModule",{value:!0});var r=(function(){function o(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,l,u){return l&&o(d.prototype,l),u&&o(d,u),d}})(),t=B2(),n=s(t),a=uD();function s(o){return o&&o.__esModule?o:{default:o}}function i(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var c=(function(){function o(d,l,u){i(this,o),this.canvas=d,this.encodings=l,this.options=u}return r(o,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var l=0;l<this.encodings.length;l++){var u=(0,n.default)(this.options,this.encodings[l].options);this.drawCanvasBarcode(u,this.encodings[l]),this.drawCanvasText(u,this.encodings[l]),this.moveCanvasDrawing(this.encodings[l])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var l=this.canvas.getContext("2d");l.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,l);var u=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=u+this.options.marginLeft+this.options.marginRight,this.canvas.height=h,l.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(l.fillStyle=this.options.background,l.fillRect(0,0,this.canvas.width,this.canvas.height)),l.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(l,u){var h=this.canvas.getContext("2d"),f=u.data,A;l.textPosition=="top"?A=l.marginTop+l.fontSize+l.textMargin:A=l.marginTop,h.fillStyle=l.lineColor;for(var g=0;g<f.length;g++){var m=g*l.width+u.barcodePadding;f[g]==="1"?h.fillRect(m,A,l.width,l.height):f[g]&&h.fillRect(m,A,l.width,l.height*f[g])}}},{key:"drawCanvasText",value:function(l,u){var h=this.canvas.getContext("2d"),f=l.fontOptions+" "+l.fontSize+"px "+l.font;if(l.displayValue){var A,g;l.textPosition=="top"?g=l.marginTop+l.fontSize-l.textMargin:g=l.height+l.textMargin+l.marginTop+l.fontSize,h.font=f,l.textAlign=="left"||u.barcodePadding>0?(A=0,h.textAlign="left"):l.textAlign=="right"?(A=u.width-1,h.textAlign="right"):(A=u.width/2,h.textAlign="center"),h.fillText(u.text,A,g)}}},{key:"moveCanvasDrawing",value:function(l){var u=this.canvas.getContext("2d");u.translate(l.width,0)}},{key:"restoreCanvas",value:function(){var l=this.canvas.getContext("2d");l.restore()}}]),o})();return pv.default=c,pv}var mv={},qT;function Iae(){if(qT)return mv;qT=1,Object.defineProperty(mv,"__esModule",{value:!0});var r=(function(){function d(l,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,h){return u&&d(l.prototype,u),h&&d(l,h),l}})(),t=B2(),n=s(t),a=uD();function s(d){return d&&d.__esModule?d:{default:d}}function i(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",o=(function(){function d(l,u,h){i(this,d),this.svg=l,this.encodings=u,this.options=h,this.document=h.xmlDocument||document}return r(d,[{key:"render",value:function(){var u=this.options.marginLeft;this.prepareSVG();for(var h=0;h<this.encodings.length;h++){var f=this.encodings[h],A=(0,n.default)(this.options,f.options),g=this.createGroup(u,A.marginTop,this.svg);this.setGroupOptions(g,A),this.drawSvgBarcode(g,A,f),this.drawSVGText(g,A,f),u+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var u=(0,a.getTotalWidthOfEncodings)(this.encodings),h=(0,a.getMaximumHeightOfEncodings)(this.encodings),f=u+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,h),this.options.background&&this.drawRect(0,0,f,h,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(u,h,f){var A=f.data,g;h.textPosition=="top"?g=h.fontSize+h.textMargin:g=0;for(var m=0,x=0,y=0;y<A.length;y++)x=y*h.width+f.barcodePadding,A[y]==="1"?m++:m>0&&(this.drawRect(x-h.width*m,g,h.width*m,h.height,u),m=0);m>0&&this.drawRect(x-h.width*(m-1),g,h.width*m,h.height,u)}},{key:"drawSVGText",value:function(u,h,f){var A=this.document.createElementNS(c,"text");if(h.displayValue){var g,m;A.setAttribute("font-family",h.font),A.setAttribute("font-size",h.fontSize),h.fontOptions.includes("bold")&&A.setAttribute("font-weight","bold"),h.fontOptions.includes("italic")&&A.setAttribute("font-style","italic"),h.textPosition=="top"?m=h.fontSize-h.textMargin:m=h.height+h.textMargin+h.fontSize,h.textAlign=="left"||f.barcodePadding>0?(g=0,A.setAttribute("text-anchor","start")):h.textAlign=="right"?(g=f.width-1,A.setAttribute("text-anchor","end")):(g=f.width/2,A.setAttribute("text-anchor","middle")),A.setAttribute("x",g),A.setAttribute("y",m),A.appendChild(this.document.createTextNode(f.text)),u.appendChild(A)}}},{key:"setSvgAttributes",value:function(u,h){var f=this.svg;f.setAttribute("width",u+"px"),f.setAttribute("height",h+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+u+" "+h),f.setAttribute("xmlns",c),f.setAttribute("version","1.1")}},{key:"createGroup",value:function(u,h,f){var A=this.document.createElementNS(c,"g");return A.setAttribute("transform","translate("+u+", "+h+")"),f.appendChild(A),A}},{key:"setGroupOptions",value:function(u,h){u.setAttribute("fill",h.lineColor)}},{key:"drawRect",value:function(u,h,f,A,g){var m=this.document.createElementNS(c,"rect");return m.setAttribute("x",u),m.setAttribute("y",h),m.setAttribute("width",f),m.setAttribute("height",A),g.appendChild(m),m}}]),d})();return mv.default=o,mv}var gv={},XT;function Tae(){if(XT)return gv;XT=1,Object.defineProperty(gv,"__esModule",{value:!0});var r=(function(){function a(s,i){for(var c=0;c<i.length;c++){var o=i[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,i,c){return i&&a(s.prototype,i),c&&a(s,c),s}})();function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s,i,c){t(this,a),this.object=s,this.encodings=i,this.options=c}return r(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a})();return gv.default=n,gv}var YT;function kae(){if(YT)return Av;YT=1,Object.defineProperty(Av,"__esModule",{value:!0});var r=Bae(),t=c(r),n=Iae(),a=c(n),s=Tae(),i=c(s);function c(o){return o&&o.__esModule?o:{default:o}}return Av.default={CanvasRenderer:t.default,SVGRenderer:a.default,ObjectRenderer:i.default},Av}var Rp={},JT;function hD(){if(JT)return Rp;JT=1,Object.defineProperty(Rp,"__esModule",{value:!0});function r(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function t(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function n(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var a=(function(c){n(o,c);function o(d,l){r(this,o);var u=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return u.name="InvalidInputException",u.symbology=d,u.input=l,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return o})(Error),s=(function(c){n(o,c);function o(){r(this,o);var d=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.name="InvalidElementException",d.message="Not supported type to render on",d}return o})(Error),i=(function(c){n(o,c);function o(){r(this,o);var d=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.name="NoElementException",d.message="No element to render on.",d}return o})(Error);return Rp.InvalidInputException=a,Rp.InvalidElementException=s,Rp.NoElementException=i,Rp}var ZT;function _ae(){if(ZT)return dv;ZT=1,Object.defineProperty(dv,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t=Eae(),n=c(t),a=kae(),s=c(a),i=hD();function c(u){return u&&u.__esModule?u:{default:u}}function o(u){if(typeof u=="string")return d(u);if(Array.isArray(u)){for(var h=[],f=0;f<u.length;f++)h.push(o(u[f]));return h}else{if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLImageElement)return l(u);if(u&&u.nodeName&&u.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&u instanceof SVGElement)return{element:u,options:(0,n.default)(u),renderer:s.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement)return{element:u,options:(0,n.default)(u),renderer:s.default.CanvasRenderer};if(u&&u.getContext)return{element:u,renderer:s.default.CanvasRenderer};if(u&&(typeof u>"u"?"undefined":r(u))==="object"&&!u.nodeName)return{element:u,renderer:s.default.ObjectRenderer};throw new i.InvalidElementException}}function d(u){var h=document.querySelectorAll(u);if(h.length!==0){for(var f=[],A=0;A<h.length;A++)f.push(o(h[A]));return f}}function l(u){var h=document.createElement("canvas");return{element:h,options:(0,n.default)(u),renderer:s.default.CanvasRenderer,afterRender:function(){u.setAttribute("src",h.toDataURL())}}}return dv.default=o,dv}var vv={},ek;function Oae(){if(ek)return vv;ek=1,Object.defineProperty(vv,"__esModule",{value:!0});var r=(function(){function a(s,i){for(var c=0;c<i.length;c++){var o=i[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,i,c){return i&&a(s.prototype,i),c&&a(s,c),s}})();function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var n=(function(){function a(s){t(this,a),this.api=s}return r(a,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var c=i.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(o){return this.handleCatch(o),this.api}}}]),a})();return vv.default=n,vv}var zw,tk;function Fae(){if(tk)return zw;tk=1;var r=Cae(),t=y(r),n=B2(),a=y(n),s=Nae(),i=y(s),c=Sae(),o=y(c),d=_ae(),l=y(d),u=cD(),h=y(u),f=Oae(),A=y(f),g=hD(),m=dD(),x=y(m);function y(Z){return Z&&Z.__esModule?Z:{default:Z}}var b=function(){},j=function(ne,G,le){var V=new b;if(typeof ne>"u")throw Error("No element to render on was provided.");return V._renderProperties=(0,l.default)(ne),V._encodings=[],V._options=x.default,V._errorHandler=new A.default(V),typeof G<"u"&&(le=le||{},le.format||(le.format=I()),V.options(le)[le.format](G,le).render()),V};j.getModule=function(Z){return t.default[Z]};for(var S in t.default)t.default.hasOwnProperty(S)&&w(t.default,S);function w(Z,ne){b.prototype[ne]=b.prototype[ne.toUpperCase()]=b.prototype[ne.toLowerCase()]=function(G,le){var V=this;return V._errorHandler.wrapBarcodeCall(function(){le.text=typeof le.text>"u"?void 0:""+le.text;var me=(0,a.default)(V._options,le);me=(0,h.default)(me);var $=Z[ne],X=E(G,$,me);return V._encodings.push(X),V})}}function E(Z,ne,G){Z=""+Z;var le=new ne(Z,G);if(!le.valid())throw new g.InvalidInputException(le.constructor.name,Z);var V=le.encode();V=(0,i.default)(V);for(var me=0;me<V.length;me++)V[me].options=(0,a.default)(G,V[me].options);return V}function I(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}b.prototype.options=function(Z){return this._options=(0,a.default)(this._options,Z),this},b.prototype.blank=function(Z){var ne=new Array(Z+1).join("0");return this._encodings.push({data:ne}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var Z;for(var ne in this._renderProperties){Z=this._renderProperties[ne];var G=(0,a.default)(this._options,Z.options);G.format=="auto"&&(G.format=I()),this._errorHandler.wrapBarcodeCall(function(){var le=G.value,V=t.default[G.format.toUpperCase()],me=E(le,V,G);L(Z,me,G)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var Z=0;Z<this._renderProperties.length;Z++)L(this._renderProperties[Z],this._encodings,this._options);else L(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=x.default;function L(Z,ne,G){ne=(0,i.default)(ne);for(var le=0;le<ne.length;le++)ne[le].options=(0,a.default)(G,ne[le].options),(0,o.default)(ne[le].options);(0,o.default)(G);var V=Z.renderer,me=new V(Z.element,ne,G);me.render(),Z.afterRender&&Z.afterRender()}return typeof window<"u"&&(window.JsBarcode=j),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Z,ne){var G=[];return jQuery(this).each(function(){G.push(this)}),j(G,Z,ne)}),zw=j,zw}var Pae=Fae();const t4=Zs(Pae);var Lp={},Gw,rk;function Dae(){return rk||(rk=1,Gw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Gw}var Kw={},Zf={},nk;function yp(){if(nk)return Zf;nk=1;let r;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Zf.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},Zf.getSymbolTotalCodewords=function(a){return t[a]},Zf.getBCHDigit=function(n){let a=0;for(;n!==0;)a++,n>>>=1;return a},Zf.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');r=a},Zf.isKanjiModeEnabled=function(){return typeof r<"u"},Zf.toSJIS=function(a){return r(a)},Zf}var qw={},ak;function SS(){return ak||(ak=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}r.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},r.from=function(a,s){if(r.isValid(a))return a;try{return t(a)}catch{return s}}})(qw)),qw}var Xw,sk;function Mae(){if(sk)return Xw;sk=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let a=0;a<n;a++)this.putBit((t>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Xw=r,Xw}var Yw,ik;function Rae(){if(ik)return Yw;ik=1;function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return r.prototype.set=function(t,n,a,s){const i=t*this.size+n;this.data[i]=a,s&&(this.reservedBit[i]=!0)},r.prototype.get=function(t,n){return this.data[t*this.size+n]},r.prototype.xor=function(t,n,a){this.data[t*this.size+n]^=a},r.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Yw=r,Yw}var Jw={},ok;function Lae(){return ok||(ok=1,(function(r){const t=yp().getSymbolSize;r.getRowColCoords=function(a){if(a===1)return[];const s=Math.floor(a/7)+2,i=t(a),c=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7];for(let d=1;d<s-1;d++)o[d]=o[d-1]-c;return o.push(6),o.reverse()},r.getPositions=function(a){const s=[],i=r.getRowColCoords(a),c=i.length;for(let o=0;o<c;o++)for(let d=0;d<c;d++)o===0&&d===0||o===0&&d===c-1||o===c-1&&d===0||s.push([i[o],i[d]]);return s}})(Jw)),Jw}var Zw={},lk;function Uae(){if(lk)return Zw;lk=1;const r=yp().getSymbolSize,t=7;return Zw.getPositions=function(a){const s=r(a);return[[0,0],[s-t,0],[0,s-t]]},Zw}var eC={},ck;function Hae(){return ck||(ck=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let c=0,o=0,d=0,l=null,u=null;for(let h=0;h<i;h++){o=d=0,l=u=null;for(let f=0;f<i;f++){let A=s.get(h,f);A===l?o++:(o>=5&&(c+=t.N1+(o-5)),l=A,o=1),A=s.get(f,h),A===u?d++:(d>=5&&(c+=t.N1+(d-5)),u=A,d=1)}o>=5&&(c+=t.N1+(o-5)),d>=5&&(c+=t.N1+(d-5))}return c},r.getPenaltyN2=function(s){const i=s.size;let c=0;for(let o=0;o<i-1;o++)for(let d=0;d<i-1;d++){const l=s.get(o,d)+s.get(o,d+1)+s.get(o+1,d)+s.get(o+1,d+1);(l===4||l===0)&&c++}return c*t.N2},r.getPenaltyN3=function(s){const i=s.size;let c=0,o=0,d=0;for(let l=0;l<i;l++){o=d=0;for(let u=0;u<i;u++)o=o<<1&2047|s.get(l,u),u>=10&&(o===1488||o===93)&&c++,d=d<<1&2047|s.get(u,l),u>=10&&(d===1488||d===93)&&c++}return c*t.N3},r.getPenaltyN4=function(s){let i=0;const c=s.data.length;for(let d=0;d<c;d++)i+=s.data[d];return Math.abs(Math.ceil(i*100/c/5)-10)*t.N4};function n(a,s,i){switch(a){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}r.applyMask=function(s,i){const c=i.size;for(let o=0;o<c;o++)for(let d=0;d<c;d++)i.isReserved(d,o)||i.xor(d,o,n(s,d,o))},r.getBestMask=function(s,i){const c=Object.keys(r.Patterns).length;let o=0,d=1/0;for(let l=0;l<c;l++){i(l),r.applyMask(l,s);const u=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(l,s),u<d&&(d=u,o=l)}return o}})(eC)),eC}var xv={},dk;function fD(){if(dk)return xv;dk=1;const r=SS(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return xv.getBlocksCount=function(s,i){switch(i){case r.L:return t[(s-1)*4+0];case r.M:return t[(s-1)*4+1];case r.Q:return t[(s-1)*4+2];case r.H:return t[(s-1)*4+3];default:return}},xv.getTotalCodewordsCount=function(s,i){switch(i){case r.L:return n[(s-1)*4+0];case r.M:return n[(s-1)*4+1];case r.Q:return n[(s-1)*4+2];case r.H:return n[(s-1)*4+3];default:return}},xv}var tC={},_g={},uk;function Qae(){if(uk)return _g;uk=1;const r=new Uint8Array(512),t=new Uint8Array(256);return(function(){let a=1;for(let s=0;s<255;s++)r[s]=a,t[a]=s,a<<=1,a&256&&(a^=285);for(let s=255;s<512;s++)r[s]=r[s-255]})(),_g.log=function(a){if(a<1)throw new Error("log("+a+")");return t[a]},_g.exp=function(a){return r[a]},_g.mul=function(a,s){return a===0||s===0?0:r[t[a]+t[s]]},_g}var hk;function Wae(){return hk||(hk=1,(function(r){const t=Qae();r.mul=function(a,s){const i=new Uint8Array(a.length+s.length-1);for(let c=0;c<a.length;c++)for(let o=0;o<s.length;o++)i[c+o]^=t.mul(a[c],s[o]);return i},r.mod=function(a,s){let i=new Uint8Array(a);for(;i.length-s.length>=0;){const c=i[0];for(let d=0;d<s.length;d++)i[d]^=t.mul(s[d],c);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},r.generateECPolynomial=function(a){let s=new Uint8Array([1]);for(let i=0;i<a;i++)s=r.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(tC)),tC}var rC,fk;function $ae(){if(fk)return rC;fk=1;const r=Wae();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(a){this.degree=a,this.genPoly=r.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(a.length+this.degree);s.set(a);const i=r.mod(s,this.genPoly),c=this.degree-i.length;if(c>0){const o=new Uint8Array(this.degree);return o.set(i,c),o}return i},rC=t,rC}var nC={},aC={},sC={},Ak;function AD(){return Ak||(Ak=1,sC.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),sC}var Th={},pk;function pD(){if(pk)return Th;pk=1;const r="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Th.KANJI=new RegExp(n,"g"),Th.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Th.BYTE=new RegExp(a,"g"),Th.NUMERIC=new RegExp(r,"g"),Th.ALPHANUMERIC=new RegExp(t,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Th.testKanji=function(d){return s.test(d)},Th.testNumeric=function(d){return i.test(d)},Th.testAlphanumeric=function(d){return c.test(d)},Th}var mk;function jp(){return mk||(mk=1,(function(r){const t=AD(),n=pD();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,c){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?i.ccBits[0]:c<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return n.testNumeric(i)?r.NUMERIC:n.testAlphanumeric(i)?r.ALPHANUMERIC:n.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function a(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,c){if(r.isValid(i))return i;try{return a(i)}catch{return c}}})(aC)),aC}var gk;function Vae(){return gk||(gk=1,(function(r){const t=yp(),n=fD(),a=SS(),s=jp(),i=AD(),c=7973,o=t.getBCHDigit(c);function d(f,A,g){for(let m=1;m<=40;m++)if(A<=r.getCapacity(m,g,f))return m}function l(f,A){return s.getCharCountIndicator(f,A)+4}function u(f,A){let g=0;return f.forEach(function(m){const x=l(m.mode,A);g+=x+m.getBitsLength()}),g}function h(f,A){for(let g=1;g<=40;g++)if(u(f,g)<=r.getCapacity(g,A,s.MIXED))return g}r.from=function(A,g){return i.isValid(A)?parseInt(A,10):g},r.getCapacity=function(A,g,m){if(!i.isValid(A))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const x=t.getSymbolTotalCodewords(A),y=n.getTotalCodewordsCount(A,g),b=(x-y)*8;if(m===s.MIXED)return b;const j=b-l(m,A);switch(m){case s.NUMERIC:return Math.floor(j/10*3);case s.ALPHANUMERIC:return Math.floor(j/11*2);case s.KANJI:return Math.floor(j/13);case s.BYTE:default:return Math.floor(j/8)}},r.getBestVersionForData=function(A,g){let m;const x=a.from(g,a.M);if(Array.isArray(A)){if(A.length>1)return h(A,x);if(A.length===0)return 1;m=A[0]}else m=A;return d(m.mode,m.getLength(),x)},r.getEncodedBits=function(A){if(!i.isValid(A)||A<7)throw new Error("Invalid QR Code version");let g=A<<12;for(;t.getBCHDigit(g)-o>=0;)g^=c<<t.getBCHDigit(g)-o;return A<<12|g}})(nC)),nC}var iC={},vk;function zae(){if(vk)return iC;vk=1;const r=yp(),t=1335,n=21522,a=r.getBCHDigit(t);return iC.getEncodedBits=function(i,c){const o=i.bit<<3|c;let d=o<<10;for(;r.getBCHDigit(d)-a>=0;)d^=t<<r.getBCHDigit(d)-a;return(o<<10|d)^n},iC}var oC={},lC,xk;function Gae(){if(xk)return lC;xk=1;const r=jp();function t(n){this.mode=r.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let s,i,c;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),c=parseInt(i,10),a.put(c,10);const o=this.data.length-s;o>0&&(i=this.data.substr(s),c=parseInt(i,10),a.put(c,o*3+1))},lC=t,lC}var cC,yk;function Kae(){if(yk)return cC;yk=1;const r=jp(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=r.ALPHANUMERIC,this.data=a}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let c=t.indexOf(this.data[i])*45;c+=t.indexOf(this.data[i+1]),s.put(c,11)}this.data.length%2&&s.put(t.indexOf(this.data[i]),6)},cC=n,cC}var dC,jk;function qae(){if(jk)return dC;jk=1;const r=jp();function t(n){this.mode=r.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(a){return a*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let a=0,s=this.data.length;a<s;a++)n.put(this.data[a],8)},dC=t,dC}var uC,bk;function Xae(){if(bk)return uC;bk=1;const r=jp(),t=yp();function n(a){this.mode=r.KANJI,this.data=a}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let s;for(s=0;s<this.data.length;s++){let i=t.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),a.put(i,13)}},uC=n,uC}var hC={exports:{}},wk;function Yae(){return wk||(wk=1,(function(r){var t={single_source_shortest_paths:function(n,a,s){var i={},c={};c[a]=0;var o=t.PriorityQueue.make();o.push(a,0);for(var d,l,u,h,f,A,g,m,x;!o.empty();){d=o.pop(),l=d.value,h=d.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(A=f[u],g=h+A,m=c[u],x=typeof c[u]>"u",(x||m>g)&&(c[u]=g,o.push(u,g),i[u]=l))}if(typeof s<"u"&&typeof c[s]>"u"){var y=["Could not find a path from ",a," to ",s,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(n,a){for(var s=[],i=a;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,a,s){var i=t.single_source_shortest_paths(n,a,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,s={},i;n=n||{};for(i in a)a.hasOwnProperty(i)&&(s[i]=a[i]);return s.queue=[],s.sorter=n.sorter||a.default_sorter,s},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var s={value:n,cost:a};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(hC)),hC.exports}var Ck;function Jae(){return Ck||(Ck=1,(function(r){const t=jp(),n=Gae(),a=Kae(),s=qae(),i=Xae(),c=pD(),o=yp(),d=Yae();function l(y){return unescape(encodeURIComponent(y)).length}function u(y,b,j){const S=[];let w;for(;(w=y.exec(j))!==null;)S.push({data:w[0],index:w.index,mode:b,length:w[0].length});return S}function h(y){const b=u(c.NUMERIC,t.NUMERIC,y),j=u(c.ALPHANUMERIC,t.ALPHANUMERIC,y);let S,w;return o.isKanjiModeEnabled()?(S=u(c.BYTE,t.BYTE,y),w=u(c.KANJI,t.KANJI,y)):(S=u(c.BYTE_KANJI,t.BYTE,y),w=[]),b.concat(j,S,w).sort(function(I,L){return I.index-L.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(y,b){switch(b){case t.NUMERIC:return n.getBitsLength(y);case t.ALPHANUMERIC:return a.getBitsLength(y);case t.KANJI:return i.getBitsLength(y);case t.BYTE:return s.getBitsLength(y)}}function A(y){return y.reduce(function(b,j){const S=b.length-1>=0?b[b.length-1]:null;return S&&S.mode===j.mode?(b[b.length-1].data+=j.data,b):(b.push(j),b)},[])}function g(y){const b=[];for(let j=0;j<y.length;j++){const S=y[j];switch(S.mode){case t.NUMERIC:b.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:b.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:b.push([S,{data:S.data,mode:t.BYTE,length:l(S.data)}]);break;case t.BYTE:b.push([{data:S.data,mode:t.BYTE,length:l(S.data)}])}}return b}function m(y,b){const j={},S={start:{}};let w=["start"];for(let E=0;E<y.length;E++){const I=y[E],L=[];for(let Z=0;Z<I.length;Z++){const ne=I[Z],G=""+E+Z;L.push(G),j[G]={node:ne,lastCount:0},S[G]={};for(let le=0;le<w.length;le++){const V=w[le];j[V]&&j[V].node.mode===ne.mode?(S[V][G]=f(j[V].lastCount+ne.length,ne.mode)-f(j[V].lastCount,ne.mode),j[V].lastCount+=ne.length):(j[V]&&(j[V].lastCount=ne.length),S[V][G]=f(ne.length,ne.mode)+4+t.getCharCountIndicator(ne.mode,b))}}w=L}for(let E=0;E<w.length;E++)S[w[E]].end=0;return{map:S,table:j}}function x(y,b){let j;const S=t.getBestModeForData(y);if(j=t.from(b,S),j!==t.BYTE&&j.bit<S.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(j)+`.
 Suggested mode is: `+t.toString(S));switch(j===t.KANJI&&!o.isKanjiModeEnabled()&&(j=t.BYTE),j){case t.NUMERIC:return new n(y);case t.ALPHANUMERIC:return new a(y);case t.KANJI:return new i(y);case t.BYTE:return new s(y)}}r.fromArray=function(b){return b.reduce(function(j,S){return typeof S=="string"?j.push(x(S,null)):S.data&&j.push(x(S.data,S.mode)),j},[])},r.fromString=function(b,j){const S=h(b,o.isKanjiModeEnabled()),w=g(S),E=m(w,j),I=d.find_path(E.map,"start","end"),L=[];for(let Z=1;Z<I.length-1;Z++)L.push(E.table[I[Z]].node);return r.fromArray(A(L))},r.rawSplit=function(b){return r.fromArray(h(b,o.isKanjiModeEnabled()))}})(oC)),oC}var Nk;function Zae(){if(Nk)return Kw;Nk=1;const r=yp(),t=SS(),n=Mae(),a=Rae(),s=Lae(),i=Uae(),c=Hae(),o=fD(),d=$ae(),l=Vae(),u=zae(),h=jp(),f=Jae();function A(E,I){const L=E.size,Z=i.getPositions(I);for(let ne=0;ne<Z.length;ne++){const G=Z[ne][0],le=Z[ne][1];for(let V=-1;V<=7;V++)if(!(G+V<=-1||L<=G+V))for(let me=-1;me<=7;me++)le+me<=-1||L<=le+me||(V>=0&&V<=6&&(me===0||me===6)||me>=0&&me<=6&&(V===0||V===6)||V>=2&&V<=4&&me>=2&&me<=4?E.set(G+V,le+me,!0,!0):E.set(G+V,le+me,!1,!0))}}function g(E){const I=E.size;for(let L=8;L<I-8;L++){const Z=L%2===0;E.set(L,6,Z,!0),E.set(6,L,Z,!0)}}function m(E,I){const L=s.getPositions(I);for(let Z=0;Z<L.length;Z++){const ne=L[Z][0],G=L[Z][1];for(let le=-2;le<=2;le++)for(let V=-2;V<=2;V++)le===-2||le===2||V===-2||V===2||le===0&&V===0?E.set(ne+le,G+V,!0,!0):E.set(ne+le,G+V,!1,!0)}}function x(E,I){const L=E.size,Z=l.getEncodedBits(I);let ne,G,le;for(let V=0;V<18;V++)ne=Math.floor(V/3),G=V%3+L-8-3,le=(Z>>V&1)===1,E.set(ne,G,le,!0),E.set(G,ne,le,!0)}function y(E,I,L){const Z=E.size,ne=u.getEncodedBits(I,L);let G,le;for(G=0;G<15;G++)le=(ne>>G&1)===1,G<6?E.set(G,8,le,!0):G<8?E.set(G+1,8,le,!0):E.set(Z-15+G,8,le,!0),G<8?E.set(8,Z-G-1,le,!0):G<9?E.set(8,15-G-1+1,le,!0):E.set(8,15-G-1,le,!0);E.set(Z-8,8,1,!0)}function b(E,I){const L=E.size;let Z=-1,ne=L-1,G=7,le=0;for(let V=L-1;V>0;V-=2)for(V===6&&V--;;){for(let me=0;me<2;me++)if(!E.isReserved(ne,V-me)){let $=!1;le<I.length&&($=(I[le]>>>G&1)===1),E.set(ne,V-me,$),G--,G===-1&&(le++,G=7)}if(ne+=Z,ne<0||L<=ne){ne-=Z,Z=-Z;break}}}function j(E,I,L){const Z=new n;L.forEach(function(me){Z.put(me.mode.bit,4),Z.put(me.getLength(),h.getCharCountIndicator(me.mode,E)),me.write(Z)});const ne=r.getSymbolTotalCodewords(E),G=o.getTotalCodewordsCount(E,I),le=(ne-G)*8;for(Z.getLengthInBits()+4<=le&&Z.put(0,4);Z.getLengthInBits()%8!==0;)Z.putBit(0);const V=(le-Z.getLengthInBits())/8;for(let me=0;me<V;me++)Z.put(me%2?17:236,8);return S(Z,E,I)}function S(E,I,L){const Z=r.getSymbolTotalCodewords(I),ne=o.getTotalCodewordsCount(I,L),G=Z-ne,le=o.getBlocksCount(I,L),V=Z%le,me=le-V,$=Math.floor(Z/le),X=Math.floor(G/le),Ce=X+1,M=$-X,q=new d(M);let ie=0;const J=new Array(le),D=new Array(le);let ce=0;const te=new Uint8Array(E.buffer);for(let de=0;de<le;de++){const Y=de<me?X:Ce;J[de]=te.slice(ie,ie+Y),D[de]=q.encode(J[de]),ie+=Y,ce=Math.max(ce,Y)}const ge=new Uint8Array(Z);let pe=0,be,re;for(be=0;be<ce;be++)for(re=0;re<le;re++)be<J[re].length&&(ge[pe++]=J[re][be]);for(be=0;be<M;be++)for(re=0;re<le;re++)ge[pe++]=D[re][be];return ge}function w(E,I,L,Z){let ne;if(Array.isArray(E))ne=f.fromArray(E);else if(typeof E=="string"){let $=I;if(!$){const X=f.rawSplit(E);$=l.getBestVersionForData(X,L)}ne=f.fromString(E,$||40)}else throw new Error("Invalid data");const G=l.getBestVersionForData(ne,L);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=G;else if(I<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const le=j(I,L,ne),V=r.getSymbolSize(I),me=new a(V);return A(me,I),g(me),m(me,I),y(me,L,0),I>=7&&x(me,I),b(me,le),isNaN(Z)&&(Z=c.getBestMask(me,y.bind(null,me,L))),c.applyMask(Z,me),y(me,L,Z),{modules:me,version:I,errorCorrectionLevel:L,maskPattern:Z,segments:ne}}return Kw.create=function(I,L){if(typeof I>"u"||I==="")throw new Error("No input text");let Z=t.M,ne,G;return typeof L<"u"&&(Z=t.from(L.errorCorrectionLevel,t.M),ne=l.from(L.version),G=c.from(L.maskPattern),L.toSJISFunc&&r.setToSJISFunction(L.toSJISFunc)),w(I,ne,Z,G)},Kw}var fC={},AC={},Sk;function mD(){return Sk||(Sk=1,(function(r){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(i){return[i,i]}))),a.length===6&&a.push("F","F");const s=parseInt(a.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+a.slice(0,6).join("")}}r.getOptions=function(a){a||(a={}),a.color||(a.color={});const s=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,i=a.width&&a.width>=21?a.width:void 0,c=a.scale||4;return{width:i,scale:i?4:c,margin:s,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},r.getScale=function(a,s){return s.width&&s.width>=a+s.margin*2?s.width/(a+s.margin*2):s.scale},r.getImageWidth=function(a,s){const i=r.getScale(a,s);return Math.floor((a+s.margin*2)*i)},r.qrToImageData=function(a,s,i){const c=s.modules.size,o=s.modules.data,d=r.getScale(c,i),l=Math.floor((c+i.margin*2)*d),u=i.margin*d,h=[i.color.light,i.color.dark];for(let f=0;f<l;f++)for(let A=0;A<l;A++){let g=(f*l+A)*4,m=i.color.light;if(f>=u&&A>=u&&f<l-u&&A<l-u){const x=Math.floor((f-u)/d),y=Math.floor((A-u)/d);m=h[o[x*c+y]?1:0]}a[g++]=m.r,a[g++]=m.g,a[g++]=m.b,a[g]=m.a}}})(AC)),AC}var Ek;function ese(){return Ek||(Ek=1,(function(r){const t=mD();function n(s,i,c){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=c,i.width=c,i.style.height=c+"px",i.style.width=c+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,c,o){let d=o,l=c;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),c||(l=a()),d=t.getOptions(d);const u=t.getImageWidth(i.modules.size,d),h=l.getContext("2d"),f=h.createImageData(u,u);return t.qrToImageData(f.data,i,d),n(h,l,u),h.putImageData(f,0,0),l},r.renderToDataURL=function(i,c,o){let d=o;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),d||(d={});const l=r.render(i,c,d),u=d.type||"image/png",h=d.rendererOpts||{};return l.toDataURL(u,h.quality)}})(fC)),fC}var pC={},Bk;function tse(){if(Bk)return pC;Bk=1;const r=mD();function t(s,i){const c=s.a/255,o=i+'="'+s.hex+'"';return c<1?o+" "+i+'-opacity="'+c.toFixed(2).slice(1)+'"':o}function n(s,i,c){let o=s+i;return typeof c<"u"&&(o+=" "+c),o}function a(s,i,c){let o="",d=0,l=!1,u=0;for(let h=0;h<s.length;h++){const f=Math.floor(h%i),A=Math.floor(h/i);!f&&!l&&(l=!0),s[h]?(u++,h>0&&f>0&&s[h-1]||(o+=l?n("M",f+c,.5+A+c):n("m",d,0),d=0,l=!1),f+1<i&&s[h+1]||(o+=n("h",u),u=0)):d++}return o}return pC.render=function(i,c,o){const d=r.getOptions(c),l=i.modules.size,u=i.modules.data,h=l+d.margin*2,f=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",A="<path "+t(d.color.dark,"stroke")+' d="'+a(u,l,d.margin)+'"/>',g='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+A+`</svg>
`;return typeof o=="function"&&o(null,x),x},pC}var Ik;function rse(){if(Ik)return Lp;Ik=1;const r=Dae(),t=Zae(),n=ese(),a=tse();function s(i,c,o,d,l){const u=[].slice.call(arguments,1),h=u.length,f=typeof u[h-1]=="function";if(!f&&!r())throw new Error("Callback required as last argument");if(f){if(h<2)throw new Error("Too few arguments provided");h===2?(l=o,o=c,c=d=void 0):h===3&&(c.getContext&&typeof l>"u"?(l=d,d=void 0):(l=d,d=o,o=c,c=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(o=c,c=d=void 0):h===2&&!c.getContext&&(d=o,o=c,c=void 0),new Promise(function(A,g){try{const m=t.create(o,d);A(i(m,c,d))}catch(m){g(m)}})}try{const A=t.create(o,d);l(null,i(A,c,d))}catch(A){l(A)}}return Lp.create=t.create,Lp.toCanvas=s.bind(null,n.render),Lp.toDataURL=s.bind(null,n.renderToDataURL),Lp.toString=s.bind(null,function(i,c,o){return a.render(i,o)}),Lp}var nse=rse();const r4=Zs(nse),ase=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState([]),A=C.useRef(null),[g,m]=C.useState({companyId:"",hcfId:"",barcodeType:"",colorBlock:""}),[x,y]=C.useState([]),[b,j]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState([]),[L,Z]=C.useState(!1),[ne,G]=C.useState(null),[le,V]=C.useState(!1),me=()=>{V(!le)},[$,X]=C.useState({companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}),Ce=C.useCallback(async()=>{try{const te=await ia.getAllCompanies(void 0,!0);y(te)}catch(te){console.error("Failed to load companies:",te),G("Failed to load companies")}},[]),M=C.useCallback(async()=>{try{const te=await xi.getAllHcfs(void 0,!0);j(te)}catch(te){console.error("Failed to load HCFs:",te),G("Failed to load HCFs")}},[]);C.useEffect(()=>{if($.companyId){const te=b.filter(ge=>ge.companyId===$.companyId);w(te),$.hcfId&&!te.find(ge=>ge.id===$.hcfId)&&X(ge=>({...ge,hcfId:""}))}else w([]),X(te=>({...te,hcfId:""}))},[$.companyId,b]);const q=C.useCallback(async()=>{try{Z(!0);const te=await rp.getAllBarcodeLabels(),ge=await Promise.all(te.map(async pe=>{const be=x.find(de=>de.id===pe.companyId);let re="";try{re=(await xi.getHcfById(pe.hcfId)).hcfName}catch(de){console.error("Error loading HCF:",de)}return{id:pe.id,hcfCode:pe.hcfCode,hcfName:re,companyId:pe.companyId,companyName:(be==null?void 0:be.companyName)||"Unknown",sequenceNumber:pe.sequenceNumber,barcodeType:pe.barcodeType,colorBlock:pe.colorBlock,barcodeValue:pe.barcodeValue,createdAt:pe.createdOn}}));I(ge)}catch(te){console.error("Failed to load labels:",te),G("Failed to load labels")}finally{Z(!1)}},[x]);C.useEffect(()=>{Ce(),M()},[Ce,M]),C.useEffect(()=>{x.length>0&&q()},[x,q]),C.useCallback(async(te,ge)=>{try{return await rp.getLastSequence(te,ge)}catch(pe){return console.error("Failed to get last sequence:",pe),0}},[]);const ie=async()=>{const te=$.endSequence-$.startSequence+1;if(!$.companyId||!$.hcfId||te<1){G("Please select company, HCF, and enter valid sequence range");return}const ge=S.find(be=>be.id===$.hcfId),pe=x.find(be=>be.id===$.companyId);if(!ge||!pe){G("Invalid selection");return}try{Z(!0),G(null);const re=(await rp.generateLabels({hcfId:$.hcfId,companyId:$.companyId,barcodeType:$.barcodeType,colorBlock:$.colorBlock,count:te})).map(de=>({id:de.id,hcfCode:de.hcfCode,hcfName:ge.hcfName,companyId:de.companyId,companyName:pe.companyName,sequenceNumber:de.sequenceNumber,barcodeType:de.barcodeType,colorBlock:de.colorBlock,barcodeValue:de.barcodeValue,createdAt:de.createdOn}));await q(),f(re),d(!0),c(!1),X(de=>({...de,companyId:"",hcfId:"",hcfCode:"",prefix:"HCF",startSequence:1,endSequence:10,barcodeType:"Barcode",colorBlock:"White",count:1}))}catch(be){const re=be instanceof Error?be.message:"Failed to generate labels";G(re),console.error("Error generating labels:",be)}finally{Z(!1)}};C.useEffect(()=>{o&&A.current&&h.length>0&&setTimeout(()=>{const te=A.current;if(!te)return;const ge=te.querySelectorAll(".barcode-svg"),pe=te.querySelectorAll(".qr-canvas");ge.forEach((be,re)=>{const de=h[re];if(de&&de.barcodeType==="Barcode")try{be.innerHTML="",t4(be,de.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Y){console.error("Failed to generate barcode:",Y)}}),pe.forEach((be,re)=>{const de=h[re];de&&de.barcodeType==="QR Code"&&r4.toCanvas(be,de.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Y=>{console.error("Failed to generate QR code:",Y)})})},100)},[h,o]);const J=()=>{!A.current||h.length===0||setTimeout(()=>{const te=A.current;if(!te)return;const ge=te.querySelectorAll(".barcode-svg"),pe=te.querySelectorAll(".qr-canvas");ge.forEach((be,re)=>{const de=h[re];if(de&&de.barcodeType==="Barcode")try{be.innerHTML="",t4(be,de.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(Y){console.error("Failed to generate barcode:",Y)}}),pe.forEach((be,re)=>{const de=h[re];de&&de.barcodeType==="QR Code"&&r4.toCanvas(be,de.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(Y=>{console.error("Failed to generate QR code:",Y)})}),setTimeout(()=>{window.print()},200)},100)},D=E.filter(te=>{const ge=te.hcfCode.toLowerCase().includes(a.toLowerCase())||te.hcfName.toLowerCase().includes(a.toLowerCase())||te.companyName.toLowerCase().includes(a.toLowerCase())||te.barcodeValue.toLowerCase().includes(a.toLowerCase()),pe=!g.companyId||te.companyId===g.companyId,be=!g.hcfId||te.hcfCode===g.hcfId,re=!g.barcodeType||te.barcodeType===g.barcodeType,de=!g.colorBlock||te.colorBlock===g.colorBlock;return ge&&pe&&be&&re&&de}),ce=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${le?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!le&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:me,"aria-label":le?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:le?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ce.map(te=>e.jsx("li",{children:e.jsxs(Rr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:te.icon}),!le&&e.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!le&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!le&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Barcode Generation",subtitle:"Generate barcodes and QR codes for waste labels"}),e.jsxs("div",{className:"barcode-generation-page",children:[e.jsxs("div",{className:"barcode-generation-header",children:[e.jsx("div",{className:"barcode-generation-header-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsxs("div",{className:"barcode-generation-header-text",children:[e.jsx("h1",{className:"barcode-generation-title",children:"Barcode & QR Code Label Generation"}),e.jsx("p",{className:"barcode-generation-subtitle",children:"Generate and print labels with sequence numbers"})]})]}),e.jsxs("div",{className:"barcode-generation-actions",children:[e.jsxs("div",{className:"barcode-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"barcode-search-input",placeholder:"Search by HCF Code, Name, Company, or Barcode...",value:a,onChange:te=>s(te.target.value)})]}),e.jsxs("div",{className:"barcode-action-buttons-group",children:[e.jsxs("button",{className:"barcode-filter-btn",onClick:()=>u(!0),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filters"]}),e.jsxs("button",{className:"generate-btn",onClick:()=>c(!0),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Generate Labels"]})]})]}),ne&&e.jsxs("div",{className:"barcode-error-banner",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),ne]}),e.jsx("div",{className:"barcode-table-container",children:e.jsxs("table",{className:"barcode-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SEQUENCE"}),e.jsx("th",{children:"HCF CODE"}),e.jsx("th",{children:"HCF NAME"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"TYPE"}),e.jsx("th",{children:"COLOR BLOCK"}),e.jsx("th",{children:"BARCODE VALUE"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"empty-message",children:'No labels found. Click "Generate Labels" to create barcode/QR labels.'})}):D.map(te=>e.jsxs("tr",{children:[e.jsx("td",{className:"sequence-cell",children:te.sequenceNumber.toString().padStart(6,"0")}),e.jsx("td",{className:"hcf-code-cell",children:te.hcfCode}),e.jsx("td",{children:te.hcfName}),e.jsx("td",{children:te.companyName}),e.jsx("td",{children:e.jsx("div",{className:"barcode-type-icon-wrapper",children:te.barcodeType==="QR Code"?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),e.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),e.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),e.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),e.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),e.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]})})}),e.jsx("td",{children:e.jsxs("div",{className:"color-block-swatch-wrapper",children:[e.jsx("div",{className:`color-block-swatch color-block-swatch--${te.colorBlock.toLowerCase()}`,style:{backgroundColor:te.colorBlock==="Yellow"?"#FFFF00":te.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:te.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),e.jsx("span",{className:"color-block-hex",children:te.colorBlock==="Yellow"?"#FFFF00":te.colorBlock==="Red"?"#FF0000":"#FFFFFF"})]})}),e.jsx("td",{className:"barcode-value-cell",children:te.barcodeValue}),e.jsx("td",{children:e.jsxs("div",{className:"barcode-table-action-buttons",children:[e.jsx("button",{className:"barcode-action-btn barcode-action-btn--view",onClick:()=>{f([te]),d(!0)},title:"View",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"barcode-action-btn barcode-action-btn--download",onClick:()=>{f([te]),d(!0),setTimeout(()=>J(),200)},title:"Download",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),e.jsx("button",{className:"barcode-action-btn barcode-action-btn--delete",onClick:async()=>{if(window.confirm("Are you sure you want to delete this label?"))try{await rp.deleteBarcodeLabel(te.id),await q()}catch{G("Failed to delete label")}},title:"Delete",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},te.id))})]})}),e.jsxs("div",{className:"barcode-pagination-info",children:["Showing ",D.length," of ",E.length," Labels"]})]})]}),i&&e.jsx(sse,{companies:x,hcfs:S,formData:$,setFormData:X,onClose:()=>c(!1),onGenerate:ie}),l&&e.jsx(ose,{companies:x,hcfs:b,filters:g,setFilters:m,onClose:()=>u(!1),onClear:()=>m({companyId:"",hcfId:"",barcodeType:"",colorBlock:""})}),o&&h.length>0&&e.jsx(ise,{labels:h,printContainerRef:A,onClose:()=>d(!1),onPrint:J}),e.jsx("div",{className:"print-container",ref:A,children:h.map(te=>e.jsxs("div",{className:"print-label",children:[e.jsxs("div",{className:"print-label-header",children:[e.jsx("div",{className:`print-color-block-square print-color-block-square--${te.colorBlock.toLowerCase()}`,children:te.colorBlock.toUpperCase()}),e.jsxs("div",{className:"print-sequence-text",children:["Seq. No. ",te.sequenceNumber.toString().padStart(15,"0")]})]}),e.jsxs("div",{className:"print-barcode-container",children:[te.barcodeType==="QR Code"?e.jsx("canvas",{className:"qr-canvas",width:"150",height:"150"}):e.jsx("svg",{className:"barcode-svg"}),e.jsx("div",{className:"print-barcode-value",children:te.barcodeValue})]}),e.jsx("div",{className:"print-label-footer",children:e.jsx("div",{className:"print-type-label",children:te.barcodeType==="QR Code"?"QR Code":"Bar Code"})})]},te.id))})]})},sse=({companies:r,hcfs:t,formData:n,setFormData:a,onClose:s,onGenerate:i})=>{t.find(h=>h.id===n.hcfId);const c=n.companyId?t.filter(h=>h.companyId===n.companyId):t,o=n.endSequence>=n.startSequence?n.endSequence-n.startSequence+1:0,d=n.hcfCode&&n.startSequence?`${n.prefix}-${n.hcfCode}-${n.startSequence.toString().padStart(6,"0")}`:"",l=h=>{a({...n,hcfCode:h});const f=c.find(A=>A.hcfCode.toUpperCase()===h.toUpperCase());a(f?A=>({...A,hcfCode:h,hcfId:f.id}):A=>({...A,hcfCode:h,hcfId:""}))},u=h=>{const f=t.find(A=>A.id===h);f&&a({...n,hcfId:h,hcfCode:f.hcfCode})};return e.jsx("div",{className:"modal-overlay bg-generate-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content bg-generate-modal",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"bg-generate-modal-header",children:[e.jsxs("div",{className:"bg-generate-modal-titlewrap",children:[e.jsx("div",{className:"bg-generate-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"bg-generate-modal-title",children:"Generate Labels"}),e.jsx("p",{className:"bg-generate-modal-subtitle",children:"Create barcode or QR code labels"})]})]}),e.jsx("button",{className:"bg-generate-close",onClick:s,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"bg-generate-form",onSubmit:h=>{h.preventDefault(),i()},children:[e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["LABEL TYPE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("div",{className:"bg-label-type-options",children:[e.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="Barcode"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"Barcode"}),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"4",y1:"8",x2:"4",y2:"16"}),e.jsx("line",{x1:"6",y1:"8",x2:"6",y2:"16"}),e.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"}),e.jsx("line",{x1:"10",y1:"8",x2:"10",y2:"16"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"14",y1:"8",x2:"14",y2:"16"}),e.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),e.jsx("line",{x1:"18",y1:"8",x2:"18",y2:"16"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"16"})]}),"Barcode"]}),e.jsxs("button",{type:"button",className:`bg-label-type-btn ${n.barcodeType==="QR Code"?"bg-label-type-btn--active":""}`,onClick:()=>a({...n,barcodeType:"QR Code"}),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"16",y:"3",width:"5",height:"5"}),e.jsx("rect",{x:"3",y:"16",width:"5",height:"5"}),e.jsx("rect",{x:"7",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"15",y:"7",width:"2",height:"2"}),e.jsx("rect",{x:"7",y:"15",width:"2",height:"2"}),e.jsx("rect",{x:"11",y:"11",width:"2",height:"2"}),e.jsx("rect",{x:"16",y:"16",width:"5",height:"5"})]}),"QR Code"]})]})]}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["COMPANY ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("select",{value:n.companyId,onChange:h=>a({...n,companyId:h.target.value,hcfId:"",hcfCode:""}),required:!0,className:"bg-generate-select",children:[e.jsx("option",{value:"",children:"Select Company"}),r.map(h=>e.jsx("option",{value:h.id,children:h.companyName},h.id))]})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["PREFIX ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"text",value:n.prefix,onChange:h=>a({...n,prefix:h.target.value}),required:!0,className:"bg-generate-input"})]})]})}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["START SEQUENCE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"number",value:n.startSequence,onChange:h=>a({...n,startSequence:parseInt(h.target.value)||1}),required:!0,min:1,className:"bg-generate-input"})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["END SEQUENCE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"number",value:n.endSequence,onChange:h=>a({...n,endSequence:parseInt(h.target.value)||1}),required:!0,min:n.startSequence,className:"bg-generate-input"})]})]})}),e.jsx("div",{className:"bg-generate-form-section",children:e.jsxs("div",{className:"bg-generate-form-grid",children:[e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["HCF CODE ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsx("input",{type:"text",value:n.hcfCode,onChange:h=>l(h.target.value),required:!0,placeholder:"e.g., MH01",className:"bg-generate-input"})]}),e.jsxs("div",{className:"bg-generate-form-group",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["HCF NAME ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("select",{value:n.hcfId,onChange:h=>u(h.target.value),required:!0,disabled:!n.companyId,className:"bg-generate-select",children:[e.jsx("option",{value:"",children:"Select HCF"}),c.map(h=>e.jsx("option",{value:h.id,children:h.hcfName},h.id))]})]})]})}),e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsxs("label",{className:"bg-generate-form-label",children:["COLOR BLOCK ",e.jsx("span",{className:"bg-required",children:"*"})]}),e.jsxs("div",{className:"bg-color-block-options",children:[e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="White"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"White"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFFFF",border:"1px solid #e2e8f0"}}),e.jsx("span",{children:"WHITE"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FFFFFF"})]}),e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Red"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Red"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FF0000"}}),e.jsx("span",{children:"RED"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FF0000"})]}),e.jsxs("button",{type:"button",className:`bg-color-block-btn ${n.colorBlock==="Yellow"?"bg-color-block-btn--active":""}`,onClick:()=>a({...n,colorBlock:"Yellow"}),children:[e.jsx("div",{className:"bg-color-block-swatch",style:{backgroundColor:"#FFFF00"}}),e.jsx("span",{children:"YELLOW"}),e.jsx("span",{className:"bg-color-block-hex",children:"#FFFF00"})]})]})]}),e.jsxs("div",{className:"bg-generate-form-section",children:[e.jsx("label",{className:"bg-generate-form-label",children:"PREVIEW"}),e.jsxs("div",{className:"bg-preview-box",children:[e.jsxs("div",{className:"bg-preview-content",children:[e.jsx("div",{className:"bg-preview-color-swatch",style:{backgroundColor:n.colorBlock==="Yellow"?"#FFFF00":n.colorBlock==="Red"?"#FF0000":"#FFFFFF",border:n.colorBlock==="White"?"1px solid #e2e8f0":"none"}}),e.jsx("div",{className:"bg-preview-barcode-value",children:d||`${n.prefix}-CODE-000001`})]}),e.jsx("div",{className:"bg-preview-count",children:o>0?`${o} label(s) will be generated`:"Enter sequence range"})]})]}),e.jsxs("div",{className:"bg-generate-modal-footer",children:[e.jsx("button",{type:"button",className:"bg-generate-btn bg-generate-btn--cancel",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-generate-btn bg-generate-btn--primary",children:"Generate Labels"})]})]})]})})},ise=({labels:r,printContainerRef:t,onClose:n,onPrint:a})=>{var o;const s=C.useRef(null),i=C.useRef(null),c=r[0];return C.useEffect(()=>{if(c)if(c.barcodeType==="Barcode"&&s.current)try{s.current.innerHTML="",t4(s.current,c.barcodeValue,{format:"CODE128",width:2,height:50,displayValue:!1,margin:5})}catch(d){console.error("Failed to generate preview barcode:",d)}else c.barcodeType==="QR Code"&&i.current&&r4.toCanvas(i.current,c.barcodeValue,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(d=>{console.error("Failed to generate preview QR code:",d)})},[c]),e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--preview",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Preview Label (",r.length,")"]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"preview-content",children:[e.jsxs("div",{className:"preview-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"HCF:"})," ",c==null?void 0:c.hcfCode," - ",c==null?void 0:c.hcfName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",e.jsx("span",{className:"preview-company-link",children:c==null?void 0:c.companyName})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",c==null?void 0:c.barcodeType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Color Block:"})," ",c==null?void 0:c.colorBlock]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sequence Range:"})," ",c==null?void 0:c.sequenceNumber," - ",(o=r[r.length-1])==null?void 0:o.sequenceNumber]})]}),c&&e.jsxs("div",{className:"preview-label-single",children:[e.jsxs("div",{className:"preview-label-single-header",children:[e.jsx("div",{className:"preview-label-seq-label",children:"Seq. No:"}),e.jsx("div",{className:"preview-label-seq-number",children:c.sequenceNumber.toString().padStart(15,"0")})]}),e.jsxs("div",{className:"preview-label-single-body",children:[e.jsx("div",{className:"preview-label-single-color-text",children:c.colorBlock.toUpperCase()}),e.jsx("div",{className:"preview-label-single-barcode-container",children:c.barcodeType==="Barcode"?e.jsx("svg",{ref:s,className:"preview-barcode-svg"}):e.jsx("canvas",{ref:i,className:"preview-qr-canvas"})}),e.jsx("div",{className:"preview-label-single-barcode-value",children:c.barcodeValue}),e.jsx("div",{className:"preview-label-single-type-badge",children:c.barcodeType})]}),e.jsx("div",{className:"preview-label-single-footer",children:e.jsx("div",{className:"preview-label-single-footer-text",children:"BAR CODE"})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn--print-label",onClick:a,children:"Print Label"})]})]})})},ose=({companies:r,hcfs:t,filters:n,setFilters:a,onClose:s,onClear:i})=>{const c=n.companyId?t.filter(o=>o.companyId===n.companyId):t;return e.jsx("div",{className:"modal-overlay bg-filter-modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content bg-filter-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"bg-filter-modal-header",children:[e.jsxs("div",{className:"bg-filter-modal-titlewrap",children:[e.jsx("div",{className:"bg-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"bg-filter-modal-title",children:"Advanced Filters"}),e.jsx("p",{className:"bg-filter-modal-subtitle",children:"Refine results by multiple criteria"})]})]}),e.jsx("button",{className:"bg-filter-close",onClick:s,"aria-label":"Close",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"bg-filter-modal-body",children:[e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-hcf",children:"HCF CODE"}),e.jsxs("select",{id:"filter-hcf",value:n.hcfId,onChange:o=>a({...n,hcfId:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Codes"}),c.map(o=>e.jsx("option",{value:o.hcfCode,children:o.hcfCode},o.id))]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-company",children:"COMPANY"}),e.jsxs("select",{id:"filter-company",value:n.companyId,onChange:o=>{const d=o.target.value;a({...n,companyId:d,hcfId:d?"":n.hcfId})},className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),r.map(o=>e.jsx("option",{value:o.id,children:o.companyName},o.id))]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-type",children:"LABEL TYPE"}),e.jsxs("select",{id:"filter-type",value:n.barcodeType,onChange:o=>a({...n,barcodeType:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"Barcode",children:"Barcode"}),e.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),e.jsxs("div",{className:"bg-filter-form-group",children:[e.jsx("label",{htmlFor:"filter-color",children:"COLOR BLOCK"}),e.jsxs("select",{id:"filter-color",value:n.colorBlock,onChange:o=>a({...n,colorBlock:o.target.value}),className:"bg-filter-select",children:[e.jsx("option",{value:"",children:"All Colors"}),e.jsx("option",{value:"Yellow",children:"Yellow"}),e.jsx("option",{value:"Red",children:"Red"}),e.jsx("option",{value:"White",children:"White"})]})]})]}),e.jsxs("div",{className:"bg-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"bg-link-btn",onClick:i,children:"Clear Filters"}),e.jsx("button",{type:"button",className:"bg-filter-btn-primary",onClick:s,children:"Apply Filters"})]})]})})},lse="http://localhost:3000/api/v1",cse=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Og=async(r,t={})=>{const n=cse(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${lse}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},Iv={createCertificate:async r=>(await Og("/training-certificates",{method:"POST",body:JSON.stringify(r)})).data,getCertificateById:async r=>(await Og(`/training-certificates/${r}`,{method:"GET"})).data,getAllCertificates:async(r,t,n)=>{let a="/training-certificates";const s=new URLSearchParams;return r&&s.append("companyId",r),t&&s.append("activeOnly","true"),n!=null&&n.hcfId&&s.append("hcfId",n.hcfId),n!=null&&n.status&&s.append("status",n.status),n!=null&&n.dateFrom&&s.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&s.append("dateTo",n.dateTo),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(a+=`?${s.toString()}`),(await Og(a,{method:"GET"})).data},updateCertificate:async(r,t)=>(await Og(`/training-certificates/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteCertificate:async r=>{await Og(`/training-certificates/${r}`,{method:"DELETE"})}},dse=()=>{const{logout:r,user:t,permissions:n}=Wn(),a=un(),[s,i]=C.useState(""),[c,o]=C.useState("All"),[d,l]=C.useState("All"),[u,h]=C.useState("All"),[f,A]=C.useState(""),[g,m]=C.useState(""),[x,y]=C.useState(!1),[b,j]=C.useState({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),[S,w]=C.useState(!1),[E,I]=C.useState(!1),[L,Z]=C.useState(null),[ne,G]=C.useState(null),[le,V]=C.useState(!0),[me,$]=C.useState(null),[X,Ce]=C.useState(!1),[M,q]=C.useState(!1),ie=()=>{q(!M)},[J,D]=C.useState([]),[ce,te]=C.useState([]),[ge,pe]=C.useState([]),be=C.useCallback(async()=>{try{const tt=await ia.getAllCompanies(void 0,!0);D(tt)}catch(tt){console.error("Failed to load companies:",tt),$("Failed to load companies")}},[]),re=C.useCallback(async tt=>{try{const Le=await xi.getAllHcfs(tt,!0);te(Le)}catch(Le){console.error("Failed to load HCFs:",Le),$("Failed to load HCFs")}},[]),de=C.useCallback(async()=>{var tt;try{V(!0),$(null);const Le=c!=="All"?(tt=J.find(yt=>yt.companyName===c))==null?void 0:tt.id:void 0,lt={};if(d!=="All"){const yt=ce.find(Tt=>Tt.hcfCode===d);yt&&(lt.hcfId=yt.id)}u!=="All"&&(lt.status=u),f&&(lt.dateFrom=f),g&&(lt.dateTo=g),s&&(lt.search=s);const Ue=(await Iv.getAllCertificates(Le,!1,Object.keys(lt).length>0?lt:void 0)).map(yt=>{const Tt=J.find(Mr=>Mr.id===yt.companyId),Zt=ce.find(Mr=>Mr.id===yt.hcfId);return{id:yt.id,certificateNo:yt.certificateNo,staffName:yt.staffName,staffCode:yt.staffCode,designation:yt.designation||"",hcfCode:(Zt==null?void 0:Zt.hcfCode)||"",hcfId:yt.hcfId,trainingDate:yt.trainingDate,status:yt.status,companyName:(Tt==null?void 0:Tt.companyName)||"",companyId:yt.companyId,trainedBy:yt.trainedBy,createdBy:yt.createdBy||"",createdOn:yt.createdOn,modifiedBy:yt.modifiedBy||"",modifiedOn:yt.modifiedOn}});pe(Ue)}catch(Le){console.error("Failed to load certificates:",Le),$(Le.message||"Failed to load certificates")}finally{V(!1)}},[c,d,u,f,g,s,J,ce]);C.useEffect(()=>{(async()=>{await be(),await re()})()},[be,re]),C.useEffect(()=>{J.length>0&&ce.length>0&&de()},[c,d,u,f,g,s,J,ce,de]),C.useEffect(()=>{if(c!=="All"){const tt=J.find(Le=>Le.companyName===c);tt&&re(tt.id)}else re()},[c,J,re]);const Y=ge.filter(tt=>{const Le=s.toLowerCase(),lt=!s||tt.certificateNo.toLowerCase().includes(Le)||tt.staffName.toLowerCase().includes(Le)||tt.staffCode.toLowerCase().includes(Le)||tt.hcfCode.toLowerCase().includes(Le),$t=!b.companyId||tt.companyId===b.companyId,Ue=!b.hcfCode||tt.hcfCode.toLowerCase().includes(b.hcfCode.toLowerCase()),yt=!b.staffName||tt.staffName.toLowerCase().includes(b.staffName.toLowerCase()),Tt=!b.staffCode||tt.staffCode.toLowerCase().includes(b.staffCode.toLowerCase()),Zt=!b.trainingDateFrom||tt.trainingDate>=b.trainingDateFrom,Mr=!b.trainingDateTo||tt.trainingDate<=b.trainingDateTo,_t=!b.status||tt.status===b.status;return lt&&$t&&Ue&&yt&&Tt&&Zt&&Mr&&_t}),Ae=()=>{Z(null),w(!0)},ye=tt=>{G(tt),I(!0)},Oe=tt=>{tt.status==="Active"?(Z(tt),w(!0)):alert("Only Active certificates can be edited.")},We=tt=>{window.print()},ae=async tt=>{try{if(Ce(!0),$(null),L){const Le={};tt.staffName!==void 0&&(Le.staffName=tt.staffName),tt.staffCode!==void 0&&(Le.staffCode=tt.staffCode),tt.designation!==void 0&&(Le.designation=tt.designation),tt.hcfId!==void 0&&(Le.hcfId=tt.hcfId),tt.trainingDate!==void 0&&(Le.trainingDate=tt.trainingDate),tt.trainedBy!==void 0&&(Le.trainedBy=tt.trainedBy),tt.status!==void 0&&(Le.status=tt.status),await Iv.updateCertificate(L.id,Le)}else{const Le=J.find(lt=>lt.companyName===tt.companyName);if(!Le)throw new Error("Company not found");if(!tt.hcfId)throw new Error("HCF is required");if(!tt.certificateNo)throw new Error("Certificate number is required");await Iv.createCertificate({certificateNo:tt.certificateNo||ke(),staffName:tt.staffName||"",staffCode:tt.staffCode||"",designation:tt.designation,hcfId:tt.hcfId,trainingDate:tt.trainingDate||new Date().toISOString().split("T")[0],companyId:Le.id,trainedBy:tt.trainedBy||""})}await de(),w(!1),Z(null)}catch(Le){console.error("Failed to save certificate:",Le),$(Le.message||"Failed to save certificate"),alert(Le.message||"Failed to save certificate")}finally{Ce(!1)}},ke=()=>{const tt=new Date().getFullYear(),Le=ge.length+1;return`CERT-${tt}-${Le.toString().padStart(3,"0")}`},Fe=tt=>{if(tt==="All")return ce.filter(lt=>lt.status==="Active");const Le=J.find(lt=>lt.companyName===tt);return Le?ce.filter(lt=>lt.companyId===Le.id&&lt.status==="Active"):[]},nt=As(n,a.pathname);return Fe(c),e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${M?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!M&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:ie,"aria-label":M?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:M?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:nt.map(tt=>e.jsx("li",{children:e.jsxs(Rr,{to:tt.path,className:`nav-link ${tt.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:tt.icon}),!M&&e.jsx("span",{className:"nav-label",children:tt.label})]})},tt.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!M&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!M&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Training Certificate Management",subtitle:"Manage training certificates and certifications"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Training Certificate Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage training certificates and certifications"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by certificate number, staff name, staff code, HCF...",value:s,onChange:tt=>i(tt.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>y(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:Ae,disabled:le,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Certificate"]})]})]}),me&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:me}),e.jsx("button",{className:"ra-alert-close",onClick:()=>$(null),children:""})]}),le&&e.jsx("div",{className:"ra-alert",style:{background:"#f8fafc",borderColor:"#e2e8f0",color:"#64748b"},children:e.jsx("span",{children:"Loading certificates..."})}),e.jsx("div",{className:"route-assignment-table-container",children:le&&ge.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading certificates..."}):Y.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:ge.length===0?"No certificate records found":"No certificates match your search criteria"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Designation"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Y.map(tt=>{const Le=ce.find(lt=>lt.hcfCode===tt.hcfCode);return e.jsxs("tr",{children:[e.jsx("td",{className:"certificate-no-cell",children:tt.certificateNo}),e.jsx("td",{children:tt.staffName}),e.jsx("td",{children:tt.staffCode}),e.jsx("td",{children:tt.designation}),e.jsx("td",{children:Le?`${tt.hcfCode} - ${Le.hcfName}`:tt.hcfCode}),e.jsx("td",{children:tt.trainingDate}),e.jsx("td",{children:e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${tt.status.toLowerCase()}`,children:tt.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>ye(tt),title:"View",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),tt.status==="Active"&&e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Oe(tt),title:"Edit",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--print",onClick:()=>We(),title:"Print",type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})})]},tt.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",Y.length," of ",ge.length," items"]})]})]}),x&&e.jsx(fse,{advancedFilters:b,companies:J.filter(tt=>tt.status==="Active"),hcfs:ce.filter(tt=>tt.status==="Active"),onClose:()=>y(!1),onClear:()=>{j({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),y(!1)},onApply:tt=>{j(tt),y(!1)}}),S&&e.jsx(use,{certificate:L,companies:J.filter(tt=>tt.status==="Active"),hcfs:ce.filter(tt=>tt.status==="Active"),onClose:()=>{w(!1),Z(null)},onSave:ae,generateCertificateNo:ke}),E&&ne&&e.jsx(hse,{certificate:ne,hcfs:ce,companies:J,onClose:()=>{I(!1),G(null)},onPrint:We})]})},use=({certificate:r,companies:t,hcfs:n,onClose:a,onSave:s,generateCertificateNo:i})=>{const c=()=>{if(r){const y=t.find(b=>b.companyName===r.companyName);return{...r,companyId:r.companyId||(y==null?void 0:y.id)||""}}return{certificateNo:"",staffName:"",staffCode:"",designation:"",hcfCode:"",hcfId:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",companyId:"",trainedBy:""}},[o,d]=C.useState(c()),[l,u]=C.useState(r?"manual":"auto");C.useEffect(()=>{if(o.companyName&&!o.companyId&&t.length>0){const y=t.find(b=>b.companyName===o.companyName);y&&d(b=>({...b,companyId:y.id}))}},[o.companyName,t.length]);const h=(()=>{if(!o.companyId&&!o.companyName)return[];const y=o.companyId?t.find(j=>j.id===o.companyId):t.find(j=>j.companyName===o.companyName);return y?n.filter(j=>j.companyId===y.id):[]})(),f=(y,b)=>{const j={[y]:b};if(y==="companyName"){const S=t.find(w=>w.companyName===b);S&&(j.companyId=S.id),j.hcfCode="",j.hcfId=""}if(y==="hcfCode"){const S=h.find(w=>w.hcfCode===b);S&&(j.hcfId=S.id)}d({...o,...j})},A=y=>{u(y),d(y==="auto"?{...o,certificateNo:i()}:{...o,certificateNo:""})},g=()=>{d({...o,certificateNo:i()})},m=y=>{if(y.preventDefault(),!o.companyName||!o.hcfCode||!o.staffName||!o.staffCode||!o.trainingDate){alert("Please fill in all required fields");return}s(o)},x=()=>{window.confirm("Are you sure you want to reset the form? All unsaved changes will be lost.")&&d({certificateNo:l==="auto"?i():"",staffName:"",staffCode:"",designation:"",hcfCode:"",trainingDate:new Date().toISOString().split("T")[0],status:"Active",companyName:"",trainedBy:""})};return e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Training Certificate":"Create Training Certificate"}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"certificate-form",onSubmit:m,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Organization Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:o.companyName||"",onChange:y=>{f("companyName",y.target.value)},required:!0,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(y=>e.jsx("option",{value:y.companyName,children:y.companyName},y.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:o.hcfCode||"",onChange:y=>f("hcfCode",y.target.value),required:!0,disabled:!o.companyId&&!o.companyName,children:[e.jsx("option",{value:"",children:"Select HCF"}),h.length===0&&(o.companyId||o.companyName)?e.jsx("option",{value:"",disabled:!0,children:"No HCFs available for selected company"}):h.map(y=>e.jsxs("option",{value:y.hcfCode,children:[y.hcfCode," - ",y.hcfName]},y.id))]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Staff Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Code *"}),e.jsx("input",{type:"text",value:o.staffCode||"",onChange:y=>f("staffCode",y.target.value),required:!0,placeholder:"Enter staff code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staff Name *"}),e.jsx("input",{type:"text",value:o.staffName||"",onChange:y=>f("staffName",y.target.value),required:!0,placeholder:"Enter staff name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Designation *"}),e.jsx("input",{type:"text",value:o.designation||"",onChange:y=>f("designation",y.target.value),required:!0,placeholder:"Enter designation"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Training Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Certificate Number *"}),e.jsxs("div",{className:"certificate-no-input-group",children:[e.jsxs("div",{className:"certificate-no-mode-toggle",children:[e.jsx("button",{type:"button",className:`mode-toggle-btn ${l==="auto"?"active":""}`,onClick:()=>A("auto"),children:"Auto"}),e.jsx("button",{type:"button",className:`mode-toggle-btn ${l==="manual"?"active":""}`,onClick:()=>A("manual"),children:"Manual"})]}),e.jsx("input",{type:"text",value:o.certificateNo||"",onChange:y=>f("certificateNo",y.target.value),required:!0,placeholder:l==="auto"?"Auto-generated":"Enter certificate number",disabled:l==="auto"&&!r,style:{flex:1}}),l==="auto"&&!r&&e.jsx("button",{type:"button",className:"generate-btn-small",onClick:g,children:"Generate"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Training Date *"}),e.jsx("input",{type:"date",value:o.trainingDate||"",onChange:y=>f("trainingDate",y.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trained By *"}),e.jsx("input",{type:"text",value:o.trainedBy||"",onChange:y=>f("trainedBy",y.target.value),required:!0,placeholder:"Enter trainer name or organization"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Status"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status *"}),e.jsxs("select",{value:o.status||"Active",onChange:y=>f("status",y.target.value),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:x,children:"Reset"}),e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn--primary",children:"Save"})]})]})]})})},hse=({certificate:r,hcfs:t,companies:n,onClose:a,onPrint:s})=>{const i=t.find(c=>c.hcfCode===r.hcfCode);return n.find(c=>c.companyName===r.companyName),e.jsx("div",{className:"modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content modal-content--view",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Training Certificate - ",r.certificateNo]}),e.jsx("button",{className:"modal-close-btn",onClick:a,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"certificate-view-content",children:[e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Organization Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Company:"}),e.jsx("span",{children:r.companyName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"HCF:"}),e.jsx("span",{children:i?`${r.hcfCode} - ${i.hcfName}`:r.hcfCode})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Staff Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Code:"}),e.jsx("span",{children:r.staffCode||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Staff Name:"}),e.jsx("span",{children:r.staffName||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Designation:"}),e.jsx("span",{children:r.designation||"-"})]})]})]}),e.jsxs("div",{className:"certificate-view-section",children:[e.jsx("h3",{className:"certificate-view-section-title",children:"Training Details"}),e.jsxs("div",{className:"certificate-view-grid",children:[e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Certificate Number:"}),e.jsx("span",{className:"certificate-no-display",children:r.certificateNo||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Training Date:"}),e.jsx("span",{children:r.trainingDate||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Trained By:"}),e.jsx("span",{children:r.trainedBy||"-"})]}),e.jsxs("div",{className:"certificate-view-field",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:`certificate-status-badge certificate-status-badge--${r.status.toLowerCase()}`,children:r.status})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:a,children:"Back"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>s(r),children:"Print Certificate"})]})]})})},fse=({advancedFilters:r,companies:t,hcfs:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter certificates by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company"}),e.jsxs("select",{value:c.companyId,onChange:d=>o({...c,companyId:d.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Companies"}),t.map(d=>e.jsx("option",{value:d.id,children:d.companyName},d.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Code"}),e.jsx("input",{type:"text",value:c.hcfCode,onChange:d=>o({...c,hcfCode:d.target.value}),className:"ra-filter-input",placeholder:"Enter HCF code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Staff Name"}),e.jsx("input",{type:"text",value:c.staffName,onChange:d=>o({...c,staffName:d.target.value}),className:"ra-filter-input",placeholder:"Enter staff name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Staff Code"}),e.jsx("input",{type:"text",value:c.staffCode,onChange:d=>o({...c,staffCode:d.target.value}),className:"ra-filter-input",placeholder:"Enter staff code"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Training Date From"}),e.jsx("input",{type:"date",value:c.trainingDateFrom,onChange:d=>o({...c,trainingDateFrom:d.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Training Date To"}),e.jsx("input",{type:"date",value:c.trainingDateTo,onChange:d=>o({...c,trainingDateTo:d.target.value}),className:"ra-filter-input"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status,onChange:d=>o({...c,status:d.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o({companyId:"",hcfCode:"",staffName:"",staffCode:"",trainingDateFrom:"",trainingDateTo:"",status:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i(c),children:"Apply Filters"})]})]})})},Ase="http://localhost:3000/api/v1",pse=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Fg=async(r,t={})=>{const n=pse(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${Ase}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},hA={getAllContracts:async(r,t)=>{let n="/contracts";const a=new URLSearchParams;return r&&a.append("companyId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Fg(n,{method:"GET"})).data},getContractById:async r=>(await Fg(`/contracts/${r}`,{method:"GET"})).data,createContract:async r=>(await Fg("/contracts",{method:"POST",body:JSON.stringify(r)})).data,updateContract:async(r,t)=>(await Fg(`/contracts/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,deleteContract:async r=>{await Fg(`/contracts/${r}`,{method:"DELETE"})}},mse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),a=Ma(),[s,i]=C.useState(""),[c,o]=C.useState("All"),[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(null),[g,m]=C.useState([]),[x,y]=C.useState([]),[b,j]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState(!1),[L,Z]=C.useState(null),[ne,G]=C.useState(!1),[le,V]=C.useState(!1),[me,$]=C.useState({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),X=()=>{V(!le)},Ce=C.useCallback(async()=>{try{const re=await ia.getAllCompanies(!0);y(re.map(de=>({id:de.id,companyCode:de.companyCode,companyName:de.companyName})))}catch(re){console.error("Failed to load companies:",re)}},[]),M=C.useCallback(async()=>{try{const re=await xi.getAllHcfs(void 0,!0);j(re.map(de=>({id:de.id,hcfCode:de.hcfCode,hcfName:de.hcfName,companyId:de.companyId})))}catch(re){console.error("Failed to load HCFs:",re)}},[]),q=C.useCallback(async()=>{try{I(!0),Z(null);const re=await hA.getAllContracts(),de=await Promise.all(re.map(async Y=>{const Ae=x.find(Oe=>Oe.id===Y.companyId),ye=b.find(Oe=>Oe.id===Y.hcfId);return{id:Y.id,contractID:Y.contractID,contractNum:Y.contractNum,companyName:(Ae==null?void 0:Ae.companyName)||"Unknown",companyID:Y.companyId,hcfName:(ye==null?void 0:ye.hcfName)||"Unknown",hcfID:Y.hcfId,startDate:Y.startDate,endDate:Y.endDate,billingType:Y.billingType,status:Y.status}}));m(de)}catch(re){console.error("Failed to load contracts:",re),Z(re.message||"Failed to load contracts")}finally{I(!1)}},[x,b]);C.useEffect(()=>{(async()=>{await Promise.all([Ce(),M()])})()},[Ce,M]),C.useEffect(()=>{x.length>0&&b.length>0&&q()},[x.length,b.length,q]),C.useEffect(()=>{f!=null&&f.companyID?w(b.filter(re=>re.companyId===f.companyID)):w(b)},[f==null?void 0:f.companyID,b]);const ie=C.useMemo(()=>{const re=s.trim().toLowerCase(),de=me.contractNum.trim().toLowerCase(),Y=me.companyName.trim().toLowerCase(),Ae=me.hcfName.trim().toLowerCase(),ye=me.billingType.trim().toLowerCase(),Oe=me.status.trim();return g.filter(We=>{const ae=!re||We.contractNum.toLowerCase().includes(re)||We.companyName.toLowerCase().includes(re)||We.hcfName.toLowerCase().includes(re),ke=c==="All"||We.status===c,Fe=!de||We.contractNum.toLowerCase().includes(de),nt=!Y||We.companyName.toLowerCase().includes(Y),tt=!Ae||We.hcfName.toLowerCase().includes(Ae),Le=!ye||We.billingType.toLowerCase().includes(ye),lt=!Oe||We.status===Oe;return ae&&ke&&Fe&&nt&&tt&&Le&&lt})},[g,s,c,me]),J=()=>{A(null),l(!0)},D=(re,de)=>{de.stopPropagation(),A(re),l(!0)},ce=async re=>{try{G(!0),Z(null),f?await hA.updateContract(f.id,{contractNum:re.contractNum,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status}):await hA.createContract({contractNum:re.contractNum,companyId:re.companyID,hcfId:re.hcfID,startDate:re.startDate,endDate:re.endDate,billingType:re.billingType,status:re.status||"Draft"}),l(!1),A(null),await q()}catch(de){console.error("Failed to save contract:",de),Z(de.message||"Failed to save contract"),alert(de.message||"Failed to save contract")}finally{G(!1)}},te=re=>{a(`/commercial-agreements/agreement?contractId=${re.id}`)},ge=({status:re})=>{const de=`status-badge status-badge--${re.toLowerCase()}`;return e.jsx("span",{className:de,children:re})},pe=({contract:re})=>e.jsx(e.Fragment,{children:e.jsx("button",{className:"action-btn action-btn--edit",onClick:de=>D(re,de),title:"Edit Contract","aria-label":`Edit contract ${re.contractNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),be=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${le?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!le&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:X,"aria-label":le?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:le?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:be.map(re=>e.jsx("li",{children:e.jsxs(Rr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!le&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!le&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!le&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Contract Master",subtitle:"Manage contracts and agreements"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Contract Master"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track contracts, billing type and status"})]})]}),L&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"20px",backgroundColor:"#fee",color:"#c00",borderRadius:"4px"},children:L}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by contract number or company...",value:s,onChange:re=>i(re.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>h(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:J,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Contract"]})]})]}),E&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading contracts..."}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"CONTRACT NUMBER"}),e.jsx("th",{children:"CONTRACT ID"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"START DATE"}),e.jsx("th",{children:"END DATE"}),e.jsx("th",{children:"BILLING TYPE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"empty-message",children:E?"Loading...":"No contract records found"})}):ie.map(re=>{const de=Y=>{if(!Y)return"-";const Ae=new Date(Y),ye=String(Ae.getDate()).padStart(2,"0"),Oe=String(Ae.getMonth()+1).padStart(2,"0"),We=Ae.getFullYear();return`${ye}/${Oe}/${We}`};return e.jsxs("tr",{onClick:()=>te(re),style:{cursor:"pointer"},children:[e.jsx("td",{children:e.jsx("span",{className:"contract-num-cell",children:re.contractNum})}),e.jsx("td",{children:re.contractID}),e.jsx("td",{children:re.companyName}),e.jsx("td",{children:re.hcfName}),e.jsx("td",{children:de(re.startDate)}),e.jsx("td",{children:de(re.endDate)}),e.jsx("td",{children:re.billingType}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx(ge,{status:re.status})})}),e.jsx("td",{onClick:Y=>Y.stopPropagation(),children:e.jsx("div",{className:"action-buttons ra-actions",children:e.jsx(pe,{contract:re})})})]},re.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ie.length," of ",g.length," items"]})]})]}),d&&e.jsx(gse,{contract:f,companies:x,hcfs:S,saving:ne,onClose:()=>{l(!1),A(null)},onSave:ce}),u&&e.jsx(vse,{statusFilter:c,advancedFilters:me,onClose:()=>h(!1),onClear:()=>{o("All"),$({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),h(!1)},onApply:re=>{o(re.statusFilter),$(re.advancedFilters),h(!1)}})]})},gse=({contract:r,companies:t,hcfs:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{contractNum:"",companyID:"",hcfID:"",startDate:"",endDate:"",billingType:"Bed",status:"Draft"}),d=h=>{o({...c,companyID:h,hcfID:""})},l=h=>{if(h.preventDefault(),!c.contractNum||!c.companyID||!c.hcfID||!c.startDate||!c.endDate){alert("Please fill in all required fields");return}if(new Date(c.startDate)>new Date(c.endDate)){alert("End date must be after start date");return}i(c)},u=c.companyID?n.filter(h=>h.companyId===c.companyID):[];return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Contract":"Add Contract"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"contract-form",onSubmit:l,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Contract Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract Number *"}),e.jsx("input",{type:"text",value:c.contractNum||"",onChange:h=>o({...c,contractNum:h.target.value}),required:!0,disabled:a,placeholder:"e.g., CONTRACT-2024-001"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsxs("select",{value:c.companyID||"",onChange:h=>d(h.target.value),required:!0,disabled:a||!!r,children:[e.jsx("option",{value:"",children:"Select Company"}),t.map(h=>e.jsxs("option",{value:h.id,children:[h.companyCode," - ",h.companyName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"HCF *"}),e.jsxs("select",{value:c.hcfID||"",onChange:h=>o({...c,hcfID:h.target.value}),required:!0,disabled:a||!c.companyID,children:[e.jsx("option",{value:"",children:"Select HCF"}),u.map(h=>e.jsxs("option",{value:h.id,children:[h.hcfCode," - ",h.hcfName]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date *"}),e.jsx("input",{type:"date",value:c.startDate||"",onChange:h=>o({...c,startDate:h.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date *"}),e.jsx("input",{type:"date",value:c.endDate||"",onChange:h=>o({...c,endDate:h.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Type *"}),e.jsxs("select",{value:c.billingType||"Bed",onChange:h=>o({...c,billingType:h.target.value}),required:!0,disabled:a,children:[e.jsx("option",{value:"Bed",children:"Bed"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:h=>o({...c,status:h.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Contract"]})]})]})]})})},vse=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter contracts by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Contract Number"}),e.jsx("input",{type:"text",value:o.contractNum,onChange:l=>d({...o,contractNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter contract number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:o.companyName,onChange:l=>d({...o,companyName:l.target.value}),className:"ra-filter-input",placeholder:"Enter company name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"HCF Name"}),e.jsx("input",{type:"text",value:o.hcfName,onChange:l=>d({...o,hcfName:l.target.value}),className:"ra-filter-input",placeholder:"Enter HCF name"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Billing Type"}),e.jsxs("select",{value:o.billingType,onChange:l=>d({...o,billingType:l.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"Bed",children:"Bed"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Lumpsum",children:"Lumpsum"})]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("All"),d({contractNum:"",companyName:"",hcfName:"",billingType:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},gD="http://localhost:3000/api/v1",vD=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},yv=async(r,t={})=>{const n=vD(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${gD}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},s1={getAllAgreements:async(r,t)=>{let n="/agreements";const a=new URLSearchParams;return r&&a.append("contractId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await yv(n,{method:"GET"})).data},getAgreementById:async r=>(await yv(`/agreements/${r}`,{method:"GET"})).data,createAgreement:async r=>(await yv("/agreements",{method:"POST",body:JSON.stringify(r)})).data,updateAgreement:async(r,t)=>(await yv(`/agreements/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,downloadAgreementPDF:async r=>{const t=vD(),n=await fetch(`${gD}/agreements/${r}/download`,{method:"GET",headers:{...t&&{Authorization:`Bearer ${t}`}}});if(!n.ok){let a=`Failed to download PDF: ${n.statusText}`;if(n.status===404)a="PDF download endpoint not found";else if(n.status===501)a="PDF generation is not yet implemented";else try{const s=await n.json();s.message&&(a=s.message)}catch{}throw new Error(a)}return n.blob()}},xse="http://localhost:3000/api/v1",yse=()=>{const r=localStorage.getItem("mw-auth-user");if(r)try{return JSON.parse(r).token||null}catch{return null}return null},Pg=async(r,t={})=>{const n=yse(),a={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...t.headers},s=await fetch(`${xse}${r}`,{...t,headers:a});if(!s.ok){let i=`HTTP ${s.status}: ${s.statusText}`;try{const o=await s.json();Array.isArray(o.message)?i=o.message.join(", "):typeof o.message=="string"?i=o.message:o.error?i=typeof o.error=="string"?o.error:JSON.stringify(o.error):o.message&&(i=String(o.message))}catch{}const c=new Error(i);throw c.status=s.status,c.statusText=s.statusText,c}return s.status===204?{}:s.json()},rA={getAllClauses:async(r,t)=>{let n="/agreement-clauses";const a=new URLSearchParams;return r&&a.append("agreementId",r),t&&a.append("status",t),a.toString()&&(n+=`?${a.toString()}`),(await Pg(n,{method:"GET"})).data},getClauseById:async r=>(await Pg(`/agreement-clauses/${r}`,{method:"GET"})).data,createClause:async r=>(await Pg("/agreement-clauses",{method:"POST",body:JSON.stringify(r)})).data,updateClause:async(r,t)=>(await Pg(`/agreement-clauses/${r}`,{method:"PUT",body:JSON.stringify(t)})).data,reorderClause:async(r,t)=>(await Pg(`/agreement-clauses/${r}/reorder`,{method:"PATCH",body:JSON.stringify({newSequenceNo:t})})).data};var mC={exports:{}},Tv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var jse=Tv.exports,Tk;function bse(){return Tk||(Tk=1,(function(r,t){(function(n,a){r.exports=a()})(jse,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var Ee in H)Object.prototype.hasOwnProperty.call(H,Ee)&&(U[Ee]=H[Ee])},n(F,T)};function a(F,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");n(F,T);function U(){this.constructor=F}F.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)}var s=function(){return s=Object.assign||function(T){for(var U,H=1,Ee=arguments.length;H<Ee;H++){U=arguments[H];for(var Me in U)Object.prototype.hasOwnProperty.call(U,Me)&&(T[Me]=U[Me])}return T},s.apply(this,arguments)};function i(F,T,U,H){function Ee(Me){return Me instanceof U?Me:new U(function(qe){qe(Me)})}return new(U||(U=Promise))(function(Me,qe){function At(qt){try{Gt(H.next(qt))}catch(lr){qe(lr)}}function ft(qt){try{Gt(H.throw(qt))}catch(lr){qe(lr)}}function Gt(qt){qt.done?Me(qt.value):Ee(qt.value).then(At,ft)}Gt((H=H.apply(F,[])).next())})}function c(F,T){var U={label:0,sent:function(){if(Me[0]&1)throw Me[1];return Me[1]},trys:[],ops:[]},H,Ee,Me,qe;return qe={next:At(0),throw:At(1),return:At(2)},typeof Symbol=="function"&&(qe[Symbol.iterator]=function(){return this}),qe;function At(Gt){return function(qt){return ft([Gt,qt])}}function ft(Gt){if(H)throw new TypeError("Generator is already executing.");for(;U;)try{if(H=1,Ee&&(Me=Gt[0]&2?Ee.return:Gt[0]?Ee.throw||((Me=Ee.return)&&Me.call(Ee),0):Ee.next)&&!(Me=Me.call(Ee,Gt[1])).done)return Me;switch(Ee=0,Me&&(Gt=[Gt[0]&2,Me.value]),Gt[0]){case 0:case 1:Me=Gt;break;case 4:return U.label++,{value:Gt[1],done:!1};case 5:U.label++,Ee=Gt[1],Gt=[0];continue;case 7:Gt=U.ops.pop(),U.trys.pop();continue;default:if(Me=U.trys,!(Me=Me.length>0&&Me[Me.length-1])&&(Gt[0]===6||Gt[0]===2)){U=0;continue}if(Gt[0]===3&&(!Me||Gt[1]>Me[0]&&Gt[1]<Me[3])){U.label=Gt[1];break}if(Gt[0]===6&&U.label<Me[1]){U.label=Me[1],Me=Gt;break}if(Me&&U.label<Me[2]){U.label=Me[2],U.ops.push(Gt);break}Me[2]&&U.ops.pop(),U.trys.pop();continue}Gt=T.call(F,U)}catch(qt){Gt=[6,qt],Ee=0}finally{H=Me=0}if(Gt[0]&5)throw Gt[1];return{value:Gt[0]?Gt[1]:void 0,done:!0}}}function o(F,T,U){if(arguments.length===2)for(var H=0,Ee=T.length,Me;H<Ee;H++)(Me||!(H in T))&&(Me||(Me=Array.prototype.slice.call(T,0,H)),Me[H]=T[H]);return F.concat(Me||T)}for(var d=(function(){function F(T,U,H,Ee){this.left=T,this.top=U,this.width=H,this.height=Ee}return F.prototype.add=function(T,U,H,Ee){return new F(this.left+T,this.top+U,this.width+H,this.height+Ee)},F.fromClientRect=function(T,U){return new F(U.left+T.windowBounds.left,U.top+T.windowBounds.top,U.width,U.height)},F.fromDOMRectList=function(T,U){var H=Array.from(U).find(function(Ee){return Ee.width!==0});return H?new F(H.left+T.windowBounds.left,H.top+T.windowBounds.top,H.width,H.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F})(),l=function(F,T){return d.fromClientRect(F,T.getBoundingClientRect())},u=function(F){var T=F.body,U=F.documentElement;if(!T||!U)throw new Error("Unable to get document size");var H=Math.max(Math.max(T.scrollWidth,U.scrollWidth),Math.max(T.offsetWidth,U.offsetWidth),Math.max(T.clientWidth,U.clientWidth)),Ee=Math.max(Math.max(T.scrollHeight,U.scrollHeight),Math.max(T.offsetHeight,U.offsetHeight),Math.max(T.clientHeight,U.clientHeight));return new d(0,0,H,Ee)},h=function(F){for(var T=[],U=0,H=F.length;U<H;){var Ee=F.charCodeAt(U++);if(Ee>=55296&&Ee<=56319&&U<H){var Me=F.charCodeAt(U++);(Me&64512)===56320?T.push(((Ee&1023)<<10)+(Me&1023)+65536):(T.push(Ee),U--)}else T.push(Ee)}return T},f=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],Ee=-1,Me="";++Ee<U;){var qe=F[Ee];qe<=65535?H.push(qe):(qe-=65536,H.push((qe>>10)+55296,qe%1024+56320)),(Ee+1===U||H.length>16384)&&(Me+=String.fromCharCode.apply(String,H),H.length=0)}return Me},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<A.length;m++)g[A.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<x.length;b++)y[x.charCodeAt(b)]=b;for(var j=function(F){var T=F.length*.75,U=F.length,H,Ee=0,Me,qe,At,ft;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var Gt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),qt=Array.isArray(Gt)?Gt:new Uint8Array(Gt);for(H=0;H<U;H+=4)Me=y[F.charCodeAt(H)],qe=y[F.charCodeAt(H+1)],At=y[F.charCodeAt(H+2)],ft=y[F.charCodeAt(H+3)],qt[Ee++]=Me<<2|qe>>4,qt[Ee++]=(qe&15)<<4|At>>2,qt[Ee++]=(At&3)<<6|ft&63;return Gt},S=function(F){for(var T=F.length,U=[],H=0;H<T;H+=2)U.push(F[H+1]<<8|F[H]);return U},w=function(F){for(var T=F.length,U=[],H=0;H<T;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},E=5,I=11,L=2,Z=I-E,ne=65536>>E,G=1<<E,le=G-1,V=1024>>E,me=ne+V,$=me,X=32,Ce=$+X,M=65536>>I,q=1<<Z,ie=q-1,J=function(F,T,U){return F.slice?F.slice(T,U):new Uint16Array(Array.prototype.slice.call(F,T,U))},D=function(F,T,U){return F.slice?F.slice(T,U):new Uint32Array(Array.prototype.slice.call(F,T,U))},ce=function(F,T){var U=j(F),H=Array.isArray(U)?w(U):new Uint32Array(U),Ee=Array.isArray(U)?S(U):new Uint16Array(U),Me=24,qe=J(Ee,Me/2,H[4]/2),At=H[5]===2?J(Ee,(Me+H[4])/2):D(H,Math.ceil((Me+H[4])/4));return new te(H[0],H[1],H[2],H[3],qe,At)},te=(function(){function F(T,U,H,Ee,Me,qe){this.initialValue=T,this.errorValue=U,this.highStart=H,this.highValueIndex=Ee,this.index=Me,this.data=qe}return F.prototype.get=function(T){var U;if(T>=0){if(T<55296||T>56319&&T<=65535)return U=this.index[T>>E],U=(U<<L)+(T&le),this.data[U];if(T<=65535)return U=this.index[ne+(T-55296>>E)],U=(U<<L)+(T&le),this.data[U];if(T<this.highStart)return U=Ce-M+(T>>I),U=this.index[U],U+=T>>E&ie,U=this.index[U],U=(U<<L)+(T&le),this.data[U];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe=typeof Uint8Array>"u"?[]:new Uint8Array(256),be=0;be<ge.length;be++)pe[ge.charCodeAt(be)]=be;var re="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",de=50,Y=1,Ae=2,ye=3,Oe=4,We=5,ae=7,ke=8,Fe=9,nt=10,tt=11,Le=12,lt=13,$t=14,Ue=15,yt=16,Tt=17,Zt=18,Mr=19,_t=20,Vt=21,mr=22,Qe=23,Bt=24,Ge=25,Ft=26,Lt=27,Dr=28,Or=29,Kr=30,Hr=31,Bn=32,Wr=33,Qr=34,vn=35,sn=36,Ln=37,da=38,ci=39,ei=40,Xs=41,ua=42,Zr=43,ls=[9001,65288],Fi="!",Sn="",qi="",Ps=ce(re),ks=[Kr,sn],di=[Y,Ae,ye,We],Us=[nt,ke],co=[Lt,Ft],ts=di.concat(Us),Xi=[da,ci,ei,Qr,vn],Wa=[Ue,lt],Sc=function(F,T){T===void 0&&(T="strict");var U=[],H=[],Ee=[];return F.forEach(function(Me,qe){var At=Ps.get(Me);if(At>de?(Ee.push(!0),At-=de):Ee.push(!1),["normal","auto","loose"].indexOf(T)!==-1&&[8208,8211,12316,12448].indexOf(Me)!==-1)return H.push(qe),U.push(yt);if(At===Oe||At===tt){if(qe===0)return H.push(qe),U.push(Kr);var ft=U[qe-1];return ts.indexOf(ft)===-1?(H.push(H[qe-1]),U.push(ft)):(H.push(qe),U.push(Kr))}if(H.push(qe),At===Hr)return U.push(T==="strict"?Vt:Ln);if(At===ua||At===Or)return U.push(Kr);if(At===Zr)return Me>=131072&&Me<=196605||Me>=196608&&Me<=262141?U.push(Ln):U.push(Kr);U.push(At)}),[H,U,Ee]},yi=function(F,T,U,H){var Ee=H[U];if(Array.isArray(F)?F.indexOf(Ee)!==-1:F===Ee)for(var Me=U;Me<=H.length;){Me++;var qe=H[Me];if(qe===T)return!0;if(qe!==nt)break}if(Ee===nt)for(var Me=U;Me>0;){Me--;var At=H[Me];if(Array.isArray(F)?F.indexOf(At)!==-1:F===At)for(var ft=U;ft<=H.length;){ft++;var qe=H[ft];if(qe===T)return!0;if(qe!==nt)break}if(At!==nt)break}return!1},Il=function(F,T){for(var U=F;U>=0;){var H=T[U];if(H===nt)U--;else return H}return 0},Ec=function(F,T,U,H,Ee){if(U[H]===0)return Sn;var Me=H-1;if(Array.isArray(Ee)&&Ee[Me]===!0)return Sn;var qe=Me-1,At=Me+1,ft=T[Me],Gt=qe>=0?T[qe]:0,qt=T[At];if(ft===Ae&&qt===ye)return Sn;if(di.indexOf(ft)!==-1)return Fi;if(di.indexOf(qt)!==-1||Us.indexOf(qt)!==-1)return Sn;if(Il(Me,T)===ke)return qi;if(Ps.get(F[Me])===tt||(ft===Bn||ft===Wr)&&Ps.get(F[At])===tt||ft===ae||qt===ae||ft===Fe||[nt,lt,Ue].indexOf(ft)===-1&&qt===Fe||[Tt,Zt,Mr,Bt,Dr].indexOf(qt)!==-1||Il(Me,T)===mr||yi(Qe,mr,Me,T)||yi([Tt,Zt],Vt,Me,T)||yi(Le,Le,Me,T))return Sn;if(ft===nt)return qi;if(ft===Qe||qt===Qe)return Sn;if(qt===yt||ft===yt)return qi;if([lt,Ue,Vt].indexOf(qt)!==-1||ft===$t||Gt===sn&&Wa.indexOf(ft)!==-1||ft===Dr&&qt===sn||qt===_t||ks.indexOf(qt)!==-1&&ft===Ge||ks.indexOf(ft)!==-1&&qt===Ge||ft===Lt&&[Ln,Bn,Wr].indexOf(qt)!==-1||[Ln,Bn,Wr].indexOf(ft)!==-1&&qt===Ft||ks.indexOf(ft)!==-1&&co.indexOf(qt)!==-1||co.indexOf(ft)!==-1&&ks.indexOf(qt)!==-1||[Lt,Ft].indexOf(ft)!==-1&&(qt===Ge||[mr,Ue].indexOf(qt)!==-1&&T[At+1]===Ge)||[mr,Ue].indexOf(ft)!==-1&&qt===Ge||ft===Ge&&[Ge,Dr,Bt].indexOf(qt)!==-1)return Sn;if([Ge,Dr,Bt,Tt,Zt].indexOf(qt)!==-1)for(var lr=Me;lr>=0;){var Ir=T[lr];if(Ir===Ge)return Sn;if([Dr,Bt].indexOf(Ir)!==-1)lr--;else break}if([Lt,Ft].indexOf(qt)!==-1)for(var lr=[Tt,Zt].indexOf(ft)!==-1?qe:Me;lr>=0;){var Ir=T[lr];if(Ir===Ge)return Sn;if([Dr,Bt].indexOf(Ir)!==-1)lr--;else break}if(da===ft&&[da,ci,Qr,vn].indexOf(qt)!==-1||[ci,Qr].indexOf(ft)!==-1&&[ci,ei].indexOf(qt)!==-1||[ei,vn].indexOf(ft)!==-1&&qt===ei||Xi.indexOf(ft)!==-1&&[_t,Ft].indexOf(qt)!==-1||Xi.indexOf(qt)!==-1&&ft===Lt||ks.indexOf(ft)!==-1&&ks.indexOf(qt)!==-1||ft===Bt&&ks.indexOf(qt)!==-1||ks.concat(Ge).indexOf(ft)!==-1&&qt===mr&&ls.indexOf(F[At])===-1||ks.concat(Ge).indexOf(qt)!==-1&&ft===Zt)return Sn;if(ft===Xs&&qt===Xs){for(var yn=U[Me],nn=1;yn>0&&(yn--,T[yn]===Xs);)nn++;if(nn%2!==0)return Sn}return ft===Bn&&qt===Wr?Sn:qi},Tl=function(F,T){T||(T={lineBreak:"normal",wordBreak:"normal"});var U=Sc(F,T.lineBreak),H=U[0],Ee=U[1],Me=U[2];(T.wordBreak==="break-all"||T.wordBreak==="break-word")&&(Ee=Ee.map(function(At){return[Ge,Kr,ua].indexOf(At)!==-1?Ln:At}));var qe=T.wordBreak==="keep-all"?Me.map(function(At,ft){return At&&F[ft]>=19968&&F[ft]<=40959}):void 0;return[H,Ee,qe]},Hs=(function(){function F(T,U,H,Ee){this.codePoints=T,this.required=U===Fi,this.start=H,this.end=Ee}return F.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},F})(),jo=function(F,T){var U=h(F),H=Tl(U,T),Ee=H[0],Me=H[1],qe=H[2],At=U.length,ft=0,Gt=0;return{next:function(){if(Gt>=At)return{done:!0,value:null};for(var qt=Sn;Gt<At&&(qt=Ec(U,Me,Ee,++Gt,qe))===Sn;);if(qt!==Sn||Gt===At){var lr=new Hs(U,qt,ft,Gt);return ft=Gt,{value:lr,done:!1}}return{done:!0,value:null}}}},ha=1,ec=2,rs=4,ko=8,Yi=10,_o=47,al=92,Oo=9,Wi=32,ws=34,ns=61,gl=35,Fo=36,$c=37,ui=39,zn=40,Qs=41,ji=95,bi=45,Po=33,Ds=60,uo=62,Ys=64,_s=91,bo=93,Do=61,pa=123,Ws=63,wi=125,Ji=124,Pi=126,Mo=128,Kt=65533,Q=42,fe=43,ve=44,R=58,W=59,ue=46,Be=0,De=8,Ye=11,dt=14,k=31,B=127,P=-1,K=48,se=97,he=101,Ie=102,we=117,Ne=122,Re=65,Ke=69,at=70,ut=85,Pe=90,Nt=function(F){return F>=K&&F<=57},bt=function(F){return F>=55296&&F<=57343},Et=function(F){return Nt(F)||F>=Re&&F<=at||F>=se&&F<=Ie},ot=function(F){return F>=se&&F<=Ne},Ut=function(F){return F>=Re&&F<=Pe},rr=function(F){return ot(F)||Ut(F)},Ot=function(F){return F>=Mo},st=function(F){return F===Yi||F===Oo||F===Wi},Xt=function(F){return rr(F)||Ot(F)||F===ji},pr=function(F){return Xt(F)||Nt(F)||F===bi},ar=function(F){return F>=Be&&F<=De||F===Ye||F>=dt&&F<=k||F===B},Mt=function(F,T){return F!==al?!1:T!==Yi},Ar=function(F,T,U){return F===bi?Xt(T)||Mt(T,U):Xt(F)?!0:!!(F===al&&Mt(F,T))},ct=function(F,T,U){return F===fe||F===bi?Nt(T)?!0:T===ue&&Nt(U):Nt(F===ue?T:F)},mt=function(F){var T=0,U=1;(F[T]===fe||F[T]===bi)&&(F[T]===bi&&(U=-1),T++);for(var H=[];Nt(F[T]);)H.push(F[T++]);var Ee=H.length?parseInt(f.apply(void 0,H),10):0;F[T]===ue&&T++;for(var Me=[];Nt(F[T]);)Me.push(F[T++]);var qe=Me.length,At=qe?parseInt(f.apply(void 0,Me),10):0;(F[T]===Ke||F[T]===he)&&T++;var ft=1;(F[T]===fe||F[T]===bi)&&(F[T]===bi&&(ft=-1),T++);for(var Gt=[];Nt(F[T]);)Gt.push(F[T++]);var qt=Gt.length?parseInt(f.apply(void 0,Gt),10):0;return U*(Ee+At*Math.pow(10,-qe))*Math.pow(10,ft*qt)},Pt={type:2},Dt={type:3},gr={type:4},jr={type:13},Nr={type:8},ir={type:21},wr={type:9},Yr={type:10},zr={type:11},et={type:12},St={type:14},kt={type:23},Yt={type:1},tr={type:25},dr={type:24},br={type:26},Cr={type:27},Lr={type:28},Jr={type:29},jn={type:31},wn={type:32},oa=(function(){function F(){this._value=[]}return F.prototype.write=function(T){this._value=this._value.concat(h(T))},F.prototype.read=function(){for(var T=[],U=this.consumeToken();U!==wn;)T.push(U),U=this.consumeToken();return T},F.prototype.consumeToken=function(){var T=this.consumeCodePoint();switch(T){case ws:return this.consumeStringToken(ws);case gl:var U=this.peekCodePoint(0),H=this.peekCodePoint(1),Ee=this.peekCodePoint(2);if(pr(U)||Mt(H,Ee)){var Me=Ar(U,H,Ee)?ec:ha,qe=this.consumeName();return{type:5,value:qe,flags:Me}}break;case Fo:if(this.peekCodePoint(0)===ns)return this.consumeCodePoint(),jr;break;case ui:return this.consumeStringToken(ui);case zn:return Pt;case Qs:return Dt;case Q:if(this.peekCodePoint(0)===ns)return this.consumeCodePoint(),St;break;case fe:if(ct(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case ve:return gr;case bi:var At=T,ft=this.peekCodePoint(0),Gt=this.peekCodePoint(1);if(ct(At,ft,Gt))return this.reconsumeCodePoint(T),this.consumeNumericToken();if(Ar(At,ft,Gt))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();if(ft===bi&&Gt===uo)return this.consumeCodePoint(),this.consumeCodePoint(),dr;break;case ue:if(ct(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case _o:if(this.peekCodePoint(0)===Q)for(this.consumeCodePoint();;){var qt=this.consumeCodePoint();if(qt===Q&&(qt=this.consumeCodePoint(),qt===_o))return this.consumeToken();if(qt===P)return this.consumeToken()}break;case R:return br;case W:return Cr;case Ds:if(this.peekCodePoint(0)===Po&&this.peekCodePoint(1)===bi&&this.peekCodePoint(2)===bi)return this.consumeCodePoint(),this.consumeCodePoint(),tr;break;case Ys:var lr=this.peekCodePoint(0),Ir=this.peekCodePoint(1),yn=this.peekCodePoint(2);if(Ar(lr,Ir,yn)){var qe=this.consumeName();return{type:7,value:qe}}break;case _s:return Lr;case al:if(Mt(T,this.peekCodePoint(0)))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();break;case bo:return Jr;case Do:if(this.peekCodePoint(0)===ns)return this.consumeCodePoint(),Nr;break;case pa:return zr;case wi:return et;case we:case ut:var nn=this.peekCodePoint(0),gn=this.peekCodePoint(1);return nn===fe&&(Et(gn)||gn===Ws)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(T),this.consumeIdentLikeToken();case Ji:if(this.peekCodePoint(0)===ns)return this.consumeCodePoint(),wr;if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),ir;break;case Pi:if(this.peekCodePoint(0)===ns)return this.consumeCodePoint(),Yr;break;case P:return wn}return st(T)?(this.consumeWhiteSpace(),jn):Nt(T)?(this.reconsumeCodePoint(T),this.consumeNumericToken()):Xt(T)?(this.reconsumeCodePoint(T),this.consumeIdentLikeToken()):{type:6,value:f(T)}},F.prototype.consumeCodePoint=function(){var T=this._value.shift();return typeof T>"u"?-1:T},F.prototype.reconsumeCodePoint=function(T){this._value.unshift(T)},F.prototype.peekCodePoint=function(T){return T>=this._value.length?-1:this._value[T]},F.prototype.consumeUnicodeRangeToken=function(){for(var T=[],U=this.consumeCodePoint();Et(U)&&T.length<6;)T.push(U),U=this.consumeCodePoint();for(var H=!1;U===Ws&&T.length<6;)T.push(U),U=this.consumeCodePoint(),H=!0;if(H){var Ee=parseInt(f.apply(void 0,T.map(function(ft){return ft===Ws?K:ft})),16),Me=parseInt(f.apply(void 0,T.map(function(ft){return ft===Ws?at:ft})),16);return{type:30,start:Ee,end:Me}}var qe=parseInt(f.apply(void 0,T),16);if(this.peekCodePoint(0)===bi&&Et(this.peekCodePoint(1))){this.consumeCodePoint(),U=this.consumeCodePoint();for(var At=[];Et(U)&&At.length<6;)At.push(U),U=this.consumeCodePoint();var Me=parseInt(f.apply(void 0,At),16);return{type:30,start:qe,end:Me}}else return{type:30,start:qe,end:qe}},F.prototype.consumeIdentLikeToken=function(){var T=this.consumeName();return T.toLowerCase()==="url"&&this.peekCodePoint(0)===zn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zn?(this.consumeCodePoint(),{type:19,value:T}):{type:20,value:T}},F.prototype.consumeUrlToken=function(){var T=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===P)return{type:22,value:""};var U=this.peekCodePoint(0);if(U===ui||U===ws){var H=this.consumeStringToken(this.consumeCodePoint());return H.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Qs)?(this.consumeCodePoint(),{type:22,value:H.value}):(this.consumeBadUrlRemnants(),kt)}for(;;){var Ee=this.consumeCodePoint();if(Ee===P||Ee===Qs)return{type:22,value:f.apply(void 0,T)};if(st(Ee))return this.consumeWhiteSpace(),this.peekCodePoint(0)===P||this.peekCodePoint(0)===Qs?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,T)}):(this.consumeBadUrlRemnants(),kt);if(Ee===ws||Ee===ui||Ee===zn||ar(Ee))return this.consumeBadUrlRemnants(),kt;if(Ee===al)if(Mt(Ee,this.peekCodePoint(0)))T.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),kt;else T.push(Ee)}},F.prototype.consumeWhiteSpace=function(){for(;st(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var T=this.consumeCodePoint();if(T===Qs||T===P)return;Mt(T,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(T){for(var U=5e4,H="";T>0;){var Ee=Math.min(U,T);H+=f.apply(void 0,this._value.splice(0,Ee)),T-=Ee}return this._value.shift(),H},F.prototype.consumeStringToken=function(T){var U="",H=0;do{var Ee=this._value[H];if(Ee===P||Ee===void 0||Ee===T)return U+=this.consumeStringSlice(H),{type:0,value:U};if(Ee===Yi)return this._value.splice(0,H),Yt;if(Ee===al){var Me=this._value[H+1];Me!==P&&Me!==void 0&&(Me===Yi?(U+=this.consumeStringSlice(H),H=-1,this._value.shift()):Mt(Ee,Me)&&(U+=this.consumeStringSlice(H),U+=f(this.consumeEscapedCodePoint()),H=-1))}H++}while(!0)},F.prototype.consumeNumber=function(){var T=[],U=rs,H=this.peekCodePoint(0);for((H===fe||H===bi)&&T.push(this.consumeCodePoint());Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());H=this.peekCodePoint(0);var Ee=this.peekCodePoint(1);if(H===ue&&Nt(Ee))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),U=ko;Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());H=this.peekCodePoint(0),Ee=this.peekCodePoint(1);var Me=this.peekCodePoint(2);if((H===Ke||H===he)&&((Ee===fe||Ee===bi)&&Nt(Me)||Nt(Ee)))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),U=ko;Nt(this.peekCodePoint(0));)T.push(this.consumeCodePoint());return[mt(T),U]},F.prototype.consumeNumericToken=function(){var T=this.consumeNumber(),U=T[0],H=T[1],Ee=this.peekCodePoint(0),Me=this.peekCodePoint(1),qe=this.peekCodePoint(2);if(Ar(Ee,Me,qe)){var At=this.consumeName();return{type:15,number:U,flags:H,unit:At}}return Ee===$c?(this.consumeCodePoint(),{type:16,number:U,flags:H}):{type:17,number:U,flags:H}},F.prototype.consumeEscapedCodePoint=function(){var T=this.consumeCodePoint();if(Et(T)){for(var U=f(T);Et(this.peekCodePoint(0))&&U.length<6;)U+=f(this.consumeCodePoint());st(this.peekCodePoint(0))&&this.consumeCodePoint();var H=parseInt(U,16);return H===0||bt(H)||H>1114111?Kt:H}return T===P?Kt:T},F.prototype.consumeName=function(){for(var T="";;){var U=this.consumeCodePoint();if(pr(U))T+=f(U);else if(Mt(U,this.peekCodePoint(0)))T+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(U),T}},F})(),pt=(function(){function F(T){this._tokens=T}return F.create=function(T){var U=new oa;return U.write(T),new F(U.read())},F.parseValue=function(T){return F.create(T).parseComponentValue()},F.parseValues=function(T){return F.create(T).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var T=this.consumeToken();T.type===31;)T=this.consumeToken();if(T.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(T);var U=this.consumeComponentValue();do T=this.consumeToken();while(T.type===31);if(T.type===32)return U;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var T=[];;){var U=this.consumeComponentValue();if(U.type===32)return T;T.push(U),T.push()}},F.prototype.consumeComponentValue=function(){var T=this.consumeToken();switch(T.type){case 11:case 28:case 2:return this.consumeSimpleBlock(T.type);case 19:return this.consumeFunction(T)}return T},F.prototype.consumeSimpleBlock=function(T){for(var U={type:T,values:[]},H=this.consumeToken();;){if(H.type===32||ps(H,T))return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue()),H=this.consumeToken()}},F.prototype.consumeFunction=function(T){for(var U={name:T.value,values:[],type:18};;){var H=this.consumeToken();if(H.type===32||H.type===3)return U;this.reconsumeToken(H),U.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var T=this._tokens.shift();return typeof T>"u"?wn:T},F.prototype.reconsumeToken=function(T){this._tokens.unshift(T)},F})(),hn=function(F){return F.type===15},ma=function(F){return F.type===17},dn=function(F){return F.type===20},Gr=function(F){return F.type===0},aa=function(F,T){return dn(F)&&F.value===T},On=function(F){return F.type!==31},Xn=function(F){return F.type!==31&&F.type!==4},Fn=function(F){var T=[],U=[];return F.forEach(function(H){if(H.type===4){if(U.length===0)throw new Error("Error parsing function args, zero tokens for arg");T.push(U),U=[];return}H.type!==31&&U.push(H)}),U.length&&T.push(U),T},ps=function(F,T){return T===11&&F.type===12||T===28&&F.type===29?!0:T===2&&F.type===3},Ua=function(F){return F.type===17||F.type===15},_n=function(F){return F.type===16||Ua(F)},ss=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},sa={type:17,number:0,flags:rs},In={type:16,number:50,flags:rs},la={type:16,number:100,flags:rs},Tn=function(F,T,U){var H=F[0],Ee=F[1];return[ba(H,T),ba(typeof Ee<"u"?Ee:H,U)]},ba=function(F,T){if(F.type===16)return F.number/100*T;if(hn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},cs="deg",Va="grad",za="rad",ti="turn",$n={name:"angle",parse:function(F,T){if(T.type===15)switch(T.unit){case cs:return Math.PI*T.number/180;case Va:return Math.PI/200*T.number;case za:return T.number;case ti:return Math.PI*2*T.number}throw new Error("Unsupported angle type")}},Ss=function(F){return F.type===15&&(F.unit===cs||F.unit===Va||F.unit===za||F.unit===ti)},ga=function(F){var T=F.filter(dn).map(function(U){return U.value}).join(" ");switch(T){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sa,sa];case"to top":case"bottom":return Hn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sa,la];case"to right":case"left":return Hn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[la,la];case"to bottom":case"top":return Hn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[la,sa];case"to left":case"right":return Hn(270)}return 0},Hn=function(F){return Math.PI*F/180},Es={name:"color",parse:function(F,T){if(T.type===18){var U=fa[T.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported color function "'+T.name+'"');return U(F,T.values)}if(T.type===5){if(T.value.length===3){var H=T.value.substring(0,1),Ee=T.value.substring(1,2),Me=T.value.substring(2,3);return Ya(parseInt(H+H,16),parseInt(Ee+Ee,16),parseInt(Me+Me,16),1)}if(T.value.length===4){var H=T.value.substring(0,1),Ee=T.value.substring(1,2),Me=T.value.substring(2,3),qe=T.value.substring(3,4);return Ya(parseInt(H+H,16),parseInt(Ee+Ee,16),parseInt(Me+Me,16),parseInt(qe+qe,16)/255)}if(T.value.length===6){var H=T.value.substring(0,2),Ee=T.value.substring(2,4),Me=T.value.substring(4,6);return Ya(parseInt(H,16),parseInt(Ee,16),parseInt(Me,16),1)}if(T.value.length===8){var H=T.value.substring(0,2),Ee=T.value.substring(2,4),Me=T.value.substring(4,6),qe=T.value.substring(6,8);return Ya(parseInt(H,16),parseInt(Ee,16),parseInt(Me,16),parseInt(qe,16)/255)}}if(T.type===20){var At=Co[T.value.toUpperCase()];if(typeof At<"u")return At}return Co.TRANSPARENT}},wa=function(F){return(255&F)===0},Cn=function(F){var T=255&F,U=255&F>>8,H=255&F>>16,Ee=255&F>>24;return T<255?"rgba("+Ee+","+H+","+U+","+T/255+")":"rgb("+Ee+","+H+","+U+")"},Ya=function(F,T,U,H){return(F<<24|T<<16|U<<8|Math.round(H*255)<<0)>>>0},sd=function(F,T){if(F.type===17)return F.number;if(F.type===16){var U=T===3?1:255;return T===3?F.number/100*U:Math.round(F.number/100*U)}return 0},$i=function(F,T){var U=T.filter(Xn);if(U.length===3){var H=U.map(sd),Ee=H[0],Me=H[1],qe=H[2];return Ya(Ee,Me,qe,1)}if(U.length===4){var At=U.map(sd),Ee=At[0],Me=At[1],qe=At[2],ft=At[3];return Ya(Ee,Me,qe,ft)}return 0};function wo(F,T,U){return U<0&&(U+=1),U>=1&&(U-=1),U<1/6?(T-F)*U*6+F:U<1/2?T:U<2/3?(T-F)*6*(2/3-U)+F:F}var Bc=function(F,T){var U=T.filter(Xn),H=U[0],Ee=U[1],Me=U[2],qe=U[3],At=(H.type===17?Hn(H.number):$n.parse(F,H))/(Math.PI*2),ft=_n(Ee)?Ee.number/100:0,Gt=_n(Me)?Me.number/100:0,qt=typeof qe<"u"&&_n(qe)?ba(qe,1):1;if(ft===0)return Ya(Gt*255,Gt*255,Gt*255,1);var lr=Gt<=.5?Gt*(ft+1):Gt+ft-Gt*ft,Ir=Gt*2-lr,yn=wo(Ir,lr,At+1/3),nn=wo(Ir,lr,At),gn=wo(Ir,lr,At-1/3);return Ya(yn*255,nn*255,gn*255,qt)},fa={hsl:Bc,hsla:Bc,rgb:$i,rgba:$i},Ci=function(F,T){return Es.parse(F,pt.create(T).parseComponentValue())},Co={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(U){if(dn(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Di={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Os=function(F,T){var U=Es.parse(F,T[0]),H=T[1];return H&&_n(H)?{color:U,stop:H}:{color:U,stop:null}},Ti=function(F,T){var U=F[0],H=F[F.length-1];U.stop===null&&(U.stop=sa),H.stop===null&&(H.stop=la);for(var Ee=[],Me=0,qe=0;qe<F.length;qe++){var At=F[qe].stop;if(At!==null){var ft=ba(At,T);ft>Me?Ee.push(ft):Ee.push(Me),Me=ft}else Ee.push(null)}for(var Gt=null,qe=0;qe<Ee.length;qe++){var qt=Ee[qe];if(qt===null)Gt===null&&(Gt=qe);else if(Gt!==null){for(var lr=qe-Gt,Ir=Ee[Gt-1],yn=(qt-Ir)/(lr+1),nn=1;nn<=lr;nn++)Ee[Gt+nn-1]=yn*nn;Gt=null}}return F.map(function(gn,Za){var Kn=gn.color;return{color:Kn,stop:Math.max(Math.min(1,Ee[Za]/T),0)}})},ho=function(F,T,U){var H=T/2,Ee=U/2,Me=ba(F[0],T)-H,qe=Ee-ba(F[1],U);return(Math.atan2(qe,Me)+Math.PI*2)%(Math.PI*2)},id=function(F,T,U){var H=typeof F=="number"?F:ho(F,T,U),Ee=Math.abs(T*Math.sin(H))+Math.abs(U*Math.cos(H)),Me=T/2,qe=U/2,At=Ee/2,ft=Math.sin(H-Math.PI/2)*At,Gt=Math.cos(H-Math.PI/2)*At;return[Ee,Me-Gt,Me+Gt,qe-ft,qe+ft]},Zi=function(F,T){return Math.sqrt(F*F+T*T)},sl=function(F,T,U,H,Ee){var Me=[[0,0],[0,T],[F,0],[F,T]];return Me.reduce(function(qe,At){var ft=At[0],Gt=At[1],qt=Zi(U-ft,H-Gt);return(Ee?qt<qe.optimumDistance:qt>qe.optimumDistance)?{optimumCorner:At,optimumDistance:qt}:qe},{optimumDistance:Ee?1/0:-1/0,optimumCorner:null}).optimumCorner},Ic=function(F,T,U,H,Ee){var Me=0,qe=0;switch(F.size){case 0:F.shape===0?Me=qe=Math.min(Math.abs(T),Math.abs(T-H),Math.abs(U),Math.abs(U-Ee)):F.shape===1&&(Me=Math.min(Math.abs(T),Math.abs(T-H)),qe=Math.min(Math.abs(U),Math.abs(U-Ee)));break;case 2:if(F.shape===0)Me=qe=Math.min(Zi(T,U),Zi(T,U-Ee),Zi(T-H,U),Zi(T-H,U-Ee));else if(F.shape===1){var At=Math.min(Math.abs(U),Math.abs(U-Ee))/Math.min(Math.abs(T),Math.abs(T-H)),ft=sl(H,Ee,T,U,!0),Gt=ft[0],qt=ft[1];Me=Zi(Gt-T,(qt-U)/At),qe=At*Me}break;case 1:F.shape===0?Me=qe=Math.max(Math.abs(T),Math.abs(T-H),Math.abs(U),Math.abs(U-Ee)):F.shape===1&&(Me=Math.max(Math.abs(T),Math.abs(T-H)),qe=Math.max(Math.abs(U),Math.abs(U-Ee)));break;case 3:if(F.shape===0)Me=qe=Math.max(Zi(T,U),Zi(T,U-Ee),Zi(T-H,U),Zi(T-H,U-Ee));else if(F.shape===1){var At=Math.max(Math.abs(U),Math.abs(U-Ee))/Math.max(Math.abs(T),Math.abs(T-H)),lr=sl(H,Ee,T,U,!1),Gt=lr[0],qt=lr[1];Me=Zi(Gt-T,(qt-U)/At),qe=At*Me}break}return Array.isArray(F.size)&&(Me=ba(F.size[0],H),qe=F.size.length===2?ba(F.size[1],Ee):Me),[Me,qe]},tc=function(F,T){var U=Hn(180),H=[];return Fn(T).forEach(function(Ee,Me){if(Me===0){var qe=Ee[0];if(qe.type===20&&qe.value==="to"){U=ga(Ee);return}else if(Ss(qe)){U=$n.parse(F,qe);return}}var At=Os(F,Ee);H.push(At)}),{angle:U,stops:H,type:1}},eo=function(F,T){var U=Hn(180),H=[];return Fn(T).forEach(function(Ee,Me){if(Me===0){var qe=Ee[0];if(qe.type===20&&["top","left","right","bottom"].indexOf(qe.value)!==-1){U=ga(Ee);return}else if(Ss(qe)){U=($n.parse(F,qe)+Hn(270))%Hn(360);return}}var At=Os(F,Ee);H.push(At)}),{angle:U,stops:H,type:1}},il=function(F,T){var U=Hn(180),H=[],Ee=1,Me=0,qe=3,At=[];return Fn(T).forEach(function(ft,Gt){var qt=ft[0];if(Gt===0){if(dn(qt)&&qt.value==="linear"){Ee=1;return}else if(dn(qt)&&qt.value==="radial"){Ee=2;return}}if(qt.type===18){if(qt.name==="from"){var lr=Es.parse(F,qt.values[0]);H.push({stop:sa,color:lr})}else if(qt.name==="to"){var lr=Es.parse(F,qt.values[0]);H.push({stop:la,color:lr})}else if(qt.name==="color-stop"){var Ir=qt.values.filter(Xn);if(Ir.length===2){var lr=Es.parse(F,Ir[1]),yn=Ir[0];ma(yn)&&H.push({stop:{type:16,number:yn.number*100,flags:yn.flags},color:lr})}}}}),Ee===1?{angle:(U+Hn(180))%Hn(360),stops:H,type:Ee}:{size:qe,shape:Me,stops:H,position:At,type:Ee}},_l="closest-side",Ko="farthest-side",Ro="closest-corner",rc="farthest-corner",Ol="circle",Tc="ellipse",pu="cover",Vc="contain",mu=function(F,T){var U=0,H=3,Ee=[],Me=[];return Fn(T).forEach(function(qe,At){var ft=!0;if(At===0){var Gt=!1;ft=qe.reduce(function(lr,Ir){if(Gt)if(dn(Ir))switch(Ir.value){case"center":return Me.push(In),lr;case"top":case"left":return Me.push(sa),lr;case"right":case"bottom":return Me.push(la),lr}else(_n(Ir)||Ua(Ir))&&Me.push(Ir);else if(dn(Ir))switch(Ir.value){case Ol:return U=0,!1;case Tc:return U=1,!1;case"at":return Gt=!0,!1;case _l:return H=0,!1;case pu:case Ko:return H=1,!1;case Vc:case Ro:return H=2,!1;case rc:return H=3,!1}else if(Ua(Ir)||_n(Ir))return Array.isArray(H)||(H=[]),H.push(Ir),!1;return lr},ft)}if(ft){var qt=Os(F,qe);Ee.push(qt)}}),{size:H,shape:U,stops:Ee,position:Me,type:2}},od=function(F,T){var U=0,H=3,Ee=[],Me=[];return Fn(T).forEach(function(qe,At){var ft=!0;if(At===0?ft=qe.reduce(function(qt,lr){if(dn(lr))switch(lr.value){case"center":return Me.push(In),!1;case"top":case"left":return Me.push(sa),!1;case"right":case"bottom":return Me.push(la),!1}else if(_n(lr)||Ua(lr))return Me.push(lr),!1;return qt},ft):At===1&&(ft=qe.reduce(function(qt,lr){if(dn(lr))switch(lr.value){case Ol:return U=0,!1;case Tc:return U=1,!1;case Vc:case _l:return H=0,!1;case Ko:return H=1,!1;case Ro:return H=2,!1;case pu:case rc:return H=3,!1}else if(Ua(lr)||_n(lr))return Array.isArray(H)||(H=[]),H.push(lr),!1;return qt},ft)),ft){var Gt=Os(F,qe);Ee.push(Gt)}}),{size:H,shape:U,stops:Ee,position:Me,type:2}},qo=function(F){return F.type===1},ld=function(F){return F.type===2},Sd={name:"image",parse:function(F,T){if(T.type===22){var U={url:T.value,type:0};return F.cache.addImage(T.value),U}if(T.type===18){var H=Fl[T.name];if(typeof H>"u")throw new Error('Attempting to parse an unsupported image function "'+T.name+'"');return H(F,T.values)}throw new Error("Unsupported image type "+T.type)}};function $d(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!Fl[F.name])}var Fl={"linear-gradient":tc,"-moz-linear-gradient":eo,"-ms-linear-gradient":eo,"-o-linear-gradient":eo,"-webkit-linear-gradient":eo,"radial-gradient":mu,"-moz-radial-gradient":od,"-ms-radial-gradient":od,"-o-radial-gradient":od,"-webkit-radial-gradient":od,"-webkit-gradient":il},Vd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var U=T[0];return U.type===20&&U.value==="none"?[]:T.filter(function(H){return Xn(H)&&$d(H)}).map(function(H){return Sd.parse(F,H)})}},zd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(U){if(dn(U))switch(U.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nc={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,T){return Fn(T).map(function(U){return U.filter(_n)}).map(ss)}},Gd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,T){return Fn(T).map(function(U){return U.filter(dn).map(function(H){return H.value}).join(" ")}).map(Ed)}},Ed=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ya;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ya||(ya={}));var gu={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,T){return Fn(T).map(function(U){return U.filter(ac)})}},ac=function(F){return dn(F)||_n(F)},xs=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vu=xs("top"),vl=xs("right"),ki=xs("bottom"),kc=xs("left"),cd=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(T,U){return ss(U.filter(_n))}}},Pl=cd("top-left"),Kd=cd("top-right"),Xo=cd("bottom-right"),xu=cd("bottom-left"),Bd=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(T,U){switch(U){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yu=Bd("top"),dd=Bd("right"),Id=Bd("bottom"),Td=Bd("left"),kd=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(T,U){return hn(U)?U.number:0}}},_d=kd("top"),ju=kd("right"),Dl=kd("bottom"),Vh=kd("left"),Od={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ku={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,T){switch(T){case"rtl":return 1;case"ltr":default:return 0}}},zh={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,T){return T.filter(dn).reduce(function(U,H){return U|Ca(H.value)},0)}},Ca=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},vh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,T){return T.type===20&&T.value==="normal"?0:T.type===17||T.type===15?T.number:0}},_c;(function(F){F.NORMAL="normal",F.STRICT="strict"})(_c||(_c={}));var No={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"strict":return _c.STRICT;case"normal":default:return _c.NORMAL}}},Ml={name:"line-height",initialValue:"normal",prefix:!1,type:4},sc=function(F,T){return dn(F)&&F.value==="normal"?1.2*T:F.type===17?T*F.number:_n(F)?ba(F,T):T},qu={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,T){return T.type===20&&T.value==="none"?null:Sd.parse(F,T)}},xl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,T){switch(T){case"inside":return 0;case"outside":default:return 1}}},qd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Yo=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},Fd=Yo("top"),yl=Yo("right"),bu=Yo("bottom"),Oc=Yo("left"),ic={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,T){return T.filter(dn).map(function(U){switch(U.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Rl={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-word":return"break-word";case"normal":default:return"normal"}}},ds=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bs=ds("top"),Ll=ds("right"),Ni=ds("bottom"),Mi=ds("left"),Fc={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,T){switch(T){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ud={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,T){switch(T){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Lo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&aa(T[0],"none")?[]:Fn(T).map(function(U){for(var H={color:Co.TRANSPARENT,offsetX:sa,offsetY:sa,blur:sa},Ee=0,Me=0;Me<U.length;Me++){var qe=U[Me];Ua(qe)?(Ee===0?H.offsetX=qe:Ee===1?H.offsetY=qe:H.blur=qe,Ee++):H.color=Es.parse(F,qe)}return H})}},oc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gc={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,T){if(T.type===20&&T.value==="none")return null;if(T.type===18){var U=Yu[T.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported transform function "'+T.name+'"');return U(T.values)}return null}},Xu=function(F){var T=F.filter(function(U){return U.type===17}).map(function(U){return U.number});return T.length===6?T:null},Kc=function(F){var T=F.filter(function(ft){return ft.type===17}).map(function(ft){return ft.number}),U=T[0],H=T[1];T[2],T[3];var Ee=T[4],Me=T[5];T[6],T[7],T[8],T[9],T[10],T[11];var qe=T[12],At=T[13];return T[14],T[15],T.length===16?[U,H,Ee,Me,qe,At]:null},Yu={matrix:Xu,matrix3d:Kc},xe={type:16,number:50,flags:rs},$e=[xe,xe],wt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,T){var U=T.filter(_n);return U.length!==2?$e:[U[0],U[1]]}},Rt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},nr;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(nr||(nr={}));for(var Sr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-all":return nr.BREAK_ALL;case"keep-all":return nr.KEEP_ALL;case"normal":default:return nr.NORMAL}}},Ur={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,T){if(T.type===20)return{auto:!0,order:0};if(ma(T))return{auto:!1,order:T.number};throw new Error("Invalid z-index number parsed")}},Nn={name:"time",parse:function(F,T){if(T.type===15)switch(T.unit.toLowerCase()){case"s":return 1e3*T.number;case"ms":return T.number}throw new Error("Unsupported time type")}},Dn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,T){return ma(T)?T.number:1}},Aa={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ta={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,T){return T.filter(dn).map(function(U){switch(U.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(U){return U!==0})}},_a={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,T){var U=[],H=[];return T.forEach(function(Ee){switch(Ee.type){case 20:case 0:U.push(Ee.value);break;case 17:U.push(Ee.number.toString());break;case 4:H.push(U.join(" ")),U.length=0;break}}),U.length&&H.push(U.join(" ")),H.map(function(Ee){return Ee.indexOf(" ")===-1?Ee:"'"+Ee+"'"})}},Fs={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ms={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,T){if(ma(T))return T.number;if(dn(T))switch(T.value){case"bold":return 700;case"normal":default:return 400}return 400}},hs={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.filter(dn).map(function(U){return U.value})}},hi={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_=function(F,T){return(F&T)!==0},He={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var U=T[0];return U.type===20&&U.value==="none"?[]:T}},oe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var U=T[0];if(U.type===20&&U.value==="none")return null;for(var H=[],Ee=T.filter(On),Me=0;Me<Ee.length;Me++){var qe=Ee[Me],At=Ee[Me+1];if(qe.type===20){var ft=At&&ma(At)?At.number:1;H.push({counter:qe.value,increment:ft})}}return H}},Ze={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return[];for(var U=[],H=T.filter(On),Ee=0;Ee<H.length;Ee++){var Me=H[Ee],qe=H[Ee+1];if(dn(Me)&&Me.value!=="none"){var At=qe&&ma(qe)?qe.number:0;U.push({counter:Me.value,reset:At})}}return U}},gt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,T){return T.filter(hn).map(function(U){return Nn.parse(F,U)})}},ht={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var U=T[0];if(U.type===20&&U.value==="none")return null;var H=[],Ee=T.filter(Gr);if(Ee.length%2!==0)return null;for(var Me=0;Me<Ee.length;Me+=2){var qe=Ee[Me].value,At=Ee[Me+1].value;H.push({open:qe,close:At})}return H}},or=function(F,T,U){if(!F)return"";var H=F[Math.min(T,F.length-1)];return H?U?H.open:H.close:""},Jt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&aa(T[0],"none")?[]:Fn(T).map(function(U){for(var H={color:255,offsetX:sa,offsetY:sa,blur:sa,spread:sa,inset:!1},Ee=0,Me=0;Me<U.length;Me++){var qe=U[Me];aa(qe,"inset")?H.inset=!0:Ua(qe)?(Ee===0?H.offsetX=qe:Ee===1?H.offsetY=qe:Ee===2?H.blur=qe:H.spread=qe,Ee++):H.color=Es.parse(F,qe)}return H})}},bn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,T){var U=[0,1,2],H=[];return T.filter(dn).forEach(function(Ee){switch(Ee.value){case"stroke":H.push(1);break;case"fill":H.push(0);break;case"markers":H.push(2);break}}),U.forEach(function(Ee){H.indexOf(Ee)===-1&&H.push(Ee)}),H}},Ht={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,T){return hn(T)?T.number:0}},va=(function(){function F(T,U){var H,Ee;this.animationDuration=Er(T,gt,U.animationDuration),this.backgroundClip=Er(T,kl,U.backgroundClip),this.backgroundColor=Er(T,Di,U.backgroundColor),this.backgroundImage=Er(T,Vd,U.backgroundImage),this.backgroundOrigin=Er(T,zd,U.backgroundOrigin),this.backgroundPosition=Er(T,nc,U.backgroundPosition),this.backgroundRepeat=Er(T,Gd,U.backgroundRepeat),this.backgroundSize=Er(T,gu,U.backgroundSize),this.borderTopColor=Er(T,vu,U.borderTopColor),this.borderRightColor=Er(T,vl,U.borderRightColor),this.borderBottomColor=Er(T,ki,U.borderBottomColor),this.borderLeftColor=Er(T,kc,U.borderLeftColor),this.borderTopLeftRadius=Er(T,Pl,U.borderTopLeftRadius),this.borderTopRightRadius=Er(T,Kd,U.borderTopRightRadius),this.borderBottomRightRadius=Er(T,Xo,U.borderBottomRightRadius),this.borderBottomLeftRadius=Er(T,xu,U.borderBottomLeftRadius),this.borderTopStyle=Er(T,yu,U.borderTopStyle),this.borderRightStyle=Er(T,dd,U.borderRightStyle),this.borderBottomStyle=Er(T,Id,U.borderBottomStyle),this.borderLeftStyle=Er(T,Td,U.borderLeftStyle),this.borderTopWidth=Er(T,_d,U.borderTopWidth),this.borderRightWidth=Er(T,ju,U.borderRightWidth),this.borderBottomWidth=Er(T,Dl,U.borderBottomWidth),this.borderLeftWidth=Er(T,Vh,U.borderLeftWidth),this.boxShadow=Er(T,Jt,U.boxShadow),this.color=Er(T,Od,U.color),this.direction=Er(T,Ku,U.direction),this.display=Er(T,zh,U.display),this.float=Er(T,zc,U.cssFloat),this.fontFamily=Er(T,_a,U.fontFamily),this.fontSize=Er(T,Fs,U.fontSize),this.fontStyle=Er(T,hi,U.fontStyle),this.fontVariant=Er(T,hs,U.fontVariant),this.fontWeight=Er(T,Ms,U.fontWeight),this.letterSpacing=Er(T,vh,U.letterSpacing),this.lineBreak=Er(T,No,U.lineBreak),this.lineHeight=Er(T,Ml,U.lineHeight),this.listStyleImage=Er(T,qu,U.listStyleImage),this.listStylePosition=Er(T,xl,U.listStylePosition),this.listStyleType=Er(T,qd,U.listStyleType),this.marginTop=Er(T,Fd,U.marginTop),this.marginRight=Er(T,yl,U.marginRight),this.marginBottom=Er(T,bu,U.marginBottom),this.marginLeft=Er(T,Oc,U.marginLeft),this.opacity=Er(T,Dn,U.opacity);var Me=Er(T,ic,U.overflow);this.overflowX=Me[0],this.overflowY=Me[Me.length>1?1:0],this.overflowWrap=Er(T,Rl,U.overflowWrap),this.paddingTop=Er(T,Bs,U.paddingTop),this.paddingRight=Er(T,Ll,U.paddingRight),this.paddingBottom=Er(T,Ni,U.paddingBottom),this.paddingLeft=Er(T,Mi,U.paddingLeft),this.paintOrder=Er(T,bn,U.paintOrder),this.position=Er(T,ud,U.position),this.textAlign=Er(T,Fc,U.textAlign),this.textDecorationColor=Er(T,Aa,(H=U.textDecorationColor)!==null&&H!==void 0?H:U.color),this.textDecorationLine=Er(T,ta,(Ee=U.textDecorationLine)!==null&&Ee!==void 0?Ee:U.textDecoration),this.textShadow=Er(T,Lo,U.textShadow),this.textTransform=Er(T,oc,U.textTransform),this.transform=Er(T,Gc,U.transform),this.transformOrigin=Er(T,wt,U.transformOrigin),this.visibility=Er(T,Rt,U.visibility),this.webkitTextStrokeColor=Er(T,Ht,U.webkitTextStrokeColor),this.webkitTextStrokeWidth=Er(T,hr,U.webkitTextStrokeWidth),this.wordBreak=Er(T,Sr,U.wordBreak),this.zIndex=Er(T,Ur,U.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return wa(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return _(this.display,4)||_(this.display,33554432)||_(this.display,268435456)||_(this.display,536870912)||_(this.display,67108864)||_(this.display,134217728)},F})(),fn=(function(){function F(T,U){this.content=Er(T,He,U.content),this.quotes=Er(T,ht,U.quotes)}return F})(),$r=(function(){function F(T,U){this.counterIncrement=Er(T,oe,U.counterIncrement),this.counterReset=Er(T,Ze,U.counterReset)}return F})(),Er=function(F,T,U){var H=new oa,Ee=U!==null&&typeof U<"u"?U.toString():T.initialValue;H.write(Ee);var Me=new pt(H.read());switch(T.type){case 2:var qe=Me.parseComponentValue();return T.parse(F,dn(qe)?qe.value:T.initialValue);case 0:return T.parse(F,Me.parseComponentValue());case 1:return T.parse(F,Me.parseComponentValues());case 4:return Me.parseComponentValue();case 3:switch(T.format){case"angle":return $n.parse(F,Me.parseComponentValue());case"color":return Es.parse(F,Me.parseComponentValue());case"image":return Sd.parse(F,Me.parseComponentValue());case"length":var At=Me.parseComponentValue();return Ua(At)?At:sa;case"length-percentage":var ft=Me.parseComponentValue();return _n(ft)?ft:sa;case"time":return Nn.parse(F,Me.parseComponentValue())}break}},Rs="data-html2canvas-debug",ja=function(F){var T=F.getAttribute(Rs);switch(T){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ra=function(F,T){var U=ja(F);return U===1||T===U},Na=(function(){function F(T,U){if(this.context=T,this.textNodes=[],this.elements=[],this.flags=0,ra(U,3))debugger;this.styles=new va(T,window.getComputedStyle(U,null)),Iu(U)&&(this.styles.animationDuration.some(function(H){return H>0})&&(U.style.animationDuration="0s"),this.styles.transform!==null&&(U.style.transform="none")),this.bounds=l(this.context,U),ra(U,4)&&(this.flags|=16)}return F})(),Ja="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ba=typeof Uint8Array>"u"?[]:new Uint8Array(256),ri=0;ri<an.length;ri++)Ba[an.charCodeAt(ri)]=ri;for(var Yn=function(F){var T=F.length*.75,U=F.length,H,Ee=0,Me,qe,At,ft;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var Gt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),qt=Array.isArray(Gt)?Gt:new Uint8Array(Gt);for(H=0;H<U;H+=4)Me=Ba[F.charCodeAt(H)],qe=Ba[F.charCodeAt(H+1)],At=Ba[F.charCodeAt(H+2)],ft=Ba[F.charCodeAt(H+3)],qt[Ee++]=Me<<2|qe>>4,qt[Ee++]=(qe&15)<<4|At>>2,qt[Ee++]=(At&3)<<6|ft&63;return Gt},is=function(F){for(var T=F.length,U=[],H=0;H<T;H+=2)U.push(F[H+1]<<8|F[H]);return U},Oa=function(F){for(var T=F.length,U=[],H=0;H<T;H+=4)U.push(F[H+3]<<24|F[H+2]<<16|F[H+1]<<8|F[H]);return U},Mn=5,ca=11,So=2,lc=ca-Mn,Uo=65536>>Mn,fo=1<<Mn,cc=fo-1,Vi=1024>>Mn,Gh=Uo+Vi,Jo=Gh,ol=32,Ju=Jo+ol,xh=65536>>ca,Pc=1<<lc,qc=Pc-1,Xc=function(F,T,U){return F.slice?F.slice(T,U):new Uint16Array(Array.prototype.slice.call(F,T,U))},Xd=function(F,T,U){return F.slice?F.slice(T,U):new Uint32Array(Array.prototype.slice.call(F,T,U))},hd=function(F,T){var U=Yn(F),H=Array.isArray(U)?Oa(U):new Uint32Array(U),Ee=Array.isArray(U)?is(U):new Uint16Array(U),Me=24,qe=Xc(Ee,Me/2,H[4]/2),At=H[5]===2?Xc(Ee,(Me+H[4])/2):Xd(H,Math.ceil((Me+H[4])/4));return new wu(H[0],H[1],H[2],H[3],qe,At)},wu=(function(){function F(T,U,H,Ee,Me,qe){this.initialValue=T,this.errorValue=U,this.highStart=H,this.highValueIndex=Ee,this.index=Me,this.data=qe}return F.prototype.get=function(T){var U;if(T>=0){if(T<55296||T>56319&&T<=65535)return U=this.index[T>>Mn],U=(U<<So)+(T&cc),this.data[U];if(T<=65535)return U=this.index[Uo+(T-55296>>Mn)],U=(U<<So)+(T&cc),this.data[U];if(T<this.highStart)return U=Ju-xh+(T>>ca),U=this.index[U],U+=T>>Mn&qc,U=this.index[U],U=(U<<So)+(T&cc),this.data[U];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F})(),Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ho=0;Ho<Dc.length;Ho++)jl[Dc.charCodeAt(Ho)]=Ho;var dc=1,us=2,Ls=3,fi=4,Ao=5,fd=7,ni=8,Ad=9,Cu=10,Kh=11,yh=12,qh=13,Yd=14,Si=15,Eo=function(F){for(var T=[],U=0,H=F.length;U<H;){var Ee=F.charCodeAt(U++);if(Ee>=55296&&Ee<=56319&&U<H){var Me=F.charCodeAt(U++);(Me&64512)===56320?T.push(((Ee&1023)<<10)+(Me&1023)+65536):(T.push(Ee),U--)}else T.push(Ee)}return T},to=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var U=F.length;if(!U)return"";for(var H=[],Ee=-1,Me="";++Ee<U;){var qe=F[Ee];qe<=65535?H.push(qe):(qe-=65536,H.push((qe>>10)+55296,qe%1024+56320)),(Ee+1===U||H.length>16384)&&(Me+=String.fromCharCode.apply(String,H),H.length=0)}return Me},Xh=hd(Ja),ll="",Nu="",bp=function(F){return Xh.get(F)},cl=function(F,T,U){var H=U-2,Ee=T[H],Me=T[U-1],qe=T[U];if(Me===us&&qe===Ls)return ll;if(Me===us||Me===Ls||Me===fi||qe===us||qe===Ls||qe===fi)return Nu;if(Me===ni&&[ni,Ad,Kh,yh].indexOf(qe)!==-1||(Me===Kh||Me===Ad)&&(qe===Ad||qe===Cu)||(Me===yh||Me===Cu)&&qe===Cu||qe===qh||qe===Ao||qe===fd||Me===dc)return ll;if(Me===qh&&qe===Yd){for(;Ee===Ao;)Ee=T[--H];if(Ee===Yd)return ll}if(Me===Si&&qe===Si){for(var At=0;Ee===Si;)At++,Ee=T[--H];if(At%2===0)return ll}return Nu},Tf=function(F){var T=Eo(F),U=T.length,H=0,Ee=0,Me=T.map(bp);return{next:function(){if(H>=U)return{done:!0,value:null};for(var qe=ll;H<U&&(qe=cl(T,Me,++H))===ll;);if(qe!==ll||H===U){var At=to.apply(null,T.slice(Ee,H));return Ee=H,{value:At,done:!1}}return{done:!0,value:null}}}},kf=function(F){for(var T=Tf(F),U=[],H;!(H=T.next()).done;)H.value&&U.push(H.value.slice());return U},_f=function(F){var T=123;if(F.createRange){var U=F.createRange();if(U.getBoundingClientRect){var H=F.createElement("boundtest");H.style.height=T+"px",H.style.display="block",F.body.appendChild(H),U.selectNode(H);var Ee=U.getBoundingClientRect(),Me=Math.round(Ee.height);if(F.body.removeChild(H),Me===T)return!0}}return!1},Yc=function(F){var T=F.createElement("boundtest");T.style.width="50px",T.style.display="block",T.style.fontSize="12px",T.style.letterSpacing="0px",T.style.wordSpacing="0px",F.body.appendChild(T);var U=F.createRange();T.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var H=T.firstChild,Ee=h(H.data).map(function(ft){return f(ft)}),Me=0,qe={},At=Ee.every(function(ft,Gt){U.setStart(H,Me),U.setEnd(H,Me+ft.length);var qt=U.getBoundingClientRect();Me+=ft.length;var lr=qt.x>qe.x||qt.y>qe.y;return qe=qt,Gt===0?!0:lr});return F.body.removeChild(T),At},Ul=function(){return typeof new Image().crossOrigin<"u"},dl=function(){return typeof new XMLHttpRequest().responseType=="string"},uc=function(F){var T=new Image,U=F.createElement("canvas"),H=U.getContext("2d");if(!H)return!1;T.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{H.drawImage(T,0,0),U.toDataURL()}catch{return!1}return!0},Zu=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Yh=function(F){var T=F.createElement("canvas"),U=100;T.width=U,T.height=U;var H=T.getContext("2d");if(!H)return Promise.reject(!1);H.fillStyle="rgb(0, 255, 0)",H.fillRect(0,0,U,U);var Ee=new Image,Me=T.toDataURL();Ee.src=Me;var qe=Jh(U,U,0,0,Ee);return H.fillStyle="red",H.fillRect(0,0,U,U),jh(qe).then(function(At){H.drawImage(At,0,0);var ft=H.getImageData(0,0,U,U).data;H.fillStyle="red",H.fillRect(0,0,U,U);var Gt=F.createElement("div");return Gt.style.backgroundImage="url("+Me+")",Gt.style.height=U+"px",Zu(ft)?jh(Jh(U,U,0,0,Gt)):Promise.reject(!1)}).then(function(At){return H.drawImage(At,0,0),Zu(H.getImageData(0,0,U,U).data)}).catch(function(){return!1})},Jh=function(F,T,U,H,Ee){var Me="http://www.w3.org/2000/svg",qe=document.createElementNS(Me,"svg"),At=document.createElementNS(Me,"foreignObject");return qe.setAttributeNS(null,"width",F.toString()),qe.setAttributeNS(null,"height",T.toString()),At.setAttributeNS(null,"width","100%"),At.setAttributeNS(null,"height","100%"),At.setAttributeNS(null,"x",U.toString()),At.setAttributeNS(null,"y",H.toString()),At.setAttributeNS(null,"externalResourcesRequired","true"),qe.appendChild(At),At.appendChild(Ee),qe},jh=function(F){return new Promise(function(T,U){var H=new Image;H.onload=function(){return T(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},po={get SUPPORT_RANGE_BOUNDS(){var F=_f(document);return Object.defineProperty(po,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=po.SUPPORT_RANGE_BOUNDS&&Yc(document);return Object.defineProperty(po,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=uc(document);return Object.defineProperty(po,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Yh(document):Promise.resolve(!1);return Object.defineProperty(po,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=Ul();return Object.defineProperty(po,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=dl();return Object.defineProperty(po,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(po,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(po,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},Su=(function(){function F(T,U){this.text=T,this.bounds=U}return F})(),yA=function(F,T,U,H){var Ee=Pf(T,U),Me=[],qe=0;return Ee.forEach(function(At){if(U.textDecorationLine.length||At.trim().length>0)if(po.SUPPORT_RANGE_BOUNDS){var ft=Zh(H,qe,At.length).getClientRects();if(ft.length>1){var Gt=Pd(At),qt=0;Gt.forEach(function(Ir){Me.push(new Su(Ir,d.fromDOMRectList(F,Zh(H,qt+qe,Ir.length).getClientRects()))),qt+=Ir.length})}else Me.push(new Su(At,d.fromDOMRectList(F,ft)))}else{var lr=H.splitText(At.length);Me.push(new Su(At,Of(F,H))),H=lr}else po.SUPPORT_RANGE_BOUNDS||(H=H.splitText(At.length));qe+=At.length}),Me},Of=function(F,T){var U=T.ownerDocument;if(U){var H=U.createElement("html2canvaswrapper");H.appendChild(T.cloneNode(!0));var Ee=T.parentNode;if(Ee){Ee.replaceChild(H,T);var Me=l(F,H);return H.firstChild&&Ee.replaceChild(H.firstChild,H),Me}}return d.EMPTY},Zh=function(F,T,U){var H=F.ownerDocument;if(!H)throw new Error("Node has no owner document");var Ee=H.createRange();return Ee.setStart(F,T),Ee.setEnd(F,T+U),Ee},Pd=function(F){if(po.SUPPORT_NATIVE_TEXT_SEGMENTATION){var T=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(T.segment(F)).map(function(U){return U.segment})}return kf(F)},Ff=function(F,T){if(po.SUPPORT_NATIVE_TEXT_SEGMENTATION){var U=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(U.segment(F)).map(function(H){return H.segment})}return jA(F,T)},Pf=function(F,T){return T.letterSpacing!==0?Pd(F):Ff(F,T)},Df=[32,160,4961,65792,65793,4153,4241],jA=function(F,T){for(var U=jo(F,{lineBreak:T.lineBreak,wordBreak:T.overflowWrap==="break-word"?"break-word":T.wordBreak}),H=[],Ee,Me=function(){if(Ee.value){var qe=Ee.value.slice(),At=h(qe),ft="";At.forEach(function(Gt){Df.indexOf(Gt)===-1?ft+=f(Gt):(ft.length&&H.push(ft),H.push(f(Gt)),ft="")}),ft.length&&H.push(ft)}};!(Ee=U.next()).done;)Me();return H},bA=(function(){function F(T,U,H){this.text=wp(U.data,H.textTransform),this.textBounds=yA(T,this.text,H,U)}return F})(),wp=function(F,T){switch(T){case 1:return F.toLowerCase();case 3:return F.replace(Cp,Np);case 2:return F.toUpperCase();default:return F}},Cp=/(^|\s|:|-|\(|\))([a-z])/g,Np=function(F,T,U){return F.length>0?T+U.toUpperCase():F},wA=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.src=H.currentSrc||H.src,Ee.intrinsicWidth=H.naturalWidth,Ee.intrinsicHeight=H.naturalHeight,Ee.context.cache.addImage(Ee.src),Ee}return T})(Na),bh=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.canvas=H,Ee.intrinsicWidth=H.width,Ee.intrinsicHeight=H.height,Ee}return T})(Na),ef=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this,Me=new XMLSerializer,qe=l(U,H);return H.setAttribute("width",qe.width+"px"),H.setAttribute("height",qe.height+"px"),Ee.svg="data:image/svg+xml,"+encodeURIComponent(Me.serializeToString(H)),Ee.intrinsicWidth=H.width.baseVal.value,Ee.intrinsicHeight=H.height.baseVal.value,Ee.context.cache.addImage(Ee.svg),Ee}return T})(Na),eh=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.value=H.value,Ee}return T})(Na),Mf=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.start=H.start,Ee.reversed=typeof H.reversed=="boolean"&&H.reversed===!0,Ee}return T})(Na),Hm=[{type:15,flags:0,unit:"px",number:3}],CA=[{type:16,flags:0,number:50}],Qm=function(F){return F.width>F.height?new d(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new d(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Wm=function(F){var T=F.type===Jd?new Array(F.value.length+1).join(""):F.value;return T.length===0?F.placeholder||"":T},tf="checkbox",rf="radio",Jd="password",Hl=707406591,pd=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;switch(Ee.type=H.type.toLowerCase(),Ee.checked=H.checked,Ee.value=Wm(H),(Ee.type===tf||Ee.type===rf)&&(Ee.styles.backgroundColor=3739148031,Ee.styles.borderTopColor=Ee.styles.borderRightColor=Ee.styles.borderBottomColor=Ee.styles.borderLeftColor=2779096575,Ee.styles.borderTopWidth=Ee.styles.borderRightWidth=Ee.styles.borderBottomWidth=Ee.styles.borderLeftWidth=1,Ee.styles.borderTopStyle=Ee.styles.borderRightStyle=Ee.styles.borderBottomStyle=Ee.styles.borderLeftStyle=1,Ee.styles.backgroundClip=[0],Ee.styles.backgroundOrigin=[0],Ee.bounds=Qm(Ee.bounds)),Ee.type){case tf:Ee.styles.borderTopRightRadius=Ee.styles.borderTopLeftRadius=Ee.styles.borderBottomRightRadius=Ee.styles.borderBottomLeftRadius=Hm;break;case rf:Ee.styles.borderTopRightRadius=Ee.styles.borderTopLeftRadius=Ee.styles.borderBottomRightRadius=Ee.styles.borderBottomLeftRadius=CA;break}return Ee}return T})(Na),Sp=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this,Me=H.options[H.selectedIndex||0];return Ee.value=Me&&Me.text||"",Ee}return T})(Na),NA=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.value=H.value,Ee}return T})(Na),Qo=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;Ee.src=H.src,Ee.width=parseInt(H.width,10)||0,Ee.height=parseInt(H.height,10)||0,Ee.backgroundColor=Ee.styles.backgroundColor;try{if(H.contentWindow&&H.contentWindow.document&&H.contentWindow.document.documentElement){Ee.tree=Rf(U,H.contentWindow.document.documentElement);var Me=H.contentWindow.document.documentElement?Ci(U,getComputedStyle(H.contentWindow.document.documentElement).backgroundColor):Co.TRANSPARENT,qe=H.contentWindow.document.body?Ci(U,getComputedStyle(H.contentWindow.document.body).backgroundColor):Co.TRANSPARENT;Ee.backgroundColor=wa(Me)?wa(qe)?Ee.styles.backgroundColor:qe:Me}}catch{}return Ee}return T})(Na),hc=["OL","UL","MENU"],th=function(F,T,U,H){for(var Ee=T.firstChild,Me=void 0;Ee;Ee=Me)if(Me=Ee.nextSibling,Eu(Ee)&&Ee.data.trim().length>0)U.textNodes.push(new bA(F,Ee,U.styles));else if(Bu(Ee))if(Wf(Ee)&&Ee.assignedNodes)Ee.assignedNodes().forEach(function(At){return th(F,At,U,H)});else{var qe=SA(F,Ee);qe.styles.isVisible()&&(EA(Ee,qe,H)?qe.flags|=4:Lf(qe.styles)&&(qe.flags|=2),hc.indexOf(Ee.tagName)!==-1&&(qe.flags|=8),U.elements.push(qe),Ee.slot,Ee.shadowRoot?th(F,Ee.shadowRoot,qe,H):!af(Ee)&&!IA(Ee)&&!Ch(Ee)&&th(F,Ee,qe,H))}},SA=function(F,T){return Hf(T)?new wA(F,T):Ql(T)?new bh(F,T):IA(T)?new ef(F,T):wh(T)?new eh(F,T):Uf(T)?new Mf(F,T):Ep(T)?new pd(F,T):Ch(T)?new Sp(F,T):af(T)?new NA(F,T):kA(T)?new Qo(F,T):new Na(F,T)},Rf=function(F,T){var U=SA(F,T);return U.flags|=4,th(F,T,U,U),U},EA=function(F,T,U){return T.styles.isPositionedWithZIndex()||T.styles.opacity<1||T.styles.isTransformed()||TA(F)&&U.styles.isTransparent()},Lf=function(F){return F.isPositioned()||F.isFloating()},Eu=function(F){return F.nodeType===Node.TEXT_NODE},Bu=function(F){return F.nodeType===Node.ELEMENT_NODE},Iu=function(F){return Bu(F)&&typeof F.style<"u"&&!rh(F)},rh=function(F){return typeof F.className=="object"},wh=function(F){return F.tagName==="LI"},Uf=function(F){return F.tagName==="OL"},Ep=function(F){return F.tagName==="INPUT"},BA=function(F){return F.tagName==="HTML"},IA=function(F){return F.tagName==="svg"},TA=function(F){return F.tagName==="BODY"},Ql=function(F){return F.tagName==="CANVAS"},bl=function(F){return F.tagName==="VIDEO"},Hf=function(F){return F.tagName==="IMG"},kA=function(F){return F.tagName==="IFRAME"},Qf=function(F){return F.tagName==="STYLE"},nf=function(F){return F.tagName==="SCRIPT"},af=function(F){return F.tagName==="TEXTAREA"},Ch=function(F){return F.tagName==="SELECT"},Wf=function(F){return F.tagName==="SLOT"},O=function(F){return F.tagName.indexOf("-")>0},ee=(function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(T){var U=this.counters[T];return U&&U.length?U[U.length-1]:1},F.prototype.getCounterValues=function(T){var U=this.counters[T];return U||[]},F.prototype.pop=function(T){var U=this;T.forEach(function(H){return U.counters[H].pop()})},F.prototype.parse=function(T){var U=this,H=T.counterIncrement,Ee=T.counterReset,Me=!0;H!==null&&H.forEach(function(At){var ft=U.counters[At.counter];ft&&At.increment!==0&&(Me=!1,ft.length||ft.push(1),ft[Math.max(0,ft.length-1)]+=At.increment)});var qe=[];return Me&&Ee.forEach(function(At){var ft=U.counters[At.counter];qe.push(At.counter),ft||(ft=U.counters[At.counter]=[]),ft.push(At.reset)}),qe},F})(),Se={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_e={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ve={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Je=function(F,T,U,H,Ee,Me){return F<T||F>U?Vr(F,Ee,Me.length>0):H.integers.reduce(function(qe,At,ft){for(;F>=At;)F-=At,qe+=H.values[ft];return qe},"")+Me},rt=function(F,T,U,H){var Ee="";do U||F--,Ee=H(F)+Ee,F/=T;while(F*T>=T);return Ee},it=function(F,T,U,H,Ee){var Me=U-T+1;return(F<0?"-":"")+(rt(Math.abs(F),Me,H,function(qe){return f(Math.floor(qe%Me)+T)})+Ee)},jt=function(F,T,U){U===void 0&&(U=". ");var H=T.length;return rt(Math.abs(F),H,!1,function(Ee){return T[Math.floor(Ee%H)]})+U},Qt=1,cr=2,vt=4,zt=8,sr=function(F,T,U,H,Ee,Me){if(F<-9999||F>9999)return Vr(F,4,Ee.length>0);var qe=Math.abs(F),At=Ee;if(qe===0)return T[0]+At;for(var ft=0;qe>0&&ft<=4;ft++){var Gt=qe%10;Gt===0&&_(Me,Qt)&&At!==""?At=T[Gt]+At:Gt>1||Gt===1&&ft===0||Gt===1&&ft===1&&_(Me,cr)||Gt===1&&ft===1&&_(Me,vt)&&F>100||Gt===1&&ft>1&&_(Me,zt)?At=T[Gt]+(ft>0?U[ft-1]:"")+At:Gt===1&&ft>0&&(At=U[ft-1]+At),qe=Math.floor(qe/10)}return(F<0?H:"")+At},Br="",ur="",Tr="",_r="",Vr=function(F,T,U){var H=U?". ":"",Ee=U?"":"",Me=U?", ":"",qe=U?" ":"";switch(T){case 0:return""+qe;case 1:return""+qe;case 2:return""+qe;case 5:var At=it(F,48,57,!0,H);return At.length<4?"0"+At:At;case 4:return jt(F,"",Ee);case 6:return Je(F,1,3999,Se,3,H).toLowerCase();case 7:return Je(F,1,3999,Se,3,H);case 8:return it(F,945,969,!1,H);case 9:return it(F,97,122,!1,H);case 10:return it(F,65,90,!1,H);case 11:return it(F,1632,1641,!0,H);case 12:case 49:return Je(F,1,9999,_e,3,H);case 35:return Je(F,1,9999,_e,3,H).toLowerCase();case 13:return it(F,2534,2543,!0,H);case 14:case 30:return it(F,6112,6121,!0,H);case 15:return jt(F,"",Ee);case 16:return jt(F,"",Ee);case 17:case 48:return sr(F,"",Br,"",Ee,cr|vt|zt);case 47:return sr(F,"",ur,"",Ee,Qt|cr|vt|zt);case 42:return sr(F,"",Br,"",Ee,cr|vt|zt);case 41:return sr(F,"",ur,"",Ee,Qt|cr|vt|zt);case 26:return sr(F,"","",Tr,Ee,0);case 25:return sr(F,"","",Tr,Ee,Qt|cr|vt);case 31:return sr(F,"","",_r,Me,Qt|cr|vt);case 33:return sr(F,"","",_r,Me,0);case 32:return sr(F,"","",_r,Me,Qt|cr|vt);case 18:return it(F,2406,2415,!0,H);case 20:return Je(F,1,19999,Xe,3,H);case 21:return it(F,2790,2799,!0,H);case 22:return it(F,2662,2671,!0,H);case 22:return Je(F,1,10999,Ve,3,H);case 23:return jt(F,"");case 24:return jt(F,"");case 27:return it(F,3302,3311,!0,H);case 28:return jt(F,"",Ee);case 29:return jt(F,"",Ee);case 34:return it(F,3792,3801,!0,H);case 37:return it(F,6160,6169,!0,H);case 38:return it(F,4160,4169,!0,H);case 39:return it(F,2918,2927,!0,H);case 40:return it(F,1776,1785,!0,H);case 43:return it(F,3046,3055,!0,H);case 44:return it(F,3174,3183,!0,H);case 45:return it(F,3664,3673,!0,H);case 46:return it(F,3872,3881,!0,H);case 3:default:return it(F,48,57,!0,H)}},Fr="data-html2canvas-ignore",Jn=(function(){function F(T,U,H){if(this.context=T,this.options=H,this.scrolledElements=[],this.referenceElement=U,this.counters=new ee,this.quoteDepth=0,!U.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(U.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(T,U){var H=this,Ee=$a(T,U);if(!Ee.contentWindow)return Promise.reject("Unable to find iframe window");var Me=T.defaultView.pageXOffset,qe=T.defaultView.pageYOffset,At=Ee.contentWindow,ft=At.document,Gt=cn(Ee).then(function(){return i(H,void 0,void 0,function(){var qt,lr;return c(this,function(Ir){switch(Ir.label){case 0:return this.scrolledElements.forEach(Fa),At&&(At.scrollTo(U.left,U.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(At.scrollY!==U.top||At.scrollX!==U.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(At.scrollX-U.left,At.scrollY-U.top,0,0))),qt=this.options.onclone,lr=this.clonedReferenceElement,typeof lr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ft.fonts&&ft.fonts.ready?[4,ft.fonts.ready]:[3,2];case 1:Ir.sent(),Ir.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ys(ft)]:[3,4];case 3:Ir.sent(),Ir.label=4;case 4:return typeof qt=="function"?[2,Promise.resolve().then(function(){return qt(ft,lr)}).then(function(){return Ee})]:[2,Ee]}})})});return ft.open(),ft.write(An(document.doctype)+"<html></html>"),mo(this.referenceElement.ownerDocument,Me,qe),ft.replaceChild(ft.adoptNode(this.documentElement),ft.documentElement),ft.close(),Gt},F.prototype.createElementClone=function(T){if(ra(T,2))debugger;if(Ql(T))return this.createCanvasClone(T);if(bl(T))return this.createVideoClone(T);if(Qf(T))return this.createStyleClone(T);var U=T.cloneNode(!1);return Hf(U)&&(Hf(T)&&T.currentSrc&&T.currentSrc!==T.src&&(U.src=T.currentSrc,U.srcset=""),U.loading==="lazy"&&(U.loading="eager")),O(U)?this.createCustomElementClone(U):U},F.prototype.createCustomElementClone=function(T){var U=document.createElement("html2canvascustomelement");return Rn(T.style,U),U},F.prototype.createStyleClone=function(T){try{var U=T.sheet;if(U&&U.cssRules){var H=[].slice.call(U.cssRules,0).reduce(function(Me,qe){return qe&&typeof qe.cssText=="string"?Me+qe.cssText:Me},""),Ee=T.cloneNode(!1);return Ee.textContent=H,Ee}}catch(Me){if(this.context.logger.error("Unable to access cssRules property",Me),Me.name!=="SecurityError")throw Me}return T.cloneNode(!1)},F.prototype.createCanvasClone=function(T){var U;if(this.options.inlineImages&&T.ownerDocument){var H=T.ownerDocument.createElement("img");try{return H.src=T.toDataURL(),H}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",T)}}var Ee=T.cloneNode(!1);try{Ee.width=T.width,Ee.height=T.height;var Me=T.getContext("2d"),qe=Ee.getContext("2d");if(qe)if(!this.options.allowTaint&&Me)qe.putImageData(Me.getImageData(0,0,T.width,T.height),0,0);else{var At=(U=T.getContext("webgl2"))!==null&&U!==void 0?U:T.getContext("webgl");if(At){var ft=At.getContextAttributes();(ft==null?void 0:ft.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",T)}qe.drawImage(T,0,0)}return Ee}catch{this.context.logger.info("Unable to clone canvas as it is tainted",T)}return Ee},F.prototype.createVideoClone=function(T){var U=T.ownerDocument.createElement("canvas");U.width=T.offsetWidth,U.height=T.offsetHeight;var H=U.getContext("2d");try{return H&&(H.drawImage(T,0,0,U.width,U.height),this.options.allowTaint||H.getImageData(0,0,U.width,U.height)),U}catch{this.context.logger.info("Unable to clone video as it is tainted",T)}var Ee=T.ownerDocument.createElement("canvas");return Ee.width=T.offsetWidth,Ee.height=T.offsetHeight,Ee},F.prototype.appendChildNode=function(T,U,H){(!Bu(U)||!nf(U)&&!U.hasAttribute(Fr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(U)))&&(!this.options.copyStyles||!Bu(U)||!Qf(U))&&T.appendChild(this.cloneNode(U,H))},F.prototype.cloneChildNodes=function(T,U,H){for(var Ee=this,Me=T.shadowRoot?T.shadowRoot.firstChild:T.firstChild;Me;Me=Me.nextSibling)if(Bu(Me)&&Wf(Me)&&typeof Me.assignedNodes=="function"){var qe=Me.assignedNodes();qe.length&&qe.forEach(function(At){return Ee.appendChildNode(U,At,H)})}else this.appendChildNode(U,Me,H)},F.prototype.cloneNode=function(T,U){if(Eu(T))return document.createTextNode(T.data);if(!T.ownerDocument)return T.cloneNode(!1);var H=T.ownerDocument.defaultView;if(H&&Bu(T)&&(Iu(T)||rh(T))){var Ee=this.createElementClone(T);Ee.style.transitionProperty="none";var Me=H.getComputedStyle(T),qe=H.getComputedStyle(T,":before"),At=H.getComputedStyle(T,":after");this.referenceElement===T&&Iu(Ee)&&(this.clonedReferenceElement=Ee),TA(Ee)&&el(Ee);var ft=this.counters.parse(new $r(this.context,Me)),Gt=this.resolvePseudoContent(T,Ee,qe,kn.BEFORE);O(T)&&(U=!0),bl(T)||this.cloneChildNodes(T,Ee,U),Gt&&Ee.insertBefore(Gt,Ee.firstChild);var qt=this.resolvePseudoContent(T,Ee,At,kn.AFTER);return qt&&Ee.appendChild(qt),this.counters.pop(ft),(Me&&(this.options.copyStyles||rh(T))&&!kA(T)||U)&&Rn(Me,Ee),(T.scrollTop!==0||T.scrollLeft!==0)&&this.scrolledElements.push([Ee,T.scrollLeft,T.scrollTop]),(af(T)||Ch(T))&&(af(Ee)||Ch(Ee))&&(Ee.value=T.value),Ee}return T.cloneNode(!1)},F.prototype.resolvePseudoContent=function(T,U,H,Ee){var Me=this;if(H){var qe=H.content,At=U.ownerDocument;if(!(!At||!qe||qe==="none"||qe==="-moz-alt-content"||H.display==="none")){this.counters.parse(new $r(this.context,H));var ft=new fn(this.context,H),Gt=At.createElement("html2canvaspseudoelement");Rn(H,Gt),ft.content.forEach(function(lr){if(lr.type===0)Gt.appendChild(At.createTextNode(lr.value));else if(lr.type===22){var Ir=At.createElement("img");Ir.src=lr.value,Ir.style.opacity="1",Gt.appendChild(Ir)}else if(lr.type===18){if(lr.name==="attr"){var yn=lr.values.filter(dn);yn.length&&Gt.appendChild(At.createTextNode(T.getAttribute(yn[0].value)||""))}else if(lr.name==="counter"){var nn=lr.values.filter(Xn),gn=nn[0],Za=nn[1];if(gn&&dn(gn)){var Kn=Me.counters.getCounterValue(gn.value),Un=Za&&dn(Za)?qd.parse(Me.context,Za.value):3;Gt.appendChild(At.createTextNode(Vr(Kn,Un,!1)))}}else if(lr.name==="counters"){var Gs=lr.values.filter(Xn),gn=Gs[0],as=Gs[1],Za=Gs[2];if(gn&&dn(gn)){var Qa=Me.counters.getCounterValues(gn.value),En=Za&&dn(Za)?qd.parse(Me.context,Za.value):3,Ts=as&&as.type===0?as.value:"",js=Qa.map(function(pc){return Vr(pc,En,!1)}).join(Ts);Gt.appendChild(At.createTextNode(js))}}}else if(lr.type===20)switch(lr.value){case"open-quote":Gt.appendChild(At.createTextNode(or(ft.quotes,Me.quoteDepth++,!0)));break;case"close-quote":Gt.appendChild(At.createTextNode(or(ft.quotes,--Me.quoteDepth,!1)));break;default:Gt.appendChild(At.createTextNode(lr.value))}}),Gt.className=Bo+" "+Zo;var qt=Ee===kn.BEFORE?" "+Bo:" "+Zo;return rh(U)?U.className.baseValue+=qt:U.className+=qt,Gt}}},F.destroy=function(T){return T.parentNode?(T.parentNode.removeChild(T),!0):!1},F})(),kn;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(kn||(kn={}));var $a=function(F,T){var U=F.createElement("iframe");return U.className="html2canvas-container",U.style.visibility="hidden",U.style.position="fixed",U.style.left="-10000px",U.style.top="0px",U.style.border="0",U.width=T.width.toString(),U.height=T.height.toString(),U.scrolling="no",U.setAttribute(Fr,"true"),F.body.appendChild(U),U},xn=function(F){return new Promise(function(T){if(F.complete){T();return}if(!F.src){T();return}F.onload=T,F.onerror=T})},ys=function(F){return Promise.all([].slice.call(F.images,0).map(xn))},cn=function(F){return new Promise(function(T,U){var H=F.contentWindow;if(!H)return U("No window assigned for iframe");var Ee=H.document;H.onload=F.onload=function(){H.onload=F.onload=null;var Me=setInterval(function(){Ee.body.childNodes.length>0&&Ee.readyState==="complete"&&(clearInterval(Me),T(F))},50)}})},Ra=["all","d","content"],Rn=function(F,T){for(var U=F.length-1;U>=0;U--){var H=F.item(U);Ra.indexOf(H)===-1&&T.style.setProperty(H,F.getPropertyValue(H))}return T},An=function(F){var T="";return F&&(T+="<!DOCTYPE ",F.name&&(T+=F.name),F.internalSubset&&(T+=F.internalSubset),F.publicId&&(T+='"'+F.publicId+'"'),F.systemId&&(T+='"'+F.systemId+'"'),T+=">"),T},mo=function(F,T,U){F&&F.defaultView&&(T!==F.defaultView.pageXOffset||U!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(T,U)},Fa=function(F){var T=F[0],U=F[1],H=F[2];T.scrollLeft=U,T.scrollTop=H},fs=":before",Ai=":after",Bo="___html2canvas___pseudoelement_before",Zo="___html2canvas___pseudoelement_after",Ri=`{
    content: "" !important;
    display: none !important;
}`,el=function(F){ul(F,"."+Bo+fs+Ri+`
         .`+Zo+Ai+Ri)},ul=function(F,T){var U=F.ownerDocument;if(U){var H=U.createElement("style");H.textContent=T,F.appendChild(H)}},ms=(function(){function F(){}return F.getOrigin=function(T){var U=F._link;return U?(U.href=T,U.href=U.href,U.protocol+U.hostname+U.port):"about:blank"},F.isSameOrigin=function(T){return F.getOrigin(T)===F._origin},F.setContext=function(T){F._link=T.document.createElement("a"),F._origin=F.getOrigin(T.location.href)},F._origin="about:blank",F})(),Ga=(function(){function F(T,U){this.context=T,this._options=U,this._cache={}}return F.prototype.addImage=function(T){var U=Promise.resolve();return this.has(T)||(wl(T)||pi(T))&&(this._cache[T]=this.loadImage(T)).catch(function(){}),U},F.prototype.match=function(T){return this._cache[T]},F.prototype.loadImage=function(T){return i(this,void 0,void 0,function(){var U,H,Ee,Me,qe=this;return c(this,function(At){switch(At.label){case 0:return U=ms.isSameOrigin(T),H=!fc(T)&&this._options.useCORS===!0&&po.SUPPORT_CORS_IMAGES&&!U,Ee=!fc(T)&&!U&&!wl(T)&&typeof this._options.proxy=="string"&&po.SUPPORT_CORS_XHR&&!H,!U&&this._options.allowTaint===!1&&!fc(T)&&!wl(T)&&!Ee&&!H?[2]:(Me=T,Ee?[4,this.proxy(Me)]:[3,2]);case 1:Me=At.sent(),At.label=2;case 2:return this.context.logger.debug("Added image "+T.substring(0,256)),[4,new Promise(function(ft,Gt){var qt=new Image;qt.onload=function(){return ft(qt)},qt.onerror=Gt,(Vs(Me)||H)&&(qt.crossOrigin="anonymous"),qt.src=Me,qt.complete===!0&&setTimeout(function(){return ft(qt)},500),qe._options.imageTimeout>0&&setTimeout(function(){return Gt("Timed out ("+qe._options.imageTimeout+"ms) loading image")},qe._options.imageTimeout)})];case 3:return[2,At.sent()]}})})},F.prototype.has=function(T){return typeof this._cache[T]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(T){var U=this,H=this._options.proxy;if(!H)throw new Error("No proxy defined");var Ee=T.substring(0,256);return new Promise(function(Me,qe){var At=po.SUPPORT_RESPONSE_TYPE?"blob":"text",ft=new XMLHttpRequest;ft.onload=function(){if(ft.status===200)if(At==="text")Me(ft.response);else{var lr=new FileReader;lr.addEventListener("load",function(){return Me(lr.result)},!1),lr.addEventListener("error",function(Ir){return qe(Ir)},!1),lr.readAsDataURL(ft.response)}else qe("Failed to proxy resource "+Ee+" with status code "+ft.status)},ft.onerror=qe;var Gt=H.indexOf("?")>-1?"&":"?";if(ft.open("GET",""+H+Gt+"url="+encodeURIComponent(T)+"&responseType="+At),At!=="text"&&ft instanceof XMLHttpRequest&&(ft.responseType=At),U._options.imageTimeout){var qt=U._options.imageTimeout;ft.timeout=qt,ft.ontimeout=function(){return qe("Timed out ("+qt+"ms) proxying "+Ee)}}ft.send()})},F})(),gs=/^data:image\/svg\+xml/i,zi=/^data:image\/.*;base64,/i,$s=/^data:image\/.*/i,pi=function(F){return po.SUPPORT_SVG_DRAWING||!ai(F)},fc=function(F){return $s.test(F)},Vs=function(F){return zi.test(F)},wl=function(F){return F.substr(0,4)==="blob"},ai=function(F){return F.substr(-3).toLowerCase()==="svg"||gs.test(F)},tn=(function(){function F(T,U){this.type=0,this.x=T,this.y=U}return F.prototype.add=function(T,U){return new F(this.x+T,this.y+U)},F})(),Wo=function(F,T,U){return new tn(F.x+(T.x-F.x)*U,F.y+(T.y-F.y)*U)},$o=(function(){function F(T,U,H,Ee){this.type=1,this.start=T,this.startControl=U,this.endControl=H,this.end=Ee}return F.prototype.subdivide=function(T,U){var H=Wo(this.start,this.startControl,T),Ee=Wo(this.startControl,this.endControl,T),Me=Wo(this.endControl,this.end,T),qe=Wo(H,Ee,T),At=Wo(Ee,Me,T),ft=Wo(qe,At,T);return U?new F(this.start,H,qe,ft):new F(ft,At,Me,this.end)},F.prototype.add=function(T,U){return new F(this.start.add(T,U),this.startControl.add(T,U),this.endControl.add(T,U),this.end.add(T,U))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F})(),Li=function(F){return F.type===1},Cl=(function(){function F(T){var U=T.styles,H=T.bounds,Ee=Tn(U.borderTopLeftRadius,H.width,H.height),Me=Ee[0],qe=Ee[1],At=Tn(U.borderTopRightRadius,H.width,H.height),ft=At[0],Gt=At[1],qt=Tn(U.borderBottomRightRadius,H.width,H.height),lr=qt[0],Ir=qt[1],yn=Tn(U.borderBottomLeftRadius,H.width,H.height),nn=yn[0],gn=yn[1],Za=[];Za.push((Me+ft)/H.width),Za.push((nn+lr)/H.width),Za.push((qe+gn)/H.height),Za.push((Gt+Ir)/H.height);var Kn=Math.max.apply(Math,Za);Kn>1&&(Me/=Kn,qe/=Kn,ft/=Kn,Gt/=Kn,lr/=Kn,Ir/=Kn,nn/=Kn,gn/=Kn);var Un=H.width-ft,Gs=H.height-Ir,as=H.width-lr,Qa=H.height-gn,En=U.borderTopWidth,Ts=U.borderRightWidth,js=U.borderBottomWidth,Da=U.borderLeftWidth,Vo=ba(U.paddingTop,T.bounds.width),pc=ba(U.paddingRight,T.bounds.width),gd=ba(U.paddingBottom,T.bounds.width),mi=ba(U.paddingLeft,T.bounds.width);this.topLeftBorderDoubleOuterBox=Me>0||qe>0?Pa(H.left+Da/3,H.top+En/3,Me-Da/3,qe-En/3,Ha.TOP_LEFT):new tn(H.left+Da/3,H.top+En/3),this.topRightBorderDoubleOuterBox=Me>0||qe>0?Pa(H.left+Un,H.top+En/3,ft-Ts/3,Gt-En/3,Ha.TOP_RIGHT):new tn(H.left+H.width-Ts/3,H.top+En/3),this.bottomRightBorderDoubleOuterBox=lr>0||Ir>0?Pa(H.left+as,H.top+Gs,lr-Ts/3,Ir-js/3,Ha.BOTTOM_RIGHT):new tn(H.left+H.width-Ts/3,H.top+H.height-js/3),this.bottomLeftBorderDoubleOuterBox=nn>0||gn>0?Pa(H.left+Da/3,H.top+Qa,nn-Da/3,gn-js/3,Ha.BOTTOM_LEFT):new tn(H.left+Da/3,H.top+H.height-js/3),this.topLeftBorderDoubleInnerBox=Me>0||qe>0?Pa(H.left+Da*2/3,H.top+En*2/3,Me-Da*2/3,qe-En*2/3,Ha.TOP_LEFT):new tn(H.left+Da*2/3,H.top+En*2/3),this.topRightBorderDoubleInnerBox=Me>0||qe>0?Pa(H.left+Un,H.top+En*2/3,ft-Ts*2/3,Gt-En*2/3,Ha.TOP_RIGHT):new tn(H.left+H.width-Ts*2/3,H.top+En*2/3),this.bottomRightBorderDoubleInnerBox=lr>0||Ir>0?Pa(H.left+as,H.top+Gs,lr-Ts*2/3,Ir-js*2/3,Ha.BOTTOM_RIGHT):new tn(H.left+H.width-Ts*2/3,H.top+H.height-js*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||gn>0?Pa(H.left+Da*2/3,H.top+Qa,nn-Da*2/3,gn-js*2/3,Ha.BOTTOM_LEFT):new tn(H.left+Da*2/3,H.top+H.height-js*2/3),this.topLeftBorderStroke=Me>0||qe>0?Pa(H.left+Da/2,H.top+En/2,Me-Da/2,qe-En/2,Ha.TOP_LEFT):new tn(H.left+Da/2,H.top+En/2),this.topRightBorderStroke=Me>0||qe>0?Pa(H.left+Un,H.top+En/2,ft-Ts/2,Gt-En/2,Ha.TOP_RIGHT):new tn(H.left+H.width-Ts/2,H.top+En/2),this.bottomRightBorderStroke=lr>0||Ir>0?Pa(H.left+as,H.top+Gs,lr-Ts/2,Ir-js/2,Ha.BOTTOM_RIGHT):new tn(H.left+H.width-Ts/2,H.top+H.height-js/2),this.bottomLeftBorderStroke=nn>0||gn>0?Pa(H.left+Da/2,H.top+Qa,nn-Da/2,gn-js/2,Ha.BOTTOM_LEFT):new tn(H.left+Da/2,H.top+H.height-js/2),this.topLeftBorderBox=Me>0||qe>0?Pa(H.left,H.top,Me,qe,Ha.TOP_LEFT):new tn(H.left,H.top),this.topRightBorderBox=ft>0||Gt>0?Pa(H.left+Un,H.top,ft,Gt,Ha.TOP_RIGHT):new tn(H.left+H.width,H.top),this.bottomRightBorderBox=lr>0||Ir>0?Pa(H.left+as,H.top+Gs,lr,Ir,Ha.BOTTOM_RIGHT):new tn(H.left+H.width,H.top+H.height),this.bottomLeftBorderBox=nn>0||gn>0?Pa(H.left,H.top+Qa,nn,gn,Ha.BOTTOM_LEFT):new tn(H.left,H.top+H.height),this.topLeftPaddingBox=Me>0||qe>0?Pa(H.left+Da,H.top+En,Math.max(0,Me-Da),Math.max(0,qe-En),Ha.TOP_LEFT):new tn(H.left+Da,H.top+En),this.topRightPaddingBox=ft>0||Gt>0?Pa(H.left+Math.min(Un,H.width-Ts),H.top+En,Un>H.width+Ts?0:Math.max(0,ft-Ts),Math.max(0,Gt-En),Ha.TOP_RIGHT):new tn(H.left+H.width-Ts,H.top+En),this.bottomRightPaddingBox=lr>0||Ir>0?Pa(H.left+Math.min(as,H.width-Da),H.top+Math.min(Gs,H.height-js),Math.max(0,lr-Ts),Math.max(0,Ir-js),Ha.BOTTOM_RIGHT):new tn(H.left+H.width-Ts,H.top+H.height-js),this.bottomLeftPaddingBox=nn>0||gn>0?Pa(H.left+Da,H.top+Math.min(Qa,H.height-js),Math.max(0,nn-Da),Math.max(0,gn-js),Ha.BOTTOM_LEFT):new tn(H.left+Da,H.top+H.height-js),this.topLeftContentBox=Me>0||qe>0?Pa(H.left+Da+mi,H.top+En+Vo,Math.max(0,Me-(Da+mi)),Math.max(0,qe-(En+Vo)),Ha.TOP_LEFT):new tn(H.left+Da+mi,H.top+En+Vo),this.topRightContentBox=ft>0||Gt>0?Pa(H.left+Math.min(Un,H.width+Da+mi),H.top+En+Vo,Un>H.width+Da+mi?0:ft-Da+mi,Gt-(En+Vo),Ha.TOP_RIGHT):new tn(H.left+H.width-(Ts+pc),H.top+En+Vo),this.bottomRightContentBox=lr>0||Ir>0?Pa(H.left+Math.min(as,H.width-(Da+mi)),H.top+Math.min(Gs,H.height+En+Vo),Math.max(0,lr-(Ts+pc)),Ir-(js+gd),Ha.BOTTOM_RIGHT):new tn(H.left+H.width-(Ts+pc),H.top+H.height-(js+gd)),this.bottomLeftContentBox=nn>0||gn>0?Pa(H.left+Da+mi,H.top+Qa,Math.max(0,nn-(Da+mi)),gn-(js+gd),Ha.BOTTOM_LEFT):new tn(H.left+Da+mi,H.top+H.height-(js+gd))}return F})(),Ha;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ha||(Ha={}));var Pa=function(F,T,U,H,Ee){var Me=4*((Math.sqrt(2)-1)/3),qe=U*Me,At=H*Me,ft=F+U,Gt=T+H;switch(Ee){case Ha.TOP_LEFT:return new $o(new tn(F,Gt),new tn(F,Gt-At),new tn(ft-qe,T),new tn(ft,T));case Ha.TOP_RIGHT:return new $o(new tn(F,T),new tn(F+qe,T),new tn(ft,Gt-At),new tn(ft,Gt));case Ha.BOTTOM_RIGHT:return new $o(new tn(ft,T),new tn(ft,T+At),new tn(F+qe,Gt),new tn(F,Gt));case Ha.BOTTOM_LEFT:default:return new $o(new tn(ft,Gt),new tn(ft-qe,Gt),new tn(F,T+At),new tn(F,T))}},Gn=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},zs=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},Is=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},Gi=(function(){function F(T,U,H){this.offsetX=T,this.offsetY=U,this.matrix=H,this.type=0,this.target=6}return F})(),Ui=(function(){function F(T,U){this.path=T,this.target=U,this.type=1}return F})(),ro=(function(){function F(T){this.opacity=T,this.type=2,this.target=6}return F})(),no=function(F){return F.type===0},Tu=function(F){return F.type===1},Dd=function(F){return F.type===2},Zd=function(F,T){return F.length===T.length?F.some(function(U,H){return U===T[H]}):!1},_A=function(F,T,U,H,Ee){return F.map(function(Me,qe){switch(qe){case 0:return Me.add(T,U);case 1:return Me.add(T+H,U);case 2:return Me.add(T+H,U+Ee);case 3:return Me.add(T,U+Ee)}return Me})},Nh=(function(){function F(T){this.element=T,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F})(),hl=(function(){function F(T,U){if(this.container=T,this.parent=U,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new ro(this.container.styles.opacity)),this.container.styles.transform!==null){var H=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Ee=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Me=this.container.styles.transform;this.effects.push(new Gi(H,Ee,Me))}if(this.container.styles.overflowX!==0){var qe=Gn(this.curves),At=Is(this.curves);Zd(qe,At)?this.effects.push(new Ui(qe,6)):(this.effects.push(new Ui(qe,2)),this.effects.push(new Ui(At,4)))}}return F.prototype.getEffects=function(T){for(var U=[2,3].indexOf(this.container.styles.position)===-1,H=this.parent,Ee=this.effects.slice(0);H;){var Me=H.effects.filter(function(ft){return!Tu(ft)});if(U||H.container.styles.position!==0||!H.parent){if(Ee.unshift.apply(Ee,Me),U=[2,3].indexOf(H.container.styles.position)===-1,H.container.styles.overflowX!==0){var qe=Gn(H.curves),At=Is(H.curves);Zd(qe,At)||Ee.unshift(new Ui(At,6))}}else Ee.unshift.apply(Ee,Me);H=H.parent}return Ee.filter(function(ft){return _(ft.target,T)})},F})(),Jc=function(F,T,U,H){F.container.elements.forEach(function(Ee){var Me=_(Ee.flags,4),qe=_(Ee.flags,2),At=new hl(Ee,F);_(Ee.styles.display,2048)&&H.push(At);var ft=_(Ee.flags,8)?[]:H;if(Me||qe){var Gt=Me||Ee.styles.isPositioned()?U:T,qt=new Nh(At);if(Ee.styles.isPositioned()||Ee.styles.opacity<1||Ee.styles.isTransformed()){var lr=Ee.styles.zIndex.order;if(lr<0){var Ir=0;Gt.negativeZIndex.some(function(nn,gn){return lr>nn.element.container.styles.zIndex.order?(Ir=gn,!1):Ir>0}),Gt.negativeZIndex.splice(Ir,0,qt)}else if(lr>0){var yn=0;Gt.positiveZIndex.some(function(nn,gn){return lr>=nn.element.container.styles.zIndex.order?(yn=gn+1,!1):yn>0}),Gt.positiveZIndex.splice(yn,0,qt)}else Gt.zeroOrAutoZIndexOrTransformedOrOpacity.push(qt)}else Ee.styles.isFloating()?Gt.nonPositionedFloats.push(qt):Gt.nonPositionedInlineLevel.push(qt);Jc(At,qt,Me?qt:U,ft)}else Ee.styles.isInlineLevel()?T.inlineLevel.push(At):T.nonInlineLevel.push(At),Jc(At,T,U,ft);_(Ee.flags,8)&&nh(Ee,ft)})},nh=function(F,T){for(var U=F instanceof Mf?F.start:1,H=F instanceof Mf?F.reversed:!1,Ee=0;Ee<T.length;Ee++){var Me=T[Ee];Me.container instanceof eh&&typeof Me.container.value=="number"&&Me.container.value!==0&&(U=Me.container.value),Me.listValue=Vr(U,Me.container.styles.listStyleType,!0),U+=H?-1:1}},eu=function(F){var T=new hl(F,null),U=new Nh(T),H=[];return Jc(T,U,U,H),nh(T.container,H),U},sf=function(F,T){switch(T){case 0:return tl(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return tl(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return tl(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return tl(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},$f=function(F,T){switch(T){case 0:return tl(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return tl(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return tl(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return tl(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},md=function(F,T){switch(T){case 0:return tl(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return tl(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return tl(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return tl(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},of=function(F,T){switch(T){case 0:return Zc(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Zc(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Zc(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Zc(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Zc=function(F,T){var U=[];return Li(F)?U.push(F.subdivide(.5,!1)):U.push(F),Li(T)?U.push(T.subdivide(.5,!0)):U.push(T),U},tl=function(F,T,U,H){var Ee=[];return Li(F)?Ee.push(F.subdivide(.5,!1)):Ee.push(F),Li(U)?Ee.push(U.subdivide(.5,!0)):Ee.push(U),Li(H)?Ee.push(H.subdivide(.5,!0).reverse()):Ee.push(H),Li(T)?Ee.push(T.subdivide(.5,!1).reverse()):Ee.push(T),Ee},ku=function(F){var T=F.bounds,U=F.styles;return T.add(U.borderLeftWidth,U.borderTopWidth,-(U.borderRightWidth+U.borderLeftWidth),-(U.borderTopWidth+U.borderBottomWidth))},Md=function(F){var T=F.styles,U=F.bounds,H=ba(T.paddingLeft,U.width),Ee=ba(T.paddingRight,U.width),Me=ba(T.paddingTop,U.width),qe=ba(T.paddingBottom,U.width);return U.add(H+T.borderLeftWidth,Me+T.borderTopWidth,-(T.borderRightWidth+T.borderLeftWidth+H+Ee),-(T.borderTopWidth+T.borderBottomWidth+Me+qe))},lf=function(F,T){return F===0?T.bounds:F===2?Md(T):ku(T)},Vf=function(F,T){return F===0?T.bounds:F===2?Md(T):ku(T)},Io=function(F,T,U){var H=lf(_u(F.styles.backgroundOrigin,T),F),Ee=Vf(_u(F.styles.backgroundClip,T),F),Me=go(_u(F.styles.backgroundSize,T),U,H),qe=Me[0],At=Me[1],ft=Tn(_u(F.styles.backgroundPosition,T),H.width-qe,H.height-At),Gt=zf(_u(F.styles.backgroundRepeat,T),ft,Me,H,Ee),qt=Math.round(H.left+ft[0]),lr=Math.round(H.top+ft[1]);return[Gt,qt,lr,qe,At]},Ac=function(F){return dn(F)&&F.value===ya.AUTO},Nl=function(F){return typeof F=="number"},go=function(F,T,U){var H=T[0],Ee=T[1],Me=T[2],qe=F[0],At=F[1];if(!qe)return[0,0];if(_n(qe)&&At&&_n(At))return[ba(qe,U.width),ba(At,U.height)];var ft=Nl(Me);if(dn(qe)&&(qe.value===ya.CONTAIN||qe.value===ya.COVER)){if(Nl(Me)){var Gt=U.width/U.height;return Gt<Me!=(qe.value===ya.COVER)?[U.width,U.width/Me]:[U.height*Me,U.height]}return[U.width,U.height]}var qt=Nl(H),lr=Nl(Ee),Ir=qt||lr;if(Ac(qe)&&(!At||Ac(At))){if(qt&&lr)return[H,Ee];if(!ft&&!Ir)return[U.width,U.height];if(Ir&&ft){var yn=qt?H:Ee*Me,nn=lr?Ee:H/Me;return[yn,nn]}var gn=qt?H:U.width,Za=lr?Ee:U.height;return[gn,Za]}if(ft){var Kn=0,Un=0;return _n(qe)?Kn=ba(qe,U.width):_n(At)&&(Un=ba(At,U.height)),Ac(qe)?Kn=Un*Me:(!At||Ac(At))&&(Un=Kn/Me),[Kn,Un]}var Gs=null,as=null;if(_n(qe)?Gs=ba(qe,U.width):At&&_n(At)&&(as=ba(At,U.height)),Gs!==null&&(!At||Ac(At))&&(as=qt&&lr?Gs/H*Ee:U.height),as!==null&&Ac(qe)&&(Gs=qt&&lr?as/Ee*H:U.width),Gs!==null&&as!==null)return[Gs,as];throw new Error("Unable to calculate background-size for element")},_u=function(F,T){var U=F[T];return typeof U>"u"?F[0]:U},zf=function(F,T,U,H,Ee){var Me=T[0],qe=T[1],At=U[0],ft=U[1];switch(F){case 2:return[new tn(Math.round(H.left),Math.round(H.top+qe)),new tn(Math.round(H.left+H.width),Math.round(H.top+qe)),new tn(Math.round(H.left+H.width),Math.round(ft+H.top+qe)),new tn(Math.round(H.left),Math.round(ft+H.top+qe))];case 3:return[new tn(Math.round(H.left+Me),Math.round(H.top)),new tn(Math.round(H.left+Me+At),Math.round(H.top)),new tn(Math.round(H.left+Me+At),Math.round(H.height+H.top)),new tn(Math.round(H.left+Me),Math.round(H.height+H.top))];case 1:return[new tn(Math.round(H.left+Me),Math.round(H.top+qe)),new tn(Math.round(H.left+Me+At),Math.round(H.top+qe)),new tn(Math.round(H.left+Me+At),Math.round(H.top+qe+ft)),new tn(Math.round(H.left+Me),Math.round(H.top+qe+ft))];default:return[new tn(Math.round(Ee.left),Math.round(Ee.top)),new tn(Math.round(Ee.left+Ee.width),Math.round(Ee.top)),new tn(Math.round(Ee.left+Ee.width),Math.round(Ee.height+Ee.top)),new tn(Math.round(Ee.left),Math.round(Ee.height+Ee.top))]}},OA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",FA="Hidden Text",Mc=(function(){function F(T){this._data={},this._document=T}return F.prototype.parseMetrics=function(T,U){var H=this._document.createElement("div"),Ee=this._document.createElement("img"),Me=this._document.createElement("span"),qe=this._document.body;H.style.visibility="hidden",H.style.fontFamily=T,H.style.fontSize=U,H.style.margin="0",H.style.padding="0",H.style.whiteSpace="nowrap",qe.appendChild(H),Ee.src=OA,Ee.width=1,Ee.height=1,Ee.style.margin="0",Ee.style.padding="0",Ee.style.verticalAlign="baseline",Me.style.fontFamily=T,Me.style.fontSize=U,Me.style.margin="0",Me.style.padding="0",Me.appendChild(this._document.createTextNode(FA)),H.appendChild(Me),H.appendChild(Ee);var At=Ee.offsetTop-Me.offsetTop+2;H.removeChild(Me),H.appendChild(this._document.createTextNode(FA)),H.style.lineHeight="normal",Ee.style.verticalAlign="super";var ft=Ee.offsetTop-H.offsetTop+2;return qe.removeChild(H),{baseline:At,middle:ft}},F.prototype.getMetrics=function(T,U){var H=T+" "+U;return typeof this._data[H]>"u"&&(this._data[H]=this.parseMetrics(T,U)),this._data[H]},F})(),PA=(function(){function F(T,U){this.context=T,this.options=U}return F})(),Gf=1e4,ah=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee._activeEffects=[],Ee.canvas=H.canvas?H.canvas:document.createElement("canvas"),Ee.ctx=Ee.canvas.getContext("2d"),H.canvas||(Ee.canvas.width=Math.floor(H.width*H.scale),Ee.canvas.height=Math.floor(H.height*H.scale),Ee.canvas.style.width=H.width+"px",Ee.canvas.style.height=H.height+"px"),Ee.fontMetrics=new Mc(document),Ee.ctx.scale(Ee.options.scale,Ee.options.scale),Ee.ctx.translate(-H.x,-H.y),Ee.ctx.textBaseline="bottom",Ee._activeEffects=[],Ee.context.logger.debug("Canvas renderer initialized ("+H.width+"x"+H.height+") with scale "+H.scale),Ee}return T.prototype.applyEffects=function(U){for(var H=this;this._activeEffects.length;)this.popEffect();U.forEach(function(Ee){return H.applyEffect(Ee)})},T.prototype.applyEffect=function(U){this.ctx.save(),Dd(U)&&(this.ctx.globalAlpha=U.opacity),no(U)&&(this.ctx.translate(U.offsetX,U.offsetY),this.ctx.transform(U.matrix[0],U.matrix[1],U.matrix[2],U.matrix[3],U.matrix[4],U.matrix[5]),this.ctx.translate(-U.offsetX,-U.offsetY)),Tu(U)&&(this.path(U.path),this.ctx.clip()),this._activeEffects.push(U)},T.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},T.prototype.renderStack=function(U){return i(this,void 0,void 0,function(){var H;return c(this,function(Ee){switch(Ee.label){case 0:return H=U.element.container.styles,H.isVisible()?[4,this.renderStackContent(U)]:[3,2];case 1:Ee.sent(),Ee.label=2;case 2:return[2]}})})},T.prototype.renderNode=function(U){return i(this,void 0,void 0,function(){return c(this,function(H){switch(H.label){case 0:if(_(U.container.flags,16))debugger;return U.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(U)]:[3,3];case 1:return H.sent(),[4,this.renderNodeContent(U)];case 2:H.sent(),H.label=3;case 3:return[2]}})})},T.prototype.renderTextWithLetterSpacing=function(U,H,Ee){var Me=this;if(H===0)this.ctx.fillText(U.text,U.bounds.left,U.bounds.top+Ee);else{var qe=Pd(U.text);qe.reduce(function(At,ft){return Me.ctx.fillText(ft,At,U.bounds.top+Ee),At+Me.ctx.measureText(ft).width},U.bounds.left)}},T.prototype.createFontStyle=function(U){var H=U.fontVariant.filter(function(qe){return qe==="normal"||qe==="small-caps"}).join(""),Ee=Eh(U.fontFamily).join(", "),Me=hn(U.fontSize)?""+U.fontSize.number+U.fontSize.unit:U.fontSize.number+"px";return[[U.fontStyle,H,U.fontWeight,Me,Ee].join(" "),Ee,Me]},T.prototype.renderTextNode=function(U,H){return i(this,void 0,void 0,function(){var Ee,Me,qe,At,ft,Gt,qt,lr,Ir=this;return c(this,function(yn){return Ee=this.createFontStyle(H),Me=Ee[0],qe=Ee[1],At=Ee[2],this.ctx.font=Me,this.ctx.direction=H.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ft=this.fontMetrics.getMetrics(qe,At),Gt=ft.baseline,qt=ft.middle,lr=H.paintOrder,U.textBounds.forEach(function(nn){lr.forEach(function(gn){switch(gn){case 0:Ir.ctx.fillStyle=Cn(H.color),Ir.renderTextWithLetterSpacing(nn,H.letterSpacing,Gt);var Za=H.textShadow;Za.length&&nn.text.trim().length&&(Za.slice(0).reverse().forEach(function(Kn){Ir.ctx.shadowColor=Cn(Kn.color),Ir.ctx.shadowOffsetX=Kn.offsetX.number*Ir.options.scale,Ir.ctx.shadowOffsetY=Kn.offsetY.number*Ir.options.scale,Ir.ctx.shadowBlur=Kn.blur.number,Ir.renderTextWithLetterSpacing(nn,H.letterSpacing,Gt)}),Ir.ctx.shadowColor="",Ir.ctx.shadowOffsetX=0,Ir.ctx.shadowOffsetY=0,Ir.ctx.shadowBlur=0),H.textDecorationLine.length&&(Ir.ctx.fillStyle=Cn(H.textDecorationColor||H.color),H.textDecorationLine.forEach(function(Kn){switch(Kn){case 1:Ir.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+Gt),nn.bounds.width,1);break;case 2:Ir.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:Ir.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+qt),nn.bounds.width,1);break}}));break;case 1:H.webkitTextStrokeWidth&&nn.text.trim().length&&(Ir.ctx.strokeStyle=Cn(H.webkitTextStrokeColor),Ir.ctx.lineWidth=H.webkitTextStrokeWidth,Ir.ctx.lineJoin=window.chrome?"miter":"round",Ir.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+Gt)),Ir.ctx.strokeStyle="",Ir.ctx.lineWidth=0,Ir.ctx.lineJoin="miter";break}})}),[2]})})},T.prototype.renderReplacedElement=function(U,H,Ee){if(Ee&&U.intrinsicWidth>0&&U.intrinsicHeight>0){var Me=Md(U),qe=Is(H);this.path(qe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Ee,0,0,U.intrinsicWidth,U.intrinsicHeight,Me.left,Me.top,Me.width,Me.height),this.ctx.restore()}},T.prototype.renderNodeContent=function(U){return i(this,void 0,void 0,function(){var H,Ee,Me,qe,At,ft,Un,Un,Gt,qt,lr,Ir,as,yn,nn,Qa,gn,Za,Kn,Un,Gs,as,Qa;return c(this,function(En){switch(En.label){case 0:this.applyEffects(U.getEffects(4)),H=U.container,Ee=U.curves,Me=H.styles,qe=0,At=H.textNodes,En.label=1;case 1:return qe<At.length?(ft=At[qe],[4,this.renderTextNode(ft,Me)]):[3,4];case 2:En.sent(),En.label=3;case 3:return qe++,[3,1];case 4:if(!(H instanceof wA))return[3,8];En.label=5;case 5:return En.trys.push([5,7,,8]),[4,this.context.cache.match(H.src)];case 6:return Un=En.sent(),this.renderReplacedElement(H,Ee,Un),[3,8];case 7:return En.sent(),this.context.logger.error("Error loading image "+H.src),[3,8];case 8:if(H instanceof bh&&this.renderReplacedElement(H,Ee,H.canvas),!(H instanceof ef))return[3,12];En.label=9;case 9:return En.trys.push([9,11,,12]),[4,this.context.cache.match(H.svg)];case 10:return Un=En.sent(),this.renderReplacedElement(H,Ee,Un),[3,12];case 11:return En.sent(),this.context.logger.error("Error loading svg "+H.svg.substring(0,255)),[3,12];case 12:return H instanceof Qo&&H.tree?(Gt=new T(this.context,{scale:this.options.scale,backgroundColor:H.backgroundColor,x:0,y:0,width:H.width,height:H.height}),[4,Gt.render(H.tree)]):[3,14];case 13:qt=En.sent(),H.width&&H.height&&this.ctx.drawImage(qt,0,0,H.width,H.height,H.bounds.left,H.bounds.top,H.bounds.width,H.bounds.height),En.label=14;case 14:if(H instanceof pd&&(lr=Math.min(H.bounds.width,H.bounds.height),H.type===tf?H.checked&&(this.ctx.save(),this.path([new tn(H.bounds.left+lr*.39363,H.bounds.top+lr*.79),new tn(H.bounds.left+lr*.16,H.bounds.top+lr*.5549),new tn(H.bounds.left+lr*.27347,H.bounds.top+lr*.44071),new tn(H.bounds.left+lr*.39694,H.bounds.top+lr*.5649),new tn(H.bounds.left+lr*.72983,H.bounds.top+lr*.23),new tn(H.bounds.left+lr*.84,H.bounds.top+lr*.34085),new tn(H.bounds.left+lr*.39363,H.bounds.top+lr*.79)]),this.ctx.fillStyle=Cn(Hl),this.ctx.fill(),this.ctx.restore()):H.type===rf&&H.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(H.bounds.left+lr/2,H.bounds.top+lr/2,lr/4,0,Math.PI*2,!0),this.ctx.fillStyle=Cn(Hl),this.ctx.fill(),this.ctx.restore())),Kf(H)&&H.value.length){switch(Ir=this.createFontStyle(Me),as=Ir[0],yn=Ir[1],nn=this.fontMetrics.getMetrics(as,yn).baseline,this.ctx.font=as,this.ctx.fillStyle=Cn(Me.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Sh(H.styles.textAlign),Qa=Md(H),gn=0,H.styles.textAlign){case 1:gn+=Qa.width/2;break;case 2:gn+=Qa.width;break}Za=Qa.add(gn,0,0,-Qa.height/2+1),this.ctx.save(),this.path([new tn(Qa.left,Qa.top),new tn(Qa.left+Qa.width,Qa.top),new tn(Qa.left+Qa.width,Qa.top+Qa.height),new tn(Qa.left,Qa.top+Qa.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Su(H.value,Za),Me.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_(H.styles.display,2048))return[3,20];if(H.styles.listStyleImage===null)return[3,19];if(Kn=H.styles.listStyleImage,Kn.type!==0)return[3,18];Un=void 0,Gs=Kn.url,En.label=15;case 15:return En.trys.push([15,17,,18]),[4,this.context.cache.match(Gs)];case 16:return Un=En.sent(),this.ctx.drawImage(Un,H.bounds.left-(Un.width+10),H.bounds.top),[3,18];case 17:return En.sent(),this.context.logger.error("Error loading list-style-image "+Gs),[3,18];case 18:return[3,20];case 19:U.listValue&&H.styles.listStyleType!==-1&&(as=this.createFontStyle(Me)[0],this.ctx.font=as,this.ctx.fillStyle=Cn(Me.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Qa=new d(H.bounds.left,H.bounds.top+ba(H.styles.paddingTop,H.bounds.width),H.bounds.width,sc(Me.lineHeight,Me.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Su(U.listValue,Qa),Me.letterSpacing,sc(Me.lineHeight,Me.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),En.label=20;case 20:return[2]}})})},T.prototype.renderStackContent=function(U){return i(this,void 0,void 0,function(){var H,Ee,Kn,Me,qe,Kn,At,ft,Kn,Gt,qt,Kn,lr,Ir,Kn,yn,nn,Kn,gn,Za,Kn;return c(this,function(Un){switch(Un.label){case 0:if(_(U.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(U.element)];case 1:Un.sent(),H=0,Ee=U.negativeZIndex,Un.label=2;case 2:return H<Ee.length?(Kn=Ee[H],[4,this.renderStack(Kn)]):[3,5];case 3:Un.sent(),Un.label=4;case 4:return H++,[3,2];case 5:return[4,this.renderNodeContent(U.element)];case 6:Un.sent(),Me=0,qe=U.nonInlineLevel,Un.label=7;case 7:return Me<qe.length?(Kn=qe[Me],[4,this.renderNode(Kn)]):[3,10];case 8:Un.sent(),Un.label=9;case 9:return Me++,[3,7];case 10:At=0,ft=U.nonPositionedFloats,Un.label=11;case 11:return At<ft.length?(Kn=ft[At],[4,this.renderStack(Kn)]):[3,14];case 12:Un.sent(),Un.label=13;case 13:return At++,[3,11];case 14:Gt=0,qt=U.nonPositionedInlineLevel,Un.label=15;case 15:return Gt<qt.length?(Kn=qt[Gt],[4,this.renderStack(Kn)]):[3,18];case 16:Un.sent(),Un.label=17;case 17:return Gt++,[3,15];case 18:lr=0,Ir=U.inlineLevel,Un.label=19;case 19:return lr<Ir.length?(Kn=Ir[lr],[4,this.renderNode(Kn)]):[3,22];case 20:Un.sent(),Un.label=21;case 21:return lr++,[3,19];case 22:yn=0,nn=U.zeroOrAutoZIndexOrTransformedOrOpacity,Un.label=23;case 23:return yn<nn.length?(Kn=nn[yn],[4,this.renderStack(Kn)]):[3,26];case 24:Un.sent(),Un.label=25;case 25:return yn++,[3,23];case 26:gn=0,Za=U.positiveZIndex,Un.label=27;case 27:return gn<Za.length?(Kn=Za[gn],[4,this.renderStack(Kn)]):[3,30];case 28:Un.sent(),Un.label=29;case 29:return gn++,[3,27];case 30:return[2]}})})},T.prototype.mask=function(U){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(U.slice(0).reverse()),this.ctx.closePath()},T.prototype.path=function(U){this.ctx.beginPath(),this.formatPath(U),this.ctx.closePath()},T.prototype.formatPath=function(U){var H=this;U.forEach(function(Ee,Me){var qe=Li(Ee)?Ee.start:Ee;Me===0?H.ctx.moveTo(qe.x,qe.y):H.ctx.lineTo(qe.x,qe.y),Li(Ee)&&H.ctx.bezierCurveTo(Ee.startControl.x,Ee.startControl.y,Ee.endControl.x,Ee.endControl.y,Ee.end.x,Ee.end.y)})},T.prototype.renderRepeat=function(U,H,Ee,Me){this.path(U),this.ctx.fillStyle=H,this.ctx.translate(Ee,Me),this.ctx.fill(),this.ctx.translate(-Ee,-Me)},T.prototype.resizeImage=function(U,H,Ee){var Me;if(U.width===H&&U.height===Ee)return U;var qe=(Me=this.canvas.ownerDocument)!==null&&Me!==void 0?Me:document,At=qe.createElement("canvas");At.width=Math.max(1,H),At.height=Math.max(1,Ee);var ft=At.getContext("2d");return ft.drawImage(U,0,0,U.width,U.height,0,0,H,Ee),At},T.prototype.renderBackgroundImage=function(U){return i(this,void 0,void 0,function(){var H,Ee,Me,qe,At,ft;return c(this,function(Gt){switch(Gt.label){case 0:H=U.styles.backgroundImage.length-1,Ee=function(qt){var lr,Ir,yn,Vo,mc,Wl,mi,fl,js,nn,Vo,mc,Wl,mi,fl,gn,Za,Kn,Un,Gs,as,Qa,En,Ts,js,Da,Vo,pc,gd,mi,fl,tu,mc,Wl,Bh,Du,ru,df,nu,ih,Mu,p;return c(this,function(v){switch(v.label){case 0:if(qt.type!==0)return[3,5];lr=void 0,Ir=qt.url,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Me.context.cache.match(Ir)];case 2:return lr=v.sent(),[3,4];case 3:return v.sent(),Me.context.logger.error("Error loading background-image "+Ir),[3,4];case 4:return lr&&(yn=Io(U,H,[lr.width,lr.height,lr.width/lr.height]),Vo=yn[0],mc=yn[1],Wl=yn[2],mi=yn[3],fl=yn[4],js=Me.ctx.createPattern(Me.resizeImage(lr,mi,fl),"repeat"),Me.renderRepeat(Vo,js,mc,Wl)),[3,6];case 5:qo(qt)?(nn=Io(U,H,[null,null,null]),Vo=nn[0],mc=nn[1],Wl=nn[2],mi=nn[3],fl=nn[4],gn=id(qt.angle,mi,fl),Za=gn[0],Kn=gn[1],Un=gn[2],Gs=gn[3],as=gn[4],Qa=document.createElement("canvas"),Qa.width=mi,Qa.height=fl,En=Qa.getContext("2d"),Ts=En.createLinearGradient(Kn,Gs,Un,as),Ti(qt.stops,Za).forEach(function(N){return Ts.addColorStop(N.stop,Cn(N.color))}),En.fillStyle=Ts,En.fillRect(0,0,mi,fl),mi>0&&fl>0&&(js=Me.ctx.createPattern(Qa,"repeat"),Me.renderRepeat(Vo,js,mc,Wl))):ld(qt)&&(Da=Io(U,H,[null,null,null]),Vo=Da[0],pc=Da[1],gd=Da[2],mi=Da[3],fl=Da[4],tu=qt.position.length===0?[In]:qt.position,mc=ba(tu[0],mi),Wl=ba(tu[tu.length-1],fl),Bh=Ic(qt,mc,Wl,mi,fl),Du=Bh[0],ru=Bh[1],Du>0&&ru>0&&(df=Me.ctx.createRadialGradient(pc+mc,gd+Wl,0,pc+mc,gd+Wl,Du),Ti(qt.stops,Du*2).forEach(function(N){return df.addColorStop(N.stop,Cn(N.color))}),Me.path(Vo),Me.ctx.fillStyle=df,Du!==ru?(nu=U.bounds.left+.5*U.bounds.width,ih=U.bounds.top+.5*U.bounds.height,Mu=ru/Du,p=1/Mu,Me.ctx.save(),Me.ctx.translate(nu,ih),Me.ctx.transform(1,0,0,Mu,0,0),Me.ctx.translate(-nu,-ih),Me.ctx.fillRect(pc,p*(gd-ih)+ih,mi,fl*p),Me.ctx.restore()):Me.ctx.fill())),v.label=6;case 6:return H--,[2]}})},Me=this,qe=0,At=U.styles.backgroundImage.slice(0).reverse(),Gt.label=1;case 1:return qe<At.length?(ft=At[qe],[5,Ee(ft)]):[3,4];case 2:Gt.sent(),Gt.label=3;case 3:return qe++,[3,1];case 4:return[2]}})})},T.prototype.renderSolidBorder=function(U,H,Ee){return i(this,void 0,void 0,function(){return c(this,function(Me){return this.path(sf(Ee,H)),this.ctx.fillStyle=Cn(U),this.ctx.fill(),[2]})})},T.prototype.renderDoubleBorder=function(U,H,Ee,Me){return i(this,void 0,void 0,function(){var qe,At;return c(this,function(ft){switch(ft.label){case 0:return H<3?[4,this.renderSolidBorder(U,Ee,Me)]:[3,2];case 1:return ft.sent(),[2];case 2:return qe=$f(Me,Ee),this.path(qe),this.ctx.fillStyle=Cn(U),this.ctx.fill(),At=md(Me,Ee),this.path(At),this.ctx.fill(),[2]}})})},T.prototype.renderNodeBackgroundAndBorders=function(U){return i(this,void 0,void 0,function(){var H,Ee,Me,qe,At,ft,Gt,qt,lr=this;return c(this,function(Ir){switch(Ir.label){case 0:return this.applyEffects(U.getEffects(2)),H=U.container.styles,Ee=!wa(H.backgroundColor)||H.backgroundImage.length,Me=[{style:H.borderTopStyle,color:H.borderTopColor,width:H.borderTopWidth},{style:H.borderRightStyle,color:H.borderRightColor,width:H.borderRightWidth},{style:H.borderBottomStyle,color:H.borderBottomColor,width:H.borderBottomWidth},{style:H.borderLeftStyle,color:H.borderLeftColor,width:H.borderLeftWidth}],qe=sh(_u(H.backgroundClip,0),U.curves),Ee||H.boxShadow.length?(this.ctx.save(),this.path(qe),this.ctx.clip(),wa(H.backgroundColor)||(this.ctx.fillStyle=Cn(H.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(U.container)]):[3,2];case 1:Ir.sent(),this.ctx.restore(),H.boxShadow.slice(0).reverse().forEach(function(yn){lr.ctx.save();var nn=Gn(U.curves),gn=yn.inset?0:Gf,Za=_A(nn,-gn+(yn.inset?1:-1)*yn.spread.number,(yn.inset?1:-1)*yn.spread.number,yn.spread.number*(yn.inset?-2:2),yn.spread.number*(yn.inset?-2:2));yn.inset?(lr.path(nn),lr.ctx.clip(),lr.mask(Za)):(lr.mask(nn),lr.ctx.clip(),lr.path(Za)),lr.ctx.shadowOffsetX=yn.offsetX.number+gn,lr.ctx.shadowOffsetY=yn.offsetY.number,lr.ctx.shadowColor=Cn(yn.color),lr.ctx.shadowBlur=yn.blur.number,lr.ctx.fillStyle=yn.inset?Cn(yn.color):"rgba(0,0,0,1)",lr.ctx.fill(),lr.ctx.restore()}),Ir.label=2;case 2:At=0,ft=0,Gt=Me,Ir.label=3;case 3:return ft<Gt.length?(qt=Gt[ft],qt.style!==0&&!wa(qt.color)&&qt.width>0?qt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(qt.color,qt.width,At,U.curves,2)]:[3,11]):[3,13];case 4:return Ir.sent(),[3,11];case 5:return qt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(qt.color,qt.width,At,U.curves,3)];case 6:return Ir.sent(),[3,11];case 7:return qt.style!==4?[3,9]:[4,this.renderDoubleBorder(qt.color,qt.width,At,U.curves)];case 8:return Ir.sent(),[3,11];case 9:return[4,this.renderSolidBorder(qt.color,At,U.curves)];case 10:Ir.sent(),Ir.label=11;case 11:At++,Ir.label=12;case 12:return ft++,[3,3];case 13:return[2]}})})},T.prototype.renderDashedDottedBorder=function(U,H,Ee,Me,qe){return i(this,void 0,void 0,function(){var At,ft,Gt,qt,lr,Ir,yn,nn,gn,Za,Kn,Un,Gs,as,Qa,En,Qa,En;return c(this,function(Ts){return this.ctx.save(),At=of(Me,Ee),ft=sf(Me,Ee),qe===2&&(this.path(ft),this.ctx.clip()),Li(ft[0])?(Gt=ft[0].start.x,qt=ft[0].start.y):(Gt=ft[0].x,qt=ft[0].y),Li(ft[1])?(lr=ft[1].end.x,Ir=ft[1].end.y):(lr=ft[1].x,Ir=ft[1].y),Ee===0||Ee===2?yn=Math.abs(Gt-lr):yn=Math.abs(qt-Ir),this.ctx.beginPath(),qe===3?this.formatPath(At):this.formatPath(ft.slice(0,2)),nn=H<3?H*3:H*2,gn=H<3?H*2:H,qe===3&&(nn=H,gn=H),Za=!0,yn<=nn*2?Za=!1:yn<=nn*2+gn?(Kn=yn/(2*nn+gn),nn*=Kn,gn*=Kn):(Un=Math.floor((yn+gn)/(nn+gn)),Gs=(yn-Un*nn)/(Un-1),as=(yn-(Un+1)*nn)/Un,gn=as<=0||Math.abs(gn-Gs)<Math.abs(gn-as)?Gs:as),Za&&(qe===3?this.ctx.setLineDash([0,nn+gn]):this.ctx.setLineDash([nn,gn])),qe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=H):this.ctx.lineWidth=H*2+1.1,this.ctx.strokeStyle=Cn(U),this.ctx.stroke(),this.ctx.setLineDash([]),qe===2&&(Li(ft[0])&&(Qa=ft[3],En=ft[0],this.ctx.beginPath(),this.formatPath([new tn(Qa.end.x,Qa.end.y),new tn(En.start.x,En.start.y)]),this.ctx.stroke()),Li(ft[1])&&(Qa=ft[1],En=ft[2],this.ctx.beginPath(),this.formatPath([new tn(Qa.end.x,Qa.end.y),new tn(En.start.x,En.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},T.prototype.render=function(U){return i(this,void 0,void 0,function(){var H;return c(this,function(Ee){switch(Ee.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Cn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),H=eu(U),[4,this.renderStack(H)];case 1:return Ee.sent(),this.applyEffects([]),[2,this.canvas]}})})},T})(PA),Kf=function(F){return F instanceof NA||F instanceof Sp?!0:F instanceof pd&&F.type!==rf&&F.type!==tf},sh=function(F,T){switch(F){case 0:return Gn(T);case 2:return zs(T);case 1:default:return Is(T)}},Sh=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},qf=["-apple-system","system-ui"],Eh=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(T){return qf.indexOf(T)===-1}):F},ed=(function(F){a(T,F);function T(U,H){var Ee=F.call(this,U,H)||this;return Ee.canvas=H.canvas?H.canvas:document.createElement("canvas"),Ee.ctx=Ee.canvas.getContext("2d"),Ee.options=H,Ee.canvas.width=Math.floor(H.width*H.scale),Ee.canvas.height=Math.floor(H.height*H.scale),Ee.canvas.style.width=H.width+"px",Ee.canvas.style.height=H.height+"px",Ee.ctx.scale(Ee.options.scale,Ee.options.scale),Ee.ctx.translate(-H.x,-H.y),Ee.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+H.width+"x"+H.height+" at "+H.x+","+H.y+") with scale "+H.scale),Ee}return T.prototype.render=function(U){return i(this,void 0,void 0,function(){var H,Ee;return c(this,function(Me){switch(Me.label){case 0:return H=Jh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,U),[4,Ou(H)];case 1:return Ee=Me.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Cn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Ee,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},T})(PA),Ou=function(F){return new Promise(function(T,U){var H=new Image;H.onload=function(){T(H)},H.onerror=U,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Fu=(function(){function F(T){var U=T.id,H=T.enabled;this.id=U,this.enabled=H,this.start=Date.now()}return F.prototype.debug=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],T))},F.prototype.warn=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.error=function(){for(var T=[],U=0;U<arguments.length;U++)T[U]=arguments[U];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.instances={},F})(),cf=(function(){function F(T,U){var H;this.windowBounds=U,this.instanceName="#"+F.instanceCount++,this.logger=new Fu({id:this.instanceName,enabled:T.logging}),this.cache=(H=T.cache)!==null&&H!==void 0?H:new Ga(this,T)}return F.instanceCount=1,F})(),Xf=function(F,T){return T===void 0&&(T={}),Pu(F,T)};typeof window<"u"&&ms.setContext(window);var Pu=function(F,T){return i(void 0,void 0,void 0,function(){var U,H,Ee,Me,qe,At,ft,Gt,qt,lr,Ir,yn,nn,gn,Za,Kn,Un,Gs,as,Qa,Ts,En,Ts,js,Da,Vo,pc,gd,mi,fl,tu,mc,Wl,Bh,Du,ru,df,nu,ih,Mu;return c(this,function(p){switch(p.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(U=F.ownerDocument,!U)throw new Error("Element is not attached to a Document");if(H=U.defaultView,!H)throw new Error("Document is not attached to a Window");return Ee={allowTaint:(js=T.allowTaint)!==null&&js!==void 0?js:!1,imageTimeout:(Da=T.imageTimeout)!==null&&Da!==void 0?Da:15e3,proxy:T.proxy,useCORS:(Vo=T.useCORS)!==null&&Vo!==void 0?Vo:!1},Me=s({logging:(pc=T.logging)!==null&&pc!==void 0?pc:!0,cache:T.cache},Ee),qe={windowWidth:(gd=T.windowWidth)!==null&&gd!==void 0?gd:H.innerWidth,windowHeight:(mi=T.windowHeight)!==null&&mi!==void 0?mi:H.innerHeight,scrollX:(fl=T.scrollX)!==null&&fl!==void 0?fl:H.pageXOffset,scrollY:(tu=T.scrollY)!==null&&tu!==void 0?tu:H.pageYOffset},At=new d(qe.scrollX,qe.scrollY,qe.windowWidth,qe.windowHeight),ft=new cf(Me,At),Gt=(mc=T.foreignObjectRendering)!==null&&mc!==void 0?mc:!1,qt={allowTaint:(Wl=T.allowTaint)!==null&&Wl!==void 0?Wl:!1,onclone:T.onclone,ignoreElements:T.ignoreElements,inlineImages:Gt,copyStyles:Gt},ft.logger.debug("Starting document clone with size "+At.width+"x"+At.height+" scrolled to "+-At.left+","+-At.top),lr=new Jn(ft,F,qt),Ir=lr.clonedReferenceElement,Ir?[4,lr.toIFrame(U,At)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return yn=p.sent(),nn=TA(Ir)||BA(Ir)?u(Ir.ownerDocument):l(ft,Ir),gn=nn.width,Za=nn.height,Kn=nn.left,Un=nn.top,Gs=$m(ft,Ir,T.backgroundColor),as={canvas:T.canvas,backgroundColor:Gs,scale:(Du=(Bh=T.scale)!==null&&Bh!==void 0?Bh:H.devicePixelRatio)!==null&&Du!==void 0?Du:1,x:((ru=T.x)!==null&&ru!==void 0?ru:0)+Kn,y:((df=T.y)!==null&&df!==void 0?df:0)+Un,width:(nu=T.width)!==null&&nu!==void 0?nu:Math.ceil(gn),height:(ih=T.height)!==null&&ih!==void 0?ih:Math.ceil(Za)},Gt?(ft.logger.debug("Document cloned, using foreign object rendering"),Ts=new ed(ft,as),[4,Ts.render(Ir)]):[3,3];case 2:return Qa=p.sent(),[3,5];case 3:return ft.logger.debug("Document cloned, element located at "+Kn+","+Un+" with size "+gn+"x"+Za+" using computed rendering"),ft.logger.debug("Starting DOM parsing"),En=Rf(ft,Ir),Gs===En.styles.backgroundColor&&(En.styles.backgroundColor=Co.TRANSPARENT),ft.logger.debug("Starting renderer for element at "+as.x+","+as.y+" with size "+as.width+"x"+as.height),Ts=new ah(ft,as),[4,Ts.render(En)];case 4:Qa=p.sent(),p.label=5;case 5:return(!((Mu=T.removeContainer)!==null&&Mu!==void 0)||Mu)&&(Jn.destroy(yn)||ft.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ft.logger.debug("Finished rendering"),[2,Qa]}})})},$m=function(F,T,U){var H=T.ownerDocument,Ee=H.documentElement?Ci(F,getComputedStyle(H.documentElement).backgroundColor):Co.TRANSPARENT,Me=H.body?Ci(F,getComputedStyle(H.body).backgroundColor):Co.TRANSPARENT,qe=typeof U=="string"?Ci(F,U):U===null?Co.TRANSPARENT:4294967295;return T===H.documentElement?wa(Ee)?wa(Me)?qe:Me:Ee:qe};return Xf}))})(Tv)),Tv.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var kk;function wse(){return kk||(kk=1,(function(r,t){(function(a,s){r.exports=s(bse())})(self,function(n){return(function(){var a={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h,f){(f==null||f>h.length)&&(f=h.length);for(var A=0,g=Array(f);A<f;A++)g[A]=h[A];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h){if(Array.isArray(h))return h}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});function u(f,A,g,m,x,y,b){try{var j=f[y](b),S=j.value}catch(w){return void g(w)}j.done?A(S):Promise.resolve(S).then(m,x)}function h(f){return function(){var A=this,g=arguments;return new Promise(function(m,x){var y=f.apply(A,g);function b(S){u(y,m,x,b,j,"next",S)}function j(S){u(y,m,x,b,j,"throw",S)}b(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function h(f,A,g){return(A=(0,u.default)(A))in f?Object.defineProperty(f,A,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[A]=g,f}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h,f){var A=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(A!=null){var g,m,x,y,b=[],j=!0,S=!1;try{if(x=(A=A.call(h)).next,f===0){if(Object(A)!==A)return;j=!1}else for(;!(j=(g=x.call(A)).done)&&(b.push(g.value),b.length!==f);j=!0);}catch(w){S=!0,m=w}finally{try{if(!j&&A.return!=null&&(y=A.return(),Object(y)!==y))return}finally{if(S)throw m}}return b}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return g}});var u=l("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),h=l("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=l("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),A=l("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(m,x){return(0,u.default)(m)||(0,h.default)(m,x)||(0,f.default)(m,x)||(0,A.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js");function h(f,A){if((0,u.default)(f)!="object"||!f)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var m=g.call(f,A||"default");if((0,u.default)(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(f)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return f}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=l("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function f(A){var g=(0,h.default)(A,"string");return(0,u.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return u}});function u(h){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(h)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return h}});var u=l("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function h(f,A){if(f){if(typeof f=="string")return(0,u.default)(f,A);var g={}.toString.call(f).slice(8,-1);return g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set"?Array.from(f):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,u.default)(f,A):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(o,d,l){l.r(d),l.d(d,{AElement:function(){return Tl},AnimateColorElement:function(){return Xi},AnimateElement:function(){return ts},AnimateTransformElement:function(){return Wa},BoundingBox:function(){return Kr},CB1:function(){return te},CB2:function(){return ge},CB3:function(){return pe},CB4:function(){return be},Canvg:function(){return Mo},CircleElement:function(){return ei},ClipPathElement:function(){return ui},DefsElement:function(){return qi},DescElement:function(){return uo},Document:function(){return wi},Element:function(){return Qe},EllipseElement:function(){return Xs},FeColorMatrixElement:function(){return gl},FeCompositeElement:function(){return bi},FeDropShadowElement:function(){return Qs},FeGaussianBlurElement:function(){return Po},FeMorphologyElement:function(){return ji},FilterElement:function(){return zn},Font:function(){return Or},FontElement:function(){return Sc},FontFaceElement:function(){return yi},GElement:function(){return Ps},GlyphElement:function(){return Qr},GradientElement:function(){return ks},ImageElement:function(){return rs},LineElement:function(){return ua},LinearGradientElement:function(){return di},MarkerElement:function(){return Sn},MaskElement:function(){return Fo},Matrix:function(){return yt},MissingGlyphElement:function(){return Il},Mouse:function(){return We},PSEUDO_ZERO:function(){return ie},Parser:function(){return Le},PathElement:function(){return Wr},PathParser:function(){return Hr},PatternElement:function(){return Fi},Point:function(){return Oe},PolygonElement:function(){return ls},PolylineElement:function(){return Zr},Property:function(){return Ae},QB1:function(){return re},QB2:function(){return de},QB3:function(){return Y},RadialGradientElement:function(){return Us},RectElement:function(){return ci},RenderedElement:function(){return Bn},Rotate:function(){return $t},SVGElement:function(){return da},SVGFontLoader:function(){return Yi},Scale:function(){return Ue},Screen:function(){return Fe},Skew:function(){return Tt},SkewX:function(){return Zt},SkewY:function(){return Mr},StopElement:function(){return co},StyleElement:function(){return _o},SymbolElement:function(){return ko},TRefElement:function(){return Ec},TSpanElement:function(){return sn},TextElement:function(){return vn},TextPathElement:function(){return ha},TitleElement:function(){return Ds},Transform:function(){return mr},Translate:function(){return lt},UnknownElement:function(){return Bt},UseElement:function(){return al},ViewPort:function(){return ye},compressSpaces:function(){return j},default:function(){return Mo},getSelectorSpecificity:function(){return q},normalizeAttributeName:function(){return L},normalizeColor:function(){return ne},parseExternalUrl:function(){return Z},presets:function(){return b},toNumbers:function(){return E},trimLeft:function(){return S},trimRight:function(){return w},vectorMagnitude:function(){return J},vectorsAngle:function(){return ce},vectorsRatio:function(){return D}}),l("./node_modules/core-js/modules/es.promise.js");var u=l("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");l("./node_modules/core-js/modules/es.string.match.js"),l("./node_modules/core-js/modules/es.string.replace.js"),l("./node_modules/core-js/modules/es.string.starts-with.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=l("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");l("./node_modules/core-js/modules/es.array.reduce.js"),l("./node_modules/core-js/modules/es.string.ends-with.js"),l("./node_modules/core-js/modules/es.string.split.js");var f=l("./node_modules/raf/index.js");l("./node_modules/core-js/modules/es.string.trim.js");var A=l("./node_modules/rgbcolor/index.js");l("./node_modules/core-js/modules/es.array.index-of.js"),l("./node_modules/core-js/modules/es.string.includes.js"),l("./node_modules/core-js/modules/es.array.reverse.js");var g=l("./node_modules/svg-pathdata/lib/SVGPathData.module.js");l("./node_modules/core-js/modules/es.regexp.to-string.js");var m=l("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:Kt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Kt,createCanvas(fe,ve){return new OffscreenCanvas(fe,ve)},createImage(fe){return(0,u.default)(function*(){var ve=yield fetch(fe),R=yield ve.blob(),W=yield createImageBitmap(R);return W})()}};return(typeof DOMParser<"u"||typeof Kt>"u")&&Reflect.deleteProperty(Q,"DOMParser"),Q}function y(Kt){var{DOMParser:Q,canvas:fe,fetch:ve}=Kt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Q,fetch:ve,createCanvas:fe.createCanvas,createImage:fe.loadImage}}var b=Object.freeze({__proto__:null,offscreen:x,node:y});function j(Kt){return Kt.replace(/(?!\u3000)\s+/gm," ")}function S(Kt){return Kt.replace(/^[\n \t]+/,"")}function w(Kt){return Kt.replace(/[\n \t]+$/,"")}function E(Kt){var Q=(Kt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Q.map(parseFloat)}var I=/^[A-Z-]+$/;function L(Kt){return I.test(Kt)?Kt.toLowerCase():Kt}function Z(Kt){var Q=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Kt)||[];return Q[2]||Q[3]||Q[4]}function ne(Kt){if(!Kt.startsWith("rgb"))return Kt;var Q=3,fe=Kt.replace(/\d+(\.\d+)?/g,(ve,R)=>Q--&&R?String(Math.round(parseFloat(ve))):ve);return fe}var G=/(\[[^\]]+\])/g,le=/(#[^\s+>~.[:]+)/g,V=/(\.[^\s+>~.[:]+)/g,me=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$=/(:[\w-]+\([^)]*\))/gi,X=/(:[^\s+>~.[:]+)/g,Ce=/([^\s+>~.[:]+)/g;function M(Kt,Q){var fe=Q.exec(Kt);return fe?[Kt.replace(Q," "),fe.length]:[Kt,0]}function q(Kt){var Q=[0,0,0],fe=Kt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ve=0;return[fe,ve]=M(fe,G),Q[1]+=ve,[fe,ve]=M(fe,le),Q[0]+=ve,[fe,ve]=M(fe,V),Q[1]+=ve,[fe,ve]=M(fe,me),Q[2]+=ve,[fe,ve]=M(fe,$),Q[1]+=ve,[fe,ve]=M(fe,X),Q[1]+=ve,fe=fe.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[fe,ve]=M(fe,Ce),Q[2]+=ve,Q.join("")}var ie=1e-8;function J(Kt){return Math.sqrt(Math.pow(Kt[0],2)+Math.pow(Kt[1],2))}function D(Kt,Q){return(Kt[0]*Q[0]+Kt[1]*Q[1])/(J(Kt)*J(Q))}function ce(Kt,Q){return(Kt[0]*Q[1]<Kt[1]*Q[0]?-1:1)*Math.acos(D(Kt,Q))}function te(Kt){return Kt*Kt*Kt}function ge(Kt){return 3*Kt*Kt*(1-Kt)}function pe(Kt){return 3*Kt*(1-Kt)*(1-Kt)}function be(Kt){return(1-Kt)*(1-Kt)*(1-Kt)}function re(Kt){return Kt*Kt}function de(Kt){return 2*Kt*(1-Kt)}function Y(Kt){return(1-Kt)*(1-Kt)}class Ae{constructor(Q,fe,ve){this.document=Q,this.name=fe,this.value=ve,this.isNormalizedColor=!1}static empty(Q){return new Ae(Q,"EMPTY","")}split(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:fe,name:ve}=this;return j(this.getString()).trim().split(Q).map(R=>new Ae(fe,ve,R))}hasValue(Q){var{value:fe}=this;return fe!==null&&fe!==""&&(Q||fe!==0)&&typeof fe<"u"}isString(Q){var{value:fe}=this,ve=typeof fe=="string";return!ve||!Q?ve:Q.test(fe)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var Q=this.getString();switch(!0){case Q.endsWith("px"):case/^[0-9]+$/.test(Q):return!0;default:return!1}}setValue(Q){return this.value=Q,this}getValue(Q){return typeof Q>"u"||this.hasValue()?this.value:Q}getNumber(Q){if(!this.hasValue())return typeof Q>"u"?0:parseFloat(Q);var{value:fe}=this,ve=parseFloat(fe);return this.isString(/%$/)&&(ve/=100),ve}getString(Q){return typeof Q>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(Q)}getColor(Q){var fe=this.getString(Q);return this.isNormalizedColor||(this.isNormalizedColor=!0,fe=ne(fe),this.value=fe),fe}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ve,R]=typeof Q=="boolean"?[void 0,Q]:[Q],{viewPort:W}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(W.computeSize("x"),W.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(W.computeSize("x"),W.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*W.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*W.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&R):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*W.computeSize(ve);default:{var ue=this.getNumber();return fe&&ue<1?ue*W.computeSize(ve):ue}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var Q=this.getString(),fe=/#([^)'"]+)/.exec(Q);return fe&&(fe=fe[1]),fe||(fe=Q),this.document.definitions[fe]}getFillStyleDefinition(Q,fe){var ve=this.getDefinition();if(!ve)return null;if(typeof ve.createGradient=="function")return ve.createGradient(this.document.ctx,Q,fe);if(typeof ve.createPattern=="function"){if(ve.getHrefAttribute().hasValue()){var R=ve.getAttribute("patternTransform");ve=ve.getHrefAttribute().getDefinition(),R.hasValue()&&ve.getAttribute("patternTransform",!0).setValue(R.value)}return ve.createPattern(this.document.ctx,Q,fe)}return null}getTextBaseline(){return this.hasValue()?Ae.textBaselineMapping[this.getString()]:null}addOpacity(Q){for(var fe=this.getColor(),ve=fe.length,R=0,W=0;W<ve&&(fe[W]===","&&R++,R!==3);W++);if(Q.hasValue()&&this.isString()&&R!==3){var ue=new A(fe);ue.ok&&(ue.alpha=Q.getNumber(),fe=ue.toRGBA())}return new Ae(this.document,this.name,fe)}}Ae.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class ye{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(Q,fe){this.viewPorts.push({width:Q,height:fe})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:Q}=this;return Q[Q.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(Q){return typeof Q=="number"?Q:Q==="x"?this.width:Q==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Oe{constructor(Q,fe){this.x=Q,this.y=fe}static parse(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ve=fe,R=fe]=E(Q);return new Oe(ve,R)}static parseScale(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ve=fe,R=ve]=E(Q);return new Oe(ve,R)}static parsePath(Q){for(var fe=E(Q),ve=fe.length,R=[],W=0;W<ve;W+=2)R.push(new Oe(fe[W],fe[W+1]));return R}angleTo(Q){return Math.atan2(Q.y-this.y,Q.x-this.x)}applyTransform(Q){var{x:fe,y:ve}=this,R=fe*Q[0]+ve*Q[2]+Q[4],W=fe*Q[1]+ve*Q[3]+Q[5];this.x=R,this.y=W}}class We{constructor(Q){this.screen=Q,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:Q,onClick:fe,onMouseMove:ve}=this,R=Q.ctx.canvas;R.onclick=fe,R.onmousemove=ve,this.working=!0}}stop(){if(this.working){var Q=this.screen.ctx.canvas;this.working=!1,Q.onclick=null,Q.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:Q,events:fe,eventElements:ve}=this,{style:R}=Q.ctx.canvas;R&&(R.cursor=""),fe.forEach((W,ue)=>{for(var{run:Be}=W,De=ve[ue];De;)Be(De),De=De.parent}),this.events=[],this.eventElements=[]}}checkPath(Q,fe){if(!(!this.working||!fe)){var{events:ve,eventElements:R}=this;ve.forEach((W,ue)=>{var{x:Be,y:De}=W;!R[ue]&&fe.isPointInPath&&fe.isPointInPath(Be,De)&&(R[ue]=Q)})}}checkBoundingBox(Q,fe){if(!(!this.working||!fe)){var{events:ve,eventElements:R}=this;ve.forEach((W,ue)=>{var{x:Be,y:De}=W;!R[ue]&&fe.isPointInBox(Be,De)&&(R[ue]=Q)})}}mapXY(Q,fe){for(var{window:ve,ctx:R}=this.screen,W=new Oe(Q,fe),ue=R.canvas;ue;)W.x-=ue.offsetLeft,W.y-=ue.offsetTop,ue=ue.offsetParent;return ve.scrollX&&(W.x+=ve.scrollX),ve.scrollY&&(W.y+=ve.scrollY),W}onClick(Q){var{x:fe,y:ve}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onclick",x:fe,y:ve,run(R){R.onClick&&R.onClick()}})}onMouseMove(Q){var{x:fe,y:ve}=this.mapXY(Q.clientX,Q.clientY);this.events.push({type:"onmousemove",x:fe,y:ve,run(R){R.onMouseMove&&R.onMouseMove()}})}}var ae=typeof window<"u"?window:null,ke=typeof fetch<"u"?fetch.bind(void 0):null;class Fe{constructor(Q){var{fetch:fe=ke,window:ve=ae}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=Q,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ye,this.mouse=new We(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ve,this.fetch=fe}wait(Q){this.waits.push(Q)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var Q=this.waits.every(fe=>fe());return Q&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=Q,Q}setDefaults(Q){Q.strokeStyle="rgba(0,0,0,0)",Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=4}setViewBox(Q){var{document:fe,ctx:ve,aspectRatio:R,width:W,desiredWidth:ue,height:Be,desiredHeight:De,minX:Ye=0,minY:dt=0,refX:k,refY:B,clip:P=!1,clipX:K=0,clipY:se=0}=Q,he=j(R).replace(/^defer\s/,""),[Ie,we]=he.split(" "),Ne=Ie||"xMidYMid",Re=we||"meet",Ke=W/ue,at=Be/De,ut=Math.min(Ke,at),Pe=Math.max(Ke,at),Nt=ue,bt=De;Re==="meet"&&(Nt*=ut,bt*=ut),Re==="slice"&&(Nt*=Pe,bt*=Pe);var Et=new Ae(fe,"refX",k),ot=new Ae(fe,"refY",B),Ut=Et.hasValue()&&ot.hasValue();if(Ut&&ve.translate(-ut*Et.getPixels("x"),-ut*ot.getPixels("y")),P){var rr=ut*K,Ot=ut*se;ve.beginPath(),ve.moveTo(rr,Ot),ve.lineTo(W,Ot),ve.lineTo(W,Be),ve.lineTo(rr,Be),ve.closePath(),ve.clip()}if(!Ut){var st=Re==="meet"&&ut===at,Xt=Re==="slice"&&Pe===at,pr=Re==="meet"&&ut===Ke,ar=Re==="slice"&&Pe===Ke;Ne.startsWith("xMid")&&(st||Xt)&&ve.translate(W/2-Nt/2,0),Ne.endsWith("YMid")&&(pr||ar)&&ve.translate(0,Be/2-bt/2),Ne.startsWith("xMax")&&(st||Xt)&&ve.translate(W-Nt,0),Ne.endsWith("YMax")&&(pr||ar)&&ve.translate(0,Be-bt)}switch(!0){case Ne==="none":ve.scale(Ke,at);break;case Re==="meet":ve.scale(ut,ut);break;case Re==="slice":ve.scale(Pe,Pe);break}ve.translate(-Ye,-dt)}start(Q){var{enableRedraw:fe=!1,ignoreMouse:ve=!1,ignoreAnimation:R=!1,ignoreDimensions:W=!1,ignoreClear:ue=!1,forceRedraw:Be,scaleWidth:De,scaleHeight:Ye,offsetX:dt,offsetY:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:B,mouse:P}=this,K=1e3/B;if(this.frameDuration=K,this.readyPromise=new Promise(Ne=>{this.resolveReady=Ne}),this.isReady()&&this.render(Q,W,ue,De,Ye,dt,k),!!fe){var se=Date.now(),he=se,Ie=0,we=()=>{se=Date.now(),Ie=se-he,Ie>=K&&(he=se-Ie%K,this.shouldUpdate(R,Be)&&(this.render(Q,W,ue,De,Ye,dt,k),P.runEvents())),this.intervalId=f(we)};ve||P.start(),this.intervalId=f(we)}}stop(){this.intervalId&&(f.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(Q,fe){if(!Q){var{frameDuration:ve}=this,R=this.animations.reduce((W,ue)=>ue.update(ve)||W,!1);if(R)return!0}return!!(typeof fe=="function"&&fe()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(Q,fe,ve,R,W,ue,Be){var{CLIENT_WIDTH:De,CLIENT_HEIGHT:Ye,viewPort:dt,ctx:k,isFirstRender:B}=this,P=k.canvas;dt.clear(),P.width&&P.height?dt.setCurrent(P.width,P.height):dt.setCurrent(De,Ye);var K=Q.getStyle("width"),se=Q.getStyle("height");!fe&&(B||typeof R!="number"&&typeof W!="number")&&(K.hasValue()&&(P.width=K.getPixels("x"),P.style&&(P.style.width="".concat(P.width,"px"))),se.hasValue()&&(P.height=se.getPixels("y"),P.style&&(P.style.height="".concat(P.height,"px"))));var he=P.clientWidth||P.width,Ie=P.clientHeight||P.height;if(fe&&K.hasValue()&&se.hasValue()&&(he=K.getPixels("x"),Ie=se.getPixels("y")),dt.setCurrent(he,Ie),typeof ue=="number"&&Q.getAttribute("x",!0).setValue(ue),typeof Be=="number"&&Q.getAttribute("y",!0).setValue(Be),typeof R=="number"||typeof W=="number"){var we=E(Q.getAttribute("viewBox").getString()),Ne=0,Re=0;if(typeof R=="number"){var Ke=Q.getStyle("width");Ke.hasValue()?Ne=Ke.getPixels("x")/R:isNaN(we[2])||(Ne=we[2]/R)}if(typeof W=="number"){var at=Q.getStyle("height");at.hasValue()?Re=at.getPixels("y")/W:isNaN(we[3])||(Re=we[3]/W)}Ne||(Ne=Re),Re||(Re=Ne),Q.getAttribute("width",!0).setValue(R),Q.getAttribute("height",!0).setValue(W);var ut=Q.getStyle("transform",!0,!0);ut.setValue("".concat(ut.getString()," scale(").concat(1/Ne,", ").concat(1/Re,")"))}ve||k.clearRect(0,0,he,Ie),Q.render(k),B&&(this.isFirstRender=!1)}}Fe.defaultWindow=ae,Fe.defaultFetch=ke;var{defaultFetch:nt}=Fe,tt=typeof DOMParser<"u"?DOMParser:null;class Le{constructor(){var{fetch:Q=nt,DOMParser:fe=tt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=Q,this.DOMParser=fe}parse(Q){var fe=this;return(0,u.default)(function*(){return Q.startsWith("<")?fe.parseFromString(Q):fe.load(Q)})()}parseFromString(Q){var fe=new this.DOMParser;try{return this.checkDocument(fe.parseFromString(Q,"image/svg+xml"))}catch{return this.checkDocument(fe.parseFromString(Q,"text/xml"))}}checkDocument(Q){var fe=Q.getElementsByTagName("parsererror")[0];if(fe)throw new Error(fe.textContent);return Q}load(Q){var fe=this;return(0,u.default)(function*(){var ve=yield fe.fetch(Q),R=yield ve.text();return fe.parseFromString(R)})()}}class lt{constructor(Q,fe){this.type="translate",this.point=null,this.point=Oe.parse(fe)}apply(Q){var{x:fe,y:ve}=this.point;Q.translate(fe||0,ve||0)}unapply(Q){var{x:fe,y:ve}=this.point;Q.translate(-1*fe||0,-1*ve||0)}applyToPoint(Q){var{x:fe,y:ve}=this.point;Q.applyTransform([1,0,0,1,fe||0,ve||0])}}class $t{constructor(Q,fe,ve){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var R=E(fe);this.angle=new Ae(Q,"angle",R[0]),this.originX=ve[0],this.originY=ve[1],this.cx=R[1]||0,this.cy=R[2]||0}apply(Q){var{cx:fe,cy:ve,originX:R,originY:W,angle:ue}=this,Be=fe+R.getPixels("x"),De=ve+W.getPixels("y");Q.translate(Be,De),Q.rotate(ue.getRadians()),Q.translate(-Be,-De)}unapply(Q){var{cx:fe,cy:ve,originX:R,originY:W,angle:ue}=this,Be=fe+R.getPixels("x"),De=ve+W.getPixels("y");Q.translate(Be,De),Q.rotate(-1*ue.getRadians()),Q.translate(-Be,-De)}applyToPoint(Q){var{cx:fe,cy:ve,angle:R}=this,W=R.getRadians();Q.applyTransform([1,0,0,1,fe||0,ve||0]),Q.applyTransform([Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0]),Q.applyTransform([1,0,0,1,-fe||0,-ve||0])}}class Ue{constructor(Q,fe,ve){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var R=Oe.parseScale(fe);(R.x===0||R.y===0)&&(R.x=ie,R.y=ie),this.scale=R,this.originX=ve[0],this.originY=ve[1]}apply(Q){var{scale:{x:fe,y:ve},originX:R,originY:W}=this,ue=R.getPixels("x"),Be=W.getPixels("y");Q.translate(ue,Be),Q.scale(fe,ve||fe),Q.translate(-ue,-Be)}unapply(Q){var{scale:{x:fe,y:ve},originX:R,originY:W}=this,ue=R.getPixels("x"),Be=W.getPixels("y");Q.translate(ue,Be),Q.scale(1/fe,1/ve||fe),Q.translate(-ue,-Be)}applyToPoint(Q){var{x:fe,y:ve}=this.scale;Q.applyTransform([fe||0,0,0,ve||0,0,0])}}class yt{constructor(Q,fe,ve){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=E(fe),this.originX=ve[0],this.originY=ve[1]}apply(Q){var{originX:fe,originY:ve,matrix:R}=this,W=fe.getPixels("x"),ue=ve.getPixels("y");Q.translate(W,ue),Q.transform(R[0],R[1],R[2],R[3],R[4],R[5]),Q.translate(-W,-ue)}unapply(Q){var{originX:fe,originY:ve,matrix:R}=this,W=R[0],ue=R[2],Be=R[4],De=R[1],Ye=R[3],dt=R[5],k=0,B=0,P=1,K=1/(W*(Ye*P-dt*B)-ue*(De*P-dt*k)+Be*(De*B-Ye*k)),se=fe.getPixels("x"),he=ve.getPixels("y");Q.translate(se,he),Q.transform(K*(Ye*P-dt*B),K*(dt*k-De*P),K*(Be*B-ue*P),K*(W*P-Be*k),K*(ue*dt-Be*Ye),K*(Be*De-W*dt)),Q.translate(-se,-he)}applyToPoint(Q){Q.applyTransform(this.matrix)}}class Tt extends yt{constructor(Q,fe,ve){super(Q,fe,ve),this.type="skew",this.angle=null,this.angle=new Ae(Q,"angle",fe)}}class Zt extends Tt{constructor(Q,fe,ve){super(Q,fe,ve),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Mr extends Tt{constructor(Q,fe,ve){super(Q,fe,ve),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function _t(Kt){return j(Kt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Vt(Kt){var[Q,fe]=Kt.split("(");return[Q.trim(),fe.trim().replace(")","")]}class mr{constructor(Q,fe,ve){this.document=Q,this.transforms=[];var R=_t(fe);R.forEach(W=>{if(W!=="none"){var[ue,Be]=Vt(W),De=mr.transformTypes[ue];typeof De<"u"&&this.transforms.push(new De(this.document,Be,ve))}})}static fromElement(Q,fe){var ve=fe.getStyle("transform",!1,!0),[R,W=R]=fe.getStyle("transform-origin",!1,!0).split(),ue=[R,W];return ve.hasValue()?new mr(Q,ve.getString(),ue):null}apply(Q){for(var{transforms:fe}=this,ve=fe.length,R=0;R<ve;R++)fe[R].apply(Q)}unapply(Q){for(var{transforms:fe}=this,ve=fe.length,R=ve-1;R>=0;R--)fe[R].unapply(Q)}applyToPoint(Q){for(var{transforms:fe}=this,ve=fe.length,R=0;R<ve;R++)fe[R].applyToPoint(Q)}}mr.transformTypes={translate:lt,rotate:$t,scale:Ue,matrix:yt,skewX:Zt,skewY:Mr};class Qe{constructor(Q,fe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=Q,this.node=fe,this.captureTextNodes=ve,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!fe||fe.nodeType!==1)){if(Array.from(fe.attributes).forEach(Be=>{var De=L(Be.nodeName);this.attributes[De]=new Ae(Q,De,Be.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var R=this.getAttribute("style").getString().split(";").map(Be=>Be.trim());R.forEach(Be=>{if(Be){var[De,Ye]=Be.split(":").map(dt=>dt.trim());this.styles[De]=new Ae(Q,De,Ye)}})}var{definitions:W}=Q,ue=this.getAttribute("id");ue.hasValue()&&(W[ue.getString()]||(W[ue.getString()]=this)),Array.from(fe.childNodes).forEach(Be=>{if(Be.nodeType===1)this.addChild(Be);else if(ve&&(Be.nodeType===3||Be.nodeType===4)){var De=Q.createTextNode(Be);De.getText().length>0&&this.addChild(De)}})}}getAttribute(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ve=this.attributes[Q];if(!ve&&fe){var R=new Ae(this.document,Q,"");return this.attributes[Q]=R,R}return ve||Ae.empty(this.document)}getHrefAttribute(){for(var Q in this.attributes)if(Q==="href"||Q.endsWith(":href"))return this.attributes[Q];return Ae.empty(this.document)}getStyle(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=this.styles[Q];if(R)return R;var W=this.getAttribute(Q);if(W!=null&&W.hasValue())return this.styles[Q]=W,W;if(!ve){var{parent:ue}=this;if(ue){var Be=ue.getStyle(Q);if(Be!=null&&Be.hasValue())return Be}}if(fe){var De=new Ae(this.document,Q,"");return this.styles[Q]=De,De}return R||Ae.empty(this.document)}render(Q){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(Q.save(),this.getStyle("mask").hasValue()){var fe=this.getStyle("mask").getDefinition();fe&&(this.applyEffects(Q),fe.apply(Q,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ve=this.getStyle("filter").getDefinition();ve&&(this.applyEffects(Q),ve.apply(Q,this))}else this.setContext(Q),this.renderChildren(Q),this.clearContext(Q);Q.restore()}}setContext(Q){}applyEffects(Q){var fe=mr.fromElement(this.document,this);fe&&fe.apply(Q);var ve=this.getStyle("clip-path",!1,!0);if(ve.hasValue()){var R=ve.getDefinition();R&&R.apply(Q)}}clearContext(Q){}renderChildren(Q){this.children.forEach(fe=>{fe.render(Q)})}addChild(Q){var fe=Q instanceof Qe?Q:this.document.createElement(Q);fe.parent=this,Qe.ignoreChildTypes.includes(fe.type)||this.children.push(fe)}matchesSelector(Q){var fe,{node:ve}=this;if(typeof ve.matches=="function")return ve.matches(Q);var R=(fe=ve.getAttribute)===null||fe===void 0?void 0:fe.call(ve,"class");return!R||R===""?!1:R.split(" ").some(W=>".".concat(W)===Q)}addStylesFromStyleDefinition(){var{styles:Q,stylesSpecificity:fe}=this.document;for(var ve in Q)if(!ve.startsWith("@")&&this.matchesSelector(ve)){var R=Q[ve],W=fe[ve];if(R)for(var ue in R){var Be=this.stylesSpecificity[ue];typeof Be>"u"&&(Be="000"),W>=Be&&(this.styles[ue]=R[ue],this.stylesSpecificity[ue]=W)}}}removeStyles(Q,fe){var ve=fe.reduce((R,W)=>{var ue=Q.getStyle(W);if(!ue.hasValue())return R;var Be=ue.getString();return ue.setValue(""),[...R,[W,Be]]},[]);return ve}restoreStyles(Q,fe){fe.forEach(ve=>{var[R,W]=ve;Q.getStyle(R,!0).setValue(W)})}isFirstChild(){var Q;return((Q=this.parent)===null||Q===void 0?void 0:Q.children.indexOf(this))===0}}Qe.ignoreChildTypes=["title"];class Bt extends Qe{constructor(Q,fe,ve){super(Q,fe,ve)}}function Ge(Kt){var Q=Kt.trim();return/^('|")/.test(Q)?Q:'"'.concat(Q,'"')}function Ft(Kt){return typeof process>"u"?Kt:Kt.trim().split(",").map(Ge).join(",")}function Lt(Kt){if(!Kt)return"";var Q=Kt.trim().toLowerCase();switch(Q){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return Q;default:return/^oblique\s+(-|)\d+deg$/.test(Q)?Q:""}}function Dr(Kt){if(!Kt)return"";var Q=Kt.trim().toLowerCase();switch(Q){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return Q;default:return/^[\d.]+$/.test(Q)?Q:""}}class Or{constructor(Q,fe,ve,R,W,ue){var Be=ue?typeof ue=="string"?Or.parse(ue):ue:{};this.fontFamily=W||Be.fontFamily,this.fontSize=R||Be.fontSize,this.fontStyle=Q||Be.fontStyle,this.fontWeight=ve||Be.fontWeight,this.fontVariant=fe||Be.fontVariant}static parse(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=arguments.length>1?arguments[1]:void 0,ve="",R="",W="",ue="",Be="",De=j(Q).trim().split(" "),Ye={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return De.forEach(dt=>{switch(!0){case(!Ye.fontStyle&&Or.styles.includes(dt)):dt!=="inherit"&&(ve=dt),Ye.fontStyle=!0;break;case(!Ye.fontVariant&&Or.variants.includes(dt)):dt!=="inherit"&&(R=dt),Ye.fontStyle=!0,Ye.fontVariant=!0;break;case(!Ye.fontWeight&&Or.weights.includes(dt)):dt!=="inherit"&&(W=dt),Ye.fontStyle=!0,Ye.fontVariant=!0,Ye.fontWeight=!0;break;case!Ye.fontSize:dt!=="inherit"&&([ue]=dt.split("/")),Ye.fontStyle=!0,Ye.fontVariant=!0,Ye.fontWeight=!0,Ye.fontSize=!0;break;default:dt!=="inherit"&&(Be+=dt)}}),new Or(ve,R,W,ue,Be,fe)}toString(){return[Lt(this.fontStyle),this.fontVariant,Dr(this.fontWeight),this.fontSize,Ft(this.fontFamily)].join(" ").trim()}}Or.styles="normal|italic|oblique|inherit",Or.variants="normal|small-caps|inherit",Or.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Kr{constructor(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=Q,this.y1=fe,this.x2=ve,this.y2=R,this.addPoint(Q,fe),this.addPoint(ve,R)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(Q,fe){typeof Q<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof fe<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=fe,this.y2=fe),fe<this.y1&&(this.y1=fe),fe>this.y2&&(this.y2=fe))}addX(Q){this.addPoint(Q,null)}addY(Q){this.addPoint(null,Q)}addBoundingBox(Q){if(Q){var{x1:fe,y1:ve,x2:R,y2:W}=Q;this.addPoint(fe,ve),this.addPoint(R,W)}}sumCubic(Q,fe,ve,R,W){return Math.pow(1-Q,3)*fe+3*Math.pow(1-Q,2)*Q*ve+3*(1-Q)*Math.pow(Q,2)*R+Math.pow(Q,3)*W}bezierCurveAdd(Q,fe,ve,R,W){var ue=6*fe-12*ve+6*R,Be=-3*fe+9*ve-9*R+3*W,De=3*ve-3*fe;if(Be===0){if(ue===0)return;var Ye=-De/ue;0<Ye&&Ye<1&&(Q?this.addX(this.sumCubic(Ye,fe,ve,R,W)):this.addY(this.sumCubic(Ye,fe,ve,R,W)));return}var dt=Math.pow(ue,2)-4*De*Be;if(!(dt<0)){var k=(-ue+Math.sqrt(dt))/(2*Be);0<k&&k<1&&(Q?this.addX(this.sumCubic(k,fe,ve,R,W)):this.addY(this.sumCubic(k,fe,ve,R,W)));var B=(-ue-Math.sqrt(dt))/(2*Be);0<B&&B<1&&(Q?this.addX(this.sumCubic(B,fe,ve,R,W)):this.addY(this.sumCubic(B,fe,ve,R,W)))}}addBezierCurve(Q,fe,ve,R,W,ue,Be,De){this.addPoint(Q,fe),this.addPoint(Be,De),this.bezierCurveAdd(!0,Q,ve,W,Be),this.bezierCurveAdd(!1,fe,R,ue,De)}addQuadraticCurve(Q,fe,ve,R,W,ue){var Be=Q+.6666666666666666*(ve-Q),De=fe+2/3*(R-fe),Ye=Be+1/3*(W-Q),dt=De+1/3*(ue-fe);this.addBezierCurve(Q,fe,Be,Ye,De,dt,W,ue)}isPointInBox(Q,fe){var{x1:ve,y1:R,x2:W,y2:ue}=this;return ve<=Q&&Q<=W&&R<=fe&&fe<=ue}}class Hr extends g.SVGPathData{constructor(Q){super(Q.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Oe(0,0),this.control=new Oe(0,0),this.current=new Oe(0,0),this.points=[],this.angles=[]}isEnd(){var{i:Q,commands:fe}=this;return Q>=fe.length-1}next(){var Q=this.commands[++this.i];return this.previousCommand=this.command,this.command=Q,Q}getPoint(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ve=new Oe(this.command[Q],this.command[fe]);return this.makeAbsolute(ve)}getAsControlPoint(Q,fe){var ve=this.getPoint(Q,fe);return this.control=ve,ve}getAsCurrentPoint(Q,fe){var ve=this.getPoint(Q,fe);return this.current=ve,ve}getReflectedControlPoint(){var Q=this.previousCommand.type;if(Q!==g.SVGPathData.CURVE_TO&&Q!==g.SVGPathData.SMOOTH_CURVE_TO&&Q!==g.SVGPathData.QUAD_TO&&Q!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:fe,y:ve},control:{x:R,y:W}}=this,ue=new Oe(2*fe-R,2*ve-W);return ue}makeAbsolute(Q){if(this.command.relative){var{x:fe,y:ve}=this.current;Q.x+=fe,Q.y+=ve}return Q}addMarker(Q,fe,ve){var{points:R,angles:W}=this;ve&&W.length>0&&!W[W.length-1]&&(W[W.length-1]=R[R.length-1].angleTo(ve)),this.addMarkerAngle(Q,fe?fe.angleTo(Q):null)}addMarkerAngle(Q,fe){this.points.push(Q),this.angles.push(fe)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:Q}=this,fe=Q.length,ve=0;ve<fe;ve++)if(!Q[ve]){for(var R=ve+1;R<fe;R++)if(Q[R]){Q[ve]=Q[R];break}}return Q}}class Bn extends Qe{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var Q=1,fe=this;fe;){var ve=fe.getStyle("opacity",!1,!0);ve.hasValue(!0)&&(Q*=ve.getNumber()),fe=fe.parent}return Q}setContext(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!fe){var ve=this.getStyle("fill"),R=this.getStyle("fill-opacity"),W=this.getStyle("stroke"),ue=this.getStyle("stroke-opacity");if(ve.isUrlDefinition()){var Be=ve.getFillStyleDefinition(this,R);Be&&(Q.fillStyle=Be)}else if(ve.hasValue()){ve.getString()==="currentColor"&&ve.setValue(this.getStyle("color").getColor());var De=ve.getColor();De!=="inherit"&&(Q.fillStyle=De==="none"?"rgba(0,0,0,0)":De)}if(R.hasValue()){var Ye=new Ae(this.document,"fill",Q.fillStyle).addOpacity(R).getColor();Q.fillStyle=Ye}if(W.isUrlDefinition()){var dt=W.getFillStyleDefinition(this,ue);dt&&(Q.strokeStyle=dt)}else if(W.hasValue()){W.getString()==="currentColor"&&W.setValue(this.getStyle("color").getColor());var k=W.getString();k!=="inherit"&&(Q.strokeStyle=k==="none"?"rgba(0,0,0,0)":k)}if(ue.hasValue()){var B=new Ae(this.document,"stroke",Q.strokeStyle).addOpacity(ue).getString();Q.strokeStyle=B}var P=this.getStyle("stroke-width");if(P.hasValue()){var K=P.getPixels();Q.lineWidth=K||ie}var se=this.getStyle("stroke-linecap"),he=this.getStyle("stroke-linejoin"),Ie=this.getStyle("stroke-miterlimit"),we=this.getStyle("stroke-dasharray"),Ne=this.getStyle("stroke-dashoffset");if(se.hasValue()&&(Q.lineCap=se.getString()),he.hasValue()&&(Q.lineJoin=he.getString()),Ie.hasValue()&&(Q.miterLimit=Ie.getNumber()),we.hasValue()&&we.getString()!=="none"){var Re=E(we.getString());typeof Q.setLineDash<"u"?Q.setLineDash(Re):typeof Q.webkitLineDash<"u"?Q.webkitLineDash=Re:typeof Q.mozDash<"u"&&!(Re.length===1&&Re[0]===0)&&(Q.mozDash=Re);var Ke=Ne.getPixels();typeof Q.lineDashOffset<"u"?Q.lineDashOffset=Ke:typeof Q.webkitLineDashOffset<"u"?Q.webkitLineDashOffset=Ke:typeof Q.mozDashOffset<"u"&&(Q.mozDashOffset=Ke)}}if(this.modifiedEmSizeStack=!1,typeof Q.font<"u"){var at=this.getStyle("font"),ut=this.getStyle("font-style"),Pe=this.getStyle("font-variant"),Nt=this.getStyle("font-weight"),bt=this.getStyle("font-size"),Et=this.getStyle("font-family"),ot=new Or(ut.getString(),Pe.getString(),Nt.getString(),bt.hasValue()?"".concat(bt.getPixels(!0),"px"):"",Et.getString(),Or.parse(at.getString(),Q.font));ut.setValue(ot.fontStyle),Pe.setValue(ot.fontVariant),Nt.setValue(ot.fontWeight),bt.setValue(ot.fontSize),Et.setValue(ot.fontFamily),Q.font=ot.toString(),bt.isPixels()&&(this.document.emSize=bt.getPixels(),this.modifiedEmSizeStack=!0)}fe||(this.applyEffects(Q),Q.globalAlpha=this.calculateOpacity())}clearContext(Q){super.clearContext(Q),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Wr extends Bn{constructor(Q,fe,ve){super(Q,fe,ve),this.type="path",this.pathParser=null,this.pathParser=new Hr(this.getAttribute("d").getString())}path(Q){var{pathParser:fe}=this,ve=new Kr;for(fe.reset(),Q&&Q.beginPath();!fe.isEnd();)switch(fe.next().type){case Hr.MOVE_TO:this.pathM(Q,ve);break;case Hr.LINE_TO:this.pathL(Q,ve);break;case Hr.HORIZ_LINE_TO:this.pathH(Q,ve);break;case Hr.VERT_LINE_TO:this.pathV(Q,ve);break;case Hr.CURVE_TO:this.pathC(Q,ve);break;case Hr.SMOOTH_CURVE_TO:this.pathS(Q,ve);break;case Hr.QUAD_TO:this.pathQ(Q,ve);break;case Hr.SMOOTH_QUAD_TO:this.pathT(Q,ve);break;case Hr.ARC:this.pathA(Q,ve);break;case Hr.CLOSE_PATH:this.pathZ(Q,ve);break}return ve}getBoundingBox(Q){return this.path()}getMarkers(){var{pathParser:Q}=this,fe=Q.getMarkerPoints(),ve=Q.getMarkerAngles(),R=fe.map((W,ue)=>[W,ve[ue]]);return R}renderChildren(Q){this.path(Q),this.document.screen.mouse.checkPath(this,Q);var fe=this.getStyle("fill-rule");Q.fillStyle!==""&&(fe.getString("inherit")!=="inherit"?Q.fill(fe.getString()):Q.fill()),Q.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(Q.save(),Q.setTransform(1,0,0,1,0,0),Q.stroke(),Q.restore()):Q.stroke());var ve=this.getMarkers();if(ve){var R=ve.length-1,W=this.getStyle("marker-start"),ue=this.getStyle("marker-mid"),Be=this.getStyle("marker-end");if(W.isUrlDefinition()){var De=W.getDefinition(),[Ye,dt]=ve[0];De.render(Q,Ye,dt)}if(ue.isUrlDefinition())for(var k=ue.getDefinition(),B=1;B<R;B++){var[P,K]=ve[B];k.render(Q,P,K)}if(Be.isUrlDefinition()){var se=Be.getDefinition(),[he,Ie]=ve[R];se.render(Q,he,Ie)}}}static pathM(Q){var fe=Q.getAsCurrentPoint();return Q.start=Q.current,{point:fe}}pathM(Q,fe){var{pathParser:ve}=this,{point:R}=Wr.pathM(ve),{x:W,y:ue}=R;ve.addMarker(R),fe.addPoint(W,ue),Q&&Q.moveTo(W,ue)}static pathL(Q){var{current:fe}=Q,ve=Q.getAsCurrentPoint();return{current:fe,point:ve}}pathL(Q,fe){var{pathParser:ve}=this,{current:R,point:W}=Wr.pathL(ve),{x:ue,y:Be}=W;ve.addMarker(W,R),fe.addPoint(ue,Be),Q&&Q.lineTo(ue,Be)}static pathH(Q){var{current:fe,command:ve}=Q,R=new Oe((ve.relative?fe.x:0)+ve.x,fe.y);return Q.current=R,{current:fe,point:R}}pathH(Q,fe){var{pathParser:ve}=this,{current:R,point:W}=Wr.pathH(ve),{x:ue,y:Be}=W;ve.addMarker(W,R),fe.addPoint(ue,Be),Q&&Q.lineTo(ue,Be)}static pathV(Q){var{current:fe,command:ve}=Q,R=new Oe(fe.x,(ve.relative?fe.y:0)+ve.y);return Q.current=R,{current:fe,point:R}}pathV(Q,fe){var{pathParser:ve}=this,{current:R,point:W}=Wr.pathV(ve),{x:ue,y:Be}=W;ve.addMarker(W,R),fe.addPoint(ue,Be),Q&&Q.lineTo(ue,Be)}static pathC(Q){var{current:fe}=Q,ve=Q.getPoint("x1","y1"),R=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:fe,point:ve,controlPoint:R,currentPoint:W}}pathC(Q,fe){var{pathParser:ve}=this,{current:R,point:W,controlPoint:ue,currentPoint:Be}=Wr.pathC(ve);ve.addMarker(Be,ue,W),fe.addBezierCurve(R.x,R.y,W.x,W.y,ue.x,ue.y,Be.x,Be.y),Q&&Q.bezierCurveTo(W.x,W.y,ue.x,ue.y,Be.x,Be.y)}static pathS(Q){var{current:fe}=Q,ve=Q.getReflectedControlPoint(),R=Q.getAsControlPoint("x2","y2"),W=Q.getAsCurrentPoint();return{current:fe,point:ve,controlPoint:R,currentPoint:W}}pathS(Q,fe){var{pathParser:ve}=this,{current:R,point:W,controlPoint:ue,currentPoint:Be}=Wr.pathS(ve);ve.addMarker(Be,ue,W),fe.addBezierCurve(R.x,R.y,W.x,W.y,ue.x,ue.y,Be.x,Be.y),Q&&Q.bezierCurveTo(W.x,W.y,ue.x,ue.y,Be.x,Be.y)}static pathQ(Q){var{current:fe}=Q,ve=Q.getAsControlPoint("x1","y1"),R=Q.getAsCurrentPoint();return{current:fe,controlPoint:ve,currentPoint:R}}pathQ(Q,fe){var{pathParser:ve}=this,{current:R,controlPoint:W,currentPoint:ue}=Wr.pathQ(ve);ve.addMarker(ue,W,W),fe.addQuadraticCurve(R.x,R.y,W.x,W.y,ue.x,ue.y),Q&&Q.quadraticCurveTo(W.x,W.y,ue.x,ue.y)}static pathT(Q){var{current:fe}=Q,ve=Q.getReflectedControlPoint();Q.control=ve;var R=Q.getAsCurrentPoint();return{current:fe,controlPoint:ve,currentPoint:R}}pathT(Q,fe){var{pathParser:ve}=this,{current:R,controlPoint:W,currentPoint:ue}=Wr.pathT(ve);ve.addMarker(ue,W,W),fe.addQuadraticCurve(R.x,R.y,W.x,W.y,ue.x,ue.y),Q&&Q.quadraticCurveTo(W.x,W.y,ue.x,ue.y)}static pathA(Q){var{current:fe,command:ve}=Q,{rX:R,rY:W,xRot:ue,lArcFlag:Be,sweepFlag:De}=ve,Ye=ue*(Math.PI/180),dt=Q.getAsCurrentPoint(),k=new Oe(Math.cos(Ye)*(fe.x-dt.x)/2+Math.sin(Ye)*(fe.y-dt.y)/2,-Math.sin(Ye)*(fe.x-dt.x)/2+Math.cos(Ye)*(fe.y-dt.y)/2),B=Math.pow(k.x,2)/Math.pow(R,2)+Math.pow(k.y,2)/Math.pow(W,2);B>1&&(R*=Math.sqrt(B),W*=Math.sqrt(B));var P=(Be===De?-1:1)*Math.sqrt((Math.pow(R,2)*Math.pow(W,2)-Math.pow(R,2)*Math.pow(k.y,2)-Math.pow(W,2)*Math.pow(k.x,2))/(Math.pow(R,2)*Math.pow(k.y,2)+Math.pow(W,2)*Math.pow(k.x,2)));isNaN(P)&&(P=0);var K=new Oe(P*R*k.y/W,P*-W*k.x/R),se=new Oe((fe.x+dt.x)/2+Math.cos(Ye)*K.x-Math.sin(Ye)*K.y,(fe.y+dt.y)/2+Math.sin(Ye)*K.x+Math.cos(Ye)*K.y),he=ce([1,0],[(k.x-K.x)/R,(k.y-K.y)/W]),Ie=[(k.x-K.x)/R,(k.y-K.y)/W],we=[(-k.x-K.x)/R,(-k.y-K.y)/W],Ne=ce(Ie,we);return D(Ie,we)<=-1&&(Ne=Math.PI),D(Ie,we)>=1&&(Ne=0),{currentPoint:dt,rX:R,rY:W,sweepFlag:De,xAxisRotation:Ye,centp:se,a1:he,ad:Ne}}pathA(Q,fe){var{pathParser:ve}=this,{currentPoint:R,rX:W,rY:ue,sweepFlag:Be,xAxisRotation:De,centp:Ye,a1:dt,ad:k}=Wr.pathA(ve),B=1-Be?1:-1,P=dt+B*(k/2),K=new Oe(Ye.x+W*Math.cos(P),Ye.y+ue*Math.sin(P));if(ve.addMarkerAngle(K,P-B*Math.PI/2),ve.addMarkerAngle(R,P-B*Math.PI),fe.addPoint(R.x,R.y),Q&&!isNaN(dt)&&!isNaN(k)){var se=W>ue?W:ue,he=W>ue?1:W/ue,Ie=W>ue?ue/W:1;Q.translate(Ye.x,Ye.y),Q.rotate(De),Q.scale(he,Ie),Q.arc(0,0,se,dt,dt+k,!!(1-Be)),Q.scale(1/he,1/Ie),Q.rotate(-De),Q.translate(-Ye.x,-Ye.y)}}static pathZ(Q){Q.current=Q.start}pathZ(Q,fe){Wr.pathZ(this.pathParser),Q&&fe.x1!==fe.x2&&fe.y1!==fe.y2&&Q.closePath()}}class Qr extends Wr{constructor(Q,fe,ve){super(Q,fe,ve),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class vn extends Bn{constructor(Q,fe,ve){super(Q,fe,new.target===vn?!0:ve),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(Q,fe);var ve=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ve&&(Q.textBaseline=ve)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(Q){if(this.type!=="text")return this.getTElementBoundingBox(Q);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q);var fe=null;return this.children.forEach((ve,R)=>{var W=this.getChildBoundingBox(Q,this,this,R);fe?fe.addBoundingBox(W):fe=W}),fe}getFontSize(){var{document:Q,parent:fe}=this,ve=Or.parse(Q.ctx.font).fontSize,R=fe.getStyle("font-size").getNumber(ve);return R}getTElementBoundingBox(Q){var fe=this.getFontSize();return new Kr(this.x,this.y-fe,this.x+this.measureText(Q),this.y)}getGlyph(Q,fe,ve){var R=fe[ve],W=null;if(Q.isArabic){var ue=fe.length,Be=fe[ve-1],De=fe[ve+1],Ye="isolated";if((ve===0||Be===" ")&&ve<ue-1&&De!==" "&&(Ye="terminal"),ve>0&&Be!==" "&&ve<ue-1&&De!==" "&&(Ye="medial"),ve>0&&Be!==" "&&(ve===ue-1||De===" ")&&(Ye="initial"),typeof Q.glyphs[R]<"u"){var dt=Q.glyphs[R];W=dt instanceof Qr?dt:dt[Ye]}}else W=Q.glyphs[R];return W||(W=Q.missingGlyph),W}getText(){return""}getTextFromNode(Q){var fe=Q||this.node,ve=Array.from(fe.parentNode.childNodes),R=ve.indexOf(fe),W=ve.length-1,ue=j(fe.textContent||"");return R===0&&(ue=S(ue)),R===W&&(ue=w(ue)),ue}renderChildren(Q){if(this.type!=="text"){this.renderTElementChildren(Q);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(Q),this.children.forEach((ve,R)=>{this.renderChild(Q,this,this,R)});var{mouse:fe}=this.document.screen;fe.isWorking()&&fe.checkBoundingBox(this,this.getBoundingBox(Q))}renderTElementChildren(Q){var{document:fe,parent:ve}=this,R=this.getText(),W=ve.getStyle("font-family").getDefinition();if(W){for(var{unitsPerEm:ue}=W.fontFace,Be=Or.parse(fe.ctx.font),De=ve.getStyle("font-size").getNumber(Be.fontSize),Ye=ve.getStyle("font-style").getString(Be.fontStyle),dt=De/ue,k=W.isRTL?R.split("").reverse().join(""):R,B=E(ve.getAttribute("dx").getString()),P=k.length,K=0;K<P;K++){var se=this.getGlyph(W,k,K);Q.translate(this.x,this.y),Q.scale(dt,-dt);var he=Q.lineWidth;Q.lineWidth=Q.lineWidth*ue/De,Ye==="italic"&&Q.transform(1,0,.4,1,0,0),se.render(Q),Ye==="italic"&&Q.transform(1,0,-.4,1,0,0),Q.lineWidth=he,Q.scale(1/dt,-1/dt),Q.translate(-this.x,-this.y),this.x+=De*(se.horizAdvX||W.horizAdvX)/ue,typeof B[K]<"u"&&!isNaN(B[K])&&(this.x+=B[K])}return}var{x:Ie,y:we}=this;Q.fillStyle&&Q.fillText(R,Ie,we),Q.strokeStyle&&Q.strokeText(R,Ie,we)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var Q=this.leafTexts[this.textChunkStart],fe=Q.getStyle("text-anchor").getString("start"),ve=!1,R=0;fe==="start"&&!ve||fe==="end"&&ve?R=Q.x-this.minX:fe==="end"&&!ve||fe==="start"&&ve?R=Q.x-this.maxX:R=Q.x-(this.minX+this.maxX)/2;for(var W=this.textChunkStart;W<this.leafTexts.length;W++)this.leafTexts[W].x+=R;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(Q){this.children.forEach((fe,ve)=>{this.adjustChildCoordinatesRecursiveCore(Q,this,this,ve)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(Q,fe,ve,R){var W=ve.children[R];W.children.length>0?W.children.forEach((ue,Be)=>{fe.adjustChildCoordinatesRecursiveCore(Q,fe,W,Be)}):this.adjustChildCoordinates(Q,fe,ve,R)}adjustChildCoordinates(Q,fe,ve,R){var W=ve.children[R];if(typeof W.measureText!="function")return W;Q.save(),W.setContext(Q,!0);var ue=W.getAttribute("x"),Be=W.getAttribute("y"),De=W.getAttribute("dx"),Ye=W.getAttribute("dy"),dt=W.getStyle("font-family").getDefinition(),k=!!dt&&dt.isRTL;R===0&&(ue.hasValue()||ue.setValue(W.getInheritedAttribute("x")),Be.hasValue()||Be.setValue(W.getInheritedAttribute("y")),De.hasValue()||De.setValue(W.getInheritedAttribute("dx")),Ye.hasValue()||Ye.setValue(W.getInheritedAttribute("dy")));var B=W.measureText(Q);return k&&(fe.x-=B),ue.hasValue()?(fe.applyAnchoring(),W.x=ue.getPixels("x"),De.hasValue()&&(W.x+=De.getPixels("x"))):(De.hasValue()&&(fe.x+=De.getPixels("x")),W.x=fe.x),fe.x=W.x,k||(fe.x+=B),Be.hasValue()?(W.y=Be.getPixels("y"),Ye.hasValue()&&(W.y+=Ye.getPixels("y"))):(Ye.hasValue()&&(fe.y+=Ye.getPixels("y")),W.y=fe.y),fe.y=W.y,fe.leafTexts.push(W),fe.minX=Math.min(fe.minX,W.x,W.x+B),fe.maxX=Math.max(fe.maxX,W.x,W.x+B),W.clearContext(Q),Q.restore(),W}getChildBoundingBox(Q,fe,ve,R){var W=ve.children[R];if(typeof W.getBoundingBox!="function")return null;var ue=W.getBoundingBox(Q);return ue?(W.children.forEach((Be,De)=>{var Ye=fe.getChildBoundingBox(Q,fe,W,De);ue.addBoundingBox(Ye)}),ue):null}renderChild(Q,fe,ve,R){var W=ve.children[R];W.render(Q),W.children.forEach((ue,Be)=>{fe.renderChild(Q,fe,W,Be)})}measureText(Q){var{measureCache:fe}=this;if(~fe)return fe;var ve=this.getText(),R=this.measureTargetText(Q,ve);return this.measureCache=R,R}measureTargetText(Q,fe){if(!fe.length)return 0;var{parent:ve}=this,R=ve.getStyle("font-family").getDefinition();if(R){for(var W=this.getFontSize(),ue=R.isRTL?fe.split("").reverse().join(""):fe,Be=E(ve.getAttribute("dx").getString()),De=ue.length,Ye=0,dt=0;dt<De;dt++){var k=this.getGlyph(R,ue,dt);Ye+=(k.horizAdvX||R.horizAdvX)*W/R.fontFace.unitsPerEm,typeof Be[dt]<"u"&&!isNaN(Be[dt])&&(Ye+=Be[dt])}return Ye}if(!Q.measureText)return fe.length*10;Q.save(),this.setContext(Q,!0);var{width:B}=Q.measureText(fe);return this.clearContext(Q),Q.restore(),B}getInheritedAttribute(Q){for(var fe=this;fe instanceof vn&&fe.isFirstChild();){var ve=fe.parent.getAttribute(Q);if(ve.hasValue(!0))return ve.getValue("0");fe=fe.parent}return null}}class sn extends vn{constructor(Q,fe,ve){super(Q,fe,new.target===sn?!0:ve),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Ln extends sn{constructor(){super(...arguments),this.type="textNode"}}class da extends Bn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(Q){var fe,{document:ve}=this,{screen:R,window:W}=ve,ue=Q.canvas;if(R.setDefaults(Q),ue.style&&typeof Q.font<"u"&&W&&typeof W.getComputedStyle<"u"){Q.font=W.getComputedStyle(ue).getPropertyValue("font");var Be=new Ae(ve,"fontSize",Or.parse(Q.font).fontSize);Be.hasValue()&&(ve.rootEmSize=Be.getPixels("y"),ve.emSize=ve.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:De,height:Ye}=R.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var dt=this.getAttribute("refX"),k=this.getAttribute("refY"),B=this.getAttribute("viewBox"),P=B.hasValue()?E(B.getString()):null,K=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",se=0,he=0,Ie=0,we=0;P&&(se=P[0],he=P[1]),this.root||(De=this.getStyle("width").getPixels("x"),Ye=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Ie=se,we=he,se=0,he=0)),R.viewPort.setCurrent(De,Ye),this.node&&(!this.parent||((fe=this.node.parentNode)===null||fe===void 0?void 0:fe.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(Q),Q.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),P&&(De=P[2],Ye=P[3]),ve.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:R.viewPort.width,desiredWidth:De,height:R.viewPort.height,desiredHeight:Ye,minX:se,minY:he,refX:dt.getValue(),refY:k.getValue(),clip:K,clipX:Ie,clipY:we}),P&&(R.viewPort.removeCurrent(),R.viewPort.setCurrent(De,Ye))}clearContext(Q){super.clearContext(Q),this.document.screen.viewPort.removeCurrent()}resize(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=this.getAttribute("width",!0),W=this.getAttribute("height",!0),ue=this.getAttribute("viewBox"),Be=this.getAttribute("style"),De=R.getNumber(0),Ye=W.getNumber(0);if(ve)if(typeof ve=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ve);else{var dt=this.getAttribute("preserveAspectRatio");dt.hasValue()&&dt.setValue(dt.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(R.setValue(Q),W.setValue(fe),ue.hasValue()||ue.setValue("0 0 ".concat(De||Q," ").concat(Ye||fe)),Be.hasValue()){var k=this.getStyle("width"),B=this.getStyle("height");k.hasValue()&&k.setValue("".concat(Q,"px")),B.hasValue()&&B.setValue("".concat(fe,"px"))}}}class ci extends Wr{constructor(){super(...arguments),this.type="rect"}path(Q){var fe=this.getAttribute("x").getPixels("x"),ve=this.getAttribute("y").getPixels("y"),R=this.getStyle("width",!1,!0).getPixels("x"),W=this.getStyle("height",!1,!0).getPixels("y"),ue=this.getAttribute("rx"),Be=this.getAttribute("ry"),De=ue.getPixels("x"),Ye=Be.getPixels("y");if(ue.hasValue()&&!Be.hasValue()&&(Ye=De),Be.hasValue()&&!ue.hasValue()&&(De=Ye),De=Math.min(De,R/2),Ye=Math.min(Ye,W/2),Q){var dt=4*((Math.sqrt(2)-1)/3);Q.beginPath(),W>0&&R>0&&(Q.moveTo(fe+De,ve),Q.lineTo(fe+R-De,ve),Q.bezierCurveTo(fe+R-De+dt*De,ve,fe+R,ve+Ye-dt*Ye,fe+R,ve+Ye),Q.lineTo(fe+R,ve+W-Ye),Q.bezierCurveTo(fe+R,ve+W-Ye+dt*Ye,fe+R-De+dt*De,ve+W,fe+R-De,ve+W),Q.lineTo(fe+De,ve+W),Q.bezierCurveTo(fe+De-dt*De,ve+W,fe,ve+W-Ye+dt*Ye,fe,ve+W-Ye),Q.lineTo(fe,ve+Ye),Q.bezierCurveTo(fe,ve+Ye-dt*Ye,fe+De-dt*De,ve,fe+De,ve),Q.closePath())}return new Kr(fe,ve,fe+R,ve+W)}getMarkers(){return null}}class ei extends Wr{constructor(){super(...arguments),this.type="circle"}path(Q){var fe=this.getAttribute("cx").getPixels("x"),ve=this.getAttribute("cy").getPixels("y"),R=this.getAttribute("r").getPixels();return Q&&R>0&&(Q.beginPath(),Q.arc(fe,ve,R,0,Math.PI*2,!1),Q.closePath()),new Kr(fe-R,ve-R,fe+R,ve+R)}getMarkers(){return null}}class Xs extends Wr{constructor(){super(...arguments),this.type="ellipse"}path(Q){var fe=4*((Math.sqrt(2)-1)/3),ve=this.getAttribute("rx").getPixels("x"),R=this.getAttribute("ry").getPixels("y"),W=this.getAttribute("cx").getPixels("x"),ue=this.getAttribute("cy").getPixels("y");return Q&&ve>0&&R>0&&(Q.beginPath(),Q.moveTo(W+ve,ue),Q.bezierCurveTo(W+ve,ue+fe*R,W+fe*ve,ue+R,W,ue+R),Q.bezierCurveTo(W-fe*ve,ue+R,W-ve,ue+fe*R,W-ve,ue),Q.bezierCurveTo(W-ve,ue-fe*R,W-fe*ve,ue-R,W,ue-R),Q.bezierCurveTo(W+fe*ve,ue-R,W+ve,ue-fe*R,W+ve,ue),Q.closePath()),new Kr(W-ve,ue-R,W+ve,ue+R)}getMarkers(){return null}}class ua extends Wr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Oe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Oe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(Q){var[{x:fe,y:ve},{x:R,y:W}]=this.getPoints();return Q&&(Q.beginPath(),Q.moveTo(fe,ve),Q.lineTo(R,W)),new Kr(fe,ve,R,W)}getMarkers(){var[Q,fe]=this.getPoints(),ve=Q.angleTo(fe);return[[Q,ve],[fe,ve]]}}class Zr extends Wr{constructor(Q,fe,ve){super(Q,fe,ve),this.type="polyline",this.points=[],this.points=Oe.parsePath(this.getAttribute("points").getString())}path(Q){var{points:fe}=this,[{x:ve,y:R}]=fe,W=new Kr(ve,R);return Q&&(Q.beginPath(),Q.moveTo(ve,R)),fe.forEach(ue=>{var{x:Be,y:De}=ue;W.addPoint(Be,De),Q&&Q.lineTo(Be,De)}),W}getMarkers(){var{points:Q}=this,fe=Q.length-1,ve=[];return Q.forEach((R,W)=>{W!==fe&&ve.push([R,R.angleTo(Q[W+1])])}),ve.length>0&&ve.push([Q[Q.length-1],ve[ve.length-1][1]]),ve}}class ls extends Zr{constructor(){super(...arguments),this.type="polygon"}path(Q){var fe=super.path(Q),[{x:ve,y:R}]=this.points;return Q&&(Q.lineTo(ve,R),Q.closePath()),fe}}class Fi extends Qe{constructor(){super(...arguments),this.type="pattern"}createPattern(Q,fe,ve){var R=this.getStyle("width").getPixels("x",!0),W=this.getStyle("height").getPixels("y",!0),ue=new da(this.document,null);ue.attributes.viewBox=new Ae(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ue.attributes.width=new Ae(this.document,"width","".concat(R,"px")),ue.attributes.height=new Ae(this.document,"height","".concat(W,"px")),ue.attributes.transform=new Ae(this.document,"transform",this.getAttribute("patternTransform").getValue()),ue.children=this.children;var Be=this.document.createCanvas(R,W),De=Be.getContext("2d"),Ye=this.getAttribute("x"),dt=this.getAttribute("y");Ye.hasValue()&&dt.hasValue()&&De.translate(Ye.getPixels("x",!0),dt.getPixels("y",!0)),ve.hasValue()?this.styles["fill-opacity"]=ve:Reflect.deleteProperty(this.styles,"fill-opacity");for(var k=-1;k<=1;k++)for(var B=-1;B<=1;B++)De.save(),ue.attributes.x=new Ae(this.document,"x",k*Be.width),ue.attributes.y=new Ae(this.document,"y",B*Be.height),ue.render(De),De.restore();var P=Q.createPattern(Be,"repeat");return P}}class Sn extends Qe{constructor(){super(...arguments),this.type="marker"}render(Q,fe,ve){if(fe){var{x:R,y:W}=fe,ue=this.getAttribute("orient").getString("auto"),Be=this.getAttribute("markerUnits").getString("strokeWidth");Q.translate(R,W),ue==="auto"&&Q.rotate(ve),Be==="strokeWidth"&&Q.scale(Q.lineWidth,Q.lineWidth),Q.save();var De=new da(this.document,null);De.type=this.type,De.attributes.viewBox=new Ae(this.document,"viewBox",this.getAttribute("viewBox").getValue()),De.attributes.refX=new Ae(this.document,"refX",this.getAttribute("refX").getValue()),De.attributes.refY=new Ae(this.document,"refY",this.getAttribute("refY").getValue()),De.attributes.width=new Ae(this.document,"width",this.getAttribute("markerWidth").getValue()),De.attributes.height=new Ae(this.document,"height",this.getAttribute("markerHeight").getValue()),De.attributes.overflow=new Ae(this.document,"overflow",this.getAttribute("overflow").getValue()),De.attributes.fill=new Ae(this.document,"fill",this.getAttribute("fill").getColor("black")),De.attributes.stroke=new Ae(this.document,"stroke",this.getAttribute("stroke").getValue("none")),De.children=this.children,De.render(Q),Q.restore(),Be==="strokeWidth"&&Q.scale(1/Q.lineWidth,1/Q.lineWidth),ue==="auto"&&Q.rotate(-ve),Q.translate(-R,-W)}}}class qi extends Qe{constructor(){super(...arguments),this.type="defs"}render(){}}class Ps extends Bn{constructor(){super(...arguments),this.type="g"}getBoundingBox(Q){var fe=new Kr;return this.children.forEach(ve=>{fe.addBoundingBox(ve.getBoundingBox(Q))}),fe}}class ks extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:R,children:W}=this;W.forEach(ue=>{ue.type==="stop"&&R.push(ue)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(Q,fe,ve){var R=this;this.getHrefAttribute().hasValue()&&(R=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(R));var{stops:W}=R,ue=this.getGradient(Q,fe);if(!ue)return this.addParentOpacity(ve,W[W.length-1].color);if(W.forEach(he=>{ue.addColorStop(he.offset,this.addParentOpacity(ve,he.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:Be}=this,{MAX_VIRTUAL_PIXELS:De,viewPort:Ye}=Be.screen,[dt]=Ye.viewPorts,k=new ci(Be,null);k.attributes.x=new Ae(Be,"x",-De/3),k.attributes.y=new Ae(Be,"y",-De/3),k.attributes.width=new Ae(Be,"width",De),k.attributes.height=new Ae(Be,"height",De);var B=new Ps(Be,null);B.attributes.transform=new Ae(Be,"transform",this.getAttribute("gradientTransform").getValue()),B.children=[k];var P=new da(Be,null);P.attributes.x=new Ae(Be,"x",0),P.attributes.y=new Ae(Be,"y",0),P.attributes.width=new Ae(Be,"width",dt.width),P.attributes.height=new Ae(Be,"height",dt.height),P.children=[B];var K=Be.createCanvas(dt.width,dt.height),se=K.getContext("2d");return se.fillStyle=ue,P.render(se),se.createPattern(K,"no-repeat")}return ue}inheritStopContainer(Q){this.attributesToInherit.forEach(fe=>{!this.getAttribute(fe).hasValue()&&Q.getAttribute(fe).hasValue()&&this.getAttribute(fe,!0).setValue(Q.getAttribute(fe).getValue())})}addParentOpacity(Q,fe){if(Q.hasValue()){var ve=new Ae(this.document,"color",fe);return ve.addOpacity(Q).getColor()}return fe}}class di extends ks{constructor(Q,fe,ve){super(Q,fe,ve),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(Q,fe){var ve=this.getGradientUnits()==="objectBoundingBox",R=ve?fe.getBoundingBox(Q):null;if(ve&&!R)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var W=ve?R.x+R.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),ue=ve?R.y+R.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),Be=ve?R.x+R.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),De=ve?R.y+R.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return W===Be&&ue===De?null:Q.createLinearGradient(W,ue,Be,De)}}class Us extends ks{constructor(Q,fe,ve){super(Q,fe,ve),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(Q,fe){var ve=this.getGradientUnits()==="objectBoundingBox",R=fe.getBoundingBox(Q);if(ve&&!R)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var W=ve?R.x+R.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),ue=ve?R.y+R.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),Be=W,De=ue;this.getAttribute("fx").hasValue()&&(Be=ve?R.x+R.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(De=ve?R.y+R.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ye=ve?(R.width+R.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),dt=this.getAttribute("fr").getPixels();return Q.createRadialGradient(Be,De,dt,W,ue,Ye)}}class co extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="stop";var R=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),W=this.getStyle("stop-opacity"),ue=this.getStyle("stop-color",!0);ue.getString()===""&&ue.setValue("#000"),W.hasValue()&&(ue=ue.addOpacity(W)),this.offset=R,this.color=ue.getColor()}}class ts extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,Q.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ae(Q,"values",null);var R=this.getAttribute("values");R.hasValue()&&this.values.setValue(R.getString().split(";"))}getProperty(){var Q=this.getAttribute("attributeType").getString(),fe=this.getAttribute("attributeName").getString();return Q==="CSS"?this.parent.getStyle(fe,!0):this.parent.getAttribute(fe,!0)}calcValue(){var{initialUnits:Q}=this,{progress:fe,from:ve,to:R}=this.getProgress(),W=ve.getNumber()+(R.getNumber()-ve.getNumber())*fe;return Q==="%"&&(W*=100),"".concat(W).concat(Q)}update(Q){var{parent:fe}=this,ve=this.getProperty();if(this.initialValue||(this.initialValue=ve.getString(),this.initialUnits=ve.getUnits()),this.duration>this.maxDuration){var R=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(R==="freeze"&&!this.frozen)this.frozen=!0,fe.animationFrozen=!0,fe.animationFrozenValue=ve.getString();else if(R==="remove"&&!this.removed)return this.removed=!0,ve.setValue(fe.animationFrozen?fe.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=Q;var W=!1;if(this.begin<this.duration){var ue=this.calcValue(),Be=this.getAttribute("type");if(Be.hasValue()){var De=Be.getString();ue="".concat(De,"(").concat(ue,")")}ve.setValue(ue),W=!0}return W}getProgress(){var{document:Q,values:fe}=this,ve={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(fe.hasValue()){var R=ve.progress*(fe.getValue().length-1),W=Math.floor(R),ue=Math.ceil(R);ve.from=new Ae(Q,"from",parseFloat(fe.getValue()[W])),ve.to=new Ae(Q,"to",parseFloat(fe.getValue()[ue])),ve.progress=(R-W)/(ue-W)}else ve.from=this.from,ve.to=this.to;return ve}}class Xi extends ts{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:Q,from:fe,to:ve}=this.getProgress(),R=new A(fe.getColor()),W=new A(ve.getColor());if(R.ok&&W.ok){var ue=R.r+(W.r-R.r)*Q,Be=R.g+(W.g-R.g)*Q,De=R.b+(W.b-R.b)*Q;return"rgb(".concat(Math.floor(ue),", ").concat(Math.floor(Be),", ").concat(Math.floor(De),")")}return this.getAttribute("from").getColor()}}class Wa extends ts{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:Q,from:fe,to:ve}=this.getProgress(),R=E(fe.getString()),W=E(ve.getString()),ue=R.map((Be,De)=>{var Ye=W[De];return Be+(Ye-Be)*Q}).join(" ");return ue}}class Sc extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:R}=Q,{children:W}=this;for(var ue of W)switch(ue.type){case"font-face":{this.fontFace=ue;var Be=ue.getStyle("font-family");Be.hasValue()&&(R[Be.getString()]=this);break}case"missing-glyph":this.missingGlyph=ue;break;case"glyph":{var De=ue;De.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[De.unicode]>"u"&&(this.glyphs[De.unicode]=Object.create(null)),this.glyphs[De.unicode][De.arabicForm]=De):this.glyphs[De.unicode]=De;break}}}render(){}}class yi extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Il extends Wr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Ec extends vn{constructor(){super(...arguments),this.type="tref"}getText(){var Q=this.getHrefAttribute().getDefinition();if(Q){var fe=Q.children[0];if(fe)return fe.getText()}return""}}class Tl extends vn{constructor(Q,fe,ve){super(Q,fe,ve),this.type="a";var{childNodes:R}=fe,W=R[0],ue=R.length>0&&Array.from(R).every(Be=>Be.nodeType===3);this.hasText=ue,this.text=ue?this.getTextFromNode(W):""}getText(){return this.text}renderChildren(Q){if(this.hasText){super.renderChildren(Q);var{document:fe,x:ve,y:R}=this,{mouse:W}=fe.screen,ue=new Ae(fe,"fontSize",Or.parse(fe.ctx.font).fontSize);W.isWorking()&&W.checkBoundingBox(this,new Kr(ve,R-ue.getPixels("y"),ve+this.measureText(Q),R))}else if(this.children.length>0){var Be=new Ps(this.document,null);Be.children=this.children,Be.parent=this,Be.render(Q)}}onClick(){var{window:Q}=this.document;Q&&Q.open(this.getHrefAttribute().getString())}onMouseMove(){var Q=this.document.ctx;Q.canvas.style.cursor="pointer"}}function Hs(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Kt);Q&&(ve=ve.filter(function(R){return Object.getOwnPropertyDescriptor(Kt,R).enumerable})),fe.push.apply(fe,ve)}return fe}function jo(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?Hs(Object(fe),!0).forEach(function(ve){(0,h.default)(Kt,ve,fe[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):Hs(Object(fe)).forEach(function(ve){Object.defineProperty(Kt,ve,Object.getOwnPropertyDescriptor(fe,ve))})}return Kt}class ha extends vn{constructor(Q,fe,ve){super(Q,fe,ve),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var R=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(R)}getText(){return this.text}path(Q){var{dataArray:fe}=this;Q&&Q.beginPath(),fe.forEach(ve=>{var{type:R,points:W}=ve;switch(R){case Hr.LINE_TO:Q&&Q.lineTo(W[0],W[1]);break;case Hr.MOVE_TO:Q&&Q.moveTo(W[0],W[1]);break;case Hr.CURVE_TO:Q&&Q.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case Hr.QUAD_TO:Q&&Q.quadraticCurveTo(W[0],W[1],W[2],W[3]);break;case Hr.ARC:{var[ue,Be,De,Ye,dt,k,B,P]=W,K=De>Ye?De:Ye,se=De>Ye?1:De/Ye,he=De>Ye?Ye/De:1;Q&&(Q.translate(ue,Be),Q.rotate(B),Q.scale(se,he),Q.arc(0,0,K,dt,dt+k,!!(1-P)),Q.scale(1/se,1/he),Q.rotate(-B),Q.translate(-ue,-Be));break}case Hr.CLOSE_PATH:Q&&Q.closePath();break}})}renderChildren(Q){this.setTextData(Q),Q.save();var fe=this.parent.getStyle("text-decoration").getString(),ve=this.getFontSize(),{glyphInfo:R}=this,W=Q.fillStyle;fe==="underline"&&Q.beginPath(),R.forEach((ue,Be)=>{var{p0:De,p1:Ye,rotation:dt,text:k}=ue;Q.save(),Q.translate(De.x,De.y),Q.rotate(dt),Q.fillStyle&&Q.fillText(k,0,0),Q.strokeStyle&&Q.strokeText(k,0,0),Q.restore(),fe==="underline"&&(Be===0&&Q.moveTo(De.x,De.y+ve/8),Q.lineTo(Ye.x,Ye.y+ve/5))}),fe==="underline"&&(Q.lineWidth=ve/20,Q.strokeStyle=W,Q.stroke(),Q.closePath()),Q.restore()}getLetterSpacingAt(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[Q]||0}findSegmentToFitChar(Q,fe,ve,R,W,ue,Be,De,Ye){var dt=ue,k=this.measureText(Q,De);De===" "&&fe==="justify"&&ve<R&&(k+=(R-ve)/W),Ye>-1&&(dt+=this.getLetterSpacingAt(Ye));var B=this.textHeight/20,P=this.getEquidistantPointOnPath(dt,B,0),K=this.getEquidistantPointOnPath(dt+k,B,0),se={p0:P,p1:K},he=P&&K?Math.atan2(K.y-P.y,K.x-P.x):0;if(Be){var Ie=Math.cos(Math.PI/2+he)*Be,we=Math.cos(-he)*Be;se.p0=jo(jo({},P),{},{x:P.x+Ie,y:P.y+we}),se.p1=jo(jo({},K),{},{x:K.x+Ie,y:K.y+we})}return dt+=k,{offset:dt,segment:se,rotation:he}}measureText(Q,fe){var{measuresCache:ve}=this,R=fe||this.getText();if(ve.has(R))return ve.get(R);var W=this.measureTargetText(Q,R);return ve.set(R,W),W}setTextData(Q){if(!this.glyphInfo){var fe=this.getText(),ve=fe.split(""),R=fe.split(" ").length-1,W=this.parent.getAttribute("dx").split().map(Re=>Re.getPixels("x")),ue=this.parent.getAttribute("dy").getPixels("y"),Be=this.parent.getStyle("text-anchor").getString("start"),De=this.getStyle("letter-spacing"),Ye=this.parent.getStyle("letter-spacing"),dt=0;!De.hasValue()||De.getValue()==="inherit"?dt=Ye.getPixels():De.hasValue()&&De.getValue()!=="initial"&&De.getValue()!=="unset"&&(dt=De.getPixels());var k=[],B=fe.length;this.letterSpacingCache=k;for(var P=0;P<B;P++)k.push(typeof W[P]<"u"?W[P]:dt);var K=k.reduce((Re,Ke,at)=>at===0?0:Re+Ke||0,0),se=this.measureText(Q),he=Math.max(se+K,0);this.textWidth=se,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Ie=this.getPathLength(),we=this.getStyle("startOffset").getNumber(0)*Ie,Ne=0;(Be==="middle"||Be==="center")&&(Ne=-he/2),(Be==="end"||Be==="right")&&(Ne=-he),Ne+=we,ve.forEach((Re,Ke)=>{var{offset:at,segment:ut,rotation:Pe}=this.findSegmentToFitChar(Q,Be,he,Ie,R,Ne,ue,Re,Ke);Ne=at,!(!ut.p0||!ut.p1)&&this.glyphInfo.push({text:ve[Ke],p0:ut.p0,p1:ut.p1,rotation:Pe})})}}parsePathData(Q){if(this.pathLength=-1,!Q)return[];var fe=[],{pathParser:ve}=Q;for(ve.reset();!ve.isEnd();){var{current:R}=ve,W=R?R.x:0,ue=R?R.y:0,Be=ve.next(),De=Be.type,Ye=[];switch(Be.type){case Hr.MOVE_TO:this.pathM(ve,Ye);break;case Hr.LINE_TO:De=this.pathL(ve,Ye);break;case Hr.HORIZ_LINE_TO:De=this.pathH(ve,Ye);break;case Hr.VERT_LINE_TO:De=this.pathV(ve,Ye);break;case Hr.CURVE_TO:this.pathC(ve,Ye);break;case Hr.SMOOTH_CURVE_TO:De=this.pathS(ve,Ye);break;case Hr.QUAD_TO:this.pathQ(ve,Ye);break;case Hr.SMOOTH_QUAD_TO:De=this.pathT(ve,Ye);break;case Hr.ARC:Ye=this.pathA(ve);break;case Hr.CLOSE_PATH:Wr.pathZ(ve);break}Be.type!==Hr.CLOSE_PATH?fe.push({type:De,points:Ye,start:{x:W,y:ue},pathLength:this.calcLength(W,ue,De,Ye)}):fe.push({type:Hr.CLOSE_PATH,points:[],pathLength:0})}return fe}pathM(Q,fe){var{x:ve,y:R}=Wr.pathM(Q).point;fe.push(ve,R)}pathL(Q,fe){var{x:ve,y:R}=Wr.pathL(Q).point;return fe.push(ve,R),Hr.LINE_TO}pathH(Q,fe){var{x:ve,y:R}=Wr.pathH(Q).point;return fe.push(ve,R),Hr.LINE_TO}pathV(Q,fe){var{x:ve,y:R}=Wr.pathV(Q).point;return fe.push(ve,R),Hr.LINE_TO}pathC(Q,fe){var{point:ve,controlPoint:R,currentPoint:W}=Wr.pathC(Q);fe.push(ve.x,ve.y,R.x,R.y,W.x,W.y)}pathS(Q,fe){var{point:ve,controlPoint:R,currentPoint:W}=Wr.pathS(Q);return fe.push(ve.x,ve.y,R.x,R.y,W.x,W.y),Hr.CURVE_TO}pathQ(Q,fe){var{controlPoint:ve,currentPoint:R}=Wr.pathQ(Q);fe.push(ve.x,ve.y,R.x,R.y)}pathT(Q,fe){var{controlPoint:ve,currentPoint:R}=Wr.pathT(Q);return fe.push(ve.x,ve.y,R.x,R.y),Hr.QUAD_TO}pathA(Q){var{rX:fe,rY:ve,sweepFlag:R,xAxisRotation:W,centp:ue,a1:Be,ad:De}=Wr.pathA(Q);return R===0&&De>0&&(De-=2*Math.PI),R===1&&De<0&&(De+=2*Math.PI),[ue.x,ue.y,fe,ve,Be,De,W,R]}calcLength(Q,fe,ve,R){var W=0,ue=null,Be=null,De=0;switch(ve){case Hr.LINE_TO:return this.getLineLength(Q,fe,R[0],R[1]);case Hr.CURVE_TO:for(W=0,ue=this.getPointOnCubicBezier(0,Q,fe,R[0],R[1],R[2],R[3],R[4],R[5]),De=.01;De<=1;De+=.01)Be=this.getPointOnCubicBezier(De,Q,fe,R[0],R[1],R[2],R[3],R[4],R[5]),W+=this.getLineLength(ue.x,ue.y,Be.x,Be.y),ue=Be;return W;case Hr.QUAD_TO:for(W=0,ue=this.getPointOnQuadraticBezier(0,Q,fe,R[0],R[1],R[2],R[3]),De=.01;De<=1;De+=.01)Be=this.getPointOnQuadraticBezier(De,Q,fe,R[0],R[1],R[2],R[3]),W+=this.getLineLength(ue.x,ue.y,Be.x,Be.y),ue=Be;return W;case Hr.ARC:{W=0;var Ye=R[4],dt=R[5],k=R[4]+dt,B=Math.PI/180;if(Math.abs(Ye-k)<B&&(B=Math.abs(Ye-k)),ue=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],Ye,0),dt<0)for(De=Ye-B;De>k;De-=B)Be=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],De,0),W+=this.getLineLength(ue.x,ue.y,Be.x,Be.y),ue=Be;else for(De=Ye+B;De<k;De+=B)Be=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],De,0),W+=this.getLineLength(ue.x,ue.y,Be.x,Be.y),ue=Be;return Be=this.getPointOnEllipticalArc(R[0],R[1],R[2],R[3],k,0),W+=this.getLineLength(ue.x,ue.y,Be.x,Be.y),W}}return 0}getPointOnLine(Q,fe,ve,R,W){var ue=arguments.length>5&&arguments[5]!==void 0?arguments[5]:fe,Be=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ve,De=(W-ve)/(R-fe+ie),Ye=Math.sqrt(Q*Q/(1+De*De));R<fe&&(Ye*=-1);var dt=De*Ye,k=null;if(R===fe)k={x:ue,y:Be+dt};else if((Be-ve)/(ue-fe+ie)===De)k={x:ue+Ye,y:Be+dt};else{var B=0,P=0,K=this.getLineLength(fe,ve,R,W);if(K<ie)return null;var se=(ue-fe)*(R-fe)+(Be-ve)*(W-ve);se/=K*K,B=fe+se*(R-fe),P=ve+se*(W-ve);var he=this.getLineLength(ue,Be,B,P),Ie=Math.sqrt(Q*Q-he*he);Ye=Math.sqrt(Ie*Ie/(1+De*De)),R<fe&&(Ye*=-1),dt=De*Ye,k={x:B+Ye,y:P+dt}}return k}getPointOnPath(Q){var fe=this.getPathLength(),ve=0,R=null;if(Q<-5e-5||Q-5e-5>fe)return null;var{dataArray:W}=this;for(var ue of W){if(ue&&(ue.pathLength<5e-5||ve+ue.pathLength+5e-5<Q)){ve+=ue.pathLength;continue}var Be=Q-ve,De=0;switch(ue.type){case Hr.LINE_TO:R=this.getPointOnLine(Be,ue.start.x,ue.start.y,ue.points[0],ue.points[1],ue.start.x,ue.start.y);break;case Hr.ARC:{var Ye=ue.points[4],dt=ue.points[5],k=ue.points[4]+dt;if(De=Ye+Be/ue.pathLength*dt,dt<0&&De<k||dt>=0&&De>k)break;R=this.getPointOnEllipticalArc(ue.points[0],ue.points[1],ue.points[2],ue.points[3],De,ue.points[6]);break}case Hr.CURVE_TO:De=Be/ue.pathLength,De>1&&(De=1),R=this.getPointOnCubicBezier(De,ue.start.x,ue.start.y,ue.points[0],ue.points[1],ue.points[2],ue.points[3],ue.points[4],ue.points[5]);break;case Hr.QUAD_TO:De=Be/ue.pathLength,De>1&&(De=1),R=this.getPointOnQuadraticBezier(De,ue.start.x,ue.start.y,ue.points[0],ue.points[1],ue.points[2],ue.points[3]);break}if(R)return R;break}return null}getLineLength(Q,fe,ve,R){return Math.sqrt((ve-Q)*(ve-Q)+(R-fe)*(R-fe))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((Q,fe)=>fe.pathLength>0?Q+fe.pathLength:Q,0)),this.pathLength}getPointOnCubicBezier(Q,fe,ve,R,W,ue,Be,De,Ye){var dt=De*te(Q)+ue*ge(Q)+R*pe(Q)+fe*be(Q),k=Ye*te(Q)+Be*ge(Q)+W*pe(Q)+ve*be(Q);return{x:dt,y:k}}getPointOnQuadraticBezier(Q,fe,ve,R,W,ue,Be){var De=ue*re(Q)+R*de(Q)+fe*Y(Q),Ye=Be*re(Q)+W*de(Q)+ve*Y(Q);return{x:De,y:Ye}}getPointOnEllipticalArc(Q,fe,ve,R,W,ue){var Be=Math.cos(ue),De=Math.sin(ue),Ye={x:ve*Math.cos(W),y:R*Math.sin(W)};return{x:Q+(Ye.x*Be-Ye.y*De),y:fe+(Ye.x*De+Ye.y*Be)}}buildEquidistantCache(Q,fe){var ve=this.getPathLength(),R=fe||.25,W=Q||ve/100;if(!this.equidistantCache||this.equidistantCache.step!==W||this.equidistantCache.precision!==R){this.equidistantCache={step:W,precision:R,points:[]};for(var ue=0,Be=0;Be<=ve;Be+=R){var De=this.getPointOnPath(Be),Ye=this.getPointOnPath(Be+R);!De||!Ye||(ue+=this.getLineLength(De.x,De.y,Ye.x,Ye.y),ue>=W&&(this.equidistantCache.points.push({x:De.x,y:De.y,distance:Be}),ue-=W))}}}getEquidistantPointOnPath(Q,fe,ve){if(this.buildEquidistantCache(fe,ve),Q<0||Q-this.getPathLength()>5e-5)return null;var R=Math.round(Q/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[R]||null}}var ec=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class rs extends Bn{constructor(Q,fe,ve){super(Q,fe,ve),this.type="image",this.loaded=!1;var R=this.getHrefAttribute().getString();if(R){var W=R.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(R);Q.images.push(this),W?this.loadSvg(R):this.loadImage(R),this.isSvg=W}}loadImage(Q){var fe=this;return(0,u.default)(function*(){try{var ve=yield fe.document.createImage(Q);fe.image=ve}catch(R){console.error('Error while loading image "'.concat(Q,'":'),R)}fe.loaded=!0})()}loadSvg(Q){var fe=this;return(0,u.default)(function*(){var ve=ec.exec(Q);if(ve){var R=ve[5];ve[4]==="base64"?fe.image=atob(R):fe.image=decodeURIComponent(R)}else try{var W=yield fe.document.fetch(Q),ue=yield W.text();fe.image=ue}catch(Be){console.error('Error while loading image "'.concat(Q,'":'),Be)}fe.loaded=!0})()}renderChildren(Q){var{document:fe,image:ve,loaded:R}=this,W=this.getAttribute("x").getPixels("x"),ue=this.getAttribute("y").getPixels("y"),Be=this.getStyle("width").getPixels("x"),De=this.getStyle("height").getPixels("y");if(!(!R||!ve||!Be||!De)){if(Q.save(),Q.translate(W,ue),this.isSvg){var Ye=fe.canvg.forkString(Q,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:Be,scaleHeight:De});Ye.document.documentElement.parent=this,Ye.render()}else{var dt=this.image;fe.setViewBox({ctx:Q,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:Be,desiredWidth:dt.width,height:De,desiredHeight:dt.height}),this.loaded&&(typeof dt.complete>"u"||dt.complete)&&Q.drawImage(dt,0,0)}Q.restore()}}getBoundingBox(){var Q=this.getAttribute("x").getPixels("x"),fe=this.getAttribute("y").getPixels("y"),ve=this.getStyle("width").getPixels("x"),R=this.getStyle("height").getPixels("y");return new Kr(Q,fe,Q+ve,fe+R)}}class ko extends Bn{constructor(){super(...arguments),this.type="symbol"}render(Q){}}class Yi{constructor(Q){this.document=Q,this.loaded=!1,Q.fonts.push(this)}load(Q,fe){var ve=this;return(0,u.default)(function*(){try{var{document:R}=ve,W=yield R.canvg.parser.load(fe),ue=W.getElementsByTagName("font");Array.from(ue).forEach(Be=>{var De=R.createElement(Be);R.definitions[Q]=De})}catch(Be){console.error('Error while loading font "'.concat(fe,'":'),Be)}ve.loaded=!0})()}}class _o extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="style";var R=j(Array.from(fe.childNodes).map(ue=>ue.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),W=R.split("}");W.forEach(ue=>{var Be=ue.trim();if(Be){var De=Be.split("{"),Ye=De[0].split(","),dt=De[1].split(";");Ye.forEach(k=>{var B=k.trim();if(B){var P=Q.styles[B]||{};if(dt.forEach(he=>{var Ie=he.indexOf(":"),we=he.substr(0,Ie).trim(),Ne=he.substr(Ie+1,he.length-Ie).trim();we&&Ne&&(P[we]=new Ae(Q,we,Ne))}),Q.styles[B]=P,Q.stylesSpecificity[B]=q(B),B==="@font-face"){var K=P["font-family"].getString().replace(/"|'/g,""),se=P.src.getString().split(",");se.forEach(he=>{if(he.indexOf('format("svg")')>0){var Ie=Z(he);Ie&&new Yi(Q).load(K,Ie)}})}}})}})}}_o.parseExternalUrl=Z;class al extends Bn{constructor(){super(...arguments),this.type="use"}setContext(Q){super.setContext(Q);var fe=this.getAttribute("x"),ve=this.getAttribute("y");fe.hasValue()&&Q.translate(fe.getPixels("x"),0),ve.hasValue()&&Q.translate(0,ve.getPixels("y"))}path(Q){var{element:fe}=this;fe&&fe.path(Q)}renderChildren(Q){var{document:fe,element:ve}=this;if(ve){var R=ve;if(ve.type==="symbol"&&(R=new da(fe,null),R.attributes.viewBox=new Ae(fe,"viewBox",ve.getAttribute("viewBox").getString()),R.attributes.preserveAspectRatio=new Ae(fe,"preserveAspectRatio",ve.getAttribute("preserveAspectRatio").getString()),R.attributes.overflow=new Ae(fe,"overflow",ve.getAttribute("overflow").getString()),R.children=ve.children,ve.styles.opacity=new Ae(fe,"opacity",this.calculateOpacity())),R.type==="svg"){var W=this.getStyle("width",!1,!0),ue=this.getStyle("height",!1,!0);W.hasValue()&&(R.attributes.width=new Ae(fe,"width",W.getString())),ue.hasValue()&&(R.attributes.height=new Ae(fe,"height",ue.getString()))}var Be=R.parent;R.parent=this,R.render(Q),R.parent=Be}}getBoundingBox(Q){var{element:fe}=this;return fe?fe.getBoundingBox(Q):null}elementTransform(){var{document:Q,element:fe}=this;return mr.fromElement(Q,fe)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Oo(Kt,Q,fe,ve,R,W){return Kt[fe*ve*4+Q*4+W]}function Wi(Kt,Q,fe,ve,R,W,ue){Kt[fe*ve*4+Q*4+W]=ue}function ws(Kt,Q,fe){var ve=Kt[Q];return ve*fe}function ns(Kt,Q,fe,ve){return Q+Math.cos(Kt)*fe+Math.sin(Kt)*ve}class gl extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="feColorMatrix";var R=E(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var W=R[0];R=[.213+.787*W,.715-.715*W,.072-.072*W,0,0,.213-.213*W,.715+.285*W,.072-.072*W,0,0,.213-.213*W,.715-.715*W,.072+.928*W,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var ue=R[0]*Math.PI/180;R=[ns(ue,.213,.787,-.213),ns(ue,.715,-.715,-.715),ns(ue,.072,-.072,.928),0,0,ns(ue,.213,-.213,.143),ns(ue,.715,.285,.14),ns(ue,.072,-.072,-.283),0,0,ns(ue,.213,-.213,-.787),ns(ue,.715,-.715,.715),ns(ue,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=R,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(Q,fe,ve,R,W){for(var{includeOpacity:ue,matrix:Be}=this,De=Q.getImageData(0,0,R,W),Ye=0;Ye<W;Ye++)for(var dt=0;dt<R;dt++){var k=Oo(De.data,dt,Ye,R,W,0),B=Oo(De.data,dt,Ye,R,W,1),P=Oo(De.data,dt,Ye,R,W,2),K=Oo(De.data,dt,Ye,R,W,3),se=ws(Be,0,k)+ws(Be,1,B)+ws(Be,2,P)+ws(Be,3,K)+ws(Be,4,1),he=ws(Be,5,k)+ws(Be,6,B)+ws(Be,7,P)+ws(Be,8,K)+ws(Be,9,1),Ie=ws(Be,10,k)+ws(Be,11,B)+ws(Be,12,P)+ws(Be,13,K)+ws(Be,14,1),we=ws(Be,15,k)+ws(Be,16,B)+ws(Be,17,P)+ws(Be,18,K)+ws(Be,19,1);ue&&(se=0,he=0,Ie=0,we*=K/255),Wi(De.data,dt,Ye,R,W,0,se),Wi(De.data,dt,Ye,R,W,1,he),Wi(De.data,dt,Ye,R,W,2,Ie),Wi(De.data,dt,Ye,R,W,3,we)}Q.clearRect(0,0,R,W),Q.putImageData(De,0,0)}}class Fo extends Qe{constructor(){super(...arguments),this.type="mask"}apply(Q,fe){var{document:ve}=this,R=this.getAttribute("x").getPixels("x"),W=this.getAttribute("y").getPixels("y"),ue=this.getStyle("width").getPixels("x"),Be=this.getStyle("height").getPixels("y");if(!ue&&!Be){var De=new Kr;this.children.forEach(K=>{De.addBoundingBox(K.getBoundingBox(Q))}),R=Math.floor(De.x1),W=Math.floor(De.y1),ue=Math.floor(De.width),Be=Math.floor(De.height)}var Ye=this.removeStyles(fe,Fo.ignoreStyles),dt=ve.createCanvas(R+ue,W+Be),k=dt.getContext("2d");ve.screen.setDefaults(k),this.renderChildren(k),new gl(ve,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(k,0,0,R+ue,W+Be);var B=ve.createCanvas(R+ue,W+Be),P=B.getContext("2d");ve.screen.setDefaults(P),fe.render(P),P.globalCompositeOperation="destination-in",P.fillStyle=k.createPattern(dt,"no-repeat"),P.fillRect(0,0,R+ue,W+Be),Q.fillStyle=P.createPattern(B,"no-repeat"),Q.fillRect(0,0,R+ue,W+Be),this.restoreStyles(fe,Ye)}render(Q){}}Fo.ignoreStyles=["mask","transform","clip-path"];var $c=()=>{};class ui extends Qe{constructor(){super(...arguments),this.type="clipPath"}apply(Q){var{document:fe}=this,ve=Reflect.getPrototypeOf(Q),{beginPath:R,closePath:W}=Q;ve&&(ve.beginPath=$c,ve.closePath=$c),Reflect.apply(R,Q,[]),this.children.forEach(ue=>{if(!(typeof ue.path>"u")){var Be=typeof ue.elementTransform<"u"?ue.elementTransform():null;Be||(Be=mr.fromElement(fe,ue)),Be&&Be.apply(Q),ue.path(Q),ve&&(ve.closePath=W),Be&&Be.unapply(Q)}}),Reflect.apply(W,Q,[]),Q.clip(),ve&&(ve.beginPath=R,ve.closePath=W)}render(Q){}}class zn extends Qe{constructor(){super(...arguments),this.type="filter"}apply(Q,fe){var{document:ve,children:R}=this,W=fe.getBoundingBox(Q);if(W){var ue=0,Be=0;R.forEach(Ie=>{var we=Ie.extraFilterDistance||0;ue=Math.max(ue,we),Be=Math.max(Be,we)});var De=Math.floor(W.width),Ye=Math.floor(W.height),dt=De+2*ue,k=Ye+2*Be;if(!(dt<1||k<1)){var B=Math.floor(W.x),P=Math.floor(W.y),K=this.removeStyles(fe,zn.ignoreStyles),se=ve.createCanvas(dt,k),he=se.getContext("2d");ve.screen.setDefaults(he),he.translate(-B+ue,-P+Be),fe.render(he),R.forEach(Ie=>{typeof Ie.apply=="function"&&Ie.apply(he,0,0,dt,k)}),Q.drawImage(se,0,0,dt,k,B-ue,P-Be,dt,k),this.restoreStyles(fe,K)}}}render(Q){}}zn.ignoreStyles=["filter","transform","clip-path"];class Qs extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(Q,fe,ve,R,W){}}class ji extends Qe{constructor(){super(...arguments),this.type="feMorphology"}apply(Q,fe,ve,R,W){}}class bi extends Qe{constructor(){super(...arguments),this.type="feComposite"}apply(Q,fe,ve,R,W){}}class Po extends Qe{constructor(Q,fe,ve){super(Q,fe,ve),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(Q,fe,ve,R,W){var{document:ue,blurRadius:Be}=this,De=ue.window?ue.window.document.body:null,Ye=Q.canvas;Ye.id=ue.getUniqueId(),De&&(Ye.style.display="none",De.appendChild(Ye)),(0,m.canvasRGBA)(Ye,fe,ve,R,W,Be),De&&De.removeChild(Ye)}}class Ds extends Qe{constructor(){super(...arguments),this.type="title"}}class uo extends Qe{constructor(){super(...arguments),this.type="desc"}}var Ys={svg:da,rect:ci,circle:ei,ellipse:Xs,line:ua,polyline:Zr,polygon:ls,path:Wr,pattern:Fi,marker:Sn,defs:qi,linearGradient:di,radialGradient:Us,stop:co,animate:ts,animateColor:Xi,animateTransform:Wa,font:Sc,"font-face":yi,"missing-glyph":Il,glyph:Qr,text:vn,tspan:sn,tref:Ec,a:Tl,textPath:ha,image:rs,g:Ps,symbol:ko,style:_o,use:al,mask:Fo,clipPath:ui,filter:zn,feDropShadow:Qs,feMorphology:ji,feComposite:bi,feColorMatrix:gl,feGaussianBlur:Po,title:Ds,desc:uo};function _s(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Kt);Q&&(ve=ve.filter(function(R){return Object.getOwnPropertyDescriptor(Kt,R).enumerable})),fe.push.apply(fe,ve)}return fe}function bo(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?_s(Object(fe),!0).forEach(function(ve){(0,h.default)(Kt,ve,fe[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):_s(Object(fe)).forEach(function(ve){Object.defineProperty(Kt,ve,Object.getOwnPropertyDescriptor(fe,ve))})}return Kt}function Do(Kt,Q){var fe=document.createElement("canvas");return fe.width=Kt,fe.height=Q,fe}function pa(Kt){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,u.default)(function*(Kt){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fe=document.createElement("img");return Q&&(fe.crossOrigin="Anonymous"),new Promise((ve,R)=>{fe.onload=()=>{ve(fe)},fe.onerror=(W,ue,Be,De,Ye)=>{R(Ye)},fe.src=Kt})}),Ws.apply(this,arguments)}class wi{constructor(Q){var{rootEmSize:fe=12,emSize:ve=12,createCanvas:R=wi.createCanvas,createImage:W=wi.createImage,anonymousCrossOrigin:ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=Q,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=Q.screen,this.rootEmSize=fe,this.emSize=ve,this.createCanvas=R,this.createImage=this.bindCreateImage(W,ue),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(Q,fe){return typeof fe=="boolean"?(ve,R)=>Q(ve,typeof R=="boolean"?R:fe):Q}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:Q}=this;return Q[Q.length-1]}set emSize(Q){var{emSizeStack:fe}=this;fe.push(Q)}popEmSize(){var{emSizeStack:Q}=this;Q.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(Q=>Q.loaded)}isFontsLoaded(){return this.fonts.every(Q=>Q.loaded)}createDocumentElement(Q){var fe=this.createElement(Q.documentElement);return fe.root=!0,fe.addStylesFromStyleDefinition(),this.documentElement=fe,fe}createElement(Q){var fe=Q.nodeName.replace(/^[^:]+:/,""),ve=wi.elementTypes[fe];return typeof ve<"u"?new ve(this,Q):new Bt(this,Q)}createTextNode(Q){return new Ln(this,Q)}setViewBox(Q){this.screen.setViewBox(bo({document:this},Q))}}wi.createCanvas=Do,wi.createImage=pa,wi.elementTypes=Ys;function Ji(Kt,Q){var fe=Object.keys(Kt);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Kt);Q&&(ve=ve.filter(function(R){return Object.getOwnPropertyDescriptor(Kt,R).enumerable})),fe.push.apply(fe,ve)}return fe}function Pi(Kt){for(var Q=1;Q<arguments.length;Q++){var fe=arguments[Q]!=null?arguments[Q]:{};Q%2?Ji(Object(fe),!0).forEach(function(ve){(0,h.default)(Kt,ve,fe[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(fe)):Ji(Object(fe)).forEach(function(ve){Object.defineProperty(Kt,ve,Object.getOwnPropertyDescriptor(fe,ve))})}return Kt}class Mo{constructor(Q,fe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Le(ve),this.screen=new Fe(Q,ve),this.options=ve;var R=new wi(this,ve),W=R.createDocumentElement(fe);this.document=R,this.documentElement=W}static from(Q,fe){var ve=arguments;return(0,u.default)(function*(){var R=ve.length>2&&ve[2]!==void 0?ve[2]:{},W=new Le(R),ue=yield W.parse(fe);return new Mo(Q,ue,R)})()}static fromString(Q,fe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=new Le(ve),W=R.parseFromString(fe);return new Mo(Q,W,ve)}fork(Q,fe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Mo.from(Q,fe,Pi(Pi({},this.options),ve))}forkString(Q,fe){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Mo.fromString(Q,fe,Pi(Pi({},this.options),ve))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var Q=arguments,fe=this;return(0,u.default)(function*(){var ve=Q.length>0&&Q[0]!==void 0?Q[0]:{};fe.start(Pi({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ve)),yield fe.ready(),fe.stop()})()}start(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:fe,screen:ve,options:R}=this;ve.start(fe,Pi(Pi({enableRedraw:!0},R),Q))}stop(){this.screen.stop()}resize(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(Q,fe,ve)}}}),"./node_modules/core-js/internals/a-callable.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-constructor.js"),h=l("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-possible-prototype.js"),h=String,f=TypeError;o.exports=function(A){if(u(A))return A;throw new f("Can't set "+h(A)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/set-helpers.js").has;o.exports=function(h){return u(h),h}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/object-define-property.js").f,A=u("unscopables"),g=Array.prototype;g[A]===void 0&&f(g,A,{configurable:!0,value:h(null)}),o.exports=function(m){g[A][m]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/string-multibyte.js").charAt;o.exports=function(h,f,A){return f+(A?u(h,f).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-is-prototype-of.js"),h=TypeError;o.exports=function(f,A){if(u(A,f))return f;throw new h("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=String,f=TypeError;o.exports=function(A){if(u(A))return A;throw new f(h(A)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=u(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/array-iteration.js").forEach,h=l("./node_modules/core-js/internals/array-method-is-strict.js"),f=h("forEach");o.exports=f?[].forEach:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),m=l("./node_modules/core-js/internals/is-constructor.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/create-property.js"),b=l("./node_modules/core-js/internals/get-iterator.js"),j=l("./node_modules/core-js/internals/get-iterator-method.js"),S=Array;o.exports=function(E){var I=f(E),L=m(this),Z=arguments.length,ne=Z>1?arguments[1]:void 0,G=ne!==void 0;G&&(ne=u(ne,Z>2?arguments[2]:void 0));var le=j(I),V=0,me,$,X,Ce,M,q;if(le&&!(this===S&&g(le)))for($=L?new this:[],Ce=b(I,le),M=Ce.next;!(X=h(M,Ce)).done;V++)q=G?A(Ce,ne,[X.value,V],!0):X.value,y($,V,q);else for(me=x(I),$=L?new this(me):S(me);me>V;V++)q=G?ne(I[V],V):I[V],y($,V,q);return $.length=V,$}}),"./node_modules/core-js/internals/array-includes.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/to-absolute-index.js"),f=l("./node_modules/core-js/internals/length-of-array-like.js"),A=function(g){return function(m,x,y){var b=u(m),j=f(b);if(j===0)return!g&&-1;var S=h(y,j),w;if(g&&x!==x){for(;j>S;)if(w=b[S++],w!==w)return!0}else for(;j>S;S++)if((g||S in b)&&b[S]===x)return g||S||0;return!g&&-1}};o.exports={includes:A(!0),indexOf:A(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/to-object.js"),g=l("./node_modules/core-js/internals/length-of-array-like.js"),m=l("./node_modules/core-js/internals/array-species-create.js"),x=h([].push),y=function(b){var j=b===1,S=b===2,w=b===3,E=b===4,I=b===6,L=b===7,Z=b===5||I;return function(ne,G,le,V){for(var me=A(ne),$=f(me),X=g($),Ce=u(G,le),M=0,q=V||m,ie=j?q(ne,X):S||L?q(ne,0):void 0,J,D;X>M;M++)if((Z||M in $)&&(J=$[M],D=Ce(J,M,me),b))if(j)ie[M]=D;else if(D)switch(b){case 3:return!0;case 5:return J;case 6:return M;case 2:x(ie,J)}else switch(b){case 4:return!1;case 7:x(ie,J)}return I?-1:w||E?E:ie}};o.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/environment-v8-version.js"),A=h("species");o.exports=function(g){return f>=51||!u(function(){var m=[],x=m.constructor={};return x[A]=function(){return{foo:1}},m[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=function(h,f){var A=[][h];return!!A&&u(function(){A.call(null,f||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,m="Reduce of empty array with no initial value",x=function(y){return function(b,j,S,w){var E=h(b),I=f(E),L=A(E);if(u(j),L===0&&S<2)throw new g(m);var Z=y?L-1:0,ne=y?-1:1;if(S<2)for(;;){if(Z in I){w=I[Z],Z+=ne;break}if(Z+=ne,y?Z<0:L<=Z)throw new g(m)}for(;y?Z>=0:L>Z;Z+=ne)Z in I&&(w=j(w,I[Z],Z,E));return w}};o.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-array.js"),h=l("./node_modules/core-js/internals/is-constructor.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species"),m=Array;o.exports=function(x){var y;return u(x)&&(y=x.constructor,h(y)&&(y===m||u(y.prototype))?y=void 0:f(y)&&(y=y[g],y===null&&(y=void 0))),y===void 0?m:y}}),"./node_modules/core-js/internals/array-species-create.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/array-species-constructor.js");o.exports=function(h,f){return new(u(h))(f===0?0:f)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(f,A,g,m){try{return m?A(u(g)[0],g[1]):A(g)}catch(x){h(f,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("iterator"),f=!1;try{var A=0,g={next:function(){return{done:!!A++}},return:function(){f=!0}};g[h]=function(){return this},Array.from(g,function(){throw 2})}catch{}o.exports=function(m,x){try{if(!x&&!f)return!1}catch{return!1}var y=!1;try{var b={};b[h]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}}),"./node_modules/core-js/internals/classof-raw.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=u({}.toString),f=u("".slice);o.exports=function(A){return f(h(A),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("toStringTag"),m=Object,x=f((function(){return arguments})())==="Arguments",y=function(b,j){try{return b[j]}catch{}};o.exports=u?f:function(b){var j,S,w;return b===void 0?"Undefined":b===null?"Null":typeof(S=y(j=m(b),g))=="string"?S:x?f(j):(w=f(j))==="Object"&&h(j.callee)?"Arguments":w}}),"./node_modules/core-js/internals/collection-strong.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-create.js"),h=l("./node_modules/core-js/internals/define-built-in-accessor.js"),f=l("./node_modules/core-js/internals/define-built-ins.js"),A=l("./node_modules/core-js/internals/function-bind-context.js"),g=l("./node_modules/core-js/internals/an-instance.js"),m=l("./node_modules/core-js/internals/is-null-or-undefined.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/iterator-define.js"),b=l("./node_modules/core-js/internals/create-iter-result-object.js"),j=l("./node_modules/core-js/internals/set-species.js"),S=l("./node_modules/core-js/internals/descriptors.js"),w=l("./node_modules/core-js/internals/internal-metadata.js").fastKey,E=l("./node_modules/core-js/internals/internal-state.js"),I=E.set,L=E.getterFor;o.exports={getConstructor:function(Z,ne,G,le){var V=Z(function(M,q){g(M,me),I(M,{type:ne,index:u(null),first:null,last:null,size:0}),S||(M.size=0),m(q)||x(q,M[le],{that:M,AS_ENTRIES:G})}),me=V.prototype,$=L(ne),X=function(M,q,ie){var J=$(M),D=Ce(M,q),ce,te;return D?D.value=ie:(J.last=D={index:te=w(q,!0),key:q,value:ie,previous:ce=J.last,next:null,removed:!1},J.first||(J.first=D),ce&&(ce.next=D),S?J.size++:M.size++,te!=="F"&&(J.index[te]=D)),M},Ce=function(M,q){var ie=$(M),J=w(q),D;if(J!=="F")return ie.index[J];for(D=ie.first;D;D=D.next)if(D.key===q)return D};return f(me,{clear:function(){for(var q=this,ie=$(q),J=ie.first;J;)J.removed=!0,J.previous&&(J.previous=J.previous.next=null),J=J.next;ie.first=ie.last=null,ie.index=u(null),S?ie.size=0:q.size=0},delete:function(M){var q=this,ie=$(q),J=Ce(q,M);if(J){var D=J.next,ce=J.previous;delete ie.index[J.index],J.removed=!0,ce&&(ce.next=D),D&&(D.previous=ce),ie.first===J&&(ie.first=D),ie.last===J&&(ie.last=ce),S?ie.size--:q.size--}return!!J},forEach:function(q){for(var ie=$(this),J=A(q,arguments.length>1?arguments[1]:void 0),D;D=D?D.next:ie.first;)for(J(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(q){return!!Ce(this,q)}}),f(me,G?{get:function(q){var ie=Ce(this,q);return ie&&ie.value},set:function(q,ie){return X(this,q===0?0:q,ie)}}:{add:function(q){return X(this,q=q===0?0:q,q)}}),S&&h(me,"size",{configurable:!0,get:function(){return $(this).size}}),V},setStrong:function(Z,ne,G){var le=ne+" Iterator",V=L(ne),me=L(le);y(Z,ne,function($,X){I(this,{type:le,target:$,state:V($),kind:X,last:null})},function(){for(var $=me(this),X=$.kind,Ce=$.last;Ce&&Ce.removed;)Ce=Ce.previous;return!$.target||!($.last=Ce=Ce?Ce.next:$.state.first)?($.target=null,b(void 0,!0)):b(X==="keys"?Ce.key:X==="values"?Ce.value:[Ce.key,Ce.value],!1)},G?"entries":"values",!G,!0),j(ne)}}}),"./node_modules/core-js/internals/collection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/define-built-in.js"),m=l("./node_modules/core-js/internals/internal-metadata.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/an-instance.js"),b=l("./node_modules/core-js/internals/is-callable.js"),j=l("./node_modules/core-js/internals/is-null-or-undefined.js"),S=l("./node_modules/core-js/internals/is-object.js"),w=l("./node_modules/core-js/internals/fails.js"),E=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),I=l("./node_modules/core-js/internals/set-to-string-tag.js"),L=l("./node_modules/core-js/internals/inherit-if-required.js");o.exports=function(Z,ne,G){var le=Z.indexOf("Map")!==-1,V=Z.indexOf("Weak")!==-1,me=le?"set":"add",$=h[Z],X=$&&$.prototype,Ce=$,M={},q=function(pe){var be=f(X[pe]);g(X,pe,pe==="add"?function(de){return be(this,de===0?0:de),this}:pe==="delete"?function(re){return V&&!S(re)?!1:be(this,re===0?0:re)}:pe==="get"?function(de){return V&&!S(de)?void 0:be(this,de===0?0:de)}:pe==="has"?function(de){return V&&!S(de)?!1:be(this,de===0?0:de)}:function(de,Y){return be(this,de===0?0:de,Y),this})},ie=A(Z,!b($)||!(V||X.forEach&&!w(function(){new $().entries().next()})));if(ie)Ce=G.getConstructor(ne,Z,le,me),m.enable();else if(A(Z,!0)){var J=new Ce,D=J[me](V?{}:-0,1)!==J,ce=w(function(){J.has(1)}),te=E(function(pe){new $(pe)}),ge=!V&&w(function(){for(var pe=new $,be=5;be--;)pe[me](be,be);return!pe.has(-0)});te||(Ce=ne(function(pe,be){y(pe,X);var re=L(new $,pe,Ce);return j(be)||x(be,re[me],{that:re,AS_ENTRIES:le}),re}),Ce.prototype=X,X.constructor=Ce),(ce||ge)&&(q("delete"),q("has"),le&&q("get")),(ge||D)&&q(me),V&&X.clear&&delete X.clear}return M[Z]=Ce,u({global:!0,constructor:!0,forced:Ce!==$},M),I(Ce,Z),V||G.setStrong(Ce,Z,le),Ce}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/has-own-property.js"),h=l("./node_modules/core-js/internals/own-keys.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),A=l("./node_modules/core-js/internals/object-define-property.js");o.exports=function(g,m,x){for(var y=h(m),b=A.f,j=f.f,S=0;S<y.length;S++){var w=y[S];!u(g,w)&&!(x&&u(x,w))&&b(g,w,j(m,w))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("match");o.exports=function(f){var A=/./;try{"/./"[f](A)}catch{try{return A[h]=!1,"/./"[f](A)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=/"/g,g=u("".replace);o.exports=function(m,x,y,b){var j=f(h(m)),S="<"+x;return y!==""&&(S+=" "+y+'="'+g(f(b),A,"&quot;")+'"'),S+">"+j+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(o){o.exports=function(d,l){return{value:d,done:l}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=u?function(A,g,m){return h.f(A,g,f(1,m))}:function(A,g,m){return A[g]=m,A}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(o){o.exports=function(d,l){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:l}}}),"./node_modules/core-js/internals/create-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=function(A,g,m){u?h.f(A,g,f(0,m)):A[g]=m}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/make-built-in.js"),h=l("./node_modules/core-js/internals/object-define-property.js");o.exports=function(f,A,g){return g.get&&u(g.get,A,{getter:!0}),g.set&&u(g.set,A,{setter:!0}),h.f(f,A,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),f=l("./node_modules/core-js/internals/make-built-in.js"),A=l("./node_modules/core-js/internals/define-global-property.js");o.exports=function(g,m,x,y){y||(y={});var b=y.enumerable,j=y.name!==void 0?y.name:m;if(u(x)&&f(x,j,y),y.global)b?g[m]=x:A(m,x);else{try{y.unsafe?g[m]&&(b=!0):delete g[m]}catch{}b?g[m]=x:h.f(g,m,{value:x,enumerable:!1,configurable:!y.nonConfigurable,writable:!y.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/define-built-in.js");o.exports=function(h,f,A){for(var g in f)u(h,g,f[g],A);return h}}),"./node_modules/core-js/internals/define-global-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=Object.defineProperty;o.exports=function(f,A){try{h(u,f,{value:A,configurable:!0,writable:!0})}catch{u[f]=A}return A}}),"./node_modules/core-js/internals/descriptors.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=u.document,A=h(f)&&h(f.createElement);o.exports=function(g){return A?f.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(o){var d=TypeError,l=9007199254740991;o.exports=function(u){if(u>l)throw d("Maximum allowed index exceeded");return u}}),"./node_modules/core-js/internals/dom-iterables.js":(function(o){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/document-create-element.js"),h=u("span").classList,f=h&&h.constructor&&h.constructor.prototype;o.exports=f===Object.prototype?void 0:f}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(o){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)}),"./node_modules/core-js/internals/environment-is-node.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment.js");o.exports=u==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-user-agent.js");o.exports=/web0s(?!.*chrome)/i.test(u)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=u.navigator,f=h&&h.userAgent;o.exports=f?String(f):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/environment-user-agent.js"),f=u.process,A=u.Deno,g=f&&f.versions||A&&A.version,m=g&&g.v8,x,y;m&&(x=m.split("."),y=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!y&&h&&(x=h.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=h.match(/Chrome\/(\d+)/),x&&(y=+x[1]))),o.exports=y}),"./node_modules/core-js/internals/environment.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/environment-user-agent.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=function(g){return h.slice(0,g.length)===g};o.exports=(function(){return A("Bun/")?"BUN":A("Cloudflare-Workers")?"CLOUDFLARE":A("Deno/")?"DENO":A("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":f(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=l("./node_modules/core-js/internals/define-built-in.js"),g=l("./node_modules/core-js/internals/define-global-property.js"),m=l("./node_modules/core-js/internals/copy-constructor-properties.js"),x=l("./node_modules/core-js/internals/is-forced.js");o.exports=function(y,b){var j=y.target,S=y.global,w=y.stat,E,I,L,Z,ne,G;if(S?I=u:w?I=u[j]||g(j,{}):I=u[j]&&u[j].prototype,I)for(L in b){if(ne=b[L],y.dontCallGetSet?(G=h(I,L),Z=G&&G.value):Z=I[L],E=x(S?L:j+(w?".":"#")+L,y.forced),!E&&Z!==void 0){if(typeof ne==typeof Z)continue;m(ne,Z)}(y.sham||Z&&Z.sham)&&f(ne,"sham",!0),A(I,L,ne,y)}}}),"./node_modules/core-js/internals/fails.js":(function(o){o.exports=function(d){try{return!!d()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(o,d,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/regexp-exec.js"),A=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=g("species"),y=RegExp.prototype;o.exports=function(b,j,S,w){var E=g(b),I=!A(function(){var G={};return G[E]=function(){return 7},""[b](G)!==7}),L=I&&!A(function(){var G=!1,le=/a/;if(b==="split"){var V={};V[x]=function(){return le},le={constructor:V,flags:""},le[E]=/./[E]}return le.exec=function(){return G=!0,null},le[E](""),!G});if(!I||!L||S){var Z=/./[E],ne=j(E,""[b],function(G,le,V,me,$){var X=le.exec;return X===f||X===y.exec?I&&!$?{done:!0,value:u(Z,le,V,me)}:{done:!0,value:u(G,V,le,me)}:{done:!1}});h(String.prototype,b,ne[0]),h(y,E,ne[1])}w&&m(y[E],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.apply,A=h.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(u?A.bind(f):function(){return A.apply(f,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/function-bind-native.js"),A=u(u.bind);o.exports=function(g,m){return h(g),m===void 0?g:f?A(g,m):function(){return g.apply(m,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype.call;o.exports=u?h.bind(h):function(){return h.apply(h,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=Function.prototype,A=u&&Object.getOwnPropertyDescriptor,g=h(f,"name"),m=g&&(function(){}).name==="something",x=g&&(!u||u&&A(f,"name").configurable);o.exports={EXISTS:g,PROPER:m,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/a-callable.js");o.exports=function(f,A,g){try{return u(h(Object.getOwnPropertyDescriptor(f,A)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=function(f){if(u(f)==="Function")return h(f)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.call,A=u&&h.bind.bind(f,f);o.exports=u?A:function(g){return function(){return f.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=function(A){return h(A)?A:void 0};o.exports=function(A,g){return arguments.length<2?f(u[A]):u[A]&&u[A][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(o){o.exports=function(d){return{iterator:d,next:d.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=l("./node_modules/core-js/internals/get-method.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/iterators.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=g("iterator");o.exports=function(x){if(!f(x))return h(x,m)||h(x,"@@iterator")||A[u(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/get-iterator-method.js"),m=TypeError;o.exports=function(x,y){var b=arguments.length<2?g(x):y;if(h(b))return f(u(b,x));throw new m(A(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/is-null-or-undefined.js");o.exports=function(f,A){var g=f[A];return h(g)?void 0:u(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),m="Invalid size",x=RangeError,y=TypeError,b=Math.max,j=function(S,w){this.set=S,this.size=b(w,0),this.has=u(S.has),this.keys=u(S.keys)};j.prototype={getIterator:function(){return g(h(f(this.keys,this.set)))},includes:function(S){return f(this.has,this.set,S)}},o.exports=function(S){h(S);var w=+S.size;if(w!==w)throw new y(m);var E=A(w);if(E<0)throw new x(m);return new j(S,E)}}),"./node_modules/core-js/internals/get-substitution.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=Math.floor,A=u("".charAt),g=u("".replace),m=u("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,y=/\$([$&'`]|\d{1,2})/g;o.exports=function(b,j,S,w,E,I){var L=S+b.length,Z=w.length,ne=y;return E!==void 0&&(E=h(E),ne=x),g(I,ne,function(G,le){var V;switch(A(le,0)){case"$":return"$";case"&":return b;case"`":return m(j,0,S);case"'":return m(j,L);case"<":V=E[m(le,1,-1)];break;default:var me=+le;if(me===0)return G;if(me>Z){var $=f(me/10);return $===0?G:$<=Z?w[$-1]===void 0?A(le,1):w[$-1]+A(le,1):G}V=w[me-1]}return V===void 0?"":V})}}),"./node_modules/core-js/internals/global-this.js":(function(o){var d=function(l){return l&&l.Math===Math&&l};o.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof Af=="object"&&Af)||d(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=u({}.hasOwnProperty);o.exports=Object.hasOwn||function(g,m){return f(h(g),m)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(o){o.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(o){o.exports=function(d,l){try{arguments.length===1?console.error(d):console.error(d,l)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js");o.exports=u("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/document-create-element.js");o.exports=!u&&!h(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=Object,g=u("".split);o.exports=h(function(){return!A("z").propertyIsEnumerable(0)})?function(m){return f(m)==="String"?g(m,""):A(m)}:A}),"./node_modules/core-js/internals/inherit-if-required.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/object-set-prototype-of.js");o.exports=function(A,g,m){var x,y;return f&&u(x=g.constructor)&&x!==m&&h(y=x.prototype)&&y!==m.prototype&&f(A,y),A}}),"./node_modules/core-js/internals/inspect-source.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/shared-store.js"),A=u(Function.toString);h(f.inspectSource)||(f.inspectSource=function(g){return A(g)}),o.exports=f.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/hidden-keys.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/object-define-property.js").f,x=l("./node_modules/core-js/internals/object-get-own-property-names.js"),y=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=l("./node_modules/core-js/internals/object-is-extensible.js"),j=l("./node_modules/core-js/internals/uid.js"),S=l("./node_modules/core-js/internals/freezing.js"),w=!1,E=j("meta"),I=0,L=function(me){m(me,E,{value:{objectID:"O"+I++,weakData:{}}})},Z=function(me,$){if(!A(me))return typeof me=="symbol"?me:(typeof me=="string"?"S":"P")+me;if(!g(me,E)){if(!b(me))return"F";if(!$)return"E";L(me)}return me[E].objectID},ne=function(me,$){if(!g(me,E)){if(!b(me))return!0;if(!$)return!1;L(me)}return me[E].weakData},G=function(me){return S&&w&&b(me)&&!g(me,E)&&L(me),me},le=function(){V.enable=function(){},w=!0;var me=x.f,$=h([].splice),X={};X[E]=1,me(X).length&&(x.f=function(Ce){for(var M=me(Ce),q=0,ie=M.length;q<ie;q++)if(M[q]===E){$(M,q,1);break}return M},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:y.f}))},V=o.exports={enable:le,fastKey:Z,getWeakData:ne,onFreeze:G};f[E]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/weak-map-basic-detection.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/shared-store.js"),x=l("./node_modules/core-js/internals/shared-key.js"),y=l("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",j=h.TypeError,S=h.WeakMap,w,E,I,L=function(le){return I(le)?E(le):w(le,{})},Z=function(le){return function(V){var me;if(!f(V)||(me=E(V)).type!==le)throw new j("Incompatible receiver, "+le+" required");return me}};if(u||m.state){var ne=m.state||(m.state=new S);ne.get=ne.get,ne.has=ne.has,ne.set=ne.set,w=function(le,V){if(ne.has(le))throw new j(b);return V.facade=le,ne.set(le,V),V},E=function(le){return ne.get(le)||{}},I=function(le){return ne.has(le)}}else{var G=x("state");y[G]=!0,w=function(le,V){if(g(le,G))throw new j(b);return V.facade=le,A(le,G,V),V},E=function(le){return g(le,G)?le[G]:{}},I=function(le){return g(le,G)}}o.exports={set:w,get:E,has:I,enforce:L,getterFor:Z}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=l("./node_modules/core-js/internals/iterators.js"),f=u("iterator"),A=Array.prototype;o.exports=function(g){return g!==void 0&&(h.Array===g||A[f]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js");o.exports=Array.isArray||function(f){return u(f)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(o){var d=typeof document=="object"&&document.all;o.exports=typeof d>"u"&&d!==void 0?function(l){return typeof l=="function"||l===d}:function(l){return typeof l=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/classof.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/inspect-source.js"),x=function(){},y=g("Reflect","construct"),b=/^\s*(?:class|function)\b/,j=u(b.exec),S=!b.test(x),w=function(L){if(!f(L))return!1;try{return y(x,[],L),!0}catch{return!1}},E=function(L){if(!f(L))return!1;switch(A(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!j(b,m(L))}catch{return!0}};E.sham=!0,o.exports=!y||h(function(){var I;return w(w.call)||!w(Object)||!w(function(){I=!0})||I})?E:w}),"./node_modules/core-js/internals/is-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=/#|\.prototype\./,A=function(b,j){var S=m[g(b)];return S===y?!0:S===x?!1:h(j)?u(j):!!j},g=A.normalize=function(b){return String(b).replace(f,".").toLowerCase()},m=A.data={},x=A.NATIVE="N",y=A.POLYFILL="P";o.exports=A}),"./node_modules/core-js/internals/is-iterable.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=l("./node_modules/core-js/internals/iterators.js"),m=A("iterator"),x=Object;o.exports=function(y){if(f(y))return!1;var b=x(y);return b[m]!==void 0||"@@iterator"in b||h(g,u(b))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(o){o.exports=function(d){return d==null}}),"./node_modules/core-js/internals/is-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-callable.js");o.exports=function(h){return typeof h=="object"?h!==null:u(h)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js");o.exports=function(h){return u(h)||h===null}}),"./node_modules/core-js/internals/is-pure.js":(function(o){o.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/internal-state.js").get;o.exports=function(A){if(!u(A))return!1;var g=h(A);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=f("match");o.exports=function(g){var m;return u(g)&&((m=g[A])!==void 0?!!m:h(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/object-is-prototype-of.js"),A=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;o.exports=A?function(m){return typeof m=="symbol"}:function(m){var x=u("Symbol");return h(x)&&f(x.prototype,g(m))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js");o.exports=function(h,f,A){for(var g=A?h:h.iterator,m=h.next,x,y;!(x=u(m,g)).done;)if(y=f(x.value),y!==void 0)return y}}),"./node_modules/core-js/internals/iterate.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),y=l("./node_modules/core-js/internals/get-iterator.js"),b=l("./node_modules/core-js/internals/get-iterator-method.js"),j=l("./node_modules/core-js/internals/iterator-close.js"),S=TypeError,w=function(I,L){this.stopped=I,this.result=L},E=w.prototype;o.exports=function(I,L,Z){var ne=Z&&Z.that,G=!!(Z&&Z.AS_ENTRIES),le=!!(Z&&Z.IS_RECORD),V=!!(Z&&Z.IS_ITERATOR),me=!!(Z&&Z.INTERRUPTED),$=u(L,ne),X,Ce,M,q,ie,J,D,ce=function(ge){return X&&j(X,"normal"),new w(!0,ge)},te=function(ge){return G?(f(ge),me?$(ge[0],ge[1],ce):$(ge[0],ge[1])):me?$(ge,ce):$(ge)};if(le)X=I.iterator;else if(V)X=I;else{if(Ce=b(I),!Ce)throw new S(A(I)+" is not iterable");if(g(Ce)){for(M=0,q=m(I);q>M;M++)if(ie=te(I[M]),ie&&x(E,ie))return ie;return new w(!1)}X=y(I,Ce)}for(J=le?I.next:X.next;!(D=h(J,X)).done;){try{ie=te(D.value)}catch(ge){j(X,"throw",ge)}if(typeof ie=="object"&&ie&&x(E,ie))return ie}return new w(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(h,f,A){for(var g=h.length-1;g>=0;g--)if(h[g]!==void 0)try{A=u(h[g].iterator,f,A)}catch(m){f="throw",A=m}if(f==="throw")throw A;return A}}),"./node_modules/core-js/internals/iterator-close.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/get-method.js");o.exports=function(A,g,m){var x,y;h(A);try{if(x=f(A,"return"),!x){if(g==="throw")throw m;return m}x=u(x,A)}catch(b){y=!0,x=b}if(g==="throw")throw m;if(y)throw x;return h(x),m}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/create-property-descriptor.js"),A=l("./node_modules/core-js/internals/set-to-string-tag.js"),g=l("./node_modules/core-js/internals/iterators.js"),m=function(){return this};o.exports=function(x,y,b,j){var S=y+" Iterator";return x.prototype=h(u,{next:f(+!j,b)}),A(x,S,!1,!0),g[S]=m,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=l("./node_modules/core-js/internals/define-built-ins.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),m=l("./node_modules/core-js/internals/internal-state.js"),x=l("./node_modules/core-js/internals/get-method.js"),y=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=l("./node_modules/core-js/internals/create-iter-result-object.js"),j=l("./node_modules/core-js/internals/iterator-close.js"),S=l("./node_modules/core-js/internals/iterator-close-all.js"),w=g("toStringTag"),E="IteratorHelper",I="WrapForValidIterator",L="normal",Z="throw",ne=m.set,G=function(me){var $=m.getterFor(me?I:E);return A(h(y),{next:function(){var Ce=$(this);if(me)return Ce.nextHandler();if(Ce.done)return b(void 0,!0);try{var M=Ce.nextHandler();return Ce.returnHandlerResult?M:b(M,Ce.done)}catch(q){throw Ce.done=!0,q}},return:function(){var X=$(this),Ce=X.iterator;if(X.done=!0,me){var M=x(Ce,"return");return M?u(M,Ce):b(void 0,!0)}if(X.inner)try{j(X.inner.iterator,L)}catch(q){return j(Ce,Z,q)}if(X.openIters)try{S(X.openIters,L)}catch(q){return j(Ce,Z,q)}return Ce&&j(Ce,L),b(void 0,!0)}})},le=G(!0),V=G(!1);f(V,w,"Iterator Helper"),o.exports=function(me,$,X){var Ce=function(q,ie){ie?(ie.iterator=q.iterator,ie.next=q.next):ie=q,ie.type=$?I:E,ie.returnHandlerResult=!!X,ie.nextHandler=me,ie.counter=0,ie.done=!1,ne(this,ie)};return Ce.prototype=$?le:V,Ce}}),"./node_modules/core-js/internals/iterator-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/function-name.js"),g=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/iterator-create-constructor.js"),x=l("./node_modules/core-js/internals/object-get-prototype-of.js"),y=l("./node_modules/core-js/internals/object-set-prototype-of.js"),b=l("./node_modules/core-js/internals/set-to-string-tag.js"),j=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),S=l("./node_modules/core-js/internals/define-built-in.js"),w=l("./node_modules/core-js/internals/well-known-symbol.js"),E=l("./node_modules/core-js/internals/iterators.js"),I=l("./node_modules/core-js/internals/iterators-core.js"),L=A.PROPER,Z=A.CONFIGURABLE,ne=I.IteratorPrototype,G=I.BUGGY_SAFARI_ITERATORS,le=w("iterator"),V="keys",me="values",$="entries",X=function(){return this};o.exports=function(Ce,M,q,ie,J,D,ce){m(q,M,ie);var te=function(We){if(We===J&&de)return de;if(!G&&We&&We in be)return be[We];switch(We){case V:return function(){return new q(this,We)};case me:return function(){return new q(this,We)};case $:return function(){return new q(this,We)}}return function(){return new q(this)}},ge=M+" Iterator",pe=!1,be=Ce.prototype,re=be[le]||be["@@iterator"]||J&&be[J],de=!G&&re||te(J),Y=M==="Array"&&be.entries||re,Ae,ye,Oe;if(Y&&(Ae=x(Y.call(new Ce)),Ae!==Object.prototype&&Ae.next&&(!f&&x(Ae)!==ne&&(y?y(Ae,ne):g(Ae[le])||S(Ae,le,X)),b(Ae,ge,!0,!0),f&&(E[ge]=X))),L&&J===me&&re&&re.name!==me&&(!f&&Z?j(be,"name",me):(pe=!0,de=function(){return h(re,this)})),J)if(ye={values:te(me),keys:D?de:te(V),entries:te($)},ce)for(Oe in ye)(G||pe||!(Oe in be))&&S(be,Oe,ye[Oe]);else u({target:M,proto:!0,forced:G||pe},ye);return(!f||ce)&&be[le]!==de&&S(be,le,de,{name:J}),E[M]=de,ye}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(o){o.exports=function(d,l){var u=typeof Iterator=="function"&&Iterator.prototype[d];if(u)try{u.call({next:null},l).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=function(h,f){var A=u.Iterator,g=A&&A.prototype,m=g&&g[h],x=!1;if(m)try{m.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(y){y instanceof f||(x=!1)}if(!x)return m}}),"./node_modules/core-js/internals/iterators-core.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/object-create.js"),g=l("./node_modules/core-js/internals/object-get-prototype-of.js"),m=l("./node_modules/core-js/internals/define-built-in.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),j=!1,S,w,E;[].keys&&(E=[].keys(),"next"in E?(w=g(g(E)),w!==Object.prototype&&(S=w)):j=!0);var I=!f(S)||u(function(){var L={};return S[b].call(L)!==L});I?S={}:y&&(S=A(S)),h(S[b])||m(S,b,function(){return this}),o.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:j}}),"./node_modules/core-js/internals/iterators.js":(function(o){o.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-length.js");o.exports=function(h){return u(h.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/has-own-property.js"),g=l("./node_modules/core-js/internals/descriptors.js"),m=l("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=l("./node_modules/core-js/internals/inspect-source.js"),y=l("./node_modules/core-js/internals/internal-state.js"),b=y.enforce,j=y.get,S=String,w=Object.defineProperty,E=u("".slice),I=u("".replace),L=u([].join),Z=g&&!h(function(){return w(function(){},"length",{value:8}).length!==8}),ne=String(String).split("String"),G=o.exports=function(le,V,me){E(S(V),0,7)==="Symbol("&&(V="["+I(S(V),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),me&&me.getter&&(V="get "+V),me&&me.setter&&(V="set "+V),(!A(le,"name")||m&&le.name!==V)&&(g?w(le,"name",{value:V,configurable:!0}):le.name=V),Z&&me&&A(me,"arity")&&le.length!==me.arity&&w(le,"length",{value:me.arity});try{me&&A(me,"constructor")&&me.constructor?g&&w(le,"prototype",{writable:!1}):le.prototype&&(le.prototype=void 0)}catch{}var $=b(le);return A($,"source")||($.source=L(ne,typeof V=="string"?V:"")),le};Function.prototype.toString=G(function(){return f(this)&&j(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(o){var d=Math.ceil,l=Math.floor;o.exports=Math.trunc||function(h){var f=+h;return(f>0?l:d)(f)}}),"./node_modules/core-js/internals/microtask.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/safe-get-built-in.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/task.js").set,g=l("./node_modules/core-js/internals/queue.js"),m=l("./node_modules/core-js/internals/environment-is-ios.js"),x=l("./node_modules/core-js/internals/environment-is-ios-pebble.js"),y=l("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=l("./node_modules/core-js/internals/environment-is-node.js"),j=u.MutationObserver||u.WebKitMutationObserver,S=u.document,w=u.process,E=u.Promise,I=h("queueMicrotask"),L,Z,ne,G,le;if(!I){var V=new g,me=function(){var $,X;for(b&&($=w.domain)&&$.exit();X=V.get();)try{X()}catch(Ce){throw V.head&&L(),Ce}$&&$.enter()};!m&&!b&&!y&&j&&S?(Z=!0,ne=S.createTextNode(""),new j(me).observe(ne,{characterData:!0}),L=function(){ne.data=Z=!Z}):!x&&E&&E.resolve?(G=E.resolve(void 0),G.constructor=E,le=f(G.then,G),L=function(){le(me)}):b?L=function(){w.nextTick(me)}:(A=f(A,u),L=function(){A(me)}),I=function($){V.head||L(),V.add($)}}o.exports=I}),"./node_modules/core-js/internals/native-raw-json.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=!u(function(){var h="9007199254740993",f=JSON.rawJSON(h);return!JSON.isRawJSON(f)||JSON.stringify(f)!==h})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-callable.js"),h=TypeError,f=function(A){var g,m;this.promise=new A(function(x,y){if(g!==void 0||m!==void 0)throw new h("Bad Promise constructor");g=x,m=y}),this.resolve=u(g),this.reject=u(m)};o.exports.f=function(A){return new f(A)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-regexp.js"),h=TypeError;o.exports=function(f){if(u(f))throw new h("The method doesn't accept regular expressions");return f}}),"./node_modules/core-js/internals/object-assign.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/object-keys.js"),m=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=l("./node_modules/core-js/internals/to-object.js"),b=l("./node_modules/core-js/internals/indexed-object.js"),j=Object.assign,S=Object.defineProperty,w=h([].concat);o.exports=!j||A(function(){if(u&&j({b:1},j(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var E={},I={},L=Symbol("assign detection"),Z="abcdefghijklmnopqrst";return E[L]=7,Z.split("").forEach(function(ne){I[ne]=ne}),j({},E)[L]!==7||g(j({},I)).join("")!==Z})?function(I,L){for(var Z=y(I),ne=arguments.length,G=1,le=m.f,V=x.f;ne>G;)for(var me=b(arguments[G++]),$=le?w(g(me),le(me)):g(me),X=$.length,Ce=0,M;X>Ce;)M=$[Ce++],(!u||f(V,me,M))&&(Z[M]=me[M]);return Z}:j}),"./node_modules/core-js/internals/object-create.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/object-define-properties.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js"),A=l("./node_modules/core-js/internals/hidden-keys.js"),g=l("./node_modules/core-js/internals/html.js"),m=l("./node_modules/core-js/internals/document-create-element.js"),x=l("./node_modules/core-js/internals/shared-key.js"),y=">",b="<",j="prototype",S="script",w=x("IE_PROTO"),E=function(){},I=function(le){return b+S+y+le+b+"/"+S+y},L=function(le){le.write(I("")),le.close();var V=le.parentWindow.Object;return le=null,V},Z=function(){var le=m("iframe"),V="java"+S+":",me;return le.style.display="none",g.appendChild(le),le.src=String(V),me=le.contentWindow.document,me.open(),me.write(I("document.F=Object")),me.close(),me.F},ne,G=function(){try{ne=new ActiveXObject("htmlfile")}catch{}G=typeof document<"u"?document.domain&&ne?L(ne):Z():L(ne);for(var le=f.length;le--;)delete G[j][f[le]];return G()};A[w]=!0,o.exports=Object.create||function(V,me){var $;return V!==null?(E[j]=u(V),$=new E,E[j]=null,$[w]=V):$=G(),me===void 0?$:h.f($,me)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/object-keys.js");d.f=u&&!h?Object.defineProperties:function(y,b){A(y);for(var j=g(b),S=m(b),w=S.length,E=0,I;w>E;)f.f(y,I=S[E++],j[I]);return y}}),"./node_modules/core-js/internals/object-define-property.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/ie8-dom-define.js"),f=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-property-key.js"),m=TypeError,x=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b="enumerable",j="configurable",S="writable";d.f=u?f?function(E,I,L){if(A(E),I=g(I),A(L),typeof E=="function"&&I==="prototype"&&"value"in L&&S in L&&!L[S]){var Z=y(E,I);Z&&Z[S]&&(E[I]=L.value,L={configurable:j in L?L[j]:Z[j],enumerable:b in L?L[b]:Z[b],writable:!1})}return x(E,I,L)}:x:function(E,I,L){if(A(E),I=g(I),A(L),h)try{return x(E,I,L)}catch{}if("get"in L||"set"in L)throw new m("Accessors not supported");return"value"in L&&(E[I]=L.value),E}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),A=l("./node_modules/core-js/internals/create-property-descriptor.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/to-property-key.js"),x=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;d.f=u?b:function(S,w){if(S=g(S),w=m(w),y)try{return b(S,w)}catch{}if(x(S,w))return A(!h(f.f,S,w),S[w])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof-raw.js"),h=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,A=l("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(x){try{return f(x)}catch{return A(g)}};o.exports.f=function(y){return g&&u(y)==="Window"?m(y):f(h(y))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js"),f=h.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(g){return u(g,f)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(o,d){d.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/has-own-property.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/shared-key.js"),g=l("./node_modules/core-js/internals/correct-prototype-getter.js"),m=A("IE_PROTO"),x=Object,y=x.prototype;o.exports=g?x.getPrototypeOf:function(b){var j=f(b);if(u(j,m))return j[m];var S=j.constructor;return h(S)&&j instanceof S?S.prototype:j instanceof x?y:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=l("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,m=u(function(){});o.exports=m||A?function(y){return!h(y)||A&&f(y)==="ArrayBuffer"?!1:g?g(y):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/to-indexed-object.js"),A=l("./node_modules/core-js/internals/array-includes.js").indexOf,g=l("./node_modules/core-js/internals/hidden-keys.js"),m=u([].push);o.exports=function(x,y){var b=f(x),j=0,S=[],w;for(w in b)!h(g,w)&&h(b,w)&&m(S,w);for(;y.length>j;)h(b,w=y[j++])&&(~A(S,w)||m(S,w));return S}}),"./node_modules/core-js/internals/object-keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js");o.exports=Object.keys||function(A){return u(A,h)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(o,d){var l={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!l.call({1:2},1);d.f=h?function(A){var g=u(this,A);return!!g&&g.enumerable}:l}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),A=l("./node_modules/core-js/internals/a-possible-prototype.js");o.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,m={},x;try{x=u(Object.prototype,"__proto__","set"),x(m,[]),g=m instanceof Array}catch{}return function(b,j){return f(b),A(j),h(b)&&(g?x(b,j):b.__proto__=j),b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/classof.js");o.exports=u?{}.toString:function(){return"[object "+h(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=TypeError;o.exports=function(g,m){var x,y;if(m==="string"&&h(x=g.toString)&&!f(y=u(x,g))||h(x=g.valueOf)&&!f(y=u(x,g))||m!=="string"&&h(x=g.toString)&&!f(y=u(x,g)))return y;throw new A("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/object-get-own-property-names.js"),A=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/an-object.js"),m=h([].concat);o.exports=u("Reflect","ownKeys")||function(y){var b=f.f(g(y)),j=A.f;return j?m(b,j(y)):b}}),"./node_modules/core-js/internals/parse-json-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=SyntaxError,A=parseInt,g=String.fromCharCode,m=u("".charAt),x=u("".slice),y=u(/./.exec),b={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},j=/^[\da-f]{4}$/i,S=/^[\u0000-\u001F]$/;o.exports=function(w,E){for(var I=!0,L="";E<w.length;){var Z=m(w,E);if(Z==="\\"){var ne=x(w,E,E+2);if(h(b,ne))L+=b[ne],E+=2;else if(ne==="\\u"){E+=2;var G=x(w,E,E+4);if(!y(j,G))throw new f("Bad Unicode escape at: "+E);L+=g(A(G,16)),E+=4}else throw new f('Unknown escape sequence: "'+ne+'"')}else if(Z==='"'){I=!1,E++;break}else{if(y(S,Z))throw new f("Bad control character in string literal at: "+E);L+=Z,E++}}if(I)throw new f("Unterminated string at: "+E);return{value:L,end:E}}}),"./node_modules/core-js/internals/path.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=u}),"./node_modules/core-js/internals/perform.js":(function(o){o.exports=function(d){try{return{error:!1,value:d()}}catch(l){return{error:!0,value:l}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/promise-native-constructor.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/inspect-source.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),x=l("./node_modules/core-js/internals/environment.js"),y=l("./node_modules/core-js/internals/is-pure.js"),b=l("./node_modules/core-js/internals/environment-v8-version.js"),j=h&&h.prototype,S=m("species"),w=!1,E=f(u.PromiseRejectionEvent),I=A("Promise",function(){var L=g(h),Z=L!==String(h);if(!Z&&b===66||y&&!(j.catch&&j.finally))return!0;if(!b||b<51||!/native code/.test(L)){var ne=new h(function(V){V(1)}),G=function(V){V(function(){},function(){})},le=ne.constructor={};if(le[S]=G,w=ne.then(function(){})instanceof G,!w)return!0}return!Z&&(x==="BROWSER"||x==="DENO")&&!E});o.exports={CONSTRUCTOR:I,REJECTION_EVENT:E,SUBCLASSING:w}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js");o.exports=u.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/new-promise-capability.js");o.exports=function(A,g){if(u(A),h(g)&&g.constructor===A)return g;var m=f.f(A),x=m.resolve;return x(g),m.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/promise-native-constructor.js"),h=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;o.exports=f||!h(function(A){u.all(A).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(o){var d=function(){this.head=null,this.tail=null};d.prototype={add:function(l){var u={item:l,next:null},h=this.tail;h?h.next=u:this.head=u,this.tail=u},get:function(){var l=this.head;if(l){var u=this.head=l.next;return u===null&&(this.tail=null),l.item}}},o.exports=d}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),g=l("./node_modules/core-js/internals/regexp-exec.js"),m=TypeError;o.exports=function(x,y){var b=x.exec;if(f(b)){var j=u(b,x,y);return j!==null&&h(j),j}if(A(x)==="RegExp")return u(g,x,y);throw new m("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/regexp-flags.js"),g=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),m=l("./node_modules/core-js/internals/shared.js"),x=l("./node_modules/core-js/internals/object-create.js"),y=l("./node_modules/core-js/internals/internal-state.js").get,b=l("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),j=l("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),S=m("native-string-replace",String.prototype.replace),w=RegExp.prototype.exec,E=w,I=h("".charAt),L=h("".indexOf),Z=h("".replace),ne=h("".slice),G=(function(){var $=/a/,X=/b*/g;return u(w,$,"a"),u(w,X,"a"),$.lastIndex!==0||X.lastIndex!==0})(),le=g.BROKEN_CARET,V=/()??/.exec("")[1]!==void 0,me=G||V||le||b||j;me&&(E=function(X){var Ce=this,M=y(Ce),q=f(X),ie=M.raw,J,D,ce,te,ge,pe,be;if(ie)return ie.lastIndex=Ce.lastIndex,J=u(E,ie,q),Ce.lastIndex=ie.lastIndex,J;var re=M.groups,de=le&&Ce.sticky,Y=u(A,Ce),Ae=Ce.source,ye=0,Oe=q;if(de&&(Y=Z(Y,"y",""),L(Y,"g")===-1&&(Y+="g"),Oe=ne(q,Ce.lastIndex),Ce.lastIndex>0&&(!Ce.multiline||Ce.multiline&&I(q,Ce.lastIndex-1)!==`
`)&&(Ae="(?: "+Ae+")",Oe=" "+Oe,ye++),D=new RegExp("^(?:"+Ae+")",Y)),V&&(D=new RegExp("^"+Ae+"$(?!\\s)",Y)),G&&(ce=Ce.lastIndex),te=u(w,de?D:Ce,Oe),de?te?(te.input=ne(te.input,ye),te[0]=ne(te[0],ye),te.index=Ce.lastIndex,Ce.lastIndex+=te[0].length):Ce.lastIndex=0:G&&te&&(Ce.lastIndex=Ce.global?te.index+te[0].length:ce),V&&te&&te.length>1&&u(S,te[0],D,function(){for(ge=1;ge<arguments.length-2;ge++)arguments[ge]===void 0&&(te[ge]=void 0)}),te&&re)for(te.groups=pe=x(null),ge=0;ge<re.length;ge++)be=re[ge],pe[be[0]]=te[be[1]];return te}),o.exports=E}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/fails.js"),f=u.RegExp,A=!h(function(){var g=!0;try{f(".","d")}catch{g=!1}var m={},x="",y=g?"dgimsy":"gimsy",b=function(E,I){Object.defineProperty(m,E,{get:function(){return x+=I,!0}})},j={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(j.hasIndices="d");for(var S in j)b(S,j[S]);var w=Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(m);return w!==y||x!==y});o.exports={correct:A}}),"./node_modules/core-js/internals/regexp-flags.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js");o.exports=function(){var h=u(this),f="";return h.hasIndices&&(f+="d"),h.global&&(f+="g"),h.ignoreCase&&(f+="i"),h.multiline&&(f+="m"),h.dotAll&&(f+="s"),h.unicode&&(f+="u"),h.unicodeSets&&(f+="v"),h.sticky&&(f+="y"),f}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/object-is-prototype-of.js"),A=l("./node_modules/core-js/internals/regexp-flags-detection.js"),g=l("./node_modules/core-js/internals/regexp-flags.js"),m=RegExp.prototype;o.exports=A.correct?function(x){return x.flags}:function(x){return!A.correct&&f(m,x)&&!h(x,"flags")?u(g,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp,A=u(function(){var x=f("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),g=A||u(function(){return!f("a","y").sticky}),m=A||u(function(){var x=f("^r","gy");return x.lastIndex=2,x.exec("str")!==null});o.exports={BROKEN_CARET:m,MISSED_STICKY:g,UNSUPPORTED_Y:A}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;o.exports=u(function(){var A=f(".","s");return!(A.dotAll&&A.test(`
`)&&A.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;o.exports=u(function(){var A=f("(?<a>b)","g");return A.exec("b").groups.a!=="b"||"b".replace(A,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-null-or-undefined.js"),h=TypeError;o.exports=function(f){if(u(f))throw new h("Can't call method on "+f);return f}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/descriptors.js"),f=Object.getOwnPropertyDescriptor;o.exports=function(A){if(!h)return u[A];var g=f(u,A);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/environment.js"),g=l("./node_modules/core-js/internals/environment-user-agent.js"),m=l("./node_modules/core-js/internals/array-slice.js"),x=l("./node_modules/core-js/internals/validate-arguments-length.js"),y=u.Function,b=/MSIE .\./.test(g)||A==="BUN"&&(function(){var j=u.Bun.version.split(".");return j.length<3||j[0]==="0"&&(j[1]<3||j[1]==="3"&&j[2]==="0")})();o.exports=function(j,S){var w=S?2:1;return b?function(E,I){var L=x(arguments.length,1)>w,Z=f(E)?E:y(E),ne=L?m(arguments,w):[],G=L?function(){h(Z,this,ne)}:Z;return S?j(G,I):j(G)}:j}}),"./node_modules/core-js/internals/set-clone.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/set-helpers.js"),h=l("./node_modules/core-js/internals/set-iterate.js"),f=u.Set,A=u.add;o.exports=function(g){var m=new f;return h(g,function(x){A(m,x)}),m}}),"./node_modules/core-js/internals/set-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/set-size.js"),g=l("./node_modules/core-js/internals/get-set-record.js"),m=l("./node_modules/core-js/internals/set-iterate.js"),x=l("./node_modules/core-js/internals/iterate-simple.js"),y=h.has,b=h.remove;o.exports=function(S){var w=u(this),E=g(S),I=f(w);return A(w)<=E.size?m(w,function(L){E.includes(L)&&b(I,L)}):x(E.getIterator(),function(L){y(I,L)&&b(I,L)}),I}}),"./node_modules/core-js/internals/set-helpers.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=Set.prototype;o.exports={Set,add:u(h.add),has:u(h.has),remove:u(h.delete),proto:h}}),"./node_modules/core-js/internals/set-intersection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=l("./node_modules/core-js/internals/iterate-simple.js"),x=h.Set,y=h.add,b=h.has;o.exports=function(S){var w=u(this),E=A(S),I=new x;return f(w)>E.size?m(E.getIterator(),function(L){b(w,L)&&y(I,L)}):g(w,function(L){E.includes(L)&&y(I,L)}),I}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").has,f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=l("./node_modules/core-js/internals/iterate-simple.js"),x=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(b){var j=u(this),S=A(b);if(f(j)<=S.size)return g(j,function(E){if(S.includes(E))return!1},!0)!==!1;var w=S.getIterator();return m(w,function(E){if(h(j,E))return x(w,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-size.js"),f=l("./node_modules/core-js/internals/set-iterate.js"),A=l("./node_modules/core-js/internals/get-set-record.js");o.exports=function(m){var x=u(this),y=A(m);return h(x)>y.size?!1:f(x,function(b){if(!y.includes(b))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").has,f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),m=l("./node_modules/core-js/internals/iterator-close.js");o.exports=function(y){var b=u(this),j=A(y);if(f(b)<j.size)return!1;var S=j.getIterator();return g(S,function(w){if(!h(b,w))return m(S,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/iterate-simple.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),A=f.Set,g=f.proto,m=u(g.forEach),x=u(g.keys),y=x(new A).next;o.exports=function(b,j,S){return S?h({iterator:x(b),next:y},j):m(b,j)}}),"./node_modules/core-js/internals/set-size.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=l("./node_modules/core-js/internals/set-helpers.js");o.exports=u(h.proto,"size","get")||function(f){return f.size}}),"./node_modules/core-js/internals/set-species.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/define-built-in-accessor.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=l("./node_modules/core-js/internals/descriptors.js"),g=f("species");o.exports=function(m){var x=u(m);A&&x&&!x[g]&&h(x,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),m=h.add,x=h.has,y=h.remove;o.exports=function(j){var S=u(this),w=A(j).getIterator(),E=f(S);return g(w,function(I){x(S,I)?y(E,I):m(E,I)}),E}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/object-define-property.js").f,h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=f("toStringTag");o.exports=function(g,m,x){g&&!x&&(g=g.prototype),g&&!h(g,A)&&u(g,A,{configurable:!0,value:m})}}),"./node_modules/core-js/internals/set-union.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/a-set.js"),h=l("./node_modules/core-js/internals/set-helpers.js").add,f=l("./node_modules/core-js/internals/set-clone.js"),A=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js");o.exports=function(x){var y=u(this),b=A(x).getIterator(),j=f(y);return g(b,function(S){h(j,S)}),j}}),"./node_modules/core-js/internals/shared-key.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/shared.js"),h=l("./node_modules/core-js/internals/uid.js"),f=u("keys");o.exports=function(A){return f[A]||(f[A]=h(A))}}),"./node_modules/core-js/internals/shared-store.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/is-pure.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/define-global-property.js"),A="__core-js_shared__",g=o.exports=h[A]||f(A,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:u?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/shared-store.js");o.exports=function(h,f){return u[h]||(u[h]=f||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/a-constructor.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),g=A("species");o.exports=function(m,x){var y=u(m).constructor,b;return y===void 0||f(b=u(y)[g])?x:h(b)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/fails.js");o.exports=function(h){return u(function(){var f=""[h]('"');return f!==f.toLowerCase()||f.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/require-object-coercible.js"),g=u("".charAt),m=u("".charCodeAt),x=u("".slice),y=function(b){return function(j,S){var w=f(A(j)),E=h(S),I=w.length,L,Z;return E<0||E>=I?b?"":void 0:(L=m(w,E),L<55296||L>56319||E+1===I||(Z=m(w,E+1))<56320||Z>57343?b?g(w,E):L:b?x(w,E,E+2):(L-55296<<10)+(Z-56320)+65536)}};o.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-name.js").PROPER,h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/whitespaces.js"),A="";o.exports=function(g){return h(function(){return!!f[g]()||A[g]()!==A||u&&f[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js"),f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/whitespaces.js"),g=u("".replace),m=RegExp("^["+A+"]+"),x=RegExp("(^|[^"+A+"])["+A+"]+$"),y=function(b){return function(j){var S=f(h(j));return b&1&&(S=g(S,m,"")),b&2&&(S=g(S,x,"$1")),S}};o.exports={start:y(1),end:y(2),trim:y(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/environment-v8-version.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=f.String;o.exports=!!Object.getOwnPropertySymbols&&!h(function(){var g=Symbol("symbol detection");return!A(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&u&&u<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=l("./node_modules/core-js/internals/define-built-in.js");o.exports=function(){var g=h("Symbol"),m=g&&g.prototype,x=m&&m.valueOf,y=f("toPrimitive");m&&!m[y]&&A(m,y,function(b){return u(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/symbol-constructor-detection.js");o.exports=u&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/is-callable.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/html.js"),y=l("./node_modules/core-js/internals/array-slice.js"),b=l("./node_modules/core-js/internals/document-create-element.js"),j=l("./node_modules/core-js/internals/validate-arguments-length.js"),S=l("./node_modules/core-js/internals/environment-is-ios.js"),w=l("./node_modules/core-js/internals/environment-is-node.js"),E=u.setImmediate,I=u.clearImmediate,L=u.process,Z=u.Dispatch,ne=u.Function,G=u.MessageChannel,le=u.String,V=0,me={},$="onreadystatechange",X,Ce,M,q;m(function(){X=u.location});var ie=function(te){if(g(me,te)){var ge=me[te];delete me[te],ge()}},J=function(te){return function(){ie(te)}},D=function(te){ie(te.data)},ce=function(te){u.postMessage(le(te),X.protocol+"//"+X.host)};(!E||!I)&&(E=function(ge){j(arguments.length,1);var pe=A(ge)?ge:ne(ge),be=y(arguments,1);return me[++V]=function(){h(pe,void 0,be)},Ce(V),V},I=function(ge){delete me[ge]},w?Ce=function(te){L.nextTick(J(te))}:Z&&Z.now?Ce=function(te){Z.now(J(te))}:G&&!S?(M=new G,q=M.port2,M.port1.onmessage=D,Ce=f(q.postMessage,q)):u.addEventListener&&A(u.postMessage)&&!u.importScripts&&X&&X.protocol!=="file:"&&!m(ce)?(Ce=ce,u.addEventListener("message",D,!1)):$ in b("script")?Ce=function(te){x.appendChild(b("script"))[$]=function(){x.removeChild(this),ie(te)}}:Ce=function(te){setTimeout(J(te),0)}),o.exports={set:E,clear:I}}),"./node_modules/core-js/internals/this-number-value.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js");o.exports=u(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.max,f=Math.min;o.exports=function(A,g){var m=u(A);return m<0?h(m+g,0):f(m,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/indexed-object.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js");o.exports=function(f){return u(h(f))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/math-trunc.js");o.exports=function(h){var f=+h;return f!==f||f===0?0:u(f)}}),"./node_modules/core-js/internals/to-length.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.min;o.exports=function(f){var A=u(f);return A>0?h(A,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/require-object-coercible.js"),h=Object;o.exports=function(f){return h(u(f))}}),"./node_modules/core-js/internals/to-primitive.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/is-symbol.js"),A=l("./node_modules/core-js/internals/get-method.js"),g=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,y=m("toPrimitive");o.exports=function(b,j){if(!h(b)||f(b))return b;var S=A(b,y),w;if(S){if(j===void 0&&(j="default"),w=u(S,b,j),!h(w)||f(w))return w;throw new x("Can't convert object to primitive value")}return j===void 0&&(j="number"),g(b,j)}}),"./node_modules/core-js/internals/to-property-key.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-primitive.js"),h=l("./node_modules/core-js/internals/is-symbol.js");o.exports=function(f){var A=u(f,"string");return h(A)?A:A+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-iterable.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=u("Set"),m=function(x){return A(x)&&typeof x.size=="number"&&h(x.has)&&h(x.keys)};o.exports=function(x){return m(x)?x:f(x)?new g(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js"),h=u("toStringTag"),f={};f[h]="z",o.exports=String(f)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/classof.js"),h=String;o.exports=function(f){if(u(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(f)}}),"./node_modules/core-js/internals/try-to-string.js":(function(o){var d=String;o.exports=function(l){try{return d(l)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-uncurry-this.js"),h=0,f=Math.random(),A=u(1.1.toString);o.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+A(++h+f,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/symbol-constructor-detection.js");o.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js");o.exports=u&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(o){var d=TypeError;o.exports=function(l,u){if(l<u)throw new d("Not enough arguments");return l}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/is-callable.js"),f=u.WeakMap;o.exports=h(f)&&/native code/.test(String(f))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/path.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),A=l("./node_modules/core-js/internals/object-define-property.js").f;o.exports=function(g){var m=u.Symbol||(u.Symbol={});h(m,g)||A(m,g,{value:f.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol.js");d.f=u}),"./node_modules/core-js/internals/well-known-symbol.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/shared.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/uid.js"),g=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=u.Symbol,y=h("wks"),b=m?x.for||x:x&&x.withoutSetter||A;o.exports=function(j){return f(y,j)||(y[j]=g&&f(x,j)?x[j]:b("Symbol."+j)),y[j]}}),"./node_modules/core-js/internals/whitespaces.js":(function(o){o.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-array.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-object.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),y=l("./node_modules/core-js/internals/create-property.js"),b=l("./node_modules/core-js/internals/array-species-create.js"),j=l("./node_modules/core-js/internals/array-method-has-species-support.js"),S=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/environment-v8-version.js"),E=S("isConcatSpreadable"),I=w>=51||!h(function(){var ne=[];return ne[E]=!1,ne.concat()[0]!==ne}),L=function(ne){if(!A(ne))return!1;var G=ne[E];return G!==void 0?!!G:f(ne)},Z=!I||!j("concat");u({target:"Array",proto:!0,arity:1,forced:Z},{concat:function(G){var le=g(this),V=b(le,0),me=0,$,X,Ce,M,q;for($=-1,Ce=arguments.length;$<Ce;$++)if(q=$===-1?le:arguments[$],L(q))for(M=m(q),x(me+M),X=0;X<M;X++,me++)X in q&&y(V,me,q[X]);else x(me+1),y(V,me++,q);return V.length=me,V}})}),"./node_modules/core-js/modules/es.array.from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-from.js"),f=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=!f(function(g){Array.from(g)});u({target:"Array",stat:!0,forced:A},{from:h})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/array-includes.js").indexOf,A=l("./node_modules/core-js/internals/array-method-is-strict.js"),g=h([].indexOf),m=!!g&&1/g([1],1,-0)<0,x=m||!A("indexOf");u({target:"Array",proto:!0,forced:x},{indexOf:function(b){var j=arguments.length>1?arguments[1]:void 0;return m?g(this,b,j)||0:f(this,b,j)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/add-to-unscopables.js"),f=l("./node_modules/core-js/internals/iterators.js"),A=l("./node_modules/core-js/internals/internal-state.js"),g=l("./node_modules/core-js/internals/object-define-property.js").f,m=l("./node_modules/core-js/internals/iterator-define.js"),x=l("./node_modules/core-js/internals/create-iter-result-object.js"),y=l("./node_modules/core-js/internals/is-pure.js"),b=l("./node_modules/core-js/internals/descriptors.js"),j="Array Iterator",S=A.set,w=A.getterFor(j);o.exports=m(Array,"Array",function(I,L){S(this,{type:j,target:u(I),index:0,kind:L})},function(){var I=w(this),L=I.target,Z=I.index++;if(!L||Z>=L.length)return I.target=null,x(void 0,!0);switch(I.kind){case"keys":return x(Z,!1);case"values":return x(L[Z],!1)}return x([Z,L[Z]],!1)},"values");var E=f.Arguments=f.Array;if(h("keys"),h("values"),h("entries"),!y&&b&&E.name!=="values")try{g(E,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/indexed-object.js"),A=l("./node_modules/core-js/internals/to-indexed-object.js"),g=l("./node_modules/core-js/internals/array-method-is-strict.js"),m=h([].join),x=f!==Object,y=x||!g("join",",");u({target:"Array",proto:!0,forced:y},{join:function(j){return m(A(this),j===void 0?",":j)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-iteration.js").map,f=l("./node_modules/core-js/internals/array-method-has-species-support.js"),A=f("map");u({target:"Array",proto:!0,forced:!A},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-reduce.js").left,f=l("./node_modules/core-js/internals/array-method-is-strict.js"),A=l("./node_modules/core-js/internals/environment-v8-version.js"),g=l("./node_modules/core-js/internals/environment-is-node.js"),m=!g&&A>79&&A<83,x=m||!f("reduce");u({target:"Array",proto:!0,forced:x},{reduce:function(b){var j=arguments.length;return h(this,b,j,j>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/is-array.js"),A=h([].reverse),g=[1,2];u({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),A(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-array.js"),f=l("./node_modules/core-js/internals/is-constructor.js"),A=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-absolute-index.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/to-indexed-object.js"),y=l("./node_modules/core-js/internals/create-property.js"),b=l("./node_modules/core-js/internals/well-known-symbol.js"),j=l("./node_modules/core-js/internals/array-method-has-species-support.js"),S=l("./node_modules/core-js/internals/array-slice.js"),w=j("slice"),E=b("species"),I=Array,L=Math.max;u({target:"Array",proto:!0,forced:!w},{slice:function(ne,G){var le=x(this),V=m(le),me=g(ne,V),$=g(G===void 0?V:G,V),X,Ce,M;if(h(le)&&(X=le.constructor,f(X)&&(X===I||h(X.prototype))?X=void 0:A(X)&&(X=X[E],X===null&&(X=void 0)),X===I||X===void 0))return S(le,me,$);for(Ce=new(X===void 0?I:X)(L($-me,0)),M=0;me<$;me++,M++)me in le&&y(Ce,M,le[me]);return Ce.length=M,Ce}})}),"./node_modules/core-js/modules/es.function.name.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/function-name.js").EXISTS,f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,m=f(g.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=f(x.exec),b="name";u&&!h&&A(g,b,{configurable:!0,get:function(){try{return y(x,m(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/an-instance.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/object-get-prototype-of.js"),x=l("./node_modules/core-js/internals/define-built-in-accessor.js"),y=l("./node_modules/core-js/internals/create-property.js"),b=l("./node_modules/core-js/internals/fails.js"),j=l("./node_modules/core-js/internals/has-own-property.js"),S=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,E=l("./node_modules/core-js/internals/descriptors.js"),I=l("./node_modules/core-js/internals/is-pure.js"),L="constructor",Z="Iterator",ne=S("toStringTag"),G=TypeError,le=h[Z],V=I||!g(le)||le.prototype!==w||!b(function(){le({})}),me=function(){if(f(this,w),m(this)===w)throw new G("Abstract class Iterator not directly constructable")},$=function(X,Ce){E?x(w,X,{configurable:!0,get:function(){return Ce},set:function(M){if(A(this),this===w)throw new G("You can't redefine this property");j(this,X)?this[X]=M:y(this,X,M)}}):w[X]=Ce};j(w,ne)||$(ne,Z),(V||!j(w,L)||w[L]===Object)&&$(L,me),me.prototype=w,u({global:!0,constructor:!0,forced:V},{Iterator:me})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/iterate.js"),A=l("./node_modules/core-js/internals/a-callable.js"),g=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/get-iterator-direct.js"),x=l("./node_modules/core-js/internals/iterator-close.js"),y=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=y("forEach",TypeError);u({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(S){g(this);try{A(S)}catch(I){x(this,"throw",I)}if(b)return h(b,this,S);var w=m(this),E=0;f(w,function(I){S(I,E++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),m=l("./node_modules/core-js/internals/iterator-create-proxy.js"),x=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),y=l("./node_modules/core-js/internals/iterator-close.js"),b=l("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),j=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),S=l("./node_modules/core-js/internals/is-pure.js"),w=!S&&!b("map",function(){}),E=!S&&!w&&j("map",TypeError),I=S||w||E,L=m(function(){var Z=this.iterator,ne=A(h(this.next,Z)),G=this.done=!!ne.done;if(!G)return x(Z,this.mapper,[ne.value,this.counter++],!0)});u({target:"Iterator",proto:!0,real:!0,forced:I},{map:function(ne){A(this);try{f(ne)}catch(G){y(this,"throw",G)}return E?h(E,this,ne):new L(g(this),{mapper:ne})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/function-apply.js"),A=l("./node_modules/core-js/internals/function-call.js"),g=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/is-array.js"),y=l("./node_modules/core-js/internals/is-callable.js"),b=l("./node_modules/core-js/internals/is-raw-json.js"),j=l("./node_modules/core-js/internals/is-symbol.js"),S=l("./node_modules/core-js/internals/classof-raw.js"),w=l("./node_modules/core-js/internals/to-string.js"),E=l("./node_modules/core-js/internals/array-slice.js"),I=l("./node_modules/core-js/internals/parse-json-string.js"),L=l("./node_modules/core-js/internals/uid.js"),Z=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),ne=l("./node_modules/core-js/internals/native-raw-json.js"),G=String,le=h("JSON","stringify"),V=g(/./.exec),me=g("".charAt),$=g("".charCodeAt),X=g("".replace),Ce=g("".slice),M=g([].push),q=g(1.1.toString),ie=/[\uD800-\uDFFF]/g,J=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,ce=L(),te=ce.length,ge=!Z||m(function(){var Y=h("Symbol")("stringify detection");return le([Y])!=="[null]"||le({a:Y})!=="{}"||le(Object(Y))!=="{}"}),pe=m(function(){return le("\uDF06\uD834")!=='"\\udf06\\ud834"'||le("\uDEAD")!=='"\\udead"'}),be=ge?function(Y,Ae){var ye=E(arguments),Oe=de(Ae);if(!(!y(Oe)&&(Y===void 0||j(Y))))return ye[1]=function(We,ae){if(y(Oe)&&(ae=A(Oe,this,G(We),ae)),!j(ae))return ae},f(le,null,ye)}:le,re=function(Y,Ae,ye){var Oe=me(ye,Ae-1),We=me(ye,Ae+1);return V(J,Y)&&!V(D,We)||V(D,Y)&&!V(J,Oe)?"\\u"+q($(Y,0),16):Y},de=function(Y){if(y(Y))return Y;if(x(Y)){for(var Ae=Y.length,ye=[],Oe=0;Oe<Ae;Oe++){var We=Y[Oe];typeof We=="string"?M(ye,We):(typeof We=="number"||S(We)==="Number"||S(We)==="String")&&M(ye,w(We))}var ae=ye.length,ke=!0;return function(Fe,nt){if(ke)return ke=!1,nt;if(x(this))return nt;for(var tt=0;tt<ae;tt++)if(ye[tt]===Fe)return nt}}};le&&u({target:"JSON",stat:!0,arity:3,forced:ge||pe||!ne},{stringify:function(Ae,ye,Oe){var We=de(ye),ae=[],ke=be(Ae,function(Ue,yt){var Tt=y(We)?A(We,this,G(Ue),yt):yt;return!ne&&b(Tt)?ce+(M(ae,Tt.rawJSON)-1):Tt},Oe);if(typeof ke!="string"||(pe&&(ke=X(ke,ie,re)),ne))return ke;for(var Fe="",nt=ke.length,tt=0;tt<nt;tt++){var Le=me(ke,tt);if(Le==='"'){var lt=I(ke,++tt).end-1,$t=Ce(ke,tt,lt);Fe+=Ce($t,0,te)===ce?ae[Ce($t,te)]:'"'+$t+'"',tt=lt}else Fe+=Le}return Fe}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/descriptors.js"),A=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),m=l("./node_modules/core-js/internals/function-uncurry-this.js"),x=l("./node_modules/core-js/internals/is-forced.js"),y=l("./node_modules/core-js/internals/has-own-property.js"),b=l("./node_modules/core-js/internals/inherit-if-required.js"),j=l("./node_modules/core-js/internals/object-is-prototype-of.js"),S=l("./node_modules/core-js/internals/is-symbol.js"),w=l("./node_modules/core-js/internals/to-primitive.js"),E=l("./node_modules/core-js/internals/fails.js"),I=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,L=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Z=l("./node_modules/core-js/internals/object-define-property.js").f,ne=l("./node_modules/core-js/internals/this-number-value.js"),G=l("./node_modules/core-js/internals/string-trim.js").trim,le="Number",V=A[le],me=g[le],$=V.prototype,X=A.TypeError,Ce=m("".slice),M=m("".charCodeAt),q=function(ge){var pe=w(ge,"number");return typeof pe=="bigint"?pe:ie(pe)},ie=function(ge){var pe=w(ge,"number"),be,re,de,Y,Ae,ye,Oe,We;if(S(pe))throw new X("Cannot convert a Symbol value to a number");if(typeof pe=="string"&&pe.length>2){if(pe=G(pe),be=M(pe,0),be===43||be===45){if(re=M(pe,2),re===88||re===120)return NaN}else if(be===48){switch(M(pe,1)){case 66:case 98:de=2,Y=49;break;case 79:case 111:de=8,Y=55;break;default:return+pe}for(Ae=Ce(pe,2),ye=Ae.length,Oe=0;Oe<ye;Oe++)if(We=M(Ae,Oe),We<48||We>Y)return NaN;return parseInt(Ae,de)}}return+pe},J=x(le,!V(" 0o1")||!V("0b1")||V("+0x1")),D=function(ge){return j($,ge)&&E(function(){ne(ge)})},ce=function(pe){var be=arguments.length<1?0:V(q(pe));return D(this)?b(Object(be),this,ce):be};ce.prototype=$,J&&!h&&($.constructor=ce),u({global:!0,constructor:!0,wrap:!0,forced:J},{Number:ce});var te=function(ge,pe){for(var be=f?I(pe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),re=0,de;be.length>re;re++)y(pe,de=be[re])&&!y(ge,de)&&Z(ge,de,L(pe,de))};h&&me&&te(g[le],me),(J||h)&&te(g[le],V)}),"./node_modules/core-js/modules/es.object.assign.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/object-assign.js");u({target:"Object",stat:!0,arity:2,forced:Object.assign!==h},{assign:h})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/to-object.js"),m=!h||f(function(){A.f(1)});u({target:"Object",stat:!0,forced:m},{getOwnPropertySymbols:function(y){var b=A.f;return b?b(g(y)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/to-object.js"),f=l("./node_modules/core-js/internals/object-keys.js"),A=l("./node_modules/core-js/internals/fails.js"),g=A(function(){f(1)});u({target:"Object",stat:!0,forced:g},{keys:function(x){return f(h(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/object-to-string.js");u||h(Object.prototype,"toString",f,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),m=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");u({target:"Promise",stat:!0,forced:x},{all:function(b){var j=this,S=A.f(j),w=S.resolve,E=S.reject,I=g(function(){var L=f(j.resolve),Z=[],ne=0,G=1;m(b,function(le){var V=ne++,me=!1;G++,h(L,j,le).then(function($){me||(me=!0,Z[V]=$,--G||w(Z))},E)}),--G||w(Z)});return I.error&&E(I.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,A=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),y=A&&A.prototype;if(u({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(j){return this.then(void 0,j)}}),!h&&m(A)){var b=g("Promise").prototype.catch;y.catch!==b&&x(y,"catch",b,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/environment-is-node.js"),A=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),m=l("./node_modules/core-js/internals/function-call.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),y=l("./node_modules/core-js/internals/object-set-prototype-of.js"),b=l("./node_modules/core-js/internals/set-to-string-tag.js"),j=l("./node_modules/core-js/internals/set-species.js"),S=l("./node_modules/core-js/internals/a-callable.js"),w=l("./node_modules/core-js/internals/is-callable.js"),E=l("./node_modules/core-js/internals/is-object.js"),I=l("./node_modules/core-js/internals/an-instance.js"),L=l("./node_modules/core-js/internals/species-constructor.js"),Z=l("./node_modules/core-js/internals/task.js").set,ne=l("./node_modules/core-js/internals/microtask.js"),G=l("./node_modules/core-js/internals/host-report-errors.js"),le=l("./node_modules/core-js/internals/perform.js"),V=l("./node_modules/core-js/internals/queue.js"),me=l("./node_modules/core-js/internals/internal-state.js"),$=l("./node_modules/core-js/internals/promise-native-constructor.js"),X=l("./node_modules/core-js/internals/promise-constructor-detection.js"),Ce=l("./node_modules/core-js/internals/new-promise-capability.js"),M="Promise",q=X.CONSTRUCTOR,ie=X.REJECTION_EVENT,J=X.SUBCLASSING,D=me.getterFor(M),ce=me.set,te=$&&$.prototype,ge=$,pe=te,be=A.TypeError,re=A.document,de=A.process,Y=Ce.f,Ae=Y,ye=!!(re&&re.createEvent&&A.dispatchEvent),Oe="unhandledrejection",We="rejectionhandled",ae=0,ke=1,Fe=2,nt=1,tt=2,Le,lt,$t,Ue,yt=function(Ft){var Lt;return E(Ft)&&w(Lt=Ft.then)?Lt:!1},Tt=function(Ft,Lt){var Dr=Lt.value,Or=Lt.state===ke,Kr=Or?Ft.ok:Ft.fail,Hr=Ft.resolve,Bn=Ft.reject,Wr=Ft.domain,Qr,vn,sn;try{Kr?(Or||(Lt.rejection===tt&&mr(Lt),Lt.rejection=nt),Kr===!0?Qr=Dr:(Wr&&Wr.enter(),Qr=Kr(Dr),Wr&&(Wr.exit(),sn=!0)),Qr===Ft.promise?Bn(new be("Promise-chain cycle")):(vn=yt(Qr))?m(vn,Qr,Hr,Bn):Hr(Qr)):Bn(Dr)}catch(Ln){Wr&&!sn&&Wr.exit(),Bn(Ln)}},Zt=function(Ft,Lt){Ft.notified||(Ft.notified=!0,ne(function(){for(var Dr=Ft.reactions,Or;Or=Dr.get();)Tt(Or,Ft);Ft.notified=!1,Lt&&!Ft.rejection&&_t(Ft)}))},Mr=function(Ft,Lt,Dr){var Or,Kr;ye?(Or=re.createEvent("Event"),Or.promise=Lt,Or.reason=Dr,Or.initEvent(Ft,!1,!0),A.dispatchEvent(Or)):Or={promise:Lt,reason:Dr},!ie&&(Kr=A["on"+Ft])?Kr(Or):Ft===Oe&&G("Unhandled promise rejection",Dr)},_t=function(Ft){m(Z,A,function(){var Lt=Ft.facade,Dr=Ft.value,Or=Vt(Ft),Kr;if(Or&&(Kr=le(function(){f?de.emit("unhandledRejection",Dr,Lt):Mr(Oe,Lt,Dr)}),Ft.rejection=f||Vt(Ft)?tt:nt,Kr.error))throw Kr.value})},Vt=function(Ft){return Ft.rejection!==nt&&!Ft.parent},mr=function(Ft){m(Z,A,function(){var Lt=Ft.facade;f?de.emit("rejectionHandled",Lt):Mr(We,Lt,Ft.value)})},Qe=function(Ft,Lt,Dr){return function(Or){Ft(Lt,Or,Dr)}},Bt=function(Ft,Lt,Dr){Ft.done||(Ft.done=!0,Dr&&(Ft=Dr),Ft.value=Lt,Ft.state=Fe,Zt(Ft,!0))},Ge=function(Ft,Lt,Dr){if(!Ft.done){Ft.done=!0,Dr&&(Ft=Dr);try{if(Ft.facade===Lt)throw new be("Promise can't be resolved itself");var Or=yt(Lt);Or?ne(function(){var Kr={done:!1};try{m(Or,Lt,Qe(Ge,Kr,Ft),Qe(Bt,Kr,Ft))}catch(Hr){Bt(Kr,Hr,Ft)}}):(Ft.value=Lt,Ft.state=ke,Zt(Ft,!1))}catch(Kr){Bt({done:!1},Kr,Ft)}}};if(q&&(ge=function(Lt){I(this,pe),S(Lt),m(Le,this);var Dr=D(this);try{Lt(Qe(Ge,Dr),Qe(Bt,Dr))}catch(Or){Bt(Dr,Or)}},pe=ge.prototype,Le=function(Lt){ce(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:ae,value:null})},Le.prototype=x(pe,"then",function(Lt,Dr){var Or=D(this),Kr=Y(L(this,ge));return Or.parent=!0,Kr.ok=w(Lt)?Lt:!0,Kr.fail=w(Dr)&&Dr,Kr.domain=f?de.domain:void 0,Or.state===ae?Or.reactions.add(Kr):ne(function(){Tt(Kr,Or)}),Kr.promise}),lt=function(){var Ft=new Le,Lt=D(Ft);this.promise=Ft,this.resolve=Qe(Ge,Lt),this.reject=Qe(Bt,Lt)},Ce.f=Y=function(Ft){return Ft===ge||Ft===$t?new lt(Ft):Ae(Ft)},!h&&w($)&&te!==Object.prototype)){Ue=te.then,J||x(te,"then",function(Lt,Dr){var Or=this;return new ge(function(Kr,Hr){m(Ue,Or,Kr,Hr)}).then(Lt,Dr)},{unsafe:!0});try{delete te.constructor}catch{}y&&y(te,pe)}u({global:!0,constructor:!0,wrap:!0,forced:q},{Promise:ge}),$t=g.Promise,b(ge,M,!1,!0),j(M)}),"./node_modules/core-js/modules/es.promise.js":(function(o,d,l){l("./node_modules/core-js/modules/es.promise.constructor.js"),l("./node_modules/core-js/modules/es.promise.all.js"),l("./node_modules/core-js/modules/es.promise.catch.js"),l("./node_modules/core-js/modules/es.promise.race.js"),l("./node_modules/core-js/modules/es.promise.reject.js"),l("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),m=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");u({target:"Promise",stat:!0,forced:x},{race:function(b){var j=this,S=A.f(j),w=S.reject,E=g(function(){var I=f(j.resolve);m(b,function(L){h(I,j,L).then(S.resolve,w)})});return E.error&&w(E.value),S.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/new-promise-capability.js"),f=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u({target:"Promise",stat:!0,forced:f},{reject:function(g){var m=h.f(this),x=m.reject;return x(g),m.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,m=l("./node_modules/core-js/internals/promise-resolve.js"),x=h("Promise"),y=f&&!g;u({target:"Promise",stat:!0,forced:f||g},{resolve:function(j){return m(y&&this===x?A:this,j)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/regexp-exec.js");u({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(o,d,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=(function(){var y=!1,b=/[ac]/;return b.exec=function(){return y=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&y})(),x=/./.test;u({target:"RegExp",proto:!0,forced:!m},{test:function(y){var b=A(this),j=g(y),S=b.exec;if(!f(S))return h(x,b,j);var w=h(S,b,j);return w===null?!1:(A(w),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-name.js").PROPER,h=l("./node_modules/core-js/internals/define-built-in.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",y=RegExp.prototype,b=y[x],j=g(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),S=u&&b.name!==x;(j||S)&&h(y,x,function(){var E=f(this),I=A(E.source),L=A(m(E));return"/"+I+"/"+L},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/collection.js"),h=l("./node_modules/core-js/internals/collection-strong.js");u("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},h)}),"./node_modules/core-js/modules/es.set.js":(function(o,d,l){l("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),y=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=l("./node_modules/core-js/internals/is-pure.js"),j=h("".slice),S=Math.min,w=y("endsWith"),E=!b&&!w&&!!(function(){var I=f(String.prototype,"endsWith");return I&&!I.writable})();u({target:"String",proto:!0,forced:!E&&!w},{endsWith:function(L){var Z=g(x(this));m(L);var ne=arguments.length>1?arguments[1]:void 0,G=Z.length,le=ne===void 0?G:S(A(ne),G),V=g(L);return j(Z,le-V.length,le)===V}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/not-a-regexp.js"),A=l("./node_modules/core-js/internals/require-object-coercible.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=h("".indexOf);u({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~x(g(A(this)),g(f(b)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/string-multibyte.js").charAt,h=l("./node_modules/core-js/internals/to-string.js"),f=l("./node_modules/core-js/internals/internal-state.js"),A=l("./node_modules/core-js/internals/iterator-define.js"),g=l("./node_modules/core-js/internals/create-iter-result-object.js"),m="String Iterator",x=f.set,y=f.getterFor(m);A(String,"String",function(b){x(this,{type:m,string:h(b),index:0})},function(){var j=y(this),S=j.string,w=j.index,E;return w>=S.length?g(void 0,!0):(E=u(S,w),j.index+=E.length,g(E,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/create-html.js"),f=l("./node_modules/core-js/internals/string-html-forced.js");u({target:"String",proto:!0,forced:f("link")},{link:function(g){return h(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/to-length.js"),x=l("./node_modules/core-js/internals/to-string.js"),y=l("./node_modules/core-js/internals/require-object-coercible.js"),b=l("./node_modules/core-js/internals/get-method.js"),j=l("./node_modules/core-js/internals/advance-string-index.js"),S=l("./node_modules/core-js/internals/regexp-get-flags.js"),w=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),E=h("".indexOf);f("match",function(I,L,Z){return[function(G){var le=y(this),V=g(G)?b(G,I):void 0;return V?u(V,G,le):new RegExp(G)[I](x(le))},function(ne){var G=A(this),le=x(ne),V=Z(L,G,le);if(V.done)return V.value;var me=x(S(G));if(E(me,"g")===-1)return w(G,le);var $=E(me,"u")!==-1;G.lastIndex=0;for(var X=[],Ce=0,M;(M=w(G,le))!==null;){var q=x(M[0]);X[Ce]=q,q===""&&(G.lastIndex=j(le,m(G.lastIndex),$)),Ce++}return Ce===0?null:X}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-apply.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/an-object.js"),x=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/is-object.js"),b=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),j=l("./node_modules/core-js/internals/to-length.js"),S=l("./node_modules/core-js/internals/to-string.js"),w=l("./node_modules/core-js/internals/require-object-coercible.js"),E=l("./node_modules/core-js/internals/advance-string-index.js"),I=l("./node_modules/core-js/internals/get-method.js"),L=l("./node_modules/core-js/internals/get-substitution.js"),Z=l("./node_modules/core-js/internals/regexp-get-flags.js"),ne=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),G=l("./node_modules/core-js/internals/well-known-symbol.js"),le=G("replace"),V=Math.max,me=Math.min,$=f([].concat),X=f([].push),Ce=f("".indexOf),M=f("".slice),q=function(ce){return ce===void 0?ce:String(ce)},ie=(function(){return"a".replace(/./,"$0")==="$0"})(),J=(function(){return/./[le]?/./[le]("a","$0")==="":!1})(),D=!g(function(){var ce=/./;return ce.exec=function(){var te=[];return te.groups={a:"7"},te},"".replace(ce,"$<a>")!=="7"});A("replace",function(ce,te,ge){var pe=J?"$":"$0";return[function(re,de){var Y=w(this),Ae=y(re)?I(re,le):void 0;return Ae?h(Ae,re,Y,de):h(te,S(Y),re,de)},function(be,re){var de=m(this),Y=S(be);if(typeof re=="string"&&Ce(re,pe)===-1&&Ce(re,"$<")===-1){var Ae=ge(te,de,Y,re);if(Ae.done)return Ae.value}var ye=x(re);ye||(re=S(re));var Oe=S(Z(de)),We=Ce(Oe,"g")!==-1,ae;We&&(ae=Ce(Oe,"u")!==-1,de.lastIndex=0);for(var ke=[],Fe;Fe=ne(de,Y),!(Fe===null||(X(ke,Fe),!We));){var nt=S(Fe[0]);nt===""&&(de.lastIndex=E(Y,j(de.lastIndex),ae))}for(var tt="",Le=0,lt=0;lt<ke.length;lt++){Fe=ke[lt];for(var $t=S(Fe[0]),Ue=V(me(b(Fe.index),Y.length),0),yt=[],Tt,Zt=1;Zt<Fe.length;Zt++)X(yt,q(Fe[Zt]));var Mr=Fe.groups;if(ye){var _t=$([$t],yt,Ue,Y);Mr!==void 0&&X(_t,Mr),Tt=S(u(re,void 0,_t))}else Tt=L($t,Y,Ue,yt,Mr,re);Ue>=Le&&(tt+=M(Y,Le,Ue)+Tt,Le=Ue+$t.length)}return tt+M(Y,Le)}]},!D||!ie||J)}),"./node_modules/core-js/modules/es.string.split.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/function-call.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),A=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/require-object-coercible.js"),x=l("./node_modules/core-js/internals/species-constructor.js"),y=l("./node_modules/core-js/internals/advance-string-index.js"),b=l("./node_modules/core-js/internals/to-length.js"),j=l("./node_modules/core-js/internals/to-string.js"),S=l("./node_modules/core-js/internals/get-method.js"),w=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),E=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),I=l("./node_modules/core-js/internals/fails.js"),L=E.UNSUPPORTED_Y,Z=4294967295,ne=Math.min,G=h([].push),le=h("".slice),V=!I(function(){var $=/(?:)/,X=$.exec;$.exec=function(){return X.apply(this,arguments)};var Ce="ab".split($);return Ce.length!==2||Ce[0]!=="a"||Ce[1]!=="b"}),me="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",function($,X,Ce){var M="0".split(void 0,0).length?function(q,ie){return q===void 0&&ie===0?[]:u(X,this,q,ie)}:X;return[function(ie,J){var D=m(this),ce=g(ie)?S(ie,$):void 0;return ce?u(ce,ie,D,J):u(M,j(D),ie,J)},function(q,ie){var J=A(this),D=j(q);if(!me){var ce=Ce(M,J,D,ie,M!==X);if(ce.done)return ce.value}var te=x(J,RegExp),ge=J.unicode,pe=(J.ignoreCase?"i":"")+(J.multiline?"m":"")+(J.unicode?"u":"")+(L?"g":"y"),be=new te(L?"^(?:"+J.source+")":J,pe),re=ie===void 0?Z:ie>>>0;if(re===0)return[];if(D.length===0)return w(be,D)===null?[D]:[];for(var de=0,Y=0,Ae=[];Y<D.length;){be.lastIndex=L?0:Y;var ye=w(be,L?le(D,Y):D),Oe;if(ye===null||(Oe=ne(b(be.lastIndex+(L?Y:0)),D.length))===de)Y=y(D,Y,ge);else{if(G(Ae,le(D,de,Y)),Ae.length===re)return Ae;for(var We=1;We<=ye.length-1;We++)if(G(Ae,ye[We]),Ae.length===re)return Ae;Y=de=Oe}}return G(Ae,le(D,de)),Ae}]},me||!V,L)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),y=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),b=l("./node_modules/core-js/internals/is-pure.js"),j=h("".slice),S=Math.min,w=y("startsWith"),E=!b&&!w&&!!(function(){var I=f(String.prototype,"startsWith");return I&&!I.writable})();u({target:"String",proto:!0,forced:!E&&!w},{startsWith:function(L){var Z=g(x(this));m(L);var ne=A(S(arguments.length>1?arguments[1]:void 0,Z.length)),G=g(L);return j(Z,ne,ne+G.length)===G}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/string-trim.js").trim,f=l("./node_modules/core-js/internals/string-trim-forced.js");u({target:"String",proto:!0,forced:f("trim")},{trim:function(){return h(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/is-pure.js"),m=l("./node_modules/core-js/internals/descriptors.js"),x=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=l("./node_modules/core-js/internals/fails.js"),b=l("./node_modules/core-js/internals/has-own-property.js"),j=l("./node_modules/core-js/internals/object-is-prototype-of.js"),S=l("./node_modules/core-js/internals/an-object.js"),w=l("./node_modules/core-js/internals/to-indexed-object.js"),E=l("./node_modules/core-js/internals/to-property-key.js"),I=l("./node_modules/core-js/internals/to-string.js"),L=l("./node_modules/core-js/internals/create-property-descriptor.js"),Z=l("./node_modules/core-js/internals/object-create.js"),ne=l("./node_modules/core-js/internals/object-keys.js"),G=l("./node_modules/core-js/internals/object-get-own-property-names.js"),le=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),V=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),me=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),$=l("./node_modules/core-js/internals/object-define-property.js"),X=l("./node_modules/core-js/internals/object-define-properties.js"),Ce=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),M=l("./node_modules/core-js/internals/define-built-in.js"),q=l("./node_modules/core-js/internals/define-built-in-accessor.js"),ie=l("./node_modules/core-js/internals/shared.js"),J=l("./node_modules/core-js/internals/shared-key.js"),D=l("./node_modules/core-js/internals/hidden-keys.js"),ce=l("./node_modules/core-js/internals/uid.js"),te=l("./node_modules/core-js/internals/well-known-symbol.js"),ge=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),pe=l("./node_modules/core-js/internals/well-known-symbol-define.js"),be=l("./node_modules/core-js/internals/symbol-define-to-primitive.js"),re=l("./node_modules/core-js/internals/set-to-string-tag.js"),de=l("./node_modules/core-js/internals/internal-state.js"),Y=l("./node_modules/core-js/internals/array-iteration.js").forEach,Ae=J("hidden"),ye="Symbol",Oe="prototype",We=de.set,ae=de.getterFor(ye),ke=Object[Oe],Fe=h.Symbol,nt=Fe&&Fe[Oe],tt=h.RangeError,Le=h.TypeError,lt=h.QObject,$t=me.f,Ue=$.f,yt=le.f,Tt=Ce.f,Zt=A([].push),Mr=ie("symbols"),_t=ie("op-symbols"),Vt=ie("wks"),mr=!lt||!lt[Oe]||!lt[Oe].findChild,Qe=function(Wr,Qr,vn){var sn=$t(ke,Qr);sn&&delete ke[Qr],Ue(Wr,Qr,vn),sn&&Wr!==ke&&Ue(ke,Qr,sn)},Bt=m&&y(function(){return Z(Ue({},"a",{get:function(){return Ue(this,"a",{value:7}).a}})).a!==7})?Qe:Ue,Ge=function(Wr,Qr){var vn=Mr[Wr]=Z(nt);return We(vn,{type:ye,tag:Wr,description:Qr}),m||(vn.description=Qr),vn},Ft=function(Qr,vn,sn){Qr===ke&&Ft(_t,vn,sn),S(Qr);var Ln=E(vn);return S(sn),b(Mr,Ln)?(sn.enumerable?(b(Qr,Ae)&&Qr[Ae][Ln]&&(Qr[Ae][Ln]=!1),sn=Z(sn,{enumerable:L(0,!1)})):(b(Qr,Ae)||Ue(Qr,Ae,L(1,Z(null))),Qr[Ae][Ln]=!0),Bt(Qr,Ln,sn)):Ue(Qr,Ln,sn)},Lt=function(Qr,vn){S(Qr);var sn=w(vn),Ln=ne(sn).concat(Bn(sn));return Y(Ln,function(da){(!m||f(Or,sn,da))&&Ft(Qr,da,sn[da])}),Qr},Dr=function(Qr,vn){return vn===void 0?Z(Qr):Lt(Z(Qr),vn)},Or=function(Qr){var vn=E(Qr),sn=f(Tt,this,vn);return this===ke&&b(Mr,vn)&&!b(_t,vn)?!1:sn||!b(this,vn)||!b(Mr,vn)||b(this,Ae)&&this[Ae][vn]?sn:!0},Kr=function(Qr,vn){var sn=w(Qr),Ln=E(vn);if(!(sn===ke&&b(Mr,Ln)&&!b(_t,Ln))){var da=$t(sn,Ln);return da&&b(Mr,Ln)&&!(b(sn,Ae)&&sn[Ae][Ln])&&(da.enumerable=!0),da}},Hr=function(Qr){var vn=yt(w(Qr)),sn=[];return Y(vn,function(Ln){!b(Mr,Ln)&&!b(D,Ln)&&Zt(sn,Ln)}),sn},Bn=function(Wr){var Qr=Wr===ke,vn=yt(Qr?_t:w(Wr)),sn=[];return Y(vn,function(Ln){b(Mr,Ln)&&(!Qr||b(ke,Ln))&&Zt(sn,Mr[Ln])}),sn};x||(Fe=function(){if(j(nt,this))throw new Le("Symbol is not a constructor");var Qr=!arguments.length||arguments[0]===void 0?void 0:I(arguments[0]),vn=ce(Qr),sn=function(Ln){var da=this===void 0?h:this;da===ke&&f(sn,_t,Ln),b(da,Ae)&&b(da[Ae],vn)&&(da[Ae][vn]=!1);var ci=L(1,Ln);try{Bt(da,vn,ci)}catch(ei){if(!(ei instanceof tt))throw ei;Qe(da,vn,ci)}};return m&&mr&&Bt(ke,vn,{configurable:!0,set:sn}),Ge(vn,Qr)},nt=Fe[Oe],M(nt,"toString",function(){return ae(this).tag}),M(Fe,"withoutSetter",function(Wr){return Ge(ce(Wr),Wr)}),Ce.f=Or,$.f=Ft,X.f=Lt,me.f=Kr,G.f=le.f=Hr,V.f=Bn,ge.f=function(Wr){return Ge(te(Wr),Wr)},m&&(q(nt,"description",{configurable:!0,get:function(){return ae(this).description}}),g||M(ke,"propertyIsEnumerable",Or,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Fe}),Y(ne(Vt),function(Wr){pe(Wr)}),u({target:ye,stat:!0,forced:!x},{useSetter:function(){mr=!0},useSimple:function(){mr=!1}}),u({target:"Object",stat:!0,forced:!x,sham:!m},{create:Dr,defineProperty:Ft,defineProperties:Lt,getOwnPropertyDescriptor:Kr}),u({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:Hr}),be(),re(Fe,ye),D[Ae]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),y=l("./node_modules/core-js/internals/to-string.js"),b=l("./node_modules/core-js/internals/define-built-in-accessor.js"),j=l("./node_modules/core-js/internals/copy-constructor-properties.js"),S=f.Symbol,w=S&&S.prototype;if(h&&m(S)&&(!("description"in w)||S().description!==void 0)){var E={},I=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),X=x(w,this)?new S($):$===void 0?S():S($);return $===""&&(E[X]=!0),X};j(I,S),I.prototype=w,w.constructor=I;var L=String(S("description detection"))==="Symbol(description detection)",Z=A(w.valueOf),ne=A(w.toString),G=/^Symbol\((.*)\)[^)]+$/,le=A("".replace),V=A("".slice);b(w,"description",{configurable:!0,get:function(){var $=Z(this);if(g(E,$))return"";var X=ne($),Ce=L?V(X,7,-1):le(X,G,"$1");return Ce===""?void 0:Ce}}),u({global:!0,constructor:!0,forced:!0},{Symbol:I})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),m=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("string-to-symbol-registry"),y=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{for:function(b){var j=A(b);if(f(x,j))return x[j];var S=h("Symbol")(j);return x[j]=S,y[S]=j,S}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/well-known-symbol-define.js");u("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(o,d,l){l("./node_modules/core-js/modules/es.symbol.constructor.js"),l("./node_modules/core-js/modules/es.symbol.for.js"),l("./node_modules/core-js/modules/es.symbol.key-for.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-symbol.js"),A=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),m=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=g("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!f(b))throw new TypeError(A(b)+" is not a symbol");if(h(x,b))return x[b]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(o,d,l){l("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").add;u({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=h(this),m=0,x=arguments.length;m<x;m++)f(g,arguments[m]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").remove;u({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=h(this),m=!0,x,y=0,b=arguments.length;y<b;y++)x=f(g,arguments[y]),m=m&&x;return!!m}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-difference.js");u({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{every:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0);return A(x,function(b){if(!y(b,b,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;u({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var j=f(this),S=h(b,arguments.length>1?arguments[1]:void 0),w=new m;return g(j,function(E){S(E,E,j)&&x(w,E)}),w}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{find:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0),b=A(x,function(j){if(y(j,j,x))return{value:j}},!0);return b&&b.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-intersection.js");u({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-disjoint-from.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-subset-of.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-is-superset-of.js");u({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js"),g=l("./node_modules/core-js/internals/to-string.js"),m=h([].join),x=h([].push);u({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var j=f(this),S=b===void 0?",":g(b),w=[];return A(j,function(E){x(w,E)}),m(w,S)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),m=A.Set,x=A.add;u({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var j=f(this),S=h(b,arguments.length>1?arguments[1]:void 0),w=new m;return g(j,function(E){x(w,S(E,E,j))}),w}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;u({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var y=f(this),b=arguments.length<2,j=b?void 0:arguments[1];if(h(x),A(y,function(S){b?(b=!1,j=S):j=x(j,S,S,y)}),b)throw new g("Reduce of empty set with no initial value");return j}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-iterate.js");u({target:"Set",proto:!0,real:!0,forced:!0},{some:function(m){var x=f(this),y=h(m,arguments.length>1?arguments[1]:void 0);return A(x,function(b){if(y(b,b,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-symmetric-difference.js");u({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/to-set-like.js"),A=l("./node_modules/core-js/internals/set-union.js");u({target:"Set",proto:!0,real:!0,forced:!0},{union:function(m){return h(A,this,f(m))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),f=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=l("./node_modules/core-js/internals/array-for-each.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=function(y){if(y&&y.forEach!==A)try{g(y,"forEach",A)}catch{y.forEach=A}};for(var x in h)h[x]&&m(u[x]&&u[x].prototype);m(f)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/global-this.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),f=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),A=l("./node_modules/core-js/modules/es.array.iterator.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=l("./node_modules/core-js/internals/set-to-string-tag.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=x("iterator"),b=A.values,j=function(w,E){if(w){if(w[y]!==b)try{g(w,y,b)}catch{w[y]=b}if(m(w,E,!0),h[E]){for(var I in A)if(w[I]!==A[I])try{g(w,I,A[I])}catch{w[I]=A[I]}}}};for(var S in h)j(u[S]&&u[S].prototype,S);j(f,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/schedulers-fix.js"),A=f(h.setInterval,!0);u({global:!0,bind:!0,forced:h.setInterval!==A},{setInterval:A})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(o,d,l){var u=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/schedulers-fix.js"),A=f(h.setTimeout,!0);u({global:!0,bind:!0,forced:h.setTimeout!==A},{setTimeout:A})}),"./node_modules/core-js/modules/web.timers.js":(function(o,d,l){l("./node_modules/core-js/modules/web.set-interval.js"),l("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(o,d,l){l.r(d),l.d(d,{default:function(){return Qe}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:u,setPrototypeOf:h,isFrozen:f,getPrototypeOf:A,getOwnPropertyDescriptor:g}=Object;let{freeze:m,seal:x,create:y}=Object,{apply:b,construct:j}=typeof Reflect<"u"&&Reflect;m||(m=function(Ge){return Ge}),x||(x=function(Ge){return Ge}),b||(b=function(Ge,Ft){for(var Lt=arguments.length,Dr=new Array(Lt>2?Lt-2:0),Or=2;Or<Lt;Or++)Dr[Or-2]=arguments[Or];return Ge.apply(Ft,Dr)}),j||(j=function(Ge){for(var Ft=arguments.length,Lt=new Array(Ft>1?Ft-1:0),Dr=1;Dr<Ft;Dr++)Lt[Dr-1]=arguments[Dr];return new Ge(...Lt)});const S=M(Array.prototype.forEach),w=M(Array.prototype.lastIndexOf),E=M(Array.prototype.pop),I=M(Array.prototype.push),L=M(Array.prototype.splice),Z=M(String.prototype.toLowerCase),ne=M(String.prototype.toString),G=M(String.prototype.match),le=M(String.prototype.replace),V=M(String.prototype.indexOf),me=M(String.prototype.trim),$=M(Object.prototype.hasOwnProperty),X=M(RegExp.prototype.test),Ce=q(TypeError);function M(Bt){return function(Ge){Ge instanceof RegExp&&(Ge.lastIndex=0);for(var Ft=arguments.length,Lt=new Array(Ft>1?Ft-1:0),Dr=1;Dr<Ft;Dr++)Lt[Dr-1]=arguments[Dr];return b(Bt,Ge,Lt)}}function q(Bt){return function(){for(var Ge=arguments.length,Ft=new Array(Ge),Lt=0;Lt<Ge;Lt++)Ft[Lt]=arguments[Lt];return j(Bt,Ft)}}function ie(Bt,Ge){let Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z;h&&h(Bt,null);let Lt=Ge.length;for(;Lt--;){let Dr=Ge[Lt];if(typeof Dr=="string"){const Or=Ft(Dr);Or!==Dr&&(f(Ge)||(Ge[Lt]=Or),Dr=Or)}Bt[Dr]=!0}return Bt}function J(Bt){for(let Ge=0;Ge<Bt.length;Ge++)$(Bt,Ge)||(Bt[Ge]=null);return Bt}function D(Bt){const Ge=y(null);for(const[Ft,Lt]of u(Bt))$(Bt,Ft)&&(Array.isArray(Lt)?Ge[Ft]=J(Lt):Lt&&typeof Lt=="object"&&Lt.constructor===Object?Ge[Ft]=D(Lt):Ge[Ft]=Lt);return Ge}function ce(Bt,Ge){for(;Bt!==null;){const Lt=g(Bt,Ge);if(Lt){if(Lt.get)return M(Lt.get);if(typeof Lt.value=="function")return M(Lt.value)}Bt=A(Bt)}function Ft(){return null}return Ft}const te=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ge=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pe=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),be=m(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),re=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y=m(["#text"]),Ae=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ye=m(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Oe=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),We=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ae=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ke=x(/<%[\w\W]*|[\w\W]*%>/gm),Fe=x(/\$\{[\w\W]*/gm),nt=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),tt=x(/^aria-[\-\w]+$/),Le=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lt=x(/^(?:\w+script|data):/i),$t=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ue=x(/^html$/i),yt=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var Tt=Object.freeze({__proto__:null,ARIA_ATTR:tt,ATTR_WHITESPACE:$t,CUSTOM_ELEMENT:yt,DATA_ATTR:nt,DOCTYPE_NAME:Ue,ERB_EXPR:ke,IS_ALLOWED_URI:Le,IS_SCRIPT_OR_DATA:lt,MUSTACHE_EXPR:ae,TMPLIT_EXPR:Fe});const Zt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Mr=function(){return typeof window>"u"?null:window},_t=function(Ge,Ft){if(typeof Ge!="object"||typeof Ge.createPolicy!="function")return null;let Lt=null;const Dr="data-tt-policy-suffix";Ft&&Ft.hasAttribute(Dr)&&(Lt=Ft.getAttribute(Dr));const Or="dompurify"+(Lt?"#"+Lt:"");try{return Ge.createPolicy(Or,{createHTML(Kr){return Kr},createScriptURL(Kr){return Kr}})}catch{return console.warn("TrustedTypes policy "+Or+" could not be created."),null}},Vt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function mr(){let Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mr();const Ge=Ot=>mr(Ot);if(Ge.version="3.3.1",Ge.removed=[],!Bt||!Bt.document||Bt.document.nodeType!==Zt.document||!Bt.Element)return Ge.isSupported=!1,Ge;let{document:Ft}=Bt;const Lt=Ft,Dr=Lt.currentScript,{DocumentFragment:Or,HTMLTemplateElement:Kr,Node:Hr,Element:Bn,NodeFilter:Wr,NamedNodeMap:Qr=Bt.NamedNodeMap||Bt.MozNamedAttrMap,HTMLFormElement:vn,DOMParser:sn,trustedTypes:Ln}=Bt,da=Bn.prototype,ci=ce(da,"cloneNode"),ei=ce(da,"remove"),Xs=ce(da,"nextSibling"),ua=ce(da,"childNodes"),Zr=ce(da,"parentNode");if(typeof Kr=="function"){const Ot=Ft.createElement("template");Ot.content&&Ot.content.ownerDocument&&(Ft=Ot.content.ownerDocument)}let ls,Fi="";const{implementation:Sn,createNodeIterator:qi,createDocumentFragment:Ps,getElementsByTagName:ks}=Ft,{importNode:di}=Lt;let Us=Vt();Ge.isSupported=typeof u=="function"&&typeof Zr=="function"&&Sn&&Sn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:co,ERB_EXPR:ts,TMPLIT_EXPR:Xi,DATA_ATTR:Wa,ARIA_ATTR:Sc,IS_SCRIPT_OR_DATA:yi,ATTR_WHITESPACE:Il,CUSTOM_ELEMENT:Ec}=Tt;let{IS_ALLOWED_URI:Tl}=Tt,Hs=null;const jo=ie({},[...te,...ge,...pe,...re,...Y]);let ha=null;const ec=ie({},[...Ae,...ye,...Oe,...We]);let rs=Object.seal(y(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ko=null,Yi=null;const _o=Object.seal(y(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let al=!0,Oo=!0,Wi=!1,ws=!0,ns=!1,gl=!0,Fo=!1,$c=!1,ui=!1,zn=!1,Qs=!1,ji=!1,bi=!0,Po=!1;const Ds="user-content-";let uo=!0,Ys=!1,_s={},bo=null;const Do=ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let pa=null;const Ws=ie({},["audio","video","img","source","image","track"]);let wi=null;const Ji=ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pi="http://www.w3.org/1998/Math/MathML",Mo="http://www.w3.org/2000/svg",Kt="http://www.w3.org/1999/xhtml";let Q=Kt,fe=!1,ve=null;const R=ie({},[Pi,Mo,Kt],ne);let W=ie({},["mi","mo","mn","ms","mtext"]),ue=ie({},["annotation-xml"]);const Be=ie({},["title","style","font","a","script"]);let De=null;const Ye=["application/xhtml+xml","text/html"],dt="text/html";let k=null,B=null;const P=Ft.createElement("form"),K=function(st){return st instanceof RegExp||st instanceof Function},se=function(){let st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(B&&B===st)){if((!st||typeof st!="object")&&(st={}),st=D(st),De=Ye.indexOf(st.PARSER_MEDIA_TYPE)===-1?dt:st.PARSER_MEDIA_TYPE,k=De==="application/xhtml+xml"?ne:Z,Hs=$(st,"ALLOWED_TAGS")?ie({},st.ALLOWED_TAGS,k):jo,ha=$(st,"ALLOWED_ATTR")?ie({},st.ALLOWED_ATTR,k):ec,ve=$(st,"ALLOWED_NAMESPACES")?ie({},st.ALLOWED_NAMESPACES,ne):R,wi=$(st,"ADD_URI_SAFE_ATTR")?ie(D(Ji),st.ADD_URI_SAFE_ATTR,k):Ji,pa=$(st,"ADD_DATA_URI_TAGS")?ie(D(Ws),st.ADD_DATA_URI_TAGS,k):Ws,bo=$(st,"FORBID_CONTENTS")?ie({},st.FORBID_CONTENTS,k):Do,ko=$(st,"FORBID_TAGS")?ie({},st.FORBID_TAGS,k):D({}),Yi=$(st,"FORBID_ATTR")?ie({},st.FORBID_ATTR,k):D({}),_s=$(st,"USE_PROFILES")?st.USE_PROFILES:!1,al=st.ALLOW_ARIA_ATTR!==!1,Oo=st.ALLOW_DATA_ATTR!==!1,Wi=st.ALLOW_UNKNOWN_PROTOCOLS||!1,ws=st.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ns=st.SAFE_FOR_TEMPLATES||!1,gl=st.SAFE_FOR_XML!==!1,Fo=st.WHOLE_DOCUMENT||!1,zn=st.RETURN_DOM||!1,Qs=st.RETURN_DOM_FRAGMENT||!1,ji=st.RETURN_TRUSTED_TYPE||!1,ui=st.FORCE_BODY||!1,bi=st.SANITIZE_DOM!==!1,Po=st.SANITIZE_NAMED_PROPS||!1,uo=st.KEEP_CONTENT!==!1,Ys=st.IN_PLACE||!1,Tl=st.ALLOWED_URI_REGEXP||Le,Q=st.NAMESPACE||Kt,W=st.MATHML_TEXT_INTEGRATION_POINTS||W,ue=st.HTML_INTEGRATION_POINTS||ue,rs=st.CUSTOM_ELEMENT_HANDLING||{},st.CUSTOM_ELEMENT_HANDLING&&K(st.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rs.tagNameCheck=st.CUSTOM_ELEMENT_HANDLING.tagNameCheck),st.CUSTOM_ELEMENT_HANDLING&&K(st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rs.attributeNameCheck=st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),st.CUSTOM_ELEMENT_HANDLING&&typeof st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rs.allowCustomizedBuiltInElements=st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ns&&(Oo=!1),Qs&&(zn=!0),_s&&(Hs=ie({},Y),ha=[],_s.html===!0&&(ie(Hs,te),ie(ha,Ae)),_s.svg===!0&&(ie(Hs,ge),ie(ha,ye),ie(ha,We)),_s.svgFilters===!0&&(ie(Hs,pe),ie(ha,ye),ie(ha,We)),_s.mathMl===!0&&(ie(Hs,re),ie(ha,Oe),ie(ha,We))),st.ADD_TAGS&&(typeof st.ADD_TAGS=="function"?_o.tagCheck=st.ADD_TAGS:(Hs===jo&&(Hs=D(Hs)),ie(Hs,st.ADD_TAGS,k))),st.ADD_ATTR&&(typeof st.ADD_ATTR=="function"?_o.attributeCheck=st.ADD_ATTR:(ha===ec&&(ha=D(ha)),ie(ha,st.ADD_ATTR,k))),st.ADD_URI_SAFE_ATTR&&ie(wi,st.ADD_URI_SAFE_ATTR,k),st.FORBID_CONTENTS&&(bo===Do&&(bo=D(bo)),ie(bo,st.FORBID_CONTENTS,k)),st.ADD_FORBID_CONTENTS&&(bo===Do&&(bo=D(bo)),ie(bo,st.ADD_FORBID_CONTENTS,k)),uo&&(Hs["#text"]=!0),Fo&&ie(Hs,["html","head","body"]),Hs.table&&(ie(Hs,["tbody"]),delete ko.tbody),st.TRUSTED_TYPES_POLICY){if(typeof st.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ce('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof st.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ce('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ls=st.TRUSTED_TYPES_POLICY,Fi=ls.createHTML("")}else ls===void 0&&(ls=_t(Ln,Dr)),ls!==null&&typeof Fi=="string"&&(Fi=ls.createHTML(""));m&&m(st),B=st}},he=ie({},[...ge,...pe,...be]),Ie=ie({},[...re,...de]),we=function(st){let Xt=Zr(st);(!Xt||!Xt.tagName)&&(Xt={namespaceURI:Q,tagName:"template"});const pr=Z(st.tagName),ar=Z(Xt.tagName);return ve[st.namespaceURI]?st.namespaceURI===Mo?Xt.namespaceURI===Kt?pr==="svg":Xt.namespaceURI===Pi?pr==="svg"&&(ar==="annotation-xml"||W[ar]):!!he[pr]:st.namespaceURI===Pi?Xt.namespaceURI===Kt?pr==="math":Xt.namespaceURI===Mo?pr==="math"&&ue[ar]:!!Ie[pr]:st.namespaceURI===Kt?Xt.namespaceURI===Mo&&!ue[ar]||Xt.namespaceURI===Pi&&!W[ar]?!1:!Ie[pr]&&(Be[pr]||!he[pr]):!!(De==="application/xhtml+xml"&&ve[st.namespaceURI]):!1},Ne=function(st){I(Ge.removed,{element:st});try{Zr(st).removeChild(st)}catch{ei(st)}},Re=function(st,Xt){try{I(Ge.removed,{attribute:Xt.getAttributeNode(st),from:Xt})}catch{I(Ge.removed,{attribute:null,from:Xt})}if(Xt.removeAttribute(st),st==="is")if(zn||Qs)try{Ne(Xt)}catch{}else try{Xt.setAttribute(st,"")}catch{}},Ke=function(st){let Xt=null,pr=null;if(ui)st="<remove></remove>"+st;else{const Ar=G(st,/^[\r\n\t ]+/);pr=Ar&&Ar[0]}De==="application/xhtml+xml"&&Q===Kt&&(st='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+st+"</body></html>");const ar=ls?ls.createHTML(st):st;if(Q===Kt)try{Xt=new sn().parseFromString(ar,De)}catch{}if(!Xt||!Xt.documentElement){Xt=Sn.createDocument(Q,"template",null);try{Xt.documentElement.innerHTML=fe?Fi:ar}catch{}}const Mt=Xt.body||Xt.documentElement;return st&&pr&&Mt.insertBefore(Ft.createTextNode(pr),Mt.childNodes[0]||null),Q===Kt?ks.call(Xt,Fo?"html":"body")[0]:Fo?Xt.documentElement:Mt},at=function(st){return qi.call(st.ownerDocument||st,st,Wr.SHOW_ELEMENT|Wr.SHOW_COMMENT|Wr.SHOW_TEXT|Wr.SHOW_PROCESSING_INSTRUCTION|Wr.SHOW_CDATA_SECTION,null)},ut=function(st){return st instanceof vn&&(typeof st.nodeName!="string"||typeof st.textContent!="string"||typeof st.removeChild!="function"||!(st.attributes instanceof Qr)||typeof st.removeAttribute!="function"||typeof st.setAttribute!="function"||typeof st.namespaceURI!="string"||typeof st.insertBefore!="function"||typeof st.hasChildNodes!="function")},Pe=function(st){return typeof Hr=="function"&&st instanceof Hr};function Nt(Ot,st,Xt){S(Ot,pr=>{pr.call(Ge,st,Xt,B)})}const bt=function(st){let Xt=null;if(Nt(Us.beforeSanitizeElements,st,null),ut(st))return Ne(st),!0;const pr=k(st.nodeName);if(Nt(Us.uponSanitizeElement,st,{tagName:pr,allowedTags:Hs}),gl&&st.hasChildNodes()&&!Pe(st.firstElementChild)&&X(/<[/\w!]/g,st.innerHTML)&&X(/<[/\w!]/g,st.textContent)||st.nodeType===Zt.progressingInstruction||gl&&st.nodeType===Zt.comment&&X(/<[/\w]/g,st.data))return Ne(st),!0;if(!(_o.tagCheck instanceof Function&&_o.tagCheck(pr))&&(!Hs[pr]||ko[pr])){if(!ko[pr]&&ot(pr)&&(rs.tagNameCheck instanceof RegExp&&X(rs.tagNameCheck,pr)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(pr)))return!1;if(uo&&!bo[pr]){const ar=Zr(st)||st.parentNode,Mt=ua(st)||st.childNodes;if(Mt&&ar){const Ar=Mt.length;for(let ct=Ar-1;ct>=0;--ct){const mt=ci(Mt[ct],!0);mt.__removalCount=(st.__removalCount||0)+1,ar.insertBefore(mt,Xs(st))}}}return Ne(st),!0}return st instanceof Bn&&!we(st)||(pr==="noscript"||pr==="noembed"||pr==="noframes")&&X(/<\/no(script|embed|frames)/i,st.innerHTML)?(Ne(st),!0):(ns&&st.nodeType===Zt.text&&(Xt=st.textContent,S([co,ts,Xi],ar=>{Xt=le(Xt,ar," ")}),st.textContent!==Xt&&(I(Ge.removed,{element:st.cloneNode()}),st.textContent=Xt)),Nt(Us.afterSanitizeElements,st,null),!1)},Et=function(st,Xt,pr){if(bi&&(Xt==="id"||Xt==="name")&&(pr in Ft||pr in P))return!1;if(!(Oo&&!Yi[Xt]&&X(Wa,Xt))){if(!(al&&X(Sc,Xt))){if(!(_o.attributeCheck instanceof Function&&_o.attributeCheck(Xt,st))){if(!ha[Xt]||Yi[Xt]){if(!(ot(st)&&(rs.tagNameCheck instanceof RegExp&&X(rs.tagNameCheck,st)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(st))&&(rs.attributeNameCheck instanceof RegExp&&X(rs.attributeNameCheck,Xt)||rs.attributeNameCheck instanceof Function&&rs.attributeNameCheck(Xt,st))||Xt==="is"&&rs.allowCustomizedBuiltInElements&&(rs.tagNameCheck instanceof RegExp&&X(rs.tagNameCheck,pr)||rs.tagNameCheck instanceof Function&&rs.tagNameCheck(pr))))return!1}else if(!wi[Xt]){if(!X(Tl,le(pr,Il,""))){if(!((Xt==="src"||Xt==="xlink:href"||Xt==="href")&&st!=="script"&&V(pr,"data:")===0&&pa[st])){if(!(Wi&&!X(yi,le(pr,Il,"")))){if(pr)return!1}}}}}}}return!0},ot=function(st){return st!=="annotation-xml"&&G(st,Ec)},Ut=function(st){Nt(Us.beforeSanitizeAttributes,st,null);const{attributes:Xt}=st;if(!Xt||ut(st))return;const pr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ha,forceKeepAttr:void 0};let ar=Xt.length;for(;ar--;){const Mt=Xt[ar],{name:Ar,namespaceURI:ct,value:mt}=Mt,Pt=k(Ar),Dt=mt;let gr=Ar==="value"?Dt:me(Dt);if(pr.attrName=Pt,pr.attrValue=gr,pr.keepAttr=!0,pr.forceKeepAttr=void 0,Nt(Us.uponSanitizeAttribute,st,pr),gr=pr.attrValue,Po&&(Pt==="id"||Pt==="name")&&(Re(Ar,st),gr=Ds+gr),gl&&X(/((--!?|])>)|<\/(style|title|textarea)/i,gr)){Re(Ar,st);continue}if(Pt==="attributename"&&G(gr,"href")){Re(Ar,st);continue}if(pr.forceKeepAttr)continue;if(!pr.keepAttr){Re(Ar,st);continue}if(!ws&&X(/\/>/i,gr)){Re(Ar,st);continue}ns&&S([co,ts,Xi],Nr=>{gr=le(gr,Nr," ")});const jr=k(st.nodeName);if(!Et(jr,Pt,gr)){Re(Ar,st);continue}if(ls&&typeof Ln=="object"&&typeof Ln.getAttributeType=="function"&&!ct)switch(Ln.getAttributeType(jr,Pt)){case"TrustedHTML":{gr=ls.createHTML(gr);break}case"TrustedScriptURL":{gr=ls.createScriptURL(gr);break}}if(gr!==Dt)try{ct?st.setAttributeNS(ct,Ar,gr):st.setAttribute(Ar,gr),ut(st)?Ne(st):E(Ge.removed)}catch{Re(Ar,st)}}Nt(Us.afterSanitizeAttributes,st,null)},rr=function Ot(st){let Xt=null;const pr=at(st);for(Nt(Us.beforeSanitizeShadowDOM,st,null);Xt=pr.nextNode();)Nt(Us.uponSanitizeShadowNode,Xt,null),bt(Xt),Ut(Xt),Xt.content instanceof Or&&Ot(Xt.content);Nt(Us.afterSanitizeShadowDOM,st,null)};return Ge.sanitize=function(Ot){let st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xt=null,pr=null,ar=null,Mt=null;if(fe=!Ot,fe&&(Ot="<!-->"),typeof Ot!="string"&&!Pe(Ot))if(typeof Ot.toString=="function"){if(Ot=Ot.toString(),typeof Ot!="string")throw Ce("dirty is not a string, aborting")}else throw Ce("toString is not a function");if(!Ge.isSupported)return Ot;if($c||se(st),Ge.removed=[],typeof Ot=="string"&&(Ys=!1),Ys){if(Ot.nodeName){const mt=k(Ot.nodeName);if(!Hs[mt]||ko[mt])throw Ce("root node is forbidden and cannot be sanitized in-place")}}else if(Ot instanceof Hr)Xt=Ke("<!---->"),pr=Xt.ownerDocument.importNode(Ot,!0),pr.nodeType===Zt.element&&pr.nodeName==="BODY"||pr.nodeName==="HTML"?Xt=pr:Xt.appendChild(pr);else{if(!zn&&!ns&&!Fo&&Ot.indexOf("<")===-1)return ls&&ji?ls.createHTML(Ot):Ot;if(Xt=Ke(Ot),!Xt)return zn?null:ji?Fi:""}Xt&&ui&&Ne(Xt.firstChild);const Ar=at(Ys?Ot:Xt);for(;ar=Ar.nextNode();)bt(ar),Ut(ar),ar.content instanceof Or&&rr(ar.content);if(Ys)return Ot;if(zn){if(Qs)for(Mt=Ps.call(Xt.ownerDocument);Xt.firstChild;)Mt.appendChild(Xt.firstChild);else Mt=Xt;return(ha.shadowroot||ha.shadowrootmode)&&(Mt=di.call(Lt,Mt,!0)),Mt}let ct=Fo?Xt.outerHTML:Xt.innerHTML;return Fo&&Hs["!doctype"]&&Xt.ownerDocument&&Xt.ownerDocument.doctype&&Xt.ownerDocument.doctype.name&&X(Ue,Xt.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+Xt.ownerDocument.doctype.name+`>
`+ct),ns&&S([co,ts,Xi],mt=>{ct=le(ct,mt," ")}),ls&&ji?ls.createHTML(ct):ct},Ge.setConfig=function(){let Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(Ot),$c=!0},Ge.clearConfig=function(){B=null,$c=!1},Ge.isValidAttribute=function(Ot,st,Xt){B||se({});const pr=k(Ot),ar=k(st);return Et(pr,ar,Xt)},Ge.addHook=function(Ot,st){typeof st=="function"&&I(Us[Ot],st)},Ge.removeHook=function(Ot,st){if(st!==void 0){const Xt=w(Us[Ot],st);return Xt===-1?void 0:L(Us[Ot],Xt,1)[0]}return E(Us[Ot])},Ge.removeHooks=function(Ot){Us[Ot]=[]},Ge.removeAllHooks=function(){Us=Vt()},Ge}var Qe=mr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return b}});var u=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=l("./node_modules/pako/dist/pako.esm.mjs"),f=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),m=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=l("./node_modules/fast-png/lib-esm/helpers/text.js"),y=l("./node_modules/fast-png/lib-esm/internalTypes.js");class b extends u.IOBuffer{constructor(E,I={}){super(E);Ks(this,"_checkCrc");Ks(this,"_inflator");Ks(this,"_png");Ks(this,"_apng");Ks(this,"_end");Ks(this,"_hasPalette");Ks(this,"_palette");Ks(this,"_hasTransparency");Ks(this,"_transparency");Ks(this,"_compressionMethod");Ks(this,"_filterMethod");Ks(this,"_interlaceMethod");Ks(this,"_colorType");Ks(this,"_isAnimated");Ks(this,"_numberOfFrames");Ks(this,"_numberOfPlays");Ks(this,"_frames");Ks(this,"_writingDataChunks");const{checkCrc:L=!1}=I;this._checkCrc=L,this._inflator=new h.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y.CompressionMethod.UNKNOWN,this._filterMethod=y.FilterMethod.UNKNOWN,this._interlaceMethod=y.InterlaceMethod.UNKNOWN,this._colorType=y.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,m.checkSignature)(this);!this._end;){const E=this.readUint32(),I=this.readChars(4);this.decodeChunk(E,I)}return this.decodeImage(),this._png}decodeApng(){for((0,m.checkSignature)(this);!this._end;){const E=this.readUint32(),I=this.readChars(4);this.decodeApngChunk(E,I)}return this.decodeApngImage(),this._apng}decodeChunk(E,I){const L=this.offset;switch(I){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(E);break;case"IDAT":this.decodeIDAT(E);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(E);break;case"iCCP":this.decodeiCCP(E);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,E);break;case"pHYs":this.decodepHYs();break;default:this.skip(E);break}if(this.offset-L!==E)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,f.checkCrc)(this,E+4,I):this.skip(4)}decodeApngChunk(E,I){const L=this.offset;switch(I!=="fdAT"&&I!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),I){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(E);break;default:this.decodeChunk(E,I),this.offset=L+E;break}if(this.offset-L!==E)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,f.checkCrc)(this,E+4,I):this.skip(4)}decodeIHDR(){const E=this._png;E.width=this.readUint32(),E.height=this.readUint32(),E.depth=j(this.readUint8());const I=this.readUint8();this._colorType=I;let L;switch(I){case y.ColorType.GREYSCALE:L=1;break;case y.ColorType.TRUECOLOUR:L=3;break;case y.ColorType.INDEXED_COLOUR:L=1;break;case y.ColorType.GREYSCALE_ALPHA:L=2;break;case y.ColorType.TRUECOLOUR_ALPHA:L=4;break;case y.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${I}`)}if(this._png.channels=L,this._compressionMethod=this.readUint8(),this._compressionMethod!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const E={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(E)}decodePLTE(E){if(E%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${E}`);const I=E/3;this._hasPalette=!0;const L=[];this._palette=L;for(let Z=0;Z<I;Z++)L.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(E){this._writingDataChunks=!0;const I=E,L=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,L,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(E)}decodeFDAT(E){this._writingDataChunks=!0;let I=E,L=this.offset+this.byteOffset;if(L+=4,I-=4,this._inflator.push(new Uint8Array(this.buffer,L,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(E)}decodetRNS(E){switch(this._colorType){case y.ColorType.GREYSCALE:case y.ColorType.TRUECOLOUR:{if(E%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${E}`);if(E/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${E/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(E/2);for(let I=0;I<E/2;I++)this._transparency[I]=this.readUint16();break}case y.ColorType.INDEXED_COLOUR:{if(E>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${E} vs ${this._palette.length})`);let I=0;for(;I<E;I++){const L=this.readByte();this._palette[I].push(L)}for(;I<this._palette.length;I++)this._palette[I].push(255);break}case y.ColorType.UNKNOWN:case y.ColorType.GREYSCALE_ALPHA:case y.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(E){const I=(0,x.readKeyword)(this),L=this.readUint8();if(L!==y.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${L}`);const Z=this.readBytes(E-I.length-2);this._png.iccEmbeddedProfile={name:I,profile:(0,h.inflate)(Z)}}decodepHYs(){const E=this.readUint32(),I=this.readUint32(),L=this.readByte();this._png.resolution={x:E,y:I,unit:L}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let E=0;E<this._numberOfFrames;E++){const I={sequenceNumber:this._frames[E].sequenceNumber,delayNumber:this._frames[E].delayNumber,delayDenominator:this._frames[E].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},L=this._frames.at(E);if(L){if(L.data=(0,g.decodeInterlaceNull)({data:L.data,width:L.width,height:L.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),E===0||L.xOffset===0&&L.yOffset===0&&L.width===this._png.width&&L.height===this._png.height)I.data=L.data;else{const Z=this._apng.frames.at(E-1);this.disposeFrame(L,Z,I),this.addFrameDataToCanvas(I,L)}this._apng.frames.push(I)}}return this._apng}disposeFrame(E,I,L){switch(E.disposeOp){case y.DisposeOpType.NONE:break;case y.DisposeOpType.BACKGROUND:for(let Z=0;Z<this._png.height;Z++)for(let ne=0;ne<this._png.width;ne++){const G=(Z*E.width+ne)*this._png.channels;for(let le=0;le<this._png.channels;le++)L.data[G+le]=0}break;case y.DisposeOpType.PREVIOUS:L.data.set(I.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(E,I){const L=1<<this._png.depth,Z=(ne,G)=>{const le=((ne+I.yOffset)*this._png.width+I.xOffset+G)*this._png.channels,V=(ne*I.width+G)*this._png.channels;return{index:le,frameIndex:V}};switch(I.blendOp){case y.BlendOpType.SOURCE:for(let ne=0;ne<I.height;ne++)for(let G=0;G<I.width;G++){const{index:le,frameIndex:V}=Z(ne,G);for(let me=0;me<this._png.channels;me++)E.data[le+me]=I.data[V+me]}break;case y.BlendOpType.OVER:for(let ne=0;ne<I.height;ne++)for(let G=0;G<I.width;G++){const{index:le,frameIndex:V}=Z(ne,G);for(let me=0;me<this._png.channels;me++){const $=I.data[V+this._png.channels-1]/L,X=me%(this._png.channels-1)===0?1:I.data[V+me],Ce=Math.floor($*X+(1-$)*E.data[le+me]);E.data[le+me]+=Ce}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var I;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const E=this._isAnimated?((I=this._frames)==null?void 0:I.at(0)).data:this._inflator.result;if(this._filterMethod!==y.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:E,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y.InterlaceMethod.ADAM7)this._png.data=(0,A.decodeInterlaceAdam7)({data:E,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const E=this._inflator.result,I=this._frames.at(-1);I?I.data=E:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y.DisposeOpType.NONE,blendOp:y.BlendOpType.SOURCE,data:E}),this._inflator=new h.Inflate,this._writingDataChunks=!1}}function j(S){if(S!==1&&S!==2&&S!==4&&S!==8&&S!==16)throw new Error(`invalid bit depth: ${S}`);return S}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(o,d,l){l.r(d),l.d(d,{default:function(){return y}});var u=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),h=l("./node_modules/pako/dist/pako.esm.mjs"),f=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),A=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=l("./node_modules/fast-png/lib-esm/helpers/text.js"),m=l("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class y extends u.IOBuffer{constructor(Z,ne={}){super();Ks(this,"_png");Ks(this,"_zlibOptions");Ks(this,"_colorType");Ks(this,"_interlaceMethod");this._colorType=m.ColorType.UNKNOWN,this._zlibOptions={...x,...ne.zlib},this._png=this._checkData(Z),this._interlaceMethod=(ne.interlace==="Adam7"?m.InterlaceMethod.ADAM7:m.InterlaceMethod.NO_INTERLACE)??m.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,A.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Z,ne]of Object.entries(this._png.text))(0,g.encodetEXt)(this,Z,ne);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(m.CompressionMethod.DEFLATE),this.writeByte(m.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,f.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,f.writeCrc)(this,4)}encodePLTE(){var ne;const Z=((ne=this._png.palette)==null?void 0:ne.length)*3;this.writeUint32(Z),this.writeChars("PLTE");for(const G of this._png.palette)this.writeByte(G[0]),this.writeByte(G[1]),this.writeByte(G[2]);(0,f.writeCrc)(this,4+Z)}encodeTRNS(){const Z=this._png.palette.filter(ne=>ne.at(-1)!==255);this.writeUint32(Z.length),this.writeChars("tRNS");for(const ne of Z)this.writeByte(ne.at(-1));(0,f.writeCrc)(this,4+Z.length)}encodeIDAT(Z){this.writeUint32(Z.length),this.writeChars("IDAT"),this.writeBytes(Z),(0,f.writeCrc)(this,Z.length+4)}encodeData(){const{width:Z,height:ne,channels:G,depth:le,data:V}=this._png,me=le<=8?Math.ceil(Z*le/8)*G:Math.ceil(Z*le/8*G/2),$=new u.IOBuffer().setBigEndian();let X=0;if(this._interlaceMethod===m.InterlaceMethod.NO_INTERLACE)for(let q=0;q<ne;q++)$.writeByte(0),le===16?X=E(V,$,me,X):X=S(V,$,me,X);else this._interlaceMethod===m.InterlaceMethod.ADAM7&&(X=w(this._png,V,$,X));const Ce=$.toArray(),M=(0,h.deflate)(Ce,this._zlibOptions);this.encodeIDAT(M)}_checkData(Z){const{colorType:ne,channels:G,depth:le}=j(Z,Z.palette),V={width:b(Z.width,"width"),height:b(Z.height,"height"),channels:G,data:Z.data,depth:le,text:Z.text,palette:Z.palette};this._colorType=ne;const me=le<8?Math.ceil(V.width*le/8)*V.height*G:V.width*V.height*G;if(V.data.length!==me)throw new RangeError(`wrong data size. Found ${V.data.length}, expected ${me}`);return V}}function b(I,L){if(Number.isInteger(I)&&I>0)return I;throw new TypeError(`${L} must be a positive integer`)}function j(I,L){const{channels:Z=4,depth:ne=8}=I;if(Z!==4&&Z!==3&&Z!==2&&Z!==1)throw new RangeError(`unsupported number of channels: ${Z}`);const G={channels:Z,depth:ne,colorType:m.ColorType.UNKNOWN};switch(Z){case 4:G.colorType=m.ColorType.TRUECOLOUR_ALPHA;break;case 3:G.colorType=m.ColorType.TRUECOLOUR;break;case 1:L?G.colorType=m.ColorType.INDEXED_COLOUR:G.colorType=m.ColorType.GREYSCALE;break;case 2:G.colorType=m.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return G}function S(I,L,Z,ne){for(let G=0;G<Z;G++)L.writeByte(I[ne++]);return ne}function w(I,L,Z,ne){const G=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:le,height:V,channels:me,depth:$}=I;let X=0;$===16?X=me*$/8/2:X=me*$/8;for(let Ce=0;Ce<7;Ce++){const M=G[Ce],q=Math.floor((le-M.x+M.xStep-1)/M.xStep),ie=Math.floor((V-M.y+M.yStep-1)/M.yStep);if(q<=0||ie<=0)continue;const J=q*X;for(let D=0;D<ie;D++){const ce=M.y+D*M.yStep,te=$<=8?new Uint8Array(J):new Uint16Array(J);let ge=0;for(let pe=0;pe<q;pe++){const be=M.x+pe*M.xStep;if(be<le&&ce<V){const re=(ce*le+be)*X;for(let de=0;de<X;de++)te[ge++]=L[re+de]}}if(Z.writeByte(0),$===8)Z.writeBytes(te);else if($===16)for(const pe of te)Z.writeByte(pe>>8&255),Z.writeByte(pe&255)}}return ne}function E(I,L,Z,ne){for(let G=0;G<Z;G++)L.writeUint16(I[ne++]);return ne}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(o,d,l){l.r(d),l.d(d,{convertIndexedToRgb:function(){return u}});function u(f){const A=f.palette,g=f.depth;if(!A)throw new Error("Color palette is undefined.");h(f);const m=f.width*f.height,x=m*A[0].length,y=new Uint8Array(x);let b=0,j=0;const S=new Uint8Array(m);let w=255;switch(g){case 1:w=128;break;case 2:w=192;break;case 4:w=240;break;case 8:w=255;break;default:throw new Error("Incorrect depth value")}for(const E of f.data){let I=w,L=8;for(;I&&(L-=g,S[b++]=(E&I)>>L,I=I>>g,b%f.width!==0););}if(f.palette)for(const E of S){const I=f.palette.at(E);if(!I)throw new Error("Incorrect index of palette color");y.set(I,j),j+=I.length}return y}function h(f){const A=f.depth<8?Math.ceil(f.width*f.depth/8)*f.height*f.channels:f.width*f.height*f.channels;if(f.data.length!==A)throw new RangeError(`wrong data size. Found ${f.data.length}, expected ${A}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(o,d,l){l.r(d),l.d(d,{applyUnfilter:function(){return h}});var u=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function h(f,A,g,m,x,y){switch(f){case 0:(0,u.unfilterNone)(A,g,x);break;case 1:(0,u.unfilterSub)(A,g,x,y);break;case 2:(0,u.unfilterUp)(A,g,m,x);break;case 3:(0,u.unfilterAverage)(A,g,m,x,y);break;case 4:(0,u.unfilterPaeth)(A,g,m,x,y);break;default:throw new Error(`Unsupported filter: ${f}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(o,d,l){l.r(d),l.d(d,{checkCrc:function(){return g},writeCrc:function(){return m}});const u=[];for(let x=0;x<256;x++){let y=x;for(let b=0;b<8;b++)y&1?y=3988292384^y>>>1:y=y>>>1;u[x]=y}const h=4294967295;function f(x,y,b){let j=x;for(let S=0;S<b;S++)j=u[(j^y[S])&255]^j>>>8;return j}function A(x,y){return(f(h,x,y)^h)>>>0}function g(x,y,b){const j=x.readUint32(),S=A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y-4,y),y);if(S!==j)throw new Error(`CRC mismatch for chunk ${b}. Expected ${j}, found ${S}`)}function m(x,y){x.writeUint32(A(new Uint8Array(x.buffer,x.byteOffset+x.offset-y,y),y))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(o,d,l){l.r(d),l.d(d,{decodeInterlaceAdam7:function(){return g}});var u=l("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const h=new Uint16Array([255]),A=new Uint8Array(h.buffer)[0]===255;function g(x){const{data:y,width:b,height:j,channels:S,depth:w}=x,E=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],I=Math.ceil(w/8)*S,L=new Uint8Array(j*b*I);let Z=0;for(let ne=0;ne<7;ne++){const G=E[ne],le=Math.ceil((b-G.x)/G.xStep),V=Math.ceil((j-G.y)/G.yStep);if(le<=0||V<=0)continue;const me=le*I,$=new Uint8Array(me);for(let X=0;X<V;X++){const Ce=y[Z++],M=y.subarray(Z,Z+me);Z+=me;const q=new Uint8Array(me);(0,u.applyUnfilter)(Ce,M,q,$,me,I),$.set(q);for(let ie=0;ie<le;ie++){const J=G.x+ie*G.xStep,D=G.y+X*G.yStep;if(!(J>=b||D>=j))for(let ce=0;ce<I;ce++)L[(D*b+J)*I+ce]=q[ie*I+ce]}}}if(w===16){const ne=new Uint16Array(L.buffer);if(A)for(let G=0;G<ne.length;G++)ne[G]=m(ne[G]);return ne}else return L}function m(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(o,d,l){l.r(d),l.d(d,{decodeInterlaceNull:function(){return m}});var u=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const h=new Uint16Array([255]),A=new Uint8Array(h.buffer)[0]===255,g=new Uint8Array(0);function m(y){const{data:b,width:j,height:S,channels:w,depth:E}=y,I=Math.ceil(E/8)*w,L=Math.ceil(E/8*w*j),Z=new Uint8Array(S*L);let ne=g,G=0,le,V;for(let me=0;me<S;me++){switch(le=b.subarray(G+1,G+1+L),V=Z.subarray(me*L,(me+1)*L),b[G]){case 0:(0,u.unfilterNone)(le,V,L);break;case 1:(0,u.unfilterSub)(le,V,L,I);break;case 2:(0,u.unfilterUp)(le,V,ne,L);break;case 3:(0,u.unfilterAverage)(le,V,ne,L,I);break;case 4:(0,u.unfilterPaeth)(le,V,ne,L,I);break;default:throw new Error(`Unsupported filter: ${b[G]}`)}ne=V,G+=L+1}if(E===16){const me=new Uint16Array(Z.buffer);if(A)for(let $=0;$<me.length;$++)me[$]=x(me[$]);return me}else return Z}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(o,d,l){l.r(d),l.d(d,{checkSignature:function(){return f},hasPngSignature:function(){return A},writeSignature:function(){return h}});const u=Uint8Array.of(137,80,78,71,13,10,26,10);function h(g){g.writeBytes(u)}function f(g){if(!A(g.readBytes(u.length)))throw new Error("wrong PNG signature")}function A(g){if(g.length<u.length)return!1;for(let m=0;m<u.length;m++)if(g[m]!==u[m])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(o,d,l){l.r(d),l.d(d,{decodetEXt:function(){return y},encodetEXt:function(){return b},readKeyword:function(){return j},readLatin1:function(){return S},textChunkName:function(){return h}});var u=l("./node_modules/fast-png/lib-esm/helpers/crc.js");const h="tEXt",f=0,A=new TextDecoder("latin1");function g(w){if(x(w),w.length===0||w.length>79)throw new Error("keyword length must be between 1 and 79")}const m=/^[\u0000-\u00FF]*$/;function x(w){if(!m.test(w))throw new Error("invalid latin1 text")}function y(w,E,I){const L=j(E);w[L]=S(E,I-L.length-1)}function b(w,E,I){g(E),x(I);const L=E.length+1+I.length;w.writeUint32(L),w.writeChars(h),w.writeChars(E),w.writeByte(f),w.writeChars(I),(0,u.writeCrc)(w,L+4)}function j(w){for(w.mark();w.readByte()!==f;);const E=w.offset;w.reset();const I=A.decode(w.readBytes(E-w.offset-1));return w.skip(1),g(I),I}function S(w,E){return A.decode(w.readBytes(E))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(o,d,l){l.r(d),l.d(d,{unfilterAverage:function(){return A},unfilterNone:function(){return u},unfilterPaeth:function(){return g},unfilterSub:function(){return h},unfilterUp:function(){return f}});function u(x,y,b){for(let j=0;j<b;j++)y[j]=x[j]}function h(x,y,b,j){let S=0;for(;S<j;S++)y[S]=x[S];for(;S<b;S++)y[S]=x[S]+y[S-j]&255}function f(x,y,b,j){let S=0;if(b.length===0)for(;S<j;S++)y[S]=x[S];else for(;S<j;S++)y[S]=x[S]+b[S]&255}function A(x,y,b,j,S){let w=0;if(b.length===0){for(;w<S;w++)y[w]=x[w];for(;w<j;w++)y[w]=x[w]+(y[w-S]>>1)&255}else{for(;w<S;w++)y[w]=x[w]+(b[w]>>1)&255;for(;w<j;w++)y[w]=x[w]+(y[w-S]+b[w]>>1)&255}}function g(x,y,b,j,S){let w=0;if(b.length===0){for(;w<S;w++)y[w]=x[w];for(;w<j;w++)y[w]=x[w]+y[w-S]&255}else{for(;w<S;w++)y[w]=x[w]+b[w]&255;for(;w<j;w++)y[w]=x[w]+m(y[w-S],b[w],b[w-S])&255}}function m(x,y,b){const j=x+y-b,S=Math.abs(j-x),w=Math.abs(j-y),E=Math.abs(j-b);return S<=w&&S<=E?x:w<=E?y:b}}),"./node_modules/fast-png/lib-esm/index.js":(function(o,d,l){l.r(d),l.d(d,{ResolutionUnitSpecifier:function(){return A.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return m},decodeApng:function(){return y},encode:function(){return x},hasPngSignature:function(){return f.hasPngSignature}});var u=l("./node_modules/fast-png/lib-esm/PngDecoder.js"),h=l("./node_modules/fast-png/lib-esm/PngEncoder.js"),f=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),A=l("./node_modules/fast-png/lib-esm/types.js"),g=l("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function m(b,j){return new u.default(b,j).decode()}function x(b,j){return new h.default(b,j).encode()}function y(b,j){return new u.default(b,j).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(o,d,l){l.r(d),l.d(d,{BlendOpType:function(){return m},ColorType:function(){return u},CompressionMethod:function(){return h},DisposeOpType:function(){return g},FilterMethod:function(){return f},InterlaceMethod:function(){return A}});const u={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h={UNKNOWN:-1,DEFLATE:0},f={UNKNOWN:-1,ADAPTIVE:0},A={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},m={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(o,d,l){l.r(d),l.d(d,{ResolutionUnitSpecifier:function(){return u}});var u;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.METRE=1]="METRE"})(u||(u={}))}),"./node_modules/fflate/esm/browser.js":(function(o,d,l){l.r(d),l.d(d,{AsyncCompress:function(){return Us},AsyncDecompress:function(){return Yi},AsyncDeflate:function(){return Zr},AsyncGunzip:function(){return Wa},AsyncGzip:function(){return Us},AsyncInflate:function(){return qi},AsyncUnzipInflate:function(){return Mo},AsyncUnzlib:function(){return ha},AsyncZipDeflate:function(){return Do},AsyncZlib:function(){return Ec},Compress:function(){return di},DecodeUTF8:function(){return Fo},Decompress:function(){return ko},Deflate:function(){return ua},EncodeUTF8:function(){return $c},FlateErrorCode:function(){return te},Gunzip:function(){return Xi},Gzip:function(){return di},Inflate:function(){return Sn},Unzip:function(){return Kt},UnzipInflate:function(){return Pi},UnzipPassThrough:function(){return Ji},Unzlib:function(){return jo},Zip:function(){return pa},ZipDeflate:function(){return bo},ZipPassThrough:function(){return _s},Zlib:function(){return Il},compress:function(){return co},compressSync:function(){return ts},decompress:function(){return _o},decompressSync:function(){return al},deflate:function(){return ls},deflateSync:function(){return Fi},gunzip:function(){return Sc},gunzipSync:function(){return yi},gzip:function(){return co},gzipSync:function(){return ts},inflate:function(){return Ps},inflateSync:function(){return ks},strFromU8:function(){return zn},strToU8:function(){return ui},unzip:function(){return fe},unzipSync:function(){return ve},unzlib:function(){return ec},unzlibSync:function(){return rs},zip:function(){return Ws},zipSync:function(){return wi},zlib:function(){return Tl},zlibSync:function(){return Hs}});var u={},h=(function(R,W,ue,Be,De){var Ye=new Worker(u[W]||(u[W]=URL.createObjectURL(new Blob([R+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ye.onmessage=function(dt){var k=dt.data,B=k.$e$;if(B){var P=new Error(B[0]);P.code=B[1],P.stack=B[2],De(P,null)}else De(null,k)},Ye.postMessage(ue,Be),Ye}),f=Uint8Array,A=Uint16Array,g=Int32Array,m=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=function(R,W){for(var ue=new A(31),Be=0;Be<31;++Be)ue[Be]=W+=1<<R[Be-1];for(var De=new g(ue[30]),Be=1;Be<30;++Be)for(var Ye=ue[Be];Ye<ue[Be+1];++Ye)De[Ye]=Ye-ue[Be]<<5|Be;return{b:ue,r:De}},j=b(m,2),S=j.b,w=j.r;S[28]=258,w[258]=28;for(var E=b(x,0),I=E.b,L=E.r,Z=new A(32768),ne=0;ne<32768;++ne){var G=(ne&43690)>>1|(ne&21845)<<1;G=(G&52428)>>2|(G&13107)<<2,G=(G&61680)>>4|(G&3855)<<4,Z[ne]=((G&65280)>>8|(G&255)<<8)>>1}for(var le=(function(R,W,ue){for(var Be=R.length,De=0,Ye=new A(W);De<Be;++De)R[De]&&++Ye[R[De]-1];var dt=new A(W);for(De=1;De<W;++De)dt[De]=dt[De-1]+Ye[De-1]<<1;var k;if(ue){k=new A(1<<W);var B=15-W;for(De=0;De<Be;++De)if(R[De])for(var P=De<<4|R[De],K=W-R[De],se=dt[R[De]-1]++<<K,he=se|(1<<K)-1;se<=he;++se)k[Z[se]>>B]=P}else for(k=new A(Be),De=0;De<Be;++De)R[De]&&(k[De]=Z[dt[R[De]-1]++]>>15-R[De]);return k}),V=new f(288),ne=0;ne<144;++ne)V[ne]=8;for(var ne=144;ne<256;++ne)V[ne]=9;for(var ne=256;ne<280;++ne)V[ne]=7;for(var ne=280;ne<288;++ne)V[ne]=8;for(var me=new f(32),ne=0;ne<32;++ne)me[ne]=5;var $=le(V,9,0),X=le(V,9,1),Ce=le(me,5,0),M=le(me,5,1),q=function(R){for(var W=R[0],ue=1;ue<R.length;++ue)R[ue]>W&&(W=R[ue]);return W},ie=function(R,W,ue){var Be=W/8|0;return(R[Be]|R[Be+1]<<8)>>(W&7)&ue},J=function(R,W){var ue=W/8|0;return(R[ue]|R[ue+1]<<8|R[ue+2]<<16)>>(W&7)},D=function(R){return(R+7)/8|0},ce=function(R,W,ue){return(W==null||W<0)&&(W=0),(ue==null||ue>R.length)&&(ue=R.length),new f(R.subarray(W,ue))},te={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},ge=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pe=function(R,W,ue){var Be=new Error(W||ge[R]);if(Be.code=R,Error.captureStackTrace&&Error.captureStackTrace(Be,pe),!ue)throw Be;return Be},be=function(R,W,ue,Be){var De=R.length,Ye=Be?Be.length:0;if(!De||W.f&&!W.l)return ue||new f(0);var dt=!ue,k=dt||W.i!=2,B=W.i;dt&&(ue=new f(De*3));var P=function(kt){var Yt=ue.length;if(kt>Yt){var tr=new f(Math.max(Yt*2,kt));tr.set(ue),ue=tr}},K=W.f||0,se=W.p||0,he=W.b||0,Ie=W.l,we=W.d,Ne=W.m,Re=W.n,Ke=De*8;do{if(!Ie){K=ie(R,se,1);var at=ie(R,se+1,3);if(se+=3,at)if(at==1)Ie=X,we=M,Ne=9,Re=5;else if(at==2){var bt=ie(R,se,31)+257,Et=ie(R,se+10,15)+4,ot=bt+ie(R,se+5,31)+1;se+=14;for(var Ut=new f(ot),rr=new f(19),Ot=0;Ot<Et;++Ot)rr[y[Ot]]=ie(R,se+Ot*3,7);se+=Et*3;for(var st=q(rr),Xt=(1<<st)-1,pr=le(rr,st,1),Ot=0;Ot<ot;){var ar=pr[ie(R,se,Xt)];se+=ar&15;var ut=ar>>4;if(ut<16)Ut[Ot++]=ut;else{var Mt=0,Ar=0;for(ut==16?(Ar=3+ie(R,se,3),se+=2,Mt=Ut[Ot-1]):ut==17?(Ar=3+ie(R,se,7),se+=3):ut==18&&(Ar=11+ie(R,se,127),se+=7);Ar--;)Ut[Ot++]=Mt}}var ct=Ut.subarray(0,bt),mt=Ut.subarray(bt);Ne=q(ct),Re=q(mt),Ie=le(ct,Ne,1),we=le(mt,Re,1)}else pe(1);else{var ut=D(se)+4,Pe=R[ut-4]|R[ut-3]<<8,Nt=ut+Pe;if(Nt>De){B&&pe(0);break}k&&P(he+Pe),ue.set(R.subarray(ut,Nt),he),W.b=he+=Pe,W.p=se=Nt*8,W.f=K;continue}if(se>Ke){B&&pe(0);break}}k&&P(he+131072);for(var Pt=(1<<Ne)-1,Dt=(1<<Re)-1,gr=se;;gr=se){var Mt=Ie[J(R,se)&Pt],jr=Mt>>4;if(se+=Mt&15,se>Ke){B&&pe(0);break}if(Mt||pe(2),jr<256)ue[he++]=jr;else if(jr==256){gr=se,Ie=null;break}else{var Nr=jr-254;if(jr>264){var Ot=jr-257,ir=m[Ot];Nr=ie(R,se,(1<<ir)-1)+S[Ot],se+=ir}var wr=we[J(R,se)&Dt],Yr=wr>>4;wr||pe(3),se+=wr&15;var mt=I[Yr];if(Yr>3){var ir=x[Yr];mt+=J(R,se)&(1<<ir)-1,se+=ir}if(se>Ke){B&&pe(0);break}k&&P(he+131072);var zr=he+Nr;if(he<mt){var et=Ye-mt,St=Math.min(mt,zr);for(et+he<0&&pe(3);he<St;++he)ue[he]=Be[et+he]}for(;he<zr;++he)ue[he]=ue[he-mt]}}W.l=Ie,W.p=gr,W.b=he,W.f=K,Ie&&(K=1,W.m=Ne,W.d=we,W.n=Re)}while(!K);return he!=ue.length&&dt?ce(ue,0,he):ue.subarray(0,he)},re=function(R,W,ue){ue<<=W&7;var Be=W/8|0;R[Be]|=ue,R[Be+1]|=ue>>8},de=function(R,W,ue){ue<<=W&7;var Be=W/8|0;R[Be]|=ue,R[Be+1]|=ue>>8,R[Be+2]|=ue>>16},Y=function(R,W){for(var ue=[],Be=0;Be<R.length;++Be)R[Be]&&ue.push({s:Be,f:R[Be]});var De=ue.length,Ye=ue.slice();if(!De)return{t:Fe,l:0};if(De==1){var dt=new f(ue[0].s+1);return dt[ue[0].s]=1,{t:dt,l:1}}ue.sort(function(Nt,bt){return Nt.f-bt.f}),ue.push({s:-1,f:25001});var k=ue[0],B=ue[1],P=0,K=1,se=2;for(ue[0]={s:-1,f:k.f+B.f,l:k,r:B};K!=De-1;)k=ue[ue[P].f<ue[se].f?P++:se++],B=ue[P!=K&&ue[P].f<ue[se].f?P++:se++],ue[K++]={s:-1,f:k.f+B.f,l:k,r:B};for(var he=Ye[0].s,Be=1;Be<De;++Be)Ye[Be].s>he&&(he=Ye[Be].s);var Ie=new A(he+1),we=Ae(ue[K-1],Ie,0);if(we>W){var Be=0,Ne=0,Re=we-W,Ke=1<<Re;for(Ye.sort(function(bt,Et){return Ie[Et.s]-Ie[bt.s]||bt.f-Et.f});Be<De;++Be){var at=Ye[Be].s;if(Ie[at]>W)Ne+=Ke-(1<<we-Ie[at]),Ie[at]=W;else break}for(Ne>>=Re;Ne>0;){var ut=Ye[Be].s;Ie[ut]<W?Ne-=1<<W-Ie[ut]++-1:++Be}for(;Be>=0&&Ne;--Be){var Pe=Ye[Be].s;Ie[Pe]==W&&(--Ie[Pe],++Ne)}we=W}return{t:new f(Ie),l:we}},Ae=function(R,W,ue){return R.s==-1?Math.max(Ae(R.l,W,ue+1),Ae(R.r,W,ue+1)):W[R.s]=ue},ye=function(R){for(var W=R.length;W&&!R[--W];);for(var ue=new A(++W),Be=0,De=R[0],Ye=1,dt=function(B){ue[Be++]=B},k=1;k<=W;++k)if(R[k]==De&&k!=W)++Ye;else{if(!De&&Ye>2){for(;Ye>138;Ye-=138)dt(32754);Ye>2&&(dt(Ye>10?Ye-11<<5|28690:Ye-3<<5|12305),Ye=0)}else if(Ye>3){for(dt(De),--Ye;Ye>6;Ye-=6)dt(8304);Ye>2&&(dt(Ye-3<<5|8208),Ye=0)}for(;Ye--;)dt(De);Ye=1,De=R[k]}return{c:ue.subarray(0,Be),n:W}},Oe=function(R,W){for(var ue=0,Be=0;Be<W.length;++Be)ue+=R[Be]*W[Be];return ue},We=function(R,W,ue){var Be=ue.length,De=D(W+2);R[De]=Be&255,R[De+1]=Be>>8,R[De+2]=R[De]^255,R[De+3]=R[De+1]^255;for(var Ye=0;Ye<Be;++Ye)R[De+Ye+4]=ue[Ye];return(De+4+Be)*8},ae=function(R,W,ue,Be,De,Ye,dt,k,B,P,K){re(W,K++,ue),++De[256];for(var se=Y(De,15),he=se.t,Ie=se.l,we=Y(Ye,15),Ne=we.t,Re=we.l,Ke=ye(he),at=Ke.c,ut=Ke.n,Pe=ye(Ne),Nt=Pe.c,bt=Pe.n,Et=new A(19),ot=0;ot<at.length;++ot)++Et[at[ot]&31];for(var ot=0;ot<Nt.length;++ot)++Et[Nt[ot]&31];for(var Ut=Y(Et,7),rr=Ut.t,Ot=Ut.l,st=19;st>4&&!rr[y[st-1]];--st);var Xt=P+5<<3,pr=Oe(De,V)+Oe(Ye,me)+dt,ar=Oe(De,he)+Oe(Ye,Ne)+dt+14+3*st+Oe(Et,rr)+2*Et[16]+3*Et[17]+7*Et[18];if(B>=0&&Xt<=pr&&Xt<=ar)return We(W,K,R.subarray(B,B+P));var Mt,Ar,ct,mt;if(re(W,K,1+(ar<pr)),K+=2,ar<pr){Mt=le(he,Ie,0),Ar=he,ct=le(Ne,Re,0),mt=Ne;var Pt=le(rr,Ot,0);re(W,K,ut-257),re(W,K+5,bt-1),re(W,K+10,st-4),K+=14;for(var ot=0;ot<st;++ot)re(W,K+3*ot,rr[y[ot]]);K+=3*st;for(var Dt=[at,Nt],gr=0;gr<2;++gr)for(var jr=Dt[gr],ot=0;ot<jr.length;++ot){var Nr=jr[ot]&31;re(W,K,Pt[Nr]),K+=rr[Nr],Nr>15&&(re(W,K,jr[ot]>>5&127),K+=jr[ot]>>12)}}else Mt=$,Ar=V,ct=Ce,mt=me;for(var ot=0;ot<k;++ot){var ir=Be[ot];if(ir>255){var Nr=ir>>18&31;de(W,K,Mt[Nr+257]),K+=Ar[Nr+257],Nr>7&&(re(W,K,ir>>23&31),K+=m[Nr]);var wr=ir&31;de(W,K,ct[wr]),K+=mt[wr],wr>3&&(de(W,K,ir>>5&8191),K+=x[wr])}else de(W,K,Mt[ir]),K+=Ar[ir]}return de(W,K,Mt[256]),K+Ar[256]},ke=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fe=new f(0),nt=function(R,W,ue,Be,De,Ye){var dt=Ye.z||R.length,k=new f(Be+dt+5*(1+Math.ceil(dt/7e3))+De),B=k.subarray(Be,k.length-De),P=Ye.l,K=(Ye.r||0)&7;if(W){K&&(B[0]=Ye.r>>3);for(var se=ke[W-1],he=se>>13,Ie=se&8191,we=(1<<ue)-1,Ne=Ye.p||new A(32768),Re=Ye.h||new A(we+1),Ke=Math.ceil(ue/3),at=2*Ke,ut=function(dr){return(R[dr]^R[dr+1]<<Ke^R[dr+2]<<at)&we},Pe=new g(25e3),Nt=new A(288),bt=new A(32),Et=0,ot=0,Ut=Ye.i||0,rr=0,Ot=Ye.w||0,st=0;Ut+2<dt;++Ut){var Xt=ut(Ut),pr=Ut&32767,ar=Re[Xt];if(Ne[pr]=ar,Re[Xt]=pr,Ot<=Ut){var Mt=dt-Ut;if((Et>7e3||rr>24576)&&(Mt>423||!P)){K=ae(R,B,0,Pe,Nt,bt,ot,rr,st,Ut-st,K),rr=Et=ot=0,st=Ut;for(var Ar=0;Ar<286;++Ar)Nt[Ar]=0;for(var Ar=0;Ar<30;++Ar)bt[Ar]=0}var ct=2,mt=0,Pt=Ie,Dt=pr-ar&32767;if(Mt>2&&Xt==ut(Ut-Dt))for(var gr=Math.min(he,Mt)-1,jr=Math.min(32767,Ut),Nr=Math.min(258,Mt);Dt<=jr&&--Pt&&pr!=ar;){if(R[Ut+ct]==R[Ut+ct-Dt]){for(var ir=0;ir<Nr&&R[Ut+ir]==R[Ut+ir-Dt];++ir);if(ir>ct){if(ct=ir,mt=Dt,ir>gr)break;for(var wr=Math.min(Dt,ir-2),Yr=0,Ar=0;Ar<wr;++Ar){var zr=Ut-Dt+Ar&32767,et=Ne[zr],St=zr-et&32767;St>Yr&&(Yr=St,ar=zr)}}}pr=ar,ar=Ne[pr],Dt+=pr-ar&32767}if(mt){Pe[rr++]=268435456|w[ct]<<18|L[mt];var kt=w[ct]&31,Yt=L[mt]&31;ot+=m[kt]+x[Yt],++Nt[257+kt],++bt[Yt],Ot=Ut+ct,++Et}else Pe[rr++]=R[Ut],++Nt[R[Ut]]}}for(Ut=Math.max(Ut,Ot);Ut<dt;++Ut)Pe[rr++]=R[Ut],++Nt[R[Ut]];K=ae(R,B,P,Pe,Nt,bt,ot,rr,st,Ut-st,K),P||(Ye.r=K&7|B[K/8|0]<<3,K-=7,Ye.h=Re,Ye.p=Ne,Ye.i=Ut,Ye.w=Ot)}else{for(var Ut=Ye.w||0;Ut<dt+P;Ut+=65535){var tr=Ut+65535;tr>=dt&&(B[K/8|0]=P,tr=dt),K=We(B,K+1,R.subarray(Ut,tr))}Ye.i=dt}return ce(k,0,Be+D(K)+De)},tt=(function(){for(var R=new Int32Array(256),W=0;W<256;++W){for(var ue=W,Be=9;--Be;)ue=(ue&1&&-306674912)^ue>>>1;R[W]=ue}return R})(),Le=function(){var R=-1;return{p:function(W){for(var ue=R,Be=0;Be<W.length;++Be)ue=tt[ue&255^W[Be]]^ue>>>8;R=ue},d:function(){return~R}}},lt=function(){var R=1,W=0;return{p:function(ue){for(var Be=R,De=W,Ye=ue.length|0,dt=0;dt!=Ye;){for(var k=Math.min(dt+2655,Ye);dt<k;++dt)De+=Be+=ue[dt];Be=(Be&65535)+15*(Be>>16),De=(De&65535)+15*(De>>16)}R=Be,W=De},d:function(){return R%=65521,W%=65521,(R&255)<<24|(R&65280)<<8|(W&255)<<8|W>>8}}},$t=function(R,W,ue,Be,De){if(!De&&(De={l:1},W.dictionary)){var Ye=W.dictionary.subarray(-32768),dt=new f(Ye.length+R.length);dt.set(Ye),dt.set(R,Ye.length),R=dt,De.w=Ye.length}return nt(R,W.level==null?6:W.level,W.mem==null?De.l?Math.ceil(Math.max(8,Math.min(13,Math.log(R.length)))*1.5):20:12+W.mem,ue,Be,De)},Ue=function(R,W){var ue={};for(var Be in R)ue[Be]=R[Be];for(var Be in W)ue[Be]=W[Be];return ue},yt=function(R,W,ue){for(var Be=R(),De=R.toString(),Ye=De.slice(De.indexOf("[")+1,De.lastIndexOf("]")).replace(/\s+/g,"").split(","),dt=0;dt<Be.length;++dt){var k=Be[dt],B=Ye[dt];if(typeof k=="function"){W+=";"+B+"=";var P=k.toString();if(k.prototype)if(P.indexOf("[native code]")!=-1){var K=P.indexOf(" ",8)+1;W+=P.slice(K,P.indexOf("(",K))}else{W+=P;for(var se in k.prototype)W+=";"+B+".prototype."+se+"="+k.prototype[se].toString()}else W+=P}else ue[B]=k}return W},Tt=[],Zt=function(R){var W=[];for(var ue in R)R[ue].buffer&&W.push((R[ue]=new R[ue].constructor(R[ue])).buffer);return W},Mr=function(R,W,ue,Be){if(!Tt[ue]){for(var De="",Ye={},dt=R.length-1,k=0;k<dt;++k)De=yt(R[k],De,Ye);Tt[ue]={c:yt(R[dt],De,Ye),e:Ye}}var B=Ue({},Tt[ue].e);return h(Tt[ue].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+W.toString()+"}",ue,B,Zt(B),Be)},_t=function(){return[f,A,g,m,x,y,S,I,X,M,Z,ge,le,q,ie,J,D,ce,pe,be,ks,Ft,Lt]},Vt=function(){return[f,A,g,m,x,y,w,L,$,V,Ce,me,Z,ke,Fe,le,re,de,Y,Ae,ye,Oe,We,ae,D,ce,nt,$t,Fi,Ft]},mr=function(){return[vn,da,Qr,Le,tt]},Qe=function(){return[sn,Ln]},Bt=function(){return[ci,Qr,lt]},Ge=function(){return[ei]},Ft=function(R){return postMessage(R,[R.buffer])},Lt=function(R){return R&&{out:R.size&&new f(R.size),dictionary:R.dictionary}},Dr=function(R,W,ue,Be,De,Ye){var dt=Mr(ue,Be,De,function(k,B){dt.terminate(),Ye(k,B)});return dt.postMessage([R,W],W.consume?[R.buffer]:[]),function(){dt.terminate()}},Or=function(R){return R.ondata=function(W,ue){return postMessage([W,ue],[W.buffer])},function(W){W.data.length?(R.push(W.data[0],W.data[1]),postMessage([W.data[0].length])):R.flush()}},Kr=function(R,W,ue,Be,De,Ye,dt){var k,B=Mr(R,Be,De,function(P,K){P?(B.terminate(),W.ondata.call(W,P)):Array.isArray(K)?K.length==1?(W.queuedSize-=K[0],W.ondrain&&W.ondrain(K[0])):(K[1]&&B.terminate(),W.ondata.call(W,P,K[0],K[1])):dt(K)});B.postMessage(ue),W.queuedSize=0,W.push=function(P,K){W.ondata||pe(5),k&&W.ondata(pe(4,0,1),null,!!K),W.queuedSize+=P.length,B.postMessage([P,k=K],[P.buffer])},W.terminate=function(){B.terminate()},Ye&&(W.flush=function(){B.postMessage([])})},Hr=function(R,W){return R[W]|R[W+1]<<8},Bn=function(R,W){return(R[W]|R[W+1]<<8|R[W+2]<<16|R[W+3]<<24)>>>0},Wr=function(R,W){return Bn(R,W)+Bn(R,W+4)*4294967296},Qr=function(R,W,ue){for(;ue;++W)R[W]=ue,ue>>>=8},vn=function(R,W){var ue=W.filename;if(R[0]=31,R[1]=139,R[2]=8,R[8]=W.level<2?4:W.level==9?2:0,R[9]=3,W.mtime!=0&&Qr(R,4,Math.floor(new Date(W.mtime||Date.now())/1e3)),ue){R[3]=8;for(var Be=0;Be<=ue.length;++Be)R[Be+10]=ue.charCodeAt(Be)}},sn=function(R){(R[0]!=31||R[1]!=139||R[2]!=8)&&pe(6,"invalid gzip data");var W=R[3],ue=10;W&4&&(ue+=(R[10]|R[11]<<8)+2);for(var Be=(W>>3&1)+(W>>4&1);Be>0;Be-=!R[ue++]);return ue+(W&2)},Ln=function(R){var W=R.length;return(R[W-4]|R[W-3]<<8|R[W-2]<<16|R[W-1]<<24)>>>0},da=function(R){return 10+(R.filename?R.filename.length+1:0)},ci=function(R,W){var ue=W.level,Be=ue==0?0:ue<6?1:ue==9?3:2;if(R[0]=120,R[1]=Be<<6|(W.dictionary&&32),R[1]|=31-(R[0]<<8|R[1])%31,W.dictionary){var De=lt();De.p(W.dictionary),Qr(R,2,De.d())}},ei=function(R,W){return((R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31)&&pe(6,"invalid zlib data"),(R[1]>>5&1)==+!W&&pe(6,"invalid zlib data: "+(R[1]&32?"need":"unexpected")+" dictionary"),(R[1]>>3&4)+2};function Xs(R,W){return typeof R=="function"&&(W=R,R={}),this.ondata=W,R}var ua=(function(){function R(W,ue){if(typeof W=="function"&&(ue=W,W={}),this.ondata=ue,this.o=W||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new f(98304),this.o.dictionary){var Be=this.o.dictionary.subarray(-32768);this.b.set(Be,32768-Be.length),this.s.i=32768-Be.length}}return R.prototype.p=function(W,ue){this.ondata($t(W,this.o,0,0,this.s),ue)},R.prototype.push=function(W,ue){this.ondata||pe(5),this.s.l&&pe(4);var Be=W.length+this.s.z;if(Be>this.b.length){if(Be>2*this.b.length-32768){var De=new f(Be&-32768);De.set(this.b.subarray(0,this.s.z)),this.b=De}var Ye=this.b.length-this.s.z;this.b.set(W.subarray(0,Ye),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(W.subarray(Ye),32768),this.s.z=W.length-Ye+32768,this.s.i=32766,this.s.w=32768}else this.b.set(W,this.s.z),this.s.z+=W.length;this.s.l=ue&1,(this.s.z>this.s.w+8191||ue)&&(this.p(this.b,ue||!1),this.s.w=this.s.i,this.s.i-=2)},R.prototype.flush=function(){this.ondata||pe(5),this.s.l&&pe(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},R})(),Zr=(function(){function R(W,ue){Kr([Vt,function(){return[Or,ua]}],this,Xs.call(this,W,ue),function(Be){var De=new ua(Be.data);onmessage=Or(De)},6,1)}return R})();function ls(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[Vt],function(Be){return Ft(Fi(Be.data[0],Be.data[1]))},0,ue)}function Fi(R,W){return $t(R,W||{},0,0)}var Sn=(function(){function R(W,ue){typeof W=="function"&&(ue=W,W={}),this.ondata=ue;var Be=W&&W.dictionary&&W.dictionary.subarray(-32768);this.s={i:0,b:Be?Be.length:0},this.o=new f(32768),this.p=new f(0),Be&&this.o.set(Be)}return R.prototype.e=function(W){if(this.ondata||pe(5),this.d&&pe(4),!this.p.length)this.p=W;else if(W.length){var ue=new f(this.p.length+W.length);ue.set(this.p),ue.set(W,this.p.length),this.p=ue}},R.prototype.c=function(W){this.s.i=+(this.d=W||!1);var ue=this.s.b,Be=be(this.p,this.s,this.o);this.ondata(ce(Be,ue,this.s.b),this.d),this.o=ce(Be,this.s.b-32768),this.s.b=this.o.length,this.p=ce(this.p,this.s.p/8|0),this.s.p&=7},R.prototype.push=function(W,ue){this.e(W),this.c(ue)},R})(),qi=(function(){function R(W,ue){Kr([_t,function(){return[Or,Sn]}],this,Xs.call(this,W,ue),function(Be){var De=new Sn(Be.data);onmessage=Or(De)},7,0)}return R})();function Ps(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[_t],function(Be){return Ft(ks(Be.data[0],Lt(Be.data[1])))},1,ue)}function ks(R,W){return be(R,{i:2},W&&W.out,W&&W.dictionary)}var di=(function(){function R(W,ue){this.c=Le(),this.l=0,this.v=1,ua.call(this,W,ue)}return R.prototype.push=function(W,ue){this.c.p(W),this.l+=W.length,ua.prototype.push.call(this,W,ue)},R.prototype.p=function(W,ue){var Be=$t(W,this.o,this.v&&da(this.o),ue&&8,this.s);this.v&&(vn(Be,this.o),this.v=0),ue&&(Qr(Be,Be.length-8,this.c.d()),Qr(Be,Be.length-4,this.l)),this.ondata(Be,ue)},R.prototype.flush=function(){ua.prototype.flush.call(this)},R})(),Us=(function(){function R(W,ue){Kr([Vt,mr,function(){return[Or,ua,di]}],this,Xs.call(this,W,ue),function(Be){var De=new di(Be.data);onmessage=Or(De)},8,1)}return R})();function co(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[Vt,mr,function(){return[ts]}],function(Be){return Ft(ts(Be.data[0],Be.data[1]))},2,ue)}function ts(R,W){W||(W={});var ue=Le(),Be=R.length;ue.p(R);var De=$t(R,W,da(W),8),Ye=De.length;return vn(De,W),Qr(De,Ye-8,ue.d()),Qr(De,Ye-4,Be),De}var Xi=(function(){function R(W,ue){this.v=1,this.r=0,Sn.call(this,W,ue)}return R.prototype.push=function(W,ue){if(Sn.prototype.e.call(this,W),this.r+=W.length,this.v){var Be=this.p.subarray(this.v-1),De=Be.length>3?sn(Be):4;if(De>Be.length){if(!ue)return}else this.v>1&&this.onmember&&this.onmember(this.r-Be.length);this.p=Be.subarray(De),this.v=0}Sn.prototype.c.call(this,ue),this.s.f&&!this.s.l&&!ue&&(this.v=D(this.s.p)+9,this.s={i:0},this.o=new f(0),this.push(new f(0),ue))},R})(),Wa=(function(){function R(W,ue){var Be=this;Kr([_t,Qe,function(){return[Or,Sn,Xi]}],this,Xs.call(this,W,ue),function(De){var Ye=new Xi(De.data);Ye.onmember=function(dt){return postMessage(dt)},onmessage=Or(Ye)},9,0,function(De){return Be.onmember&&Be.onmember(De)})}return R})();function Sc(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[_t,Qe,function(){return[yi]}],function(Be){return Ft(yi(Be.data[0],Be.data[1]))},3,ue)}function yi(R,W){var ue=sn(R);return ue+8>R.length&&pe(6,"invalid gzip data"),be(R.subarray(ue,-8),{i:2},W&&W.out||new f(Ln(R)),W&&W.dictionary)}var Il=(function(){function R(W,ue){this.c=lt(),this.v=1,ua.call(this,W,ue)}return R.prototype.push=function(W,ue){this.c.p(W),ua.prototype.push.call(this,W,ue)},R.prototype.p=function(W,ue){var Be=$t(W,this.o,this.v&&(this.o.dictionary?6:2),ue&&4,this.s);this.v&&(ci(Be,this.o),this.v=0),ue&&Qr(Be,Be.length-4,this.c.d()),this.ondata(Be,ue)},R.prototype.flush=function(){ua.prototype.flush.call(this)},R})(),Ec=(function(){function R(W,ue){Kr([Vt,Bt,function(){return[Or,ua,Il]}],this,Xs.call(this,W,ue),function(Be){var De=new Il(Be.data);onmessage=Or(De)},10,1)}return R})();function Tl(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[Vt,Bt,function(){return[Hs]}],function(Be){return Ft(Hs(Be.data[0],Be.data[1]))},4,ue)}function Hs(R,W){W||(W={});var ue=lt();ue.p(R);var Be=$t(R,W,W.dictionary?6:2,4);return ci(Be,W),Qr(Be,Be.length-4,ue.d()),Be}var jo=(function(){function R(W,ue){Sn.call(this,W,ue),this.v=W&&W.dictionary?2:1}return R.prototype.push=function(W,ue){if(Sn.prototype.e.call(this,W),this.v){if(this.p.length<6&&!ue)return;this.p=this.p.subarray(ei(this.p,this.v-1)),this.v=0}ue&&(this.p.length<4&&pe(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Sn.prototype.c.call(this,ue)},R})(),ha=(function(){function R(W,ue){Kr([_t,Ge,function(){return[Or,Sn,jo]}],this,Xs.call(this,W,ue),function(Be){var De=new jo(Be.data);onmessage=Or(De)},11,0)}return R})();function ec(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),Dr(R,W,[_t,Ge,function(){return[rs]}],function(Be){return Ft(rs(Be.data[0],Lt(Be.data[1])))},5,ue)}function rs(R,W){return be(R.subarray(ei(R,W&&W.dictionary),-4),{i:2},W&&W.out,W&&W.dictionary)}var ko=(function(){function R(W,ue){this.o=Xs.call(this,W,ue)||{},this.G=Xi,this.I=Sn,this.Z=jo}return R.prototype.i=function(){var W=this;this.s.ondata=function(ue,Be){W.ondata(ue,Be)}},R.prototype.push=function(W,ue){if(this.ondata||pe(5),this.s)this.s.push(W,ue);else{if(this.p&&this.p.length){var Be=new f(this.p.length+W.length);Be.set(this.p),Be.set(W,this.p.length)}else this.p=W;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,ue),this.p=null)}},R})(),Yi=(function(){function R(W,ue){ko.call(this,W,ue),this.queuedSize=0,this.G=Wa,this.I=qi,this.Z=ha}return R.prototype.i=function(){var W=this;this.s.ondata=function(ue,Be,De){W.ondata(ue,Be,De)},this.s.ondrain=function(ue){W.queuedSize-=ue,W.ondrain&&W.ondrain(ue)}},R.prototype.push=function(W,ue){this.queuedSize+=W.length,ko.prototype.push.call(this,W,ue)},R})();function _o(R,W,ue){return ue||(ue=W,W={}),typeof ue!="function"&&pe(7),R[0]==31&&R[1]==139&&R[2]==8?Sc(R,W,ue):(R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31?Ps(R,W,ue):ec(R,W,ue)}function al(R,W){return R[0]==31&&R[1]==139&&R[2]==8?yi(R,W):(R[0]&15)!=8||R[0]>>4>7||(R[0]<<8|R[1])%31?ks(R,W):rs(R,W)}var Oo=function(R,W,ue,Be){for(var De in R){var Ye=R[De],dt=W+De,k=Be;Array.isArray(Ye)&&(k=Ue(Be,Ye[1]),Ye=Ye[0]),Ye instanceof f?ue[dt]=[Ye,k]:(ue[dt+="/"]=[new f(0),k],Oo(Ye,dt,ue,Be))}},Wi=typeof TextEncoder<"u"&&new TextEncoder,ws=typeof TextDecoder<"u"&&new TextDecoder,ns=0;try{ws.decode(Fe,{stream:!0}),ns=1}catch{}var gl=function(R){for(var W="",ue=0;;){var Be=R[ue++],De=(Be>127)+(Be>223)+(Be>239);if(ue+De>R.length)return{s:W,r:ce(R,ue-1)};De?De==3?(Be=((Be&15)<<18|(R[ue++]&63)<<12|(R[ue++]&63)<<6|R[ue++]&63)-65536,W+=String.fromCharCode(55296|Be>>10,56320|Be&1023)):De&1?W+=String.fromCharCode((Be&31)<<6|R[ue++]&63):W+=String.fromCharCode((Be&15)<<12|(R[ue++]&63)<<6|R[ue++]&63):W+=String.fromCharCode(Be)}},Fo=(function(){function R(W){this.ondata=W,ns?this.t=new TextDecoder:this.p=Fe}return R.prototype.push=function(W,ue){if(this.ondata||pe(5),ue=!!ue,this.t){this.ondata(this.t.decode(W,{stream:!0}),ue),ue&&(this.t.decode().length&&pe(8),this.t=null);return}this.p||pe(4);var Be=new f(this.p.length+W.length);Be.set(this.p),Be.set(W,this.p.length);var De=gl(Be),Ye=De.s,dt=De.r;ue?(dt.length&&pe(8),this.p=null):this.p=dt,this.ondata(Ye,ue)},R})(),$c=(function(){function R(W){this.ondata=W}return R.prototype.push=function(W,ue){this.ondata||pe(5),this.d&&pe(4),this.ondata(ui(W),this.d=ue||!1)},R})();function ui(R,W){if(W){for(var ue=new f(R.length),Be=0;Be<R.length;++Be)ue[Be]=R.charCodeAt(Be);return ue}if(Wi)return Wi.encode(R);for(var De=R.length,Ye=new f(R.length+(R.length>>1)),dt=0,k=function(K){Ye[dt++]=K},Be=0;Be<De;++Be){if(dt+5>Ye.length){var B=new f(dt+8+(De-Be<<1));B.set(Ye),Ye=B}var P=R.charCodeAt(Be);P<128||W?k(P):P<2048?(k(192|P>>6),k(128|P&63)):P>55295&&P<57344?(P=65536+(P&1047552)|R.charCodeAt(++Be)&1023,k(240|P>>18),k(128|P>>12&63),k(128|P>>6&63),k(128|P&63)):(k(224|P>>12),k(128|P>>6&63),k(128|P&63))}return ce(Ye,0,dt)}function zn(R,W){if(W){for(var ue="",Be=0;Be<R.length;Be+=16384)ue+=String.fromCharCode.apply(null,R.subarray(Be,Be+16384));return ue}else{if(ws)return ws.decode(R);var De=gl(R),Ye=De.s,ue=De.r;return ue.length&&pe(8),Ye}}var Qs=function(R){return R==1?3:R<6?2:R==9?1:0},ji=function(R,W){return W+30+Hr(R,W+26)+Hr(R,W+28)},bi=function(R,W,ue){var Be=Hr(R,W+28),De=zn(R.subarray(W+46,W+46+Be),!(Hr(R,W+8)&2048)),Ye=W+46+Be,dt=Bn(R,W+20),k=ue&&dt==4294967295?Po(R,Ye):[dt,Bn(R,W+24),Bn(R,W+42)],B=k[0],P=k[1],K=k[2];return[Hr(R,W+10),B,P,De,Ye+Hr(R,W+30)+Hr(R,W+32),K]},Po=function(R,W){for(;Hr(R,W)!=1;W+=4+Hr(R,W+2));return[Wr(R,W+12),Wr(R,W+4),Wr(R,W+20)]},Ds=function(R){var W=0;if(R)for(var ue in R){var Be=R[ue].length;Be>65535&&pe(9),W+=Be+4}return W},uo=function(R,W,ue,Be,De,Ye,dt,k){var B=Be.length,P=ue.extra,K=k&&k.length,se=Ds(P);Qr(R,W,dt!=null?33639248:67324752),W+=4,dt!=null&&(R[W++]=20,R[W++]=ue.os),R[W]=20,W+=2,R[W++]=ue.flag<<1|(Ye<0&&8),R[W++]=De&&8,R[W++]=ue.compression&255,R[W++]=ue.compression>>8;var he=new Date(ue.mtime==null?Date.now():ue.mtime),Ie=he.getFullYear()-1980;if((Ie<0||Ie>119)&&pe(10),Qr(R,W,Ie<<25|he.getMonth()+1<<21|he.getDate()<<16|he.getHours()<<11|he.getMinutes()<<5|he.getSeconds()>>1),W+=4,Ye!=-1&&(Qr(R,W,ue.crc),Qr(R,W+4,Ye<0?-Ye-2:Ye),Qr(R,W+8,ue.size)),Qr(R,W+12,B),Qr(R,W+14,se),W+=16,dt!=null&&(Qr(R,W,K),Qr(R,W+6,ue.attrs),Qr(R,W+10,dt),W+=14),R.set(Be,W),W+=B,se)for(var we in P){var Ne=P[we],Re=Ne.length;Qr(R,W,+we),Qr(R,W+2,Re),R.set(Ne,W+4),W+=4+Re}return K&&(R.set(k,W),W+=K),W},Ys=function(R,W,ue,Be,De){Qr(R,W,101010256),Qr(R,W+8,ue),Qr(R,W+10,ue),Qr(R,W+12,Be),Qr(R,W+16,De)},_s=(function(){function R(W){this.filename=W,this.c=Le(),this.size=0,this.compression=0}return R.prototype.process=function(W,ue){this.ondata(null,W,ue)},R.prototype.push=function(W,ue){this.ondata||pe(5),this.c.p(W),this.size+=W.length,ue&&(this.crc=this.c.d()),this.process(W,ue||!1)},R})(),bo=(function(){function R(W,ue){var Be=this;ue||(ue={}),_s.call(this,W),this.d=new ua(ue,function(De,Ye){Be.ondata(null,De,Ye)}),this.compression=8,this.flag=Qs(ue.level)}return R.prototype.process=function(W,ue){try{this.d.push(W,ue)}catch(Be){this.ondata(Be,null,ue)}},R.prototype.push=function(W,ue){_s.prototype.push.call(this,W,ue)},R})(),Do=(function(){function R(W,ue){var Be=this;ue||(ue={}),_s.call(this,W),this.d=new Zr(ue,function(De,Ye,dt){Be.ondata(De,Ye,dt)}),this.compression=8,this.flag=Qs(ue.level),this.terminate=this.d.terminate}return R.prototype.process=function(W,ue){this.d.push(W,ue)},R.prototype.push=function(W,ue){_s.prototype.push.call(this,W,ue)},R})(),pa=(function(){function R(W){this.ondata=W,this.u=[],this.d=1}return R.prototype.add=function(W){var ue=this;if(this.ondata||pe(5),this.d&2)this.ondata(pe(4+(this.d&1)*8,0,1),null,!1);else{var Be=ui(W.filename),De=Be.length,Ye=W.comment,dt=Ye&&ui(Ye),k=De!=W.filename.length||dt&&Ye.length!=dt.length,B=De+Ds(W.extra)+30;De>65535&&this.ondata(pe(11,0,1),null,!1);var P=new f(B);uo(P,0,W,Be,k,-1);var K=[P],se=function(){for(var Re=0,Ke=K;Re<Ke.length;Re++){var at=Ke[Re];ue.ondata(null,at,!1)}K=[]},he=this.d;this.d=0;var Ie=this.u.length,we=Ue(W,{f:Be,u:k,o:dt,t:function(){W.terminate&&W.terminate()},r:function(){if(se(),he){var Re=ue.u[Ie+1];Re?Re.r():ue.d=1}he=1}}),Ne=0;W.ondata=function(Re,Ke,at){if(Re)ue.ondata(Re,Ke,at),ue.terminate();else if(Ne+=Ke.length,K.push(Ke),at){var ut=new f(16);Qr(ut,0,134695760),Qr(ut,4,W.crc),Qr(ut,8,Ne),Qr(ut,12,W.size),K.push(ut),we.c=Ne,we.b=B+Ne+16,we.crc=W.crc,we.size=W.size,he&&we.r(),he=1}else he&&se()},this.u.push(we)}},R.prototype.end=function(){var W=this;if(this.d&2){this.ondata(pe(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){W.d&1&&(W.u.splice(-1,1),W.e())},t:function(){}}),this.d=3},R.prototype.e=function(){for(var W=0,ue=0,Be=0,De=0,Ye=this.u;De<Ye.length;De++){var dt=Ye[De];Be+=46+dt.f.length+Ds(dt.extra)+(dt.o?dt.o.length:0)}for(var k=new f(Be+22),B=0,P=this.u;B<P.length;B++){var dt=P[B];uo(k,W,dt,dt.f,dt.u,-dt.c-2,ue,dt.o),W+=46+dt.f.length+Ds(dt.extra)+(dt.o?dt.o.length:0),ue+=dt.b}Ys(k,W,this.u.length,Be,ue),this.ondata(null,k,!0),this.d=2},R.prototype.terminate=function(){for(var W=0,ue=this.u;W<ue.length;W++){var Be=ue[W];Be.t()}this.d=2},R})();function Ws(R,W,ue){ue||(ue=W,W={}),typeof ue!="function"&&pe(7);var Be={};Oo(R,"",Be,W);var De=Object.keys(Be),Ye=De.length,dt=0,k=0,B=Ye,P=new Array(Ye),K=[],se=function(){for(var Re=0;Re<K.length;++Re)K[Re]()},he=function(Re,Ke){Q(function(){ue(Re,Ke)})};Q(function(){he=ue});var Ie=function(){var Re=new f(k+22),Ke=dt,at=k-dt;k=0;for(var ut=0;ut<B;++ut){var Pe=P[ut];try{var Nt=Pe.c.length;uo(Re,k,Pe,Pe.f,Pe.u,Nt);var bt=30+Pe.f.length+Ds(Pe.extra),Et=k+bt;Re.set(Pe.c,Et),uo(Re,dt,Pe,Pe.f,Pe.u,Nt,k,Pe.m),dt+=16+bt+(Pe.m?Pe.m.length:0),k=Et+Nt}catch(ot){return he(ot,null)}}Ys(Re,dt,P.length,at,Ke),he(null,Re)};Ye||Ie();for(var we=function(Re){var Ke=De[Re],at=Be[Ke],ut=at[0],Pe=at[1],Nt=Le(),bt=ut.length;Nt.p(ut);var Et=ui(Ke),ot=Et.length,Ut=Pe.comment,rr=Ut&&ui(Ut),Ot=rr&&rr.length,st=Ds(Pe.extra),Xt=Pe.level==0?0:8,pr=function(ar,Mt){if(ar)se(),he(ar,null);else{var Ar=Mt.length;P[Re]=Ue(Pe,{size:bt,crc:Nt.d(),c:Mt,f:Et,m:rr,u:ot!=Ke.length||rr&&Ut.length!=Ot,compression:Xt}),dt+=30+ot+st+Ar,k+=76+2*(ot+st)+(Ot||0)+Ar,--Ye||Ie()}};if(ot>65535&&pr(pe(11,0,1),null),!Xt)pr(null,ut);else if(bt<16e4)try{pr(null,Fi(ut,Pe))}catch(ar){pr(ar,null)}else K.push(ls(ut,Pe,pr))},Ne=0;Ne<B;++Ne)we(Ne);return se}function wi(R,W){W||(W={});var ue={},Be=[];Oo(R,"",ue,W);var De=0,Ye=0;for(var dt in ue){var k=ue[dt],B=k[0],P=k[1],K=P.level==0?0:8,se=ui(dt),he=se.length,Ie=P.comment,we=Ie&&ui(Ie),Ne=we&&we.length,Re=Ds(P.extra);he>65535&&pe(11);var Ke=K?Fi(B,P):B,at=Ke.length,ut=Le();ut.p(B),Be.push(Ue(P,{size:B.length,crc:ut.d(),c:Ke,f:se,m:we,u:he!=dt.length||we&&Ie.length!=Ne,o:De,compression:K})),De+=30+he+Re+at,Ye+=76+2*(he+Re)+(Ne||0)+at}for(var Pe=new f(Ye+22),Nt=De,bt=Ye-De,Et=0;Et<Be.length;++Et){var se=Be[Et];uo(Pe,se.o,se,se.f,se.u,se.c.length);var ot=30+se.f.length+Ds(se.extra);Pe.set(se.c,se.o+ot),uo(Pe,De,se,se.f,se.u,se.c.length,se.o,se.m),De+=16+ot+(se.m?se.m.length:0)}return Ys(Pe,De,Be.length,bt,Nt),Pe}var Ji=(function(){function R(){}return R.prototype.push=function(W,ue){this.ondata(null,W,ue)},R.compression=0,R})(),Pi=(function(){function R(){var W=this;this.i=new Sn(function(ue,Be){W.ondata(null,ue,Be)})}return R.prototype.push=function(W,ue){try{this.i.push(W,ue)}catch(Be){this.ondata(Be,null,ue)}},R.compression=8,R})(),Mo=(function(){function R(W,ue){var Be=this;ue<32e4?this.i=new Sn(function(De,Ye){Be.ondata(null,De,Ye)}):(this.i=new qi(function(De,Ye,dt){Be.ondata(De,Ye,dt)}),this.terminate=this.i.terminate)}return R.prototype.push=function(W,ue){this.i.terminate&&(W=ce(W,0)),this.i.push(W,ue)},R.compression=8,R})(),Kt=(function(){function R(W){this.onfile=W,this.k=[],this.o={0:Ji},this.p=Fe}return R.prototype.push=function(W,ue){var Be=this;if(this.onfile||pe(5),this.p||pe(4),this.c>0){var De=Math.min(this.c,W.length),Ye=W.subarray(0,De);if(this.c-=De,this.d?this.d.push(Ye,!this.c):this.k[0].push(Ye),W=W.subarray(De),W.length)return this.push(W,ue)}else{var dt=0,k=0,B=void 0,P=void 0;this.p.length?W.length?(P=new f(this.p.length+W.length),P.set(this.p),P.set(W,this.p.length)):P=this.p:P=W;for(var K=P.length,se=this.c,he=se&&this.d,Ie=function(){var Ke,at=Bn(P,k);if(at==67324752){dt=1,B=k,we.d=null,we.c=0;var ut=Hr(P,k+6),Pe=Hr(P,k+8),Nt=ut&2048,bt=ut&8,Et=Hr(P,k+26),ot=Hr(P,k+28);if(K>k+30+Et+ot){var Ut=[];we.k.unshift(Ut),dt=2;var rr=Bn(P,k+18),Ot=Bn(P,k+22),st=zn(P.subarray(k+30,k+=30+Et),!Nt);rr==4294967295?(Ke=bt?[-2]:Po(P,k),rr=Ke[0],Ot=Ke[1]):bt&&(rr=-1),k+=ot,we.c=rr;var Xt,pr={name:st,compression:Pe,start:function(){if(pr.ondata||pe(5),!rr)pr.ondata(null,Fe,!0);else{var ar=Be.o[Pe];ar||pr.ondata(pe(14,"unknown compression type "+Pe,1),null,!1),Xt=rr<0?new ar(st):new ar(st,rr,Ot),Xt.ondata=function(mt,Pt,Dt){pr.ondata(mt,Pt,Dt)};for(var Mt=0,Ar=Ut;Mt<Ar.length;Mt++){var ct=Ar[Mt];Xt.push(ct,!1)}Be.k[0]==Ut&&Be.c?Be.d=Xt:Xt.push(Fe,!0)}},terminate:function(){Xt&&Xt.terminate&&Xt.terminate()}};rr>=0&&(pr.size=rr,pr.originalSize=Ot),we.onfile(pr)}return"break"}else if(se){if(at==134695760)return B=k+=12+(se==-2&&8),dt=3,we.c=0,"break";if(at==33639248)return B=k-=4,dt=3,we.c=0,"break"}},we=this;k<K-4;++k){var Ne=Ie();if(Ne==="break")break}if(this.p=Fe,se<0){var Re=dt?P.subarray(0,B-12-(se==-2&&8)-(Bn(P,B-16)==134695760&&4)):P.subarray(0,k);he?he.push(Re,!!dt):this.k[+(dt==2)].push(Re)}if(dt&2)return this.push(P.subarray(k),ue);this.p=P.subarray(k)}ue&&(this.c&&pe(13),this.p=null)},R.prototype.register=function(W){this.o[W.compression]=W},R})(),Q=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(R){R()};function fe(R,W,ue){ue||(ue=W,W={}),typeof ue!="function"&&pe(7);var Be=[],De=function(){for(var Re=0;Re<Be.length;++Re)Be[Re]()},Ye={},dt=function(Re,Ke){Q(function(){ue(Re,Ke)})};Q(function(){dt=ue});for(var k=R.length-22;Bn(R,k)!=101010256;--k)if(!k||R.length-k>65558)return dt(pe(13,0,1),null),De;var B=Hr(R,k+8);if(B){var P=B,K=Bn(R,k+16),se=K==4294967295||P==65535;if(se){var he=Bn(R,k-12);se=Bn(R,he)==101075792,se&&(P=B=Bn(R,he+32),K=Bn(R,he+48))}for(var Ie=W&&W.filter,we=function(Re){var Ke=bi(R,K,se),at=Ke[0],ut=Ke[1],Pe=Ke[2],Nt=Ke[3],bt=Ke[4],Et=Ke[5],ot=ji(R,Et);K=bt;var Ut=function(Ot,st){Ot?(De(),dt(Ot,null)):(st&&(Ye[Nt]=st),--B||dt(null,Ye))};if(!Ie||Ie({name:Nt,size:ut,originalSize:Pe,compression:at}))if(!at)Ut(null,ce(R,ot,ot+ut));else if(at==8){var rr=R.subarray(ot,ot+ut);if(Pe<524288||ut>.8*Pe)try{Ut(null,ks(rr,{out:new f(Pe)}))}catch(Ot){Ut(Ot,null)}else Be.push(Ps(rr,{size:Pe},Ut))}else Ut(pe(14,"unknown compression type "+at,1),null);else Ut(null,null)},Ne=0;Ne<P;++Ne)we(Ne)}else dt(null,{});return De}function ve(R,W){for(var ue={},Be=R.length-22;Bn(R,Be)!=101010256;--Be)(!Be||R.length-Be>65558)&&pe(13);var De=Hr(R,Be+8);if(!De)return{};var Ye=Bn(R,Be+16),dt=Ye==4294967295||De==65535;if(dt){var k=Bn(R,Be-12);dt=Bn(R,k)==101075792,dt&&(De=Bn(R,k+32),Ye=Bn(R,k+48))}for(var B=W&&W.filter,P=0;P<De;++P){var K=bi(R,Ye,dt),se=K[0],he=K[1],Ie=K[2],we=K[3],Ne=K[4],Re=K[5],Ke=ji(R,Re);Ye=Ne,(!B||B({name:we,size:he,originalSize:Ie,compression:se}))&&(se?se==8?ue[we]=ks(R.subarray(Ke,Ke+he),{out:new f(Ie)}):pe(14,"unknown compression type "+se):ue[we]=ce(R,Ke,Ke+he))}return ue}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(o,d,l){l.r(d),l.d(d,{IOBuffer:function(){return g}});var u=l("./node_modules/iobuffer/lib-esm/text.js");const h=1024*8,f=(()=>{const m=new Uint8Array(4),x=new Uint32Array(m.buffer);return!((x[0]=1)&m[0])})(),A={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{constructor(x=h,y={}){Ks(this,"buffer");Ks(this,"byteLength");Ks(this,"byteOffset");Ks(this,"length");Ks(this,"offset");Ks(this,"lastWrittenByte");Ks(this,"littleEndian");Ks(this,"_data");Ks(this,"_mark");Ks(this,"_marks");let b=!1;typeof x=="number"?x=new ArrayBuffer(x):(b=!0,this.lastWrittenByte=x.byteLength);const j=y.offset?y.offset>>>0:0,S=x.byteLength-j;let w=j;(ArrayBuffer.isView(x)||x instanceof g)&&(x.byteLength!==x.buffer.byteLength&&(w=x.byteOffset+j),x=x.buffer),b?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=x,this.length=S,this.byteLength=S,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,S),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const b=(this.offset+x)*2,j=new Uint8Array(b);j.set(new Uint8Array(this.buffer)),this.buffer=j.buffer,this.length=b,this.byteLength=b,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,y){const b=A[y].BYTES_PER_ELEMENT*x,j=this.byteOffset+this.offset,S=this.buffer.slice(j,j+b);if(this.littleEndian===f&&y!=="uint8"&&y!=="int8"){const E=new Uint8Array(this.buffer.slice(j,j+b));E.reverse();const I=new A[y](E.buffer);return this.offset+=b,I.reverse(),I}const w=new A[y](S);return this.offset+=b,w}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let y="";for(let b=0;b<x;b++)y+=this.readChar();return y}readUtf8(x=1){return(0,u.decode)(this.readBytes(x))}decodeText(x=1,y="utf8"){return(0,u.decode)(this.readBytes(x),y)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let y=0;y<x.length;y++)this._data.setUint8(this.offset++,x[y]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let y=0;y<x.length;y++)this.writeUint8(x.charCodeAt(y));return this}writeUtf8(x){return this.writeBytes((0,u.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(o,d,l){l.r(d),l.d(d,{decode:function(){return u},encode:function(){return f}});function u(A,g="utf8"){return new TextDecoder(g).decode(A)}const h=new TextEncoder;function f(A){return h.encode(A)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(o,d,l){l.r(d),l.d(d,{AcroForm:function(){return Fi},AcroFormAppearance:function(){return Zr},AcroFormButton:function(){return sn},AcroFormCheckBox:function(){return ei},AcroFormChoiceField:function(){return Bn},AcroFormComboBox:function(){return Qr},AcroFormEditBox:function(){return vn},AcroFormListBox:function(){return Wr},AcroFormPasswordField:function(){return ua},AcroFormPushButton:function(){return Ln},AcroFormRadioButton:function(){return da},AcroFormTextField:function(){return Xs},GState:function(){return be},ShadingPattern:function(){return de},TilingPattern:function(){return Y},default:function(){return Ae},jsPDF:function(){return Ae}});var u=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=l("./node_modules/fflate/esm/browser.js"),f=l("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),A=l("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var g=(function(){return typeof window<"u"?window:typeof Af<"u"?Af:typeof self<"u"?self:this})();function m(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var x={log:m,warn:function(k){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):m.call(null,arguments))},error:function(k){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):m(k))}};function y(k,B,P){var K=new XMLHttpRequest;K.open("GET",k),K.responseType="blob",K.onload=function(){S(K.response,B,P)},K.onerror=function(){x.error("could not download file")},K.send()}function b(k){var B=new XMLHttpRequest;B.open("HEAD",k,!1);try{B.send()}catch{}return B.status>=200&&B.status<=299}function j(k){try{k.dispatchEvent(new MouseEvent("click"))}catch{var B=document.createEvent("MouseEvents");B.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(B)}}var S=g.saveAs||((typeof window>"u"?"undefined":(0,u.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(k,B,P){var K=g.URL||g.webkitURL,se=document.createElement("a");B=B||k.name||"download",se.download=B,se.rel="noopener",typeof k=="string"?(se.href=k,se.origin!==location.origin?b(se.href)?y(k,B,P):j(se,se.target="_blank"):j(se)):(se.href=K.createObjectURL(k),setTimeout(function(){K.revokeObjectURL(se.href)},4e4),setTimeout(function(){j(se)},0))}:"msSaveOrOpenBlob"in navigator?function(k,B,P){if(B=B||k.name||"download",typeof k=="string")if(b(k))y(k,B,P);else{var K=document.createElement("a");K.href=k,K.target="_blank",setTimeout(function(){j(K)})}else navigator.msSaveOrOpenBlob((function(se,he){return he===void 0?he={autoBom:!1}:(0,u.default)(he)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),he={autoBom:!he}),he.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(se.type)?new Blob(["\uFEFF",se],{type:se.type}):se})(k,P),B)}:function(k,B,P,K){if((K=K||open("","_blank"))&&(K.document.title=K.document.body.innerText="downloading..."),typeof k=="string")return y(k,B,P);var se=k.type==="application/octet-stream",he=/constructor/i.test(g.HTMLElement)||g.safari,Ie=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ie||se&&he)&&(typeof FileReader>"u"?"undefined":(0,u.default)(FileReader))==="object"){var we=new FileReader;we.onloadend=function(){var Ke=we.result;Ke=Ie?Ke:Ke.replace(/^data:[^;]*;/,"data:attachment/file;"),K?K.location.href=Ke:location=Ke,K=null},we.readAsDataURL(k)}else{var Ne=g.URL||g.webkitURL,Re=Ne.createObjectURL(k);K?K.location=Re:location.href=Re,K=null,setTimeout(function(){Ne.revokeObjectURL(Re)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function w(k){var B;k=k||"",this.ok=!1,k.charAt(0)=="#"&&(k=k.substr(1,6)),k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[k=(k=k.replace(/ /g,"")).toLowerCase()]||k;for(var P=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(we){return[parseInt(we[1]),parseInt(we[2]),parseInt(we[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(we){return[parseInt(we[1],16),parseInt(we[2],16),parseInt(we[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(we){return[parseInt(we[1]+we[1],16),parseInt(we[2]+we[2],16),parseInt(we[3]+we[3],16)]}}],K=0;K<P.length;K++){var se=P[K].re,he=P[K].process,Ie=se.exec(k);Ie&&(B=he(Ie),this.r=B[0],this.g=B[1],this.b=B[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var we=this.r.toString(16),Ne=this.g.toString(16),Re=this.b.toString(16);return we.length==1&&(we="0"+we),Ne.length==1&&(Ne="0"+Ne),Re.length==1&&(Re="0"+Re),"#"+we+Ne+Re}}var E=g.atob.bind(g),I=g.btoa.bind(g);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L(k,B){var P=k[0],K=k[1],se=k[2],he=k[3];P=ne(P,K,se,he,B[0],7,-680876936),he=ne(he,P,K,se,B[1],12,-389564586),se=ne(se,he,P,K,B[2],17,606105819),K=ne(K,se,he,P,B[3],22,-1044525330),P=ne(P,K,se,he,B[4],7,-176418897),he=ne(he,P,K,se,B[5],12,1200080426),se=ne(se,he,P,K,B[6],17,-1473231341),K=ne(K,se,he,P,B[7],22,-45705983),P=ne(P,K,se,he,B[8],7,1770035416),he=ne(he,P,K,se,B[9],12,-1958414417),se=ne(se,he,P,K,B[10],17,-42063),K=ne(K,se,he,P,B[11],22,-1990404162),P=ne(P,K,se,he,B[12],7,1804603682),he=ne(he,P,K,se,B[13],12,-40341101),se=ne(se,he,P,K,B[14],17,-1502002290),P=G(P,K=ne(K,se,he,P,B[15],22,1236535329),se,he,B[1],5,-165796510),he=G(he,P,K,se,B[6],9,-1069501632),se=G(se,he,P,K,B[11],14,643717713),K=G(K,se,he,P,B[0],20,-373897302),P=G(P,K,se,he,B[5],5,-701558691),he=G(he,P,K,se,B[10],9,38016083),se=G(se,he,P,K,B[15],14,-660478335),K=G(K,se,he,P,B[4],20,-405537848),P=G(P,K,se,he,B[9],5,568446438),he=G(he,P,K,se,B[14],9,-1019803690),se=G(se,he,P,K,B[3],14,-187363961),K=G(K,se,he,P,B[8],20,1163531501),P=G(P,K,se,he,B[13],5,-1444681467),he=G(he,P,K,se,B[2],9,-51403784),se=G(se,he,P,K,B[7],14,1735328473),P=le(P,K=G(K,se,he,P,B[12],20,-1926607734),se,he,B[5],4,-378558),he=le(he,P,K,se,B[8],11,-2022574463),se=le(se,he,P,K,B[11],16,1839030562),K=le(K,se,he,P,B[14],23,-35309556),P=le(P,K,se,he,B[1],4,-1530992060),he=le(he,P,K,se,B[4],11,1272893353),se=le(se,he,P,K,B[7],16,-155497632),K=le(K,se,he,P,B[10],23,-1094730640),P=le(P,K,se,he,B[13],4,681279174),he=le(he,P,K,se,B[0],11,-358537222),se=le(se,he,P,K,B[3],16,-722521979),K=le(K,se,he,P,B[6],23,76029189),P=le(P,K,se,he,B[9],4,-640364487),he=le(he,P,K,se,B[12],11,-421815835),se=le(se,he,P,K,B[15],16,530742520),P=V(P,K=le(K,se,he,P,B[2],23,-995338651),se,he,B[0],6,-198630844),he=V(he,P,K,se,B[7],10,1126891415),se=V(se,he,P,K,B[14],15,-1416354905),K=V(K,se,he,P,B[5],21,-57434055),P=V(P,K,se,he,B[12],6,1700485571),he=V(he,P,K,se,B[3],10,-1894986606),se=V(se,he,P,K,B[10],15,-1051523),K=V(K,se,he,P,B[1],21,-2054922799),P=V(P,K,se,he,B[8],6,1873313359),he=V(he,P,K,se,B[15],10,-30611744),se=V(se,he,P,K,B[6],15,-1560198380),K=V(K,se,he,P,B[13],21,1309151649),P=V(P,K,se,he,B[4],6,-145523070),he=V(he,P,K,se,B[11],10,-1120210379),se=V(se,he,P,K,B[2],15,718787259),K=V(K,se,he,P,B[9],21,-343485551),k[0]=J(P,k[0]),k[1]=J(K,k[1]),k[2]=J(se,k[2]),k[3]=J(he,k[3])}function Z(k,B,P,K,se,he){return B=J(J(B,k),J(K,he)),J(B<<se|B>>>32-se,P)}function ne(k,B,P,K,se,he,Ie){return Z(B&P|~B&K,k,B,se,he,Ie)}function G(k,B,P,K,se,he,Ie){return Z(B&K|P&~K,k,B,se,he,Ie)}function le(k,B,P,K,se,he,Ie){return Z(B^P^K,k,B,se,he,Ie)}function V(k,B,P,K,se,he,Ie){return Z(P^(B|~K),k,B,se,he,Ie)}function me(k){var B,P=k.length,K=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=k.length;B+=64)L(K,$(k.substring(B-64,B)));k=k.substring(B-64);var se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<k.length;B++)se[B>>2]|=k.charCodeAt(B)<<(B%4<<3);if(se[B>>2]|=128<<(B%4<<3),B>55)for(L(K,se),B=0;B<16;B++)se[B]=0;return se[14]=8*P,L(K,se),K}function $(k){var B,P=[];for(B=0;B<64;B+=4)P[B>>2]=k.charCodeAt(B)+(k.charCodeAt(B+1)<<8)+(k.charCodeAt(B+2)<<16)+(k.charCodeAt(B+3)<<24);return P}var X="0123456789abcdef".split("");function Ce(k){for(var B="",P=0;P<4;P++)B+=X[k>>8*P+4&15]+X[k>>8*P&15];return B}function M(k){return String.fromCharCode(255&k,(65280&k)>>8,(16711680&k)>>16,(4278190080&k)>>24)}function q(k){return me(k).map(M).join("")}var ie=(function(k){for(var B=0;B<k.length;B++)k[B]=Ce(k[B]);return k.join("")})(me("hello"))!="5d41402abc4b2a76b9719d911017c592";function J(k,B){if(ie){var P=(65535&k)+(65535&B);return(k>>16)+(B>>16)+(P>>16)<<16|65535&P}return k+B&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D(k,B){var P,K,se,he;if(k!==P){for(var Ie=(se=k,he=1+(256/k.length|0),new Array(he+1).join(se)),we=[],Ne=0;Ne<256;Ne++)we[Ne]=Ne;var Re=0;for(Ne=0;Ne<256;Ne++){var Ke=we[Ne];Re=(Re+Ke+Ie.charCodeAt(Ne))%256,we[Ne]=we[Re],we[Re]=Ke}P=k,K=we}else we=K;var at=B.length,ut=0,Pe=0,Nt="";for(Ne=0;Ne<at;Ne++)Pe=(Pe+(Ke=we[ut=(ut+1)%256]))%256,we[ut]=we[Pe],we[Pe]=Ke,Ie=we[(we[ut]+we[Pe])%256],Nt+=String.fromCharCode(B.charCodeAt(Ne)^Ie);return Nt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ce={print:4,modify:8,copy:16,"annot-forms":32};function te(k,B,P,K){this.v=1,this.r=2;var se=192;k.forEach(function(we){if(ce.perm!==void 0)throw new Error("Invalid permission: "+we);se+=ce[we]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var he=(B+this.padding).substr(0,32),Ie=(P+this.padding).substr(0,32);this.O=this.processOwnerPassword(he,Ie),this.P=-(1+(255^se)),this.encryptionKey=q(he+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(K)).substr(0,5),this.U=D(this.encryptionKey,this.padding)}function ge(k){if(/[^\u0000-\u00ff]/.test(k))throw new Error("Invalid PDF Name Object: "+k+", Only accept ASCII characters.");for(var B="",P=k.length,K=0;K<P;K++){var se=k.charCodeAt(K);B+=se<33||se===35||se===37||se===40||se===41||se===47||se===60||se===62||se===91||se===93||se===123||se===125||se>126?"#"+("0"+se.toString(16)).slice(-2):k[K]}return B}function pe(k){if((0,u.default)(k)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var B={};this.subscribe=function(P,K,se){if(se=se||!1,typeof P!="string"||typeof K!="function"||typeof se!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");B.hasOwnProperty(P)||(B[P]={});var he=Math.random().toString(35);return B[P][he]=[K,!!se],he},this.unsubscribe=function(P){for(var K in B)if(B[K][P])return delete B[K][P],Object.keys(B[K]).length===0&&delete B[K],!0;return!1},this.publish=function(P){if(B.hasOwnProperty(P)){var K=Array.prototype.slice.call(arguments,1),se=[];for(var he in B[P]){var Ie=B[P][he];try{Ie[0].apply(k,K)}catch(we){g.console&&x.error("jsPDF PubSub Error",we.message,we)}Ie[1]&&se.push(he)}se.length&&se.forEach(this.unsubscribe)}},this.getTopics=function(){return B}}function be(k){if(!(this instanceof be))return new be(k);var B="opacity,stroke-opacity".split(",");for(var P in k)k.hasOwnProperty(P)&&B.indexOf(P)>=0&&(this[P]=k[P]);this.id="",this.objectNumber=-1}function re(k,B){this.gState=k,this.matrix=B,this.id="",this.objectNumber=-1}function de(k,B,P,K,se){if(!(this instanceof de))return new de(k,B,P,K,se);this.type=k==="axial"?2:3,this.coords=B,this.colors=P,re.call(this,K,se)}function Y(k,B,P,K,se){if(!(this instanceof Y))return new Y(k,B,P,K,se);this.boundingBox=k,this.xStep=B,this.yStep=P,this.stream="",this.cloneIndex=0,re.call(this,K,se)}function Ae(k){var B,P=typeof arguments[0]=="string"?arguments[0]:"p",K=arguments[1],se=arguments[2],he=arguments[3],Ie=[],we=1,Ne=16,Re="S",Ke=null;(0,u.default)(k=k||{})==="object"&&(P=k.orientation,K=k.unit||K,se=k.format||se,he=k.compress||k.compressPdf||he,(Ke=k.encryption||null)!==null&&(Ke.userPassword=Ke.userPassword||"",Ke.ownerPassword=Ke.ownerPassword||"",Ke.userPermissions=Ke.userPermissions||[]),we=typeof k.userUnit=="number"?Math.abs(k.userUnit):1,k.precision!==void 0&&(B=k.precision),k.floatPrecision!==void 0&&(Ne=k.floatPrecision),Re=k.defaultPathOperation||"S"),Ie=k.filters||(he===!0?["FlateEncode"]:Ie),K=K||"mm",P=(""+(P||"P")).toLowerCase();var at=k.putOnlyUsedFonts||!1,ut={},Pe={internal:{},__private__:{}};Pe.__private__.PubSub=pe;var Nt="1.3",bt=Pe.__private__.getPdfVersion=function(){return Nt};Pe.__private__.setPdfVersion=function(xe){Nt=xe};var Et={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Pe.__private__.getPageFormats=function(){return Et};var ot=Pe.__private__.getPageFormat=function(xe){return Et[xe]};se=se||"a4";var Ut="compat",rr="advanced",Ot=Ut;function st(){this.saveGraphicsState(),pt(new fa(la,0,0,-la,0,Kc()*la).toString()+" cm"),this.setFontSize(this.getFontSize()/la),Re="n",Ot=rr}function Xt(){this.restoreGraphicsState(),Re="S",Ot=Ut}var pr=Pe.__private__.combineFontStyleAndFontWeight=function(xe,$e){if(xe=="bold"&&$e=="normal"||xe=="bold"&&$e==400||xe=="normal"&&$e=="italic"||xe=="bold"&&$e=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $e&&(xe=$e==400||$e==="normal"?xe==="italic"?"italic":"normal":$e!=700&&$e!=="bold"||xe!=="normal"?($e==700?"bold":$e)+""+xe:"bold"),xe};Pe.advancedAPI=function(xe){var $e=Ot===Ut;return $e&&st.call(this),typeof xe!="function"||(xe(this),$e&&Xt.call(this)),this},Pe.compatAPI=function(xe){var $e=Ot===rr;return $e&&Xt.call(this),typeof xe!="function"||(xe(this),$e&&st.call(this)),this},Pe.isAdvancedAPI=function(){return Ot===rr};var ar,Mt=function(xe){if(Ot!==rr)throw new Error(xe+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ar=Pe.roundToPrecision=Pe.__private__.roundToPrecision=function(xe,$e){var wt=B||$e;if(isNaN(xe)||isNaN(wt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return xe.toFixed(wt).replace(/0+$/,"")};ar=Pe.hpf=Pe.__private__.hpf=typeof Ne=="number"?function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(xe,Ne)}:Ne==="smart"?function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(xe,xe>-1&&xe<1?16:5)}:function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.hpf");return Ar(xe,16)};var ct=Pe.f2=Pe.__private__.f2=function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.f2");return Ar(xe,2)},mt=Pe.__private__.f3=function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.f3");return Ar(xe,3)},Pt=Pe.scale=Pe.__private__.scale=function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.scale");return Ot===Ut?xe*la:Ot===rr?xe:void 0},Dt=function(xe){return Pt((function($e){return Ot===Ut?Kc()-$e:Ot===rr?$e:void 0})(xe))};Pe.__private__.setPrecision=Pe.setPrecision=function(xe){typeof parseInt(xe,10)=="number"&&(B=parseInt(xe,10))};var gr,jr="00000000000000000000000000000000",Nr=Pe.__private__.getFileId=function(){return jr},ir=Pe.__private__.setFileId=function(xe){return jr=xe!==void 0&&/^[a-fA-F0-9]{32}$/.test(xe)?xe.toUpperCase():jr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ke!==null&&(ki=new te(Ke.userPermissions,Ke.userPassword,Ke.ownerPassword,jr)),jr};Pe.setFileId=function(xe){return ir(xe),this},Pe.getFileId=function(){return Nr()};var wr=Pe.__private__.convertDateToPDFDate=function(xe){var $e=xe.getTimezoneOffset(),wt=$e<0?"+":"-",Rt=Math.floor(Math.abs($e/60)),nr=Math.abs($e%60),Sr=[wt,kt(Rt),"'",kt(nr),"'"].join("");return["D:",xe.getFullYear(),kt(xe.getMonth()+1),kt(xe.getDate()),kt(xe.getHours()),kt(xe.getMinutes()),kt(xe.getSeconds()),Sr].join("")},Yr=Pe.__private__.convertPDFDateToDate=function(xe){var $e=parseInt(xe.substr(2,4),10),wt=parseInt(xe.substr(6,2),10)-1,Rt=parseInt(xe.substr(8,2),10),nr=parseInt(xe.substr(10,2),10),Sr=parseInt(xe.substr(12,2),10),Ur=parseInt(xe.substr(14,2),10);return new Date($e,wt,Rt,nr,Sr,Ur,0)},zr=Pe.__private__.setCreationDate=function(xe){var $e;if(xe===void 0&&(xe=new Date),xe instanceof Date)$e=wr(xe);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(xe))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$e=xe}return gr=$e},et=Pe.__private__.getCreationDate=function(xe){var $e=gr;return xe==="jsDate"&&($e=Yr(gr)),$e};Pe.setCreationDate=function(xe){return zr(xe),this},Pe.getCreationDate=function(xe){return et(xe)};var St,kt=Pe.__private__.padd2=function(xe){return("0"+parseInt(xe)).slice(-2)},Yt=Pe.__private__.padd2Hex=function(xe){return("00"+(xe=xe.toString())).substr(xe.length)},tr=0,dr=[],br=[],Cr=0,Lr=[],Jr=[],jn=!1,wn=br;Pe.__private__.setCustomOutputDestination=function(xe){jn=!0,wn=xe};var oa=function(xe){jn||(wn=xe)};Pe.__private__.resetCustomOutputDestination=function(){jn=!1,wn=br};var pt=Pe.__private__.out=function(xe){return xe=xe.toString(),Cr+=xe.length+1,wn.push(xe),wn},hn=Pe.__private__.write=function(xe){return pt(arguments.length===1?xe.toString():Array.prototype.join.call(arguments," "))},ma=Pe.__private__.getArrayBuffer=function(xe){for(var $e=xe.length,wt=new ArrayBuffer($e),Rt=new Uint8Array(wt);$e--;)Rt[$e]=xe.charCodeAt($e);return wt},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Pe.__private__.getStandardFonts=function(){return dn};var Gr=k.fontSize||16;Pe.__private__.setFontSize=Pe.setFontSize=function(xe){return Gr=Ot===rr?xe/la:xe,this};var aa,On=Pe.__private__.getFontSize=Pe.getFontSize=function(){return Ot===Ut?Gr:Gr*la},Xn=k.R2L||!1;Pe.__private__.setR2L=Pe.setR2L=function(xe){return Xn=xe,this},Pe.__private__.getR2L=Pe.getR2L=function(){return Xn};var Fn,ps=Pe.__private__.setZoomMode=function(xe){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(xe))aa=xe;else if(isNaN(xe)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(xe)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+xe+'" is not recognized.');aa=xe}else aa=parseInt(xe,10)};Pe.__private__.getZoomMode=function(){return aa};var Ua,_n=Pe.__private__.setPageMode=function(xe){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(xe)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+xe+'" is not recognized.');Fn=xe};Pe.__private__.getPageMode=function(){return Fn};var ss=Pe.__private__.setLayoutMode=function(xe){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(xe)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+xe+'" is not recognized.');Ua=xe};Pe.__private__.getLayoutMode=function(){return Ua},Pe.__private__.setDisplayMode=Pe.setDisplayMode=function(xe,$e,wt){return ps(xe),ss($e),_n(wt),this};var sa={title:"",subject:"",author:"",keywords:"",creator:""};Pe.__private__.getDocumentProperty=function(xe){if(Object.keys(sa).indexOf(xe)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return sa[xe]},Pe.__private__.getDocumentProperties=function(){return sa},Pe.__private__.setDocumentProperties=Pe.setProperties=Pe.setDocumentProperties=function(xe){for(var $e in sa)sa.hasOwnProperty($e)&&xe[$e]&&(sa[$e]=xe[$e]);return this},Pe.__private__.setDocumentProperty=function(xe,$e){if(Object.keys(sa).indexOf(xe)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return sa[xe]=$e};var In,la,Tn,ba,cs,Va={},za={},ti=[],$n={},Ss={},ga={},Hn={},Es=null,wa=0,Cn=[],Ya=new pe(Pe),sd=k.hotfixes||[],$i={},wo={},Bc=[],fa=function xe($e,wt,Rt,nr,Sr,Ur){if(!(this instanceof xe))return new xe($e,wt,Rt,nr,Sr,Ur);isNaN($e)&&($e=1),isNaN(wt)&&(wt=0),isNaN(Rt)&&(Rt=0),isNaN(nr)&&(nr=1),isNaN(Sr)&&(Sr=0),isNaN(Ur)&&(Ur=0),this._matrix=[$e,wt,Rt,nr,Sr,Ur]};Object.defineProperty(fa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(xe){this._matrix[0]=xe}}),Object.defineProperty(fa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(xe){this._matrix[1]=xe}}),Object.defineProperty(fa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(xe){this._matrix[2]=xe}}),Object.defineProperty(fa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(xe){this._matrix[3]=xe}}),Object.defineProperty(fa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(xe){this._matrix[4]=xe}}),Object.defineProperty(fa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(xe){this._matrix[5]=xe}}),Object.defineProperty(fa.prototype,"a",{get:function(){return this._matrix[0]},set:function(xe){this._matrix[0]=xe}}),Object.defineProperty(fa.prototype,"b",{get:function(){return this._matrix[1]},set:function(xe){this._matrix[1]=xe}}),Object.defineProperty(fa.prototype,"c",{get:function(){return this._matrix[2]},set:function(xe){this._matrix[2]=xe}}),Object.defineProperty(fa.prototype,"d",{get:function(){return this._matrix[3]},set:function(xe){this._matrix[3]=xe}}),Object.defineProperty(fa.prototype,"e",{get:function(){return this._matrix[4]},set:function(xe){this._matrix[4]=xe}}),Object.defineProperty(fa.prototype,"f",{get:function(){return this._matrix[5]},set:function(xe){this._matrix[5]=xe}}),Object.defineProperty(fa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fa.prototype.join=function(xe){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ar).join(xe)},fa.prototype.multiply=function(xe){var $e=xe.sx*this.sx+xe.shy*this.shx,wt=xe.sx*this.shy+xe.shy*this.sy,Rt=xe.shx*this.sx+xe.sy*this.shx,nr=xe.shx*this.shy+xe.sy*this.sy,Sr=xe.tx*this.sx+xe.ty*this.shx+this.tx,Ur=xe.tx*this.shy+xe.ty*this.sy+this.ty;return new fa($e,wt,Rt,nr,Sr,Ur)},fa.prototype.decompose=function(){var xe=this.sx,$e=this.shy,wt=this.shx,Rt=this.sy,nr=this.tx,Sr=this.ty,Ur=Math.sqrt(xe*xe+$e*$e),Nn=(xe/=Ur)*wt+($e/=Ur)*Rt;wt-=xe*Nn,Rt-=$e*Nn;var Dn=Math.sqrt(wt*wt+Rt*Rt);return Nn/=Dn,xe*(Rt/=Dn)<$e*(wt/=Dn)&&(xe=-xe,$e=-$e,Nn=-Nn,Ur=-Ur),{scale:new fa(Ur,0,0,Dn,0,0),translate:new fa(1,0,0,1,nr,Sr),rotate:new fa(xe,$e,-$e,xe,0,0),skew:new fa(1,0,Nn,1,0,0)}},fa.prototype.toString=function(xe){return this.join(" ")},fa.prototype.inversed=function(){var xe=this.sx,$e=this.shy,wt=this.shx,Rt=this.sy,nr=this.tx,Sr=this.ty,Ur=1/(xe*Rt-$e*wt),Nn=Rt*Ur,Dn=-$e*Ur,Aa=-wt*Ur,ta=xe*Ur;return new fa(Nn,Dn,Aa,ta,-Nn*nr-Aa*Sr,-Dn*nr-ta*Sr)},fa.prototype.applyToPoint=function(xe){var $e=xe.x*this.sx+xe.y*this.shx+this.tx,wt=xe.x*this.shy+xe.y*this.sy+this.ty;return new ds($e,wt)},fa.prototype.applyToRectangle=function(xe){var $e=this.applyToPoint(xe),wt=this.applyToPoint(new ds(xe.x+xe.w,xe.y+xe.h));return new Bs($e.x,$e.y,wt.x-$e.x,wt.y-$e.y)},fa.prototype.clone=function(){var xe=this.sx,$e=this.shy,wt=this.shx,Rt=this.sy,nr=this.tx,Sr=this.ty;return new fa(xe,$e,wt,Rt,nr,Sr)},Pe.Matrix=fa;var Ci=Pe.matrixMult=function(xe,$e){return $e.multiply(xe)},Co=new fa(1,0,0,1,0,0);Pe.unitMatrix=Pe.identityMatrix=Co;var kl=function(xe,$e){if(!Ss[xe]){var wt=($e instanceof de?"Sh":"P")+(Object.keys($n).length+1).toString(10);$e.id=wt,Ss[xe]=wt,$n[wt]=$e,Ya.publish("addPattern",$e)}};Pe.ShadingPattern=de,Pe.TilingPattern=Y,Pe.addShadingPattern=function(xe,$e){return Mt("addShadingPattern()"),kl(xe,$e),this},Pe.beginTilingPattern=function(xe){Mt("beginTilingPattern()"),Ni(xe.boundingBox[0],xe.boundingBox[1],xe.boundingBox[2]-xe.boundingBox[0],xe.boundingBox[3]-xe.boundingBox[1],xe.matrix)},Pe.endTilingPattern=function(xe,$e){Mt("endTilingPattern()"),$e.stream=Jr[St].join(`
`),kl(xe,$e),Ya.publish("endTilingPattern",$e),Bc.pop().restore()};var Di,Os=Pe.__private__.newObject=function(){var xe=Ti();return ho(xe,!0),xe},Ti=Pe.__private__.newObjectDeferred=function(){return tr++,dr[tr]=function(){return Cr},tr},ho=function(xe,$e){return $e=typeof $e=="boolean"&&$e,dr[xe]=Cr,$e&&pt(xe+" 0 obj"),xe},id=Pe.__private__.newAdditionalObject=function(){var xe={objId:Ti(),content:""};return Lr.push(xe),xe},Zi=Ti(),sl=Ti(),Ic=Pe.__private__.decodeColorString=function(xe){var $e=xe.split(" ");if($e.length!==2||$e[1]!=="g"&&$e[1]!=="G")$e.length!==5||$e[4]!=="k"&&$e[4]!=="K"||($e=[(1-$e[0])*(1-$e[3]),(1-$e[1])*(1-$e[3]),(1-$e[2])*(1-$e[3]),"r"]);else{var wt=parseFloat($e[0]);$e=[wt,wt,wt,"r"]}for(var Rt="#",nr=0;nr<3;nr++)Rt+=("0"+Math.floor(255*parseFloat($e[nr])).toString(16)).slice(-2);return Rt},tc=Pe.__private__.encodeColorString=function(xe){var $e;typeof xe=="string"&&(xe={ch1:xe});var wt=xe.ch1,Rt=xe.ch2,nr=xe.ch3,Sr=xe.ch4,Ur=xe.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof wt=="string"&&wt.charAt(0)!=="#"){var Nn=new w(wt);if(Nn.ok)wt=Nn.toHex();else if(!/^\d*\.?\d*$/.test(wt))throw new Error('Invalid color "'+wt+'" passed to jsPDF.encodeColorString.')}if(typeof wt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(wt)&&(wt="#"+wt[1]+wt[1]+wt[2]+wt[2]+wt[3]+wt[3]),typeof wt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(wt)){var Dn=parseInt(wt.substr(1),16);wt=Dn>>16&255,Rt=Dn>>8&255,nr=255&Dn}if(Rt===void 0||Sr===void 0&&wt===Rt&&Rt===nr)$e=typeof wt=="string"?wt+" "+Ur[0]:xe.precision===2?ct(wt/255)+" "+Ur[0]:mt(wt/255)+" "+Ur[0];else if(Sr===void 0||(0,u.default)(Sr)==="object"){if(Sr&&!isNaN(Sr.a)&&Sr.a===0)return["1.","1.","1.",Ur[1]].join(" ");$e=typeof wt=="string"?[wt,Rt,nr,Ur[1]].join(" "):xe.precision===2?[ct(wt/255),ct(Rt/255),ct(nr/255),Ur[1]].join(" "):[mt(wt/255),mt(Rt/255),mt(nr/255),Ur[1]].join(" ")}else $e=typeof wt=="string"?[wt,Rt,nr,Sr,Ur[2]].join(" "):xe.precision===2?[ct(wt),ct(Rt),ct(nr),ct(Sr),Ur[2]].join(" "):[mt(wt),mt(Rt),mt(nr),mt(Sr),Ur[2]].join(" ");return $e},eo=Pe.__private__.getFilters=function(){return Ie},il=Pe.__private__.putStream=function(xe){var $e=(xe=xe||{}).data||"",wt=xe.filters||eo(),Rt=xe.alreadyAppliedFilters||[],nr=xe.addLength1||!1,Sr=$e.length,Ur=xe.objectId,Nn=function(hi){return hi};if(Ke!==null&&Ur===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ke!==null&&(Nn=ki.encryptor(Ur,0));var Dn={};wt===!0&&(wt=["FlateEncode"]);var Aa=xe.additionalKeyValues||[],ta=(Dn=Ae.API.processDataByFilters!==void 0?Ae.API.processDataByFilters($e,wt):{data:$e,reverseChain:[]}).reverseChain+(Array.isArray(Rt)?Rt.join(" "):Rt.toString());if(Dn.data.length!==0&&(Aa.push({key:"Length",value:Dn.data.length}),nr===!0&&Aa.push({key:"Length1",value:Sr})),ta.length!=0)if(ta.split("/").length-1==1)Aa.push({key:"Filter",value:ta});else{Aa.push({key:"Filter",value:"["+ta+"]"});for(var _a=0;_a<Aa.length;_a+=1)if(Aa[_a].key==="DecodeParms"){for(var Fs=[],Ms=0;Ms<Dn.reverseChain.split("/").length-1;Ms+=1)Fs.push("null");Fs.push(Aa[_a].value),Aa[_a].value="["+Fs.join(" ")+"]"}}pt("<<");for(var hs=0;hs<Aa.length;hs++)pt("/"+Aa[hs].key+" "+Aa[hs].value);pt(">>"),Dn.data.length!==0&&(pt("stream"),pt(Nn(Dn.data)),pt("endstream"))},_l=Pe.__private__.putPage=function(xe){var $e=xe.number,wt=xe.data,Rt=xe.objId,nr=xe.contentsObjId;ho(Rt,!0),pt("<</Type /Page"),pt("/Parent "+xe.rootDictionaryObjId+" 0 R"),pt("/Resources "+xe.resourceDictionaryObjId+" 0 R"),pt("/MediaBox ["+parseFloat(ar(xe.mediaBox.bottomLeftX))+" "+parseFloat(ar(xe.mediaBox.bottomLeftY))+" "+ar(xe.mediaBox.topRightX)+" "+ar(xe.mediaBox.topRightY)+"]"),xe.cropBox!==null&&pt("/CropBox ["+ar(xe.cropBox.bottomLeftX)+" "+ar(xe.cropBox.bottomLeftY)+" "+ar(xe.cropBox.topRightX)+" "+ar(xe.cropBox.topRightY)+"]"),xe.bleedBox!==null&&pt("/BleedBox ["+ar(xe.bleedBox.bottomLeftX)+" "+ar(xe.bleedBox.bottomLeftY)+" "+ar(xe.bleedBox.topRightX)+" "+ar(xe.bleedBox.topRightY)+"]"),xe.trimBox!==null&&pt("/TrimBox ["+ar(xe.trimBox.bottomLeftX)+" "+ar(xe.trimBox.bottomLeftY)+" "+ar(xe.trimBox.topRightX)+" "+ar(xe.trimBox.topRightY)+"]"),xe.artBox!==null&&pt("/ArtBox ["+ar(xe.artBox.bottomLeftX)+" "+ar(xe.artBox.bottomLeftY)+" "+ar(xe.artBox.topRightX)+" "+ar(xe.artBox.topRightY)+"]"),typeof xe.userUnit=="number"&&xe.userUnit!==1&&pt("/UserUnit "+xe.userUnit),Ya.publish("putPage",{objId:Rt,pageContext:Cn[$e],pageNumber:$e,page:wt}),pt("/Contents "+nr+" 0 R"),pt(">>"),pt("endobj");var Sr=wt.join(`
`);return Ot===rr&&(Sr+=`
Q`),ho(nr,!0),il({data:Sr,filters:eo(),objectId:nr}),pt("endobj"),Rt},Ko=Pe.__private__.putPages=function(){var xe,$e,wt=[];for(xe=1;xe<=wa;xe++)Cn[xe].objId=Ti(),Cn[xe].contentsObjId=Ti();for(xe=1;xe<=wa;xe++)wt.push(_l({number:xe,data:Jr[xe],objId:Cn[xe].objId,contentsObjId:Cn[xe].contentsObjId,mediaBox:Cn[xe].mediaBox,cropBox:Cn[xe].cropBox,bleedBox:Cn[xe].bleedBox,trimBox:Cn[xe].trimBox,artBox:Cn[xe].artBox,userUnit:Cn[xe].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:sl}));ho(Zi,!0),pt("<</Type /Pages");var Rt="/Kids [";for($e=0;$e<wa;$e++)Rt+=wt[$e]+" 0 R ";pt(Rt+"]"),pt("/Count "+wa),pt(">>"),pt("endobj"),Ya.publish("postPutPages")},Ro=function(xe){Ya.publish("putFont",{font:xe,out:pt,newObject:Os,putStream:il}),xe.isAlreadyPutted!==!0&&(xe.objectNumber=Os(),pt("<<"),pt("/Type /Font"),pt("/BaseFont /"+ge(xe.postScriptName)),pt("/Subtype /Type1"),typeof xe.encoding=="string"&&pt("/Encoding /"+xe.encoding),pt("/FirstChar 32"),pt("/LastChar 255"),pt(">>"),pt("endobj"))},rc=function(xe){xe.objectNumber=Os();var $e=[];$e.push({key:"Type",value:"/XObject"}),$e.push({key:"Subtype",value:"/Form"}),$e.push({key:"BBox",value:"["+[ar(xe.x),ar(xe.y),ar(xe.x+xe.width),ar(xe.y+xe.height)].join(" ")+"]"}),$e.push({key:"Matrix",value:"["+xe.matrix.toString()+"]"});var wt=xe.pages[1].join(`
`);il({data:wt,additionalKeyValues:$e,objectId:xe.objectNumber}),pt("endobj")},Ol=function(xe,$e){$e||($e=21);var wt=Os(),Rt=(function(Ur,Nn){var Dn,Aa=[],ta=1/(Nn-1);for(Dn=0;Dn<1;Dn+=ta)Aa.push(Dn);if(Aa.push(1),Ur[0].offset!=0){var _a={offset:0,color:Ur[0].color};Ur.unshift(_a)}if(Ur[Ur.length-1].offset!=1){var Fs={offset:1,color:Ur[Ur.length-1].color};Ur.push(Fs)}for(var Ms="",hs=0,hi=0;hi<Aa.length;hi++){for(Dn=Aa[hi];Dn>Ur[hs+1].offset;)hs++;var _=Ur[hs].offset,He=(Dn-_)/(Ur[hs+1].offset-_),oe=Ur[hs].color,Ze=Ur[hs+1].color;Ms+=Yt(Math.round((1-He)*oe[0]+He*Ze[0]).toString(16))+Yt(Math.round((1-He)*oe[1]+He*Ze[1]).toString(16))+Yt(Math.round((1-He)*oe[2]+He*Ze[2]).toString(16))}return Ms.trim()})(xe.colors,$e),nr=[];nr.push({key:"FunctionType",value:"0"}),nr.push({key:"Domain",value:"[0.0 1.0]"}),nr.push({key:"Size",value:"["+$e+"]"}),nr.push({key:"BitsPerSample",value:"8"}),nr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),il({data:Rt,additionalKeyValues:nr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:wt}),pt("endobj"),xe.objectNumber=Os(),pt("<< /ShadingType "+xe.type),pt("/ColorSpace /DeviceRGB");var Sr="/Coords ["+ar(parseFloat(xe.coords[0]))+" "+ar(parseFloat(xe.coords[1]))+" ";xe.type===2?Sr+=ar(parseFloat(xe.coords[2]))+" "+ar(parseFloat(xe.coords[3])):Sr+=ar(parseFloat(xe.coords[2]))+" "+ar(parseFloat(xe.coords[3]))+" "+ar(parseFloat(xe.coords[4]))+" "+ar(parseFloat(xe.coords[5])),pt(Sr+="]"),xe.matrix&&pt("/Matrix ["+xe.matrix.toString()+"]"),pt("/Function "+wt+" 0 R"),pt("/Extend [true true]"),pt(">>"),pt("endobj")},Tc=function(xe,$e){var wt=Ti(),Rt=Os();$e.push({resourcesOid:wt,objectOid:Rt}),xe.objectNumber=Rt;var nr=[];nr.push({key:"Type",value:"/Pattern"}),nr.push({key:"PatternType",value:"1"}),nr.push({key:"PaintType",value:"1"}),nr.push({key:"TilingType",value:"1"}),nr.push({key:"BBox",value:"["+xe.boundingBox.map(ar).join(" ")+"]"}),nr.push({key:"XStep",value:ar(xe.xStep)}),nr.push({key:"YStep",value:ar(xe.yStep)}),nr.push({key:"Resources",value:wt+" 0 R"}),xe.matrix&&nr.push({key:"Matrix",value:"["+xe.matrix.toString()+"]"}),il({data:xe.stream,additionalKeyValues:nr,objectId:xe.objectNumber}),pt("endobj")},pu=function(xe){for(var $e in xe.objectNumber=Os(),pt("<<"),xe)switch($e){case"opacity":pt("/ca "+ct(xe[$e]));break;case"stroke-opacity":pt("/CA "+ct(xe[$e]))}pt(">>"),pt("endobj")},Vc=function(xe){ho(xe.resourcesOid,!0),pt("<<"),pt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var $e in pt("/Font <<"),Va)Va.hasOwnProperty($e)&&(at===!1||at===!0&&ut.hasOwnProperty($e))&&pt("/"+$e+" "+Va[$e].objectNumber+" 0 R");pt(">>")})(),(function(){if(Object.keys($n).length>0){for(var $e in pt("/Shading <<"),$n)$n.hasOwnProperty($e)&&$n[$e]instanceof de&&$n[$e].objectNumber>=0&&pt("/"+$e+" "+$n[$e].objectNumber+" 0 R");Ya.publish("putShadingPatternDict"),pt(">>")}})(),(function($e){if(Object.keys($n).length>0){for(var wt in pt("/Pattern <<"),$n)$n.hasOwnProperty(wt)&&$n[wt]instanceof Pe.TilingPattern&&$n[wt].objectNumber>=0&&$n[wt].objectNumber<$e&&pt("/"+wt+" "+$n[wt].objectNumber+" 0 R");Ya.publish("putTilingPatternDict"),pt(">>")}})(xe.objectOid),(function(){if(Object.keys(ga).length>0){var $e;for($e in pt("/ExtGState <<"),ga)ga.hasOwnProperty($e)&&ga[$e].objectNumber>=0&&pt("/"+$e+" "+ga[$e].objectNumber+" 0 R");Ya.publish("putGStateDict"),pt(">>")}})(),(function(){for(var $e in pt("/XObject <<"),$i)$i.hasOwnProperty($e)&&$i[$e].objectNumber>=0&&pt("/"+$e+" "+$i[$e].objectNumber+" 0 R");Ya.publish("putXobjectDict"),pt(">>")})(),pt(">>"),pt("endobj")},mu=function(xe){za[xe.fontName]=za[xe.fontName]||{},za[xe.fontName][xe.fontStyle]=xe.id},od=function(xe,$e,wt,Rt,nr){var Sr={id:"F"+(Object.keys(Va).length+1).toString(10),postScriptName:xe,fontName:$e,fontStyle:wt,encoding:Rt,isStandardFont:nr||!1,metadata:{}};return Ya.publish("addFont",{font:Sr,instance:this}),Va[Sr.id]=Sr,mu(Sr),Sr.id},qo=Pe.__private__.pdfEscape=Pe.pdfEscape=function(xe,$e){return(function(wt,Rt){var nr,Sr,Ur,Nn,Dn,Aa,ta,_a,Fs;if(Ur=(Rt=Rt||{}).sourceEncoding||"Unicode",Dn=Rt.outputEncoding,(Rt.autoencode||Dn)&&Va[In].metadata&&Va[In].metadata[Ur]&&Va[In].metadata[Ur].encoding&&(Nn=Va[In].metadata[Ur].encoding,!Dn&&Va[In].encoding&&(Dn=Va[In].encoding),!Dn&&Nn.codePages&&(Dn=Nn.codePages[0]),typeof Dn=="string"&&(Dn=Nn[Dn]),Dn)){for(ta=!1,Aa=[],nr=0,Sr=wt.length;nr<Sr;nr++)(_a=Dn[wt.charCodeAt(nr)])?Aa.push(String.fromCharCode(_a)):Aa.push(wt[nr]),Aa[nr].charCodeAt(0)>>8&&(ta=!0);wt=Aa.join("")}for(nr=wt.length;ta===void 0&&nr!==0;)wt.charCodeAt(nr-1)>>8&&(ta=!0),nr--;if(!ta)return wt;for(Aa=Rt.noBOM?[]:[254,255],nr=0,Sr=wt.length;nr<Sr;nr++){if((Fs=(_a=wt.charCodeAt(nr))>>8)>>8)throw new Error("Character at position "+nr+" of string '"+wt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Aa.push(Fs),Aa.push(_a-(Fs<<8))}return String.fromCharCode.apply(void 0,Aa)})(xe,$e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=Pe.__private__.beginPage=function(xe){Jr[++wa]=[],Cn[wa]={objId:0,contentsObjId:0,userUnit:Number(we),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(xe[0]),topRightY:Number(xe[1])}},Fl(wa),oa(Jr[St])},Sd=function(xe,$e){var wt,Rt,nr;switch(P=$e||P,typeof xe=="string"&&(wt=ot(xe.toLowerCase()),Array.isArray(wt)&&(Rt=wt[0],nr=wt[1])),Array.isArray(xe)&&(Rt=xe[0]*la,nr=xe[1]*la),isNaN(Rt)&&(Rt=se[0],nr=se[1]),(Rt>14400||nr>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Rt=Math.min(14400,Rt),nr=Math.min(14400,nr)),se=[Rt,nr],P.substr(0,1)){case"l":nr>Rt&&(se=[nr,Rt]);break;case"p":Rt>nr&&(se=[nr,Rt])}ld(se),Ca(Ku),pt(xl),Oc!==0&&pt(Oc+" J"),ic!==0&&pt(ic+" j"),Ya.publish("addPage",{pageNumber:wa})},$d=function(xe){xe>0&&xe<=wa&&(Jr.splice(xe,1),Cn.splice(xe,1),wa--,St>wa&&(St=wa),this.setPage(St))},Fl=function(xe){xe>0&&xe<=wa&&(St=xe)},Vd=Pe.__private__.getNumberOfPages=Pe.getNumberOfPages=function(){return Jr.length-1},zd=function(xe,$e,wt){var Rt,nr=void 0;return wt=wt||{},xe=xe!==void 0?xe:Va[In].fontName,$e=$e!==void 0?$e:Va[In].fontStyle,Rt=xe.toLowerCase(),za[Rt]!==void 0&&za[Rt][$e]!==void 0?nr=za[Rt][$e]:za[xe]!==void 0&&za[xe][$e]!==void 0?nr=za[xe][$e]:wt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+xe+"', '"+$e+"'. Refer to getFontList() for available fonts."),nr||wt.noFallback||(nr=za.times[$e])==null&&(nr=za.times.normal),nr},nc=Pe.__private__.putInfo=function(){var xe=Os(),$e=function(Rt){return Rt};for(var wt in Ke!==null&&($e=ki.encryptor(xe,0)),pt("<<"),pt("/Producer ("+qo($e("jsPDF "+Ae.version))+")"),sa)sa.hasOwnProperty(wt)&&sa[wt]&&pt("/"+wt.substr(0,1).toUpperCase()+wt.substr(1)+" ("+qo($e(sa[wt]))+")");pt("/CreationDate ("+qo($e(gr))+")"),pt(">>"),pt("endobj")},Gd=Pe.__private__.putCatalog=function(xe){var $e=(xe=xe||{}).rootDictionaryObjId||Zi;switch(Os(),pt("<<"),pt("/Type /Catalog"),pt("/Pages "+$e+" 0 R"),aa||(aa="fullwidth"),aa){case"fullwidth":pt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pt("/OpenAction [3 0 R /Fit]");break;case"original":pt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var wt=""+aa;wt.substr(wt.length-1)==="%"&&(aa=parseInt(aa)/100),typeof aa=="number"&&pt("/OpenAction [3 0 R /XYZ null null "+ct(aa)+"]")}switch(Ua||(Ua="continuous"),Ua){case"continuous":pt("/PageLayout /OneColumn");break;case"single":pt("/PageLayout /SinglePage");break;case"two":case"twoleft":pt("/PageLayout /TwoColumnLeft");break;case"tworight":pt("/PageLayout /TwoColumnRight")}Fn&&pt("/PageMode /"+Fn),Ya.publish("putCatalog"),pt(">>"),pt("endobj")},Ed=Pe.__private__.putTrailer=function(){pt("trailer"),pt("<<"),pt("/Size "+(tr+1)),pt("/Root "+tr+" 0 R"),pt("/Info "+(tr-1)+" 0 R"),Ke!==null&&pt("/Encrypt "+ki.oid+" 0 R"),pt("/ID [ <"+jr+"> <"+jr+"> ]"),pt(">>")},ya=Pe.__private__.putHeader=function(){pt("%PDF-"+Nt),pt("%")},gu=Pe.__private__.putXRef=function(){var xe="0000000000";pt("xref"),pt("0 "+(tr+1)),pt("0000000000 65535 f ");for(var $e=1;$e<=tr;$e++)typeof dr[$e]=="function"?pt((xe+dr[$e]()).slice(-10)+" 00000 n "):dr[$e]!==void 0?pt((xe+dr[$e]).slice(-10)+" 00000 n "):pt("0000000000 00000 n ")},ac=Pe.__private__.buildDocument=function(){var xe;tr=0,Cr=0,br=[],dr=[],Lr=[],Zi=Ti(),sl=Ti(),oa(br),Ya.publish("buildDocument"),ya(),Ko(),(function(){Ya.publish("putAdditionalObjects");for(var wt=0;wt<Lr.length;wt++){var Rt=Lr[wt];ho(Rt.objId,!0),pt(Rt.content),pt("endobj")}Ya.publish("postPutAdditionalObjects")})(),xe=[],(function(){for(var wt in Va)Va.hasOwnProperty(wt)&&(at===!1||at===!0&&ut.hasOwnProperty(wt))&&Ro(Va[wt])})(),(function(){var wt;for(wt in ga)ga.hasOwnProperty(wt)&&pu(ga[wt])})(),(function(){for(var wt in $i)$i.hasOwnProperty(wt)&&rc($i[wt])})(),(function(wt){var Rt;for(Rt in $n)$n.hasOwnProperty(Rt)&&($n[Rt]instanceof de?Ol($n[Rt]):$n[Rt]instanceof Y&&Tc($n[Rt],wt))})(xe),Ya.publish("putResources"),xe.forEach(Vc),Vc({resourcesOid:sl,objectOid:Number.MAX_SAFE_INTEGER}),Ya.publish("postPutResources"),Ke!==null&&(ki.oid=Os(),pt("<<"),pt("/Filter /Standard"),pt("/V "+ki.v),pt("/R "+ki.r),pt("/U <"+ki.toHexString(ki.U)+">"),pt("/O <"+ki.toHexString(ki.O)+">"),pt("/P "+ki.P),pt(">>"),pt("endobj")),nc(),Gd();var $e=Cr;return gu(),Ed(),pt("startxref"),pt(""+$e),pt("%%EOF"),oa(Jr[St]),br.join(`
`)},xs=Pe.__private__.getBlob=function(xe){return new Blob([ma(xe)],{type:"application/pdf"})},vu=Pe.output=Pe.__private__.output=(Di=function(xe,$e){switch(typeof($e=$e||{})=="string"?$e={filename:$e}:$e.filename=$e.filename||"generated.pdf",xe){case void 0:return ac();case"save":Pe.save($e.filename);break;case"arraybuffer":return ma(ac());case"blob":return xs(ac());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(xs(ac()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var wt="",Rt=ac();try{wt=I(Rt)}catch{wt=I(unescape(encodeURIComponent(Rt)))}return"data:application/pdf;filename="+$e.filename+";base64,"+wt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var nr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Sr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$e.pdfObjectUrl&&(nr=$e.pdfObjectUrl,Sr="");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nr+'"'+Sr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($e)+");<\/script></body></html>",Nn=g.open();return Nn!==null&&Nn.document.write(Ur),Nn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$e.filename+'" width="500px" height="400px" /></body></html>',Aa=g.open();if(Aa!==null){Aa.document.write(Dn);var ta=this;Aa.document.documentElement.querySelector("#pdfViewer").onload=function(){Aa.document.title=$e.filename,Aa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ta.output("bloburl"))}}return Aa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$e)+'"></iframe></body></html>',Fs=g.open();if(Fs!==null&&(Fs.document.write(_a),Fs.document.title=$e.filename),Fs||typeof safari>"u")return Fs;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",$e);default:return null}},Di.foo=function(){try{return Di.apply(this,arguments)}catch(wt){var xe=wt.stack||"";~xe.indexOf(" at ")&&(xe=xe.split(" at ")[1]);var $e="Error in function "+xe.split(`
`)[0].split("<")[0]+": "+wt.message;if(!g.console)throw new Error($e);g.console.error($e,wt),g.alert&&alert($e)}},Di.foo.bar=Di,Di.foo),vl=function(xe){return Array.isArray(sd)===!0&&sd.indexOf(xe)>-1};switch(K){case"pt":la=1;break;case"mm":la=2.834645669291339;break;case"cm":la=28.346456692913385;break;case"in":la=72;break;case"px":la=vl("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":la=12;break;case"ex":la=6;break;default:if(typeof K!="number")throw new Error("Invalid unit: "+K);la=K}var ki=null;zr(),ir();var kc=Pe.__private__.getPageInfo=Pe.getPageInfo=function(xe){if(isNaN(xe)||xe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Cn[xe].objId,pageNumber:xe,pageContext:Cn[xe]}},cd=Pe.__private__.getPageInfoByObjId=function(xe){if(isNaN(xe)||xe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $e in Cn)if(Cn[$e].objId===xe)break;return kc($e)},Pl=Pe.__private__.getCurrentPageInfo=Pe.getCurrentPageInfo=function(){return{objId:Cn[St].objId,pageNumber:St,pageContext:Cn[St]}};Pe.addPage=function(){return Sd.apply(this,arguments),this},Pe.setPage=function(){return Fl.apply(this,arguments),oa.call(this,Jr[St]),this},Pe.insertPage=function(xe){return this.addPage(),this.movePage(St,xe),this},Pe.movePage=function(xe,$e){var wt,Rt;if(xe>$e){wt=Jr[xe],Rt=Cn[xe];for(var nr=xe;nr>$e;nr--)Jr[nr]=Jr[nr-1],Cn[nr]=Cn[nr-1];Jr[$e]=wt,Cn[$e]=Rt,this.setPage($e)}else if(xe<$e){wt=Jr[xe],Rt=Cn[xe];for(var Sr=xe;Sr<$e;Sr++)Jr[Sr]=Jr[Sr+1],Cn[Sr]=Cn[Sr+1];Jr[$e]=wt,Cn[$e]=Rt,this.setPage($e)}return this},Pe.deletePage=function(){return $d.apply(this,arguments),this},Pe.__private__.text=Pe.text=function(xe,$e,wt,Rt,nr){var Sr,Ur,Nn,Dn,Aa,ta,_a,Fs,Ms,hs=(Rt=Rt||{}).scope||this;if(typeof xe=="number"&&typeof $e=="number"&&(typeof wt=="string"||Array.isArray(wt))){var hi=wt;wt=$e,$e=xe,xe=hi}if(arguments[3]instanceof fa==0?(Nn=arguments[4],Dn=arguments[5],(0,u.default)(_a=arguments[3])==="object"&&_a!==null||(typeof Nn=="string"&&(Dn=Nn,Nn=null),typeof _a=="string"&&(Dn=_a,_a=null),typeof _a=="number"&&(Nn=_a,_a=null),Rt={flags:_a,angle:Nn,align:Dn})):(Mt("The transform parameter of text() with a Matrix value"),Ms=nr),isNaN($e)||isNaN(wt)||xe==null)throw new Error("Invalid arguments passed to jsPDF.text");if(xe.length===0)return hs;var _,He="",oe=typeof Rt.lineHeightFactor=="number"?Rt.lineHeightFactor:Od,Ze=hs.internal.scaleFactor;function gt(us){return us=us.split("	").join(Array(Rt.TabLen||9).join(" ")),qo(us,_a)}function ht(us){for(var Ls,fi=us.concat(),Ao=[],fd=fi.length;fd--;)typeof(Ls=fi.shift())=="string"?Ao.push(Ls):Array.isArray(us)&&(Ls.length===1||Ls[1]===void 0&&Ls[2]===void 0)?Ao.push(Ls[0]):Ao.push([Ls[0],Ls[1],Ls[2]]);return Ao}function or(us,Ls){var fi;if(typeof us=="string")fi=Ls(us)[0];else if(Array.isArray(us)){for(var Ao,fd,ni=us.concat(),Ad=[],Cu=ni.length;Cu--;)typeof(Ao=ni.shift())=="string"?Ad.push(Ls(Ao)[0]):Array.isArray(Ao)&&typeof Ao[0]=="string"&&(fd=Ls(Ao[0],Ao[1],Ao[2]),Ad.push([fd[0],fd[1],fd[2]]));fi=Ad}return fi}var Jt=!1,bn=!0;if(typeof xe=="string")Jt=!0;else if(Array.isArray(xe)){var Ht=xe.concat();Ur=[];for(var hr,va=Ht.length;va--;)(typeof(hr=Ht.shift())!="string"||Array.isArray(hr)&&typeof hr[0]!="string")&&(bn=!1);Jt=bn}if(Jt===!1)throw new Error('Type of text must be string or Array. "'+xe+'" is not recognized.');typeof xe=="string"&&(xe=xe.match(/[\r?\n]/)?xe.split(/\r\n|\r|\n/g):[xe]);var fn=Gr/hs.internal.scaleFactor,$r=fn*(oe-1);switch(Rt.baseline){case"bottom":wt-=$r;break;case"top":wt+=fn-$r;break;case"hanging":wt+=fn-2*$r;break;case"middle":wt+=fn/2-$r}if((ta=Rt.maxWidth||0)>0&&(typeof xe=="string"?xe=hs.splitTextToSize(xe,ta):Object.prototype.toString.call(xe)==="[object Array]"&&(xe=xe.reduce(function(us,Ls){return us.concat(hs.splitTextToSize(Ls,ta))},[]))),Sr={text:xe,x:$e,y:wt,options:Rt,mutex:{pdfEscape:qo,activeFontKey:In,fonts:Va,activeFontSize:Gr}},Ya.publish("preProcessText",Sr),xe=Sr.text,Nn=(Rt=Sr.options).angle,Ms instanceof fa==0&&Nn&&typeof Nn=="number"){Nn*=Math.PI/180,Rt.rotationDirection===0&&(Nn=-Nn),Ot===rr&&(Nn=-Nn);var Er=Math.cos(Nn),Rs=Math.sin(Nn);Ms=new fa(Er,Rs,-Rs,Er,0,0)}else Nn&&Nn instanceof fa&&(Ms=Nn);Ot!==rr||Ms||(Ms=Co),(Aa=Rt.charSpace||yl)!==void 0&&(He+=ar(Pt(Aa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fs=Rt.horizontalScale)!==void 0&&(He+=ar(100*Fs)+` Tz
`),Rt.lang;var ja=-1,ra=Rt.renderingMode!==void 0?Rt.renderingMode:Rt.stroke,Na=hs.internal.getCurrentPageInfo().pageContext;switch(ra){case 0:case!1:case"fill":ja=0;break;case 1:case!0:case"stroke":ja=1;break;case 2:case"fillThenStroke":ja=2;break;case 3:case"invisible":ja=3;break;case 4:case"fillAndAddForClipping":ja=4;break;case 5:case"strokeAndAddPathForClipping":ja=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ja=6;break;case 7:case"addToPathForClipping":ja=7}var Ja=Na.usedRenderingMode!==void 0?Na.usedRenderingMode:-1;ja!==-1?He+=ja+` Tr
`:Ja!==-1&&(He+=`0 Tr
`),ja!==-1&&(Na.usedRenderingMode=ja),Dn=Rt.align||"left";var an,Ba=Gr*oe,ri=hs.internal.pageSize.getWidth(),Yn=Va[In];Aa=Rt.charSpace||yl,ta=Rt.maxWidth||0,_a=Object.assign({autoencode:!0,noBOM:!0},Rt.flags);var is=[],Oa=function(us){return hs.getStringUnitWidth(us,{font:Yn,charSpace:Aa,fontSize:Gr,doKerning:!1})*Gr/Ze};if(Object.prototype.toString.call(xe)==="[object Array]"){var Mn;Ur=ht(xe),Dn!=="left"&&(an=Ur.map(Oa));var ca,So=0;if(Dn==="right"){$e-=an[0],xe=[],va=Ur.length;for(var lc=0;lc<va;lc++)lc===0?(ca=No($e),Mn=Ml(wt)):(ca=Pt(So-an[lc]),Mn=-Ba),xe.push([Ur[lc],ca,Mn]),So=an[lc]}else if(Dn==="center"){$e-=an[0]/2,xe=[],va=Ur.length;for(var Uo=0;Uo<va;Uo++)Uo===0?(ca=No($e),Mn=Ml(wt)):(ca=Pt((So-an[Uo])/2),Mn=-Ba),xe.push([Ur[Uo],ca,Mn]),So=an[Uo]}else if(Dn==="left"){xe=[],va=Ur.length;for(var fo=0;fo<va;fo++)xe.push(Ur[fo])}else if(Dn==="justify"&&Yn.encoding==="Identity-H"){xe=[],va=Ur.length,ta=ta!==0?ta:ri;for(var cc=0,Vi=0;Vi<va;Vi++)if(Mn=Vi===0?Ml(wt):-Ba,ca=Vi===0?No($e):cc,Vi<va-1){var Gh=Pt((ta-an[Vi])/(Ur[Vi].split(" ").length-1)),Jo=Ur[Vi].split(" ");xe.push([Jo[0]+" ",ca,Mn]),cc=0;for(var ol=1;ol<Jo.length;ol++){var Ju=(Oa(Jo[ol-1]+" "+Jo[ol])-Oa(Jo[ol]))*Ze+Gh;ol==Jo.length-1?xe.push([Jo[ol],Ju,0]):xe.push([Jo[ol]+" ",Ju,0]),cc-=Ju}}else xe.push([Ur[Vi],ca,Mn]);xe.push(["",cc,0])}else{if(Dn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(xe=[],va=Ur.length,ta=ta!==0?ta:ri,Vi=0;Vi<va;Vi++){Mn=Vi===0?Ml(wt):-Ba,ca=Vi===0?No($e):0;var xh=Ur[Vi].split(" ").length-1,Pc=xh>0?(ta-an[Vi])/xh:0;Vi<va-1?is.push(ar(Pt(Pc))):is.push(0),xe.push([Ur[Vi],ca,Mn])}}}(typeof Rt.R2L=="boolean"?Rt.R2L:Xn)===!0&&(xe=or(xe,function(us,Ls,fi){return[us.split("").reverse().join(""),Ls,fi]})),Sr={text:xe,x:$e,y:wt,options:Rt,mutex:{pdfEscape:qo,activeFontKey:In,fonts:Va,activeFontSize:Gr}},Ya.publish("postProcessText",Sr),xe=Sr.text,_=Sr.mutex.isHex||!1;var qc=Va[In].encoding;qc!=="WinAnsiEncoding"&&qc!=="StandardEncoding"||(xe=or(xe,function(us,Ls,fi){return[gt(us),Ls,fi]})),Ur=ht(xe),xe=[];for(var Xc,Xd,hd,wu=Array.isArray(Ur[0])?1:0,Dc="",jl=function(us,Ls,fi){var Ao="";return fi instanceof fa?(fi=typeof Rt.angle=="number"?Ci(fi,new fa(1,0,0,1,us,Ls)):Ci(new fa(1,0,0,1,us,Ls),fi),Ot===rr&&(fi=Ci(new fa(1,0,0,-1,0,0),fi)),Ao=fi.join(" ")+` Tm
`):Ao=ar(us)+" "+ar(Ls)+` Td
`,Ao},Ho=0;Ho<Ur.length;Ho++){switch(Dc="",wu){case 1:hd=(_?"<":"(")+Ur[Ho][0]+(_?">":")"),Xc=parseFloat(Ur[Ho][1]),Xd=parseFloat(Ur[Ho][2]);break;case 0:hd=(_?"<":"(")+Ur[Ho]+(_?">":")"),Xc=No($e),Xd=Ml(wt)}is!==void 0&&is[Ho]!==void 0&&(Dc=is[Ho]+` Tw
`),Ho===0?xe.push(Dc+jl(Xc,Xd,Ms)+hd):wu===0?xe.push(Dc+hd):wu===1&&xe.push(Dc+jl(Xc,Xd,Ms)+hd)}xe=wu===0?xe.join(` Tj
T* `):xe.join(` Tj
`),xe+=` Tj
`;var dc=`BT
/`;return dc+=In+" "+Gr+` Tf
`,dc+=ar(Gr*oe)+` TL
`,dc+=Yo+`
`,dc+=He,dc+=xe,pt(dc+="ET"),ut[In]=!0,hs};var Kd=Pe.__private__.clip=Pe.clip=function(xe){return pt(xe==="evenodd"?"W*":"W"),this};Pe.clipEvenOdd=function(){return Kd("evenodd")},Pe.__private__.discardPath=Pe.discardPath=function(){return pt("n"),this};var Xo=Pe.__private__.isValidStyle=function(xe){var $e=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(xe)!==-1&&($e=!0),$e};Pe.__private__.setDefaultPathOperation=Pe.setDefaultPathOperation=function(xe){return Xo(xe)&&(Re=xe),this};var xu=Pe.__private__.getStyle=Pe.getStyle=function(xe){var $e=Re;switch(xe){case"D":case"S":$e="S";break;case"F":$e="f";break;case"FD":case"DF":$e="B";break;case"f":case"f*":case"B":case"B*":$e=xe}return $e},Bd=Pe.close=function(){return pt("h"),this};Pe.stroke=function(){return pt("S"),this},Pe.fill=function(xe){return yu("f",xe),this},Pe.fillEvenOdd=function(xe){return yu("f*",xe),this},Pe.fillStroke=function(xe){return yu("B",xe),this},Pe.fillStrokeEvenOdd=function(xe){return yu("B*",xe),this};var yu=function(xe,$e){(0,u.default)($e)==="object"?Td($e,xe):pt(xe)},dd=function(xe){xe===null||Ot===rr&&xe===void 0||(xe=xu(xe),pt(xe))};function Id(xe,$e,wt,Rt,nr){var Sr=new Y($e||this.boundingBox,wt||this.xStep,Rt||this.yStep,this.gState,nr||this.matrix);Sr.stream=this.stream;var Ur=xe+"$$"+this.cloneIndex+++"$$";return kl(Ur,Sr),Sr}var Td=function(xe,$e){var wt=Ss[xe.key],Rt=$n[wt];if(Rt instanceof de)pt("q"),pt(kd($e)),Rt.gState&&Pe.setGState(Rt.gState),pt(xe.matrix.toString()+" cm"),pt("/"+wt+" sh"),pt("Q");else if(Rt instanceof Y){var nr=new fa(1,0,0,-1,0,Kc());xe.matrix&&(nr=nr.multiply(xe.matrix||Co),wt=Id.call(Rt,xe.key,xe.boundingBox,xe.xStep,xe.yStep,nr).id),pt("q"),pt("/Pattern cs"),pt("/"+wt+" scn"),Rt.gState&&Pe.setGState(Rt.gState),pt($e),pt("Q")}},kd=function(xe){switch(xe){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_d=Pe.moveTo=function(xe,$e){return pt(ar(Pt(xe))+" "+ar(Dt($e))+" m"),this},ju=Pe.lineTo=function(xe,$e){return pt(ar(Pt(xe))+" "+ar(Dt($e))+" l"),this},Dl=Pe.curveTo=function(xe,$e,wt,Rt,nr,Sr){return pt([ar(Pt(xe)),ar(Dt($e)),ar(Pt(wt)),ar(Dt(Rt)),ar(Pt(nr)),ar(Dt(Sr)),"c"].join(" ")),this};Pe.__private__.line=Pe.line=function(xe,$e,wt,Rt,nr){if(isNaN(xe)||isNaN($e)||isNaN(wt)||isNaN(Rt)||!Xo(nr))throw new Error("Invalid arguments passed to jsPDF.line");return Ot===Ut?this.lines([[wt-xe,Rt-$e]],xe,$e,[1,1],nr||"S"):this.lines([[wt-xe,Rt-$e]],xe,$e,[1,1]).stroke()},Pe.__private__.lines=Pe.lines=function(xe,$e,wt,Rt,nr,Sr){var Ur,Nn,Dn,Aa,ta,_a,Fs,Ms,hs,hi,_,He;if(typeof xe=="number"&&(He=wt,wt=$e,$e=xe,xe=He),Rt=Rt||[1,1],Sr=Sr||!1,isNaN($e)||isNaN(wt)||!Array.isArray(xe)||!Array.isArray(Rt)||!Xo(nr)||typeof Sr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d($e,wt),Ur=Rt[0],Nn=Rt[1],Aa=xe.length,hi=$e,_=wt,Dn=0;Dn<Aa;Dn++)(ta=xe[Dn]).length===2?(hi=ta[0]*Ur+hi,_=ta[1]*Nn+_,ju(hi,_)):(_a=ta[0]*Ur+hi,Fs=ta[1]*Nn+_,Ms=ta[2]*Ur+hi,hs=ta[3]*Nn+_,hi=ta[4]*Ur+hi,_=ta[5]*Nn+_,Dl(_a,Fs,Ms,hs,hi,_));return Sr&&Bd(),dd(nr),this},Pe.path=function(xe){for(var $e=0;$e<xe.length;$e++){var wt=xe[$e],Rt=wt.c;switch(wt.op){case"m":_d(Rt[0],Rt[1]);break;case"l":ju(Rt[0],Rt[1]);break;case"c":Dl.apply(this,Rt);break;case"h":Bd()}}return this},Pe.__private__.rect=Pe.rect=function(xe,$e,wt,Rt,nr){if(isNaN(xe)||isNaN($e)||isNaN(wt)||isNaN(Rt)||!Xo(nr))throw new Error("Invalid arguments passed to jsPDF.rect");return Ot===Ut&&(Rt=-Rt),pt([ar(Pt(xe)),ar(Dt($e)),ar(Pt(wt)),ar(Pt(Rt)),"re"].join(" ")),dd(nr),this},Pe.__private__.triangle=Pe.triangle=function(xe,$e,wt,Rt,nr,Sr,Ur){if(isNaN(xe)||isNaN($e)||isNaN(wt)||isNaN(Rt)||isNaN(nr)||isNaN(Sr)||!Xo(Ur))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[wt-xe,Rt-$e],[nr-wt,Sr-Rt],[xe-nr,$e-Sr]],xe,$e,[1,1],Ur,!0),this},Pe.__private__.roundedRect=Pe.roundedRect=function(xe,$e,wt,Rt,nr,Sr,Ur){if(isNaN(xe)||isNaN($e)||isNaN(wt)||isNaN(Rt)||isNaN(nr)||isNaN(Sr)||!Xo(Ur))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nn=4/3*(Math.SQRT2-1);return nr=Math.min(nr,.5*wt),Sr=Math.min(Sr,.5*Rt),this.lines([[wt-2*nr,0],[nr*Nn,0,nr,Sr-Sr*Nn,nr,Sr],[0,Rt-2*Sr],[0,Sr*Nn,-nr*Nn,Sr,-nr,Sr],[2*nr-wt,0],[-nr*Nn,0,-nr,-Sr*Nn,-nr,-Sr],[0,2*Sr-Rt],[0,-Sr*Nn,nr*Nn,-Sr,nr,-Sr]],xe+nr,$e,[1,1],Ur,!0),this},Pe.__private__.ellipse=Pe.ellipse=function(xe,$e,wt,Rt,nr){if(isNaN(xe)||isNaN($e)||isNaN(wt)||isNaN(Rt)||!Xo(nr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Sr=4/3*(Math.SQRT2-1)*wt,Ur=4/3*(Math.SQRT2-1)*Rt;return _d(xe+wt,$e),Dl(xe+wt,$e-Ur,xe+Sr,$e-Rt,xe,$e-Rt),Dl(xe-Sr,$e-Rt,xe-wt,$e-Ur,xe-wt,$e),Dl(xe-wt,$e+Ur,xe-Sr,$e+Rt,xe,$e+Rt),Dl(xe+Sr,$e+Rt,xe+wt,$e+Ur,xe+wt,$e),dd(nr),this},Pe.__private__.circle=Pe.circle=function(xe,$e,wt,Rt){if(isNaN(xe)||isNaN($e)||isNaN(wt)||!Xo(Rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(xe,$e,wt,wt,Rt)},Pe.setFont=function(xe,$e,wt){return wt&&($e=pr($e,wt)),In=zd(xe,$e,{disableWarning:!1}),this};var Vh=Pe.__private__.getFont=Pe.getFont=function(){return Va[zd.apply(Pe,arguments)]};Pe.__private__.getFontList=Pe.getFontList=function(){var xe,$e,wt={};for(xe in za)if(za.hasOwnProperty(xe))for($e in wt[xe]=[],za[xe])za[xe].hasOwnProperty($e)&&wt[xe].push($e);return wt},Pe.addFont=function(xe,$e,wt,Rt,nr){var Sr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Sr.indexOf(arguments[3])!==-1?nr=arguments[3]:arguments[3]&&Sr.indexOf(arguments[3])==-1&&(wt=pr(wt,Rt)),od.call(this,xe,$e,wt,nr=nr||"Identity-H")};var Od,Ku=k.lineWidth||.200025,zh=Pe.__private__.getLineWidth=Pe.getLineWidth=function(){return Ku},Ca=Pe.__private__.setLineWidth=Pe.setLineWidth=function(xe){return Ku=xe,pt(ar(Pt(xe))+" w"),this};Pe.__private__.setLineDash=Ae.API.setLineDash=Ae.API.setLineDashPattern=function(xe,$e){if(xe=xe||[],$e=$e||0,isNaN($e)||!Array.isArray(xe))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return xe=xe.map(function(wt){return ar(Pt(wt))}).join(" "),$e=ar(Pt($e)),pt("["+xe+"] "+$e+" d"),this};var zc=Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Gr*Od};Pe.__private__.getLineHeight=Pe.getLineHeight=function(){return Gr*Od};var vh=Pe.__private__.setLineHeightFactor=Pe.setLineHeightFactor=function(xe){return typeof(xe=xe||1.15)=="number"&&(Od=xe),this},_c=Pe.__private__.getLineHeightFactor=Pe.getLineHeightFactor=function(){return Od};vh(k.lineHeight);var No=Pe.__private__.getHorizontalCoordinate=function(xe){return Pt(xe)},Ml=Pe.__private__.getVerticalCoordinate=function(xe){return Ot===rr?xe:Cn[St].mediaBox.topRightY-Cn[St].mediaBox.bottomLeftY-Pt(xe)},sc=Pe.__private__.getHorizontalCoordinateString=Pe.getHorizontalCoordinateString=function(xe){return ar(No(xe))},qu=Pe.__private__.getVerticalCoordinateString=Pe.getVerticalCoordinateString=function(xe){return ar(Ml(xe))},xl=k.strokeColor||"0 G";Pe.__private__.getStrokeColor=Pe.getDrawColor=function(){return Ic(xl)},Pe.__private__.setStrokeColor=Pe.setDrawColor=function(xe,$e,wt,Rt){return xl=tc({ch1:xe,ch2:$e,ch3:wt,ch4:Rt,pdfColorType:"draw",precision:2}),pt(xl),this};var qd=k.fillColor||"0 g";Pe.__private__.getFillColor=Pe.getFillColor=function(){return Ic(qd)},Pe.__private__.setFillColor=Pe.setFillColor=function(xe,$e,wt,Rt){return qd=tc({ch1:xe,ch2:$e,ch3:wt,ch4:Rt,pdfColorType:"fill",precision:2}),pt(qd),this};var Yo=k.textColor||"0 g",Fd=Pe.__private__.getTextColor=Pe.getTextColor=function(){return Ic(Yo)};Pe.__private__.setTextColor=Pe.setTextColor=function(xe,$e,wt,Rt){return Yo=tc({ch1:xe,ch2:$e,ch3:wt,ch4:Rt,pdfColorType:"text",precision:3}),this};var yl=k.charSpace,bu=Pe.__private__.getCharSpace=Pe.getCharSpace=function(){return parseFloat(yl||0)};Pe.__private__.setCharSpace=Pe.setCharSpace=function(xe){if(isNaN(xe))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yl=xe,this};var Oc=0;Pe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Pe.__private__.setLineCap=Pe.setLineCap=function(xe){var $e=Pe.CapJoinStyles[xe];if($e===void 0)throw new Error("Line cap style of '"+xe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oc=$e,pt($e+" J"),this};var ic=0;Pe.__private__.setLineJoin=Pe.setLineJoin=function(xe){var $e=Pe.CapJoinStyles[xe];if($e===void 0)throw new Error("Line join style of '"+xe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ic=$e,pt($e+" j"),this},Pe.__private__.setLineMiterLimit=Pe.__private__.setMiterLimit=Pe.setLineMiterLimit=Pe.setMiterLimit=function(xe){if(xe=xe||0,isNaN(xe))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pt(ar(Pt(xe))+" M"),this},Pe.GState=be,Pe.setGState=function(xe){(xe=typeof xe=="string"?ga[Hn[xe]]:Rl(null,xe)).equals(Es)||(pt("/"+xe.id+" gs"),Es=xe)};var Rl=function(xe,$e){if(!xe||!Hn[xe]){var wt=!1;for(var Rt in ga)if(ga.hasOwnProperty(Rt)&&ga[Rt].equals($e)){wt=!0;break}if(wt)$e=ga[Rt];else{var nr="GS"+(Object.keys(ga).length+1).toString(10);ga[nr]=$e,$e.id=nr}return xe&&(Hn[xe]=$e.id),Ya.publish("addGState",$e),$e}};Pe.addGState=function(xe,$e){return Rl(xe,$e),this},Pe.saveGraphicsState=function(){return pt("q"),ti.push({key:In,size:Gr,color:Yo}),this},Pe.restoreGraphicsState=function(){pt("Q");var xe=ti.pop();return In=xe.key,Gr=xe.size,Yo=xe.color,Es=null,this},Pe.setCurrentTransformationMatrix=function(xe){return pt(xe.toString()+" cm"),this},Pe.comment=function(xe){return pt("#"+xe),this};var ds=function(xe,$e){var wt=xe||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return wt},set:function(Sr){isNaN(Sr)||(wt=parseFloat(Sr))}});var Rt=$e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Rt},set:function(Sr){isNaN(Sr)||(Rt=parseFloat(Sr))}});var nr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nr},set:function(Sr){nr=Sr.toString()}}),this},Bs=function(xe,$e,wt,Rt){ds.call(this,xe,$e),this.type="rect";var nr=wt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nr},set:function(Ur){isNaN(Ur)||(nr=parseFloat(Ur))}});var Sr=Rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Sr},set:function(Ur){isNaN(Ur)||(Sr=parseFloat(Ur))}}),this},Ll=function(){this.page=wa,this.currentPage=St,this.pages=Jr.slice(0),this.pagesContext=Cn.slice(0),this.x=Tn,this.y=ba,this.matrix=cs,this.width=Fc(St),this.height=Lo(St),this.outputDestination=wn,this.id="",this.objectNumber=-1};Ll.prototype.restore=function(){wa=this.page,St=this.currentPage,Cn=this.pagesContext,Jr=this.pages,Tn=this.x,ba=this.y,cs=this.matrix,ud(St,this.width),oc(St,this.height),wn=this.outputDestination};var Ni=function(xe,$e,wt,Rt,nr){Bc.push(new Ll),wa=St=0,Jr=[],Tn=xe,ba=$e,cs=nr,ld([wt,Rt])};for(var Mi in Pe.beginFormObject=function(xe,$e,wt,Rt,nr){return Ni(xe,$e,wt,Rt,nr),this},Pe.endFormObject=function(xe){return(function($e){if(wo[$e])Bc.pop().restore();else{var wt=new Ll,Rt="Xo"+(Object.keys($i).length+1).toString(10);wt.id=Rt,wo[$e]=Rt,$i[Rt]=wt,Ya.publish("addFormObject",wt),Bc.pop().restore()}})(xe),this},Pe.doFormObject=function(xe,$e){var wt=$i[wo[xe]];return pt("q"),pt($e.toString()+" cm"),pt("/"+wt.id+" Do"),pt("Q"),this},Pe.getFormObject=function(xe){var $e=$i[wo[xe]];return{x:$e.x,y:$e.y,width:$e.width,height:$e.height,matrix:$e.matrix}},Pe.save=function(xe,$e){return xe=xe||"generated.pdf",($e=$e||{}).returnPromise=$e.returnPromise||!1,$e.returnPromise===!1?(S(xs(ac()),xe),typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),this):new Promise(function(wt,Rt){try{var nr=S(xs(ac()),xe);typeof S.unload=="function"&&g.setTimeout&&setTimeout(S.unload,911),wt(nr)}catch(Sr){Rt(Sr.message)}})},Ae.API)Ae.API.hasOwnProperty(Mi)&&(Mi==="events"&&Ae.API.events.length?(function(xe,$e){var wt,Rt,nr;for(nr=$e.length-1;nr!==-1;nr--)wt=$e[nr][0],Rt=$e[nr][1],xe.subscribe.apply(xe,[wt].concat(typeof Rt=="function"?[Rt]:Rt))})(Ya,Ae.API.events):Pe[Mi]=Ae.API[Mi]);function Fc(xe){return Cn[xe].mediaBox.topRightX-Cn[xe].mediaBox.bottomLeftX}function ud(xe,$e){Cn[xe].mediaBox.topRightX=$e+Cn[xe].mediaBox.bottomLeftX}function Lo(xe){return Cn[xe].mediaBox.topRightY-Cn[xe].mediaBox.bottomLeftY}function oc(xe,$e){Cn[xe].mediaBox.topRightY=$e+Cn[xe].mediaBox.bottomLeftY}var Gc=Pe.getPageWidth=function(xe){return Fc(xe=xe||St)/la},Xu=Pe.setPageWidth=function(xe,$e){ud(xe,$e*la)},Kc=Pe.getPageHeight=function(xe){return Lo(xe=xe||St)/la},Yu=Pe.setPageHeight=function(xe,$e){oc(xe,$e*la)};return Pe.internal={pdfEscape:qo,getStyle:xu,getFont:Vh,getFontSize:On,getCharSpace:bu,getTextColor:Fd,getLineHeight:zc,getLineHeightFactor:_c,getLineWidth:zh,write:hn,getHorizontalCoordinate:No,getVerticalCoordinate:Ml,getCoordinateString:sc,getVerticalCoordinateString:qu,collections:{},newObject:Os,newAdditionalObject:id,newObjectDeferred:Ti,newObjectDeferredBegin:ho,getFilters:eo,putStream:il,events:Ya,scaleFactor:la,pageSize:{getWidth:function(){return Gc(St)},setWidth:function(xe){Xu(St,xe)},getHeight:function(){return Kc(St)},setHeight:function(xe){Yu(St,xe)}},encryptionOptions:Ke,encryption:ki,getEncryptor:function(xe){return Ke!==null?ki.encryptor(xe,0):function($e){return $e}},output:vu,getNumberOfPages:Vd,get pages(){return Jr},out:pt,f2:ct,f3:mt,getPageInfo:kc,getPageInfoByObjId:cd,getCurrentPageInfo:Pl,getPDFVersion:bt,Point:ds,Rectangle:Bs,Matrix:fa,hasHotfix:vl},Object.defineProperty(Pe.internal.pageSize,"width",{get:function(){return Gc(St)},set:function(xe){Xu(St,xe)},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.internal.pageSize,"height",{get:function(){return Kc(St)},set:function(xe){Yu(St,xe)},enumerable:!0,configurable:!0}),(function(xe){for(var $e=0,wt=dn.length;$e<wt;$e++){var Rt=od.call(this,xe[$e][0],xe[$e][1],xe[$e][2],dn[$e][3],!0);at===!1&&(ut[Rt]=!0);var nr=xe[$e][0].split("-");mu({id:Rt,fontName:nr[0],fontStyle:nr[1]||""})}Ya.publish("addFonts",{fonts:Va,dictionary:za})}).call(Pe,dn),In="F1",Sd(se,P),Ya.publish("initialized"),Pe}te.prototype.lsbFirstWord=function(k){return String.fromCharCode(255&k,k>>8&255,k>>16&255,k>>24&255)},te.prototype.toHexString=function(k){return k.split("").map(function(B){return("0"+(255&B.charCodeAt(0)).toString(16)).slice(-2)}).join("")},te.prototype.hexToBytes=function(k){for(var B=[],P=0;P<k.length;P+=2)B.push(String.fromCharCode(parseInt(k.substr(P,2),16)));return B.join("")},te.prototype.processOwnerPassword=function(k,B){return D(q(B).substr(0,5),k)},te.prototype.encryptor=function(k,B){var P=q(this.encryptionKey+String.fromCharCode(255&k,k>>8&255,k>>16&255,255&B,B>>8&255)).substr(0,10);return function(K){return D(P,K)}},be.prototype.equals=function(k){var B,P="id,objectNumber,equals";if(!k||(0,u.default)(k)!==(0,u.default)(this))return!1;var K=0;for(B in this)if(!(P.indexOf(B)>=0)){if(this.hasOwnProperty(B)&&!k.hasOwnProperty(B)||this[B]!==k[B])return!1;K++}for(B in k)k.hasOwnProperty(B)&&P.indexOf(B)<0&&K--;return K===0},Ae.API={events:[]},Ae.version="4.0.0";var ye=Ae.API,Oe=1,We=function(k){return k.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ae=function(k){return k.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ke=function(k){return k.toFixed(2)},Fe=function(k){return k.toFixed(5)};ye.__acroform__={};var nt=function(k,B){k.prototype=Object.create(B.prototype),k.prototype.constructor=k},tt=function(k){return k*Oe},Le=function(k){var B=new Or,P=Zr.internal.getHeight(k)||0,K=Zr.internal.getWidth(k)||0;return B.BBox=[0,0,Number(ke(K)),Number(ke(P))],B},lt=ye.__acroform__.setBit=function(k,B){if(k=k||0,B=B||0,isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return k|1<<B},$t=ye.__acroform__.clearBit=function(k,B){if(k=k||0,B=B||0,isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return k&~(1<<B)},Ue=ye.__acroform__.getBit=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return k&1<<B?1:0},yt=ye.__acroform__.getBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ue(k,B-1)},Tt=ye.__acroform__.setBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lt(k,B-1)},Zt=ye.__acroform__.clearBitForPdf=function(k,B){if(isNaN(k)||isNaN(B))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $t(k,B-1)},Mr=ye.__acroform__.calculateCoordinates=function(k,B){var P=B.internal.getHorizontalCoordinate,K=B.internal.getVerticalCoordinate,se=k[0],he=k[1],Ie=k[2],we=k[3],Ne={};return Ne.lowerLeft_X=P(se)||0,Ne.lowerLeft_Y=K(he+we)||0,Ne.upperRight_X=P(se+Ie)||0,Ne.upperRight_Y=K(he)||0,[Number(ke(Ne.lowerLeft_X)),Number(ke(Ne.lowerLeft_Y)),Number(ke(Ne.upperRight_X)),Number(ke(Ne.upperRight_Y))]},_t=function(k){if(k.appearanceStreamContent)return k.appearanceStreamContent;if(k.V||k.DV){var B=[],P=k._V||k.DV,K=Vt(k,P),se=k.scope.internal.getFont(k.fontName,k.fontStyle).id;B.push("/Tx BMC"),B.push("q"),B.push("BT"),B.push(k.scope.__private__.encodeColorString(k.color)),B.push("/"+se+" "+ke(K.fontSize)+" Tf"),B.push("1 0 0 1 0 0 Tm"),B.push(K.text),B.push("ET"),B.push("Q"),B.push("EMC");var he=Le(k);return he.scope=k.scope,he.stream=B.join(`
`),he}},Vt=function(k,B){var P=k.fontSize===0?k.maxFontSize:k.fontSize,K={text:"",fontSize:""},se=(B=(B=B.substr(0,1)=="("?B.substr(1):B).substr(B.length-1)==")"?B.substr(0,B.length-1):B).split(" ");se=k.multiline?se.map(function(ct){return ct.split(`
`)}):se.map(function(ct){return[ct]});var he=P,Ie=Zr.internal.getHeight(k)||0;Ie=Ie<0?-Ie:Ie;var we=Zr.internal.getWidth(k)||0;we=we<0?-we:we;var Ne=function(ct,mt,Pt){if(ct+1<se.length){var Dt=mt+" "+se[ct+1][0];return mr(Dt,k,Pt).width<=we-4}return!1};he++;e:for(;he>0;){B="",he--;var Re,Ke,at=mr("3",k,he).height,ut=k.multiline?Ie-he:(Ie-at)/2,Pe=ut+=2,Nt=0,bt=0,Et=0;if(he<=0){B=`(...) Tj
`,B+="% Width of Text: "+mr(B,k,he=12).width+", FieldWidth:"+we+`
`;break}for(var ot="",Ut=0,rr=0;rr<se.length;rr++)if(se.hasOwnProperty(rr)){var Ot=!1;if(se[rr].length!==1&&Et!==se[rr].length-1){if((at+2)*(Ut+2)+2>Ie)continue e;ot+=se[rr][Et],Ot=!0,bt=rr,rr--}else{ot=(ot+=se[rr][Et]+" ").substr(ot.length-1)==" "?ot.substr(0,ot.length-1):ot;var st=parseInt(rr),Xt=Ne(st,ot,he),pr=rr>=se.length-1;if(Xt&&!pr){ot+=" ",Et=0;continue}if(Xt||pr){if(pr)bt=st;else if(k.multiline&&(at+2)*(Ut+2)+2>Ie)continue e}else{if(!k.multiline||(at+2)*(Ut+2)+2>Ie)continue e;bt=st}}for(var ar="",Mt=Nt;Mt<=bt;Mt++){var Ar=se[Mt];if(k.multiline){if(Mt===bt){ar+=Ar[Et]+" ",Et=(Et+1)%Ar.length;continue}if(Mt===Nt){ar+=Ar[Ar.length-1]+" ";continue}}ar+=Ar[0]+" "}switch(ar=ar.substr(ar.length-1)==" "?ar.substr(0,ar.length-1):ar,Ke=mr(ar,k,he).width,k.textAlign){case"right":Re=we-Ke-2;break;case"center":Re=(we-Ke)/2;break;default:Re=2}B+=ke(Re)+" "+ke(Pe)+` Td
`,B+="("+We(ar)+`) Tj
`,B+=-ke(Re)+` 0 Td
`,Pe=-(he+2),Ke=0,Nt=Ot?bt:bt+1,Ut++,ot=""}break}return K.text=B,K.fontSize=he,K},mr=function(k,B,P){var K=B.scope.internal.getFont(B.fontName,B.fontStyle),se=B.scope.getStringUnitWidth(k,{font:K,fontSize:parseFloat(P),charSpace:0})*parseFloat(P);return{height:B.scope.getStringUnitWidth("3",{font:K,fontSize:parseFloat(P),charSpace:0})*parseFloat(P)*1.5,width:se}},Qe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bt=function(k,B){var P={type:"reference",object:k};B.internal.getPageInfo(k.page).pageContext.annotations.find(function(K){return K.type===P.type&&K.object===P.object})===void 0&&B.internal.getPageInfo(k.page).pageContext.annotations.push(P)},Ge=function(k,B){if(B.scope=k,k.internal!==void 0&&(k.internal.acroformPlugin===void 0||k.internal.acroformPlugin.isInitialized===!1)){if(Hr.FieldNum=0,k.internal.acroformPlugin=JSON.parse(JSON.stringify(Qe)),k.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Oe=k.internal.scaleFactor,k.internal.acroformPlugin.acroFormDictionaryRoot=new Kr,k.internal.acroformPlugin.acroFormDictionaryRoot.scope=k,k.internal.acroformPlugin.acroFormDictionaryRoot._eventID=k.internal.events.subscribe("postPutResources",function(){(function(P){P.internal.events.unsubscribe(P.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete P.internal.acroformPlugin.acroFormDictionaryRoot._eventID,P.internal.acroformPlugin.printedOut=!0})(k)}),k.internal.events.subscribe("buildDocument",function(){(function(P){P.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var K=P.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var se in K)if(K.hasOwnProperty(se)){var he=K[se];he.objId=void 0,he.hasAnnotation&&Bt(he,P)}})(k)}),k.internal.events.subscribe("putCatalog",function(){(function(P){if(P.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");P.internal.write("/AcroForm "+P.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(k)}),k.internal.events.subscribe("postPutPages",function(P){(function(K,se){var he=!K;for(var Ie in K||(se.internal.newObjectDeferredBegin(se.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),se.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),K=K||se.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(K.hasOwnProperty(Ie)){var we=K[Ie],Ne=[],Re=we.Rect;if(we.Rect&&(we.Rect=Mr(we.Rect,se)),se.internal.newObjectDeferredBegin(we.objId,!0),we.DA=Zr.createDefaultAppearanceStream(we),(0,u.default)(we)==="object"&&typeof we.getKeyValueListForStream=="function"&&(Ne=we.getKeyValueListForStream()),we.Rect=Re,we.hasAppearanceStream&&!we.appearanceStreamContent){var Ke=_t(we);Ne.push({key:"AP",value:"<</N "+Ke+">>"}),se.internal.acroformPlugin.xForms.push(Ke)}if(we.appearanceStreamContent){var at="";for(var ut in we.appearanceStreamContent)if(we.appearanceStreamContent.hasOwnProperty(ut)){var Pe=we.appearanceStreamContent[ut];if(at+="/"+ut+" ",at+="<<",Object.keys(Pe).length>=1||Array.isArray(Pe)){for(var Ie in Pe)if(Pe.hasOwnProperty(Ie)){var Nt=Pe[Ie];typeof Nt=="function"&&(Nt=Nt.call(se,we)),at+="/"+Ie+" "+Nt+" ",se.internal.acroformPlugin.xForms.indexOf(Nt)>=0||se.internal.acroformPlugin.xForms.push(Nt)}}else typeof(Nt=Pe)=="function"&&(Nt=Nt.call(se,we)),at+="/"+Ie+" "+Nt,se.internal.acroformPlugin.xForms.indexOf(Nt)>=0||se.internal.acroformPlugin.xForms.push(Nt);at+=">>"}Ne.push({key:"AP",value:`<<
`+at+">>"})}se.internal.putStream({additionalKeyValues:Ne,objectId:we.objId}),se.internal.out("endobj")}he&&(function(bt,Et){for(var ot in bt)if(bt.hasOwnProperty(ot)){var Ut=ot,rr=bt[ot];Et.internal.newObjectDeferredBegin(rr.objId,!0),(0,u.default)(rr)==="object"&&typeof rr.putStream=="function"&&rr.putStream(),delete bt[Ut]}})(se.internal.acroformPlugin.xForms,se)})(P,k)}),k.internal.acroformPlugin.isInitialized=!0}},Ft=ye.__acroform__.arrayToPdfArray=function(k,B,P){var K=function(Ie){return Ie};if(Array.isArray(k)){for(var se="[",he=0;he<k.length;he++)switch(he!==0&&(se+=" "),(0,u.default)(k[he])){case"boolean":case"number":case"object":se+=k[he].toString();break;case"string":k[he].substr(0,1)!=="/"?(B!==void 0&&P&&(K=P.internal.getEncryptor(B)),se+="("+We(K(k[he].toString()))+")"):se+=k[he].toString()}return se+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lt=function(k,B,P){var K=function(se){return se};return B!==void 0&&P&&(K=P.internal.getEncryptor(B)),(k=k||"").toString(),"("+We(K(k))+")"},Dr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(k){this._objId=k}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dr.prototype.toString=function(){return this.objId+" 0 R"},Dr.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId}),this.scope.internal.out("endobj")},Dr.prototype.getKeyValueListForStream=function(){var k=[],B=Object.getOwnPropertyNames(this).filter(function(he){return he!="content"&&he!="appearanceStreamContent"&&he!="scope"&&he!="objId"&&he.substring(0,1)!="_"});for(var P in B)if(Object.getOwnPropertyDescriptor(this,B[P]).configurable===!1){var K=B[P],se=this[K];se&&(Array.isArray(se)?k.push({key:K,value:Ft(se,this.objId,this.scope)}):se instanceof Dr?(se.scope=this.scope,k.push({key:K,value:se.objId+" 0 R"})):typeof se!="function"&&k.push({key:K,value:se}))}return k};var Or=function(){Dr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var k,B=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return B},set:function(P){B=P}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(P){k=P.trim()},get:function(){return k||null}})};nt(Or,Dr);var Kr=function(){Dr.call(this);var k,B=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return B.length>0?B:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return B}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(k){var P=function(K){return K};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+We(P(k))+")"}},set:function(P){k=P}})};nt(Kr,Dr);var Hr=function k(){Dr.call(this);var B=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return B},set:function(ot){if(isNaN(ot))throw new Error('Invalid value "'+ot+'" for attribute F supplied.');B=ot}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yt(B,3)},set:function(ot){ot?this.F=Tt(B,3):this.F=Zt(B,3)}});var P=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return P},set:function(ot){if(isNaN(ot))throw new Error('Invalid value "'+ot+'" for attribute Ff supplied.');P=ot}});var K=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(K.length!==0)return K},set:function(ot){K=ot!==void 0?ot:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[0])?0:K[0]},set:function(ot){K[0]=ot}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[1])?0:K[1]},set:function(ot){K[1]=ot}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[2])?0:K[2]},set:function(ot){K[2]=ot}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[3])?0:K[3]},set:function(ot){K[3]=ot}});var se="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return se},set:function(ot){switch(ot){case"/Btn":case"/Tx":case"/Ch":case"/Sig":se=ot;break;default:throw new Error('Invalid value "'+ot+'" for attribute FT supplied.')}}});var he=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!he||he.length<1){if(this instanceof ci)return;he="FieldObject"+k.FieldNum++}var ot=function(Ut){return Ut};return this.scope&&(ot=this.scope.internal.getEncryptor(this.objId)),"("+We(ot(he))+")"},set:function(ot){he=ot.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return he},set:function(ot){he=ot}});var Ie="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(ot){Ie=ot}});var we="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return we},set:function(ot){we=ot}});var Ne=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ne},set:function(ot){Ne=ot}});var Re=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Re===void 0?50/Oe:Re},set:function(ot){Re=ot}});var Ke="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(ot){Ke=ot}});var at="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!at||this instanceof ci||this instanceof Xs))return Lt(at,this.objId,this.scope)},set:function(ot){ot=ot.toString(),at=ot}});var ut=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ut)return this instanceof sn==0?Lt(ut,this.objId,this.scope):ut},set:function(ot){ot=ot.toString(),ut=this instanceof sn==0?ot.substr(0,1)==="("?ae(ot.substr(1,ot.length-2)):ae(ot):ot}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sn==1?ae(ut.substr(1,ut.length-1)):ut},set:function(ot){ot=ot.toString(),ut=this instanceof sn==1?"/"+ot:ot}});var Pe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return Pe},set:function(ot){this.V=ot}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Pe)return this instanceof sn==0?Lt(Pe,this.objId,this.scope):Pe},set:function(ot){ot=ot.toString(),Pe=this instanceof sn==0?ot.substr(0,1)==="("?ae(ot.substr(1,ot.length-2)):ae(ot):ot}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sn==1?ae(Pe.substr(1,Pe.length-1)):Pe},set:function(ot){ot=ot.toString(),Pe=this instanceof sn==1?"/"+ot:ot}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Nt,bt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return bt},set:function(ot){ot=!!ot,bt=ot}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Nt)return Nt},set:function(ot){Nt=ot}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,1)},set:function(ot){ot?this.Ff=Tt(this.Ff,1):this.Ff=Zt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,2)},set:function(ot){ot?this.Ff=Tt(this.Ff,2):this.Ff=Zt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,3)},set:function(ot){ot?this.Ff=Tt(this.Ff,3):this.Ff=Zt(this.Ff,3)}});var Et=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Et!==null)return Et},set:function(ot){if([0,1,2].indexOf(ot)===-1)throw new Error('Invalid value "'+ot+'" for attribute Q supplied.');Et=ot}}),Object.defineProperty(this,"textAlign",{get:function(){var ot;switch(Et){case 0:default:ot="left";break;case 1:ot="center";break;case 2:ot="right"}return ot},configurable:!0,enumerable:!0,set:function(ot){switch(ot){case"right":case 2:Et=2;break;case"center":case 1:Et=1;break;default:Et=0}}})};nt(Hr,Dr);var Bn=function(){Hr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var k=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return k},set:function(P){k=P}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return k},set:function(P){k=P}});var B=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ft(B,this.objId,this.scope)},set:function(P){var K,se;se=[],typeof(K=P)=="string"&&(se=(function(he,Ie,we){we||(we=1);for(var Ne,Re=[];Ne=Ie.exec(he);)Re.push(Ne[we]);return Re})(K,/\((.*?)\)/g)),B=se}}),this.getOptions=function(){return B},this.setOptions=function(P){B=P,this.sort&&B.sort()},this.addOption=function(P){P=(P=P||"").toString(),B.push(P),this.sort&&B.sort()},this.removeOption=function(P,K){for(K=K||!1,P=(P=P||"").toString();B.indexOf(P)!==-1&&(B.splice(B.indexOf(P),1),K!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,18)},set:function(P){P?this.Ff=Tt(this.Ff,18):this.Ff=Zt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,19)},set:function(P){this.combo===!0&&(P?this.Ff=Tt(this.Ff,19):this.Ff=Zt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,20)},set:function(P){P?(this.Ff=Tt(this.Ff,20),B.sort()):this.Ff=Zt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,22)},set:function(P){P?this.Ff=Tt(this.Ff,22):this.Ff=Zt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,23)},set:function(P){P?this.Ff=Tt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,27)},set:function(P){P?this.Ff=Tt(this.Ff,27):this.Ff=Zt(this.Ff,27)}}),this.hasAppearanceStream=!1};nt(Bn,Hr);var Wr=function(){Bn.call(this),this.fontName="helvetica",this.combo=!1};nt(Wr,Bn);var Qr=function(){Wr.call(this),this.combo=!0};nt(Qr,Wr);var vn=function(){Qr.call(this),this.edit=!0};nt(vn,Qr);var sn=function(){Hr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,15)},set:function(P){P?this.Ff=Tt(this.Ff,15):this.Ff=Zt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,16)},set:function(P){P?this.Ff=Tt(this.Ff,16):this.Ff=Zt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,17)},set:function(P){P?this.Ff=Tt(this.Ff,17):this.Ff=Zt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,26)},set:function(P){P?this.Ff=Tt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var k,B={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(he){return he};if(this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),Object.keys(B).length!==0){var K,se=[];for(K in se.push("<<"),B)se.push("/"+K+" ("+We(P(B[K]))+")");return se.push(">>"),se.join(`
`)}},set:function(P){(0,u.default)(P)==="object"&&(B=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return B.CA||""},set:function(P){typeof P=="string"&&(B.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return k},set:function(P){k=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return k.substr(1,k.length-1)},set:function(P){k="/"+P}})};nt(sn,Hr);var Ln=function(){sn.call(this),this.pushButton=!0};nt(Ln,sn);var da=function(){sn.call(this),this.radio=!0,this.pushButton=!1;var k=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return k},set:function(B){k=B!==void 0?B:[]}})};nt(da,sn);var ci=function(){var k,B;Hr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return k},set:function(se){k=se}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(se){B=se}});var P,K={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var se=function(we){return we};this.scope&&(se=this.scope.internal.getEncryptor(this.objId));var he,Ie=[];for(he in Ie.push("<<"),K)Ie.push("/"+he+" ("+We(se(K[he]))+")");return Ie.push(">>"),Ie.join(`
`)},set:function(se){(0,u.default)(se)==="object"&&(K=se)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return K.CA||""},set:function(se){typeof se=="string"&&(K.CA=se)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return P},set:function(se){P=se}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return P.substr(1,P.length-1)},set:function(se){P="/"+se}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Zr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};nt(ci,Hr),da.prototype.setAppearance=function(k){if(!("createAppearanceStream"in k)||!("getCA"in k))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var B in this.Kids)if(this.Kids.hasOwnProperty(B)){var P=this.Kids[B];P.appearanceStreamContent=k.createAppearanceStream(P.optionName),P.caption=k.getCA()}},da.prototype.createOption=function(k){var B=new ci;return B.Parent=this,B.optionName=k,this.Kids.push(B),ls.call(this.scope,B),B};var ei=function(){sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Zr.CheckBox.createAppearanceStream()};nt(ei,sn);var Xs=function(){Hr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,13)},set:function(B){B?this.Ff=Tt(this.Ff,13):this.Ff=Zt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,21)},set:function(B){B?this.Ff=Tt(this.Ff,21):this.Ff=Zt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,23)},set:function(B){B?this.Ff=Tt(this.Ff,23):this.Ff=Zt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,24)},set:function(B){B?this.Ff=Tt(this.Ff,24):this.Ff=Zt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,25)},set:function(B){B?this.Ff=Tt(this.Ff,25):this.Ff=Zt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,26)},set:function(B){B?this.Ff=Tt(this.Ff,26):this.Ff=Zt(this.Ff,26)}});var k=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return k},set:function(B){k=B}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return k},set:function(B){Number.isInteger(B)&&(k=B)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};nt(Xs,Hr);var ua=function(){Xs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yt(this.Ff,14)},set:function(k){k?this.Ff=Tt(this.Ff,14):this.Ff=Zt(this.Ff,14)}}),this.password=!0};nt(ua,Xs);var Zr={CheckBox:{createAppearanceStream:function(){return{N:{On:Zr.CheckBox.YesNormal},D:{On:Zr.CheckBox.YesPushDown,Off:Zr.CheckBox.OffPushDown}}},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=k.scope.internal.getFont(k.fontName,k.fontStyle).id,se=k.scope.__private__.encodeColorString(k.color),he=Vt(k,k.caption);return P.push("0.749023 g"),P.push("0 0 "+ke(Zr.internal.getWidth(k))+" "+ke(Zr.internal.getHeight(k))+" re"),P.push("f"),P.push("BMC"),P.push("q"),P.push("0 0 1 rg"),P.push("/"+K+" "+ke(he.fontSize)+" Tf "+se),P.push("BT"),P.push(he.text),P.push("ET"),P.push("Q"),P.push("EMC"),B.stream=P.join(`
`),B},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=k.scope.internal.getFont(k.fontName,k.fontStyle).id,K=k.scope.__private__.encodeColorString(k.color),se=[],he=Zr.internal.getHeight(k),Ie=Zr.internal.getWidth(k),we=Vt(k,k.caption);return se.push("1 g"),se.push("0 0 "+ke(Ie)+" "+ke(he)+" re"),se.push("f"),se.push("q"),se.push("0 0 1 rg"),se.push("0 0 "+ke(Ie-1)+" "+ke(he-1)+" re"),se.push("W"),se.push("n"),se.push("0 g"),se.push("BT"),se.push("/"+P+" "+ke(we.fontSize)+" Tf "+K),se.push(we.text),se.push("ET"),se.push("Q"),B.stream=se.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+ke(Zr.internal.getWidth(k))+" "+ke(Zr.internal.getHeight(k))+" re"),P.push("f"),B.stream=P.join(`
`),B}},RadioButton:{Circle:{createAppearanceStream:function(k){var B={D:{Off:Zr.RadioButton.Circle.OffPushDown},N:{}};return B.N[k]=Zr.RadioButton.Circle.YesNormal,B.D[k]=Zr.RadioButton.Circle.YesPushDown,B},getCA:function(){return"l"},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=Zr.internal.getWidth(k)<=Zr.internal.getHeight(k)?Zr.internal.getWidth(k)/4:Zr.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=Zr.internal.Bezier_C,he=Number((K*se).toFixed(5));return P.push("q"),P.push("1 0 0 1 "+Fe(Zr.internal.getWidth(k)/2)+" "+Fe(Zr.internal.getHeight(k)/2)+" cm"),P.push(K+" 0 m"),P.push(K+" "+he+" "+he+" "+K+" 0 "+K+" c"),P.push("-"+he+" "+K+" -"+K+" "+he+" -"+K+" 0 c"),P.push("-"+K+" -"+he+" -"+he+" -"+K+" 0 -"+K+" c"),P.push(he+" -"+K+" "+K+" -"+he+" "+K+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=Zr.internal.getWidth(k)<=Zr.internal.getHeight(k)?Zr.internal.getWidth(k)/4:Zr.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=Number((2*K).toFixed(5)),he=Number((se*Zr.internal.Bezier_C).toFixed(5)),Ie=Number((K*Zr.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+Fe(Zr.internal.getWidth(k)/2)+" "+Fe(Zr.internal.getHeight(k)/2)+" cm"),P.push(se+" 0 m"),P.push(se+" "+he+" "+he+" "+se+" 0 "+se+" c"),P.push("-"+he+" "+se+" -"+se+" "+he+" -"+se+" 0 c"),P.push("-"+se+" -"+he+" -"+he+" -"+se+" 0 -"+se+" c"),P.push(he+" -"+se+" "+se+" -"+he+" "+se+" 0 c"),P.push("f"),P.push("Q"),P.push("0 g"),P.push("q"),P.push("1 0 0 1 "+Fe(Zr.internal.getWidth(k)/2)+" "+Fe(Zr.internal.getHeight(k)/2)+" cm"),P.push(K+" 0 m"),P.push(K+" "+Ie+" "+Ie+" "+K+" 0 "+K+" c"),P.push("-"+Ie+" "+K+" -"+K+" "+Ie+" -"+K+" 0 c"),P.push("-"+K+" -"+Ie+" -"+Ie+" -"+K+" 0 -"+K+" c"),P.push(Ie+" -"+K+" "+K+" -"+Ie+" "+K+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=Zr.internal.getWidth(k)<=Zr.internal.getHeight(k)?Zr.internal.getWidth(k)/4:Zr.internal.getHeight(k)/4;K=Number((.9*K).toFixed(5));var se=Number((2*K).toFixed(5)),he=Number((se*Zr.internal.Bezier_C).toFixed(5));return P.push("0.749023 g"),P.push("q"),P.push("1 0 0 1 "+Fe(Zr.internal.getWidth(k)/2)+" "+Fe(Zr.internal.getHeight(k)/2)+" cm"),P.push(se+" 0 m"),P.push(se+" "+he+" "+he+" "+se+" 0 "+se+" c"),P.push("-"+he+" "+se+" -"+se+" "+he+" -"+se+" 0 c"),P.push("-"+se+" -"+he+" -"+he+" -"+se+" 0 -"+se+" c"),P.push(he+" -"+se+" "+se+" -"+he+" "+se+" 0 c"),P.push("f"),P.push("Q"),B.stream=P.join(`
`),B}},Cross:{createAppearanceStream:function(k){var B={D:{Off:Zr.RadioButton.Cross.OffPushDown},N:{}};return B.N[k]=Zr.RadioButton.Cross.YesNormal,B.D[k]=Zr.RadioButton.Cross.YesPushDown,B},getCA:function(){return"8"},YesNormal:function(k){var B=Le(k);B.scope=k.scope;var P=[],K=Zr.internal.calculateCross(k);return P.push("q"),P.push("1 1 "+ke(Zr.internal.getWidth(k)-2)+" "+ke(Zr.internal.getHeight(k)-2)+" re"),P.push("W"),P.push("n"),P.push(ke(K.x1.x)+" "+ke(K.x1.y)+" m"),P.push(ke(K.x2.x)+" "+ke(K.x2.y)+" l"),P.push(ke(K.x4.x)+" "+ke(K.x4.y)+" m"),P.push(ke(K.x3.x)+" "+ke(K.x3.y)+" l"),P.push("s"),P.push("Q"),B.stream=P.join(`
`),B},YesPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=Zr.internal.calculateCross(k),K=[];return K.push("0.749023 g"),K.push("0 0 "+ke(Zr.internal.getWidth(k))+" "+ke(Zr.internal.getHeight(k))+" re"),K.push("f"),K.push("q"),K.push("1 1 "+ke(Zr.internal.getWidth(k)-2)+" "+ke(Zr.internal.getHeight(k)-2)+" re"),K.push("W"),K.push("n"),K.push(ke(P.x1.x)+" "+ke(P.x1.y)+" m"),K.push(ke(P.x2.x)+" "+ke(P.x2.y)+" l"),K.push(ke(P.x4.x)+" "+ke(P.x4.y)+" m"),K.push(ke(P.x3.x)+" "+ke(P.x3.y)+" l"),K.push("s"),K.push("Q"),B.stream=K.join(`
`),B},OffPushDown:function(k){var B=Le(k);B.scope=k.scope;var P=[];return P.push("0.749023 g"),P.push("0 0 "+ke(Zr.internal.getWidth(k))+" "+ke(Zr.internal.getHeight(k))+" re"),P.push("f"),B.stream=P.join(`
`),B}}},createDefaultAppearanceStream:function(k){var B=k.scope.internal.getFont(k.fontName,k.fontStyle).id,P=k.scope.__private__.encodeColorString(k.color);return"/"+B+" "+k.fontSize+" Tf "+P}};Zr.internal={Bezier_C:.551915024494,calculateCross:function(k){var B=Zr.internal.getWidth(k),P=Zr.internal.getHeight(k),K=Math.min(B,P);return{x1:{x:(B-K)/2,y:(P-K)/2+K},x2:{x:(B-K)/2+K,y:(P-K)/2},x3:{x:(B-K)/2,y:(P-K)/2},x4:{x:(B-K)/2+K,y:(P-K)/2+K}}}},Zr.internal.getWidth=function(k){var B=0;return(0,u.default)(k)==="object"&&(B=tt(k.Rect[2])),B},Zr.internal.getHeight=function(k){var B=0;return(0,u.default)(k)==="object"&&(B=tt(k.Rect[3])),B};var ls=ye.addField=function(k){if(Ge(this,k),!(k instanceof Hr))throw new Error("Invalid argument passed to jsPDF.addField.");var B;return(B=k).scope.internal.acroformPlugin.printedOut&&(B.scope.internal.acroformPlugin.printedOut=!1,B.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),B.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(B),k.page=k.scope.internal.getCurrentPageInfo().pageNumber,this};ye.AcroFormChoiceField=Bn,ye.AcroFormListBox=Wr,ye.AcroFormComboBox=Qr,ye.AcroFormEditBox=vn,ye.AcroFormButton=sn,ye.AcroFormPushButton=Ln,ye.AcroFormRadioButton=da,ye.AcroFormCheckBox=ei,ye.AcroFormTextField=Xs,ye.AcroFormPasswordField=ua,ye.AcroFormAppearance=Zr,ye.AcroForm={ChoiceField:Bn,ListBox:Wr,ComboBox:Qr,EditBox:vn,Button:sn,PushButton:Ln,RadioButton:da,CheckBox:ei,TextField:Xs,PasswordField:ua,Appearance:Zr},Ae.AcroForm={ChoiceField:Bn,ListBox:Wr,ComboBox:Qr,EditBox:vn,Button:sn,PushButton:Ln,RadioButton:da,CheckBox:ei,TextField:Xs,PasswordField:ua,Appearance:Zr};var Fi=Ae.AcroForm;function Sn(k){return k.reduce(function(B,P,K){return B[P]=K,B},{})}(function(k){var B="addImage_";k.__addimage__={};var P="UNKNOWN",K={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},se=k.__addimage__.getImageFileTypeByImageData=function(ct,mt){var Pt,Dt,gr,jr,Nr,ir=P;if((mt=mt||P)==="RGBA"||ct.data!==void 0&&ct.data instanceof Uint8ClampedArray&&"height"in ct&&"width"in ct)return"RGBA";if(Xt(ct))for(Nr in K)for(gr=K[Nr],Pt=0;Pt<gr.length;Pt+=1){for(jr=!0,Dt=0;Dt<gr[Pt].length;Dt+=1)if(gr[Pt][Dt]!==void 0&&gr[Pt][Dt]!==ct[Dt]){jr=!1;break}if(jr===!0){ir=Nr;break}}else for(Nr in K)for(gr=K[Nr],Pt=0;Pt<gr.length;Pt+=1){for(jr=!0,Dt=0;Dt<gr[Pt].length;Dt+=1)if(gr[Pt][Dt]!==void 0&&gr[Pt][Dt]!==ct.charCodeAt(Dt)){jr=!1;break}if(jr===!0){ir=Nr;break}}return ir===P&&mt!==P&&(ir=mt),ir},he=function ct(mt){for(var Pt=this.internal.write,Dt=this.internal.putStream,gr=(0,this.internal.getFilters)();gr.indexOf("FlateEncode")!==-1;)gr.splice(gr.indexOf("FlateEncode"),1);mt.objectId=this.internal.newObject();var jr=[];if(jr.push({key:"Type",value:"/XObject"}),jr.push({key:"Subtype",value:"/Image"}),jr.push({key:"Width",value:mt.width}),jr.push({key:"Height",value:mt.height}),mt.colorSpace===ot.INDEXED?jr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(mt.palette.length/3-1)+" "+("sMask"in mt&&mt.sMask!==void 0?mt.objectId+2:mt.objectId+1)+" 0 R]"}):(jr.push({key:"ColorSpace",value:"/"+mt.colorSpace}),mt.colorSpace===ot.DEVICE_CMYK&&jr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),jr.push({key:"BitsPerComponent",value:mt.bitsPerComponent}),"decodeParameters"in mt&&mt.decodeParameters!==void 0&&jr.push({key:"DecodeParms",value:"<<"+mt.decodeParameters+">>"}),"transparency"in mt&&Array.isArray(mt.transparency)&&mt.transparency.length>0){for(var Nr="",ir=0,wr=mt.transparency.length;ir<wr;ir++)Nr+=mt.transparency[ir]+" "+mt.transparency[ir]+" ";jr.push({key:"Mask",value:"["+Nr+"]"})}mt.sMask!==void 0&&jr.push({key:"SMask",value:mt.objectId+1+" 0 R"});var Yr=mt.filter!==void 0?["/"+mt.filter]:void 0;if(Dt({data:mt.data,additionalKeyValues:jr,alreadyAppliedFilters:Yr,objectId:mt.objectId}),Pt("endobj"),"sMask"in mt&&mt.sMask!==void 0){var zr,et=(zr=mt.sMaskBitsPerComponent)!==null&&zr!==void 0?zr:mt.bitsPerComponent,St={width:mt.width,height:mt.height,colorSpace:"DeviceGray",bitsPerComponent:et,data:mt.sMask};"filter"in mt&&(St.decodeParameters="/Predictor ".concat(mt.predictor," /Colors 1 /BitsPerComponent ").concat(et," /Columns ").concat(mt.width),St.filter=mt.filter),ct.call(this,St)}if(mt.colorSpace===ot.INDEXED){var kt=this.internal.newObject();Dt({data:ar(new Uint8Array(mt.palette)),objectId:kt}),Pt("endobj")}},Ie=function(){var ct=this.internal.collections[B+"images"];for(var mt in ct)he.call(this,ct[mt])},we=function(){var ct,mt=this.internal.collections[B+"images"],Pt=this.internal.write;for(var Dt in mt)Pt("/I"+(ct=mt[Dt]).index,ct.objectId,"0","R")},Ne=function(){this.internal.collections[B+"images"]||(this.internal.collections[B+"images"]={},this.internal.events.subscribe("putResources",Ie),this.internal.events.subscribe("putXobjectDict",we))},Re=function(){var ct=this.internal.collections[B+"images"];return Ne.call(this),ct},Ke=function(){return Object.keys(this.internal.collections[B+"images"]).length},at=function(ct){return typeof k["process"+ct.toUpperCase()]=="function"},ut=function(ct){return(0,u.default)(ct)==="object"&&ct.nodeType===1},Pe=function(ct,mt){if(ct.nodeName==="IMG"&&ct.hasAttribute("src")){var Pt=""+ct.getAttribute("src");if(Pt.indexOf("data:image/")===0)return E(unescape(Pt).split("base64,").pop());var Dt=k.loadFile(Pt,!0);if(Dt!==void 0)return Dt}if(ct.nodeName==="CANVAS"){if(ct.width===0||ct.height===0)throw new Error("Given canvas must have data. Canvas width: "+ct.width+", height: "+ct.height);var gr;switch(mt){case"PNG":gr="image/png";break;case"WEBP":gr="image/webp";break;default:gr="image/jpeg"}return E(ct.toDataURL(gr,1).split("base64,").pop())}},Nt=function(ct){var mt=this.internal.collections[B+"images"];if(mt){for(var Pt in mt)if(ct===mt[Pt].alias)return mt[Pt]}},bt=function(ct,mt,Pt){return ct||mt||(ct=-96,mt=-96),ct<0&&(ct=-1*Pt.width*72/ct/this.internal.scaleFactor),mt<0&&(mt=-1*Pt.height*72/mt/this.internal.scaleFactor),ct===0&&(ct=mt*Pt.width/Pt.height),mt===0&&(mt=ct*Pt.height/Pt.width),[ct,mt]},Et=function(ct,mt,Pt,Dt,gr,jr){var Nr=bt.call(this,Pt,Dt,gr),ir=this.internal.getCoordinateString,wr=this.internal.getVerticalCoordinateString,Yr=Re.call(this);if(Pt=Nr[0],Dt=Nr[1],Yr[gr.index]=gr,jr){jr*=Math.PI/180;var zr=Math.cos(jr),et=Math.sin(jr),St=function(Yt){return Yt.toFixed(4)},kt=[St(zr),St(et),St(-1*et),St(zr),0,0,"cm"]}this.internal.write("q"),jr?(this.internal.write([1,"0","0",1,ir(ct),wr(mt+Dt),"cm"].join(" ")),this.internal.write(kt.join(" ")),this.internal.write([ir(Pt),"0","0",ir(Dt),"0","0","cm"].join(" "))):this.internal.write([ir(Pt),"0","0",ir(Dt),ir(ct),wr(mt+Dt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+gr.index+" Do"),this.internal.write("Q")},ot=k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ut=k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},rr=k.__addimage__.sHashCode=function(ct){var mt,Pt,Dt=0;if(typeof ct=="string")for(Pt=ct.length,mt=0;mt<Pt;mt++)Dt=(Dt<<5)-Dt+ct.charCodeAt(mt),Dt|=0;else if(Xt(ct))for(Pt=ct.byteLength/2,mt=0;mt<Pt;mt++)Dt=(Dt<<5)-Dt+ct[mt],Dt|=0;return Dt},Ot=k.__addimage__.validateStringAsBase64=function(ct){(ct=ct||"").toString().trim();var mt=!0;return ct.length===0&&(mt=!1),ct.length%4!=0&&(mt=!1),/^[A-Za-z0-9+/]+$/.test(ct.substr(0,ct.length-2))===!1&&(mt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ct.substr(-2))===!1&&(mt=!1),mt},st=k.__addimage__.extractImageFromDataUrl=function(ct){if(ct==null||!(ct=ct.trim()).startsWith("data:"))return null;var mt=ct.indexOf(",");return mt<0?null:ct.substring(0,mt).trim().endsWith("base64")?ct.substring(mt+1):null};k.__addimage__.isArrayBuffer=function(ct){return ct instanceof ArrayBuffer};var Xt=k.__addimage__.isArrayBufferView=function(ct){return ct instanceof Int8Array||ct instanceof Uint8Array||ct instanceof Uint8ClampedArray||ct instanceof Int16Array||ct instanceof Uint16Array||ct instanceof Int32Array||ct instanceof Uint32Array||ct instanceof Float32Array||ct instanceof Float64Array},pr=k.__addimage__.binaryStringToUint8Array=function(ct){for(var mt=ct.length,Pt=new Uint8Array(mt),Dt=0;Dt<mt;Dt++)Pt[Dt]=ct.charCodeAt(Dt);return Pt},ar=k.__addimage__.arrayBufferToBinaryString=function(ct){for(var mt="",Pt=Xt(ct)?ct:new Uint8Array(ct),Dt=0;Dt<Pt.length;Dt+=8192)mt+=String.fromCharCode.apply(null,Pt.subarray(Dt,Dt+8192));return mt};k.addImage=function(){var ct,mt,Pt,Dt,gr,jr,Nr,ir,wr;if(typeof arguments[1]=="number"?(mt=P,Pt=arguments[1],Dt=arguments[2],gr=arguments[3],jr=arguments[4],Nr=arguments[5],ir=arguments[6],wr=arguments[7]):(mt=arguments[1],Pt=arguments[2],Dt=arguments[3],gr=arguments[4],jr=arguments[5],Nr=arguments[6],ir=arguments[7],wr=arguments[8]),(0,u.default)(ct=arguments[0])==="object"&&!ut(ct)&&"imageData"in ct){var Yr=ct;ct=Yr.imageData,mt=Yr.format||mt||P,Pt=Yr.x||Pt||0,Dt=Yr.y||Dt||0,gr=Yr.w||Yr.width||gr,jr=Yr.h||Yr.height||jr,Nr=Yr.alias||Nr,ir=Yr.compression||ir,wr=Yr.rotation||Yr.angle||wr}var zr=this.internal.getFilters();if(ir===void 0&&zr.indexOf("FlateEncode")!==-1&&(ir="SLOW"),isNaN(Pt)||isNaN(Dt))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ne.call(this);var et=Mt.call(this,ct,mt,Nr,ir);return Et.call(this,Pt,Dt,gr,jr,et,wr),this};var Mt=function(ct,mt,Pt,Dt){var gr,jr,Nr;if(typeof ct=="string"&&se(ct)===P){ct=unescape(ct);var ir=Ar(ct,!1);(ir!==""||(ir=k.loadFile(ct,!0))!==void 0)&&(ct=ir)}if(ut(ct)&&(ct=Pe(ct,mt)),mt=se(ct,mt),!at(mt))throw new Error("addImage does not support files of type '"+mt+"', please ensure that a plugin for '"+mt+"' support is added.");if(((Nr=Pt)==null||Nr.length===0)&&(Pt=(function(wr){return typeof wr=="string"||Xt(wr)?rr(wr):Xt(wr.data)?rr(wr.data):null})(ct)),(gr=Nt.call(this,Pt))||(ct instanceof Uint8Array||mt==="RGBA"||(jr=ct,ct=pr(ct)),gr=this["process"+mt.toUpperCase()](ct,Ke.call(this),Pt,(function(wr){return wr&&typeof wr=="string"&&(wr=wr.toUpperCase()),wr in k.image_compression?wr:Ut.NONE})(Dt),jr)),!gr)throw new Error("An unknown error occurred whilst processing the image.");return gr},Ar=k.__addimage__.convertBase64ToBinaryString=function(ct,mt){mt=typeof mt!="boolean"||mt;var Pt,Dt="";if(typeof ct=="string"){var gr;Pt=(gr=st(ct))!==null&&gr!==void 0?gr:ct;try{Dt=E(Pt)}catch(jr){if(mt)throw Ot(Pt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+jr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Dt};k.getImageProperties=function(ct){var mt,Pt,Dt="";if(ut(ct)&&(ct=Pe(ct)),typeof ct=="string"&&se(ct)===P&&((Dt=Ar(ct,!1))===""&&(Dt=k.loadFile(ct)||""),ct=Dt),Pt=se(ct),!at(Pt))throw new Error("addImage does not support files of type '"+Pt+"', please ensure that a plugin for '"+Pt+"' support is added.");if(ct instanceof Uint8Array||(ct=pr(ct)),!(mt=this["process"+Pt.toUpperCase()](ct)))throw new Error("An unknown error occurred whilst processing the image");return mt.fileType=Pt,mt}})(Ae.API),(function(k){var B=function(P){if(P!==void 0&&P!="")return!0};Ae.API.events.push(["addPage",function(P){this.internal.getPageInfo(P.pageNumber).pageContext.annotations=[]}]),k.events.push(["putPage",function(P){for(var K,se,he,Ie=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,Ne=this.internal.getPageInfoByObjId(P.objId),Re=P.pageContext.annotations,Ke=!1,at=0;at<Re.length&&!Ke;at++)switch((K=Re[at]).type){case"link":(B(K.options.url)||B(K.options.pageNumber))&&(Ke=!0);break;case"reference":case"text":case"freetext":Ke=!0}if(Ke!=0){this.internal.write("/Annots [");for(var ut=0;ut<Re.length;ut++){K=Re[ut];var Pe=this.internal.pdfEscape,Nt=this.internal.getEncryptor(P.objId);switch(K.type){case"reference":this.internal.write(" "+K.object.objId+" 0 R ");break;case"text":var bt=this.internal.newAdditionalObject(),Et=this.internal.newAdditionalObject(),ot=this.internal.getEncryptor(bt.objId),Ut=K.title||"Note";he="<</Type /Annot /Subtype /Text "+(se="/Rect ["+Ie(K.bounds.x)+" "+we(K.bounds.y+K.bounds.h)+" "+Ie(K.bounds.x+K.bounds.w)+" "+we(K.bounds.y)+"] ")+"/Contents ("+Pe(ot(K.contents))+")",he+=" /Popup "+Et.objId+" 0 R",he+=" /P "+Ne.objId+" 0 R",he+=" /T ("+Pe(ot(Ut))+") >>",bt.content=he;var rr=bt.objId+" 0 R";he="<</Type /Annot /Subtype /Popup "+(se="/Rect ["+Ie(K.bounds.x+30)+" "+we(K.bounds.y+K.bounds.h)+" "+Ie(K.bounds.x+K.bounds.w+30)+" "+we(K.bounds.y)+"] ")+" /Parent "+rr,K.open&&(he+=" /Open true"),he+=" >>",Et.content=he,this.internal.write(bt.objId,"0 R",Et.objId,"0 R");break;case"freetext":se="/Rect ["+Ie(K.bounds.x)+" "+we(K.bounds.y)+" "+Ie(K.bounds.x+K.bounds.w)+" "+we(K.bounds.y+K.bounds.h)+"] ";var Ot=K.color||"#000000";he="<</Type /Annot /Subtype /FreeText "+se+"/Contents ("+Pe(Nt(K.contents))+")",he+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ot+")",he+=" /Border [0 0 0]",he+=" >>",this.internal.write(he);break;case"link":if(K.options.name){var st=this.annotations._nameMap[K.options.name];K.options.pageNumber=st.page,K.options.top=st.y}else K.options.top||(K.options.top=0);if(se="/Rect ["+K.finalBounds.x+" "+K.finalBounds.y+" "+K.finalBounds.w+" "+K.finalBounds.h+"] ",he="",K.options.url)he="<</Type /Annot /Subtype /Link "+se+"/Border [0 0 0] /A <</S /URI /URI ("+Pe(Nt(K.options.url))+") >>";else if(K.options.pageNumber)switch(he="<</Type /Annot /Subtype /Link "+se+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(K.options.pageNumber).objId+" 0 R",K.options.magFactor=K.options.magFactor||"XYZ",K.options.magFactor){case"Fit":he+=" /Fit]";break;case"FitH":he+=" /FitH "+K.options.top+"]";break;case"FitV":K.options.left=K.options.left||0,he+=" /FitV "+K.options.left+"]";break;default:var Xt=we(K.options.top);K.options.left=K.options.left||0,K.options.zoom===void 0&&(K.options.zoom=0),he+=" /XYZ "+K.options.left+" "+Xt+" "+K.options.zoom+"]"}he!=""&&(he+=" >>",this.internal.write(he))}}this.internal.write("]")}}]),k.createAnnotation=function(P){var K=this.internal.getCurrentPageInfo();switch(P.type){case"link":this.link(P.bounds.x,P.bounds.y,P.bounds.w,P.bounds.h,P);break;case"text":case"freetext":K.pageContext.annotations.push(P)}},k.link=function(P,K,se,he,Ie){var we=this.internal.getCurrentPageInfo(),Ne=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString;we.pageContext.annotations.push({finalBounds:{x:Ne(P),y:Re(K),w:Ne(P+se),h:Re(K+he)},options:Ie,type:"link"})},k.textWithLink=function(P,K,se,he){var Ie,we,Ne=this.getTextWidth(P),Re=this.internal.getLineHeight()/this.internal.scaleFactor;if(he.maxWidth!==void 0){we=he.maxWidth;var Ke=this.splitTextToSize(P,we).length;Ie=Math.ceil(Re*Ke)}else we=Ne,Ie=Re;return this.text(P,K,se,he),se+=.2*Re,he.align==="center"&&(K-=Ne/2),he.align==="right"&&(K-=Ne),this.link(K,se-Re,we,Ie,he),Ne},k.getTextWidth=function(P){var K=this.internal.getFontSize();return this.getStringUnitWidth(P)*K/this.internal.scaleFactor}})(Ae.API),(function(k){var B={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},P={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},K={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},se=[1570,1571,1573,1575];k.__arabicParser__={};var he=k.__arabicParser__.isInArabicSubstitutionA=function(bt){return B[bt.charCodeAt(0)]!==void 0},Ie=k.__arabicParser__.isArabicLetter=function(bt){return typeof bt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(bt)},we=k.__arabicParser__.isArabicEndLetter=function(bt){return Ie(bt)&&he(bt)&&B[bt.charCodeAt(0)].length<=2},Ne=k.__arabicParser__.isArabicAlfLetter=function(bt){return Ie(bt)&&se.indexOf(bt.charCodeAt(0))>=0};k.__arabicParser__.arabicLetterHasIsolatedForm=function(bt){return Ie(bt)&&he(bt)&&B[bt.charCodeAt(0)].length>=1};var Re=k.__arabicParser__.arabicLetterHasFinalForm=function(bt){return Ie(bt)&&he(bt)&&B[bt.charCodeAt(0)].length>=2};k.__arabicParser__.arabicLetterHasInitialForm=function(bt){return Ie(bt)&&he(bt)&&B[bt.charCodeAt(0)].length>=3};var Ke=k.__arabicParser__.arabicLetterHasMedialForm=function(bt){return Ie(bt)&&he(bt)&&B[bt.charCodeAt(0)].length==4},at=k.__arabicParser__.resolveLigatures=function(bt){var Et=0,ot=P,Ut="",rr=0;for(Et=0;Et<bt.length;Et+=1)ot[bt.charCodeAt(Et)]!==void 0?(rr++,typeof(ot=ot[bt.charCodeAt(Et)])=="number"&&(Ut+=String.fromCharCode(ot),ot=P,rr=0),Et===bt.length-1&&(ot=P,Ut+=bt.charAt(Et-(rr-1)),Et-=rr-1,rr=0)):(ot=P,Ut+=bt.charAt(Et-rr),Et-=rr,rr=0);return Ut};k.__arabicParser__.isArabicDiacritic=function(bt){return bt!==void 0&&K[bt.charCodeAt(0)]!==void 0};var ut=k.__arabicParser__.getCorrectForm=function(bt,Et,ot){return Ie(bt)?he(bt)===!1?-1:!Re(bt)||!Ie(Et)&&!Ie(ot)||!Ie(ot)&&we(Et)||we(bt)&&!Ie(Et)||we(bt)&&Ne(Et)||we(bt)&&we(Et)?0:Ke(bt)&&Ie(Et)&&!we(Et)&&Ie(ot)&&Re(ot)?3:we(bt)||!Ie(ot)?1:2:-1},Pe=function(bt){var Et=0,ot=0,Ut=0,rr="",Ot="",st="",Xt=(bt=bt||"").split("\\s+"),pr=[];for(Et=0;Et<Xt.length;Et+=1){for(pr.push(""),ot=0;ot<Xt[Et].length;ot+=1)rr=Xt[Et][ot],Ot=Xt[Et][ot-1],st=Xt[Et][ot+1],Ie(rr)?(Ut=ut(rr,Ot,st),pr[Et]+=Ut!==-1?String.fromCharCode(B[rr.charCodeAt(0)][Ut]):rr):pr[Et]+=rr;pr[Et]=at(pr[Et])}return pr.join(" ")},Nt=k.__arabicParser__.processArabic=k.processArabic=function(){var bt,Et=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,ot=[];if(Array.isArray(Et)){var Ut=0;for(ot=[],Ut=0;Ut<Et.length;Ut+=1)Array.isArray(Et[Ut])?ot.push([Pe(Et[Ut][0]),Et[Ut][1],Et[Ut][2]]):ot.push([Pe(Et[Ut])]);bt=ot}else bt=Pe(Et);return typeof arguments[0]=="string"?bt:(arguments[0].text=bt,arguments[0])};k.events.push(["preProcessText",Nt])})(Ae.API),Ae.API.autoPrint=function(k){var B;return(k=k||{}).variant=k.variant||"non-conform",k.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){B=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+B+" 0 R")})),this},(function(k){var B=function(){var P=void 0;Object.defineProperty(this,"pdf",{get:function(){return P},set:function(we){P=we}});var K=150;Object.defineProperty(this,"width",{get:function(){return K},set:function(we){K=isNaN(we)||Number.isInteger(we)===!1||we<0?150:we,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=K+1)}});var se=300;Object.defineProperty(this,"height",{get:function(){return se},set:function(we){se=isNaN(we)||Number.isInteger(we)===!1||we<0?300:we,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=se+1)}});var he=[];Object.defineProperty(this,"childNodes",{get:function(){return he},set:function(we){he=we}});var Ie={};Object.defineProperty(this,"style",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"parentNode",{})};B.prototype.getContext=function(P,K){var se;if((P=P||"2d")!=="2d")return null;for(se in K)this.pdf.context2d.hasOwnProperty(se)&&(this.pdf.context2d[se]=K[se]);return this.pdf.context2d._canvas=this,this.pdf.context2d},B.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},k.events.push(["initialized",function(){this.canvas=new B,this.canvas.pdf=this}])})(Ae.API),(function(k){var B={left:0,top:0,bottom:0,right:0},P=!1,K=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},B),this.internal.__cell__.margins.width=this.getPageWidth(),se.call(this))},se=function(){this.internal.__cell__.lastCell=new he,this.internal.__cell__.pages=1},he=function(){var Ne=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(bt){Ne=bt}});var Re=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(bt){Re=bt}});var Ke=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ke},set:function(bt){Ke=bt}});var at=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return at},set:function(bt){at=bt}});var ut=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ut},set:function(bt){ut=bt}});var Pe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Pe},set:function(bt){Pe=bt}});var Nt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Nt},set:function(bt){Nt=bt}}),this};he.prototype.clone=function(){return new he(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},he.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},k.setHeaderFunction=function(Ne){return K.call(this),this.internal.__cell__.headerFunction=typeof Ne=="function"?Ne:void 0,this},k.getTextDimensions=function(Ne,Re){K.call(this);var Ke=(Re=Re||{}).fontSize||this.getFontSize(),at=Re.font||this.getFont(),ut=Re.scaleFactor||this.internal.scaleFactor,Pe=0,Nt=0,bt=0,Et=this;if(!Array.isArray(Ne)&&typeof Ne!="string"){if(typeof Ne!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ne=String(Ne)}var ot=Re.maxWidth;ot>0?typeof Ne=="string"?Ne=this.splitTextToSize(Ne,ot):Object.prototype.toString.call(Ne)==="[object Array]"&&(Ne=Ne.reduce(function(rr,Ot){return rr.concat(Et.splitTextToSize(Ot,ot))},[])):Ne=Array.isArray(Ne)?Ne:[Ne];for(var Ut=0;Ut<Ne.length;Ut++)Pe<(bt=this.getStringUnitWidth(Ne[Ut],{font:at})*Ke)&&(Pe=bt);return Pe!==0&&(Nt=Ne.length),{w:Pe/=ut,h:Math.max((Nt*Ke*this.getLineHeightFactor()-Ke*(this.getLineHeightFactor()-1))/ut,0)}},k.cellAddPage=function(){K.call(this),this.addPage();var Ne=this.internal.__cell__.margins||B;return this.internal.__cell__.lastCell=new he(Ne.left,Ne.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ie=k.cell=function(){var Ne;Ne=arguments[0]instanceof he?arguments[0]:new he(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),K.call(this);var Re=this.internal.__cell__.lastCell,Ke=this.internal.__cell__.padding,at=this.internal.__cell__.margins||B,ut=this.internal.__cell__.tableHeaderRow,Pe=this.internal.__cell__.printHeaders;return Re.lineNumber!==void 0&&(Re.lineNumber===Ne.lineNumber?(Ne.x=(Re.x||0)+(Re.width||0),Ne.y=Re.y||0):Re.y+Re.height+Ne.height+at.bottom>this.getPageHeight()?(this.cellAddPage(),Ne.y=at.top,Pe&&ut&&(this.printHeaderRow(Ne.lineNumber,!0),Ne.y+=ut[0].height)):Ne.y=Re.y+Re.height||Ne.y),Ne.text[0]!==void 0&&(this.rect(Ne.x,Ne.y,Ne.width,Ne.height,P===!0?"FD":void 0),Ne.align==="right"?this.text(Ne.text,Ne.x+Ne.width-Ke,Ne.y+Ke,{align:"right",baseline:"top"}):Ne.align==="center"?this.text(Ne.text,Ne.x+Ne.width/2,Ne.y+Ke,{align:"center",baseline:"top",maxWidth:Ne.width-Ke-Ke}):this.text(Ne.text,Ne.x+Ke,Ne.y+Ke,{align:"left",baseline:"top",maxWidth:Ne.width-Ke-Ke})),this.internal.__cell__.lastCell=Ne,this};k.table=function(Ne,Re,Ke,at,ut){if(K.call(this),!Ke)throw new Error("No data for PDF table.");var Pe,Nt,bt,Et,ot=[],Ut=[],rr=[],Ot={},st={},Xt=[],pr=[],ar=(ut=ut||{}).autoSize||!1,Mt=ut.printHeaders!==!1,Ar=ut.css&&ut.css["font-size"]!==void 0?16*ut.css["font-size"]:ut.fontSize||12,ct=ut.margins||Object.assign({width:this.getPageWidth()},B),mt=typeof ut.padding=="number"?ut.padding:3,Pt=ut.headerBackgroundColor||"#c8c8c8",Dt=ut.headerTextColor||"#000";if(se.call(this),this.internal.__cell__.printHeaders=Mt,this.internal.__cell__.margins=ct,this.internal.__cell__.table_font_size=Ar,this.internal.__cell__.padding=mt,this.internal.__cell__.headerBackgroundColor=Pt,this.internal.__cell__.headerTextColor=Dt,this.setFontSize(Ar),at==null)Ut=ot=Object.keys(Ke[0]),rr=ot.map(function(){return"left"});else if(Array.isArray(at)&&(0,u.default)(at[0])==="object")for(ot=at.map(function(Yr){return Yr.name}),Ut=at.map(function(Yr){return Yr.prompt||Yr.name||""}),rr=at.map(function(Yr){return Yr.align||"left"}),Pe=0;Pe<at.length;Pe+=1)st[at[Pe].name]=.7499990551181103*at[Pe].width;else Array.isArray(at)&&typeof at[0]=="string"&&(Ut=ot=at,rr=ot.map(function(){return"left"}));if(ar||Array.isArray(at)&&typeof at[0]=="string")for(Pe=0;Pe<ot.length;Pe+=1){for(Ot[Et=ot[Pe]]=Ke.map(function(Yr){return Yr[Et]}),this.setFont(void 0,"bold"),Xt.push(this.getTextDimensions(Ut[Pe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Nt=Ot[Et],this.setFont(void 0,"normal"),bt=0;bt<Nt.length;bt+=1)Xt.push(this.getTextDimensions(Nt[bt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);st[Et]=Math.max.apply(null,Xt)+mt+mt,Xt=[]}if(Mt){var gr={};for(Pe=0;Pe<ot.length;Pe+=1)gr[ot[Pe]]={},gr[ot[Pe]].text=Ut[Pe],gr[ot[Pe]].align=rr[Pe];var jr=we.call(this,gr,st);pr=ot.map(function(Yr){return new he(Ne,Re,st[Yr],jr,gr[Yr].text,void 0,gr[Yr].align)}),this.setTableHeaderRow(pr),this.printHeaderRow(1,!1)}var Nr=at.reduce(function(Yr,zr){return Yr[zr.name]=zr.align,Yr},{});for(Pe=0;Pe<Ke.length;Pe+=1){"rowStart"in ut&&ut.rowStart instanceof Function&&ut.rowStart({row:Pe,data:Ke[Pe]},this);var ir=we.call(this,Ke[Pe],st);for(bt=0;bt<ot.length;bt+=1){var wr=Ke[Pe][ot[bt]];"cellStart"in ut&&ut.cellStart instanceof Function&&ut.cellStart({row:Pe,col:bt,data:wr},this),Ie.call(this,new he(Ne,Re,st[ot[bt]],ir,wr,Pe+2,Nr[ot[bt]]))}}return this.internal.__cell__.table_x=Ne,this.internal.__cell__.table_y=Re,this};var we=function(Ne,Re){var Ke=this.internal.__cell__.padding,at=this.internal.__cell__.table_font_size,ut=this.internal.scaleFactor;return Object.keys(Ne).map(function(Pe){var Nt=Ne[Pe];return this.splitTextToSize(Nt.hasOwnProperty("text")?Nt.text:Nt,Re[Pe]-Ke-Ke)},this).map(function(Pe){return this.getLineHeightFactor()*Pe.length*at/ut+Ke+Ke},this).reduce(function(Pe,Nt){return Math.max(Pe,Nt)},0)};k.setTableHeaderRow=function(Ne){K.call(this),this.internal.__cell__.tableHeaderRow=Ne},k.printHeaderRow=function(Ne,Re){if(K.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ke;if(P=!0,typeof this.internal.__cell__.headerFunction=="function"){var at=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new he(at[0],at[1],at[2],at[3],void 0,-1)}this.setFont(void 0,"bold");for(var ut=[],Pe=0;Pe<this.internal.__cell__.tableHeaderRow.length;Pe+=1){Ke=this.internal.__cell__.tableHeaderRow[Pe].clone(),Re&&(Ke.y=this.internal.__cell__.margins.top||0,ut.push(Ke)),Ke.lineNumber=Ne;var Nt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ie.call(this,Ke),this.setTextColor(Nt)}ut.length>0&&this.setTableHeaderRow(ut),this.setFont(void 0,"normal"),P=!1}})(Ae.API);var qi={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ps=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ks=Sn(Ps),di=[100,200,300,400,500,600,700,800,900],Us=Sn(di);function co(k){var B=k.family.replace(/"|'/g,"").toLowerCase(),P=(function(he){return qi[he=he||"normal"]?he:"normal"})(k.style),K=(function(he){return he?typeof he=="number"?he>=100&&he<=900&&he%100==0?he:400:/^\d00$/.test(he)?parseInt(he):he==="bold"?700:400:400})(k.weight),se=(function(he){return typeof ks[he=he||"normal"]=="number"?he:"normal"})(k.stretch);return{family:B,style:P,weight:K,stretch:se,src:k.src||[],ref:k.ref||{name:B,style:[se,P,K].join(" ")}}}function ts(k,B,P,K){var se;for(se=P;se>=0&&se<B.length;se+=K)if(k[B[se]])return k[B[se]];for(se=P;se>=0&&se<B.length;se-=K)if(k[B[se]])return k[B[se]]}var Xi={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wa={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sc(k){return[k.stretch,k.style,k.weight,k.family].join(" ")}function yi(k){return k.trimLeft()}function Il(k,B){for(var P=0;P<k.length;){if(k.charAt(P)===B)return[k.substring(0,P),k.substring(P+1)];P+=1}return null}function Ec(k){var B=k.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return B===null?null:[B[0],k.substring(B[0].length)]}var Tl,Hs,jo,ha,ec,rs,ko,Yi,_o=["times"];function al(k,B,P,K,se){var he=4,Ie=ws;switch(se){case Ae.API.image_compression.FAST:he=1,Ie=Wi;break;case Ae.API.image_compression.MEDIUM:he=6,Ie=ns;break;case Ae.API.image_compression.SLOW:he=9,Ie=gl}k=(function(Ne,Re,Ke,at){for(var ut,Pe=Ne.length/Re,Nt=new Uint8Array(Ne.length+Pe),bt=[Oo,Wi,ws,ns,gl],Et=0;Et<Pe;Et+=1){var ot=Et*Re,Ut=Ne.subarray(ot,ot+Re);if(at)Nt.set(at(Ut,Ke,ut),ot+Et);else{for(var rr=bt.length,Ot=[],st=0;st<rr;st+=1)Ot[st]=bt[st](Ut,Ke,ut);var Xt=$c(Ot.concat());Nt.set(Ot[Xt],ot+Et)}ut=Ut}return Nt})(k,B,Math.ceil(P*K/8),Ie);var we=(0,h.zlibSync)(k,{level:he});return Ae.API.__addimage__.arrayBufferToBinaryString(we)}function Oo(k){var B=Array.apply([],k);return B.unshift(0),B}function Wi(k,B){var P=k.length,K=[];K[0]=1;for(var se=0;se<P;se+=1){var he=k[se-B]||0;K[se+1]=k[se]-he+256&255}return K}function ws(k,B,P){var K=k.length,se=[];se[0]=2;for(var he=0;he<K;he+=1){var Ie=P&&P[he]||0;se[he+1]=k[he]-Ie+256&255}return se}function ns(k,B,P){var K=k.length,se=[];se[0]=3;for(var he=0;he<K;he+=1){var Ie=k[he-B]||0,we=P&&P[he]||0;se[he+1]=k[he]+256-(Ie+we>>>1)&255}return se}function gl(k,B,P){var K=k.length,se=[];se[0]=4;for(var he=0;he<K;he+=1){var Ie=Fo(k[he-B]||0,P&&P[he]||0,P&&P[he-B]||0);se[he+1]=k[he]-Ie+256&255}return se}function Fo(k,B,P){if(k===B&&B===P)return k;var K=Math.abs(B-P),se=Math.abs(k-P),he=Math.abs(k+B-P-P);return K<=se&&K<=he?k:se<=he?B:P}function $c(k){var B=k.map(function(P){return P.reduce(function(K,se){return K+Math.abs(se)},0)});return B.indexOf(Math.min.apply(null,B))}function ui(k,B,P){var K=B*P,se=Math.floor(K/8),he=16-(K-8*se+P),Ie=(1<<P)-1;return Qs(k,se)>>he&Ie}function zn(k,B,P,K){var se=P*K,he=Math.floor(se/8),Ie=16-(se-8*he+K),we=(1<<K)-1,Ne=(B&we)<<Ie;(function(Re,Ke,at){if(Ke+1<Re.byteLength)Re.setUint16(Ke,at,!1);else{var ut=at>>8&255;Re.setUint8(Ke,ut)}})(k,he,Qs(k,he)&~(we<<Ie)&65535|Ne)}function Qs(k,B){return B+1<k.byteLength?k.getUint16(B,!1):k.getUint8(B)<<8}function ji(k){var B=0;if(k[B++]!==71||k[B++]!==73||k[B++]!==70||k[B++]!==56||(k[B++]+1&253)!=56||k[B++]!==97)throw new Error("Invalid GIF 87a/89a header.");var P=k[B++]|k[B++]<<8,K=k[B++]|k[B++]<<8,se=k[B++],he=se>>7,Ie=1<<1+(7&se);k[B++],k[B++];var we=null,Ne=null;he&&(we=B,Ne=Ie,B+=3*Ie);var Re=!0,Ke=[],at=0,ut=null,Pe=0,Nt=null;for(this.width=P,this.height=K;Re&&B<k.length;)switch(k[B++]){case 33:switch(k[B++]){case 255:if(k[B]!==11||k[B+1]==78&&k[B+2]==69&&k[B+3]==84&&k[B+4]==83&&k[B+5]==67&&k[B+6]==65&&k[B+7]==80&&k[B+8]==69&&k[B+9]==50&&k[B+10]==46&&k[B+11]==48&&k[B+12]==3&&k[B+13]==1&&k[B+16]==0)B+=14,Nt=k[B++]|k[B++]<<8,B++;else for(B+=12;;){if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}break;case 249:if(k[B++]!==4||k[B+4]!==0)throw new Error("Invalid graphics extension block.");var bt=k[B++];at=k[B++]|k[B++]<<8,ut=k[B++],1&bt||(ut=null),Pe=bt>>2&7,B++;break;case 254:for(;;){if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}break;default:throw new Error("Unknown graphic control label: 0x"+k[B-1].toString(16))}break;case 44:var Et=k[B++]|k[B++]<<8,ot=k[B++]|k[B++]<<8,Ut=k[B++]|k[B++]<<8,rr=k[B++]|k[B++]<<8,Ot=k[B++],st=Ot>>6&1,Xt=1<<1+(7&Ot),pr=we,ar=Ne,Mt=!1;Ot>>7&&(Mt=!0,pr=B,ar=Xt,B+=3*Xt);var Ar=B;for(B++;;){var ct;if(!((ct=k[B++])>=0))throw Error("Invalid block size");if(ct===0)break;B+=ct}Ke.push({x:Et,y:ot,width:Ut,height:rr,has_local_palette:Mt,palette_offset:pr,palette_size:ar,data_offset:Ar,data_length:B-Ar,transparent_index:ut,interlaced:!!st,delay:at,disposal:Pe});break;case 59:Re=!1;break;default:throw new Error("Unknown gif block: 0x"+k[B-1].toString(16))}this.numFrames=function(){return Ke.length},this.loopCount=function(){return Nt},this.frameInfo=function(mt){if(mt<0||mt>=Ke.length)throw new Error("Frame index out of range.");return Ke[mt]},this.decodeAndBlitFrameBGRA=function(mt,Pt){var Dt=this.frameInfo(mt),gr=Dt.width*Dt.height,jr=new Uint8Array(gr);bi(k,Dt.data_offset,jr,gr);var Nr=Dt.palette_offset,ir=Dt.transparent_index;ir===null&&(ir=256);var wr=Dt.width,Yr=P-wr,zr=wr,et=4*(Dt.y*P+Dt.x),St=4*((Dt.y+Dt.height)*P+Dt.x),kt=et,Yt=4*Yr;Dt.interlaced===!0&&(Yt+=4*P*7);for(var tr=8,dr=0,br=jr.length;dr<br;++dr){var Cr=jr[dr];if(zr===0&&(zr=wr,(kt+=Yt)>=St&&(Yt=4*Yr+4*P*(tr-1),kt=et+(wr+Yr)*(tr<<1),tr>>=1)),Cr===ir)kt+=4;else{var Lr=k[Nr+3*Cr],Jr=k[Nr+3*Cr+1],jn=k[Nr+3*Cr+2];Pt[kt++]=jn,Pt[kt++]=Jr,Pt[kt++]=Lr,Pt[kt++]=255}--zr}},this.decodeAndBlitFrameRGBA=function(mt,Pt){var Dt=this.frameInfo(mt),gr=Dt.width*Dt.height,jr=new Uint8Array(gr);bi(k,Dt.data_offset,jr,gr);var Nr=Dt.palette_offset,ir=Dt.transparent_index;ir===null&&(ir=256);var wr=Dt.width,Yr=P-wr,zr=wr,et=4*(Dt.y*P+Dt.x),St=4*((Dt.y+Dt.height)*P+Dt.x),kt=et,Yt=4*Yr;Dt.interlaced===!0&&(Yt+=4*P*7);for(var tr=8,dr=0,br=jr.length;dr<br;++dr){var Cr=jr[dr];if(zr===0&&(zr=wr,(kt+=Yt)>=St&&(Yt=4*Yr+4*P*(tr-1),kt=et+(wr+Yr)*(tr<<1),tr>>=1)),Cr===ir)kt+=4;else{var Lr=k[Nr+3*Cr],Jr=k[Nr+3*Cr+1],jn=k[Nr+3*Cr+2];Pt[kt++]=Lr,Pt[kt++]=Jr,Pt[kt++]=jn,Pt[kt++]=255}--zr}}}function bi(k,B,P,K){for(var se=k[B++],he=1<<se,Ie=he+1,we=Ie+1,Ne=se+1,Re=(1<<Ne)-1,Ke=0,at=0,ut=0,Pe=k[B++],Nt=new Int32Array(4096),bt=null;;){for(;Ke<16&&Pe!==0;)at|=k[B++]<<Ke,Ke+=8,Pe===1?Pe=k[B++]:--Pe;if(Ke<Ne)break;var Et=at&Re;if(at>>=Ne,Ke-=Ne,Et!==he){if(Et===Ie)break;for(var ot=Et<we?Et:bt,Ut=0,rr=ot;rr>he;)rr=Nt[rr]>>8,++Ut;var Ot=rr;if(ut+Ut+(ot!==Et?1:0)>K)return void x.log("Warning, gif stream longer than expected.");P[ut++]=Ot;var st=ut+=Ut;for(ot!==Et&&(P[ut++]=Ot),rr=ot;Ut--;)rr=Nt[rr],P[--st]=255&rr,rr>>=8;bt!==null&&we<4096&&(Nt[we++]=bt<<8|Ot,we>=Re+1&&Ne<12&&(++Ne,Re=Re<<1|1)),bt=Et}else we=Ie+1,Re=(1<<(Ne=se+1))-1,bt=null}return ut!==K&&x.log("Warning, gif stream shorter than expected."),P}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function Po(k){var B,P,K,se,he,Ie=Math.floor,we=new Array(64),Ne=new Array(64),Re=new Array(64),Ke=new Array(64),at=new Array(65535),ut=new Array(65535),Pe=new Array(64),Nt=new Array(64),bt=[],Et=0,ot=7,Ut=new Array(64),rr=new Array(64),Ot=new Array(64),st=new Array(256),Xt=new Array(2048),pr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ar=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Mt=[0,1,2,3,4,5,6,7,8,9,10,11],Ar=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ct=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],mt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Pt=[0,1,2,3,4,5,6,7,8,9,10,11],Dt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],gr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function jr(et,St){for(var kt=0,Yt=0,tr=new Array,dr=1;dr<=16;dr++){for(var br=1;br<=et[dr];br++)tr[St[Yt]]=[],tr[St[Yt]][0]=kt,tr[St[Yt]][1]=dr,Yt++,kt++;kt*=2}return tr}function Nr(et){for(var St=et[0],kt=et[1]-1;kt>=0;)St&1<<kt&&(Et|=1<<ot),kt--,--ot<0&&(Et==255?(ir(255),ir(0)):ir(Et),ot=7,Et=0)}function ir(et){bt.push(et)}function wr(et){ir(et>>8&255),ir(255&et)}function Yr(et,St,kt,Yt,tr){for(var dr,br=tr[0],Cr=tr[240],Lr=(function(Gr,aa){var On,Xn,Fn,ps,Ua,_n,ss,sa,In,la,Tn=0;for(In=0;In<8;++In){On=Gr[Tn],Xn=Gr[Tn+1],Fn=Gr[Tn+2],ps=Gr[Tn+3],Ua=Gr[Tn+4],_n=Gr[Tn+5],ss=Gr[Tn+6];var ba=On+(sa=Gr[Tn+7]),cs=On-sa,Va=Xn+ss,za=Xn-ss,ti=Fn+_n,$n=Fn-_n,Ss=ps+Ua,ga=ps-Ua,Hn=ba+Ss,Es=ba-Ss,wa=Va+ti,Cn=Va-ti;Gr[Tn]=Hn+wa,Gr[Tn+4]=Hn-wa;var Ya=.707106781*(Cn+Es);Gr[Tn+2]=Es+Ya,Gr[Tn+6]=Es-Ya;var sd=.382683433*((Hn=ga+$n)-(Cn=za+cs)),$i=.5411961*Hn+sd,wo=1.306562965*Cn+sd,Bc=.707106781*(wa=$n+za),fa=cs+Bc,Ci=cs-Bc;Gr[Tn+5]=Ci+$i,Gr[Tn+3]=Ci-$i,Gr[Tn+1]=fa+wo,Gr[Tn+7]=fa-wo,Tn+=8}for(Tn=0,In=0;In<8;++In){On=Gr[Tn],Xn=Gr[Tn+8],Fn=Gr[Tn+16],ps=Gr[Tn+24],Ua=Gr[Tn+32],_n=Gr[Tn+40],ss=Gr[Tn+48];var Co=On+(sa=Gr[Tn+56]),kl=On-sa,Di=Xn+ss,Os=Xn-ss,Ti=Fn+_n,ho=Fn-_n,id=ps+Ua,Zi=ps-Ua,sl=Co+id,Ic=Co-id,tc=Di+Ti,eo=Di-Ti;Gr[Tn]=sl+tc,Gr[Tn+32]=sl-tc;var il=.707106781*(eo+Ic);Gr[Tn+16]=Ic+il,Gr[Tn+48]=Ic-il;var _l=.382683433*((sl=Zi+ho)-(eo=Os+kl)),Ko=.5411961*sl+_l,Ro=1.306562965*eo+_l,rc=.707106781*(tc=ho+Os),Ol=kl+rc,Tc=kl-rc;Gr[Tn+40]=Tc+Ko,Gr[Tn+24]=Tc-Ko,Gr[Tn+8]=Ol+Ro,Gr[Tn+56]=Ol-Ro,Tn++}for(In=0;In<64;++In)la=Gr[In]*aa[In],Pe[In]=la>0?la+.5|0:la-.5|0;return Pe})(et,St),Jr=0;Jr<64;++Jr)Nt[pr[Jr]]=Lr[Jr];var jn=Nt[0]-kt;kt=Nt[0],jn==0?Nr(Yt[0]):(Nr(Yt[ut[dr=32767+jn]]),Nr(at[dr]));for(var wn=63;wn>0&&Nt[wn]==0;)wn--;if(wn==0)return Nr(br),kt;for(var oa,pt=1;pt<=wn;){for(var hn=pt;Nt[pt]==0&&pt<=wn;)++pt;var ma=pt-hn;if(ma>=16){oa=ma>>4;for(var dn=1;dn<=oa;++dn)Nr(Cr);ma&=15}dr=32767+Nt[pt],Nr(tr[(ma<<4)+ut[dr]]),Nr(at[dr]),pt++}return wn!=63&&Nr(br),kt}function zr(et){et=Math.min(Math.max(et,1),100),he!=et&&((function(St){for(var kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Yt=0;Yt<64;Yt++){var tr=Ie((kt[Yt]*St+50)/100);tr=Math.min(Math.max(tr,1),255),we[pr[Yt]]=tr}for(var dr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],br=0;br<64;br++){var Cr=Ie((dr[br]*St+50)/100);Cr=Math.min(Math.max(Cr,1),255),Ne[pr[br]]=Cr}for(var Lr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Jr=0,jn=0;jn<8;jn++)for(var wn=0;wn<8;wn++)Re[Jr]=1/(we[pr[Jr]]*Lr[jn]*Lr[wn]*8),Ke[Jr]=1/(Ne[pr[Jr]]*Lr[jn]*Lr[wn]*8),Jr++})(et<50?Math.floor(5e3/et):Math.floor(200-2*et)),he=et)}this.encode=function(et,St){St&&zr(St),bt=new Array,Et=0,ot=7,wr(65496),wr(65504),wr(16),ir(74),ir(70),ir(73),ir(70),ir(0),ir(1),ir(1),ir(0),wr(1),wr(1),ir(0),ir(0),(function(){wr(65499),wr(132),ir(0);for(var Xn=0;Xn<64;Xn++)ir(we[Xn]);ir(1);for(var Fn=0;Fn<64;Fn++)ir(Ne[Fn])})(),(function(Xn,Fn){wr(65472),wr(17),ir(8),wr(Fn),wr(Xn),ir(3),ir(1),ir(17),ir(0),ir(2),ir(17),ir(1),ir(3),ir(17),ir(1)})(et.width,et.height),(function(){wr(65476),wr(418),ir(0);for(var Xn=0;Xn<16;Xn++)ir(ar[Xn+1]);for(var Fn=0;Fn<=11;Fn++)ir(Mt[Fn]);ir(16);for(var ps=0;ps<16;ps++)ir(Ar[ps+1]);for(var Ua=0;Ua<=161;Ua++)ir(ct[Ua]);ir(1);for(var _n=0;_n<16;_n++)ir(mt[_n+1]);for(var ss=0;ss<=11;ss++)ir(Pt[ss]);ir(17);for(var sa=0;sa<16;sa++)ir(Dt[sa+1]);for(var In=0;In<=161;In++)ir(gr[In])})(),wr(65498),wr(12),ir(3),ir(1),ir(0),ir(2),ir(17),ir(3),ir(17),ir(0),ir(63),ir(0);var kt=0,Yt=0,tr=0;Et=0,ot=7,this.encode.displayName="_encode_";for(var dr,br,Cr,Lr,Jr,jn,wn,oa,pt,hn=et.data,ma=et.width,dn=et.height,Gr=4*ma,aa=0;aa<dn;){for(dr=0;dr<Gr;){for(Jr=Gr*aa+dr,wn=-1,oa=0,pt=0;pt<64;pt++)jn=Jr+(oa=pt>>3)*Gr+(wn=4*(7&pt)),aa+oa>=dn&&(jn-=Gr*(aa+1+oa-dn)),dr+wn>=Gr&&(jn-=dr+wn-Gr+4),br=hn[jn++],Cr=hn[jn++],Lr=hn[jn++],Ut[pt]=(Xt[br]+Xt[Cr+256|0]+Xt[Lr+512|0]>>16)-128,rr[pt]=(Xt[br+768|0]+Xt[Cr+1024|0]+Xt[Lr+1280|0]>>16)-128,Ot[pt]=(Xt[br+1280|0]+Xt[Cr+1536|0]+Xt[Lr+1792|0]>>16)-128;kt=Yr(Ut,Re,kt,B,K),Yt=Yr(rr,Ke,Yt,P,se),tr=Yr(Ot,Ke,tr,P,se),dr+=32}aa+=8}if(ot>=0){var On=[];On[1]=ot+1,On[0]=(1<<ot+1)-1,Nr(On)}return wr(65497),new Uint8Array(bt)},k=k||50,(function(){for(var et=String.fromCharCode,St=0;St<256;St++)st[St]=et(St)})(),B=jr(ar,Mt),P=jr(mt,Pt),K=jr(Ar,ct),se=jr(Dt,gr),(function(){for(var et=1,St=2,kt=1;kt<=15;kt++){for(var Yt=et;Yt<St;Yt++)ut[32767+Yt]=kt,at[32767+Yt]=[],at[32767+Yt][1]=kt,at[32767+Yt][0]=Yt;for(var tr=-(St-1);tr<=-et;tr++)ut[32767+tr]=kt,at[32767+tr]=[],at[32767+tr][1]=kt,at[32767+tr][0]=St-1+tr;et<<=1,St<<=1}})(),(function(){for(var et=0;et<256;et++)Xt[et]=19595*et,Xt[et+256|0]=38470*et,Xt[et+512|0]=7471*et+32768,Xt[et+768|0]=-11059*et,Xt[et+1024|0]=-21709*et,Xt[et+1280|0]=32768*et+8421375,Xt[et+1536|0]=-27439*et,Xt[et+1792|0]=-5329*et})(),zr(k)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ds(k,B){if(this.pos=0,this.buffer=k,this.datav=new DataView(k.buffer),this.is_with_alpha=!!B,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uo(k){function B(Mt){if(!Mt)throw Error("assert :P")}function P(Mt,Ar,ct){for(var mt=0;4>mt;mt++)if(Mt[Ar+mt]!=ct.charCodeAt(mt))return!0;return!1}function K(Mt,Ar,ct,mt,Pt){for(var Dt=0;Dt<Pt;Dt++)Mt[Ar+Dt]=ct[mt+Dt]}function se(Mt,Ar,ct,mt){for(var Pt=0;Pt<mt;Pt++)Mt[Ar+Pt]=ct}function he(Mt){return new Int32Array(Mt)}function Ie(Mt,Ar){for(var ct=[],mt=0;mt<Mt;mt++)ct.push(new Ar);return ct}function we(Mt,Ar){var ct=[];return(function mt(Pt,Dt,gr){for(var jr=gr[Dt],Nr=0;Nr<jr&&(Pt.push(gr.length>Dt+1?[]:new Ar),!(gr.length<Dt+1));Nr++)mt(Pt[Nr],Dt+1,gr)})(ct,0,Mt),ct}var Ne=function(){var Mt=this;function Ar(O,ee){for(var Se=1<<ee-1>>>0;O&Se;)Se>>>=1;return Se?(O&Se-1)+Se:O}function ct(O,ee,Se,_e,Ve){B(!(_e%Se));do O[ee+(_e-=Se)]=Ve;while(0<_e)}function mt(O,ee,Se,_e,Ve){if(B(2328>=Ve),512>=Ve)var Xe=he(512);else if((Xe=he(Ve))==null)return 0;return(function(Je,rt,it,jt,Qt,cr){var vt,zt,sr=rt,Br=1<<it,ur=he(16),Tr=he(16);for(B(Qt!=0),B(jt!=null),B(Je!=null),B(0<it),zt=0;zt<Qt;++zt){if(15<jt[zt])return 0;++ur[jt[zt]]}if(ur[0]==Qt)return 0;for(Tr[1]=0,vt=1;15>vt;++vt){if(ur[vt]>1<<vt)return 0;Tr[vt+1]=Tr[vt]+ur[vt]}for(zt=0;zt<Qt;++zt)vt=jt[zt],0<jt[zt]&&(cr[Tr[vt]++]=zt);if(Tr[15]==1)return(jt=new Pt).g=0,jt.value=cr[0],ct(Je,sr,1,Br,jt),Br;var _r,Vr=-1,Fr=Br-1,Jn=0,kn=1,$a=1,xn=1<<it;for(zt=0,vt=1,Qt=2;vt<=it;++vt,Qt<<=1){if(kn+=$a<<=1,0>($a-=ur[vt]))return 0;for(;0<ur[vt];--ur[vt])(jt=new Pt).g=vt,jt.value=cr[zt++],ct(Je,sr+Jn,Qt,xn,jt),Jn=Ar(Jn,vt)}for(vt=it+1,Qt=2;15>=vt;++vt,Qt<<=1){if(kn+=$a<<=1,0>($a-=ur[vt]))return 0;for(;0<ur[vt];--ur[vt]){if(jt=new Pt,(Jn&Fr)!=Vr){for(sr+=xn,_r=1<<(Vr=vt)-it;15>Vr&&!(0>=(_r-=ur[Vr]));)++Vr,_r<<=1;Br+=xn=1<<(_r=Vr-it),Je[rt+(Vr=Jn&Fr)].g=_r+it,Je[rt+Vr].value=sr-rt-Vr}jt.g=vt-it,jt.value=cr[zt++],ct(Je,sr+(Jn>>it),Qt,xn,jt),Jn=Ar(Jn,vt)}}return kn!=2*Tr[15]-1?0:Br})(O,ee,Se,_e,Ve,Xe)}function Pt(){this.value=this.g=0}function Dt(){this.value=this.g=0}function gr(){this.G=Ie(5,Pt),this.H=he(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ie(Oa,Dt)}function jr(O,ee,Se,_e){B(O!=null),B(ee!=null),B(2147483648>_e),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=ee,O.pa=Se,O.Jd=ee,O.Yc=Se+_e,O.Zc=4<=_e?Se+_e-4+1:Se,br(O)}function Nr(O,ee){for(var Se=0;0<ee--;)Se|=Lr(O,128)<<ee;return Se}function ir(O,ee){var Se=Nr(O,ee);return Cr(O)?-Se:Se}function wr(O,ee,Se,_e){var Ve,Xe=0;for(B(O!=null),B(ee!=null),B(4294967288>_e),O.Sb=_e,O.Ra=0,O.u=0,O.h=0,4<_e&&(_e=4),Ve=0;Ve<_e;++Ve)Xe+=ee[Se+Ve]<<8*Ve;O.Ra=Xe,O.bb=_e,O.oa=ee,O.pa=Se}function Yr(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<So-8>>>0,++O.bb,O.u-=8;Yt(O)&&(O.h=1,O.u=0)}function zr(O,ee){if(B(0<=ee),!O.h&&ee<=ca){var Se=kt(O)&Mn[ee];return O.u+=ee,Yr(O),Se}return O.h=1,O.u=0}function et(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function St(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function kt(O){return O.Ra>>>(O.u&So-1)>>>0}function Yt(O){return B(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>So}function tr(O,ee){O.u=ee,O.h=Yt(O)}function dr(O){O.u>=lc&&(B(O.u>=lc),Yr(O))}function br(O){B(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(B(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function Cr(O){return Nr(O,1)}function Lr(O,ee){var Se=O.Ca;0>O.b&&br(O);var _e=O.b,Ve=Se*ee>>>8,Xe=(O.I>>>_e>Ve)+0;for(Xe?(Se-=Ve,O.I-=Ve+1<<_e>>>0):Se=Ve+1,_e=Se,Ve=0;256<=_e;)Ve+=8,_e>>=8;return _e=7^Ve+Uo[_e],O.b-=_e,O.Ca=(Se<<_e)-1,Xe}function Jr(O,ee,Se){O[ee+0]=Se>>24&255,O[ee+1]=Se>>16&255,O[ee+2]=Se>>8&255,O[ee+3]=255&Se}function jn(O,ee){return O[ee+0]|O[ee+1]<<8}function wn(O,ee){return jn(O,ee)|O[ee+2]<<16}function oa(O,ee){return jn(O,ee)|jn(O,ee+2)<<16}function pt(O,ee){var Se=1<<ee;return B(O!=null),B(0<ee),O.X=he(Se),O.X==null?0:(O.Mb=32-ee,O.Xa=ee,1)}function hn(O,ee){B(O!=null),B(ee!=null),B(O.Xa==ee.Xa),K(ee.X,0,O.X,0,1<<ee.Xa)}function ma(){this.X=[],this.Xa=this.Mb=0}function dn(O,ee,Se,_e){B(Se!=null),B(_e!=null);var Ve=Se[0],Xe=_e[0];return Ve==0&&(Ve=(O*Xe+ee/2)/ee),Xe==0&&(Xe=(ee*Ve+O/2)/O),0>=Ve||0>=Xe?0:(Se[0]=Ve,_e[0]=Xe,1)}function Gr(O,ee){return O+(1<<ee)-1>>>ee}function aa(O,ee){return((4278255360&O)+(4278255360&ee)>>>0&4278255360)+((16711935&O)+(16711935&ee)>>>0&16711935)>>>0}function On(O,ee){Mt[ee]=function(Se,_e,Ve,Xe,Je,rt,it){var jt;for(jt=0;jt<Je;++jt){var Qt=Mt[O](rt[it+jt-1],Ve,Xe+jt);rt[it+jt]=aa(Se[_e+jt],Qt)}}}function Xn(){this.ud=this.hd=this.jd=0}function Fn(O,ee){return((4278124286&(O^ee))>>>1)+(O&ee)>>>0}function ps(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function Ua(O,ee){return ps(O+(O-ee+.5>>1))}function _n(O,ee,Se){return Math.abs(ee-Se)-Math.abs(O-Se)}function ss(O,ee,Se,_e,Ve,Xe,Je){for(_e=Xe[Je-1],Se=0;Se<Ve;++Se)Xe[Je+Se]=_e=aa(O[ee+Se],_e)}function sa(O,ee,Se,_e,Ve){var Xe;for(Xe=0;Xe<Se;++Xe){var Je=O[ee+Xe],rt=Je>>8&255,it=16711935&(it=(it=16711935&Je)+((rt<<16)+rt));_e[Ve+Xe]=(4278255360&Je)+it>>>0}}function In(O,ee){ee.jd=255&O,ee.hd=O>>8&255,ee.ud=O>>16&255}function la(O,ee,Se,_e,Ve,Xe){var Je;for(Je=0;Je<_e;++Je){var rt=ee[Se+Je],it=rt>>>8,jt=rt,Qt=255&(Qt=(Qt=rt>>>16)+((O.jd<<24>>24)*(it<<24>>24)>>>5));jt=255&(jt=(jt+=(O.hd<<24>>24)*(it<<24>>24)>>>5)+((O.ud<<24>>24)*(Qt<<24>>24)>>>5)),Ve[Xe+Je]=(4278255360&rt)+(Qt<<16)+jt}}function Tn(O,ee,Se,_e,Ve){Mt[ee]=function(Xe,Je,rt,it,jt,Qt,cr,vt,zt){for(it=cr;it<vt;++it)for(cr=0;cr<zt;++cr)jt[Qt++]=Ve(rt[_e(Xe[Je++])])},Mt[O]=function(Xe,Je,rt,it,jt,Qt,cr){var vt=8>>Xe.b,zt=Xe.Ea,sr=Xe.K[0],Br=Xe.w;if(8>vt)for(Xe=(1<<Xe.b)-1,Br=(1<<vt)-1;Je<rt;++Je){var ur,Tr=0;for(ur=0;ur<zt;++ur)ur&Xe||(Tr=_e(it[jt++])),Qt[cr++]=Ve(sr[Tr&Br]),Tr>>=vt}else Mt["VP8LMapColor"+Se](it,jt,sr,Br,Qt,cr,Je,rt,zt)}}function ba(O,ee,Se,_e,Ve){for(Se=ee+Se;ee<Se;){var Xe=O[ee++];_e[Ve++]=Xe>>16&255,_e[Ve++]=Xe>>8&255,_e[Ve++]=255&Xe}}function cs(O,ee,Se,_e,Ve){for(Se=ee+Se;ee<Se;){var Xe=O[ee++];_e[Ve++]=Xe>>16&255,_e[Ve++]=Xe>>8&255,_e[Ve++]=255&Xe,_e[Ve++]=Xe>>24&255}}function Va(O,ee,Se,_e,Ve){for(Se=ee+Se;ee<Se;){var Xe=(Je=O[ee++])>>16&240|Je>>12&15,Je=240&Je|Je>>28&15;_e[Ve++]=Xe,_e[Ve++]=Je}}function za(O,ee,Se,_e,Ve){for(Se=ee+Se;ee<Se;){var Xe=(Je=O[ee++])>>16&248|Je>>13&7,Je=Je>>5&224|Je>>3&31;_e[Ve++]=Xe,_e[Ve++]=Je}}function ti(O,ee,Se,_e,Ve){for(Se=ee+Se;ee<Se;){var Xe=O[ee++];_e[Ve++]=255&Xe,_e[Ve++]=Xe>>8&255,_e[Ve++]=Xe>>16&255}}function $n(O,ee,Se,_e,Ve,Xe){if(Xe==0)for(Se=ee+Se;ee<Se;)Jr(_e,((Xe=O[ee++])[0]>>24|Xe[1]>>8&65280|Xe[2]<<8&16711680|Xe[3]<<24)>>>0),Ve+=32;else K(_e,Ve,O,ee,Se)}function Ss(O,ee){Mt[ee][0]=Mt[O+"0"],Mt[ee][1]=Mt[O+"1"],Mt[ee][2]=Mt[O+"2"],Mt[ee][3]=Mt[O+"3"],Mt[ee][4]=Mt[O+"4"],Mt[ee][5]=Mt[O+"5"],Mt[ee][6]=Mt[O+"6"],Mt[ee][7]=Mt[O+"7"],Mt[ee][8]=Mt[O+"8"],Mt[ee][9]=Mt[O+"9"],Mt[ee][10]=Mt[O+"10"],Mt[ee][11]=Mt[O+"11"],Mt[ee][12]=Mt[O+"12"],Mt[ee][13]=Mt[O+"13"],Mt[ee][14]=Mt[O+"0"],Mt[ee][15]=Mt[O+"0"]}function ga(O){return O==Of||O==Zh||O==Pd||O==Ff}function Hn(){this.eb=[],this.size=this.A=this.fb=0}function Es(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hn,this.f.kb=new Es,this.sd=null}function Cn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ya(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function sd(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function $i(O,ee){var Se=O.T,_e=ee.ba.f.RGBA,Ve=_e.eb,Xe=_e.fb+O.ka*_e.A,Je=hc[ee.ba.S],rt=O.y,it=O.O,jt=O.f,Qt=O.N,cr=O.ea,vt=O.W,zt=ee.cc,sr=ee.dc,Br=ee.Mc,ur=ee.Nc,Tr=O.ka,_r=O.ka+O.T,Vr=O.U,Fr=Vr+1>>1;for(Tr==0?Je(rt,it,null,null,jt,Qt,cr,vt,jt,Qt,cr,vt,Ve,Xe,null,null,Vr):(Je(ee.ec,ee.fc,rt,it,zt,sr,Br,ur,jt,Qt,cr,vt,Ve,Xe-_e.A,Ve,Xe,Vr),++Se);Tr+2<_r;Tr+=2)zt=jt,sr=Qt,Br=cr,ur=vt,Qt+=O.Rc,vt+=O.Rc,Xe+=2*_e.A,Je(rt,(it+=2*O.fa)-O.fa,rt,it,zt,sr,Br,ur,jt,Qt,cr,vt,Ve,Xe-_e.A,Ve,Xe,Vr);return it+=O.fa,O.j+_r<O.o?(K(ee.ec,ee.fc,rt,it,Vr),K(ee.cc,ee.dc,jt,Qt,Fr),K(ee.Mc,ee.Nc,cr,vt,Fr),Se--):1&_r||Je(rt,it,null,null,jt,Qt,cr,vt,jt,Qt,cr,vt,Ve,Xe+_e.A,null,null,Vr),Se}function wo(O,ee,Se){var _e=O.F,Ve=[O.J];if(_e!=null){var Xe=O.U,Je=ee.ba.S,rt=Je==po||Je==Pd;ee=ee.ba.f.RGBA;var it=[0],jt=O.ka;it[0]=O.T,O.Kb&&(jt==0?--it[0]:(--jt,Ve[0]-=O.width),O.j+O.ka+O.T==O.o&&(it[0]=O.o-O.j-jt));var Qt=ee.eb;jt=ee.fb+jt*ee.A,O=ll(_e,Ve[0],O.width,Xe,it,Qt,jt+(rt?0:3),ee.A),B(Se==it),O&&ga(Je)&&to(Qt,jt,rt,Xe,it,ee.A)}return 0}function Bc(O){var ee=O.ma,Se=ee.ba.S,_e=11>Se,Ve=Se==Yh||Se==jh||Se==po||Se==Su||Se==12||ga(Se);if(ee.memory=null,ee.Ib=null,ee.Jb=null,ee.Nd=null,!ri(ee.Oa,O,Ve?11:12))return 0;if(Ve&&ga(Se)&&ht(),O.da)alert("todo:use_scaling");else{if(_e){if(ee.Ib=sd,O.Kb){if(Se=O.U+1>>1,ee.memory=he(O.U+2*Se),ee.memory==null)return 0;ee.ec=ee.memory,ee.fc=0,ee.cc=ee.ec,ee.dc=ee.fc+O.U,ee.Mc=ee.cc,ee.Nc=ee.dc+Se,ee.Ib=$i,ht()}}else alert("todo:EmitYUV");Ve&&(ee.Jb=wo,_e&&Ze())}if(_e&&!BA){for(O=0;256>O;++O)IA[O]=89858*(O-128)+rh>>Iu,bl[O]=-22014*(O-128)+rh,Ql[O]=-45773*(O-128),TA[O]=113618*(O-128)+rh>>Iu;for(O=wh;O<Uf;++O)ee=76283*(O-16)+rh>>Iu,Hf[O-wh]=nc(ee,255),kA[O-wh]=nc(ee+8>>4,15);BA=1}return 1}function fa(O){var ee=O.ma,Se=O.U,_e=O.T;return B(!(1&O.ka)),0>=Se||0>=_e?0:(Se=ee.Ib(O,ee),ee.Jb!=null&&ee.Jb(O,ee,Se),ee.Dc+=Se,1)}function Ci(O){O.ma.memory=null}function Co(O,ee,Se,_e){return zr(O,8)!=47?0:(ee[0]=zr(O,14)+1,Se[0]=zr(O,14)+1,_e[0]=zr(O,1),zr(O,3)!=0?0:!O.h)}function kl(O,ee){if(4>O)return O+1;var Se=O-2>>1;return(2+(1&O)<<Se)+zr(ee,Se)+1}function Di(O,ee){return 120<ee?ee-120:1<=(Se=((Se=Cp[ee-1])>>4)*O+(8-(15&Se)))?Se:1;var Se}function Os(O,ee,Se){var _e=kt(Se),Ve=O[ee+=255&_e].g-8;return 0<Ve&&(tr(Se,Se.u+8),_e=kt(Se),ee+=O[ee].value,ee+=_e&(1<<Ve)-1),tr(Se,Se.u+O[ee].g),O[ee].value}function Ti(O,ee,Se){return Se.g+=O.g,Se.value+=O.value<<ee>>>0,B(8>=Se.g),O.g}function ho(O,ee,Se){var _e=O.xc;return B((ee=_e==0?0:O.vc[O.md*(Se>>_e)+(ee>>_e)])<O.Wb),O.Ya[ee]}function id(O,ee,Se,_e){var Ve=O.ab,Xe=O.c*ee,Je=O.C;ee=Je+ee;var rt=Se,it=_e;for(_e=O.Ta,Se=O.Ua;0<Ve--;){var jt=O.gc[Ve],Qt=Je,cr=ee,vt=rt,zt=it,sr=(it=_e,rt=Se,jt.Ea);switch(B(Qt<cr),B(cr<=jt.nc),jt.hc){case 2:Vi(vt,zt,(cr-Qt)*sr,it,rt);break;case 0:var Br=Qt,ur=cr,Tr=it,_r=rt,Vr=(xn=jt).Ea;Br==0&&(fo(vt,zt,null,null,1,Tr,_r),ss(vt,zt+1,0,0,Vr-1,Tr,_r+1),zt+=Vr,_r+=Vr,++Br);for(var Fr=1<<xn.b,Jn=Fr-1,kn=Gr(Vr,xn.b),$a=xn.K,xn=xn.w+(Br>>xn.b)*kn;Br<ur;){var ys=$a,cn=xn,Ra=1;for(cc(vt,zt,Tr,_r-Vr,1,Tr,_r);Ra<Vr;){var Rn=(Ra&~Jn)+Fr;Rn>Vr&&(Rn=Vr),(0,xh[ys[cn++]>>8&15])(vt,zt+ +Ra,Tr,_r+Ra-Vr,Rn-Ra,Tr,_r+Ra),Ra=Rn}zt+=Vr,_r+=Vr,++Br&Jn||(xn+=kn)}cr!=jt.nc&&K(it,rt-sr,it,rt+(cr-Qt-1)*sr,sr);break;case 1:for(sr=vt,ur=zt,Vr=(vt=jt.Ea)-(_r=vt&~(Tr=(zt=1<<jt.b)-1)),Br=Gr(vt,jt.b),Fr=jt.K,jt=jt.w+(Qt>>jt.b)*Br;Qt<cr;){for(Jn=Fr,kn=jt,$a=new Xn,xn=ur+_r,ys=ur+vt;ur<xn;)In(Jn[kn++],$a),Pc($a,sr,ur,zt,it,rt),ur+=zt,rt+=zt;ur<ys&&(In(Jn[kn++],$a),Pc($a,sr,ur,Vr,it,rt),ur+=Vr,rt+=Vr),++Qt&Tr||(jt+=Br)}break;case 3:if(vt==it&&zt==rt&&0<jt.b){for(ur=it,vt=sr=rt+(cr-Qt)*sr-(_r=(cr-Qt)*Gr(jt.Ea,jt.b)),zt=it,Tr=rt,Br=[],_r=(Vr=_r)-1;0<=_r;--_r)Br[_r]=zt[Tr+_r];for(_r=Vr-1;0<=_r;--_r)ur[vt+_r]=Br[_r];Gh(jt,Qt,cr,it,sr,it,rt)}else Gh(jt,Qt,cr,vt,zt,it,rt)}rt=_e,it=Se}it!=Se&&K(_e,Se,rt,it,Xe)}function Zi(O,ee){var Se=O.V,_e=O.Ba+O.c*O.C,Ve=ee-O.C;if(B(ee<=O.l.o),B(16>=Ve),0<Ve){var Xe=O.l,Je=O.Ta,rt=O.Ua,it=Xe.width;if(id(O,Ve,Se,_e),Ve=rt=[rt],B((Se=O.C)<(_e=ee)),B(Xe.v<Xe.va),_e>Xe.o&&(_e=Xe.o),Se<Xe.j){var jt=Xe.j-Se;Se=Xe.j,Ve[0]+=jt*it}if(Se>=_e?Se=0:(Ve[0]+=4*Xe.v,Xe.ka=Se-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=_e-Se,Se=1),Se){if(rt=rt[0],11>(Se=O.ca).S){var Qt=Se.f.RGBA,cr=(_e=Se.S,Ve=Xe.U,Xe=Xe.T,jt=Qt.eb,Qt.A),vt=Xe;for(Qt=Qt.fb+O.Ma*Qt.A;0<vt--;){var zt=Je,sr=rt,Br=Ve,ur=jt,Tr=Qt;switch(_e){case Zu:qc(zt,sr,Br,ur,Tr);break;case Yh:Xc(zt,sr,Br,ur,Tr);break;case Of:Xc(zt,sr,Br,ur,Tr),to(ur,Tr,0,Br,1,0);break;case Jh:wu(zt,sr,Br,ur,Tr);break;case jh:$n(zt,sr,Br,ur,Tr,1);break;case Zh:$n(zt,sr,Br,ur,Tr,1),to(ur,Tr,0,Br,1,0);break;case po:$n(zt,sr,Br,ur,Tr,0);break;case Pd:$n(zt,sr,Br,ur,Tr,0),to(ur,Tr,1,Br,1,0);break;case Su:Xd(zt,sr,Br,ur,Tr);break;case Ff:Xd(zt,sr,Br,ur,Tr),Xh(ur,Tr,Br,1,0);break;case yA:hd(zt,sr,Br,ur,Tr);break;default:B(0)}rt+=it,Qt+=cr}O.Ma+=Xe}else alert("todo:EmitRescaledRowsYUVA");B(O.Ma<=Se.height)}}O.C=ee,B(O.C<=O.i)}function sl(O){var ee;if(0<O.ua)return 0;for(ee=0;ee<O.Wb;++ee){var Se=O.Ya[ee].G,_e=O.Ya[ee].H;if(0<Se[1][_e[1]+0].g||0<Se[2][_e[2]+0].g||0<Se[3][_e[3]+0].g)return 0}return 1}function Ic(O,ee,Se,_e,Ve,Xe){if(O.Z!=0){var Je=O.qd,rt=O.rd;for(B(Qo[O.Z]!=null);ee<Se;++ee)Qo[O.Z](Je,rt,_e,Ve,_e,Ve,Xe),Je=_e,rt=Ve,Ve+=Xe;O.qd=Je,O.rd=rt}}function tc(O,ee){var Se=O.l.ma,_e=Se.Z==0||Se.Z==1?O.l.j:O.C;if(_e=O.C<_e?_e:O.C,B(ee<=O.l.o),ee>_e){var Ve=O.l.width,Xe=Se.ca,Je=Se.tb+Ve*_e,rt=O.V,it=O.Ba+O.c*_e,jt=O.gc;B(O.ab==1),B(jt[0].hc==3),ol(jt[0],_e,ee,rt,it,Xe,Je),Ic(Se,_e,ee,Xe,Je,Ve)}O.C=O.Ma=ee}function eo(O,ee,Se,_e,Ve,Xe,Je){var rt=O.$/_e,it=O.$%_e,jt=O.m,Qt=O.s,cr=Se+O.$,vt=cr;Ve=Se+_e*Ve;var zt=Se+_e*Xe,sr=280+Qt.ua,Br=O.Pb?rt:16777216,ur=0<Qt.ua?Qt.Wa:null,Tr=Qt.wc,_r=cr<zt?ho(Qt,it,rt):null;B(O.C<Xe),B(zt<=Ve);var Vr=!1;e:for(;;){for(;Vr||cr<zt;){var Fr=0;if(rt>=Br){var Jn=cr-Se;B((Br=O).Pb),Br.wd=Br.m,Br.xd=Jn,0<Br.s.ua&&hn(Br.s.Wa,Br.s.vb),Br=rt+wA}if(it&Tr||(_r=ho(Qt,it,rt)),B(_r!=null),_r.Qb&&(ee[cr]=_r.qb,Vr=!0),!Vr)if(dr(jt),_r.jc){Fr=jt,Jn=ee;var kn=cr,$a=_r.pd[kt(Fr)&Oa-1];B(_r.jc),256>$a.g?(tr(Fr,Fr.u+$a.g),Jn[kn]=$a.value,Fr=0):(tr(Fr,Fr.u+$a.g-256),B(256<=$a.value),Fr=$a.value),Fr==0&&(Vr=!0)}else Fr=Os(_r.G[0],_r.H[0],jt);if(jt.h)break;if(Vr||256>Fr){if(!Vr)if(_r.nd)ee[cr]=(_r.qb|Fr<<8)>>>0;else{if(dr(jt),Vr=Os(_r.G[1],_r.H[1],jt),dr(jt),Jn=Os(_r.G[2],_r.H[2],jt),kn=Os(_r.G[3],_r.H[3],jt),jt.h)break;ee[cr]=(kn<<24|Vr<<16|Fr<<8|Jn)>>>0}if(Vr=!1,++cr,++it>=_e&&(it=0,++rt,Je!=null&&rt<=Xe&&!(rt%16)&&Je(O,rt),ur!=null))for(;vt<cr;)Fr=ee[vt++],ur.X[(506832829*Fr&4294967295)>>>ur.Mb]=Fr}else if(280>Fr){if(Fr=kl(Fr-256,jt),Jn=Os(_r.G[4],_r.H[4],jt),dr(jt),Jn=Di(_e,Jn=kl(Jn,jt)),jt.h)break;if(cr-Se<Jn||Ve-cr<Fr)break e;for(kn=0;kn<Fr;++kn)ee[cr+kn]=ee[cr+kn-Jn];for(cr+=Fr,it+=Fr;it>=_e;)it-=_e,++rt,Je!=null&&rt<=Xe&&!(rt%16)&&Je(O,rt);if(B(cr<=Ve),it&Tr&&(_r=ho(Qt,it,rt)),ur!=null)for(;vt<cr;)Fr=ee[vt++],ur.X[(506832829*Fr&4294967295)>>>ur.Mb]=Fr}else{if(!(Fr<sr))break e;for(Vr=Fr-280,B(ur!=null);vt<cr;)Fr=ee[vt++],ur.X[(506832829*Fr&4294967295)>>>ur.Mb]=Fr;Fr=cr,B(!(Vr>>>(Jn=ur).Xa)),ee[Fr]=Jn.X[Vr],Vr=!0}Vr||B(jt.h==Yt(jt))}if(O.Pb&&jt.h&&cr<Ve)B(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&hn(O.s.vb,O.s.Wa);else{if(jt.h)break e;Je!=null&&Je(O,rt>Xe?Xe:rt),O.a=0,O.$=cr-Se}return 1}return O.a=3,0}function il(O){B(O!=null),O.vc=null,O.yc=null,O.Ya=null;var ee=O.Wa;ee!=null&&(ee.X=null),O.vb=null,B(O!=null)}function _l(){var O=new Aa;return O==null?null:(O.a=0,O.xb=NA,Ss("Predictor","VP8LPredictors"),Ss("Predictor","VP8LPredictors_C"),Ss("PredictorAdd","VP8LPredictorsAdd"),Ss("PredictorAdd","VP8LPredictorsAdd_C"),Vi=sa,Pc=la,qc=ba,Xc=cs,Xd=Va,hd=za,wu=ti,Mt.VP8LMapColor32b=Jo,Mt.VP8LMapColor8b=Ju,O)}function Ko(O,ee,Se,_e,Ve){var Xe=1,Je=[O],rt=[ee],it=_e.m,jt=_e.s,Qt=null,cr=0;e:for(;;){if(Se)for(;Xe&&zr(it,1);){var vt=Je,zt=rt,sr=_e,Br=1,ur=sr.m,Tr=sr.gc[sr.ab],_r=zr(ur,2);if(sr.Oc&1<<_r)Xe=0;else{switch(sr.Oc|=1<<_r,Tr.hc=_r,Tr.Ea=vt[0],Tr.nc=zt[0],Tr.K=[null],++sr.ab,B(4>=sr.ab),_r){case 0:case 1:Tr.b=zr(ur,3)+2,Br=Ko(Gr(Tr.Ea,Tr.b),Gr(Tr.nc,Tr.b),0,sr,Tr.K),Tr.K=Tr.K[0];break;case 3:var Vr,Fr=zr(ur,8)+1,Jn=16<Fr?0:4<Fr?1:2<Fr?2:3;if(vt[0]=Gr(Tr.Ea,Jn),Tr.b=Jn,Vr=Br=Ko(Fr,1,0,sr,Tr.K)){var kn,$a=Fr,xn=Tr,ys=1<<(8>>xn.b),cn=he(ys);if(cn==null)Vr=0;else{var Ra=xn.K[0],Rn=xn.w;for(cn[0]=xn.K[0][0],kn=1;kn<1*$a;++kn)cn[kn]=aa(Ra[Rn+kn],cn[kn-1]);for(;kn<4*ys;++kn)cn[kn]=0;xn.K[0]=null,xn.K[0]=cn,Vr=1}}Br=Vr;break;case 2:break;default:B(0)}Xe=Br}}if(Je=Je[0],rt=rt[0],Xe&&zr(it,1)&&!(Xe=1<=(cr=zr(it,4))&&11>=cr)){_e.a=3;break e}var An;if(An=Xe)t:{var mo,Fa,fs,Ai=_e,Bo=Je,Zo=rt,Ri=cr,el=Se,ul=Ai.m,ms=Ai.s,Ga=[null],gs=1,zi=0,$s=Np[Ri];r:for(;;){if(el&&zr(ul,1)){var pi=zr(ul,3)+2,fc=Gr(Bo,pi),Vs=Gr(Zo,pi),wl=fc*Vs;if(!Ko(fc,Vs,0,Ai,Ga))break r;for(Ga=Ga[0],ms.xc=pi,mo=0;mo<wl;++mo){var ai=Ga[mo]>>8&65535;Ga[mo]=ai,ai>=gs&&(gs=ai+1)}}if(ul.h)break r;for(Fa=0;5>Fa;++Fa){var tn=jA[Fa];!Fa&&0<Ri&&(tn+=1<<Ri),zi<tn&&(zi=tn)}var Wo=Ie(gs*$s,Pt),$o=gs,Li=Ie($o,gr);if(Li==null)var Cl=null;else B(65536>=$o),Cl=Li;var Ha=he(zi);if(Cl==null||Ha==null||Wo==null){Ai.a=1;break r}var Pa=Wo;for(mo=fs=0;mo<gs;++mo){var Gn=Cl[mo],zs=Gn.G,Is=Gn.H,Gi=0,Ui=1,ro=0;for(Fa=0;5>Fa;++Fa){tn=jA[Fa],zs[Fa]=Pa,Is[Fa]=fs,!Fa&&0<Ri&&(tn+=1<<Ri);a:{var no,Tu=tn,Dd=Ai,Zd=Ha,_A=Pa,Nh=fs,hl=0,Jc=Dd.m,nh=zr(Jc,1);if(se(Zd,0,0,Tu),nh){var eu=zr(Jc,1)+1,sf=zr(Jc,1),$f=zr(Jc,sf==0?1:8);Zd[$f]=1,eu==2&&(Zd[$f=zr(Jc,8)]=1);var md=1}else{var of=he(19),Zc=zr(Jc,4)+4;if(19<Zc){Dd.a=3;var tl=0;break a}for(no=0;no<Zc;++no)of[wp[no]]=zr(Jc,3);var ku=void 0,Md=void 0,lf=Dd,Vf=of,Io=Tu,Ac=Zd,Nl=0,go=lf.m,_u=8,zf=Ie(128,Pt);n:for(;mt(zf,0,7,Vf,19);){if(zr(go,1)){var OA=2+2*zr(go,3);if((ku=2+zr(go,OA))>Io)break n}else ku=Io;for(Md=0;Md<Io&&ku--;){dr(go);var FA=zf[0+(127&kt(go))];tr(go,go.u+FA.g);var Mc=FA.value;if(16>Mc)Ac[Md++]=Mc,Mc!=0&&(_u=Mc);else{var PA=Mc==16,Gf=Mc-16,ah=Df[Gf],Kf=zr(go,Pf[Gf])+ah;if(Md+Kf>Io)break n;for(var sh=PA?_u:0;0<Kf--;)Ac[Md++]=sh}}Nl=1;break n}Nl||(lf.a=3),md=Nl}(md=md&&!Jc.h)&&(hl=mt(_A,Nh,8,Zd,Tu)),md&&hl!=0?tl=hl:(Dd.a=3,tl=0)}if(tl==0)break r;if(Ui&&bA[Fa]==1&&(Ui=Pa[fs].g==0),Gi+=Pa[fs].g,fs+=tl,3>=Fa){var Sh,qf=Ha[0];for(Sh=1;Sh<tn;++Sh)Ha[Sh]>qf&&(qf=Ha[Sh]);ro+=qf}}if(Gn.nd=Ui,Gn.Qb=0,Ui&&(Gn.qb=(zs[3][Is[3]+0].value<<24|zs[1][Is[1]+0].value<<16|zs[2][Is[2]+0].value)>>>0,Gi==0&&256>zs[0][Is[0]+0].value&&(Gn.Qb=1,Gn.qb+=zs[0][Is[0]+0].value<<8)),Gn.jc=!Gn.Qb&&6>ro,Gn.jc){var Eh,ed=Gn;for(Eh=0;Eh<Oa;++Eh){var Ou=Eh,Fu=ed.pd[Ou],cf=ed.G[0][ed.H[0]+Ou];256<=cf.value?(Fu.g=cf.g+256,Fu.value=cf.value):(Fu.g=0,Fu.value=0,Ou>>=Ti(cf,8,Fu),Ou>>=Ti(ed.G[1][ed.H[1]+Ou],16,Fu),Ou>>=Ti(ed.G[2][ed.H[2]+Ou],0,Fu),Ti(ed.G[3][ed.H[3]+Ou],24,Fu))}}}ms.vc=Ga,ms.Wb=gs,ms.Ya=Cl,ms.yc=Wo,An=1;break t}An=0}if(!(Xe=An)){_e.a=3;break e}if(0<cr){if(jt.ua=1<<cr,!pt(jt.Wa,cr)){_e.a=1,Xe=0;break e}}else jt.ua=0;var Xf=_e,Pu=Je,$m=rt,F=Xf.s,T=F.xc;if(Xf.c=Pu,Xf.i=$m,F.md=Gr(Pu,T),F.wc=T==0?-1:(1<<T)-1,Se){_e.xb=Sp;break e}if((Qt=he(Je*rt))==null){_e.a=1,Xe=0;break e}Xe=(Xe=eo(_e,Qt,0,Je,rt,rt,null))&&!it.h;break e}return Xe?(Ve!=null?Ve[0]=Qt:(B(Qt==null),B(Se)),_e.$=0,Se||il(jt)):il(jt),Xe}function Ro(O,ee){var Se=O.c*O.i,_e=Se+ee+16*ee;return B(O.c<=ee),O.V=he(_e),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+Se+ee,1)}function rc(O,ee){var Se=O.C,_e=ee-Se,Ve=O.V,Xe=O.Ba+O.c*Se;for(B(ee<=O.l.o);0<_e;){var Je=16<_e?16:_e,rt=O.l.ma,it=O.l.width,jt=it*Je,Qt=rt.ca,cr=rt.tb+it*Se,vt=O.Ta,zt=O.Ua;id(O,Je,Ve,Xe),Nu(vt,zt,Qt,cr,jt),Ic(rt,Se,Se+Je,Qt,cr,it),_e-=Je,Ve+=Je*O.c,Se+=Je}B(Se==ee),O.C=O.Ma=ee}function Ol(){this.ub=this.yd=this.td=this.Rb=0}function Tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pu(){this.Fb=this.Bb=this.Cb=0,this.Zb=he(4),this.Lb=he(4)}function Vc(){this.Yb=(function(){var O=[];return(function ee(Se,_e,Ve){for(var Xe=Ve[_e],Je=0;Je<Xe&&(Se.push(Ve.length>_e+1?[]:0),!(Ve.length<_e+1));Je++)ee(Se[Je],_e+1,Ve)})(O,0,[3,11]),O})()}function mu(){this.jb=he(3),this.Wc=we([4,8],Vc),this.Xc=we([4,17],Vc)}function od(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new he(4),this.od=new he(4)}function qo(){this.ld=this.La=this.dd=this.tc=0}function ld(){this.Na=this.la=0}function Sd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $d(){this.ad=he(384),this.Za=0,this.Ob=he(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new qo),this.Y=0,this.ya=Array(new $d),this.aa=0,this.l=new Gd}function Vd(){this.y=he(16),this.f=he(8),this.ea=he(8)}function zd(){this.cb=this.a=0,this.sc="",this.m=new et,this.Od=new Ol,this.Kc=new Tc,this.ed=new od,this.Qa=new pu,this.Ic=this.$c=this.Aa=0,this.D=new Fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ie(8,et),this.ia=0,this.pb=Ie(4,Sd),this.Pa=new mu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vd),this.Hd=0,this.rb=Array(new ld),this.sb=0,this.wa=Array(new qo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $d),this.L=this.aa=0,this.gd=we([4,2],qo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nc(O,ee){return 0>O?0:O>ee?ee:O}function Gd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ed(){var O=new zd;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,eh||(eh=xs)),O}function ya(O,ee,Se){return O.a==0&&(O.a=ee,O.sc=Se,O.cb=0),0}function gu(O,ee,Se){return 3<=Se&&O[ee+0]==157&&O[ee+1]==1&&O[ee+2]==42}function ac(O,ee){if(O==null)return 0;if(O.a=0,O.sc="OK",ee==null)return ya(O,2,"null VP8Io passed to VP8GetHeaders()");var Se=ee.data,_e=ee.w,Ve=ee.ha;if(4>Ve)return ya(O,7,"Truncated header.");var Xe=Se[_e+0]|Se[_e+1]<<8|Se[_e+2]<<16,Je=O.Od;if(Je.Rb=!(1&Xe),Je.td=Xe>>1&7,Je.yd=Xe>>4&1,Je.ub=Xe>>5,3<Je.td)return ya(O,3,"Incorrect keyframe parameters.");if(!Je.yd)return ya(O,4,"Frame not displayable.");_e+=3,Ve-=3;var rt=O.Kc;if(Je.Rb){if(7>Ve)return ya(O,7,"cannot parse picture header");if(!gu(Se,_e,Ve))return ya(O,3,"Bad code word");rt.c=16383&(Se[_e+4]<<8|Se[_e+3]),rt.Td=Se[_e+4]>>6,rt.i=16383&(Se[_e+6]<<8|Se[_e+5]),rt.Ud=Se[_e+6]>>6,_e+=7,Ve-=7,O.za=rt.c+15>>4,O.Ub=rt.i+15>>4,ee.width=rt.c,ee.height=rt.i,ee.Da=0,ee.j=0,ee.v=0,ee.va=ee.width,ee.o=ee.height,ee.da=0,ee.ib=ee.width,ee.hb=ee.height,ee.U=ee.width,ee.T=ee.height,se((Xe=O.Pa).jb,0,255,Xe.jb.length),B((Xe=O.Qa)!=null),Xe.Cb=0,Xe.Bb=0,Xe.Fb=1,se(Xe.Zb,0,0,Xe.Zb.length),se(Xe.Lb,0,0,Xe.Lb)}if(Je.ub>Ve)return ya(O,7,"bad partition length");jr(Xe=O.m,Se,_e,Je.ub),_e+=Je.ub,Ve-=Je.ub,Je.Rb&&(rt.Ld=Cr(Xe),rt.Kd=Cr(Xe)),rt=O.Qa;var it,jt=O.Pa;if(B(Xe!=null),B(rt!=null),rt.Cb=Cr(Xe),rt.Cb){if(rt.Bb=Cr(Xe),Cr(Xe)){for(rt.Fb=Cr(Xe),it=0;4>it;++it)rt.Zb[it]=Cr(Xe)?ir(Xe,7):0;for(it=0;4>it;++it)rt.Lb[it]=Cr(Xe)?ir(Xe,6):0}if(rt.Bb)for(it=0;3>it;++it)jt.jb[it]=Cr(Xe)?Nr(Xe,8):255}else rt.Bb=0;if(Xe.Ka)return ya(O,3,"cannot parse segment header");if((rt=O.ed).zd=Cr(Xe),rt.Tb=Nr(Xe,6),rt.wb=Nr(Xe,3),rt.Pc=Cr(Xe),rt.Pc&&Cr(Xe)){for(jt=0;4>jt;++jt)Cr(Xe)&&(rt.vd[jt]=ir(Xe,6));for(jt=0;4>jt;++jt)Cr(Xe)&&(rt.od[jt]=ir(Xe,6))}if(O.L=rt.Tb==0?0:rt.zd?1:2,Xe.Ka)return ya(O,3,"cannot parse filter header");var Qt=Ve;if(Ve=it=_e,_e=it+Qt,rt=Qt,O.Xb=(1<<Nr(O.m,2))-1,Qt<3*(jt=O.Xb))Se=7;else{for(it+=3*jt,rt-=3*jt,Qt=0;Qt<jt;++Qt){var cr=Se[Ve+0]|Se[Ve+1]<<8|Se[Ve+2]<<16;cr>rt&&(cr=rt),jr(O.Jc[+Qt],Se,it,cr),it+=cr,rt-=cr,Ve+=3}jr(O.Jc[+jt],Se,it,rt),Se=it<_e?0:5}if(Se!=0)return ya(O,Se,"cannot parse partitions");for(Se=Nr(it=O.m,7),Ve=Cr(it)?ir(it,4):0,_e=Cr(it)?ir(it,4):0,rt=Cr(it)?ir(it,4):0,jt=Cr(it)?ir(it,4):0,it=Cr(it)?ir(it,4):0,Qt=O.Qa,cr=0;4>cr;++cr){if(Qt.Cb){var vt=Qt.Zb[cr];Qt.Fb||(vt+=Se)}else{if(0<cr){O.pb[cr]=O.pb[0];continue}vt=Se}var zt=O.pb[cr];zt.Sc[0]=bh[nc(vt+Ve,127)],zt.Sc[1]=ef[nc(vt+0,127)],zt.Eb[0]=2*bh[nc(vt+_e,127)],zt.Eb[1]=101581*ef[nc(vt+rt,127)]>>16,8>zt.Eb[1]&&(zt.Eb[1]=8),zt.Qc[0]=bh[nc(vt+jt,117)],zt.Qc[1]=ef[nc(vt+it,127)],zt.lc=vt+it}if(!Je.Rb)return ya(O,4,"Not a key frame.");for(Cr(Xe),Je=O.Pa,Se=0;4>Se;++Se){for(Ve=0;8>Ve;++Ve)for(_e=0;3>_e;++_e)for(rt=0;11>rt;++rt)jt=Lr(Xe,tf[Se][Ve][_e][rt])?Nr(Xe,8):Qm[Se][Ve][_e][rt],Je.Wc[Se][Ve].Yb[_e][rt]=jt;for(Ve=0;17>Ve;++Ve)Je.Xc[Se][Ve]=Je.Wc[Se][rf[Ve]]}return O.kc=Cr(Xe),O.kc&&(O.Bd=Nr(Xe,8)),O.cb=1}function xs(O,ee,Se,_e,Ve,Xe,Je){var rt=ee[Ve].Yb[Se];for(Se=0;16>Ve;++Ve){if(!Lr(O,rt[Se+0]))return Ve;for(;!Lr(O,rt[Se+1]);)if(rt=ee[++Ve].Yb[0],Se=0,Ve==16)return 16;var it=ee[Ve+1].Yb;if(Lr(O,rt[Se+2])){var jt=O,Qt=0;if(Lr(jt,(vt=rt)[(cr=Se)+3]))if(Lr(jt,vt[cr+6])){for(rt=0,cr=2*(Qt=Lr(jt,vt[cr+8]))+(vt=Lr(jt,vt[cr+9+Qt])),Qt=0,vt=Mf[cr];vt[rt];++rt)Qt+=Qt+Lr(jt,vt[rt]);Qt+=3+(8<<cr)}else Lr(jt,vt[cr+7])?(Qt=7+2*Lr(jt,165),Qt+=Lr(jt,145)):Qt=5+Lr(jt,159);else Qt=Lr(jt,vt[cr+4])?3+Lr(jt,vt[cr+5]):2;rt=it[2]}else Qt=1,rt=it[1];it=Je+Hm[Ve],0>(jt=O).b&&br(jt);var cr,vt=jt.b,zt=(cr=jt.Ca>>1)-(jt.I>>vt)>>31;--jt.b,jt.Ca+=zt,jt.Ca|=1,jt.I-=(cr+1&zt)<<vt,Xe[it]=((Qt^zt)-zt)*_e[(0<Ve)+0]}return 16}function vu(O){var ee=O.rb[O.sb-1];ee.la=0,ee.Na=0,se(O.zc,0,0,O.zc.length),O.ja=0}function vl(O,ee,Se,_e,Ve){Ve=O[ee+Se+32*_e]+(Ve>>3),O[ee+Se+32*_e]=-256&Ve?0>Ve?0:255:Ve}function ki(O,ee,Se,_e,Ve,Xe){vl(O,ee,0,Se,_e+Ve),vl(O,ee,1,Se,_e+Xe),vl(O,ee,2,Se,_e-Xe),vl(O,ee,3,Se,_e-Ve)}function kc(O){return(20091*O>>16)+O}function cd(O,ee,Se,_e){var Ve,Xe=0,Je=he(16);for(Ve=0;4>Ve;++Ve){var rt=O[ee+0]+O[ee+8],it=O[ee+0]-O[ee+8],jt=(35468*O[ee+4]>>16)-kc(O[ee+12]),Qt=kc(O[ee+4])+(35468*O[ee+12]>>16);Je[Xe+0]=rt+Qt,Je[Xe+1]=it+jt,Je[Xe+2]=it-jt,Je[Xe+3]=rt-Qt,Xe+=4,ee++}for(Ve=Xe=0;4>Ve;++Ve)rt=(O=Je[Xe+0]+4)+Je[Xe+8],it=O-Je[Xe+8],jt=(35468*Je[Xe+4]>>16)-kc(Je[Xe+12]),vl(Se,_e,0,0,rt+(Qt=kc(Je[Xe+4])+(35468*Je[Xe+12]>>16))),vl(Se,_e,1,0,it+jt),vl(Se,_e,2,0,it-jt),vl(Se,_e,3,0,rt-Qt),Xe++,_e+=32}function Pl(O,ee,Se,_e){var Ve=O[ee+0]+4,Xe=35468*O[ee+4]>>16,Je=kc(O[ee+4]),rt=35468*O[ee+1]>>16;ki(Se,_e,0,Ve+Je,O=kc(O[ee+1]),rt),ki(Se,_e,1,Ve+Xe,O,rt),ki(Se,_e,2,Ve-Xe,O,rt),ki(Se,_e,3,Ve-Je,O,rt)}function Kd(O,ee,Se,_e,Ve){cd(O,ee,Se,_e),Ve&&cd(O,ee+16,Se,_e+4)}function Xo(O,ee,Se,_e){jl(O,ee+0,Se,_e,1),jl(O,ee+32,Se,_e+128,1)}function xu(O,ee,Se,_e){var Ve;for(O=O[ee+0]+4,Ve=0;4>Ve;++Ve)for(ee=0;4>ee;++ee)vl(Se,_e,ee,Ve,O)}function Bd(O,ee,Se,_e){O[ee+0]&&us(O,ee+0,Se,_e),O[ee+16]&&us(O,ee+16,Se,_e+4),O[ee+32]&&us(O,ee+32,Se,_e+128),O[ee+48]&&us(O,ee+48,Se,_e+128+4)}function yu(O,ee,Se,_e){var Ve,Xe=he(16);for(Ve=0;4>Ve;++Ve){var Je=O[ee+0+Ve]+O[ee+12+Ve],rt=O[ee+4+Ve]+O[ee+8+Ve],it=O[ee+4+Ve]-O[ee+8+Ve],jt=O[ee+0+Ve]-O[ee+12+Ve];Xe[0+Ve]=Je+rt,Xe[8+Ve]=Je-rt,Xe[4+Ve]=jt+it,Xe[12+Ve]=jt-it}for(Ve=0;4>Ve;++Ve)Je=(O=Xe[0+4*Ve]+3)+Xe[3+4*Ve],rt=Xe[1+4*Ve]+Xe[2+4*Ve],it=Xe[1+4*Ve]-Xe[2+4*Ve],jt=O-Xe[3+4*Ve],Se[_e+0]=Je+rt>>3,Se[_e+16]=jt+it>>3,Se[_e+32]=Je-rt>>3,Se[_e+48]=jt-it>>3,_e+=64}function dd(O,ee,Se){var _e,Ve=ee-32,Xe=dl,Je=255-O[Ve-1];for(_e=0;_e<Se;++_e){var rt,it=Xe,jt=Je+O[ee-1];for(rt=0;rt<Se;++rt)O[ee+rt]=it[jt+O[Ve+rt]];ee+=32}}function Id(O,ee){dd(O,ee,4)}function Td(O,ee){dd(O,ee,8)}function kd(O,ee){dd(O,ee,16)}function _d(O,ee){var Se;for(Se=0;16>Se;++Se)K(O,ee+32*Se,O,ee-32,16)}function ju(O,ee){var Se;for(Se=16;0<Se;--Se)se(O,ee,O[ee-1],16),ee+=32}function Dl(O,ee,Se){var _e;for(_e=0;16>_e;++_e)se(ee,Se+32*_e,O,16)}function Vh(O,ee){var Se,_e=16;for(Se=0;16>Se;++Se)_e+=O[ee-1+32*Se]+O[ee+Se-32];Dl(_e>>5,O,ee)}function Od(O,ee){var Se,_e=8;for(Se=0;16>Se;++Se)_e+=O[ee-1+32*Se];Dl(_e>>4,O,ee)}function Ku(O,ee){var Se,_e=8;for(Se=0;16>Se;++Se)_e+=O[ee+Se-32];Dl(_e>>4,O,ee)}function zh(O,ee){Dl(128,O,ee)}function Ca(O,ee,Se){return O+2*ee+Se+2>>2}function zc(O,ee){var Se,_e=ee-32;for(_e=new Uint8Array([Ca(O[_e-1],O[_e+0],O[_e+1]),Ca(O[_e+0],O[_e+1],O[_e+2]),Ca(O[_e+1],O[_e+2],O[_e+3]),Ca(O[_e+2],O[_e+3],O[_e+4])]),Se=0;4>Se;++Se)K(O,ee+32*Se,_e,0,_e.length)}function vh(O,ee){var Se=O[ee-1],_e=O[ee-1+32],Ve=O[ee-1+64],Xe=O[ee-1+96];Jr(O,ee+0,16843009*Ca(O[ee-1-32],Se,_e)),Jr(O,ee+32,16843009*Ca(Se,_e,Ve)),Jr(O,ee+64,16843009*Ca(_e,Ve,Xe)),Jr(O,ee+96,16843009*Ca(Ve,Xe,Xe))}function _c(O,ee){var Se,_e=4;for(Se=0;4>Se;++Se)_e+=O[ee+Se-32]+O[ee-1+32*Se];for(_e>>=3,Se=0;4>Se;++Se)se(O,ee+32*Se,_e,4)}function No(O,ee){var Se=O[ee-1+0],_e=O[ee-1+32],Ve=O[ee-1+64],Xe=O[ee-1-32],Je=O[ee+0-32],rt=O[ee+1-32],it=O[ee+2-32],jt=O[ee+3-32];O[ee+0+96]=Ca(_e,Ve,O[ee-1+96]),O[ee+1+96]=O[ee+0+64]=Ca(Se,_e,Ve),O[ee+2+96]=O[ee+1+64]=O[ee+0+32]=Ca(Xe,Se,_e),O[ee+3+96]=O[ee+2+64]=O[ee+1+32]=O[ee+0+0]=Ca(Je,Xe,Se),O[ee+3+64]=O[ee+2+32]=O[ee+1+0]=Ca(rt,Je,Xe),O[ee+3+32]=O[ee+2+0]=Ca(it,rt,Je),O[ee+3+0]=Ca(jt,it,rt)}function Ml(O,ee){var Se=O[ee+1-32],_e=O[ee+2-32],Ve=O[ee+3-32],Xe=O[ee+4-32],Je=O[ee+5-32],rt=O[ee+6-32],it=O[ee+7-32];O[ee+0+0]=Ca(O[ee+0-32],Se,_e),O[ee+1+0]=O[ee+0+32]=Ca(Se,_e,Ve),O[ee+2+0]=O[ee+1+32]=O[ee+0+64]=Ca(_e,Ve,Xe),O[ee+3+0]=O[ee+2+32]=O[ee+1+64]=O[ee+0+96]=Ca(Ve,Xe,Je),O[ee+3+32]=O[ee+2+64]=O[ee+1+96]=Ca(Xe,Je,rt),O[ee+3+64]=O[ee+2+96]=Ca(Je,rt,it),O[ee+3+96]=Ca(rt,it,it)}function sc(O,ee){var Se=O[ee-1+0],_e=O[ee-1+32],Ve=O[ee-1+64],Xe=O[ee-1-32],Je=O[ee+0-32],rt=O[ee+1-32],it=O[ee+2-32],jt=O[ee+3-32];O[ee+0+0]=O[ee+1+64]=Xe+Je+1>>1,O[ee+1+0]=O[ee+2+64]=Je+rt+1>>1,O[ee+2+0]=O[ee+3+64]=rt+it+1>>1,O[ee+3+0]=it+jt+1>>1,O[ee+0+96]=Ca(Ve,_e,Se),O[ee+0+64]=Ca(_e,Se,Xe),O[ee+0+32]=O[ee+1+96]=Ca(Se,Xe,Je),O[ee+1+32]=O[ee+2+96]=Ca(Xe,Je,rt),O[ee+2+32]=O[ee+3+96]=Ca(Je,rt,it),O[ee+3+32]=Ca(rt,it,jt)}function qu(O,ee){var Se=O[ee+0-32],_e=O[ee+1-32],Ve=O[ee+2-32],Xe=O[ee+3-32],Je=O[ee+4-32],rt=O[ee+5-32],it=O[ee+6-32],jt=O[ee+7-32];O[ee+0+0]=Se+_e+1>>1,O[ee+1+0]=O[ee+0+64]=_e+Ve+1>>1,O[ee+2+0]=O[ee+1+64]=Ve+Xe+1>>1,O[ee+3+0]=O[ee+2+64]=Xe+Je+1>>1,O[ee+0+32]=Ca(Se,_e,Ve),O[ee+1+32]=O[ee+0+96]=Ca(_e,Ve,Xe),O[ee+2+32]=O[ee+1+96]=Ca(Ve,Xe,Je),O[ee+3+32]=O[ee+2+96]=Ca(Xe,Je,rt),O[ee+3+64]=Ca(Je,rt,it),O[ee+3+96]=Ca(rt,it,jt)}function xl(O,ee){var Se=O[ee-1+0],_e=O[ee-1+32],Ve=O[ee-1+64],Xe=O[ee-1+96];O[ee+0+0]=Se+_e+1>>1,O[ee+2+0]=O[ee+0+32]=_e+Ve+1>>1,O[ee+2+32]=O[ee+0+64]=Ve+Xe+1>>1,O[ee+1+0]=Ca(Se,_e,Ve),O[ee+3+0]=O[ee+1+32]=Ca(_e,Ve,Xe),O[ee+3+32]=O[ee+1+64]=Ca(Ve,Xe,Xe),O[ee+3+64]=O[ee+2+64]=O[ee+0+96]=O[ee+1+96]=O[ee+2+96]=O[ee+3+96]=Xe}function qd(O,ee){var Se=O[ee-1+0],_e=O[ee-1+32],Ve=O[ee-1+64],Xe=O[ee-1+96],Je=O[ee-1-32],rt=O[ee+0-32],it=O[ee+1-32],jt=O[ee+2-32];O[ee+0+0]=O[ee+2+32]=Se+Je+1>>1,O[ee+0+32]=O[ee+2+64]=_e+Se+1>>1,O[ee+0+64]=O[ee+2+96]=Ve+_e+1>>1,O[ee+0+96]=Xe+Ve+1>>1,O[ee+3+0]=Ca(rt,it,jt),O[ee+2+0]=Ca(Je,rt,it),O[ee+1+0]=O[ee+3+32]=Ca(Se,Je,rt),O[ee+1+32]=O[ee+3+64]=Ca(_e,Se,Je),O[ee+1+64]=O[ee+3+96]=Ca(Ve,_e,Se),O[ee+1+96]=Ca(Xe,Ve,_e)}function Yo(O,ee){var Se;for(Se=0;8>Se;++Se)K(O,ee+32*Se,O,ee-32,8)}function Fd(O,ee){var Se;for(Se=0;8>Se;++Se)se(O,ee,O[ee-1],8),ee+=32}function yl(O,ee,Se){var _e;for(_e=0;8>_e;++_e)se(ee,Se+32*_e,O,8)}function bu(O,ee){var Se,_e=8;for(Se=0;8>Se;++Se)_e+=O[ee+Se-32]+O[ee-1+32*Se];yl(_e>>4,O,ee)}function Oc(O,ee){var Se,_e=4;for(Se=0;8>Se;++Se)_e+=O[ee+Se-32];yl(_e>>3,O,ee)}function ic(O,ee){var Se,_e=4;for(Se=0;8>Se;++Se)_e+=O[ee-1+32*Se];yl(_e>>3,O,ee)}function Rl(O,ee){yl(128,O,ee)}function ds(O,ee,Se){var _e=O[ee-Se],Ve=O[ee+0],Xe=3*(Ve-_e)+Yc[1020+O[ee-2*Se]-O[ee+Se]],Je=Ul[112+(Xe+4>>3)];O[ee-Se]=dl[255+_e+Ul[112+(Xe+3>>3)]],O[ee+0]=dl[255+Ve-Je]}function Bs(O,ee,Se,_e){var Ve=O[ee+0],Xe=O[ee+Se];return uc[255+O[ee-2*Se]-O[ee-Se]]>_e||uc[255+Xe-Ve]>_e}function Ll(O,ee,Se,_e){return 4*uc[255+O[ee-Se]-O[ee+0]]+uc[255+O[ee-2*Se]-O[ee+Se]]<=_e}function Ni(O,ee,Se,_e,Ve){var Xe=O[ee-3*Se],Je=O[ee-2*Se],rt=O[ee-Se],it=O[ee+0],jt=O[ee+Se],Qt=O[ee+2*Se],cr=O[ee+3*Se];return 4*uc[255+rt-it]+uc[255+Je-jt]>_e?0:uc[255+O[ee-4*Se]-Xe]<=Ve&&uc[255+Xe-Je]<=Ve&&uc[255+Je-rt]<=Ve&&uc[255+cr-Qt]<=Ve&&uc[255+Qt-jt]<=Ve&&uc[255+jt-it]<=Ve}function Mi(O,ee,Se,_e){var Ve=2*_e+1;for(_e=0;16>_e;++_e)Ll(O,ee+_e,Se,Ve)&&ds(O,ee+_e,Se)}function Fc(O,ee,Se,_e){var Ve=2*_e+1;for(_e=0;16>_e;++_e)Ll(O,ee+_e*Se,1,Ve)&&ds(O,ee+_e*Se,1)}function ud(O,ee,Se,_e){var Ve;for(Ve=3;0<Ve;--Ve)Mi(O,ee+=4*Se,Se,_e)}function Lo(O,ee,Se,_e){var Ve;for(Ve=3;0<Ve;--Ve)Fc(O,ee+=4,Se,_e)}function oc(O,ee,Se,_e,Ve,Xe,Je,rt){for(Xe=2*Xe+1;0<Ve--;){if(Ni(O,ee,Se,Xe,Je))if(Bs(O,ee,Se,rt))ds(O,ee,Se);else{var it=O,jt=ee,Qt=Se,cr=it[jt-2*Qt],vt=it[jt-Qt],zt=it[jt+0],sr=it[jt+Qt],Br=it[jt+2*Qt],ur=27*(_r=Yc[1020+3*(zt-vt)+Yc[1020+cr-sr]])+63>>7,Tr=18*_r+63>>7,_r=9*_r+63>>7;it[jt-3*Qt]=dl[255+it[jt-3*Qt]+_r],it[jt-2*Qt]=dl[255+cr+Tr],it[jt-Qt]=dl[255+vt+ur],it[jt+0]=dl[255+zt-ur],it[jt+Qt]=dl[255+sr-Tr],it[jt+2*Qt]=dl[255+Br-_r]}ee+=_e}}function Gc(O,ee,Se,_e,Ve,Xe,Je,rt){for(Xe=2*Xe+1;0<Ve--;){if(Ni(O,ee,Se,Xe,Je))if(Bs(O,ee,Se,rt))ds(O,ee,Se);else{var it=O,jt=ee,Qt=Se,cr=it[jt-Qt],vt=it[jt+0],zt=it[jt+Qt],sr=Ul[112+(4+(Br=3*(vt-cr))>>3)],Br=Ul[112+(Br+3>>3)],ur=sr+1>>1;it[jt-2*Qt]=dl[255+it[jt-2*Qt]+ur],it[jt-Qt]=dl[255+cr+Br],it[jt+0]=dl[255+vt-sr],it[jt+Qt]=dl[255+zt-ur]}ee+=_e}}function Xu(O,ee,Se,_e,Ve,Xe){oc(O,ee,Se,1,16,_e,Ve,Xe)}function Kc(O,ee,Se,_e,Ve,Xe){oc(O,ee,1,Se,16,_e,Ve,Xe)}function Yu(O,ee,Se,_e,Ve,Xe){var Je;for(Je=3;0<Je;--Je)Gc(O,ee+=4*Se,Se,1,16,_e,Ve,Xe)}function xe(O,ee,Se,_e,Ve,Xe){var Je;for(Je=3;0<Je;--Je)Gc(O,ee+=4,1,Se,16,_e,Ve,Xe)}function $e(O,ee,Se,_e,Ve,Xe,Je,rt){oc(O,ee,Ve,1,8,Xe,Je,rt),oc(Se,_e,Ve,1,8,Xe,Je,rt)}function wt(O,ee,Se,_e,Ve,Xe,Je,rt){oc(O,ee,1,Ve,8,Xe,Je,rt),oc(Se,_e,1,Ve,8,Xe,Je,rt)}function Rt(O,ee,Se,_e,Ve,Xe,Je,rt){Gc(O,ee+4*Ve,Ve,1,8,Xe,Je,rt),Gc(Se,_e+4*Ve,Ve,1,8,Xe,Je,rt)}function nr(O,ee,Se,_e,Ve,Xe,Je,rt){Gc(O,ee+4,1,Ve,8,Xe,Je,rt),Gc(Se,_e+4,1,Ve,8,Xe,Je,rt)}function Sr(){this.ba=new wa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ya,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ur(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dn(){this.ua=0,this.Wa=new ma,this.vb=new ma,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new gr,this.yc=new Pt}function Aa(){this.xb=this.a=0,this.l=new Gd,this.ca=new wa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new St,this.Pb=0,this.wd=new St,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dn,this.ab=0,this.gc=Ie(4,Nn),this.Oc=0}function ta(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _a(O,ee,Se,_e,Ve,Xe,Je){for(O=O==null?0:O[ee+0],ee=0;ee<Je;++ee)Ve[Xe+ee]=O+Se[_e+ee]&255,O=Ve[Xe+ee]}function Fs(O,ee,Se,_e,Ve,Xe,Je){var rt;if(O==null)_a(null,null,Se,_e,Ve,Xe,Je);else for(rt=0;rt<Je;++rt)Ve[Xe+rt]=O[ee+rt]+Se[_e+rt]&255}function Ms(O,ee,Se,_e,Ve,Xe,Je){if(O==null)_a(null,null,Se,_e,Ve,Xe,Je);else{var rt,it=O[ee+0],jt=it,Qt=it;for(rt=0;rt<Je;++rt)jt=Qt+(it=O[ee+rt])-jt,Qt=Se[_e+rt]+(-256&jt?0>jt?0:255:jt)&255,jt=it,Ve[Xe+rt]=Qt}}function hs(O,ee,Se,_e){var Ve=ee.width,Xe=ee.o;if(B(O!=null&&ee!=null),0>Se||0>=_e||Se+_e>Xe)return null;if(!O.Cc){if(O.ga==null){var Je;if(O.ga=new ta,(Je=O.ga==null)||(Je=ee.width*ee.o,B(O.Gb.length==0),O.Gb=he(Je),O.Uc=0,O.Gb==null?Je=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,Je=1),Je=!Je),!Je){Je=O.ga;var rt=O.Fa,it=O.P,jt=O.qc,Qt=O.mb,cr=O.nb,vt=it+1,zt=jt-1,sr=Je.l;if(B(rt!=null&&Qt!=null&&ee!=null),Qo[0]=null,Qo[1]=_a,Qo[2]=Fs,Qo[3]=Ms,Je.ca=Qt,Je.tb=cr,Je.c=ee.width,Je.i=ee.height,B(0<Je.c&&0<Je.i),1>=jt)ee=0;else if(Je.$a=3&rt[it+0],Je.Z=rt[it+0]>>2&3,Je.Lc=rt[it+0]>>4&3,it=rt[it+0]>>6&3,0>Je.$a||1<Je.$a||4<=Je.Z||1<Je.Lc||it)ee=0;else if(sr.put=fa,sr.ac=Bc,sr.bc=Ci,sr.ma=Je,sr.width=ee.width,sr.height=ee.height,sr.Da=ee.Da,sr.v=ee.v,sr.va=ee.va,sr.j=ee.j,sr.o=ee.o,Je.$a)e:{B(Je.$a==1),ee=_l();t:for(;;){if(ee==null){ee=0;break e}if(B(Je!=null),Je.mc=ee,ee.c=Je.c,ee.i=Je.i,ee.l=Je.l,ee.l.ma=Je,ee.l.width=Je.c,ee.l.height=Je.i,ee.a=0,wr(ee.m,rt,vt,zt),!Ko(Je.c,Je.i,1,ee,null)||(ee.ab==1&&ee.gc[0].hc==3&&sl(ee.s)?(Je.ic=1,rt=ee.c*ee.i,ee.Ta=null,ee.Ua=0,ee.V=he(rt),ee.Ba=0,ee.V==null?(ee.a=1,ee=0):ee=1):(Je.ic=0,ee=Ro(ee,Je.c)),!ee))break t;ee=1;break e}Je.mc=null,ee=0}else ee=zt>=Je.c*Je.i;Je=!ee}if(Je)return null;O.ga.Lc!=1?O.Ga=0:_e=Xe-Se}B(O.ga!=null),B(Se+_e<=Xe);e:{if(ee=(rt=O.ga).c,Xe=rt.l.o,rt.$a==0){if(vt=O.rc,zt=O.Vc,sr=O.Fa,it=O.P+1+Se*ee,jt=O.mb,Qt=O.nb+Se*ee,B(it<=O.P+O.qc),rt.Z!=0)for(B(Qo[rt.Z]!=null),Je=0;Je<_e;++Je)Qo[rt.Z](vt,zt,sr,it,jt,Qt,ee),vt=jt,zt=Qt,Qt+=ee,it+=ee;else for(Je=0;Je<_e;++Je)K(jt,Qt,sr,it,ee),vt=jt,zt=Qt,Qt+=ee,it+=ee;O.rc=vt,O.Vc=zt}else{if(B(rt.mc!=null),ee=Se+_e,B((Je=rt.mc)!=null),B(ee<=Je.i),Je.C>=ee)ee=1;else if(rt.ic||Ze(),rt.ic){rt=Je.V,vt=Je.Ba,zt=Je.c;var Br=Je.i,ur=(sr=1,it=Je.$/zt,jt=Je.$%zt,Qt=Je.m,cr=Je.s,Je.$),Tr=zt*Br,_r=zt*ee,Vr=cr.wc,Fr=ur<_r?ho(cr,jt,it):null;B(ur<=Tr),B(ee<=Br),B(sl(cr));t:for(;;){for(;!Qt.h&&ur<_r;){if(jt&Vr||(Fr=ho(cr,jt,it)),B(Fr!=null),dr(Qt),256>(Br=Os(Fr.G[0],Fr.H[0],Qt)))rt[vt+ur]=Br,++ur,++jt>=zt&&(jt=0,++it<=ee&&!(it%16)&&tc(Je,it));else{if(!(280>Br)){sr=0;break t}Br=kl(Br-256,Qt);var Jn,kn=Os(Fr.G[4],Fr.H[4],Qt);if(dr(Qt),!(ur>=(kn=Di(zt,kn=kl(kn,Qt)))&&Tr-ur>=Br)){sr=0;break t}for(Jn=0;Jn<Br;++Jn)rt[vt+ur+Jn]=rt[vt+ur+Jn-kn];for(ur+=Br,jt+=Br;jt>=zt;)jt-=zt,++it<=ee&&!(it%16)&&tc(Je,it);ur<_r&&jt&Vr&&(Fr=ho(cr,jt,it))}B(Qt.h==Yt(Qt))}tc(Je,it>ee?ee:it);break t}!sr||Qt.h&&ur<Tr?(sr=0,Je.a=Qt.h?5:3):Je.$=ur,ee=sr}else ee=eo(Je,Je.V,Je.Ba,Je.c,Je.i,ee,rc);if(!ee){_e=0;break e}}Se+_e>=Xe&&(O.Cc=1),_e=1}if(!_e)return null;if(O.Cc&&((_e=O.ga)!=null&&(_e.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+Se*Ve}function hi(O,ee,Se,_e,Ve,Xe){for(;0<Ve--;){var Je,rt=O,it=ee+(Se?1:0),jt=O,Qt=ee+(Se?0:3);for(Je=0;Je<_e;++Je){var cr=jt[Qt+4*Je];cr!=255&&(cr*=32897,rt[it+4*Je+0]=rt[it+4*Je+0]*cr>>23,rt[it+4*Je+1]=rt[it+4*Je+1]*cr>>23,rt[it+4*Je+2]=rt[it+4*Je+2]*cr>>23)}ee+=Xe}}function _(O,ee,Se,_e,Ve){for(;0<_e--;){var Xe;for(Xe=0;Xe<Se;++Xe){var Je=O[ee+2*Xe+0],rt=15&(jt=O[ee+2*Xe+1]),it=4369*rt,jt=(240&jt|jt>>4)*it>>16;O[ee+2*Xe+0]=(240&Je|Je>>4)*it>>16&240|(15&Je|Je<<4)*it>>16>>4&15,O[ee+2*Xe+1]=240&jt|rt}ee+=Ve}}function He(O,ee,Se,_e,Ve,Xe,Je,rt){var it,jt,Qt=255;for(jt=0;jt<Ve;++jt){for(it=0;it<_e;++it){var cr=O[ee+it];Xe[Je+4*it]=cr,Qt&=cr}ee+=Se,Je+=rt}return Qt!=255}function oe(O,ee,Se,_e,Ve){var Xe;for(Xe=0;Xe<Ve;++Xe)Se[_e+Xe]=O[ee+Xe]>>8}function Ze(){to=hi,Xh=_,ll=He,Nu=oe}function gt(O,ee,Se){Mt[O]=function(_e,Ve,Xe,Je,rt,it,jt,Qt,cr,vt,zt,sr,Br,ur,Tr,_r,Vr){var Fr,Jn=Vr-1>>1,kn=rt[it+0]|jt[Qt+0]<<16,$a=cr[vt+0]|zt[sr+0]<<16;B(_e!=null);var xn=3*kn+$a+131074>>2;for(ee(_e[Ve+0],255&xn,xn>>16,Br,ur),Xe!=null&&(xn=3*$a+kn+131074>>2,ee(Xe[Je+0],255&xn,xn>>16,Tr,_r)),Fr=1;Fr<=Jn;++Fr){var ys=rt[it+Fr]|jt[Qt+Fr]<<16,cn=cr[vt+Fr]|zt[sr+Fr]<<16,Ra=kn+ys+$a+cn+524296,Rn=Ra+2*(ys+$a)>>3;xn=Rn+kn>>1,kn=(Ra=Ra+2*(kn+cn)>>3)+ys>>1,ee(_e[Ve+2*Fr-1],255&xn,xn>>16,Br,ur+(2*Fr-1)*Se),ee(_e[Ve+2*Fr-0],255&kn,kn>>16,Br,ur+(2*Fr-0)*Se),Xe!=null&&(xn=Ra+$a>>1,kn=Rn+cn>>1,ee(Xe[Je+2*Fr-1],255&xn,xn>>16,Tr,_r+(2*Fr-1)*Se),ee(Xe[Je+2*Fr+0],255&kn,kn>>16,Tr,_r+(2*Fr+0)*Se)),kn=ys,$a=cn}1&Vr||(xn=3*kn+$a+131074>>2,ee(_e[Ve+Vr-1],255&xn,xn>>16,Br,ur+(Vr-1)*Se),Xe!=null&&(xn=3*$a+kn+131074>>2,ee(Xe[Je+Vr-1],255&xn,xn>>16,Tr,_r+(Vr-1)*Se)))}}function ht(){hc[Zu]=th,hc[Yh]=Rf,hc[Jh]=SA,hc[jh]=EA,hc[po]=Lf,hc[Su]=Eu,hc[yA]=Bu,hc[Of]=Rf,hc[Zh]=EA,hc[Pd]=Lf,hc[Ff]=Eu}function or(O){return O&-16384?0>O?0:255:O>>Ep}function Jt(O,ee){return or((19077*O>>8)+(26149*ee>>8)-14234)}function bn(O,ee,Se){return or((19077*O>>8)-(6419*ee>>8)-(13320*Se>>8)+8708)}function Ht(O,ee){return or((19077*O>>8)+(33050*ee>>8)-17685)}function hr(O,ee,Se,_e,Ve){_e[Ve+0]=Jt(O,Se),_e[Ve+1]=bn(O,ee,Se),_e[Ve+2]=Ht(O,ee)}function va(O,ee,Se,_e,Ve){_e[Ve+0]=Ht(O,ee),_e[Ve+1]=bn(O,ee,Se),_e[Ve+2]=Jt(O,Se)}function fn(O,ee,Se,_e,Ve){var Xe=bn(O,ee,Se);ee=Xe<<3&224|Ht(O,ee)>>3,_e[Ve+0]=248&Jt(O,Se)|Xe>>5,_e[Ve+1]=ee}function $r(O,ee,Se,_e,Ve){var Xe=240&Ht(O,ee)|15;_e[Ve+0]=240&Jt(O,Se)|bn(O,ee,Se)>>4,_e[Ve+1]=Xe}function Er(O,ee,Se,_e,Ve){_e[Ve+0]=255,hr(O,ee,Se,_e,Ve+1)}function Rs(O,ee,Se,_e,Ve){va(O,ee,Se,_e,Ve),_e[Ve+3]=255}function ja(O,ee,Se,_e,Ve){hr(O,ee,Se,_e,Ve),_e[Ve+3]=255}function ra(O,ee,Se){Mt[O]=function(_e,Ve,Xe,Je,rt,it,jt,Qt,cr){for(var vt=Qt+(-2&cr)*Se;Qt!=vt;)ee(_e[Ve+0],Xe[Je+0],rt[it+0],jt,Qt),ee(_e[Ve+1],Xe[Je+0],rt[it+0],jt,Qt+Se),Ve+=2,++Je,++it,Qt+=2*Se;1&cr&&ee(_e[Ve+0],Xe[Je+0],rt[it+0],jt,Qt)}}function Na(O,ee,Se){return Se==0?O==0?ee==0?6:5:ee==0?4:0:Se}function Ja(O,ee,Se,_e,Ve){switch(O>>>30){case 3:jl(ee,Se,_e,Ve,0);break;case 2:Ho(ee,Se,_e,Ve);break;case 1:us(ee,Se,_e,Ve)}}function an(O,ee){var Se,_e,Ve=ee.M,Xe=ee.Nb,Je=O.oc,rt=O.pc+40,it=O.oc,jt=O.pc+584,Qt=O.oc,cr=O.pc+600;for(Se=0;16>Se;++Se)Je[rt+32*Se-1]=129;for(Se=0;8>Se;++Se)it[jt+32*Se-1]=129,Qt[cr+32*Se-1]=129;for(0<Ve?Je[rt-1-32]=it[jt-1-32]=Qt[cr-1-32]=129:(se(Je,rt-32-1,127,21),se(it,jt-32-1,127,9),se(Qt,cr-32-1,127,9)),_e=0;_e<O.za;++_e){var vt=ee.ya[ee.aa+_e];if(0<_e){for(Se=-1;16>Se;++Se)K(Je,rt+32*Se-4,Je,rt+32*Se+12,4);for(Se=-1;8>Se;++Se)K(it,jt+32*Se-4,it,jt+32*Se+4,4),K(Qt,cr+32*Se-4,Qt,cr+32*Se+4,4)}var zt=O.Gd,sr=O.Hd+_e,Br=vt.ad,ur=vt.Hc;if(0<Ve&&(K(Je,rt-32,zt[sr].y,0,16),K(it,jt-32,zt[sr].f,0,8),K(Qt,cr-32,zt[sr].ea,0,8)),vt.Za){var Tr=Je,_r=rt-32+16;for(0<Ve&&(_e>=O.za-1?se(Tr,_r,zt[sr].y[15],4):K(Tr,_r,zt[sr+1].y,0,4)),Se=0;4>Se;Se++)Tr[_r+128+Se]=Tr[_r+256+Se]=Tr[_r+384+Se]=Tr[_r+0+Se];for(Se=0;16>Se;++Se,ur<<=2)Tr=Je,_r=rt+Qf[Se],Hl[vt.Ob[Se]](Tr,_r),Ja(ur,Br,16*+Se,Tr,_r)}else if(Tr=Na(_e,Ve,vt.Ob[0]),Jd[Tr](Je,rt),ur!=0)for(Se=0;16>Se;++Se,ur<<=2)Ja(ur,Br,16*+Se,Je,rt+Qf[Se]);for(Se=vt.Gc,Tr=Na(_e,Ve,vt.Dd),pd[Tr](it,jt),pd[Tr](Qt,cr),ur=Br,Tr=it,_r=jt,255&(vt=0|Se)&&(170&vt?dc(ur,256,Tr,_r):Ls(ur,256,Tr,_r)),vt=Qt,ur=cr,255&(Se>>=8)&&(170&Se?dc(Br,320,vt,ur):Ls(Br,320,vt,ur)),Ve<O.Ub-1&&(K(zt[sr].y,0,Je,rt+480,16),K(zt[sr].f,0,it,jt+224,8),K(zt[sr].ea,0,Qt,cr+224,8)),Se=8*Xe*O.B,zt=O.sa,sr=O.ta+16*_e+16*Xe*O.R,Br=O.qa,vt=O.ra+8*_e+Se,ur=O.Ha,Tr=O.Ia+8*_e+Se,Se=0;16>Se;++Se)K(zt,sr+Se*O.R,Je,rt+32*Se,16);for(Se=0;8>Se;++Se)K(Br,vt+Se*O.B,it,jt+32*Se,8),K(ur,Tr+Se*O.B,Qt,cr+32*Se,8)}}function Ba(O,ee,Se,_e,Ve,Xe,Je,rt,it){var jt=[0],Qt=[0],cr=0,vt=it!=null?it.kd:0,zt=it??new Ur;if(O==null||12>Se)return 7;zt.data=O,zt.w=ee,zt.ha=Se,ee=[ee],Se=[Se],zt.gb=[zt.gb];e:{var sr=ee,Br=Se,ur=zt.gb;if(B(O!=null),B(Br!=null),B(ur!=null),ur[0]=0,12<=Br[0]&&!P(O,sr[0],"RIFF")){if(P(O,sr[0]+8,"WEBP")){ur=3;break e}var Tr=oa(O,sr[0]+4);if(12>Tr||4294967286<Tr){ur=3;break e}if(vt&&Tr>Br[0]-8){ur=7;break e}ur[0]=Tr,sr[0]+=12,Br[0]-=12}ur=0}if(ur!=0)return ur;for(Tr=0<zt.gb[0],Se=Se[0];;){e:{var _r=O;Br=ee,ur=Se;var Vr=jt,Fr=Qt,Jn=sr=[0];if((xn=cr=[cr])[0]=0,8>ur[0])ur=7;else{if(!P(_r,Br[0],"VP8X")){if(oa(_r,Br[0]+4)!=10){ur=3;break e}if(18>ur[0]){ur=7;break e}var kn=oa(_r,Br[0]+8),$a=1+wn(_r,Br[0]+12);if(2147483648<=$a*(_r=1+wn(_r,Br[0]+15))){ur=3;break e}Jn!=null&&(Jn[0]=kn),Vr!=null&&(Vr[0]=$a),Fr!=null&&(Fr[0]=_r),Br[0]+=18,ur[0]-=18,xn[0]=1}ur=0}}if(cr=cr[0],sr=sr[0],ur!=0)return ur;if(Br=!!(2&sr),!Tr&&cr)return 3;if(Xe!=null&&(Xe[0]=!!(16&sr)),Je!=null&&(Je[0]=Br),rt!=null&&(rt[0]=0),Je=jt[0],sr=Qt[0],cr&&Br&&it==null){ur=0;break}if(4>Se){ur=7;break}if(Tr&&cr||!Tr&&!cr&&!P(O,ee[0],"ALPH")){Se=[Se],zt.na=[zt.na],zt.P=[zt.P],zt.Sa=[zt.Sa];e:{kn=O,ur=ee,Tr=Se;var xn=zt.gb;Vr=zt.na,Fr=zt.P,Jn=zt.Sa,$a=22,B(kn!=null),B(Tr!=null),_r=ur[0];var ys=Tr[0];for(B(Vr!=null),B(Jn!=null),Vr[0]=null,Fr[0]=null,Jn[0]=0;;){if(ur[0]=_r,Tr[0]=ys,8>ys){ur=7;break e}var cn=oa(kn,_r+4);if(4294967286<cn){ur=3;break e}var Ra=8+cn+1&-2;if($a+=Ra,0<xn&&$a>xn){ur=3;break e}if(!P(kn,_r,"VP8 ")||!P(kn,_r,"VP8L")){ur=0;break e}if(ys[0]<Ra){ur=7;break e}P(kn,_r,"ALPH")||(Vr[0]=kn,Fr[0]=_r+8,Jn[0]=cn),_r+=Ra,ys-=Ra}}if(Se=Se[0],zt.na=zt.na[0],zt.P=zt.P[0],zt.Sa=zt.Sa[0],ur!=0)break}Se=[Se],zt.Ja=[zt.Ja],zt.xa=[zt.xa];e:if(xn=O,ur=ee,Tr=Se,Vr=zt.gb[0],Fr=zt.Ja,Jn=zt.xa,kn=ur[0],_r=!P(xn,kn,"VP8 "),$a=!P(xn,kn,"VP8L"),B(xn!=null),B(Tr!=null),B(Fr!=null),B(Jn!=null),8>Tr[0])ur=7;else{if(_r||$a){if(xn=oa(xn,kn+4),12<=Vr&&xn>Vr-12){ur=3;break e}if(vt&&xn>Tr[0]-8){ur=7;break e}Fr[0]=xn,ur[0]+=8,Tr[0]-=8,Jn[0]=$a}else Jn[0]=5<=Tr[0]&&xn[kn+0]==47&&!(xn[kn+4]>>5),Fr[0]=Tr[0];ur=0}if(Se=Se[0],zt.Ja=zt.Ja[0],zt.xa=zt.xa[0],ee=ee[0],ur!=0)break;if(4294967286<zt.Ja)return 3;if(rt==null||Br||(rt[0]=zt.xa?2:1),Je=[Je],sr=[sr],zt.xa){if(5>Se){ur=7;break}rt=Je,vt=sr,Br=Xe,O==null||5>Se?O=0:5<=Se&&O[ee+0]==47&&!(O[ee+4]>>5)?(Tr=[0],xn=[0],Vr=[0],wr(Fr=new St,O,ee,Se),Co(Fr,Tr,xn,Vr)?(rt!=null&&(rt[0]=Tr[0]),vt!=null&&(vt[0]=xn[0]),Br!=null&&(Br[0]=Vr[0]),O=1):O=0):O=0}else{if(10>Se){ur=7;break}rt=sr,O==null||10>Se||!gu(O,ee+3,Se-3)?O=0:(vt=O[ee+0]|O[ee+1]<<8|O[ee+2]<<16,Br=16383&(O[ee+7]<<8|O[ee+6]),O=16383&(O[ee+9]<<8|O[ee+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=zt.Ja||!Br||!O?O=0:(Je&&(Je[0]=Br),rt&&(rt[0]=O),O=1))}if(!O||(Je=Je[0],sr=sr[0],cr&&(jt[0]!=Je||Qt[0]!=sr)))return 3;it!=null&&(it[0]=zt,it.offset=ee-it.w,B(4294967286>ee-it.w),B(it.offset==it.ha-Se));break}return ur==0||ur==7&&cr&&it==null?(Xe!=null&&(Xe[0]|=zt.na!=null&&0<zt.na.length),_e!=null&&(_e[0]=Je),Ve!=null&&(Ve[0]=sr),0):ur}function ri(O,ee,Se){var _e=ee.width,Ve=ee.height,Xe=0,Je=0,rt=_e,it=Ve;if(ee.Da=O!=null&&0<O.Da,ee.Da&&(rt=O.cd,it=O.bd,Xe=O.v,Je=O.j,11>Se||(Xe&=-2,Je&=-2),0>Xe||0>Je||0>=rt||0>=it||Xe+rt>_e||Je+it>Ve))return 0;if(ee.v=Xe,ee.j=Je,ee.va=Xe+rt,ee.o=Je+it,ee.U=rt,ee.T=it,ee.da=O!=null&&0<O.da,ee.da){if(!dn(rt,it,Se=[O.ib],Xe=[O.hb]))return 0;ee.ib=Se[0],ee.hb=Xe[0]}return ee.ob=O!=null&&O.ob,ee.Kb=O==null||!O.Sd,ee.da&&(ee.ob=ee.ib<3*_e/4&&ee.hb<3*Ve/4,ee.Kb=0),1}function Yn(O){if(O==null)return 2;if(11>O.S){var ee=O.f.RGBA;ee.fb+=(O.height-1)*ee.A,ee.A=-ee.A}else ee=O.f.kb,O=O.height,ee.O+=(O-1)*ee.fa,ee.fa=-ee.fa,ee.N+=(O-1>>1)*ee.Ab,ee.Ab=-ee.Ab,ee.W+=(O-1>>1)*ee.Db,ee.Db=-ee.Db,ee.F!=null&&(ee.J+=(O-1)*ee.lb,ee.lb=-ee.lb);return 0}function is(O,ee,Se,_e){if(_e==null||0>=O||0>=ee)return 2;if(Se!=null){if(Se.Da){var Ve=Se.cd,Xe=Se.bd,Je=-2&Se.v,rt=-2&Se.j;if(0>Je||0>rt||0>=Ve||0>=Xe||Je+Ve>O||rt+Xe>ee)return 2;O=Ve,ee=Xe}if(Se.da){if(!dn(O,ee,Ve=[Se.ib],Xe=[Se.hb]))return 2;O=Ve[0],ee=Xe[0]}}_e.width=O,_e.height=ee;e:{var it=_e.width,jt=_e.height;if(O=_e.S,0>=it||0>=jt||!(O>=Zu&&13>O))O=2;else{if(0>=_e.Rd&&_e.sd==null){Je=Xe=Ve=ee=0;var Qt=(rt=it*Wf[O])*jt;if(11>O||(Xe=(jt+1)/2*(ee=(it+1)/2),O==12&&(Je=(Ve=it)*jt)),(jt=he(Qt+2*Xe+Je))==null){O=1;break e}_e.sd=jt,11>O?((it=_e.f.RGBA).eb=jt,it.fb=0,it.A=rt,it.size=Qt):((it=_e.f.kb).y=jt,it.O=0,it.fa=rt,it.Fd=Qt,it.f=jt,it.N=0+Qt,it.Ab=ee,it.Cd=Xe,it.ea=jt,it.W=0+Qt+Xe,it.Db=ee,it.Ed=Xe,O==12&&(it.F=jt,it.J=0+Qt+2*Xe),it.Tc=Je,it.lb=Ve)}if(ee=1,Ve=_e.S,Xe=_e.width,Je=_e.height,Ve>=Zu&&13>Ve)if(11>Ve)O=_e.f.RGBA,ee&=(rt=Math.abs(O.A))*(Je-1)+Xe<=O.size,ee&=rt>=Xe*Wf[Ve],ee&=O.eb!=null;else{O=_e.f.kb,rt=(Xe+1)/2,Qt=(Je+1)/2,it=Math.abs(O.fa),jt=Math.abs(O.Ab);var cr=Math.abs(O.Db),vt=Math.abs(O.lb),zt=vt*(Je-1)+Xe;ee&=it*(Je-1)+Xe<=O.Fd,ee&=jt*(Qt-1)+rt<=O.Cd,ee=(ee&=cr*(Qt-1)+rt<=O.Ed)&it>=Xe&jt>=rt&cr>=rt,ee&=O.y!=null,ee&=O.f!=null,ee&=O.ea!=null,Ve==12&&(ee&=vt>=Xe,ee&=zt<=O.Tc,ee&=O.F!=null)}else ee=0;O=ee?0:2}}return O!=0||Se!=null&&Se.fd&&(O=Yn(_e)),O}var Oa=64,Mn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ca=24,So=32,lc=8,Uo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];On("Predictor0","PredictorAdd0"),Mt.Predictor0=function(){return 4278190080},Mt.Predictor1=function(O){return O},Mt.Predictor2=function(O,ee,Se){return ee[Se+0]},Mt.Predictor3=function(O,ee,Se){return ee[Se+1]},Mt.Predictor4=function(O,ee,Se){return ee[Se-1]},Mt.Predictor5=function(O,ee,Se){return Fn(Fn(O,ee[Se+1]),ee[Se+0])},Mt.Predictor6=function(O,ee,Se){return Fn(O,ee[Se-1])},Mt.Predictor7=function(O,ee,Se){return Fn(O,ee[Se+0])},Mt.Predictor8=function(O,ee,Se){return Fn(ee[Se-1],ee[Se+0])},Mt.Predictor9=function(O,ee,Se){return Fn(ee[Se+0],ee[Se+1])},Mt.Predictor10=function(O,ee,Se){return Fn(Fn(O,ee[Se-1]),Fn(ee[Se+0],ee[Se+1]))},Mt.Predictor11=function(O,ee,Se){var _e=ee[Se+0];return 0>=_n(_e>>24&255,O>>24&255,(ee=ee[Se-1])>>24&255)+_n(_e>>16&255,O>>16&255,ee>>16&255)+_n(_e>>8&255,O>>8&255,ee>>8&255)+_n(255&_e,255&O,255&ee)?_e:O},Mt.Predictor12=function(O,ee,Se){var _e=ee[Se+0];return(ps((O>>24&255)+(_e>>24&255)-((ee=ee[Se-1])>>24&255))<<24|ps((O>>16&255)+(_e>>16&255)-(ee>>16&255))<<16|ps((O>>8&255)+(_e>>8&255)-(ee>>8&255))<<8|ps((255&O)+(255&_e)-(255&ee)))>>>0},Mt.Predictor13=function(O,ee,Se){var _e=ee[Se-1];return(Ua((O=Fn(O,ee[Se+0]))>>24&255,_e>>24&255)<<24|Ua(O>>16&255,_e>>16&255)<<16|Ua(O>>8&255,_e>>8&255)<<8|Ua(255&O,255&_e))>>>0};var fo=Mt.PredictorAdd0;Mt.PredictorAdd1=ss,On("Predictor2","PredictorAdd2"),On("Predictor3","PredictorAdd3"),On("Predictor4","PredictorAdd4"),On("Predictor5","PredictorAdd5"),On("Predictor6","PredictorAdd6"),On("Predictor7","PredictorAdd7"),On("Predictor8","PredictorAdd8"),On("Predictor9","PredictorAdd9"),On("Predictor10","PredictorAdd10"),On("Predictor11","PredictorAdd11"),On("Predictor12","PredictorAdd12"),On("Predictor13","PredictorAdd13");var cc=Mt.PredictorAdd2;Tn("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),Tn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var Vi,Gh=Mt.ColorIndexInverseTransform,Jo=Mt.MapARGB,ol=Mt.VP8LColorIndexInverseTransformAlpha,Ju=Mt.MapAlpha,xh=Mt.VP8LPredictorsAdd=[];xh.length=16,(Mt.VP8LPredictors=[]).length=16,(Mt.VP8LPredictorsAdd_C=[]).length=16,(Mt.VP8LPredictors_C=[]).length=16;var Pc,qc,Xc,Xd,hd,wu,Dc,jl,Ho,dc,us,Ls,fi,Ao,fd,ni,Ad,Cu,Kh,yh,qh,Yd,Si,Eo,to,Xh,ll,Nu,bp=he(511),cl=he(2041),Tf=he(225),kf=he(767),_f=0,Yc=cl,Ul=Tf,dl=kf,uc=bp,Zu=0,Yh=1,Jh=2,jh=3,po=4,Su=5,yA=6,Of=7,Zh=8,Pd=9,Ff=10,Pf=[2,3,7],Df=[3,3,11],jA=[280,256,256,256,40],bA=[0,1,1,1,0],wp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Np=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wA=8,bh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ef=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eh=null,Mf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],CA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jd=[],Hl=[],pd=[],Sp=1,NA=2,Qo=[],hc=[];gt("UpsampleRgbLinePair",hr,3),gt("UpsampleBgrLinePair",va,3),gt("UpsampleRgbaLinePair",ja,4),gt("UpsampleBgraLinePair",Rs,4),gt("UpsampleArgbLinePair",Er,4),gt("UpsampleRgba4444LinePair",$r,2),gt("UpsampleRgb565LinePair",fn,2);var th=Mt.UpsampleRgbLinePair,SA=Mt.UpsampleBgrLinePair,Rf=Mt.UpsampleRgbaLinePair,EA=Mt.UpsampleBgraLinePair,Lf=Mt.UpsampleArgbLinePair,Eu=Mt.UpsampleRgba4444LinePair,Bu=Mt.UpsampleRgb565LinePair,Iu=16,rh=1<<Iu-1,wh=-227,Uf=482,Ep=6,BA=0,IA=he(256),TA=he(256),Ql=he(256),bl=he(256),Hf=he(Uf-wh),kA=he(Uf-wh);ra("YuvToRgbRow",hr,3),ra("YuvToBgrRow",va,3),ra("YuvToRgbaRow",ja,4),ra("YuvToBgraRow",Rs,4),ra("YuvToArgbRow",Er,4),ra("YuvToRgba4444Row",$r,2),ra("YuvToRgb565Row",fn,2);var Qf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nf=[0,2,8],af=[8,7,6,4,4,2,2,2,1,1,1,1],Ch=1;this.WebPDecodeRGBA=function(O,ee,Se,_e,Ve){var Xe=Yh,Je=new Sr,rt=new wa;Je.ba=rt,rt.S=Xe,rt.width=[rt.width],rt.height=[rt.height];var it=rt.width,jt=rt.height,Qt=new Cn;if(Qt==null||O==null)var cr=2;else B(Qt!=null),cr=Ba(O,ee,Se,Qt.width,Qt.height,Qt.Pd,Qt.Qd,Qt.format,null);if(cr!=0?it=0:(it!=null&&(it[0]=Qt.width[0]),jt!=null&&(jt[0]=Qt.height[0]),it=1),it){rt.width=rt.width[0],rt.height=rt.height[0],_e!=null&&(_e[0]=rt.width),Ve!=null&&(Ve[0]=rt.height);e:{if(_e=new Gd,(Ve=new Ur).data=O,Ve.w=ee,Ve.ha=Se,Ve.kd=1,ee=[0],B(Ve!=null),((O=Ba(Ve.data,Ve.w,Ve.ha,null,null,null,ee,null,Ve))==0||O==7)&&ee[0]&&(O=4),(ee=O)==0){if(B(Je!=null),_e.data=Ve.data,_e.w=Ve.w+Ve.offset,_e.ha=Ve.ha-Ve.offset,_e.put=fa,_e.ac=Bc,_e.bc=Ci,_e.ma=Je,Ve.xa){if((O=_l())==null){Je=1;break e}if((function(vt,zt){var sr=[0],Br=[0],ur=[0];t:for(;;){if(vt==null)return 0;if(zt==null)return vt.a=2,0;if(vt.l=zt,vt.a=0,wr(vt.m,zt.data,zt.w,zt.ha),!Co(vt.m,sr,Br,ur)){vt.a=3;break t}if(vt.xb=NA,zt.width=sr[0],zt.height=Br[0],!Ko(sr[0],Br[0],1,vt,null))break t;return 1}return B(vt.a!=0),0})(O,_e)){if(_e=(ee=is(_e.width,_e.height,Je.Oa,Je.ba))==0){t:{_e=O;r:for(;;){if(_e==null){_e=0;break t}if(B(_e.s.yc!=null),B(_e.s.Ya!=null),B(0<_e.s.Wb),B((Se=_e.l)!=null),B((Ve=Se.ma)!=null),_e.xb!=0){if(_e.ca=Ve.ba,_e.tb=Ve.tb,B(_e.ca!=null),!ri(Ve.Oa,Se,jh)){_e.a=2;break r}if(!Ro(_e,Se.width)||Se.da)break r;if((Se.da||ga(_e.ca.S))&&Ze(),11>_e.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_e.ca.f.kb.F!=null&&Ze()),_e.Pb&&0<_e.s.ua&&_e.s.vb.X==null&&!pt(_e.s.vb,_e.s.Wa.Xa)){_e.a=1;break r}_e.xb=0}if(!eo(_e,_e.V,_e.Ba,_e.c,_e.i,Se.o,Zi))break r;Ve.Dc=_e.Ma,_e=1;break t}B(_e.a!=0),_e=0}_e=!_e}_e&&(ee=O.a)}else ee=O.a}else{if((O=new Ed)==null){Je=1;break e}if(O.Fa=Ve.na,O.P=Ve.P,O.qc=Ve.Sa,ac(O,_e)){if((ee=is(_e.width,_e.height,Je.Oa,Je.ba))==0){if(O.Aa=0,Se=Je.Oa,B((Ve=O)!=null),Se!=null){if(0<(it=0>(it=Se.Md)?0:100<it?255:255*it/100)){for(jt=Qt=0;4>jt;++jt)12>(cr=Ve.pb[jt]).lc&&(cr.ia=it*af[0>cr.lc?0:cr.lc]>>3),Qt|=cr.ia;Qt&&(alert("todo:VP8InitRandom"),Ve.ia=1)}Ve.Ga=Se.Id,100<Ve.Ga?Ve.Ga=100:0>Ve.Ga&&(Ve.Ga=0)}(function(vt,zt){if(vt==null)return 0;if(zt==null)return ya(vt,2,"NULL VP8Io parameter in VP8Decode().");if(!vt.cb&&!ac(vt,zt))return 0;if(B(vt.cb),zt.ac==null||zt.ac(zt)){zt.ob&&(vt.L=0);var sr=nf[vt.L];if(vt.L==2?(vt.yb=0,vt.zb=0):(vt.yb=zt.v-sr>>4,vt.zb=zt.j-sr>>4,0>vt.yb&&(vt.yb=0),0>vt.zb&&(vt.zb=0)),vt.Va=zt.o+15+sr>>4,vt.Hb=zt.va+15+sr>>4,vt.Hb>vt.za&&(vt.Hb=vt.za),vt.Va>vt.Ub&&(vt.Va=vt.Ub),0<vt.L){var Br=vt.ed;for(sr=0;4>sr;++sr){var ur;if(vt.Qa.Cb){var Tr=vt.Qa.Lb[sr];vt.Qa.Fb||(Tr+=Br.Tb)}else Tr=Br.Tb;for(ur=0;1>=ur;++ur){var _r=vt.gd[sr][ur],Vr=Tr;if(Br.Pc&&(Vr+=Br.vd[0],ur&&(Vr+=Br.od[0])),0<(Vr=0>Vr?0:63<Vr?63:Vr)){var Fr=Vr;0<Br.wb&&(Fr=4<Br.wb?Fr>>2:Fr>>1)>9-Br.wb&&(Fr=9-Br.wb),1>Fr&&(Fr=1),_r.dd=Fr,_r.tc=2*Vr+Fr,_r.ld=40<=Vr?2:15<=Vr?1:0}else _r.tc=0;_r.La=ur}}}sr=0}else ya(vt,6,"Frame setup failed"),sr=vt.a;if(sr=sr==0){if(sr){vt.$c=0,0<vt.Aa||(vt.Ic=Ch);t:{sr=vt.Ic,Br=4*(Fr=vt.za);var Jn=32*Fr,kn=Fr+1,$a=0<vt.L?Fr*(0<vt.Aa?2:1):0,xn=(vt.Aa==2?2:1)*Fr;if((_r=Br+832+(ur=3*(16*sr+nf[vt.L])/2*Jn)+(Tr=vt.Fa!=null&&0<vt.Fa.length?vt.Kc.c*vt.Kc.i:0))!=_r)sr=0;else{if(_r>vt.Vb){if(vt.Vb=0,vt.Ec=he(_r),vt.Fc=0,vt.Ec==null){sr=ya(vt,1,"no memory during frame initialization.");break t}vt.Vb=_r}_r=vt.Ec,Vr=vt.Fc,vt.Ac=_r,vt.Bc=Vr,Vr+=Br,vt.Gd=Ie(Jn,Vd),vt.Hd=0,vt.rb=Ie(kn+1,ld),vt.sb=1,vt.wa=$a?Ie($a,qo):null,vt.Y=0,vt.D.Nb=0,vt.D.wa=vt.wa,vt.D.Y=vt.Y,0<vt.Aa&&(vt.D.Y+=Fr),B(!0),vt.oc=_r,vt.pc=Vr,Vr+=832,vt.ya=Ie(xn,$d),vt.aa=0,vt.D.ya=vt.ya,vt.D.aa=vt.aa,vt.Aa==2&&(vt.D.aa+=Fr),vt.R=16*Fr,vt.B=8*Fr,Fr=(Jn=nf[vt.L])*vt.R,Jn=Jn/2*vt.B,vt.sa=_r,vt.ta=Vr+Fr,vt.qa=vt.sa,vt.ra=vt.ta+16*sr*vt.R+Jn,vt.Ha=vt.qa,vt.Ia=vt.ra+8*sr*vt.B+Jn,vt.$c=0,Vr+=ur,vt.mb=Tr?_r:null,vt.nb=Tr?Vr:null,B(Vr+Tr<=vt.Fc+vt.Vb),vu(vt),se(vt.Ac,vt.Bc,0,Br),sr=1}}if(sr){if(zt.ka=0,zt.y=vt.sa,zt.O=vt.ta,zt.f=vt.qa,zt.N=vt.ra,zt.ea=vt.Ha,zt.Vd=vt.Ia,zt.fa=vt.R,zt.Rc=vt.B,zt.F=null,zt.J=0,!_f){for(sr=-255;255>=sr;++sr)bp[255+sr]=0>sr?-sr:sr;for(sr=-1020;1020>=sr;++sr)cl[1020+sr]=-128>sr?-128:127<sr?127:sr;for(sr=-112;112>=sr;++sr)Tf[112+sr]=-16>sr?-16:15<sr?15:sr;for(sr=-255;510>=sr;++sr)kf[255+sr]=0>sr?0:255<sr?255:sr;_f=1}Dc=yu,jl=Kd,dc=Xo,us=xu,Ls=Bd,Ho=Pl,fi=Xu,Ao=Kc,fd=$e,ni=wt,Ad=Yu,Cu=xe,Kh=Rt,yh=nr,qh=Mi,Yd=Fc,Si=ud,Eo=Lo,Hl[0]=_c,Hl[1]=Id,Hl[2]=zc,Hl[3]=vh,Hl[4]=No,Hl[5]=sc,Hl[6]=Ml,Hl[7]=qu,Hl[8]=qd,Hl[9]=xl,Jd[0]=Vh,Jd[1]=kd,Jd[2]=_d,Jd[3]=ju,Jd[4]=Od,Jd[5]=Ku,Jd[6]=zh,pd[0]=bu,pd[1]=Td,pd[2]=Yo,pd[3]=Fd,pd[4]=ic,pd[5]=Oc,pd[6]=Rl,sr=1}else sr=0}sr&&(sr=(function(ys,cn){for(ys.M=0;ys.M<ys.Va;++ys.M){var Ra,Rn=ys.Jc[ys.M&ys.Xb],An=ys.m,mo=ys;for(Ra=0;Ra<mo.za;++Ra){var Fa=An,fs=mo,Ai=fs.Ac,Bo=fs.Bc+4*Ra,Zo=fs.zc,Ri=fs.ya[fs.aa+Ra];if(fs.Qa.Bb?Ri.$b=Lr(Fa,fs.Pa.jb[0])?2+Lr(Fa,fs.Pa.jb[2]):Lr(Fa,fs.Pa.jb[1]):Ri.$b=0,fs.kc&&(Ri.Ad=Lr(Fa,fs.Bd)),Ri.Za=!Lr(Fa,145)+0,Ri.Za){var el=Ri.Ob,ul=0;for(fs=0;4>fs;++fs){var ms,Ga=Zo[0+fs];for(ms=0;4>ms;++ms){Ga=Wm[Ai[Bo+ms]][Ga];for(var gs=CA[Lr(Fa,Ga[0])];0<gs;)gs=CA[2*gs+Lr(Fa,Ga[gs])];Ga=-gs,Ai[Bo+ms]=Ga}K(el,ul,Ai,Bo,4),ul+=4,Zo[0+fs]=Ga}}else Ga=Lr(Fa,156)?Lr(Fa,128)?1:3:Lr(Fa,163)?2:0,Ri.Ob[0]=Ga,se(Ai,Bo,Ga,4),se(Zo,0,Ga,4);Ri.Dd=Lr(Fa,142)?Lr(Fa,114)?Lr(Fa,183)?1:3:2:0}if(mo.m.Ka)return ya(ys,7,"Premature end-of-partition0 encountered.");for(;ys.ja<ys.za;++ys.ja){if(mo=Rn,Fa=(An=ys).rb[An.sb-1],Ai=An.rb[An.sb+An.ja],Ra=An.ya[An.aa+An.ja],Bo=An.kc?Ra.Ad:0)Fa.la=Ai.la=0,Ra.Za||(Fa.Na=Ai.Na=0),Ra.Hc=0,Ra.Gc=0,Ra.ia=0;else{var zi,$s;if(Fa=Ai,Ai=mo,Bo=An.Pa.Xc,Zo=An.ya[An.aa+An.ja],Ri=An.pb[Zo.$b],fs=Zo.ad,el=0,ul=An.rb[An.sb-1],Ga=ms=0,se(fs,el,0,384),Zo.Za)var pi=0,fc=Bo[3];else{gs=he(16);var Vs=Fa.Na+ul.Na;if(Vs=eh(Ai,Bo[1],Vs,Ri.Eb,0,gs,0),Fa.Na=ul.Na=(0<Vs)+0,1<Vs)Dc(gs,0,fs,el);else{var wl=gs[0]+3>>3;for(gs=0;256>gs;gs+=16)fs[el+gs]=wl}pi=1,fc=Bo[0]}var ai=15&Fa.la,tn=15&ul.la;for(gs=0;4>gs;++gs){var Wo=1&tn;for(wl=$s=0;4>wl;++wl)ai=ai>>1|(Wo=(Vs=eh(Ai,fc,Vs=Wo+(1&ai),Ri.Sc,pi,fs,el))>pi)<<7,$s=$s<<2|(3<Vs?3:1<Vs?2:fs[el+0]!=0),el+=16;ai>>=4,tn=tn>>1|Wo<<7,ms=(ms<<8|$s)>>>0}for(fc=ai,pi=tn>>4,zi=0;4>zi;zi+=2){for($s=0,ai=Fa.la>>4+zi,tn=ul.la>>4+zi,gs=0;2>gs;++gs){for(Wo=1&tn,wl=0;2>wl;++wl)Vs=Wo+(1&ai),ai=ai>>1|(Wo=0<(Vs=eh(Ai,Bo[2],Vs,Ri.Qc,0,fs,el)))<<3,$s=$s<<2|(3<Vs?3:1<Vs?2:fs[el+0]!=0),el+=16;ai>>=2,tn=tn>>1|Wo<<5}Ga|=$s<<4*zi,fc|=ai<<4<<zi,pi|=(240&tn)<<zi}Fa.la=fc,ul.la=pi,Zo.Hc=ms,Zo.Gc=Ga,Zo.ia=43690&Ga?0:Ri.ia,Bo=!(ms|Ga)}if(0<An.L&&(An.wa[An.Y+An.ja]=An.gd[Ra.$b][Ra.Za],An.wa[An.Y+An.ja].La|=!Bo),mo.Ka)return ya(ys,7,"Premature end-of-file encountered.")}if(vu(ys),An=cn,mo=1,Ra=(Rn=ys).D,Fa=0<Rn.L&&Rn.M>=Rn.zb&&Rn.M<=Rn.Va,Rn.Aa==0)t:{if(Ra.M=Rn.M,Ra.uc=Fa,an(Rn,Ra),mo=1,Ra=($s=Rn.D).Nb,Fa=(Ga=nf[Rn.L])*Rn.R,Ai=Ga/2*Rn.B,gs=16*Ra*Rn.R,wl=8*Ra*Rn.B,Bo=Rn.sa,Zo=Rn.ta-Fa+gs,Ri=Rn.qa,fs=Rn.ra-Ai+wl,el=Rn.Ha,ul=Rn.Ia-Ai+wl,tn=(ai=$s.M)==0,ms=ai>=Rn.Va-1,Rn.Aa==2&&an(Rn,$s),$s.uc)for(Wo=(Vs=Rn).D.M,B(Vs.D.uc),$s=Vs.yb;$s<Vs.Hb;++$s){pi=$s,fc=Wo;var $o=(Li=(ro=Vs).D).Nb;zi=ro.R;var Li=Li.wa[Li.Y+pi],Cl=ro.sa,Ha=ro.ta+16*$o*zi+16*pi,Pa=Li.dd,Gn=Li.tc;if(Gn!=0)if(B(3<=Gn),ro.L==1)0<pi&&Yd(Cl,Ha,zi,Gn+4),Li.La&&Eo(Cl,Ha,zi,Gn),0<fc&&qh(Cl,Ha,zi,Gn+4),Li.La&&Si(Cl,Ha,zi,Gn);else{var zs=ro.B,Is=ro.qa,Gi=ro.ra+8*$o*zs+8*pi,Ui=ro.Ha,ro=ro.Ia+8*$o*zs+8*pi;$o=Li.ld,0<pi&&(Ao(Cl,Ha,zi,Gn+4,Pa,$o),ni(Is,Gi,Ui,ro,zs,Gn+4,Pa,$o)),Li.La&&(Cu(Cl,Ha,zi,Gn,Pa,$o),yh(Is,Gi,Ui,ro,zs,Gn,Pa,$o)),0<fc&&(fi(Cl,Ha,zi,Gn+4,Pa,$o),fd(Is,Gi,Ui,ro,zs,Gn+4,Pa,$o)),Li.La&&(Ad(Cl,Ha,zi,Gn,Pa,$o),Kh(Is,Gi,Ui,ro,zs,Gn,Pa,$o))}}if(Rn.ia&&alert("todo:DitherRow"),An.put!=null){if($s=16*ai,ai=16*(ai+1),tn?(An.y=Rn.sa,An.O=Rn.ta+gs,An.f=Rn.qa,An.N=Rn.ra+wl,An.ea=Rn.Ha,An.W=Rn.Ia+wl):($s-=Ga,An.y=Bo,An.O=Zo,An.f=Ri,An.N=fs,An.ea=el,An.W=ul),ms||(ai-=Ga),ai>An.o&&(ai=An.o),An.F=null,An.J=null,Rn.Fa!=null&&0<Rn.Fa.length&&$s<ai&&(An.J=hs(Rn,An,$s,ai-$s),An.F=Rn.mb,An.F==null&&An.F.length==0)){mo=ya(Rn,3,"Could not decode alpha data.");break t}$s<An.j&&(Ga=An.j-$s,$s=An.j,B(!(1&Ga)),An.O+=Rn.R*Ga,An.N+=Rn.B*(Ga>>1),An.W+=Rn.B*(Ga>>1),An.F!=null&&(An.J+=An.width*Ga)),$s<ai&&(An.O+=An.v,An.N+=An.v>>1,An.W+=An.v>>1,An.F!=null&&(An.J+=An.v),An.ka=$s-An.j,An.U=An.va-An.v,An.T=ai-$s,mo=An.put(An))}Ra+1!=Rn.Ic||ms||(K(Rn.sa,Rn.ta-Fa,Bo,Zo+16*Rn.R,Fa),K(Rn.qa,Rn.ra-Ai,Ri,fs+8*Rn.B,Ai),K(Rn.Ha,Rn.Ia-Ai,el,ul+8*Rn.B,Ai))}if(!mo)return ya(ys,6,"Output aborted.")}return 1})(vt,zt)),zt.bc!=null&&zt.bc(zt),sr&=1}return sr?(vt.cb=0,sr):0})(O,_e)||(ee=O.a)}}else ee=O.a}ee==0&&Je.Oa!=null&&Je.Oa.fd&&(ee=Yn(Je.ba))}Je=ee}Xe=Je!=0?null:11>Xe?rt.f.RGBA.eb:rt.f.kb.y}else Xe=null;return Xe};var Wf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Re(Mt,Ar){for(var ct="",mt=0;mt<4;mt++)ct+=String.fromCharCode(Mt[Ar++]);return ct}function Ke(Mt,Ar){return Mt[Ar+0]|Mt[Ar+1]<<8}function at(Mt,Ar){return(Mt[Ar+0]|Mt[Ar+1]<<8|Mt[Ar+2]<<16)>>>0}function ut(Mt,Ar){return(Mt[Ar+0]|Mt[Ar+1]<<8|Mt[Ar+2]<<16|Mt[Ar+3]<<24)>>>0}new Ne;var Pe=[0],Nt=[0],bt=[],Et=new Ne,ot=k,Ut=(function(Mt,Ar){var ct={},mt=0,Pt=!1,Dt=0,gr=0;if(ct.frames=[],!(function(et,St){for(var kt=0;kt<4;kt++)if(et[St+kt]!="RIFF".charCodeAt(kt))return!0;return!1})(Mt,Ar)){for(ut(Mt,Ar+=4),Ar+=8;Ar<Mt.length;){var jr=Re(Mt,Ar),Nr=ut(Mt,Ar+=4);Ar+=4;var ir=Nr+(1&Nr);switch(jr){case"VP8 ":case"VP8L":ct.frames[mt]===void 0&&(ct.frames[mt]={}),(zr=ct.frames[mt]).src_off=Pt?gr:Ar-8,zr.src_size=Dt+Nr+8,mt++,Pt&&(Pt=!1,Dt=0,gr=0);break;case"VP8X":(zr=ct.header={}).feature_flags=Mt[Ar];var wr=Ar+4;zr.canvas_width=1+at(Mt,wr),wr+=3,zr.canvas_height=1+at(Mt,wr),wr+=3;break;case"ALPH":Pt=!0,Dt=ir+8,gr=Ar-8;break;case"ANIM":(zr=ct.header).bgcolor=ut(Mt,Ar),wr=Ar+4,zr.loop_count=Ke(Mt,wr),wr+=2;break;case"ANMF":var Yr,zr;(zr=ct.frames[mt]={}).offset_x=2*at(Mt,Ar),Ar+=3,zr.offset_y=2*at(Mt,Ar),Ar+=3,zr.width=1+at(Mt,Ar),Ar+=3,zr.height=1+at(Mt,Ar),Ar+=3,zr.duration=at(Mt,Ar),Ar+=3,Yr=Mt[Ar++],zr.dispose=1&Yr,zr.blend=Yr>>1&1}jr!="ANMF"&&(Ar+=ir)}return ct}})(ot,0);Ut.response=ot,Ut.rgbaoutput=!0,Ut.dataurl=!1;var rr=Ut.header?Ut.header:null,Ot=Ut.frames?Ut.frames:null;if(rr){rr.loop_counter=rr.loop_count,Pe=[rr.canvas_height],Nt=[rr.canvas_width];for(var st=0;st<Ot.length&&Ot[st].blend!=0;st++);}var Xt=Ot[0],pr=Et.WebPDecodeRGBA(ot,Xt.src_off,Xt.src_size,Nt,Pe);Xt.rgba=pr,Xt.imgwidth=Nt[0],Xt.imgheight=Pe[0];for(var ar=0;ar<Nt[0]*Pe[0]*4;ar++)bt[ar]=pr[ar];return this.width=Nt,this.height=Pe,this.data=bt,this}(function(k){var B,P,K,se,he,Ie,we,Ne,Re,Ke=function(et){return et=et||{},this.isStrokeTransparent=et.isStrokeTransparent||!1,this.strokeOpacity=et.strokeOpacity||1,this.strokeStyle=et.strokeStyle||"#000000",this.fillStyle=et.fillStyle||"#000000",this.isFillTransparent=et.isFillTransparent||!1,this.fillOpacity=et.fillOpacity||1,this.font=et.font||"10px sans-serif",this.textBaseline=et.textBaseline||"alphabetic",this.textAlign=et.textAlign||"left",this.lineWidth=et.lineWidth||1,this.lineJoin=et.lineJoin||"miter",this.lineCap=et.lineCap||"butt",this.path=et.path||[],this.transform=et.transform!==void 0?et.transform.clone():new Ne,this.globalCompositeOperation=et.globalCompositeOperation||"normal",this.globalAlpha=et.globalAlpha||1,this.clip_path=et.clip_path||[],this.currentPoint=et.currentPoint||new Ie,this.miterLimit=et.miterLimit||10,this.lastPoint=et.lastPoint||new Ie,this.lineDashOffset=et.lineDashOffset||0,this.lineDash=et.lineDash||[],this.margin=et.margin||[0,0,0,0],this.prevPageLastElemOffset=et.prevPageLastElemOffset||0,this.ignoreClearRect=typeof et.ignoreClearRect!="boolean"||et.ignoreClearRect,this};k.events.push(["initialized",function(){this.context2d=new at(this),B=this.internal.f2,P=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,se=this.internal.getHorizontalCoordinate,he=this.internal.getVerticalCoordinate,Ie=this.internal.Point,we=this.internal.Rectangle,Ne=this.internal.Matrix,Re=new Ke}]);var at=function(et){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var St=et;Object.defineProperty(this,"pdf",{get:function(){return St}});var kt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return kt},set:function(pt){kt=!!pt}});var Yt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Yt},set:function(pt){Yt=!!pt}});var tr=0;Object.defineProperty(this,"posX",{get:function(){return tr},set:function(pt){isNaN(pt)||(tr=pt)}});var dr=0;Object.defineProperty(this,"posY",{get:function(){return dr},set:function(pt){isNaN(pt)||(dr=pt)}}),Object.defineProperty(this,"margin",{get:function(){return Re.margin},set:function(pt){var hn;typeof pt=="number"?hn=[pt,pt,pt,pt]:((hn=new Array(4))[0]=pt[0],hn[1]=pt.length>=2?pt[1]:hn[0],hn[2]=pt.length>=3?pt[2]:hn[0],hn[3]=pt.length>=4?pt[3]:hn[1]),Re.margin=hn}});var br=!1;Object.defineProperty(this,"autoPaging",{get:function(){return br},set:function(pt){br=pt}});var Cr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Cr},set:function(pt){Cr=pt}});var Lr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Lr},set:function(pt){Lr=pt}}),Object.defineProperty(this,"ctx",{get:function(){return Re},set:function(pt){pt instanceof Ke&&(Re=pt)}}),Object.defineProperty(this,"path",{get:function(){return Re.path},set:function(pt){Re.path=pt}});var Jr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Jr},set:function(pt){Jr=pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pt){var hn;hn=ut(pt),this.ctx.fillStyle=hn.style,this.ctx.isFillTransparent=hn.a===0,this.ctx.fillOpacity=hn.a,this.pdf.setFillColor(hn.r,hn.g,hn.b,{a:hn.a}),this.pdf.setTextColor(hn.r,hn.g,hn.b,{a:hn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pt){var hn=ut(pt);this.ctx.strokeStyle=hn.style,this.ctx.isStrokeTransparent=hn.a===0,this.ctx.strokeOpacity=hn.a,hn.a===0?this.pdf.setDrawColor(255,255,255):(hn.a,this.pdf.setDrawColor(hn.r,hn.g,hn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pt){["butt","round","square"].indexOf(pt)!==-1&&(this.ctx.lineCap=pt,this.pdf.setLineCap(pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pt){isNaN(pt)||(this.ctx.lineWidth=pt,this.pdf.setLineWidth(pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pt){["bevel","round","miter"].indexOf(pt)!==-1&&(this.ctx.lineJoin=pt,this.pdf.setLineJoin(pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pt){isNaN(pt)||(this.ctx.miterLimit=pt,this.pdf.setMiterLimit(pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pt){this.ctx.textBaseline=pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pt){["right","end","center","left","start"].indexOf(pt)!==-1&&(this.ctx.textAlign=pt)}});var jn=null,wn=null,oa=null;Object.defineProperty(this,"fontFaces",{get:function(){return oa},set:function(pt){jn=null,wn=null,oa=pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pt){var hn;if(this.ctx.font=pt,(hn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pt))!==null){var ma=hn[1];hn[2];var dn=hn[3],Gr=hn[4];hn[5];var aa=hn[6],On=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Gr)[2];Gr=Math.floor(On==="px"?parseFloat(Gr)*this.pdf.internal.scaleFactor:On==="em"?parseFloat(Gr)*this.pdf.getFontSize():parseFloat(Gr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Gr);var Xn=(function(Tn){var ba,cs,Va=[],za=Tn.trim();if(za==="")return _o;if(za in Wa)return[Wa[za]];for(;za!=="";){switch(cs=null,ba=(za=yi(za)).charAt(0)){case'"':case"'":cs=Il(za.substring(1),ba);break;default:cs=Ec(za)}if(cs===null||(Va.push(cs[0]),(za=yi(cs[1]))!==""&&za.charAt(0)!==","))return _o;za=za.replace(/^,/,"")}return Va})(aa);if(this.fontFaces){var Fn=(function(Tn,ba){var cs=Tn.getFontList(),Va=JSON.stringify(cs);if(jn===null||wn!==Va){var za=(function(ti){var $n=[];return Object.keys(ti).forEach(function(Ss){ti[Ss].forEach(function(ga){var Hn=null;switch(ga){case"bold":Hn={family:Ss,weight:"bold"};break;case"italic":Hn={family:Ss,style:"italic"};break;case"bolditalic":Hn={family:Ss,weight:"bold",style:"italic"};break;case"":case"normal":Hn={family:Ss}}Hn!==null&&(Hn.ref={name:Ss,style:ga},$n.push(Hn))})}),$n})(cs);jn=(function(ti){for(var $n={},Ss=0;Ss<ti.length;++Ss){var ga=co(ti[Ss]),Hn=ga.family,Es=ga.stretch,wa=ga.style,Cn=ga.weight;$n[Hn]=$n[Hn]||{},$n[Hn][Es]=$n[Hn][Es]||{},$n[Hn][Es][wa]=$n[Hn][Es][wa]||{},$n[Hn][Es][wa][Cn]=ga}return $n})(za.concat(ba)),wn=Va}return jn})(this.pdf,this.fontFaces),ps=Xn.map(function(Tn){return{family:Tn,stretch:"normal",weight:dn,style:ma}}),Ua=(function(Tn,ba,cs){for(var Va=(cs=cs||{}).defaultFontFamily||"times",za=Object.assign({},Xi,cs.genericFontFamilies||{}),ti=null,$n=null,Ss=0;Ss<ba.length;++Ss)if(za[(ti=co(ba[Ss])).family]&&(ti.family=za[ti.family]),Tn.hasOwnProperty(ti.family)){$n=Tn[ti.family];break}if(!($n=$n||Tn[Va]))throw new Error("Could not find a font-family for the rule '"+Sc(ti)+"' and default family '"+Va+"'.");if($n=(function(ga,Hn){if(Hn[ga])return Hn[ga];var Es=ks[ga],wa=Es<=ks.normal?-1:1,Cn=ts(Hn,Ps,Es,wa);if(!Cn)throw new Error("Could not find a matching font-stretch value for "+ga);return Cn})(ti.stretch,$n),$n=(function(ga,Hn){if(Hn[ga])return Hn[ga];for(var Es=qi[ga],wa=0;wa<Es.length;++wa)if(Hn[Es[wa]])return Hn[Es[wa]];throw new Error("Could not find a matching font-style for "+ga)})(ti.style,$n),!($n=(function(ga,Hn){if(Hn[ga])return Hn[ga];if(ga===400&&Hn[500])return Hn[500];if(ga===500&&Hn[400])return Hn[400];var Es=Us[ga],wa=ts(Hn,di,Es,ga<400?-1:1);if(!wa)throw new Error("Could not find a matching font-weight for value "+ga);return wa})(ti.weight,$n)))throw new Error("Failed to resolve a font for the rule '"+Sc(ti)+"'.");return $n})(Fn,ps);this.pdf.setFont(Ua.ref.name,Ua.ref.style)}else{var _n="";(dn==="bold"||parseInt(dn,10)>=700||ma==="bold")&&(_n="bold"),ma==="italic"&&(_n+="italic"),_n.length===0&&(_n="normal");for(var ss="",sa={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},In=0;In<Xn.length;In++){if(this.pdf.internal.getFont(Xn[In],_n,{noFallback:!0,disableWarning:!0})!==void 0){ss=Xn[In];break}if(_n==="bolditalic"&&this.pdf.internal.getFont(Xn[In],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ss=Xn[In],_n="bold";else if(this.pdf.internal.getFont(Xn[In],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ss=Xn[In],_n="normal";break}}if(ss===""){for(var la=0;la<Xn.length;la++)if(sa[Xn[la]]){ss=sa[Xn[la]];break}}ss=ss===""?"Times":ss,this.pdf.setFont(ss,_n)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pt){this.ctx.globalCompositeOperation=pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pt){this.ctx.globalAlpha=pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pt){this.ctx.lineDashOffset=pt,zr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pt){this.ctx.lineDash=pt,zr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pt){this.ctx.ignoreClearRect=!!pt}})};at.prototype.setLineDash=function(et){this.lineDash=et},at.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},at.prototype.fill=function(){Ot.call(this,"fill",!1)},at.prototype.stroke=function(){Ot.call(this,"stroke",!1)},at.prototype.beginPath=function(){this.path=[{type:"begin"}]},at.prototype.moveTo=function(et,St){if(isNaN(et)||isNaN(St))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var kt=this.ctx.transform.applyToPoint(new Ie(et,St));this.path.push({type:"mt",x:kt.x,y:kt.y}),this.ctx.lastPoint=new Ie(et,St)},at.prototype.closePath=function(){var et=new Ie(0,0),St=0;for(St=this.path.length-1;St!==-1;St--)if(this.path[St].type==="begin"&&(0,u.default)(this.path[St+1])==="object"&&typeof this.path[St+1].x=="number"){et=new Ie(this.path[St+1].x,this.path[St+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ie(et.x,et.y)},at.prototype.lineTo=function(et,St){if(isNaN(et)||isNaN(St))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var kt=this.ctx.transform.applyToPoint(new Ie(et,St));this.path.push({type:"lt",x:kt.x,y:kt.y}),this.ctx.lastPoint=new Ie(kt.x,kt.y)},at.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ot.call(this,null,!0)},at.prototype.quadraticCurveTo=function(et,St,kt,Yt){if(isNaN(kt)||isNaN(Yt)||isNaN(et)||isNaN(St))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var tr=this.ctx.transform.applyToPoint(new Ie(kt,Yt)),dr=this.ctx.transform.applyToPoint(new Ie(et,St));this.path.push({type:"qct",x1:dr.x,y1:dr.y,x:tr.x,y:tr.y}),this.ctx.lastPoint=new Ie(tr.x,tr.y)},at.prototype.bezierCurveTo=function(et,St,kt,Yt,tr,dr){if(isNaN(tr)||isNaN(dr)||isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var br=this.ctx.transform.applyToPoint(new Ie(tr,dr)),Cr=this.ctx.transform.applyToPoint(new Ie(et,St)),Lr=this.ctx.transform.applyToPoint(new Ie(kt,Yt));this.path.push({type:"bct",x1:Cr.x,y1:Cr.y,x2:Lr.x,y2:Lr.y,x:br.x,y:br.y}),this.ctx.lastPoint=new Ie(br.x,br.y)},at.prototype.arc=function(et,St,kt,Yt,tr,dr){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt)||isNaN(tr))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(dr=!!dr,!this.ctx.transform.isIdentity){var br=this.ctx.transform.applyToPoint(new Ie(et,St));et=br.x,St=br.y;var Cr=this.ctx.transform.applyToPoint(new Ie(0,kt)),Lr=this.ctx.transform.applyToPoint(new Ie(0,0));kt=Math.sqrt(Math.pow(Cr.x-Lr.x,2)+Math.pow(Cr.y-Lr.y,2))}Math.abs(tr-Yt)>=2*Math.PI&&(Yt=0,tr=2*Math.PI),this.path.push({type:"arc",x:et,y:St,radius:kt,startAngle:Yt,endAngle:tr,counterclockwise:dr})},at.prototype.arcTo=function(et,St,kt,Yt,tr){throw new Error("arcTo not implemented.")},at.prototype.rect=function(et,St,kt,Yt){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(et,St),this.lineTo(et+kt,St),this.lineTo(et+kt,St+Yt),this.lineTo(et,St+Yt),this.lineTo(et,St),this.lineTo(et+kt,St),this.lineTo(et,St)},at.prototype.fillRect=function(et,St,kt,Yt){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Pe.call(this)){var tr={};this.lineCap!=="butt"&&(tr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(tr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(et,St,kt,Yt),this.fill(),tr.hasOwnProperty("lineCap")&&(this.lineCap=tr.lineCap),tr.hasOwnProperty("lineJoin")&&(this.lineJoin=tr.lineJoin)}},at.prototype.strokeRect=function(et,St,kt,Yt){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Nt.call(this)||(this.beginPath(),this.rect(et,St,kt,Yt),this.stroke())},at.prototype.clearRect=function(et,St,kt,Yt){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(et,St,kt,Yt))},at.prototype.save=function(et){et=typeof et!="boolean"||et;for(var St=this.pdf.internal.getCurrentPageInfo().pageNumber,kt=0;kt<this.pdf.internal.getNumberOfPages();kt++)this.pdf.setPage(kt+1),this.pdf.internal.out("q");if(this.pdf.setPage(St),et){this.ctx.fontSize=this.pdf.internal.getFontSize();var Yt=new Ke(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Yt}},at.prototype.restore=function(et){et=typeof et!="boolean"||et;for(var St=this.pdf.internal.getCurrentPageInfo().pageNumber,kt=0;kt<this.pdf.internal.getNumberOfPages();kt++)this.pdf.setPage(kt+1),this.pdf.internal.out("Q");this.pdf.setPage(St),et&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},at.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ut=function(et){var St,kt,Yt,tr;if(et.isCanvasGradient===!0&&(et=et.getColor()),!et)return{r:0,g:0,b:0,a:0,style:et};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(et))St=0,kt=0,Yt=0,tr=0;else{var dr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(et);if(dr!==null)St=parseInt(dr[1]),kt=parseInt(dr[2]),Yt=parseInt(dr[3]),tr=1;else if((dr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(et))!==null)St=parseInt(dr[1]),kt=parseInt(dr[2]),Yt=parseInt(dr[3]),tr=parseFloat(dr[4]);else{if(tr=1,typeof et=="string"&&et.charAt(0)!=="#"){var br=new w(et);et=br.ok?br.toHex():"#000000"}et.length===4?(St=et.substring(1,2),St+=St,kt=et.substring(2,3),kt+=kt,Yt=et.substring(3,4),Yt+=Yt):(St=et.substring(1,3),kt=et.substring(3,5),Yt=et.substring(5,7)),St=parseInt(St,16),kt=parseInt(kt,16),Yt=parseInt(Yt,16)}}return{r:St,g:kt,b:Yt,a:tr,style:et}},Pe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Nt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};at.prototype.fillText=function(et,St,kt,Yt){if(isNaN(St)||isNaN(kt)||typeof et!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Yt=isNaN(Yt)?void 0:Yt,!Pe.call(this)){var tr=ir(this.ctx.transform.rotation),dr=this.ctx.transform.scaleX;mt.call(this,{text:et,x:St,y:kt,scale:dr,angle:tr,align:this.textAlign,maxWidth:Yt})}},at.prototype.strokeText=function(et,St,kt,Yt){if(isNaN(St)||isNaN(kt)||typeof et!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Nt.call(this)){Yt=isNaN(Yt)?void 0:Yt;var tr=ir(this.ctx.transform.rotation),dr=this.ctx.transform.scaleX;mt.call(this,{text:et,x:St,y:kt,scale:dr,renderingMode:"stroke",angle:tr,align:this.textAlign,maxWidth:Yt})}},at.prototype.measureText=function(et){if(typeof et!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var St=this.pdf,kt=this.pdf.internal.scaleFactor,Yt=St.internal.getFontSize(),tr=St.getStringUnitWidth(et)*Yt/St.internal.scaleFactor;return new function(dr){var br=(dr=dr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return br}}),this}({width:tr*=Math.round(96*kt/72*1e4)/1e4})},at.prototype.scale=function(et,St){if(isNaN(et)||isNaN(St))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var kt=new Ne(et,0,0,St,0,0);this.ctx.transform=this.ctx.transform.multiply(kt)},at.prototype.rotate=function(et){if(isNaN(et))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var St=new Ne(Math.cos(et),Math.sin(et),-Math.sin(et),Math.cos(et),0,0);this.ctx.transform=this.ctx.transform.multiply(St)},at.prototype.translate=function(et,St){if(isNaN(et)||isNaN(St))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var kt=new Ne(1,0,0,1,et,St);this.ctx.transform=this.ctx.transform.multiply(kt)},at.prototype.transform=function(et,St,kt,Yt,tr,dr){if(isNaN(et)||isNaN(St)||isNaN(kt)||isNaN(Yt)||isNaN(tr)||isNaN(dr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var br=new Ne(et,St,kt,Yt,tr,dr);this.ctx.transform=this.ctx.transform.multiply(br)},at.prototype.setTransform=function(et,St,kt,Yt,tr,dr){et=isNaN(et)?1:et,St=isNaN(St)?0:St,kt=isNaN(kt)?0:kt,Yt=isNaN(Yt)?1:Yt,tr=isNaN(tr)?0:tr,dr=isNaN(dr)?0:dr,this.ctx.transform=new Ne(et,St,kt,Yt,tr,dr)};var bt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};at.prototype.drawImage=function(et,St,kt,Yt,tr,dr,br,Cr,Lr){var Jr=this.pdf.getImageProperties(et),jn=1,wn=1,oa=1,pt=1;Yt!==void 0&&Cr!==void 0&&(oa=Cr/Yt,pt=Lr/tr,jn=Jr.width/Yt*Cr/Yt,wn=Jr.height/tr*Lr/tr),dr===void 0&&(dr=St,br=kt,St=0,kt=0),Yt!==void 0&&Cr===void 0&&(Cr=Yt,Lr=tr),Yt===void 0&&Cr===void 0&&(Cr=Jr.width,Lr=Jr.height);var hn=this.ctx.transform.decompose(),ma=ir(hn.rotate.shx),dn=new Ne,Gr=(dn=(dn=(dn=dn.multiply(hn.translate)).multiply(hn.skew)).multiply(hn.scale)).applyToRectangle(new we(dr-St*oa,br-kt*pt,Yt*jn,tr*wn));if(this.autoPaging){for(var aa,On=Et.call(this,Gr),Xn=[],Fn=0;Fn<On.length;Fn+=1)Xn.indexOf(On[Fn])===-1&&Xn.push(On[Fn]);rr(Xn);for(var ps=Xn[0],Ua=Xn[Xn.length-1],_n=ps;_n<Ua+1;_n++){this.pdf.setPage(_n);var ss=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sa=_n===1?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],la=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tn=_n===1?0:In+(_n-2)*la;if(this.ctx.clip_path.length!==0){var ba=this.path;aa=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(aa,this.posX+this.margin[3],-Tn+sa+this.ctx.prevPageLastElemOffset),st.call(this,"fill",!0),this.path=ba}var cs=JSON.parse(JSON.stringify(Gr));cs=Ut([cs],this.posX+this.margin[3],-Tn+sa+this.ctx.prevPageLastElemOffset)[0];var Va=(_n>ps||_n<Ua)&&bt.call(this);Va&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ss,la,null).clip().discardPath()),this.pdf.addImage(et,"JPEG",cs.x,cs.y,cs.w,cs.h,null,null,ma),Va&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(et,"JPEG",Gr.x,Gr.y,Gr.w,Gr.h,null,null,ma)};var Et=function(et,St,kt){var Yt=[];St=St||this.pdf.internal.pageSize.width,kt=kt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var tr=this.posY+this.ctx.prevPageLastElemOffset;switch(et.type){default:case"mt":case"lt":Yt.push(Math.floor((et.y+tr)/kt)+1);break;case"arc":Yt.push(Math.floor((et.y+tr-et.radius)/kt)+1),Yt.push(Math.floor((et.y+tr+et.radius)/kt)+1);break;case"qct":var dr=wr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,et.x1,et.y1,et.x,et.y);Yt.push(Math.floor((dr.y+tr)/kt)+1),Yt.push(Math.floor((dr.y+dr.h+tr)/kt)+1);break;case"bct":var br=Yr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,et.x1,et.y1,et.x2,et.y2,et.x,et.y);Yt.push(Math.floor((br.y+tr)/kt)+1),Yt.push(Math.floor((br.y+br.h+tr)/kt)+1);break;case"rect":Yt.push(Math.floor((et.y+tr)/kt)+1),Yt.push(Math.floor((et.y+et.h+tr)/kt)+1)}for(var Cr=0;Cr<Yt.length;Cr+=1)for(;this.pdf.internal.getNumberOfPages()<Yt[Cr];)ot.call(this);return Yt},ot=function(){var et=this.fillStyle,St=this.strokeStyle,kt=this.font,Yt=this.lineCap,tr=this.lineWidth,dr=this.lineJoin;this.pdf.addPage(),this.fillStyle=et,this.strokeStyle=St,this.font=kt,this.lineCap=Yt,this.lineWidth=tr,this.lineJoin=dr},Ut=function(et,St,kt){for(var Yt=0;Yt<et.length;Yt++)switch(et[Yt].type){case"bct":et[Yt].x2+=St,et[Yt].y2+=kt;case"qct":et[Yt].x1+=St,et[Yt].y1+=kt;default:et[Yt].x+=St,et[Yt].y+=kt}return et},rr=function(et){return et.sort(function(St,kt){return St-kt})},Ot=function(et,St){var kt=this.fillStyle,Yt=this.strokeStyle,tr=this.lineCap,dr=this.lineWidth,br=Math.abs(dr*this.ctx.transform.scaleX),Cr=this.lineJoin;if(this.autoPaging){for(var Lr,Jr,jn=JSON.parse(JSON.stringify(this.path)),wn=JSON.parse(JSON.stringify(this.path)),oa=[],pt=0;pt<wn.length;pt++)if(wn[pt].x!==void 0)for(var hn=Et.call(this,wn[pt]),ma=0;ma<hn.length;ma+=1)oa.indexOf(hn[ma])===-1&&oa.push(hn[ma]);for(var dn=0;dn<oa.length;dn++)for(;this.pdf.internal.getNumberOfPages()<oa[dn];)ot.call(this);rr(oa);for(var Gr=oa[0],aa=oa[oa.length-1],On=Gr;On<aa+1;On++){this.pdf.setPage(On),this.fillStyle=kt,this.strokeStyle=Yt,this.lineCap=tr,this.lineWidth=br,this.lineJoin=Cr;var Xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fn=On===1?this.posY+this.margin[0]:this.margin[0],ps=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ua=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_n=On===1?0:ps+(On-2)*Ua;if(this.ctx.clip_path.length!==0){var ss=this.path;Lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(Lr,this.posX+this.margin[3],-_n+Fn+this.ctx.prevPageLastElemOffset),st.call(this,et,!0),this.path=ss}if(Jr=JSON.parse(JSON.stringify(jn)),this.path=Ut(Jr,this.posX+this.margin[3],-_n+Fn+this.ctx.prevPageLastElemOffset),St===!1||On===0){var sa=(On>Gr||On<aa)&&bt.call(this);sa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xn,Ua,null).clip().discardPath()),st.call(this,et,St),sa&&this.pdf.restoreGraphicsState()}this.lineWidth=dr}this.path=jn}else this.lineWidth=br,st.call(this,et,St),this.lineWidth=dr},st=function(et,St){if((et!=="stroke"||St||!Nt.call(this))&&(et==="stroke"||St||!Pe.call(this))){for(var kt,Yt,tr=[],dr=this.path,br=0;br<dr.length;br++){var Cr=dr[br];switch(Cr.type){case"begin":tr.push({begin:!0});break;case"close":tr.push({close:!0});break;case"mt":tr.push({start:Cr,deltas:[],abs:[]});break;case"lt":var Lr=tr.length;if(dr[br-1]&&!isNaN(dr[br-1].x)&&(kt=[Cr.x-dr[br-1].x,Cr.y-dr[br-1].y],Lr>0)){for(;Lr>=0;Lr--)if(tr[Lr-1].close!==!0&&tr[Lr-1].begin!==!0){tr[Lr-1].deltas.push(kt),tr[Lr-1].abs.push(Cr);break}}break;case"bct":kt=[Cr.x1-dr[br-1].x,Cr.y1-dr[br-1].y,Cr.x2-dr[br-1].x,Cr.y2-dr[br-1].y,Cr.x-dr[br-1].x,Cr.y-dr[br-1].y],tr[tr.length-1].deltas.push(kt);break;case"qct":var Jr=dr[br-1].x+2/3*(Cr.x1-dr[br-1].x),jn=dr[br-1].y+2/3*(Cr.y1-dr[br-1].y),wn=Cr.x+2/3*(Cr.x1-Cr.x),oa=Cr.y+2/3*(Cr.y1-Cr.y),pt=Cr.x,hn=Cr.y;kt=[Jr-dr[br-1].x,jn-dr[br-1].y,wn-dr[br-1].x,oa-dr[br-1].y,pt-dr[br-1].x,hn-dr[br-1].y],tr[tr.length-1].deltas.push(kt);break;case"arc":tr.push({deltas:[],abs:[],arc:!0}),Array.isArray(tr[tr.length-1].abs)&&tr[tr.length-1].abs.push(Cr)}}Yt=St?null:et==="stroke"?"stroke":"fill";for(var ma=!1,dn=0;dn<tr.length;dn++)if(tr[dn].arc)for(var Gr=tr[dn].abs,aa=0;aa<Gr.length;aa++){var On=Gr[aa];On.type==="arc"?ar.call(this,On.x,On.y,On.radius,On.startAngle,On.endAngle,On.counterclockwise,void 0,St,!ma):Pt.call(this,On.x,On.y),ma=!0}else if(tr[dn].close===!0)this.pdf.internal.out("h"),ma=!1;else if(tr[dn].begin!==!0){var Xn=tr[dn].start.x,Fn=tr[dn].start.y;Dt.call(this,tr[dn].deltas,Xn,Fn),ma=!0}Yt&&Mt.call(this,Yt),St&&Ar.call(this)}},Xt=function(et){var St=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,kt=St*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return et-kt;case"top":return et+St-kt;case"hanging":return et+St-2*kt;case"middle":return et+St/2-kt;default:return et}},pr=function(et){return et+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};at.prototype.createLinearGradient=function(){var et=function(){};return et.colorStops=[],et.addColorStop=function(St,kt){this.colorStops.push([St,kt])},et.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},et.isCanvasGradient=!0,et},at.prototype.createPattern=function(){return this.createLinearGradient()},at.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ar=function(et,St,kt,Yt,tr,dr,br,Cr,Lr){for(var Jr=jr.call(this,kt,Yt,tr,dr),jn=0;jn<Jr.length;jn++){var wn=Jr[jn];jn===0&&(Lr?ct.call(this,wn.x1+et,wn.y1+St):Pt.call(this,wn.x1+et,wn.y1+St)),gr.call(this,et,St,wn.x2,wn.y2,wn.x3,wn.y3,wn.x4,wn.y4)}Cr?Ar.call(this):Mt.call(this,br)},Mt=function(et){switch(et){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ar=function(){this.pdf.clip(),this.pdf.discardPath()},ct=function(et,St){this.pdf.internal.out(P(et)+" "+K(St)+" m")},mt=function(et){var St;switch(et.align){case"right":case"end":St="right";break;case"center":St="center";break;default:St="left"}var kt,Yt,tr,dr=this.pdf.getTextDimensions(et.text),br=Xt.call(this,et.y),Cr=pr.call(this,br)-dr.h,Lr=this.ctx.transform.applyToPoint(new Ie(et.x,br));if(this.autoPaging){var Jr=this.ctx.transform.decompose(),jn=new Ne;jn=(jn=(jn=jn.multiply(Jr.translate)).multiply(Jr.skew)).multiply(Jr.scale);for(var wn=this.ctx.transform.applyToRectangle(new we(et.x,br,dr.w,dr.h)),oa=jn.applyToRectangle(new we(et.x,Cr,dr.w,dr.h)),pt=Et.call(this,oa),hn=[],ma=0;ma<pt.length;ma+=1)hn.indexOf(pt[ma])===-1&&hn.push(pt[ma]);rr(hn);for(var dn=hn[0],Gr=hn[hn.length-1],aa=dn;aa<Gr+1;aa++){this.pdf.setPage(aa);var On=aa===1?this.posY+this.margin[0]:this.margin[0],Xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fn=this.pdf.internal.pageSize.height-this.margin[2],ps=Fn-this.margin[0],Ua=this.pdf.internal.pageSize.width-this.margin[1],_n=Ua-this.margin[3],ss=aa===1?0:Xn+(aa-2)*ps;if(this.ctx.clip_path.length!==0){var sa=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(kt,this.posX+this.margin[3],-1*ss+On),st.call(this,"fill",!0),this.path=sa}var In=Ut([JSON.parse(JSON.stringify(oa))],this.posX+this.margin[3],-ss+On+this.ctx.prevPageLastElemOffset)[0];et.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*et.scale),tr=this.lineWidth,this.lineWidth=tr*et.scale);var la=this.autoPaging!=="text";if(la||In.y+In.h<=Fn){if(la||In.y>=On&&In.x<=Ua){var Tn=la?et.text:this.pdf.splitTextToSize(et.text,et.maxWidth||Ua-In.x)[0],ba=Ut([JSON.parse(JSON.stringify(wn))],this.posX+this.margin[3],-ss+On+this.ctx.prevPageLastElemOffset)[0],cs=la&&(aa>dn||aa<Gr)&&bt.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_n,ps,null).clip().discardPath()),this.pdf.text(Tn,ba.x,ba.y,{angle:et.angle,align:St,renderingMode:et.renderingMode}),cs&&this.pdf.restoreGraphicsState()}}else In.y<Fn&&(this.ctx.prevPageLastElemOffset+=Fn-In.y);et.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=tr)}}else et.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*et.scale),tr=this.lineWidth,this.lineWidth=tr*et.scale),this.pdf.text(et.text,Lr.x+this.posX,Lr.y+this.posY,{angle:et.angle,align:St,renderingMode:et.renderingMode,maxWidth:et.maxWidth}),et.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=tr)},Pt=function(et,St,kt,Yt){kt=kt||0,Yt=Yt||0,this.pdf.internal.out(P(et+kt)+" "+K(St+Yt)+" l")},Dt=function(et,St,kt){return this.pdf.lines(et,St,kt,null,null)},gr=function(et,St,kt,Yt,tr,dr,br,Cr){this.pdf.internal.out([B(se(kt+et)),B(he(Yt+St)),B(se(tr+et)),B(he(dr+St)),B(se(br+et)),B(he(Cr+St)),"c"].join(" "))},jr=function(et,St,kt,Yt){for(var tr=2*Math.PI,dr=Math.PI/2;St>kt;)St-=tr;var br=Math.abs(kt-St);br<tr&&Yt&&(br=tr-br);for(var Cr=[],Lr=Yt?-1:1,Jr=St;br>1e-5;){var jn=Jr+Lr*Math.min(br,dr);Cr.push(Nr.call(this,et,Jr,jn)),br-=Math.abs(jn-Jr),Jr=jn}return Cr},Nr=function(et,St,kt){var Yt=(kt-St)/2,tr=et*Math.cos(Yt),dr=et*Math.sin(Yt),br=tr,Cr=-dr,Lr=br*br+Cr*Cr,Jr=Lr+br*tr+Cr*dr,jn=4/3*(Math.sqrt(2*Lr*Jr)-Jr)/(br*dr-Cr*tr),wn=br-jn*Cr,oa=Cr+jn*br,pt=wn,hn=-oa,ma=Yt+St,dn=Math.cos(ma),Gr=Math.sin(ma);return{x1:et*Math.cos(St),y1:et*Math.sin(St),x2:wn*dn-oa*Gr,y2:wn*Gr+oa*dn,x3:pt*dn-hn*Gr,y3:pt*Gr+hn*dn,x4:et*Math.cos(kt),y4:et*Math.sin(kt)}},ir=function(et){return 180*et/Math.PI},wr=function(et,St,kt,Yt,tr,dr){var br=et+.5*(kt-et),Cr=St+.5*(Yt-St),Lr=tr+.5*(kt-tr),Jr=dr+.5*(Yt-dr),jn=Math.min(et,tr,br,Lr),wn=Math.max(et,tr,br,Lr),oa=Math.min(St,dr,Cr,Jr),pt=Math.max(St,dr,Cr,Jr);return new we(jn,oa,wn-jn,pt-oa)},Yr=function(et,St,kt,Yt,tr,dr,br,Cr){var Lr,Jr,jn,wn,oa,pt,hn,ma,dn,Gr,aa,On,Xn,Fn,ps=kt-et,Ua=Yt-St,_n=tr-kt,ss=dr-Yt,sa=br-tr,In=Cr-dr;for(Jr=0;Jr<41;Jr++)dn=(hn=(jn=et+(Lr=Jr/40)*ps)+Lr*((oa=kt+Lr*_n)-jn))+Lr*(oa+Lr*(tr+Lr*sa-oa)-hn),Gr=(ma=(wn=St+Lr*Ua)+Lr*((pt=Yt+Lr*ss)-wn))+Lr*(pt+Lr*(dr+Lr*In-pt)-ma),Jr==0?(aa=dn,On=Gr,Xn=dn,Fn=Gr):(aa=Math.min(aa,dn),On=Math.min(On,Gr),Xn=Math.max(Xn,dn),Fn=Math.max(Fn,Gr));return new we(Math.round(aa),Math.round(On),Math.round(Xn-aa),Math.round(Fn-On))},zr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var et,St,kt=(et=this.ctx.lineDash,St=this.ctx.lineDashOffset,JSON.stringify({lineDash:et,lineDashOffset:St}));this.prevLineDash!==kt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=kt)}}})(Ae.API),(function(k){var B=function(Ie){var we,Ne,Re,Ke,at,ut,Pe,Nt,bt,Et;for(Ne=[],Re=0,Ke=(Ie+=we="\0\0\0\0".slice(Ie.length%4||4)).length;Ke>Re;Re+=4)(at=(Ie.charCodeAt(Re)<<24)+(Ie.charCodeAt(Re+1)<<16)+(Ie.charCodeAt(Re+2)<<8)+Ie.charCodeAt(Re+3))!==0?(ut=(at=((at=((at=((at=(at-(Et=at%85))/85)-(bt=at%85))/85)-(Nt=at%85))/85)-(Pe=at%85))/85)%85,Ne.push(ut+33,Pe+33,Nt+33,bt+33,Et+33)):Ne.push(122);return(function(ot,Ut){for(var rr=Ut;rr>0;rr--)ot.pop()})(Ne,we.length),String.fromCharCode.apply(String,Ne)+"~>"},P=function(Ie){var we,Ne,Re,Ke,at,ut=String,Pe="length",Nt=255,bt="charCodeAt",Et="slice",ot="replace";for(Ie[Et](-2),Ie=Ie[Et](0,-2)[ot](/\s/g,"")[ot]("z","!!!!!"),Re=[],Ke=0,at=(Ie+=we="uuuuu"[Et](Ie[Pe]%5||5))[Pe];at>Ke;Ke+=5)Ne=52200625*(Ie[bt](Ke)-33)+614125*(Ie[bt](Ke+1)-33)+7225*(Ie[bt](Ke+2)-33)+85*(Ie[bt](Ke+3)-33)+(Ie[bt](Ke+4)-33),Re.push(Nt&Ne>>24,Nt&Ne>>16,Nt&Ne>>8,Nt&Ne);return(function(Ut,rr){for(var Ot=rr;Ot>0;Ot--)Ut.pop()})(Re,we[Pe]),ut.fromCharCode.apply(ut,Re)},K=function(Ie){return Ie.split("").map(function(we){return("0"+we.charCodeAt().toString(16)).slice(-2)}).join("")+">"},se=function(Ie){var we=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ie=Ie.replace(/\s/g,"")).indexOf(">")!==-1&&(Ie=Ie.substr(0,Ie.indexOf(">"))),Ie.length%2&&(Ie+="0"),we.test(Ie)===!1)return"";for(var Ne="",Re=0;Re<Ie.length;Re+=2)Ne+=String.fromCharCode("0x"+(Ie[Re]+Ie[Re+1]));return Ne},he=function(Ie){for(var we=new Uint8Array(Ie.length),Ne=Ie.length;Ne--;)we[Ne]=Ie.charCodeAt(Ne);return(we=(0,h.zlibSync)(we)).reduce(function(Re,Ke){return Re+String.fromCharCode(Ke)},"")};k.processDataByFilters=function(Ie,we){var Ne=0,Re=Ie||"",Ke=[];for(typeof(we=we||[])=="string"&&(we=[we]),Ne=0;Ne<we.length;Ne+=1)switch(we[Ne]){case"ASCII85Decode":case"/ASCII85Decode":Re=P(Re),Ke.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Re=B(Re),Ke.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Re=se(Re),Ke.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Re=K(Re),Ke.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Re=he(Re),Ke.push("/FlateDecode");break;default:throw new Error('The filter: "'+we[Ne]+'" is not implemented')}return{data:Re,reverseChain:Ke.reverse().join(" ")}}})(Ae.API),(function(k){k.loadFile=function(B,P,K){return(function(se,he,Ie){he=he!==!1,Ie=typeof Ie=="function"?Ie:function(){};var we=void 0;try{we=(function(Ne,Re,Ke){var at=new XMLHttpRequest,ut=0,Pe=function(Nt){var bt=Nt.length,Et=[],ot=String.fromCharCode;for(ut=0;ut<bt;ut+=1)Et.push(ot(255&Nt.charCodeAt(ut)));return Et.join("")};if(at.open("GET",Ne,!Re),at.overrideMimeType("text/plain; charset=x-user-defined"),Re===!1&&(at.onload=function(){at.status===200?Ke(Pe(this.responseText)):Ke(void 0)}),at.send(null),Re&&at.status===200)return Pe(at.responseText)})(se,he,Ie)}catch{}return we})(B,P,K)},k.allowFsRead=void 0,k.loadImageFile=k.loadFile})(Ae.API),(function(k){function B(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(l.t.bind(l,"html2canvas",23))).catch(function(we){return Promise.reject(new Error("Could not load html2canvas: "+we))}).then(function(we){return we.default?we.default:we})}function P(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(l.bind(l,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(we){return Promise.reject(new Error("Could not load dompurify: "+we))}).then(function(we){return we.default?we.default:we})}var K=function(we){var Ne=(0,u.default)(we);return Ne==="undefined"?"undefined":Ne==="string"||we instanceof String?"string":Ne==="number"||we instanceof Number?"number":Ne==="function"||we instanceof Function?"function":we&&we.constructor===Array?"array":we&&we.nodeType===1?"element":Ne==="object"?"object":"unknown"},se=function(we,Ne){var Re=document.createElement(we);for(var Ke in Ne.className&&(Re.className=Ne.className),Ne.innerHTML&&Ne.dompurify&&(Re.innerHTML=Ne.dompurify.sanitize(Ne.innerHTML)),Ne.style)Re.style[Ke]=Ne.style[Ke];return Re},he=function we(Ne,Re){for(var Ke=Ne.nodeType===3?document.createTextNode(Ne.nodeValue):Ne.cloneNode(!1),at=Ne.firstChild;at;at=at.nextSibling)Re!==!0&&at.nodeType===1&&at.nodeName==="SCRIPT"||Ke.appendChild(we(at,Re));return Ne.nodeType===1&&(Ne.nodeName==="CANVAS"?(Ke.width=Ne.width,Ke.height=Ne.height,Ke.getContext("2d").drawImage(Ne,0,0)):Ne.nodeName!=="TEXTAREA"&&Ne.nodeName!=="SELECT"||(Ke.value=Ne.value),Ke.addEventListener("load",function(){Ke.scrollTop=Ne.scrollTop,Ke.scrollLeft=Ne.scrollLeft},!0)),Ke},Ie=function we(Ne){var Re=Object.assign(we.convert(Promise.resolve()),JSON.parse(JSON.stringify(we.template))),Ke=we.convert(Promise.resolve(),Re);return(Ke=Ke.setProgress(1,we,1,[we])).set(Ne)};(Ie.prototype=Object.create(Promise.prototype)).constructor=Ie,Ie.convert=function(we,Ne){return we.__proto__=Ne||Ie.prototype,we},Ie.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ie.prototype.from=function(we,Ne){return this.then(function(){switch(Ne=Ne||(function(Re){switch(K(Re)){case"string":return"string";case"element":return Re.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(we),Ne){case"string":return this.then(P).then(function(Re){return this.set({src:se("div",{innerHTML:we,dompurify:Re})})});case"element":return this.set({src:we});case"canvas":return this.set({canvas:we});case"img":return this.set({img:we});default:return this.error("Unknown source type.")}})},Ie.prototype.to=function(we){switch(we){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ie.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var we={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ne=he(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ne.tagName==="BODY"&&(we.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=se("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=se("div",{className:"html2pdf__container",style:we}),this.prop.container.appendChild(Ne),this.prop.container.firstChild.appendChild(se("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ie.prototype.toCanvas=function(){var we=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(we).then(B).then(function(Ne){var Re=Object.assign({},this.opt.html2canvas);return delete Re.onrendered,Ne(this.prop.container,Re)}).then(function(Ne){(this.opt.html2canvas.onrendered||function(){})(Ne),this.prop.canvas=Ne,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toContext2d=function(){var we=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(we).then(B).then(function(Ne){var Re=this.opt.jsPDF,Ke=this.opt.fontFaces,at=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ut=Object.assign({async:!0,allowTaint:!0,scale:at,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ut.onrendered,Re.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Re.context2d.posX=this.opt.x,Re.context2d.posY=this.opt.y,Re.context2d.margin=this.opt.margin,Re.context2d.fontFaces=Ke,Ke)for(var Pe=0;Pe<Ke.length;++Pe){var Nt=Ke[Pe],bt=Nt.src.find(function(Et){return Et.format==="truetype"});bt&&Re.addFont(bt.url,Nt.ref.name,Nt.ref.style)}return ut.windowHeight=ut.windowHeight||0,ut.windowHeight=ut.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ut.windowHeight,Re.context2d.save(!0),Ne(this.prop.container,ut)}).then(function(Ne){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ne),this.prop.canvas=Ne,document.body.removeChild(this.prop.overlay)})},Ie.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var we=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=we})},Ie.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ie.prototype.output=function(we,Ne,Re){return(Re=Re||"pdf").toLowerCase()==="img"||Re.toLowerCase()==="image"?this.outputImg(we,Ne):this.outputPdf(we,Ne)},Ie.prototype.outputPdf=function(we,Ne){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(we,Ne)})},Ie.prototype.outputImg=function(we){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(we){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+we+'" is not supported.'}})},Ie.prototype.save=function(we){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(we?{filename:we}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ie.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ie.prototype.set=function(we){if(K(we)!=="object")return this;var Ne=Object.keys(we||{}).map(function(Re){if(Re in Ie.template.prop)return function(){this.prop[Re]=we[Re]};switch(Re){case"margin":return this.setMargin.bind(this,we.margin);case"jsPDF":return function(){return this.opt.jsPDF=we.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,we.pageSize);default:return function(){this.opt[Re]=we[Re]}}},this);return this.then(function(){return this.thenList(Ne)})},Ie.prototype.get=function(we,Ne){return this.then(function(){var Re=we in Ie.template.prop?this.prop[we]:this.opt[we];return Ne?Ne(Re):Re})},Ie.prototype.setMargin=function(we){return this.then(function(){switch(K(we)){case"number":we=[we,we,we,we];case"array":if(we.length===2&&(we=[we[0],we[1],we[0],we[1]]),we.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=we}).then(this.setPageSize)},Ie.prototype.setPageSize=function(we){function Ne(Re,Ke){return Math.floor(Re*Ke/72*96)}return this.then(function(){(we=we||Ae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(we.inner={width:we.width-this.opt.margin[1]-this.opt.margin[3],height:we.height-this.opt.margin[0]-this.opt.margin[2]},we.inner.px={width:Ne(we.inner.width,we.k),height:Ne(we.inner.height,we.k)},we.inner.ratio=we.inner.height/we.inner.width),this.prop.pageSize=we})},Ie.prototype.setProgress=function(we,Ne,Re,Ke){return we!=null&&(this.progress.val=we),Ne!=null&&(this.progress.state=Ne),Re!=null&&(this.progress.n=Re),Ke!=null&&(this.progress.stack=Ke),this.progress.ratio=this.progress.val/this.progress.state,this},Ie.prototype.updateProgress=function(we,Ne,Re,Ke){return this.setProgress(we?this.progress.val+we:null,Ne||null,Re?this.progress.n+Re:null,Ke?this.progress.stack.concat(Ke):null)},Ie.prototype.then=function(we,Ne){var Re=this;return this.thenCore(we,Ne,function(Ke,at){return Re.updateProgress(null,null,1,[Ke]),Promise.prototype.then.call(this,function(ut){return Re.updateProgress(null,Ke),ut}).then(Ke,at).then(function(ut){return Re.updateProgress(1),ut})})},Ie.prototype.thenCore=function(we,Ne,Re){Re=Re||Promise.prototype.then;var Ke=this;we&&(we=we.bind(Ke)),Ne&&(Ne=Ne.bind(Ke));var at=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ke:Ie.convert(Object.assign({},Ke),Promise.prototype),ut=Re.call(at,we,Ne);return Ie.convert(ut,Ke.__proto__)},Ie.prototype.thenExternal=function(we,Ne){return Promise.prototype.then.call(this,we,Ne)},Ie.prototype.thenList=function(we){var Ne=this;return we.forEach(function(Re){Ne=Ne.thenCore(Re)}),Ne},Ie.prototype.catch=function(we){we&&(we=we.bind(this));var Ne=Promise.prototype.catch.call(this,we);return Ie.convert(Ne,this)},Ie.prototype.catchExternal=function(we){return Promise.prototype.catch.call(this,we)},Ie.prototype.error=function(we){return this.then(function(){throw new Error(we)})},Ie.prototype.using=Ie.prototype.set,Ie.prototype.saveAs=Ie.prototype.save,Ie.prototype.export=Ie.prototype.output,Ie.prototype.run=Ie.prototype.then,Ae.getPageSize=function(we,Ne,Re){if((0,u.default)(we)==="object"){var Ke=we;we=Ke.orientation,Ne=Ke.unit||Ne,Re=Ke.format||Re}Ne=Ne||"mm",Re=Re||"a4",we=(""+(we||"P")).toLowerCase();var at,ut=(""+Re).toLowerCase(),Pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ne){case"pt":at=1;break;case"mm":at=2.834645669291339;break;case"cm":at=28.346456692913385;break;case"in":at=72;break;case"px":at=.75;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:throw"Invalid unit: "+Ne}var Nt,bt=0,Et=0;if(Pe.hasOwnProperty(ut))bt=Pe[ut][1]/at,Et=Pe[ut][0]/at;else try{bt=Re[1],Et=Re[0]}catch{throw new Error("Invalid format: "+Re)}if(we==="p"||we==="portrait")we="p",Et>bt&&(Nt=Et,Et=bt,bt=Nt);else{if(we!=="l"&&we!=="landscape")throw"Invalid orientation: "+we;we="l",bt>Et&&(Nt=Et,Et=bt,bt=Nt)}return{width:Et,height:bt,unit:Ne,k:at,orientation:we}},k.html=function(we,Ne){(Ne=Ne||{}).callback=Ne.callback||function(){},Ne.html2canvas=Ne.html2canvas||{},Ne.html2canvas.canvas=Ne.html2canvas.canvas||this.canvas,Ne.jsPDF=Ne.jsPDF||this,Ne.fontFaces=Ne.fontFaces?Ne.fontFaces.map(co):null;var Re=new Ie(Ne);return Ne.worker?Re:Re.from(we).doCallback()}})(Ae.API),Ae.API.addJS=function(k){return jo=k,this.internal.events.subscribe("postPutResources",function(){Tl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tl!==void 0&&Hs!==void 0&&this.internal.out("/Names <</JavaScript "+Tl+" 0 R>>")}),this},(function(k){var B;k.events.push(["postPutResources",function(){var P=this,K=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var se=P.outline.render().split(/\r\n/),he=0;he<se.length;he++){var Ie=se[he],we=K.exec(Ie);if(we!=null){var Ne=we[1];P.internal.newObjectDeferredBegin(Ne,!1)}P.internal.write(Ie)}if(this.outline.createNamedDestinations){var Re=this.internal.pages.length,Ke=[];for(he=0;he<Re;he++){var at=P.internal.newObject();Ke.push(at);var ut=P.internal.getPageInfo(he+1);P.internal.write("<< /D["+ut.objId+" 0 R /XYZ null null null]>> endobj")}var Pe=P.internal.newObject();for(P.internal.write("<< /Names [ "),he=0;he<Ke.length;he++)P.internal.write("(page_"+(he+1)+")"+Ke[he]+" 0 R");P.internal.write(" ] >>","endobj"),B=P.internal.newObject(),P.internal.write("<< /Dests "+Pe+" 0 R"),P.internal.write(">>","endobj")}}]),k.events.push(["putCatalog",function(){var P=this;P.outline.root.children.length>0&&(P.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&P.internal.write("/Names "+B+" 0 R"))}]),k.events.push(["initialized",function(){var P=this;P.outline={createNamedDestinations:!1,root:{children:[]}},P.outline.add=function(K,se,he){var Ie={title:se,options:he,children:[]};return K==null&&(K=this.root),K.children.push(Ie),Ie},P.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=P,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},P.outline.genIds_r=function(K){K.id=P.internal.newObjectDeferred();for(var se=0;se<K.children.length;se++)this.genIds_r(K.children[se])},P.outline.renderRoot=function(K){this.objStart(K),this.line("/Type /Outlines"),K.children.length>0&&(this.line("/First "+this.makeRef(K.children[0])),this.line("/Last "+this.makeRef(K.children[K.children.length-1]))),this.line("/Count "+this.count_r({count:0},K)),this.objEnd()},P.outline.renderItems=function(K){for(var se=this.ctx.pdf.internal.getVerticalCoordinateString,he=0;he<K.children.length;he++){var Ie=K.children[he];this.objStart(Ie),this.line("/Title "+this.makeString(Ie.title)),this.line("/Parent "+this.makeRef(K)),he>0&&this.line("/Prev "+this.makeRef(K.children[he-1])),he<K.children.length-1&&this.line("/Next "+this.makeRef(K.children[he+1])),Ie.children.length>0&&(this.line("/First "+this.makeRef(Ie.children[0])),this.line("/Last "+this.makeRef(Ie.children[Ie.children.length-1])));var we=this.count=this.count_r({count:0},Ie);if(we>0&&this.line("/Count "+we),Ie.options&&Ie.options.pageNumber){var Ne=P.internal.getPageInfo(Ie.options.pageNumber);this.line("/Dest ["+Ne.objId+" 0 R /XYZ 0 "+se(0)+" 0]")}this.objEnd()}for(var Re=0;Re<K.children.length;Re++)this.renderItems(K.children[Re])},P.outline.line=function(K){this.ctx.val+=K+`\r
`},P.outline.makeRef=function(K){return K.id+" 0 R"},P.outline.makeString=function(K){return"("+P.internal.pdfEscape(K)+")"},P.outline.objStart=function(K){this.ctx.val+=`\r
`+K.id+` 0 obj\r
<<\r
`},P.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},P.outline.count_r=function(K,se){for(var he=0;he<se.children.length;he++)K.count++,this.count_r(K,se.children[he]);return K.count}}])})(Ae.API),(function(k){var B=[192,193,194,195,196,197,198,199];k.processJPEG=function(P,K,se,he,Ie,we){var Ne,Re=this.decode.DCT_DECODE,Ke=null;if(typeof P=="string"||this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P)){switch(P=Ie||P,P=this.__addimage__.isArrayBuffer(P)?new Uint8Array(P):P,Ne=(function(at){for(var ut,Pe=256*at.charCodeAt(4)+at.charCodeAt(5),Nt=at.length,bt={width:0,height:0,numcomponents:1},Et=4;Et<Nt;Et+=2){if(Et+=Pe,B.indexOf(at.charCodeAt(Et+1))!==-1){ut=256*at.charCodeAt(Et+5)+at.charCodeAt(Et+6),bt={width:256*at.charCodeAt(Et+7)+at.charCodeAt(Et+8),height:ut,numcomponents:at.charCodeAt(Et+9)};break}Pe=256*at.charCodeAt(Et+2)+at.charCodeAt(Et+3)}return bt})(P=this.__addimage__.isArrayBufferView(P)?this.__addimage__.arrayBufferToBinaryString(P):P),Ne.numcomponents){case 1:we=this.color_spaces.DEVICE_GRAY;break;case 4:we=this.color_spaces.DEVICE_CMYK;break;case 3:we=this.color_spaces.DEVICE_RGB}Ke={data:P,width:Ne.width,height:Ne.height,colorSpace:we,bitsPerComponent:8,filter:Re,index:K,alias:se}}return Ke}})(Ae.API),Ae.API.processPNG=function(k,B,P,K){if(this.__addimage__.isArrayBuffer(k)&&(k=new Uint8Array(k)),this.__addimage__.isArrayBufferView(k)){var se,he=(0,A.decode)(k,{checkCrc:!0}),Ie=he.width,we=he.height,Ne=he.channels,Re=he.palette,Ke=he.depth;se=Re&&Ne===1?(function(ar){for(var Mt=ar.width,Ar=ar.height,ct=ar.data,mt=ar.palette,Pt=ar.depth,Dt=!1,gr=[],jr=[],Nr=void 0,ir=!1,wr=0,Yr=0;Yr<mt.length;Yr++){var zr=(0,f.default)(mt[Yr],4),et=zr[0],St=zr[1],kt=zr[2],Yt=zr[3];gr.push(et,St,kt),Yt!=null&&(Yt===0?(wr++,jr.length<1&&jr.push(Yr)):Yt<255&&(ir=!0))}if(ir||wr>1){Dt=!0,jr=void 0;var tr=Mt*Ar;Nr=new Uint8Array(tr);for(var dr=new DataView(ct.buffer),br=0;br<tr;br++){var Cr=ui(dr,br,Pt),Lr=(0,f.default)(mt[Cr],4)[3];Nr[br]=Lr}}else wr===0&&(jr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Dt?8:void 0,colorBytes:ct,alphaBytes:Nr,needSMask:Dt,palette:gr,mask:jr}})(he):Ne===2||Ne===4?(function(ar){for(var Mt=ar.data,Ar=ar.width,ct=ar.height,mt=ar.channels,Pt=ar.depth,Dt=mt===2?"DeviceGray":"DeviceRGB",gr=mt-1,jr=Ar*ct,Nr=gr,ir=jr*Nr,wr=1*jr,Yr=Math.ceil(ir*Pt/8),zr=Math.ceil(wr*Pt/8),et=new Uint8Array(Yr),St=new Uint8Array(zr),kt=new DataView(Mt.buffer),Yt=new DataView(et.buffer),tr=new DataView(St.buffer),dr=!1,br=0;br<jr;br++){for(var Cr=br*mt,Lr=0;Lr<Nr;Lr++)zn(Yt,ui(kt,Cr+Lr,Pt),br*Nr+Lr,Pt);var Jr=ui(kt,Cr+Nr,Pt);Jr<(1<<Pt)-1&&(dr=!0),zn(tr,Jr,1*br,Pt)}return{colorSpace:Dt,colorsPerPixel:gr,sMaskBitsPerComponent:dr?Pt:void 0,colorBytes:et,alphaBytes:St,needSMask:dr}})(he):(function(ar){var Mt=ar.data,Ar=ar.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Ar,colorsPerPixel:Ar==="DeviceGray"?1:3,colorBytes:Mt instanceof Uint16Array?(function(ct){for(var mt=ct.length,Pt=new Uint8Array(2*mt),Dt=new DataView(Pt.buffer,Pt.byteOffset,Pt.byteLength),gr=0;gr<mt;gr++)Dt.setUint16(2*gr,ct[gr],!1);return Pt})(Mt):Mt,needSMask:!1}})(he);var at,ut,Pe,Nt=se,bt=Nt.colorSpace,Et=Nt.colorsPerPixel,ot=Nt.sMaskBitsPerComponent,Ut=Nt.colorBytes,rr=Nt.alphaBytes,Ot=Nt.needSMask,st=Nt.palette,Xt=Nt.mask,pr=null;return K!==Ae.API.image_compression.NONE&&typeof h.zlibSync=="function"?(pr=(function(ar){var Mt;switch(ar){case Ae.API.image_compression.FAST:Mt=11;break;case Ae.API.image_compression.MEDIUM:Mt=13;break;case Ae.API.image_compression.SLOW:Mt=14;break;default:Mt=12}return Mt})(K),at=this.decode.FLATE_DECODE,ut="/Predictor ".concat(pr," /Colors ").concat(Et," /BitsPerComponent ").concat(Ke," /Columns ").concat(Ie),k=al(Ut,Math.ceil(Ie*Et*Ke/8),Et,Ke,K),Ot&&(Pe=al(rr,Math.ceil(Ie*ot/8),1,ot,K))):(at=void 0,ut=void 0,k=Ut,Ot&&(Pe=rr)),(this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),(Pe&&this.__addimage__.isArrayBuffer(Pe)||this.__addimage__.isArrayBufferView(Pe))&&(Pe=this.__addimage__.arrayBufferToBinaryString(Pe)),{alias:P,data:k,index:B,filter:at,decodeParameters:ut,transparency:Xt,palette:st,sMask:Pe,predictor:pr,width:Ie,height:we,bitsPerComponent:Ke,sMaskBitsPerComponent:ot,colorSpace:bt}}},(function(k){k.processGIF89A=function(B,P,K,se){var he=new ji(B),Ie=he.width,we=he.height,Ne=[];he.decodeAndBlitFrameRGBA(0,Ne);var Re={data:Ne,width:Ie,height:we},Ke=new Po(100).encode(Re,100);return k.processJPEG.call(this,Ke,P,K,se)},k.processGIF87A=k.processGIF89A})(Ae.API),Ds.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var k=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(k);for(var B=0;B<k;B++){var P=this.datav.getUint8(this.pos++,!0),K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),he=this.datav.getUint8(this.pos++,!0);this.palette[B]={red:se,green:K,blue:P,quad:he}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ds.prototype.parseBGR=function(){this.pos=this.offset;try{var k="bit"+this.bitPP,B=this.width*this.height*4;this.data=new Uint8Array(B),this[k]()}catch(P){x.log("bit decode error:"+P)}},Ds.prototype.bit1=function(){var k,B=Math.ceil(this.width/8),P=B%4;for(k=this.height-1;k>=0;k--){for(var K=this.bottom_up?k:this.height-1-k,se=0;se<B;se++)for(var he=this.datav.getUint8(this.pos++,!0),Ie=K*this.width*4+8*se*4,we=0;we<8&&8*se+we<this.width;we++){var Ne=this.palette[he>>7-we&1];this.data[Ie+4*we]=Ne.blue,this.data[Ie+4*we+1]=Ne.green,this.data[Ie+4*we+2]=Ne.red,this.data[Ie+4*we+3]=255}P!==0&&(this.pos+=4-P)}},Ds.prototype.bit4=function(){for(var k=Math.ceil(this.width/2),B=k%4,P=this.height-1;P>=0;P--){for(var K=this.bottom_up?P:this.height-1-P,se=0;se<k;se++){var he=this.datav.getUint8(this.pos++,!0),Ie=K*this.width*4+2*se*4,we=he>>4,Ne=15&he,Re=this.palette[we];if(this.data[Ie]=Re.blue,this.data[Ie+1]=Re.green,this.data[Ie+2]=Re.red,this.data[Ie+3]=255,2*se+1>=this.width)break;Re=this.palette[Ne],this.data[Ie+4]=Re.blue,this.data[Ie+4+1]=Re.green,this.data[Ie+4+2]=Re.red,this.data[Ie+4+3]=255}B!==0&&(this.pos+=4-B)}},Ds.prototype.bit8=function(){for(var k=this.width%4,B=this.height-1;B>=0;B--){for(var P=this.bottom_up?B:this.height-1-B,K=0;K<this.width;K++){var se=this.datav.getUint8(this.pos++,!0),he=P*this.width*4+4*K;if(se<this.palette.length){var Ie=this.palette[se];this.data[he]=Ie.red,this.data[he+1]=Ie.green,this.data[he+2]=Ie.blue,this.data[he+3]=255}else this.data[he]=255,this.data[he+1]=255,this.data[he+2]=255,this.data[he+3]=255}k!==0&&(this.pos+=4-k)}},Ds.prototype.bit15=function(){for(var k=this.width%3,B=parseInt("11111",2),P=this.height-1;P>=0;P--){for(var K=this.bottom_up?P:this.height-1-P,se=0;se<this.width;se++){var he=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ie=(he&B)/B*255|0,we=(he>>5&B)/B*255|0,Ne=(he>>10&B)/B*255|0,Re=he>>15?255:0,Ke=K*this.width*4+4*se;this.data[Ke]=Ne,this.data[Ke+1]=we,this.data[Ke+2]=Ie,this.data[Ke+3]=Re}this.pos+=k}},Ds.prototype.bit16=function(){for(var k=this.width%3,B=parseInt("11111",2),P=parseInt("111111",2),K=this.height-1;K>=0;K--){for(var se=this.bottom_up?K:this.height-1-K,he=0;he<this.width;he++){var Ie=this.datav.getUint16(this.pos,!0);this.pos+=2;var we=(Ie&B)/B*255|0,Ne=(Ie>>5&P)/P*255|0,Re=(Ie>>11)/B*255|0,Ke=se*this.width*4+4*he;this.data[Ke]=Re,this.data[Ke+1]=Ne,this.data[Ke+2]=we,this.data[Ke+3]=255}this.pos+=k}},Ds.prototype.bit24=function(){for(var k=this.height-1;k>=0;k--){for(var B=this.bottom_up?k:this.height-1-k,P=0;P<this.width;P++){var K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),he=this.datav.getUint8(this.pos++,!0),Ie=B*this.width*4+4*P;this.data[Ie]=he,this.data[Ie+1]=se,this.data[Ie+2]=K,this.data[Ie+3]=255}this.pos+=this.width%4}},Ds.prototype.bit32=function(){for(var k=this.height-1;k>=0;k--)for(var B=this.bottom_up?k:this.height-1-k,P=0;P<this.width;P++){var K=this.datav.getUint8(this.pos++,!0),se=this.datav.getUint8(this.pos++,!0),he=this.datav.getUint8(this.pos++,!0),Ie=this.datav.getUint8(this.pos++,!0),we=B*this.width*4+4*P;this.data[we]=he,this.data[we+1]=se,this.data[we+2]=K,this.data[we+3]=Ie}},Ds.prototype.getData=function(){return this.data},(function(k){k.processBMP=function(B,P,K,se){var he=new Ds(B,!1),Ie=he.width,we=he.height,Ne={data:he.getData(),width:Ie,height:we},Re=new Po(100).encode(Ne,100);return k.processJPEG.call(this,Re,P,K,se)}})(Ae.API),uo.prototype.getData=function(){return this.data},(function(k){k.processWEBP=function(B,P,K,se){var he=new uo(B),Ie=he.width,we=he.height,Ne={data:he.getData(),width:Ie,height:we},Re=new Po(100).encode(Ne,100);return k.processJPEG.call(this,Re,P,K,se)}})(Ae.API),Ae.API.processRGBA=function(k,B,P){for(var K=k.data,se=K.length,he=new Uint8Array(se/4*3),Ie=new Uint8Array(se/4),we=0,Ne=0,Re=0;Re<se;Re+=4){var Ke=K[Re],at=K[Re+1],ut=K[Re+2],Pe=K[Re+3];he[we++]=Ke,he[we++]=at,he[we++]=ut,Ie[Ne++]=Pe}var Nt=this.__addimage__.arrayBufferToBinaryString(he);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ie),data:Nt,index:B,alias:P,colorSpace:"DeviceRGB",bitsPerComponent:8,width:k.width,height:k.height}},Ae.API.setLanguage=function(k){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[k]!==void 0&&(this.internal.languageSettings.languageCode=k,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ha=Ae.API,ec=ha.getCharWidthsArray=function(k,B){var P,K,se=(B=B||{}).font||this.internal.getFont(),he=B.fontSize||this.internal.getFontSize(),Ie=B.charSpace||this.internal.getCharSpace(),we=B.widths?B.widths:se.metadata.Unicode.widths,Ne=we.fof?we.fof:1,Re=B.kerning?B.kerning:se.metadata.Unicode.kerning,Ke=Re.fof?Re.fof:1,at=B.doKerning!==!1,ut=0,Pe=k.length,Nt=0,bt=we[0]||Ne,Et=[];for(P=0;P<Pe;P++)K=k.charCodeAt(P),typeof se.metadata.widthOfString=="function"?Et.push((se.metadata.widthOfGlyph(se.metadata.characterToGlyph(K))+Ie*(1e3/he)||0)/1e3):(ut=at&&(0,u.default)(Re[K])==="object"&&!isNaN(parseInt(Re[K][Nt],10))?Re[K][Nt]/Ke:0,Et.push((we[K]||bt)/Ne+ut)),Nt=K;return Et},rs=ha.getStringUnitWidth=function(k,B){var P=(B=B||{}).fontSize||this.internal.getFontSize(),K=B.font||this.internal.getFont(),se=B.charSpace||this.internal.getCharSpace();return ha.processArabic&&(k=ha.processArabic(k)),typeof K.metadata.widthOfString=="function"?K.metadata.widthOfString(k,P,se)/P:ec.apply(this,arguments).reduce(function(he,Ie){return he+Ie},0)},ko=function(k,B,P,K){for(var se=[],he=0,Ie=k.length,we=0;he!==Ie&&we+B[he]<P;)we+=B[he],he++;se.push(k.slice(0,he));var Ne=he;for(we=0;he!==Ie;)we+B[he]>K&&(se.push(k.slice(Ne,he)),we=0,Ne=he),we+=B[he],he++;return Ne!==he&&se.push(k.slice(Ne,he)),se},Yi=function(k,B,P){P||(P={});var K,se,he,Ie,we,Ne,Re,Ke=[],at=[Ke],ut=P.textIndent||0,Pe=0,Nt=0,bt=k.split(" "),Et=ec.apply(this,[" ",P])[0];if(Ne=P.lineIndent===-1?bt[0].length+2:P.lineIndent||0){var ot=Array(Ne).join(" "),Ut=[];bt.map(function(Ot){(Ot=Ot.split(/\s*\n/)).length>1?Ut=Ut.concat(Ot.map(function(st,Xt){return(Xt&&st.length?`
`:"")+st})):Ut.push(Ot[0])}),bt=Ut,Ne=rs.apply(this,[ot,P])}for(he=0,Ie=bt.length;he<Ie;he++){var rr=0;if(K=bt[he],Ne&&K[0]==`
`&&(K=K.substr(1),rr=1),ut+Pe+(Nt=(se=ec.apply(this,[K,P])).reduce(function(Ot,st){return Ot+st},0))>B||rr){if(Nt>B){for(we=ko.apply(this,[K,se,B-(ut+Pe),B]),Ke.push(we.shift()),Ke=[we.pop()];we.length;)at.push([we.shift()]);Nt=se.slice(K.length-(Ke[0]?Ke[0].length:0)).reduce(function(Ot,st){return Ot+st},0)}else Ke=[K];at.push(Ke),ut=Nt+Ne,Pe=Et}else Ke.push(K),ut+=Pe+Nt,Pe=Et}return Re=Ne?function(Ot,st){return(st?ot:"")+Ot.join(" ")}:function(Ot){return Ot.join(" ")},at.map(Re)},ha.splitTextToSize=function(k,B,P){var K,se=(P=P||{}).fontSize||this.internal.getFontSize(),he=(function(Ke){if(Ke.widths&&Ke.kerning)return{widths:Ke.widths,kerning:Ke.kerning};var at=this.internal.getFont(Ke.fontName,Ke.fontStyle),ut="Unicode";return at.metadata[ut]?{widths:at.metadata[ut].widths||{0:1},kerning:at.metadata[ut].kerning||{}}:{font:at.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,P);K=Array.isArray(k)?k:String(k).split(/\r?\n/);var Ie=1*this.internal.scaleFactor*B/se;he.textIndent=P.textIndent?1*P.textIndent*this.internal.scaleFactor/se:0,he.lineIndent=P.lineIndent;var we,Ne,Re=[];for(we=0,Ne=K.length;we<Ne;we++)Re=Re.concat(Yi.apply(this,[K[we],Ie,he]));return Re},(function(k){k.__fontmetrics__=k.__fontmetrics__||{};for(var B="0123456789abcdef",P="klmnopqrstuvwxyz",K={},se={},he=0;he<16;he++)K[P[he]]=B[he],se[B[he]]=P[he];var Ie=function(ut){return"0x"+parseInt(ut,10).toString(16)},we=k.__fontmetrics__.compress=function(ut){var Pe,Nt,bt,Et,ot=["{"];for(var Ut in ut){if(Pe=ut[Ut],isNaN(parseInt(Ut,10))?Nt="'"+Ut+"'":(Ut=parseInt(Ut,10),Nt=(Nt=Ie(Ut).slice(2)).slice(0,-1)+se[Nt.slice(-1)]),typeof Pe=="number")Pe<0?(bt=Ie(Pe).slice(3),Et="-"):(bt=Ie(Pe).slice(2),Et=""),bt=Et+bt.slice(0,-1)+se[bt.slice(-1)];else{if((0,u.default)(Pe)!=="object")throw new Error("Don't know what to do with value type "+(0,u.default)(Pe)+".");bt=we(Pe)}ot.push(Nt+bt)}return ot.push("}"),ot.join("")},Ne=k.__fontmetrics__.uncompress=function(ut){if(typeof ut!="string")throw new Error("Invalid argument passed to uncompress.");for(var Pe,Nt,bt,Et,ot={},Ut=1,rr=ot,Ot=[],st="",Xt="",pr=ut.length-1,ar=1;ar<pr;ar+=1)(Et=ut[ar])=="'"?Pe?(bt=Pe.join(""),Pe=void 0):Pe=[]:Pe?Pe.push(Et):Et=="{"?(Ot.push([rr,bt]),rr={},bt=void 0):Et=="}"?((Nt=Ot.pop())[0][Nt[1]]=rr,bt=void 0,rr=Nt[0]):Et=="-"?Ut=-1:bt===void 0?K.hasOwnProperty(Et)?(st+=K[Et],bt=parseInt(st,16)*Ut,Ut=1,st=""):st+=Et:K.hasOwnProperty(Et)?(Xt+=K[Et],rr[bt]=parseInt(Xt,16)*Ut,Ut=1,bt=void 0,Xt=""):Xt+=Et;return ot},Re={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ne("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ke={Unicode:{Courier:Re,"Courier-Bold":Re,"Courier-BoldOblique":Re,"Courier-Oblique":Re,Helvetica:Re,"Helvetica-Bold":Re,"Helvetica-BoldOblique":Re,"Helvetica-Oblique":Re,"Times-Roman":Re,"Times-Bold":Re,"Times-BoldItalic":Re,"Times-Italic":Re}},at={Unicode:{"Courier-Oblique":Ne("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ne("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ne("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ne("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ne("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ne("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ne("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ne("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ne("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ne("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ne("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ne("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ne("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ne("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};k.events.push(["addFont",function(ut){var Pe=ut.font,Nt=at.Unicode[Pe.postScriptName];Nt&&(Pe.metadata.Unicode={},Pe.metadata.Unicode.widths=Nt.widths,Pe.metadata.Unicode.kerning=Nt.kerning);var bt=Ke.Unicode[Pe.postScriptName];bt&&(Pe.metadata.Unicode.encoding=bt,Pe.encoding=bt.codePages[0])}])})(Ae.API),(function(k){var B=function(P){for(var K=P.length,se=new Uint8Array(K),he=0;he<K;he++)se[he]=P.charCodeAt(he);return se};k.API.events.push(["addFont",function(P){var K=void 0,se=P.font,he=P.instance;if(!se.isStandardFont){if(he===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+se.postScriptName+"').");if(typeof(K=he.existsFileInVFS(se.postScriptName)===!1?he.loadFile(se.postScriptName):he.getFileFromVFS(se.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+se.postScriptName+"').");(function(Ie,we){we=/^\x00\x01\x00\x00/.test(we)?B(we):B(E(we)),Ie.metadata=k.API.TTFFont.open(we),Ie.metadata.Unicode=Ie.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ie.metadata.glyIdsUsed=[0]})(se,K)}}])})(Ae),Ae.API.addSvgAsImage=function(k,B,P,K,se,he,Ie,we){if(isNaN(B)||isNaN(P))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(K)||isNaN(se))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ne=document.createElement("canvas");Ne.width=K,Ne.height=se;var Re=Ne.getContext("2d");Re.fillStyle="#fff",Re.fillRect(0,0,Ne.width,Ne.height);var Ke={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},at=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(l.bind(l,"./node_modules/canvg/lib/index.es.js"))).catch(function(ut){return Promise.reject(new Error("Could not load canvg: "+ut))}).then(function(ut){return ut.default?ut.default:ut}).then(function(ut){return ut.fromString(Re,k,Ke)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ut){return ut.render(Ke)}).then(function(){at.addImage(Ne.toDataURL("image/jpeg",1),B,P,K,se,Ie,we)})},Ae.API.putTotalPages=function(k){var B,P=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(B=new RegExp(k,"g"),P=this.internal.getNumberOfPages()):(B=new RegExp(this.pdfEscape16(k,this.internal.getFont()),"g"),P=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var K=1;K<=this.internal.getNumberOfPages();K++)for(var se=0;se<this.internal.pages[K].length;se++)this.internal.pages[K][se]=this.internal.pages[K][se].replace(B,P);return this},Ae.API.viewerPreferences=function(k,B){var P;k=k||{},B=B||!1;var K,se,he,Ie={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},we=Object.keys(Ie),Ne=[],Re=0,Ke=0,at=0;function ut(Nt,bt){var Et,ot=!1;for(Et=0;Et<Nt.length;Et+=1)Nt[Et]===bt&&(ot=!0);return ot}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ie)),this.internal.viewerpreferences.isSubscribed=!1),P=this.internal.viewerpreferences.configuration,k==="reset"||B===!0){var Pe=we.length;for(at=0;at<Pe;at+=1)P[we[at]].value=P[we[at]].defaultValue,P[we[at]].explicitSet=!1}if((0,u.default)(k)==="object"){for(se in k)if(he=k[se],ut(we,se)&&he!==void 0){if(P[se].type==="boolean"&&typeof he=="boolean")P[se].value=he;else if(P[se].type==="name"&&ut(P[se].valueSet,he))P[se].value=he;else if(P[se].type==="integer"&&Number.isInteger(he))P[se].value=he;else if(P[se].type==="array"){for(Re=0;Re<he.length;Re+=1)if(K=!0,he[Re].length===1&&typeof he[Re][0]=="number")Ne.push(String(he[Re]-1));else if(he[Re].length>1){for(Ke=0;Ke<he[Re].length;Ke+=1)typeof he[Re][Ke]!="number"&&(K=!1);K===!0&&Ne.push([he[Re][0]-1,he[Re][1]-1].join(" "))}P[se].value="["+Ne.join(" ")+"]"}else P[se].value=P[se].defaultValue;P[se].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Nt,bt=[];for(Nt in P)P[Nt].explicitSet===!0&&(P[Nt].type==="name"?bt.push("/"+Nt+" /"+P[Nt].value):bt.push("/"+Nt+" "+P[Nt].value));bt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+bt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=P,this},(function(k){var B=function(){var K='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',se=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),he=unescape(encodeURIComponent(K)),Ie=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),we=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ne=unescape(encodeURIComponent("</x:xmpmeta>")),Re=he.length+Ie.length+we.length+se.length+Ne.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Re+" >>"),this.internal.write("stream"),this.internal.write(se+he+Ie+we+Ne),this.internal.write("endstream"),this.internal.write("endobj")},P=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};k.addMetadata=function(K,se){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:K,namespaceuri:se||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",P),this.internal.events.subscribe("postPutResources",B)),this}})(Ae.API),(function(k){var B=k.API,P=B.pdfEscape16=function(he,Ie){for(var we,Ne=Ie.metadata.Unicode.widths,Re=["","0","00","000","0000"],Ke=[""],at=0,ut=he.length;at<ut;++at){if(we=Ie.metadata.characterToGlyph(he.charCodeAt(at)),Ie.metadata.glyIdsUsed.push(we),Ie.metadata.toUnicode[we]=he.charCodeAt(at),Ne.indexOf(we)==-1&&(Ne.push(we),Ne.push([parseInt(Ie.metadata.widthOfGlyph(we),10)])),we=="0")return Ke.join("");we=we.toString(16),Ke.push(Re[4-we.length],we)}return Ke.join("")},K=function(he){var Ie,we,Ne,Re,Ke,at,ut;for(Ke=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ne=[],at=0,ut=(we=Object.keys(he).sort(function(Pe,Nt){return Pe-Nt})).length;at<ut;at++)Ie=we[at],Ne.length>=100&&(Ke+=`
`+Ne.length+` beginbfchar
`+Ne.join(`
`)+`
endbfchar`,Ne=[]),he[Ie]!==void 0&&he[Ie]!==null&&typeof he[Ie].toString=="function"&&(Re=("0000"+he[Ie].toString(16)).slice(-4),Ie=("0000"+(+Ie).toString(16)).slice(-4),Ne.push("<"+Ie+"><"+Re+">"));return Ne.length&&(Ke+=`
`+Ne.length+` beginbfchar
`+Ne.join(`
`)+`
endbfchar
`),Ke+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};B.events.push(["putFont",function(he){(function(Ie){var we=Ie.font,Ne=Ie.out,Re=Ie.newObject,Ke=Ie.putStream;if(we.metadata instanceof k.API.TTFFont&&we.encoding==="Identity-H"){for(var at=we.metadata.Unicode.widths,ut=we.metadata.subset.encode(we.metadata.glyIdsUsed,1),Pe="",Nt=0;Nt<ut.length;Nt++)Pe+=String.fromCharCode(ut[Nt]);var bt=Re();Ke({data:Pe,addLength1:!0,objectId:bt}),Ne("endobj");var Et=Re();Ke({data:K(we.metadata.toUnicode),addLength1:!0,objectId:Et}),Ne("endobj");var ot=Re();Ne("<<"),Ne("/Type /FontDescriptor"),Ne("/FontName /"+ge(we.fontName)),Ne("/FontFile2 "+bt+" 0 R"),Ne("/FontBBox "+k.API.PDFObject.convert(we.metadata.bbox)),Ne("/Flags "+we.metadata.flags),Ne("/StemV "+we.metadata.stemV),Ne("/ItalicAngle "+we.metadata.italicAngle),Ne("/Ascent "+we.metadata.ascender),Ne("/Descent "+we.metadata.decender),Ne("/CapHeight "+we.metadata.capHeight),Ne(">>"),Ne("endobj");var Ut=Re();Ne("<<"),Ne("/Type /Font"),Ne("/BaseFont /"+ge(we.fontName)),Ne("/FontDescriptor "+ot+" 0 R"),Ne("/W "+k.API.PDFObject.convert(at)),Ne("/CIDToGIDMap /Identity"),Ne("/DW 1000"),Ne("/Subtype /CIDFontType2"),Ne("/CIDSystemInfo"),Ne("<<"),Ne("/Supplement 0"),Ne("/Registry (Adobe)"),Ne("/Ordering ("+we.encoding+")"),Ne(">>"),Ne(">>"),Ne("endobj"),we.objectNumber=Re(),Ne("<<"),Ne("/Type /Font"),Ne("/Subtype /Type0"),Ne("/ToUnicode "+Et+" 0 R"),Ne("/BaseFont /"+ge(we.fontName)),Ne("/Encoding /"+we.encoding),Ne("/DescendantFonts ["+Ut+" 0 R]"),Ne(">>"),Ne("endobj"),we.isAlreadyPutted=!0}})(he)}]),B.events.push(["putFont",function(he){(function(Ie){var we=Ie.font,Ne=Ie.out,Re=Ie.newObject,Ke=Ie.putStream;if(we.metadata instanceof k.API.TTFFont&&we.encoding==="WinAnsiEncoding"){for(var at=we.metadata.rawData,ut="",Pe=0;Pe<at.length;Pe++)ut+=String.fromCharCode(at[Pe]);var Nt=Re();Ke({data:ut,addLength1:!0,objectId:Nt}),Ne("endobj");var bt=Re();Ke({data:K(we.metadata.toUnicode),addLength1:!0,objectId:bt}),Ne("endobj");var Et=Re();Ne("<<"),Ne("/Descent "+we.metadata.decender),Ne("/CapHeight "+we.metadata.capHeight),Ne("/StemV "+we.metadata.stemV),Ne("/Type /FontDescriptor"),Ne("/FontFile2 "+Nt+" 0 R"),Ne("/Flags 96"),Ne("/FontBBox "+k.API.PDFObject.convert(we.metadata.bbox)),Ne("/FontName /"+ge(we.fontName)),Ne("/ItalicAngle "+we.metadata.italicAngle),Ne("/Ascent "+we.metadata.ascender),Ne(">>"),Ne("endobj"),we.objectNumber=Re();for(var ot=0;ot<we.metadata.hmtx.widths.length;ot++)we.metadata.hmtx.widths[ot]=parseInt(we.metadata.hmtx.widths[ot]*(1e3/we.metadata.head.unitsPerEm));Ne("<</Subtype/TrueType/Type/Font/ToUnicode "+bt+" 0 R/BaseFont/"+ge(we.fontName)+"/FontDescriptor "+Et+" 0 R/Encoding/"+we.encoding+" /FirstChar 29 /LastChar 255 /Widths "+k.API.PDFObject.convert(we.metadata.hmtx.widths)+">>"),Ne("endobj"),we.isAlreadyPutted=!0}})(he)}]);var se=function(he){var Ie,we=he.text||"",Ne=he.x,Re=he.y,Ke=he.options||{},at=he.mutex||{},ut=at.pdfEscape,Pe=at.activeFontKey,Nt=at.fonts,bt=Pe,Et="",ot=0,Ut="",rr=Nt[bt].encoding;if(Nt[bt].encoding!=="Identity-H")return{text:we,x:Ne,y:Re,options:Ke,mutex:at};for(Ut=we,bt=Pe,Array.isArray(we)&&(Ut=we[0]),ot=0;ot<Ut.length;ot+=1)Nt[bt].metadata.hasOwnProperty("cmap")&&(Ie=Nt[bt].metadata.cmap.unicode.codeMap[Ut[ot].charCodeAt(0)]),Ie||Ut[ot].charCodeAt(0)<256&&Nt[bt].metadata.hasOwnProperty("Unicode")?Et+=Ut[ot]:Et+="";var Ot="";return parseInt(bt.slice(1))<14||rr==="WinAnsiEncoding"?Ot=ut(Et,bt).split("").map(function(st){return st.charCodeAt(0).toString(16)}).join(""):rr==="Identity-H"&&(Ot=P(Et,Nt[bt])),at.isHex=!0,{text:Ot,x:Ne,y:Re,options:Ke,mutex:at}};B.events.push(["postProcessText",function(he){var Ie=he.text||"",we=[],Ne={text:Ie,x:he.x,y:he.y,options:he.options,mutex:he.mutex};if(Array.isArray(Ie)){var Re=0;for(Re=0;Re<Ie.length;Re+=1)Array.isArray(Ie[Re])&&Ie[Re].length===3?we.push([se(Object.assign({},Ne,{text:Ie[Re][0]})).text,Ie[Re][1],Ie[Re][2]]):we.push(se(Object.assign({},Ne,{text:Ie[Re]})).text);he.text=we}else he.text=se(Object.assign({},Ne,{text:Ie})).text}])})(Ae),(function(k){var B=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};k.existsFileInVFS=function(P){return B.call(this),this.internal.vFS[P]!==void 0},k.addFileToVFS=function(P,K){return B.call(this),this.internal.vFS[P]=K,this},k.getFileFromVFS=function(P){return B.call(this),this.internal.vFS[P]!==void 0?this.internal.vFS[P]:null}})(Ae.API),(function(k){k.__bidiEngine__=k.prototype.__bidiEngine__=function(K){var se,he,Ie,we,Ne,Re,Ke,at=B,ut=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Pe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Nt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},bt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Et=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ot=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ut=!1,rr=0;this.__bidiEngine__={};var Ot=function(ct){var mt=ct.charCodeAt(),Pt=mt>>8,Dt=bt[Pt];return Dt!==void 0?at[256*Dt+(255&mt)]:Pt===252||Pt===253?"AL":ot.test(Pt)?"L":Pt===8?"R":"N"},st=function(ct){for(var mt,Pt=0;Pt<ct.length;Pt++){if((mt=Ot(ct.charAt(Pt)))==="L")return!1;if(mt==="R")return!0}return!1},Xt=function(ct,mt,Pt,Dt){var gr,jr,Nr,ir,wr=mt[Dt];switch(wr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ut=!1;break;case"N":case"AN":break;case"EN":Ut&&(wr="AN");break;case"AL":Ut=!0,wr="R";break;case"WS":case"BN":wr="N";break;case"CS":Dt<1||Dt+1>=mt.length||(gr=Pt[Dt-1])!=="EN"&&gr!=="AN"||(jr=mt[Dt+1])!=="EN"&&jr!=="AN"?wr="N":Ut&&(jr="AN"),wr=jr===gr?jr:"N";break;case"ES":wr=(gr=Dt>0?Pt[Dt-1]:"B")==="EN"&&Dt+1<mt.length&&mt[Dt+1]==="EN"?"EN":"N";break;case"ET":if(Dt>0&&Pt[Dt-1]==="EN"){wr="EN";break}if(Ut){wr="N";break}for(Nr=Dt+1,ir=mt.length;Nr<ir&&mt[Nr]==="ET";)Nr++;wr=Nr<ir&&mt[Nr]==="EN"?"EN":"N";break;case"NSM":if(Ie&&!we){for(ir=mt.length,Nr=Dt+1;Nr<ir&&mt[Nr]==="NSM";)Nr++;if(Nr<ir){var Yr=ct[Dt],zr=Yr>=1425&&Yr<=2303||Yr===64286;if(gr=mt[Nr],zr&&(gr==="R"||gr==="AL")){wr="R";break}}}wr=Dt<1||(gr=mt[Dt-1])==="B"?"N":Pt[Dt-1];break;case"B":Ut=!1,se=!0,wr=rr;break;case"S":he=!0,wr="N"}return wr},pr=function(ct,mt,Pt){var Dt=ct.split("");return Pt&&ar(Dt,Pt,{hiLevel:rr}),Dt.reverse(),mt&&mt.reverse(),Dt.join("")},ar=function(ct,mt,Pt){var Dt,gr,jr,Nr,ir,wr=-1,Yr=ct.length,zr=0,et=[],St=rr?Pe:ut,kt=[];for(Ut=!1,se=!1,he=!1,gr=0;gr<Yr;gr++)kt[gr]=Ot(ct[gr]);for(jr=0;jr<Yr;jr++){if(ir=zr,et[jr]=Xt(ct,kt,et,jr),Dt=240&(zr=St[ir][Nt[et[jr]]]),zr&=15,mt[jr]=Nr=St[zr][5],Dt>0)if(Dt===16){for(gr=wr;gr<jr;gr++)mt[gr]=1;wr=-1}else wr=-1;if(St[zr][6])wr===-1&&(wr=jr);else if(wr>-1){for(gr=wr;gr<jr;gr++)mt[gr]=Nr;wr=-1}kt[jr]==="B"&&(mt[jr]=0),Pt.hiLevel|=Nr}he&&(function(Yt,tr,dr){for(var br=0;br<dr;br++)if(Yt[br]==="S"){tr[br]=rr;for(var Cr=br-1;Cr>=0&&Yt[Cr]==="WS";Cr--)tr[Cr]=rr}})(kt,mt,Yr)},Mt=function(ct,mt,Pt,Dt,gr){if(!(gr.hiLevel<ct)){if(ct===1&&rr===1&&!se)return mt.reverse(),void(Pt&&Pt.reverse());for(var jr,Nr,ir,wr,Yr=mt.length,zr=0;zr<Yr;){if(Dt[zr]>=ct){for(ir=zr+1;ir<Yr&&Dt[ir]>=ct;)ir++;for(wr=zr,Nr=ir-1;wr<Nr;wr++,Nr--)jr=mt[wr],mt[wr]=mt[Nr],mt[Nr]=jr,Pt&&(jr=Pt[wr],Pt[wr]=Pt[Nr],Pt[Nr]=jr);zr=ir}zr++}}},Ar=function(ct,mt,Pt){var Dt=ct.split(""),gr={hiLevel:rr};return Pt||(Pt=[]),ar(Dt,Pt,gr),(function(jr,Nr,ir){if(ir.hiLevel!==0&&Ke)for(var wr,Yr=0;Yr<jr.length;Yr++)Nr[Yr]===1&&(wr=Et.indexOf(jr[Yr]))>=0&&(jr[Yr]=Et[wr+1])})(Dt,Pt,gr),Mt(2,Dt,mt,Pt,gr),Mt(1,Dt,mt,Pt,gr),Dt.join("")};return this.__bidiEngine__.doBidiReorder=function(ct,mt,Pt){if((function(gr,jr){if(jr)for(var Nr=0;Nr<gr.length;Nr++)jr[Nr]=Nr;we===void 0&&(we=st(gr)),Re===void 0&&(Re=st(gr))})(ct,mt),Ie||!Ne||Re)if(Ie&&Ne&&we^Re)rr=we?1:0,ct=pr(ct,mt,Pt);else if(!Ie&&Ne&&Re)rr=we?1:0,ct=Ar(ct,mt,Pt),ct=pr(ct,mt);else if(!Ie||we||Ne||Re){if(Ie&&!Ne&&we^Re)ct=pr(ct,mt),we?(rr=0,ct=Ar(ct,mt,Pt)):(rr=1,ct=Ar(ct,mt,Pt),ct=pr(ct,mt));else if(Ie&&we&&!Ne&&Re)rr=1,ct=Ar(ct,mt,Pt),ct=pr(ct,mt);else if(!Ie&&!Ne&&we^Re){var Dt=Ke;we?(rr=1,ct=Ar(ct,mt,Pt),rr=0,Ke=!1,ct=Ar(ct,mt,Pt),Ke=Dt):(rr=0,ct=Ar(ct,mt,Pt),ct=pr(ct,mt),rr=1,Ke=!1,ct=Ar(ct,mt,Pt),Ke=Dt,ct=pr(ct,mt))}}else rr=0,ct=Ar(ct,mt,Pt);else rr=we?1:0,ct=Ar(ct,mt,Pt);return ct},this.__bidiEngine__.setOptions=function(ct){ct&&(Ie=ct.isInputVisual,Ne=ct.isOutputVisual,we=ct.isInputRtl,Re=ct.isOutputRtl,Ke=ct.isSymmetricSwapping)},this.__bidiEngine__.setOptions(K),this.__bidiEngine__};var B=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],P=new k.__bidiEngine__({isInputVisual:!0});k.API.events.push(["postProcessText",function(K){var se=K.text;K.x,K.y;var he=K.options||{};K.mutex,he.lang;var Ie=[];if(he.isInputVisual=typeof he.isInputVisual!="boolean"||he.isInputVisual,P.setOptions(he),Object.prototype.toString.call(se)==="[object Array]"){var we=0;for(Ie=[],we=0;we<se.length;we+=1)Object.prototype.toString.call(se[we])==="[object Array]"?Ie.push([P.doBidiReorder(se[we][0]),se[we][1],se[we][2]]):Ie.push([P.doBidiReorder(se[we])]);K.text=Ie}else K.text=P.doBidiReorder(se);P.setOptions({isInputVisual:!0})}])})(Ae),Ae.API.TTFFont=(function(){function k(B){var P;if(this.rawData=B,P=this.contents=new _s(B),this.contents.pos=4,P.readString(4)==="ttcf")throw new Error("TTCF not supported.");P.pos=0,this.parse(),this.subset=new dt(this),this.registerTTF()}return k.open=function(B){return new k(B)},k.prototype.parse=function(){return this.directory=new bo(this.contents),this.head=new Ws(this),this.name=new fe(this),this.cmap=new Ji(this),this.toUnicode={},this.hhea=new Pi(this),this.maxp=new ve(this),this.hmtx=new R(this),this.post=new Kt(this),this.os2=new Mo(this),this.loca=new Ye(this),this.glyf=new ue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},k.prototype.registerTTF=function(){var B,P,K,se,he;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ie,we,Ne,Re;for(Re=[],Ie=0,we=(Ne=this.bbox).length;Ie<we;Ie++)B=Ne[Ie],Re.push(Math.round(B*this.scaleFactor));return Re}).call(this),this.stemV=0,this.post.exists?(K=255&(se=this.post.italic_angle),32768&(P=se>>16)&&(P=-(1+(65535^P))),this.italicAngle=+(P+"."+K)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(he=this.familyClass)===1||he===2||he===3||he===4||he===5||he===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},k.prototype.characterToGlyph=function(B){var P;return((P=this.cmap.unicode)!=null?P.codeMap[B]:void 0)||0},k.prototype.widthOfGlyph=function(B){var P;return P=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(B).advance*P},k.prototype.widthOfString=function(B,P,K){var se,he,Ie,we;for(Ie=0,he=0,we=(B=""+B).length;0<=we?he<we:he>we;he=0<=we?++he:--he)se=B.charCodeAt(he),Ie+=this.widthOfGlyph(this.characterToGlyph(se))+K*(1e3/P)||0;return Ie*(P/1e3)},k.prototype.lineHeight=function(B,P){var K;return P==null&&(P=!1),K=P?this.lineGap:0,(this.ascender+K-this.decender)/1e3*B},k})();var Ys,_s=(function(){function k(B){this.data=B??[],this.pos=0,this.length=this.data.length}return k.prototype.readByte=function(){return this.data[this.pos++]},k.prototype.writeByte=function(B){return this.data[this.pos++]=B},k.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},k.prototype.writeUInt32=function(B){return this.writeByte(B>>>24&255),this.writeByte(B>>16&255),this.writeByte(B>>8&255),this.writeByte(255&B)},k.prototype.readInt32=function(){var B;return(B=this.readUInt32())>=2147483648?B-4294967296:B},k.prototype.writeInt32=function(B){return B<0&&(B+=4294967296),this.writeUInt32(B)},k.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},k.prototype.writeUInt16=function(B){return this.writeByte(B>>8&255),this.writeByte(255&B)},k.prototype.readInt16=function(){var B;return(B=this.readUInt16())>=32768?B-65536:B},k.prototype.writeInt16=function(B){return B<0&&(B+=65536),this.writeUInt16(B)},k.prototype.readString=function(B){var P,K;for(K=[],P=0;0<=B?P<B:P>B;P=0<=B?++P:--P)K[P]=String.fromCharCode(this.readByte());return K.join("")},k.prototype.writeString=function(B){var P,K,se;for(se=[],P=0,K=B.length;0<=K?P<K:P>K;P=0<=K?++P:--P)se.push(this.writeByte(B.charCodeAt(P)));return se},k.prototype.readShort=function(){return this.readInt16()},k.prototype.writeShort=function(B){return this.writeInt16(B)},k.prototype.readLongLong=function(){var B,P,K,se,he,Ie,we,Ne;return B=this.readByte(),P=this.readByte(),K=this.readByte(),se=this.readByte(),he=this.readByte(),Ie=this.readByte(),we=this.readByte(),Ne=this.readByte(),128&B?-1*(72057594037927940*(255^B)+281474976710656*(255^P)+1099511627776*(255^K)+4294967296*(255^se)+16777216*(255^he)+65536*(255^Ie)+256*(255^we)+(255^Ne)+1):72057594037927940*B+281474976710656*P+1099511627776*K+4294967296*se+16777216*he+65536*Ie+256*we+Ne},k.prototype.writeLongLong=function(B){var P,K;return P=Math.floor(B/4294967296),K=4294967295&B,this.writeByte(P>>24&255),this.writeByte(P>>16&255),this.writeByte(P>>8&255),this.writeByte(255&P),this.writeByte(K>>24&255),this.writeByte(K>>16&255),this.writeByte(K>>8&255),this.writeByte(255&K)},k.prototype.readInt=function(){return this.readInt32()},k.prototype.writeInt=function(B){return this.writeInt32(B)},k.prototype.read=function(B){var P,K;for(P=[],K=0;0<=B?K<B:K>B;K=0<=B?++K:--K)P.push(this.readByte());return P},k.prototype.write=function(B){var P,K,se,he;for(he=[],K=0,se=B.length;K<se;K++)P=B[K],he.push(this.writeByte(P));return he},k})(),bo=(function(){var k;function B(P){var K,se,he;for(this.scalarType=P.readInt(),this.tableCount=P.readShort(),this.searchRange=P.readShort(),this.entrySelector=P.readShort(),this.rangeShift=P.readShort(),this.tables={},se=0,he=this.tableCount;0<=he?se<he:se>he;se=0<=he?++se:--se)K={tag:P.readString(4),checksum:P.readInt(),offset:P.readInt(),length:P.readInt()},this.tables[K.tag]=K}return B.prototype.encode=function(P){var K,se,he,Ie,we,Ne,Re,Ke,at,ut,Pe,Nt,bt;for(bt in Pe=Object.keys(P).length,Ne=Math.log(2),at=16*Math.floor(Math.log(Pe)/Ne),Ie=Math.floor(at/Ne),Ke=16*Pe-at,(se=new _s).writeInt(this.scalarType),se.writeShort(Pe),se.writeShort(at),se.writeShort(Ie),se.writeShort(Ke),he=16*Pe,Re=se.pos+he,we=null,Nt=[],P)for(ut=P[bt],se.writeString(bt),se.writeInt(k(ut)),se.writeInt(Re),se.writeInt(ut.length),Nt=Nt.concat(ut),bt==="head"&&(we=Re),Re+=ut.length;Re%4;)Nt.push(0),Re++;return se.write(Nt),K=2981146554-k(se.data),se.pos=we+8,se.writeUInt32(K),se.data},k=function(P){var K,se,he,Ie;for(P=W.call(P);P.length%4;)P.push(0);for(he=new _s(P),se=0,K=0,Ie=P.length;K<Ie;K=K+=4)se+=he.readUInt32();return 4294967295&se},B})(),Do={}.hasOwnProperty,pa=function(k,B){for(var P in B)Do.call(B,P)&&(k[P]=B[P]);function K(){this.constructor=k}return K.prototype=B.prototype,k.prototype=new K,k.__super__=B.prototype,k};Ys=(function(){function k(B){var P;this.file=B,P=this.file.directory.tables[this.tag],this.exists=!!P,P&&(this.offset=P.offset,this.length=P.length,this.parse(this.file.contents))}return k.prototype.parse=function(){},k.prototype.encode=function(){},k.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},k})();var Ws=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="head",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.revision=B.readInt(),this.checkSumAdjustment=B.readInt(),this.magicNumber=B.readInt(),this.flags=B.readShort(),this.unitsPerEm=B.readShort(),this.created=B.readLongLong(),this.modified=B.readLongLong(),this.xMin=B.readShort(),this.yMin=B.readShort(),this.xMax=B.readShort(),this.yMax=B.readShort(),this.macStyle=B.readShort(),this.lowestRecPPEM=B.readShort(),this.fontDirectionHint=B.readShort(),this.indexToLocFormat=B.readShort(),this.glyphDataFormat=B.readShort()},k.prototype.encode=function(B){var P;return(P=new _s).writeInt(this.version),P.writeInt(this.revision),P.writeInt(this.checkSumAdjustment),P.writeInt(this.magicNumber),P.writeShort(this.flags),P.writeShort(this.unitsPerEm),P.writeLongLong(this.created),P.writeLongLong(this.modified),P.writeShort(this.xMin),P.writeShort(this.yMin),P.writeShort(this.xMax),P.writeShort(this.yMax),P.writeShort(this.macStyle),P.writeShort(this.lowestRecPPEM),P.writeShort(this.fontDirectionHint),P.writeShort(B),P.writeShort(this.glyphDataFormat),P.data},k})(),wi=(function(){function k(B,P){var K,se,he,Ie,we,Ne,Re,Ke,at,ut,Pe,Nt,bt,Et,ot,Ut,rr;switch(this.platformID=B.readUInt16(),this.encodingID=B.readShort(),this.offset=P+B.readInt(),at=B.pos,B.pos=this.offset,this.format=B.readUInt16(),this.length=B.readUInt16(),this.language=B.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ne=0;Ne<256;++Ne)this.codeMap[Ne]=B.readByte();break;case 4:for(Pe=B.readUInt16(),ut=Pe/2,B.pos+=6,he=(function(){var Ot,st;for(st=[],Ne=Ot=0;0<=ut?Ot<ut:Ot>ut;Ne=0<=ut?++Ot:--Ot)st.push(B.readUInt16());return st})(),B.pos+=2,bt=(function(){var Ot,st;for(st=[],Ne=Ot=0;0<=ut?Ot<ut:Ot>ut;Ne=0<=ut?++Ot:--Ot)st.push(B.readUInt16());return st})(),Re=(function(){var Ot,st;for(st=[],Ne=Ot=0;0<=ut?Ot<ut:Ot>ut;Ne=0<=ut?++Ot:--Ot)st.push(B.readUInt16());return st})(),Ke=(function(){var Ot,st;for(st=[],Ne=Ot=0;0<=ut?Ot<ut:Ot>ut;Ne=0<=ut?++Ot:--Ot)st.push(B.readUInt16());return st})(),se=(this.length-B.pos+this.offset)/2,we=(function(){var Ot,st;for(st=[],Ne=Ot=0;0<=se?Ot<se:Ot>se;Ne=0<=se?++Ot:--Ot)st.push(B.readUInt16());return st})(),Ne=ot=0,rr=he.length;ot<rr;Ne=++ot)for(Et=he[Ne],K=Ut=Nt=bt[Ne];Nt<=Et?Ut<=Et:Ut>=Et;K=Nt<=Et?++Ut:--Ut)Ke[Ne]===0?Ie=K+Re[Ne]:(Ie=we[Ke[Ne]/2+(K-Nt)-(ut-Ne)]||0)!==0&&(Ie+=Re[Ne]),this.codeMap[K]=65535&Ie}B.pos=at}return k.encode=function(B,P){var K,se,he,Ie,we,Ne,Re,Ke,at,ut,Pe,Nt,bt,Et,ot,Ut,rr,Ot,st,Xt,pr,ar,Mt,Ar,ct,mt,Pt,Dt,gr,jr,Nr,ir,wr,Yr,zr,et,St,kt,Yt,tr,dr,br,Cr,Lr,Jr,jn;switch(Dt=new _s,Ie=Object.keys(B).sort(function(wn,oa){return wn-oa}),P){case"macroman":for(bt=0,Et=(function(){var wn=[];for(Nt=0;Nt<256;++Nt)wn.push(0);return wn})(),Ut={0:0},he={},gr=0,wr=Ie.length;gr<wr;gr++)Ut[Cr=B[se=Ie[gr]]]==null&&(Ut[Cr]=++bt),he[se]={old:B[se],new:Ut[B[se]]},Et[se]=Ut[B[se]];return Dt.writeUInt16(1),Dt.writeUInt16(0),Dt.writeUInt32(12),Dt.writeUInt16(0),Dt.writeUInt16(262),Dt.writeUInt16(0),Dt.write(Et),{charMap:he,subtable:Dt.data,maxGlyphID:bt+1};case"unicode":for(mt=[],at=[],rr=0,Ut={},K={},ot=Re=null,jr=0,Yr=Ie.length;jr<Yr;jr++)Ut[st=B[se=Ie[jr]]]==null&&(Ut[st]=++rr),K[se]={old:st,new:Ut[st]},we=Ut[st]-se,ot!=null&&we===Re||(ot&&at.push(ot),mt.push(se),Re=we),ot=se;for(ot&&at.push(ot),at.push(65535),mt.push(65535),Ar=2*(Mt=mt.length),ar=2*Math.pow(Math.log(Mt)/Math.LN2,2),ut=Math.log(ar/2)/Math.LN2,pr=2*Mt-ar,Ne=[],Xt=[],Pe=[],Nt=Nr=0,zr=mt.length;Nr<zr;Nt=++Nr){if(ct=mt[Nt],Ke=at[Nt],ct===65535){Ne.push(0),Xt.push(0);break}if(ct-(Pt=K[ct].new)>=32768)for(Ne.push(0),Xt.push(2*(Pe.length+Mt-Nt)),se=ir=ct;ct<=Ke?ir<=Ke:ir>=Ke;se=ct<=Ke?++ir:--ir)Pe.push(K[se].new);else Ne.push(Pt-ct),Xt.push(0)}for(Dt.writeUInt16(3),Dt.writeUInt16(1),Dt.writeUInt32(12),Dt.writeUInt16(4),Dt.writeUInt16(16+8*Mt+2*Pe.length),Dt.writeUInt16(0),Dt.writeUInt16(Ar),Dt.writeUInt16(ar),Dt.writeUInt16(ut),Dt.writeUInt16(pr),dr=0,et=at.length;dr<et;dr++)se=at[dr],Dt.writeUInt16(se);for(Dt.writeUInt16(0),br=0,St=mt.length;br<St;br++)se=mt[br],Dt.writeUInt16(se);for(Lr=0,kt=Ne.length;Lr<kt;Lr++)we=Ne[Lr],Dt.writeUInt16(we);for(Jr=0,Yt=Xt.length;Jr<Yt;Jr++)Ot=Xt[Jr],Dt.writeUInt16(Ot);for(jn=0,tr=Pe.length;jn<tr;jn++)bt=Pe[jn],Dt.writeUInt16(bt);return{charMap:K,subtable:Dt.data,maxGlyphID:rr+1}}},k})(),Ji=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="cmap",k.prototype.parse=function(B){var P,K,se;for(B.pos=this.offset,this.version=B.readUInt16(),se=B.readUInt16(),this.tables=[],this.unicode=null,K=0;0<=se?K<se:K>se;K=0<=se?++K:--K)P=new wi(B,this.offset),this.tables.push(P),P.isUnicode&&this.unicode==null&&(this.unicode=P);return!0},k.encode=function(B,P){var K,se;return P==null&&(P="macroman"),K=wi.encode(B,P),(se=new _s).writeUInt16(0),se.writeUInt16(1),K.table=se.data.concat(K.subtable),K},k})(),Pi=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="hhea",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.ascender=B.readShort(),this.decender=B.readShort(),this.lineGap=B.readShort(),this.advanceWidthMax=B.readShort(),this.minLeftSideBearing=B.readShort(),this.minRightSideBearing=B.readShort(),this.xMaxExtent=B.readShort(),this.caretSlopeRise=B.readShort(),this.caretSlopeRun=B.readShort(),this.caretOffset=B.readShort(),B.pos+=8,this.metricDataFormat=B.readShort(),this.numberOfMetrics=B.readUInt16()},k})(),Mo=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="OS/2",k.prototype.parse=function(B){if(B.pos=this.offset,this.version=B.readUInt16(),this.averageCharWidth=B.readShort(),this.weightClass=B.readUInt16(),this.widthClass=B.readUInt16(),this.type=B.readShort(),this.ySubscriptXSize=B.readShort(),this.ySubscriptYSize=B.readShort(),this.ySubscriptXOffset=B.readShort(),this.ySubscriptYOffset=B.readShort(),this.ySuperscriptXSize=B.readShort(),this.ySuperscriptYSize=B.readShort(),this.ySuperscriptXOffset=B.readShort(),this.ySuperscriptYOffset=B.readShort(),this.yStrikeoutSize=B.readShort(),this.yStrikeoutPosition=B.readShort(),this.familyClass=B.readShort(),this.panose=(function(){var P,K;for(K=[],P=0;P<10;++P)K.push(B.readByte());return K})(),this.charRange=(function(){var P,K;for(K=[],P=0;P<4;++P)K.push(B.readInt());return K})(),this.vendorID=B.readString(4),this.selection=B.readShort(),this.firstCharIndex=B.readShort(),this.lastCharIndex=B.readShort(),this.version>0&&(this.ascent=B.readShort(),this.descent=B.readShort(),this.lineGap=B.readShort(),this.winAscent=B.readShort(),this.winDescent=B.readShort(),this.codePageRange=(function(){var P,K;for(K=[],P=0;P<2;P=++P)K.push(B.readInt());return K})(),this.version>1))return this.xHeight=B.readShort(),this.capHeight=B.readShort(),this.defaultChar=B.readShort(),this.breakChar=B.readShort(),this.maxContext=B.readShort()},k})(),Kt=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="post",k.prototype.parse=function(B){var P,K,se;switch(B.pos=this.offset,this.format=B.readInt(),this.italicAngle=B.readInt(),this.underlinePosition=B.readShort(),this.underlineThickness=B.readShort(),this.isFixedPitch=B.readInt(),this.minMemType42=B.readInt(),this.maxMemType42=B.readInt(),this.minMemType1=B.readInt(),this.maxMemType1=B.readInt(),this.format){case 65536:case 196608:break;case 131072:var he;for(K=B.readUInt16(),this.glyphNameIndex=[],he=0;0<=K?he<K:he>K;he=0<=K?++he:--he)this.glyphNameIndex.push(B.readUInt16());for(this.names=[],se=[];B.pos<this.offset+this.length;)P=B.readByte(),se.push(this.names.push(B.readString(P)));return se;case 151552:return K=B.readUInt16(),this.offsets=B.read(K);case 262144:return this.map=(function(){var Ie,we,Ne;for(Ne=[],he=Ie=0,we=this.file.maxp.numGlyphs;0<=we?Ie<we:Ie>we;he=0<=we?++Ie:--Ie)Ne.push(B.readUInt32());return Ne}).call(this)}},k})(),Q=function(k,B){this.raw=k,this.length=k.length,this.platformID=B.platformID,this.encodingID=B.encodingID,this.languageID=B.languageID},fe=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="name",k.prototype.parse=function(B){var P,K,se,he,Ie,we,Ne,Re,Ke,at,ut;for(B.pos=this.offset,B.readShort(),P=B.readShort(),we=B.readShort(),K=[],he=0;0<=P?he<P:he>P;he=0<=P?++he:--he)K.push({platformID:B.readShort(),encodingID:B.readShort(),languageID:B.readShort(),nameID:B.readShort(),length:B.readShort(),offset:this.offset+we+B.readShort()});for(Ne={},he=Ke=0,at=K.length;Ke<at;he=++Ke)se=K[he],B.pos=se.offset,Re=B.readString(se.length),Ie=new Q(Re,se),Ne[ut=se.nameID]==null&&(Ne[ut]=[]),Ne[se.nameID].push(Ie);this.strings=Ne,this.copyright=Ne[0],this.fontFamily=Ne[1],this.fontSubfamily=Ne[2],this.uniqueSubfamily=Ne[3],this.fontName=Ne[4],this.version=Ne[5];try{this.postscriptName=Ne[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ne[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ne[7],this.manufacturer=Ne[8],this.designer=Ne[9],this.description=Ne[10],this.vendorUrl=Ne[11],this.designerUrl=Ne[12],this.license=Ne[13],this.licenseUrl=Ne[14],this.preferredFamily=Ne[15],this.preferredSubfamily=Ne[17],this.compatibleFull=Ne[18],this.sampleText=Ne[19]},k})(),ve=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="maxp",k.prototype.parse=function(B){return B.pos=this.offset,this.version=B.readInt(),this.numGlyphs=B.readUInt16(),this.maxPoints=B.readUInt16(),this.maxContours=B.readUInt16(),this.maxCompositePoints=B.readUInt16(),this.maxComponentContours=B.readUInt16(),this.maxZones=B.readUInt16(),this.maxTwilightPoints=B.readUInt16(),this.maxStorage=B.readUInt16(),this.maxFunctionDefs=B.readUInt16(),this.maxInstructionDefs=B.readUInt16(),this.maxStackElements=B.readUInt16(),this.maxSizeOfInstructions=B.readUInt16(),this.maxComponentElements=B.readUInt16(),this.maxComponentDepth=B.readUInt16()},k})(),R=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="hmtx",k.prototype.parse=function(B){var P,K,se,he,Ie,we,Ne;for(B.pos=this.offset,this.metrics=[],P=0,we=this.file.hhea.numberOfMetrics;0<=we?P<we:P>we;P=0<=we?++P:--P)this.metrics.push({advance:B.readUInt16(),lsb:B.readInt16()});for(se=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Re,Ke;for(Ke=[],P=Re=0;0<=se?Re<se:Re>se;P=0<=se?++Re:--Re)Ke.push(B.readInt16());return Ke})(),this.widths=(function(){var Re,Ke,at,ut;for(ut=[],Re=0,Ke=(at=this.metrics).length;Re<Ke;Re++)he=at[Re],ut.push(he.advance);return ut}).call(this),K=this.widths[this.widths.length-1],Ne=[],P=Ie=0;0<=se?Ie<se:Ie>se;P=0<=se?++Ie:--Ie)Ne.push(this.widths.push(K));return Ne},k.prototype.forGlyph=function(B){return B in this.metrics?this.metrics[B]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[B-this.metrics.length]}},k})(),W=[].slice,ue=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="glyf",k.prototype.parse=function(){return this.cache={}},k.prototype.glyphFor=function(B){var P,K,se,he,Ie,we,Ne,Re,Ke,at;return B in this.cache?this.cache[B]:(he=this.file.loca,P=this.file.contents,K=he.indexOf(B),(se=he.lengthOf(B))===0?this.cache[B]=null:(P.pos=this.offset+K,Ie=(we=new _s(P.read(se))).readShort(),Re=we.readShort(),at=we.readShort(),Ne=we.readShort(),Ke=we.readShort(),this.cache[B]=Ie===-1?new De(we,Re,at,Ne,Ke):new Be(we,Ie,Re,at,Ne,Ke),this.cache[B]))},k.prototype.encode=function(B,P,K){var se,he,Ie,we,Ne;for(Ie=[],he=[],we=0,Ne=P.length;we<Ne;we++)se=B[P[we]],he.push(Ie.length),se&&(Ie=Ie.concat(se.encode(K)));return he.push(Ie.length),{table:Ie,offsets:he}},k})(),Be=(function(){function k(B,P,K,se,he,Ie){this.raw=B,this.numberOfContours=P,this.xMin=K,this.yMin=se,this.xMax=he,this.yMax=Ie,this.compound=!1}return k.prototype.encode=function(){return this.raw.data},k})(),De=(function(){function k(B,P,K,se,he){var Ie,we;for(this.raw=B,this.xMin=P,this.yMin=K,this.xMax=se,this.yMax=he,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ie=this.raw;we=Ie.readShort(),this.glyphOffsets.push(Ie.pos),this.glyphIDs.push(Ie.readUInt16()),32&we;)Ie.pos+=1&we?4:2,128&we?Ie.pos+=8:64&we?Ie.pos+=4:8&we&&(Ie.pos+=2)}return k.prototype.encode=function(){var B,P,K;for(P=new _s(W.call(this.raw.data)),B=0,K=this.glyphIDs.length;B<K;++B)P.pos=this.glyphOffsets[B];return P.data},k})(),Ye=(function(){function k(){return k.__super__.constructor.apply(this,arguments)}return pa(k,Ys),k.prototype.tag="loca",k.prototype.parse=function(B){var P,K;return B.pos=this.offset,P=this.file.head.indexToLocFormat,this.offsets=P===0?(function(){var se,he;for(he=[],K=0,se=this.length;K<se;K+=2)he.push(2*B.readUInt16());return he}).call(this):(function(){var se,he;for(he=[],K=0,se=this.length;K<se;K+=4)he.push(B.readUInt32());return he}).call(this)},k.prototype.indexOf=function(B){return this.offsets[B]},k.prototype.lengthOf=function(B){return this.offsets[B+1]-this.offsets[B]},k.prototype.encode=function(B,P){for(var K=new Uint32Array(this.offsets.length),se=0,he=0,Ie=0;Ie<K.length;++Ie)if(K[Ie]=se,he<P.length&&P[he]==Ie){++he,K[Ie]=se;var we=this.offsets[Ie],Ne=this.offsets[Ie+1]-we;Ne>0&&(se+=Ne)}for(var Re=new Array(4*K.length),Ke=0;Ke<K.length;++Ke)Re[4*Ke+3]=255&K[Ke],Re[4*Ke+2]=(65280&K[Ke])>>8,Re[4*Ke+1]=(16711680&K[Ke])>>16,Re[4*Ke]=(4278190080&K[Ke])>>24;return Re},k})(),dt=(function(){function k(B){this.font=B,this.subset={},this.unicodes={},this.next=33}return k.prototype.generateCmap=function(){var B,P,K,se,he;for(P in se=this.font.cmap.tables[0].codeMap,B={},he=this.subset)K=he[P],B[P]=se[K];return B},k.prototype.glyphsFor=function(B){var P,K,se,he,Ie,we,Ne;for(se={},Ie=0,we=B.length;Ie<we;Ie++)se[he=B[Ie]]=this.font.glyf.glyphFor(he);for(he in P=[],se)(K=se[he])!=null&&K.compound&&P.push.apply(P,K.glyphIDs);if(P.length>0)for(he in Ne=this.glyphsFor(P))K=Ne[he],se[he]=K;return se},k.prototype.encode=function(B,P){var K,se,he,Ie,we,Ne,Re,Ke,at,ut,Pe,Nt,bt,Et,ot;for(se in K=Ji.encode(this.generateCmap(),"unicode"),Ie=this.glyphsFor(B),Pe={0:0},ot=K.charMap)Pe[(Ne=ot[se]).old]=Ne.new;for(Nt in ut=K.maxGlyphID,Ie)Nt in Pe||(Pe[Nt]=ut++);return Ke=(function(Ut){var rr,Ot;for(rr in Ot={},Ut)Ot[Ut[rr]]=rr;return Ot})(Pe),at=Object.keys(Ke).sort(function(Ut,rr){return Ut-rr}),bt=(function(){var Ut,rr,Ot;for(Ot=[],Ut=0,rr=at.length;Ut<rr;Ut++)we=at[Ut],Ot.push(Ke[we]);return Ot})(),he=this.font.glyf.encode(Ie,bt,Pe),Re=this.font.loca.encode(he.offsets,bt),Et={cmap:this.font.cmap.raw(),glyf:he.table,loca:Re,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(P)},this.font.os2.exists&&(Et["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Et)},k})();Ae.API.PDFObject=(function(){var k;function B(){}return k=function(P,K){return(Array(K+1).join("0")+P).slice(-K)},B.convert=function(P){var K,se,he,Ie;if(Array.isArray(P))return"["+(function(){var we,Ne,Re;for(Re=[],we=0,Ne=P.length;we<Ne;we++)K=P[we],Re.push(B.convert(K));return Re})().join(" ")+"]";if(typeof P=="string")return"/"+P;if(P!=null&&P.isString)return"("+P+")";if(P instanceof Date)return"(D:"+k(P.getUTCFullYear(),4)+k(P.getUTCMonth(),2)+k(P.getUTCDate(),2)+k(P.getUTCHours(),2)+k(P.getUTCMinutes(),2)+k(P.getUTCSeconds(),2)+"Z)";if({}.toString.call(P)==="[object Object]"){for(se in he=["<<"],P)Ie=P[se],he.push("/"+se+" "+B.convert(Ie));return he.push(">>"),he.join(`
`)}return""+P},B})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(o,d,l){l.r(d),l.d(d,{Deflate:function(){return Ur},Inflate:function(){return ta},constants:function(){return hs},default:function(){return hi},deflate:function(){return Nn},deflateRaw:function(){return Dn},gzip:function(){return Aa},inflate:function(){return _a},inflateRaw:function(){return Fs},ungzip:function(){return Ms}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const u=4,h=0,f=1,A=2;function g(_){let He=_.length;for(;--He>=0;)_[He]=0}const m=0,x=1,y=2,b=3,j=258,S=29,w=256,E=w+1+S,I=30,L=19,Z=2*E+1,ne=15,G=16,le=7,V=256,me=16,$=17,X=18,Ce=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),M=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J=512,D=new Array((E+2)*2);g(D);const ce=new Array(I*2);g(ce);const te=new Array(J);g(te);const ge=new Array(j-b+1);g(ge);const pe=new Array(S);g(pe);const be=new Array(I);g(be);function re(_,He,oe,Ze,gt){this.static_tree=_,this.extra_bits=He,this.extra_base=oe,this.elems=Ze,this.max_length=gt,this.has_stree=_&&_.length}let de,Y,Ae;function ye(_,He){this.dyn_tree=_,this.max_code=0,this.stat_desc=He}const Oe=_=>_<256?te[_]:te[256+(_>>>7)],We=(_,He)=>{_.pending_buf[_.pending++]=He&255,_.pending_buf[_.pending++]=He>>>8&255},ae=(_,He,oe)=>{_.bi_valid>G-oe?(_.bi_buf|=He<<_.bi_valid&65535,We(_,_.bi_buf),_.bi_buf=He>>G-_.bi_valid,_.bi_valid+=oe-G):(_.bi_buf|=He<<_.bi_valid&65535,_.bi_valid+=oe)},ke=(_,He,oe)=>{ae(_,oe[He*2],oe[He*2+1])},Fe=(_,He)=>{let oe=0;do oe|=_&1,_>>>=1,oe<<=1;while(--He>0);return oe>>>1},nt=_=>{_.bi_valid===16?(We(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},tt=(_,He)=>{const oe=He.dyn_tree,Ze=He.max_code,gt=He.stat_desc.static_tree,ht=He.stat_desc.has_stree,or=He.stat_desc.extra_bits,Jt=He.stat_desc.extra_base,bn=He.stat_desc.max_length;let Ht,hr,va,fn,$r,Er,Rs=0;for(fn=0;fn<=ne;fn++)_.bl_count[fn]=0;for(oe[_.heap[_.heap_max]*2+1]=0,Ht=_.heap_max+1;Ht<Z;Ht++)hr=_.heap[Ht],fn=oe[oe[hr*2+1]*2+1]+1,fn>bn&&(fn=bn,Rs++),oe[hr*2+1]=fn,!(hr>Ze)&&(_.bl_count[fn]++,$r=0,hr>=Jt&&($r=or[hr-Jt]),Er=oe[hr*2],_.opt_len+=Er*(fn+$r),ht&&(_.static_len+=Er*(gt[hr*2+1]+$r)));if(Rs!==0){do{for(fn=bn-1;_.bl_count[fn]===0;)fn--;_.bl_count[fn]--,_.bl_count[fn+1]+=2,_.bl_count[bn]--,Rs-=2}while(Rs>0);for(fn=bn;fn!==0;fn--)for(hr=_.bl_count[fn];hr!==0;)va=_.heap[--Ht],!(va>Ze)&&(oe[va*2+1]!==fn&&(_.opt_len+=(fn-oe[va*2+1])*oe[va*2],oe[va*2+1]=fn),hr--)}},Le=(_,He,oe)=>{const Ze=new Array(ne+1);let gt=0,ht,or;for(ht=1;ht<=ne;ht++)gt=gt+oe[ht-1]<<1,Ze[ht]=gt;for(or=0;or<=He;or++){let Jt=_[or*2+1];Jt!==0&&(_[or*2]=Fe(Ze[Jt]++,Jt))}},lt=()=>{let _,He,oe,Ze,gt;const ht=new Array(ne+1);for(oe=0,Ze=0;Ze<S-1;Ze++)for(pe[Ze]=oe,_=0;_<1<<Ce[Ze];_++)ge[oe++]=Ze;for(ge[oe-1]=Ze,gt=0,Ze=0;Ze<16;Ze++)for(be[Ze]=gt,_=0;_<1<<M[Ze];_++)te[gt++]=Ze;for(gt>>=7;Ze<I;Ze++)for(be[Ze]=gt<<7,_=0;_<1<<M[Ze]-7;_++)te[256+gt++]=Ze;for(He=0;He<=ne;He++)ht[He]=0;for(_=0;_<=143;)D[_*2+1]=8,_++,ht[8]++;for(;_<=255;)D[_*2+1]=9,_++,ht[9]++;for(;_<=279;)D[_*2+1]=7,_++,ht[7]++;for(;_<=287;)D[_*2+1]=8,_++,ht[8]++;for(Le(D,E+1,ht),_=0;_<I;_++)ce[_*2+1]=5,ce[_*2]=Fe(_,5);de=new re(D,Ce,w+1,E,ne),Y=new re(ce,M,0,I,ne),Ae=new re(new Array(0),q,0,L,le)},$t=_=>{let He;for(He=0;He<E;He++)_.dyn_ltree[He*2]=0;for(He=0;He<I;He++)_.dyn_dtree[He*2]=0;for(He=0;He<L;He++)_.bl_tree[He*2]=0;_.dyn_ltree[V*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},Ue=_=>{_.bi_valid>8?We(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},yt=(_,He,oe,Ze)=>{const gt=He*2,ht=oe*2;return _[gt]<_[ht]||_[gt]===_[ht]&&Ze[He]<=Ze[oe]},Tt=(_,He,oe)=>{const Ze=_.heap[oe];let gt=oe<<1;for(;gt<=_.heap_len&&(gt<_.heap_len&&yt(He,_.heap[gt+1],_.heap[gt],_.depth)&&gt++,!yt(He,Ze,_.heap[gt],_.depth));)_.heap[oe]=_.heap[gt],oe=gt,gt<<=1;_.heap[oe]=Ze},Zt=(_,He,oe)=>{let Ze,gt,ht=0,or,Jt;if(_.sym_next!==0)do Ze=_.pending_buf[_.sym_buf+ht++]&255,Ze+=(_.pending_buf[_.sym_buf+ht++]&255)<<8,gt=_.pending_buf[_.sym_buf+ht++],Ze===0?ke(_,gt,He):(or=ge[gt],ke(_,or+w+1,He),Jt=Ce[or],Jt!==0&&(gt-=pe[or],ae(_,gt,Jt)),Ze--,or=Oe(Ze),ke(_,or,oe),Jt=M[or],Jt!==0&&(Ze-=be[or],ae(_,Ze,Jt)));while(ht<_.sym_next);ke(_,V,He)},Mr=(_,He)=>{const oe=He.dyn_tree,Ze=He.stat_desc.static_tree,gt=He.stat_desc.has_stree,ht=He.stat_desc.elems;let or,Jt,bn=-1,Ht;for(_.heap_len=0,_.heap_max=Z,or=0;or<ht;or++)oe[or*2]!==0?(_.heap[++_.heap_len]=bn=or,_.depth[or]=0):oe[or*2+1]=0;for(;_.heap_len<2;)Ht=_.heap[++_.heap_len]=bn<2?++bn:0,oe[Ht*2]=1,_.depth[Ht]=0,_.opt_len--,gt&&(_.static_len-=Ze[Ht*2+1]);for(He.max_code=bn,or=_.heap_len>>1;or>=1;or--)Tt(_,oe,or);Ht=ht;do or=_.heap[1],_.heap[1]=_.heap[_.heap_len--],Tt(_,oe,1),Jt=_.heap[1],_.heap[--_.heap_max]=or,_.heap[--_.heap_max]=Jt,oe[Ht*2]=oe[or*2]+oe[Jt*2],_.depth[Ht]=(_.depth[or]>=_.depth[Jt]?_.depth[or]:_.depth[Jt])+1,oe[or*2+1]=oe[Jt*2+1]=Ht,_.heap[1]=Ht++,Tt(_,oe,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],tt(_,He),Le(oe,bn,_.bl_count)},_t=(_,He,oe)=>{let Ze,gt=-1,ht,or=He[1],Jt=0,bn=7,Ht=4;for(or===0&&(bn=138,Ht=3),He[(oe+1)*2+1]=65535,Ze=0;Ze<=oe;Ze++)ht=or,or=He[(Ze+1)*2+1],!(++Jt<bn&&ht===or)&&(Jt<Ht?_.bl_tree[ht*2]+=Jt:ht!==0?(ht!==gt&&_.bl_tree[ht*2]++,_.bl_tree[me*2]++):Jt<=10?_.bl_tree[$*2]++:_.bl_tree[X*2]++,Jt=0,gt=ht,or===0?(bn=138,Ht=3):ht===or?(bn=6,Ht=3):(bn=7,Ht=4))},Vt=(_,He,oe)=>{let Ze,gt=-1,ht,or=He[1],Jt=0,bn=7,Ht=4;for(or===0&&(bn=138,Ht=3),Ze=0;Ze<=oe;Ze++)if(ht=or,or=He[(Ze+1)*2+1],!(++Jt<bn&&ht===or)){if(Jt<Ht)do ke(_,ht,_.bl_tree);while(--Jt!==0);else ht!==0?(ht!==gt&&(ke(_,ht,_.bl_tree),Jt--),ke(_,me,_.bl_tree),ae(_,Jt-3,2)):Jt<=10?(ke(_,$,_.bl_tree),ae(_,Jt-3,3)):(ke(_,X,_.bl_tree),ae(_,Jt-11,7));Jt=0,gt=ht,or===0?(bn=138,Ht=3):ht===or?(bn=6,Ht=3):(bn=7,Ht=4)}},mr=_=>{let He;for(_t(_,_.dyn_ltree,_.l_desc.max_code),_t(_,_.dyn_dtree,_.d_desc.max_code),Mr(_,_.bl_desc),He=L-1;He>=3&&_.bl_tree[ie[He]*2+1]===0;He--);return _.opt_len+=3*(He+1)+5+5+4,He},Qe=(_,He,oe,Ze)=>{let gt;for(ae(_,He-257,5),ae(_,oe-1,5),ae(_,Ze-4,4),gt=0;gt<Ze;gt++)ae(_,_.bl_tree[ie[gt]*2+1],3);Vt(_,_.dyn_ltree,He-1),Vt(_,_.dyn_dtree,oe-1)},Bt=_=>{let He=4093624447,oe;for(oe=0;oe<=31;oe++,He>>>=1)if(He&1&&_.dyn_ltree[oe*2]!==0)return h;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return f;for(oe=32;oe<w;oe++)if(_.dyn_ltree[oe*2]!==0)return f;return h};let Ge=!1;const Ft=_=>{Ge||(lt(),Ge=!0),_.l_desc=new ye(_.dyn_ltree,de),_.d_desc=new ye(_.dyn_dtree,Y),_.bl_desc=new ye(_.bl_tree,Ae),_.bi_buf=0,_.bi_valid=0,$t(_)},Lt=(_,He,oe,Ze)=>{ae(_,(m<<1)+(Ze?1:0),3),Ue(_),We(_,oe),We(_,~oe),oe&&_.pending_buf.set(_.window.subarray(He,He+oe),_.pending),_.pending+=oe},Dr=_=>{ae(_,x<<1,3),ke(_,V,D),nt(_)},Or=(_,He,oe,Ze)=>{let gt,ht,or=0;_.level>0?(_.strm.data_type===A&&(_.strm.data_type=Bt(_)),Mr(_,_.l_desc),Mr(_,_.d_desc),or=mr(_),gt=_.opt_len+3+7>>>3,ht=_.static_len+3+7>>>3,ht<=gt&&(gt=ht)):gt=ht=oe+5,oe+4<=gt&&He!==-1?Lt(_,He,oe,Ze):_.strategy===u||ht===gt?(ae(_,(x<<1)+(Ze?1:0),3),Zt(_,D,ce)):(ae(_,(y<<1)+(Ze?1:0),3),Qe(_,_.l_desc.max_code+1,_.d_desc.max_code+1,or+1),Zt(_,_.dyn_ltree,_.dyn_dtree)),$t(_),Ze&&Ue(_)},Kr=(_,He,oe)=>(_.pending_buf[_.sym_buf+_.sym_next++]=He,_.pending_buf[_.sym_buf+_.sym_next++]=He>>8,_.pending_buf[_.sym_buf+_.sym_next++]=oe,He===0?_.dyn_ltree[oe*2]++:(_.matches++,He--,_.dyn_ltree[(ge[oe]+w+1)*2]++,_.dyn_dtree[Oe(He)*2]++),_.sym_next===_.sym_end);var Hr=Ft,Bn=Lt,Wr=Or,Qr=Kr,vn=Dr,sn={_tr_init:Hr,_tr_stored_block:Bn,_tr_flush_block:Wr,_tr_tally:Qr,_tr_align:vn},da=(_,He,oe,Ze)=>{let gt=_&65535|0,ht=_>>>16&65535|0,or=0;for(;oe!==0;){or=oe>2e3?2e3:oe,oe-=or;do gt=gt+He[Ze++]|0,ht=ht+gt|0;while(--or);gt%=65521,ht%=65521}return gt|ht<<16|0};const ci=()=>{let _,He=[];for(var oe=0;oe<256;oe++){_=oe;for(var Ze=0;Ze<8;Ze++)_=_&1?3988292384^_>>>1:_>>>1;He[oe]=_}return He},ei=new Uint32Array(ci());var ua=(_,He,oe,Ze)=>{const gt=ei,ht=Ze+oe;_^=-1;for(let or=Ze;or<ht;or++)_=_>>>8^gt[(_^He[or])&255];return _^-1},Zr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ls={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Fi,_tr_stored_block:Sn,_tr_flush_block:qi,_tr_tally:Ps,_tr_align:ks}=sn,{Z_NO_FLUSH:di,Z_PARTIAL_FLUSH:Us,Z_FULL_FLUSH:co,Z_FINISH:ts,Z_BLOCK:Xi,Z_OK:Wa,Z_STREAM_END:Sc,Z_STREAM_ERROR:yi,Z_DATA_ERROR:Il,Z_BUF_ERROR:Ec,Z_DEFAULT_COMPRESSION:Tl,Z_FILTERED:Hs,Z_HUFFMAN_ONLY:jo,Z_RLE:ha,Z_FIXED:ec,Z_DEFAULT_STRATEGY:rs,Z_UNKNOWN:ko,Z_DEFLATED:Yi}=ls,_o=9,al=15,Oo=8,ns=256+1+29,gl=30,Fo=19,$c=2*ns+1,ui=15,zn=3,Qs=258,ji=Qs+zn+1,bi=32,Po=42,Ds=57,uo=69,Ys=73,_s=91,bo=103,Do=113,pa=666,Ws=1,wi=2,Ji=3,Pi=4,Mo=3,Kt=(_,He)=>(_.msg=Zr[He],He),Q=_=>_*2-(_>4?9:0),fe=_=>{let He=_.length;for(;--He>=0;)_[He]=0},ve=_=>{let He,oe,Ze,gt=_.w_size;He=_.hash_size,Ze=He;do oe=_.head[--Ze],_.head[Ze]=oe>=gt?oe-gt:0;while(--He);He=gt,Ze=He;do oe=_.prev[--Ze],_.prev[Ze]=oe>=gt?oe-gt:0;while(--He)};let W=(_,He,oe)=>(He<<_.hash_shift^oe)&_.hash_mask;const ue=_=>{const He=_.state;let oe=He.pending;oe>_.avail_out&&(oe=_.avail_out),oe!==0&&(_.output.set(He.pending_buf.subarray(He.pending_out,He.pending_out+oe),_.next_out),_.next_out+=oe,He.pending_out+=oe,_.total_out+=oe,_.avail_out-=oe,He.pending-=oe,He.pending===0&&(He.pending_out=0))},Be=(_,He)=>{qi(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,He),_.block_start=_.strstart,ue(_.strm)},De=(_,He)=>{_.pending_buf[_.pending++]=He},Ye=(_,He)=>{_.pending_buf[_.pending++]=He>>>8&255,_.pending_buf[_.pending++]=He&255},dt=(_,He,oe,Ze)=>{let gt=_.avail_in;return gt>Ze&&(gt=Ze),gt===0?0:(_.avail_in-=gt,He.set(_.input.subarray(_.next_in,_.next_in+gt),oe),_.state.wrap===1?_.adler=da(_.adler,He,gt,oe):_.state.wrap===2&&(_.adler=ua(_.adler,He,gt,oe)),_.next_in+=gt,_.total_in+=gt,gt)},k=(_,He)=>{let oe=_.max_chain_length,Ze=_.strstart,gt,ht,or=_.prev_length,Jt=_.nice_match;const bn=_.strstart>_.w_size-ji?_.strstart-(_.w_size-ji):0,Ht=_.window,hr=_.w_mask,va=_.prev,fn=_.strstart+Qs;let $r=Ht[Ze+or-1],Er=Ht[Ze+or];_.prev_length>=_.good_match&&(oe>>=2),Jt>_.lookahead&&(Jt=_.lookahead);do if(gt=He,!(Ht[gt+or]!==Er||Ht[gt+or-1]!==$r||Ht[gt]!==Ht[Ze]||Ht[++gt]!==Ht[Ze+1])){Ze+=2,gt++;do;while(Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ht[++Ze]===Ht[++gt]&&Ze<fn);if(ht=Qs-(fn-Ze),Ze=fn-Qs,ht>or){if(_.match_start=He,or=ht,ht>=Jt)break;$r=Ht[Ze+or-1],Er=Ht[Ze+or]}}while((He=va[He&hr])>bn&&--oe!==0);return or<=_.lookahead?or:_.lookahead},B=_=>{const He=_.w_size;let oe,Ze,gt;do{if(Ze=_.window_size-_.lookahead-_.strstart,_.strstart>=He+(He-ji)&&(_.window.set(_.window.subarray(He,He+He-Ze),0),_.match_start-=He,_.strstart-=He,_.block_start-=He,_.insert>_.strstart&&(_.insert=_.strstart),ve(_),Ze+=He),_.strm.avail_in===0)break;if(oe=dt(_.strm,_.window,_.strstart+_.lookahead,Ze),_.lookahead+=oe,_.lookahead+_.insert>=zn)for(gt=_.strstart-_.insert,_.ins_h=_.window[gt],_.ins_h=W(_,_.ins_h,_.window[gt+1]);_.insert&&(_.ins_h=W(_,_.ins_h,_.window[gt+zn-1]),_.prev[gt&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=gt,gt++,_.insert--,!(_.lookahead+_.insert<zn)););}while(_.lookahead<ji&&_.strm.avail_in!==0)},P=(_,He)=>{let oe=_.pending_buf_size-5>_.w_size?_.w_size:_.pending_buf_size-5,Ze,gt,ht,or=0,Jt=_.strm.avail_in;do{if(Ze=65535,ht=_.bi_valid+42>>3,_.strm.avail_out<ht||(ht=_.strm.avail_out-ht,gt=_.strstart-_.block_start,Ze>gt+_.strm.avail_in&&(Ze=gt+_.strm.avail_in),Ze>ht&&(Ze=ht),Ze<oe&&(Ze===0&&He!==ts||He===di||Ze!==gt+_.strm.avail_in)))break;or=He===ts&&Ze===gt+_.strm.avail_in?1:0,Sn(_,0,0,or),_.pending_buf[_.pending-4]=Ze,_.pending_buf[_.pending-3]=Ze>>8,_.pending_buf[_.pending-2]=~Ze,_.pending_buf[_.pending-1]=~Ze>>8,ue(_.strm),gt&&(gt>Ze&&(gt=Ze),_.strm.output.set(_.window.subarray(_.block_start,_.block_start+gt),_.strm.next_out),_.strm.next_out+=gt,_.strm.avail_out-=gt,_.strm.total_out+=gt,_.block_start+=gt,Ze-=gt),Ze&&(dt(_.strm,_.strm.output,_.strm.next_out,Ze),_.strm.next_out+=Ze,_.strm.avail_out-=Ze,_.strm.total_out+=Ze)}while(or===0);return Jt-=_.strm.avail_in,Jt&&(Jt>=_.w_size?(_.matches=2,_.window.set(_.strm.input.subarray(_.strm.next_in-_.w_size,_.strm.next_in),0),_.strstart=_.w_size,_.insert=_.strstart):(_.window_size-_.strstart<=Jt&&(_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,_.insert>_.strstart&&(_.insert=_.strstart)),_.window.set(_.strm.input.subarray(_.strm.next_in-Jt,_.strm.next_in),_.strstart),_.strstart+=Jt,_.insert+=Jt>_.w_size-_.insert?_.w_size-_.insert:Jt),_.block_start=_.strstart),_.high_water<_.strstart&&(_.high_water=_.strstart),or?Pi:He!==di&&He!==ts&&_.strm.avail_in===0&&_.strstart===_.block_start?wi:(ht=_.window_size-_.strstart,_.strm.avail_in>ht&&_.block_start>=_.w_size&&(_.block_start-=_.w_size,_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,ht+=_.w_size,_.insert>_.strstart&&(_.insert=_.strstart)),ht>_.strm.avail_in&&(ht=_.strm.avail_in),ht&&(dt(_.strm,_.window,_.strstart,ht),_.strstart+=ht,_.insert+=ht>_.w_size-_.insert?_.w_size-_.insert:ht),_.high_water<_.strstart&&(_.high_water=_.strstart),ht=_.bi_valid+42>>3,ht=_.pending_buf_size-ht>65535?65535:_.pending_buf_size-ht,oe=ht>_.w_size?_.w_size:ht,gt=_.strstart-_.block_start,(gt>=oe||(gt||He===ts)&&He!==di&&_.strm.avail_in===0&&gt<=ht)&&(Ze=gt>ht?ht:gt,or=He===ts&&_.strm.avail_in===0&&Ze===gt?1:0,Sn(_,_.block_start,Ze,or),_.block_start+=Ze,ue(_.strm)),or?Ji:Ws)},K=(_,He)=>{let oe,Ze;for(;;){if(_.lookahead<ji){if(B(_),_.lookahead<ji&&He===di)return Ws;if(_.lookahead===0)break}if(oe=0,_.lookahead>=zn&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+zn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),oe!==0&&_.strstart-oe<=_.w_size-ji&&(_.match_length=k(_,oe)),_.match_length>=zn)if(Ze=Ps(_,_.strstart-_.match_start,_.match_length-zn),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=zn){_.match_length--;do _.strstart++,_.ins_h=W(_,_.ins_h,_.window[_.strstart+zn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=W(_,_.ins_h,_.window[_.strstart+1]);else Ze=Ps(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(Ze&&(Be(_,!1),_.strm.avail_out===0))return Ws}return _.insert=_.strstart<zn-1?_.strstart:zn-1,He===ts?(Be(_,!0),_.strm.avail_out===0?Ji:Pi):_.sym_next&&(Be(_,!1),_.strm.avail_out===0)?Ws:wi},se=(_,He)=>{let oe,Ze,gt;for(;;){if(_.lookahead<ji){if(B(_),_.lookahead<ji&&He===di)return Ws;if(_.lookahead===0)break}if(oe=0,_.lookahead>=zn&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+zn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=zn-1,oe!==0&&_.prev_length<_.max_lazy_match&&_.strstart-oe<=_.w_size-ji&&(_.match_length=k(_,oe),_.match_length<=5&&(_.strategy===Hs||_.match_length===zn&&_.strstart-_.match_start>4096)&&(_.match_length=zn-1)),_.prev_length>=zn&&_.match_length<=_.prev_length){gt=_.strstart+_.lookahead-zn,Ze=Ps(_,_.strstart-1-_.prev_match,_.prev_length-zn),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=gt&&(_.ins_h=W(_,_.ins_h,_.window[_.strstart+zn-1]),oe=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=zn-1,_.strstart++,Ze&&(Be(_,!1),_.strm.avail_out===0))return Ws}else if(_.match_available){if(Ze=Ps(_,0,_.window[_.strstart-1]),Ze&&Be(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return Ws}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(Ze=Ps(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<zn-1?_.strstart:zn-1,He===ts?(Be(_,!0),_.strm.avail_out===0?Ji:Pi):_.sym_next&&(Be(_,!1),_.strm.avail_out===0)?Ws:wi},he=(_,He)=>{let oe,Ze,gt,ht;const or=_.window;for(;;){if(_.lookahead<=Qs){if(B(_),_.lookahead<=Qs&&He===di)return Ws;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=zn&&_.strstart>0&&(gt=_.strstart-1,Ze=or[gt],Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt])){ht=_.strstart+Qs;do;while(Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&Ze===or[++gt]&&gt<ht);_.match_length=Qs-(ht-gt),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=zn?(oe=Ps(_,1,_.match_length-zn),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(oe=Ps(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),oe&&(Be(_,!1),_.strm.avail_out===0))return Ws}return _.insert=0,He===ts?(Be(_,!0),_.strm.avail_out===0?Ji:Pi):_.sym_next&&(Be(_,!1),_.strm.avail_out===0)?Ws:wi},Ie=(_,He)=>{let oe;for(;;){if(_.lookahead===0&&(B(_),_.lookahead===0)){if(He===di)return Ws;break}if(_.match_length=0,oe=Ps(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,oe&&(Be(_,!1),_.strm.avail_out===0))return Ws}return _.insert=0,He===ts?(Be(_,!0),_.strm.avail_out===0?Ji:Pi):_.sym_next&&(Be(_,!1),_.strm.avail_out===0)?Ws:wi};function we(_,He,oe,Ze,gt){this.good_length=_,this.max_lazy=He,this.nice_length=oe,this.max_chain=Ze,this.func=gt}const Ne=[new we(0,0,0,0,P),new we(4,4,8,4,K),new we(4,5,16,8,K),new we(4,6,32,32,K),new we(4,4,16,16,se),new we(8,16,32,32,se),new we(8,16,128,128,se),new we(8,32,128,256,se),new we(32,128,258,1024,se),new we(32,258,258,4096,se)],Re=_=>{_.window_size=2*_.w_size,fe(_.head),_.max_lazy_match=Ne[_.level].max_lazy,_.good_match=Ne[_.level].good_length,_.nice_match=Ne[_.level].nice_length,_.max_chain_length=Ne[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=zn-1,_.match_available=0,_.ins_h=0};function Ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Yi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array($c*2),this.dyn_dtree=new Uint16Array((2*gl+1)*2),this.bl_tree=new Uint16Array((2*Fo+1)*2),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ui+1),this.heap=new Uint16Array(2*ns+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ns+1),fe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const at=_=>{if(!_)return 1;const He=_.state;return!He||He.strm!==_||He.status!==Po&&He.status!==Ds&&He.status!==uo&&He.status!==Ys&&He.status!==_s&&He.status!==bo&&He.status!==Do&&He.status!==pa?1:0},ut=_=>{if(at(_))return Kt(_,yi);_.total_in=_.total_out=0,_.data_type=ko;const He=_.state;return He.pending=0,He.pending_out=0,He.wrap<0&&(He.wrap=-He.wrap),He.status=He.wrap===2?Ds:He.wrap?Po:Do,_.adler=He.wrap===2?0:1,He.last_flush=-2,Fi(He),Wa},Pe=_=>{const He=ut(_);return He===Wa&&Re(_.state),He},Nt=(_,He)=>at(_)||_.state.wrap!==2?yi:(_.state.gzhead=He,Wa),bt=(_,He,oe,Ze,gt,ht)=>{if(!_)return yi;let or=1;if(He===Tl&&(He=6),Ze<0?(or=0,Ze=-Ze):Ze>15&&(or=2,Ze-=16),gt<1||gt>_o||oe!==Yi||Ze<8||Ze>15||He<0||He>9||ht<0||ht>ec||Ze===8&&or!==1)return Kt(_,yi);Ze===8&&(Ze=9);const Jt=new Ke;return _.state=Jt,Jt.strm=_,Jt.status=Po,Jt.wrap=or,Jt.gzhead=null,Jt.w_bits=Ze,Jt.w_size=1<<Jt.w_bits,Jt.w_mask=Jt.w_size-1,Jt.hash_bits=gt+7,Jt.hash_size=1<<Jt.hash_bits,Jt.hash_mask=Jt.hash_size-1,Jt.hash_shift=~~((Jt.hash_bits+zn-1)/zn),Jt.window=new Uint8Array(Jt.w_size*2),Jt.head=new Uint16Array(Jt.hash_size),Jt.prev=new Uint16Array(Jt.w_size),Jt.lit_bufsize=1<<gt+6,Jt.pending_buf_size=Jt.lit_bufsize*4,Jt.pending_buf=new Uint8Array(Jt.pending_buf_size),Jt.sym_buf=Jt.lit_bufsize,Jt.sym_end=(Jt.lit_bufsize-1)*3,Jt.level=He,Jt.strategy=ht,Jt.method=oe,Pe(_)},Et=(_,He)=>bt(_,He,Yi,al,Oo,rs),ot=(_,He)=>{if(at(_)||He>Xi||He<0)return _?Kt(_,yi):yi;const oe=_.state;if(!_.output||_.avail_in!==0&&!_.input||oe.status===pa&&He!==ts)return Kt(_,_.avail_out===0?Ec:yi);const Ze=oe.last_flush;if(oe.last_flush=He,oe.pending!==0){if(ue(_),_.avail_out===0)return oe.last_flush=-1,Wa}else if(_.avail_in===0&&Q(He)<=Q(Ze)&&He!==ts)return Kt(_,Ec);if(oe.status===pa&&_.avail_in!==0)return Kt(_,Ec);if(oe.status===Po&&oe.wrap===0&&(oe.status=Do),oe.status===Po){let gt=Yi+(oe.w_bits-8<<4)<<8,ht=-1;if(oe.strategy>=jo||oe.level<2?ht=0:oe.level<6?ht=1:oe.level===6?ht=2:ht=3,gt|=ht<<6,oe.strstart!==0&&(gt|=bi),gt+=31-gt%31,Ye(oe,gt),oe.strstart!==0&&(Ye(oe,_.adler>>>16),Ye(oe,_.adler&65535)),_.adler=1,oe.status=Do,ue(_),oe.pending!==0)return oe.last_flush=-1,Wa}if(oe.status===Ds){if(_.adler=0,De(oe,31),De(oe,139),De(oe,8),oe.gzhead)De(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),De(oe,oe.gzhead.time&255),De(oe,oe.gzhead.time>>8&255),De(oe,oe.gzhead.time>>16&255),De(oe,oe.gzhead.time>>24&255),De(oe,oe.level===9?2:oe.strategy>=jo||oe.level<2?4:0),De(oe,oe.gzhead.os&255),oe.gzhead.extra&&oe.gzhead.extra.length&&(De(oe,oe.gzhead.extra.length&255),De(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=uo;else if(De(oe,0),De(oe,0),De(oe,0),De(oe,0),De(oe,0),De(oe,oe.level===9?2:oe.strategy>=jo||oe.level<2?4:0),De(oe,Mo),oe.status=Do,ue(_),oe.pending!==0)return oe.last_flush=-1,Wa}if(oe.status===uo){if(oe.gzhead.extra){let gt=oe.pending,ht=(oe.gzhead.extra.length&65535)-oe.gzindex;for(;oe.pending+ht>oe.pending_buf_size;){let Jt=oe.pending_buf_size-oe.pending;if(oe.pending_buf.set(oe.gzhead.extra.subarray(oe.gzindex,oe.gzindex+Jt),oe.pending),oe.pending=oe.pending_buf_size,oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex+=Jt,ue(_),oe.pending!==0)return oe.last_flush=-1,Wa;gt=0,ht-=Jt}let or=new Uint8Array(oe.gzhead.extra);oe.pending_buf.set(or.subarray(oe.gzindex,oe.gzindex+ht),oe.pending),oe.pending+=ht,oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex=0}oe.status=Ys}if(oe.status===Ys){if(oe.gzhead.name){let gt=oe.pending,ht;do{if(oe.pending===oe.pending_buf_size){if(oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt)),ue(_),oe.pending!==0)return oe.last_flush=-1,Wa;gt=0}oe.gzindex<oe.gzhead.name.length?ht=oe.gzhead.name.charCodeAt(oe.gzindex++)&255:ht=0,De(oe,ht)}while(ht!==0);oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt)),oe.gzindex=0}oe.status=_s}if(oe.status===_s){if(oe.gzhead.comment){let gt=oe.pending,ht;do{if(oe.pending===oe.pending_buf_size){if(oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt)),ue(_),oe.pending!==0)return oe.last_flush=-1,Wa;gt=0}oe.gzindex<oe.gzhead.comment.length?ht=oe.gzhead.comment.charCodeAt(oe.gzindex++)&255:ht=0,De(oe,ht)}while(ht!==0);oe.gzhead.hcrc&&oe.pending>gt&&(_.adler=ua(_.adler,oe.pending_buf,oe.pending-gt,gt))}oe.status=bo}if(oe.status===bo){if(oe.gzhead.hcrc){if(oe.pending+2>oe.pending_buf_size&&(ue(_),oe.pending!==0))return oe.last_flush=-1,Wa;De(oe,_.adler&255),De(oe,_.adler>>8&255),_.adler=0}if(oe.status=Do,ue(_),oe.pending!==0)return oe.last_flush=-1,Wa}if(_.avail_in!==0||oe.lookahead!==0||He!==di&&oe.status!==pa){let gt=oe.level===0?P(oe,He):oe.strategy===jo?Ie(oe,He):oe.strategy===ha?he(oe,He):Ne[oe.level].func(oe,He);if((gt===Ji||gt===Pi)&&(oe.status=pa),gt===Ws||gt===Ji)return _.avail_out===0&&(oe.last_flush=-1),Wa;if(gt===wi&&(He===Us?ks(oe):He!==Xi&&(Sn(oe,0,0,!1),He===co&&(fe(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),ue(_),_.avail_out===0))return oe.last_flush=-1,Wa}return He!==ts?Wa:oe.wrap<=0?Sc:(oe.wrap===2?(De(oe,_.adler&255),De(oe,_.adler>>8&255),De(oe,_.adler>>16&255),De(oe,_.adler>>24&255),De(oe,_.total_in&255),De(oe,_.total_in>>8&255),De(oe,_.total_in>>16&255),De(oe,_.total_in>>24&255)):(Ye(oe,_.adler>>>16),Ye(oe,_.adler&65535)),ue(_),oe.wrap>0&&(oe.wrap=-oe.wrap),oe.pending!==0?Wa:Sc)},Ut=_=>{if(at(_))return yi;const He=_.state.status;return _.state=null,He===Do?Kt(_,Il):Wa},rr=(_,He)=>{let oe=He.length;if(at(_))return yi;const Ze=_.state,gt=Ze.wrap;if(gt===2||gt===1&&Ze.status!==Po||Ze.lookahead)return yi;if(gt===1&&(_.adler=da(_.adler,He,oe,0)),Ze.wrap=0,oe>=Ze.w_size){gt===0&&(fe(Ze.head),Ze.strstart=0,Ze.block_start=0,Ze.insert=0);let bn=new Uint8Array(Ze.w_size);bn.set(He.subarray(oe-Ze.w_size,oe),0),He=bn,oe=Ze.w_size}const ht=_.avail_in,or=_.next_in,Jt=_.input;for(_.avail_in=oe,_.next_in=0,_.input=He,B(Ze);Ze.lookahead>=zn;){let bn=Ze.strstart,Ht=Ze.lookahead-(zn-1);do Ze.ins_h=W(Ze,Ze.ins_h,Ze.window[bn+zn-1]),Ze.prev[bn&Ze.w_mask]=Ze.head[Ze.ins_h],Ze.head[Ze.ins_h]=bn,bn++;while(--Ht);Ze.strstart=bn,Ze.lookahead=zn-1,B(Ze)}return Ze.strstart+=Ze.lookahead,Ze.block_start=Ze.strstart,Ze.insert=Ze.lookahead,Ze.lookahead=0,Ze.match_length=Ze.prev_length=zn-1,Ze.match_available=0,_.next_in=or,_.input=Jt,_.avail_in=ht,Ze.wrap=gt,Wa};var Ot=Et,st=bt,Xt=Pe,pr=ut,ar=Nt,Mt=ot,Ar=Ut,ct=rr,mt="pako deflate (from Nodeca project)",Pt={deflateInit:Ot,deflateInit2:st,deflateReset:Xt,deflateResetKeep:pr,deflateSetHeader:ar,deflate:Mt,deflateEnd:Ar,deflateSetDictionary:ct,deflateInfo:mt};const Dt=(_,He)=>Object.prototype.hasOwnProperty.call(_,He);var gr=function(_){const He=Array.prototype.slice.call(arguments,1);for(;He.length;){const oe=He.shift();if(oe){if(typeof oe!="object")throw new TypeError(oe+"must be non-object");for(const Ze in oe)Dt(oe,Ze)&&(_[Ze]=oe[Ze])}}return _},jr=_=>{let He=0;for(let Ze=0,gt=_.length;Ze<gt;Ze++)He+=_[Ze].length;const oe=new Uint8Array(He);for(let Ze=0,gt=0,ht=_.length;Ze<ht;Ze++){let or=_[Ze];oe.set(or,gt),gt+=or.length}return oe},Nr={assign:gr,flattenChunks:jr};let ir=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ir=!1}const wr=new Uint8Array(256);for(let _=0;_<256;_++)wr[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;wr[254]=wr[254]=1;var Yr=_=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_);let He,oe,Ze,gt,ht,or=_.length,Jt=0;for(gt=0;gt<or;gt++)oe=_.charCodeAt(gt),(oe&64512)===55296&&gt+1<or&&(Ze=_.charCodeAt(gt+1),(Ze&64512)===56320&&(oe=65536+(oe-55296<<10)+(Ze-56320),gt++)),Jt+=oe<128?1:oe<2048?2:oe<65536?3:4;for(He=new Uint8Array(Jt),ht=0,gt=0;ht<Jt;gt++)oe=_.charCodeAt(gt),(oe&64512)===55296&&gt+1<or&&(Ze=_.charCodeAt(gt+1),(Ze&64512)===56320&&(oe=65536+(oe-55296<<10)+(Ze-56320),gt++)),oe<128?He[ht++]=oe:oe<2048?(He[ht++]=192|oe>>>6,He[ht++]=128|oe&63):oe<65536?(He[ht++]=224|oe>>>12,He[ht++]=128|oe>>>6&63,He[ht++]=128|oe&63):(He[ht++]=240|oe>>>18,He[ht++]=128|oe>>>12&63,He[ht++]=128|oe>>>6&63,He[ht++]=128|oe&63);return He};const zr=(_,He)=>{if(He<65534&&_.subarray&&ir)return String.fromCharCode.apply(null,_.length===He?_:_.subarray(0,He));let oe="";for(let Ze=0;Ze<He;Ze++)oe+=String.fromCharCode(_[Ze]);return oe};var et=(_,He)=>{const oe=He||_.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_.subarray(0,He));let Ze,gt;const ht=new Array(oe*2);for(gt=0,Ze=0;Ze<oe;){let or=_[Ze++];if(or<128){ht[gt++]=or;continue}let Jt=wr[or];if(Jt>4){ht[gt++]=65533,Ze+=Jt-1;continue}for(or&=Jt===2?31:Jt===3?15:7;Jt>1&&Ze<oe;)or=or<<6|_[Ze++]&63,Jt--;if(Jt>1){ht[gt++]=65533;continue}or<65536?ht[gt++]=or:(or-=65536,ht[gt++]=55296|or>>10&1023,ht[gt++]=56320|or&1023)}return zr(ht,gt)},St=(_,He)=>{He=He||_.length,He>_.length&&(He=_.length);let oe=He-1;for(;oe>=0&&(_[oe]&192)===128;)oe--;return oe<0||oe===0?He:oe+wr[_[oe]]>He?oe:He},kt={string2buf:Yr,buf2string:et,utf8border:St};function Yt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tr=Yt;const dr=Object.prototype.toString,{Z_NO_FLUSH:br,Z_SYNC_FLUSH:Cr,Z_FULL_FLUSH:Lr,Z_FINISH:Jr,Z_OK:jn,Z_STREAM_END:wn,Z_DEFAULT_COMPRESSION:oa,Z_DEFAULT_STRATEGY:pt,Z_DEFLATED:hn}=ls;function ma(_){this.options=Nr.assign({level:oa,method:hn,chunkSize:16384,windowBits:15,memLevel:8,strategy:pt},_||{});let He=this.options;He.raw&&He.windowBits>0?He.windowBits=-He.windowBits:He.gzip&&He.windowBits>0&&He.windowBits<16&&(He.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tr,this.strm.avail_out=0;let oe=Pt.deflateInit2(this.strm,He.level,He.method,He.windowBits,He.memLevel,He.strategy);if(oe!==jn)throw new Error(Zr[oe]);if(He.header&&Pt.deflateSetHeader(this.strm,He.header),He.dictionary){let Ze;if(typeof He.dictionary=="string"?Ze=kt.string2buf(He.dictionary):dr.call(He.dictionary)==="[object ArrayBuffer]"?Ze=new Uint8Array(He.dictionary):Ze=He.dictionary,oe=Pt.deflateSetDictionary(this.strm,Ze),oe!==jn)throw new Error(Zr[oe]);this._dict_set=!0}}ma.prototype.push=function(_,He){const oe=this.strm,Ze=this.options.chunkSize;let gt,ht;if(this.ended)return!1;for(He===~~He?ht=He:ht=He===!0?Jr:br,typeof _=="string"?oe.input=kt.string2buf(_):dr.call(_)==="[object ArrayBuffer]"?oe.input=new Uint8Array(_):oe.input=_,oe.next_in=0,oe.avail_in=oe.input.length;;){if(oe.avail_out===0&&(oe.output=new Uint8Array(Ze),oe.next_out=0,oe.avail_out=Ze),(ht===Cr||ht===Lr)&&oe.avail_out<=6){this.onData(oe.output.subarray(0,oe.next_out)),oe.avail_out=0;continue}if(gt=Pt.deflate(oe,ht),gt===wn)return oe.next_out>0&&this.onData(oe.output.subarray(0,oe.next_out)),gt=Pt.deflateEnd(this.strm),this.onEnd(gt),this.ended=!0,gt===jn;if(oe.avail_out===0){this.onData(oe.output);continue}if(ht>0&&oe.next_out>0){this.onData(oe.output.subarray(0,oe.next_out)),oe.avail_out=0;continue}if(oe.avail_in===0)break}return!0},ma.prototype.onData=function(_){this.chunks.push(_)},ma.prototype.onEnd=function(_){_===jn&&(this.result=Nr.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function dn(_,He){const oe=new ma(He);if(oe.push(_,!0),oe.err)throw oe.msg||Zr[oe.err];return oe.result}function Gr(_,He){return He=He||{},He.raw=!0,dn(_,He)}function aa(_,He){return He=He||{},He.gzip=!0,dn(_,He)}var On=ma,Xn=dn,Fn=Gr,ps=aa,Ua={Deflate:On,deflate:Xn,deflateRaw:Fn,gzip:ps};const _n=16209,ss=16191;var sa=function(He,oe){let Ze,gt,ht,or,Jt,bn,Ht,hr,va,fn,$r,Er,Rs,ja,ra,Na,Ja,an,Ba,ri,Yn,is,Oa,Mn;const ca=He.state;Ze=He.next_in,Oa=He.input,gt=Ze+(He.avail_in-5),ht=He.next_out,Mn=He.output,or=ht-(oe-He.avail_out),Jt=ht+(He.avail_out-257),bn=ca.dmax,Ht=ca.wsize,hr=ca.whave,va=ca.wnext,fn=ca.window,$r=ca.hold,Er=ca.bits,Rs=ca.lencode,ja=ca.distcode,ra=(1<<ca.lenbits)-1,Na=(1<<ca.distbits)-1;e:do{Er<15&&($r+=Oa[Ze++]<<Er,Er+=8,$r+=Oa[Ze++]<<Er,Er+=8),Ja=Rs[$r&ra];t:for(;;){if(an=Ja>>>24,$r>>>=an,Er-=an,an=Ja>>>16&255,an===0)Mn[ht++]=Ja&65535;else if(an&16){Ba=Ja&65535,an&=15,an&&(Er<an&&($r+=Oa[Ze++]<<Er,Er+=8),Ba+=$r&(1<<an)-1,$r>>>=an,Er-=an),Er<15&&($r+=Oa[Ze++]<<Er,Er+=8,$r+=Oa[Ze++]<<Er,Er+=8),Ja=ja[$r&Na];r:for(;;){if(an=Ja>>>24,$r>>>=an,Er-=an,an=Ja>>>16&255,an&16){if(ri=Ja&65535,an&=15,Er<an&&($r+=Oa[Ze++]<<Er,Er+=8,Er<an&&($r+=Oa[Ze++]<<Er,Er+=8)),ri+=$r&(1<<an)-1,ri>bn){He.msg="invalid distance too far back",ca.mode=_n;break e}if($r>>>=an,Er-=an,an=ht-or,ri>an){if(an=ri-an,an>hr&&ca.sane){He.msg="invalid distance too far back",ca.mode=_n;break e}if(Yn=0,is=fn,va===0){if(Yn+=Ht-an,an<Ba){Ba-=an;do Mn[ht++]=fn[Yn++];while(--an);Yn=ht-ri,is=Mn}}else if(va<an){if(Yn+=Ht+va-an,an-=va,an<Ba){Ba-=an;do Mn[ht++]=fn[Yn++];while(--an);if(Yn=0,va<Ba){an=va,Ba-=an;do Mn[ht++]=fn[Yn++];while(--an);Yn=ht-ri,is=Mn}}}else if(Yn+=va-an,an<Ba){Ba-=an;do Mn[ht++]=fn[Yn++];while(--an);Yn=ht-ri,is=Mn}for(;Ba>2;)Mn[ht++]=is[Yn++],Mn[ht++]=is[Yn++],Mn[ht++]=is[Yn++],Ba-=3;Ba&&(Mn[ht++]=is[Yn++],Ba>1&&(Mn[ht++]=is[Yn++]))}else{Yn=ht-ri;do Mn[ht++]=Mn[Yn++],Mn[ht++]=Mn[Yn++],Mn[ht++]=Mn[Yn++],Ba-=3;while(Ba>2);Ba&&(Mn[ht++]=Mn[Yn++],Ba>1&&(Mn[ht++]=Mn[Yn++]))}}else if((an&64)===0){Ja=ja[(Ja&65535)+($r&(1<<an)-1)];continue r}else{He.msg="invalid distance code",ca.mode=_n;break e}break}}else if((an&64)===0){Ja=Rs[(Ja&65535)+($r&(1<<an)-1)];continue t}else if(an&32){ca.mode=ss;break e}else{He.msg="invalid literal/length code",ca.mode=_n;break e}break}}while(Ze<gt&&ht<Jt);Ba=Er>>3,Ze-=Ba,Er-=Ba<<3,$r&=(1<<Er)-1,He.next_in=Ze,He.next_out=ht,He.avail_in=Ze<gt?5+(gt-Ze):5-(Ze-gt),He.avail_out=ht<Jt?257+(Jt-ht):257-(ht-Jt),ca.hold=$r,ca.bits=Er};const In=15,la=852,Tn=592,ba=0,cs=1,Va=2,za=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ti=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$n=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ss=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Hn=(_,He,oe,Ze,gt,ht,or,Jt)=>{const bn=Jt.bits;let Ht=0,hr=0,va=0,fn=0,$r=0,Er=0,Rs=0,ja=0,ra=0,Na=0,Ja,an,Ba,ri,Yn,is=null,Oa;const Mn=new Uint16Array(In+1),ca=new Uint16Array(In+1);let So=null,lc,Uo,fo;for(Ht=0;Ht<=In;Ht++)Mn[Ht]=0;for(hr=0;hr<Ze;hr++)Mn[He[oe+hr]]++;for($r=bn,fn=In;fn>=1&&Mn[fn]===0;fn--);if($r>fn&&($r=fn),fn===0)return gt[ht++]=1<<24|64<<16|0,gt[ht++]=1<<24|64<<16|0,Jt.bits=1,0;for(va=1;va<fn&&Mn[va]===0;va++);for($r<va&&($r=va),ja=1,Ht=1;Ht<=In;Ht++)if(ja<<=1,ja-=Mn[Ht],ja<0)return-1;if(ja>0&&(_===ba||fn!==1))return-1;for(ca[1]=0,Ht=1;Ht<In;Ht++)ca[Ht+1]=ca[Ht]+Mn[Ht];for(hr=0;hr<Ze;hr++)He[oe+hr]!==0&&(or[ca[He[oe+hr]]++]=hr);if(_===ba?(is=So=or,Oa=20):_===cs?(is=za,So=ti,Oa=257):(is=$n,So=Ss,Oa=0),Na=0,hr=0,Ht=va,Yn=ht,Er=$r,Rs=0,Ba=-1,ra=1<<$r,ri=ra-1,_===cs&&ra>la||_===Va&&ra>Tn)return 1;for(;;){lc=Ht-Rs,or[hr]+1<Oa?(Uo=0,fo=or[hr]):or[hr]>=Oa?(Uo=So[or[hr]-Oa],fo=is[or[hr]-Oa]):(Uo=96,fo=0),Ja=1<<Ht-Rs,an=1<<Er,va=an;do an-=Ja,gt[Yn+(Na>>Rs)+an]=lc<<24|Uo<<16|fo|0;while(an!==0);for(Ja=1<<Ht-1;Na&Ja;)Ja>>=1;if(Ja!==0?(Na&=Ja-1,Na+=Ja):Na=0,hr++,--Mn[Ht]===0){if(Ht===fn)break;Ht=He[oe+or[hr]]}if(Ht>$r&&(Na&ri)!==Ba){for(Rs===0&&(Rs=$r),Yn+=va,Er=Ht-Rs,ja=1<<Er;Er+Rs<fn&&(ja-=Mn[Er+Rs],!(ja<=0));)Er++,ja<<=1;if(ra+=1<<Er,_===cs&&ra>la||_===Va&&ra>Tn)return 1;Ba=Na&ri,gt[Ba]=$r<<24|Er<<16|Yn-ht|0}}return Na!==0&&(gt[Yn+Na]=Ht-Rs<<24|64<<16|0),Jt.bits=$r,0};const Es=0,wa=1,Cn=2,{Z_FINISH:Ya,Z_BLOCK:sd,Z_TREES:$i,Z_OK:wo,Z_STREAM_END:Bc,Z_NEED_DICT:fa,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:Co,Z_MEM_ERROR:kl,Z_BUF_ERROR:Di,Z_DEFLATED:Os}=ls,Ti=16180,ho=16181,id=16182,Zi=16183,sl=16184,Ic=16185,tc=16186,eo=16187,il=16188,_l=16189,Ko=16190,Ro=16191,rc=16192,Ol=16193,Tc=16194,pu=16195,Vc=16196,mu=16197,od=16198,qo=16199,ld=16200,Sd=16201,$d=16202,Fl=16203,Vd=16204,zd=16205,nc=16206,Gd=16207,Ed=16208,ya=16209,gu=16210,ac=16211,xs=852,vu=592,ki=15,kc=_=>(_>>>24&255)+(_>>>8&65280)+((_&65280)<<8)+((_&255)<<24);function cd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pl=_=>{if(!_)return 1;const He=_.state;return!He||He.strm!==_||He.mode<Ti||He.mode>ac?1:0},Kd=_=>{if(Pl(_))return Ci;const He=_.state;return _.total_in=_.total_out=He.total=0,_.msg="",He.wrap&&(_.adler=He.wrap&1),He.mode=Ti,He.last=0,He.havedict=0,He.flags=-1,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new Int32Array(xs),He.distcode=He.distdyn=new Int32Array(vu),He.sane=1,He.back=-1,wo},Xo=_=>{if(Pl(_))return Ci;const He=_.state;return He.wsize=0,He.whave=0,He.wnext=0,Kd(_)},xu=(_,He)=>{let oe;if(Pl(_))return Ci;const Ze=_.state;return He<0?(oe=0,He=-He):(oe=(He>>4)+5,He<48&&(He&=15)),He&&(He<8||He>15)?Ci:(Ze.window!==null&&Ze.wbits!==He&&(Ze.window=null),Ze.wrap=oe,Ze.wbits=He,Xo(_))},Bd=(_,He)=>{if(!_)return Ci;const oe=new cd;_.state=oe,oe.strm=_,oe.window=null,oe.mode=Ti;const Ze=xu(_,He);return Ze!==wo&&(_.state=null),Ze},yu=_=>Bd(_,ki);let dd=!0,Id,Td;const kd=_=>{if(dd){Id=new Int32Array(512),Td=new Int32Array(32);let He=0;for(;He<144;)_.lens[He++]=8;for(;He<256;)_.lens[He++]=9;for(;He<280;)_.lens[He++]=7;for(;He<288;)_.lens[He++]=8;for(Hn(wa,_.lens,0,288,Id,0,_.work,{bits:9}),He=0;He<32;)_.lens[He++]=5;Hn(Cn,_.lens,0,32,Td,0,_.work,{bits:5}),dd=!1}_.lencode=Id,_.lenbits=9,_.distcode=Td,_.distbits=5},_d=(_,He,oe,Ze)=>{let gt;const ht=_.state;return ht.window===null&&(ht.wsize=1<<ht.wbits,ht.wnext=0,ht.whave=0,ht.window=new Uint8Array(ht.wsize)),Ze>=ht.wsize?(ht.window.set(He.subarray(oe-ht.wsize,oe),0),ht.wnext=0,ht.whave=ht.wsize):(gt=ht.wsize-ht.wnext,gt>Ze&&(gt=Ze),ht.window.set(He.subarray(oe-Ze,oe-Ze+gt),ht.wnext),Ze-=gt,Ze?(ht.window.set(He.subarray(oe-Ze,oe),0),ht.wnext=Ze,ht.whave=ht.wsize):(ht.wnext+=gt,ht.wnext===ht.wsize&&(ht.wnext=0),ht.whave<ht.wsize&&(ht.whave+=gt))),0},ju=(_,He)=>{let oe,Ze,gt,ht,or,Jt,bn,Ht,hr,va,fn,$r,Er,Rs,ja=0,ra,Na,Ja,an,Ba,ri,Yn,is;const Oa=new Uint8Array(4);let Mn,ca;const So=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pl(_)||!_.output||!_.input&&_.avail_in!==0)return Ci;oe=_.state,oe.mode===Ro&&(oe.mode=rc),or=_.next_out,gt=_.output,bn=_.avail_out,ht=_.next_in,Ze=_.input,Jt=_.avail_in,Ht=oe.hold,hr=oe.bits,va=Jt,fn=bn,is=wo;e:for(;;)switch(oe.mode){case Ti:if(oe.wrap===0){oe.mode=rc;break}for(;hr<16;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(oe.wrap&2&&Ht===35615){oe.wbits===0&&(oe.wbits=15),oe.check=0,Oa[0]=Ht&255,Oa[1]=Ht>>>8&255,oe.check=ua(oe.check,Oa,2,0),Ht=0,hr=0,oe.mode=ho;break}if(oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((Ht&255)<<8)+(Ht>>8))%31){_.msg="incorrect header check",oe.mode=ya;break}if((Ht&15)!==Os){_.msg="unknown compression method",oe.mode=ya;break}if(Ht>>>=4,hr-=4,Yn=(Ht&15)+8,oe.wbits===0&&(oe.wbits=Yn),Yn>15||Yn>oe.wbits){_.msg="invalid window size",oe.mode=ya;break}oe.dmax=1<<oe.wbits,oe.flags=0,_.adler=oe.check=1,oe.mode=Ht&512?_l:Ro,Ht=0,hr=0;break;case ho:for(;hr<16;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(oe.flags=Ht,(oe.flags&255)!==Os){_.msg="unknown compression method",oe.mode=ya;break}if(oe.flags&57344){_.msg="unknown header flags set",oe.mode=ya;break}oe.head&&(oe.head.text=Ht>>8&1),oe.flags&512&&oe.wrap&4&&(Oa[0]=Ht&255,Oa[1]=Ht>>>8&255,oe.check=ua(oe.check,Oa,2,0)),Ht=0,hr=0,oe.mode=id;case id:for(;hr<32;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.head&&(oe.head.time=Ht),oe.flags&512&&oe.wrap&4&&(Oa[0]=Ht&255,Oa[1]=Ht>>>8&255,Oa[2]=Ht>>>16&255,Oa[3]=Ht>>>24&255,oe.check=ua(oe.check,Oa,4,0)),Ht=0,hr=0,oe.mode=Zi;case Zi:for(;hr<16;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.head&&(oe.head.xflags=Ht&255,oe.head.os=Ht>>8),oe.flags&512&&oe.wrap&4&&(Oa[0]=Ht&255,Oa[1]=Ht>>>8&255,oe.check=ua(oe.check,Oa,2,0)),Ht=0,hr=0,oe.mode=sl;case sl:if(oe.flags&1024){for(;hr<16;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.length=Ht,oe.head&&(oe.head.extra_len=Ht),oe.flags&512&&oe.wrap&4&&(Oa[0]=Ht&255,Oa[1]=Ht>>>8&255,oe.check=ua(oe.check,Oa,2,0)),Ht=0,hr=0}else oe.head&&(oe.head.extra=null);oe.mode=Ic;case Ic:if(oe.flags&1024&&($r=oe.length,$r>Jt&&($r=Jt),$r&&(oe.head&&(Yn=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Uint8Array(oe.head.extra_len)),oe.head.extra.set(Ze.subarray(ht,ht+$r),Yn)),oe.flags&512&&oe.wrap&4&&(oe.check=ua(oe.check,Ze,$r,ht)),Jt-=$r,ht+=$r,oe.length-=$r),oe.length))break e;oe.length=0,oe.mode=tc;case tc:if(oe.flags&2048){if(Jt===0)break e;$r=0;do Yn=Ze[ht+$r++],oe.head&&Yn&&oe.length<65536&&(oe.head.name+=String.fromCharCode(Yn));while(Yn&&$r<Jt);if(oe.flags&512&&oe.wrap&4&&(oe.check=ua(oe.check,Ze,$r,ht)),Jt-=$r,ht+=$r,Yn)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=eo;case eo:if(oe.flags&4096){if(Jt===0)break e;$r=0;do Yn=Ze[ht+$r++],oe.head&&Yn&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(Yn));while(Yn&&$r<Jt);if(oe.flags&512&&oe.wrap&4&&(oe.check=ua(oe.check,Ze,$r,ht)),Jt-=$r,ht+=$r,Yn)break e}else oe.head&&(oe.head.comment=null);oe.mode=il;case il:if(oe.flags&512){for(;hr<16;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(oe.wrap&4&&Ht!==(oe.check&65535)){_.msg="header crc mismatch",oe.mode=ya;break}Ht=0,hr=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),_.adler=oe.check=0,oe.mode=Ro;break;case _l:for(;hr<32;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}_.adler=oe.check=kc(Ht),Ht=0,hr=0,oe.mode=Ko;case Ko:if(oe.havedict===0)return _.next_out=or,_.avail_out=bn,_.next_in=ht,_.avail_in=Jt,oe.hold=Ht,oe.bits=hr,fa;_.adler=oe.check=1,oe.mode=Ro;case Ro:if(He===sd||He===$i)break e;case rc:if(oe.last){Ht>>>=hr&7,hr-=hr&7,oe.mode=nc;break}for(;hr<3;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}switch(oe.last=Ht&1,Ht>>>=1,hr-=1,Ht&3){case 0:oe.mode=Ol;break;case 1:if(kd(oe),oe.mode=qo,He===$i){Ht>>>=2,hr-=2;break e}break;case 2:oe.mode=Vc;break;case 3:_.msg="invalid block type",oe.mode=ya}Ht>>>=2,hr-=2;break;case Ol:for(Ht>>>=hr&7,hr-=hr&7;hr<32;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if((Ht&65535)!==(Ht>>>16^65535)){_.msg="invalid stored block lengths",oe.mode=ya;break}if(oe.length=Ht&65535,Ht=0,hr=0,oe.mode=Tc,He===$i)break e;case Tc:oe.mode=pu;case pu:if($r=oe.length,$r){if($r>Jt&&($r=Jt),$r>bn&&($r=bn),$r===0)break e;gt.set(Ze.subarray(ht,ht+$r),or),Jt-=$r,ht+=$r,bn-=$r,or+=$r,oe.length-=$r;break}oe.mode=Ro;break;case Vc:for(;hr<14;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(oe.nlen=(Ht&31)+257,Ht>>>=5,hr-=5,oe.ndist=(Ht&31)+1,Ht>>>=5,hr-=5,oe.ncode=(Ht&15)+4,Ht>>>=4,hr-=4,oe.nlen>286||oe.ndist>30){_.msg="too many length or distance symbols",oe.mode=ya;break}oe.have=0,oe.mode=mu;case mu:for(;oe.have<oe.ncode;){for(;hr<3;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.lens[So[oe.have++]]=Ht&7,Ht>>>=3,hr-=3}for(;oe.have<19;)oe.lens[So[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Mn={bits:oe.lenbits},is=Hn(Es,oe.lens,0,19,oe.lencode,0,oe.work,Mn),oe.lenbits=Mn.bits,is){_.msg="invalid code lengths set",oe.mode=ya;break}oe.have=0,oe.mode=od;case od:for(;oe.have<oe.nlen+oe.ndist;){for(;ja=oe.lencode[Ht&(1<<oe.lenbits)-1],ra=ja>>>24,Na=ja>>>16&255,Ja=ja&65535,!(ra<=hr);){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(Ja<16)Ht>>>=ra,hr-=ra,oe.lens[oe.have++]=Ja;else{if(Ja===16){for(ca=ra+2;hr<ca;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(Ht>>>=ra,hr-=ra,oe.have===0){_.msg="invalid bit length repeat",oe.mode=ya;break}Yn=oe.lens[oe.have-1],$r=3+(Ht&3),Ht>>>=2,hr-=2}else if(Ja===17){for(ca=ra+3;hr<ca;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}Ht>>>=ra,hr-=ra,Yn=0,$r=3+(Ht&7),Ht>>>=3,hr-=3}else{for(ca=ra+7;hr<ca;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}Ht>>>=ra,hr-=ra,Yn=0,$r=11+(Ht&127),Ht>>>=7,hr-=7}if(oe.have+$r>oe.nlen+oe.ndist){_.msg="invalid bit length repeat",oe.mode=ya;break}for(;$r--;)oe.lens[oe.have++]=Yn}}if(oe.mode===ya)break;if(oe.lens[256]===0){_.msg="invalid code -- missing end-of-block",oe.mode=ya;break}if(oe.lenbits=9,Mn={bits:oe.lenbits},is=Hn(wa,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Mn),oe.lenbits=Mn.bits,is){_.msg="invalid literal/lengths set",oe.mode=ya;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Mn={bits:oe.distbits},is=Hn(Cn,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Mn),oe.distbits=Mn.bits,is){_.msg="invalid distances set",oe.mode=ya;break}if(oe.mode=qo,He===$i)break e;case qo:oe.mode=ld;case ld:if(Jt>=6&&bn>=258){_.next_out=or,_.avail_out=bn,_.next_in=ht,_.avail_in=Jt,oe.hold=Ht,oe.bits=hr,sa(_,fn),or=_.next_out,gt=_.output,bn=_.avail_out,ht=_.next_in,Ze=_.input,Jt=_.avail_in,Ht=oe.hold,hr=oe.bits,oe.mode===Ro&&(oe.back=-1);break}for(oe.back=0;ja=oe.lencode[Ht&(1<<oe.lenbits)-1],ra=ja>>>24,Na=ja>>>16&255,Ja=ja&65535,!(ra<=hr);){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(Na&&(Na&240)===0){for(an=ra,Ba=Na,ri=Ja;ja=oe.lencode[ri+((Ht&(1<<an+Ba)-1)>>an)],ra=ja>>>24,Na=ja>>>16&255,Ja=ja&65535,!(an+ra<=hr);){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}Ht>>>=an,hr-=an,oe.back+=an}if(Ht>>>=ra,hr-=ra,oe.back+=ra,oe.length=Ja,Na===0){oe.mode=zd;break}if(Na&32){oe.back=-1,oe.mode=Ro;break}if(Na&64){_.msg="invalid literal/length code",oe.mode=ya;break}oe.extra=Na&15,oe.mode=Sd;case Sd:if(oe.extra){for(ca=oe.extra;hr<ca;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.length+=Ht&(1<<oe.extra)-1,Ht>>>=oe.extra,hr-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=$d;case $d:for(;ja=oe.distcode[Ht&(1<<oe.distbits)-1],ra=ja>>>24,Na=ja>>>16&255,Ja=ja&65535,!(ra<=hr);){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if((Na&240)===0){for(an=ra,Ba=Na,ri=Ja;ja=oe.distcode[ri+((Ht&(1<<an+Ba)-1)>>an)],ra=ja>>>24,Na=ja>>>16&255,Ja=ja&65535,!(an+ra<=hr);){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}Ht>>>=an,hr-=an,oe.back+=an}if(Ht>>>=ra,hr-=ra,oe.back+=ra,Na&64){_.msg="invalid distance code",oe.mode=ya;break}oe.offset=Ja,oe.extra=Na&15,oe.mode=Fl;case Fl:if(oe.extra){for(ca=oe.extra;hr<ca;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}oe.offset+=Ht&(1<<oe.extra)-1,Ht>>>=oe.extra,hr-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){_.msg="invalid distance too far back",oe.mode=ya;break}oe.mode=Vd;case Vd:if(bn===0)break e;if($r=fn-bn,oe.offset>$r){if($r=oe.offset-$r,$r>oe.whave&&oe.sane){_.msg="invalid distance too far back",oe.mode=ya;break}$r>oe.wnext?($r-=oe.wnext,Er=oe.wsize-$r):Er=oe.wnext-$r,$r>oe.length&&($r=oe.length),Rs=oe.window}else Rs=gt,Er=or-oe.offset,$r=oe.length;$r>bn&&($r=bn),bn-=$r,oe.length-=$r;do gt[or++]=Rs[Er++];while(--$r);oe.length===0&&(oe.mode=ld);break;case zd:if(bn===0)break e;gt[or++]=oe.length,bn--,oe.mode=ld;break;case nc:if(oe.wrap){for(;hr<32;){if(Jt===0)break e;Jt--,Ht|=Ze[ht++]<<hr,hr+=8}if(fn-=bn,_.total_out+=fn,oe.total+=fn,oe.wrap&4&&fn&&(_.adler=oe.check=oe.flags?ua(oe.check,gt,fn,or-fn):da(oe.check,gt,fn,or-fn)),fn=bn,oe.wrap&4&&(oe.flags?Ht:kc(Ht))!==oe.check){_.msg="incorrect data check",oe.mode=ya;break}Ht=0,hr=0}oe.mode=Gd;case Gd:if(oe.wrap&&oe.flags){for(;hr<32;){if(Jt===0)break e;Jt--,Ht+=Ze[ht++]<<hr,hr+=8}if(oe.wrap&4&&Ht!==(oe.total&4294967295)){_.msg="incorrect length check",oe.mode=ya;break}Ht=0,hr=0}oe.mode=Ed;case Ed:is=Bc;break e;case ya:is=Co;break e;case gu:return kl;case ac:default:return Ci}return _.next_out=or,_.avail_out=bn,_.next_in=ht,_.avail_in=Jt,oe.hold=Ht,oe.bits=hr,(oe.wsize||fn!==_.avail_out&&oe.mode<ya&&(oe.mode<nc||He!==Ya))&&_d(_,_.output,_.next_out,fn-_.avail_out),va-=_.avail_in,fn-=_.avail_out,_.total_in+=va,_.total_out+=fn,oe.total+=fn,oe.wrap&4&&fn&&(_.adler=oe.check=oe.flags?ua(oe.check,gt,fn,_.next_out-fn):da(oe.check,gt,fn,_.next_out-fn)),_.data_type=oe.bits+(oe.last?64:0)+(oe.mode===Ro?128:0)+(oe.mode===qo||oe.mode===Tc?256:0),(va===0&&fn===0||He===Ya)&&is===wo&&(is=Di),is},Dl=_=>{if(Pl(_))return Ci;let He=_.state;return He.window&&(He.window=null),_.state=null,wo},Vh=(_,He)=>{if(Pl(_))return Ci;const oe=_.state;return(oe.wrap&2)===0?Ci:(oe.head=He,He.done=!1,wo)},Od=(_,He)=>{const oe=He.length;let Ze,gt,ht;return Pl(_)||(Ze=_.state,Ze.wrap!==0&&Ze.mode!==Ko)?Ci:Ze.mode===Ko&&(gt=1,gt=da(gt,He,oe,0),gt!==Ze.check)?Co:(ht=_d(_,He,oe,oe),ht?(Ze.mode=gu,kl):(Ze.havedict=1,wo))};var Ku=Xo,zh=xu,Ca=Kd,zc=yu,vh=Bd,_c=ju,No=Dl,Ml=Vh,sc=Od,qu="pako inflate (from Nodeca project)",xl={inflateReset:Ku,inflateReset2:zh,inflateResetKeep:Ca,inflateInit:zc,inflateInit2:vh,inflate:_c,inflateEnd:No,inflateGetHeader:Ml,inflateSetDictionary:sc,inflateInfo:qu};function qd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Yo=qd;const Fd=Object.prototype.toString,{Z_NO_FLUSH:yl,Z_FINISH:bu,Z_OK:Oc,Z_STREAM_END:ic,Z_NEED_DICT:Rl,Z_STREAM_ERROR:ds,Z_DATA_ERROR:Bs,Z_MEM_ERROR:Ll}=ls;function Ni(_){this.options=Nr.assign({chunkSize:65536,windowBits:15,to:""},_||{});const He=this.options;He.raw&&He.windowBits>=0&&He.windowBits<16&&(He.windowBits=-He.windowBits,He.windowBits===0&&(He.windowBits=-15)),He.windowBits>=0&&He.windowBits<16&&!(_&&_.windowBits)&&(He.windowBits+=32),He.windowBits>15&&He.windowBits<48&&(He.windowBits&15)===0&&(He.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tr,this.strm.avail_out=0;let oe=xl.inflateInit2(this.strm,He.windowBits);if(oe!==Oc)throw new Error(Zr[oe]);if(this.header=new Yo,xl.inflateGetHeader(this.strm,this.header),He.dictionary&&(typeof He.dictionary=="string"?He.dictionary=kt.string2buf(He.dictionary):Fd.call(He.dictionary)==="[object ArrayBuffer]"&&(He.dictionary=new Uint8Array(He.dictionary)),He.raw&&(oe=xl.inflateSetDictionary(this.strm,He.dictionary),oe!==Oc)))throw new Error(Zr[oe])}Ni.prototype.push=function(_,He){const oe=this.strm,Ze=this.options.chunkSize,gt=this.options.dictionary;let ht,or,Jt;if(this.ended)return!1;for(He===~~He?or=He:or=He===!0?bu:yl,Fd.call(_)==="[object ArrayBuffer]"?oe.input=new Uint8Array(_):oe.input=_,oe.next_in=0,oe.avail_in=oe.input.length;;){for(oe.avail_out===0&&(oe.output=new Uint8Array(Ze),oe.next_out=0,oe.avail_out=Ze),ht=xl.inflate(oe,or),ht===Rl&&gt&&(ht=xl.inflateSetDictionary(oe,gt),ht===Oc?ht=xl.inflate(oe,or):ht===Bs&&(ht=Rl));oe.avail_in>0&&ht===ic&&oe.state.wrap>0&&_[oe.next_in]!==0;)xl.inflateReset(oe),ht=xl.inflate(oe,or);switch(ht){case ds:case Bs:case Rl:case Ll:return this.onEnd(ht),this.ended=!0,!1}if(Jt=oe.avail_out,oe.next_out&&(oe.avail_out===0||ht===ic))if(this.options.to==="string"){let bn=kt.utf8border(oe.output,oe.next_out),Ht=oe.next_out-bn,hr=kt.buf2string(oe.output,bn);oe.next_out=Ht,oe.avail_out=Ze-Ht,Ht&&oe.output.set(oe.output.subarray(bn,bn+Ht),0),this.onData(hr)}else this.onData(oe.output.length===oe.next_out?oe.output:oe.output.subarray(0,oe.next_out));if(!(ht===Oc&&Jt===0)){if(ht===ic)return ht=xl.inflateEnd(this.strm),this.onEnd(ht),this.ended=!0,!0;if(oe.avail_in===0)break}}return!0},Ni.prototype.onData=function(_){this.chunks.push(_)},Ni.prototype.onEnd=function(_){_===Oc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Nr.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function Mi(_,He){const oe=new Ni(He);if(oe.push(_),oe.err)throw oe.msg||Zr[oe.err];return oe.result}function Fc(_,He){return He=He||{},He.raw=!0,Mi(_,He)}var ud=Ni,Lo=Mi,oc=Fc,Gc=Mi,Xu={Inflate:ud,inflate:Lo,inflateRaw:oc,ungzip:Gc};const{Deflate:Kc,deflate:Yu,deflateRaw:xe,gzip:$e}=Ua,{Inflate:wt,inflate:Rt,inflateRaw:nr,ungzip:Sr}=Xu;var Ur=Kc,Nn=Yu,Dn=xe,Aa=$e,ta=wt,_a=Rt,Fs=nr,Ms=Sr,hs=ls,hi={Deflate:Ur,deflate:Nn,deflateRaw:Dn,gzip:Aa,Inflate:ta,inflate:_a,inflateRaw:Fs,ungzip:Ms,constants:hs}}),"./node_modules/performance-now/lib/performance-now.js":(function(o){(function(){var d,l,u,h,f,A;typeof performance<"u"&&performance!==null&&performance.now?o.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o.exports=function(){return(d()-f)/1e6},l=process.hrtime,d=function(){var g;return g=l(),g[0]*1e9+g[1]},h=d(),A=process.uptime()*1e9,f=h-A):Date.now?(o.exports=function(){return Date.now()-u},u=Date.now()):(o.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(o,d,l){for(var u=l("./node_modules/performance-now/lib/performance-now.js"),h=typeof window>"u"?Af:window,f=["moz","webkit"],A="AnimationFrame",g=h["request"+A],m=h["cancel"+A]||h["cancelRequest"+A],x=0;!g&&x<f.length;x++)g=h[f[x]+"Request"+A],m=h[f[x]+"Cancel"+A]||h[f[x]+"CancelRequest"+A];if(!g||!m){var y=0,b=0,j=[],S=1e3/60;g=function(w){if(j.length===0){var E=u(),I=Math.max(0,S-(E-y));y=I+E,setTimeout(function(){var L=j.slice(0);j.length=0;for(var Z=0;Z<L.length;Z++)if(!L[Z].cancelled)try{L[Z].callback(y)}catch(ne){setTimeout(function(){throw ne},0)}},Math.round(I))}return j.push({handle:++b,callback:w,cancelled:!1}),b},m=function(w){for(var E=0;E<j.length;E++)j[E].handle===w&&(j[E].cancelled=!0)}}o.exports=function(w){return g.call(h,w)},o.exports.cancel=function(){m.apply(h,arguments)},o.exports.polyfill=function(w){w||(w=h),w.requestAnimationFrame=g,w.cancelAnimationFrame=m}}),"./node_modules/rgbcolor/index.js":(function(o){o.exports=function(d){this.ok=!1,this.alpha=1,d.charAt(0)=="#"&&(d=d.substr(1,6)),d=d.replace(/ /g,""),d=d.toLowerCase();var l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};d=l[d]||d;for(var u=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],h=0;h<u.length;h++){var f=u[h].re,A=u[h].process,g=f.exec(d);if(g){var m=A(g);this.r=m[0],this.g=m[1],this.b=m[2],m.length>3&&(this.alpha=m[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return x.length==1&&(x="0"+x),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+x+y+b},this.getHelpXML=function(){for(var x=new Array,y=0;y<u.length;y++)for(var b=u[y].example,j=0;j<b.length;j++)x[x.length]=b[j];for(var S in l)x[x.length]=S;var w=document.createElement("ul");w.setAttribute("id","rgbcolor-examples");for(var y=0;y<x.length;y++)try{var E=document.createElement("li"),I=new RGBColor(x[y]),L=document.createElement("div");L.style.cssText="margin: 3px; border: 1px solid black; background:"+I.toHex()+"; color:"+I.toHex(),L.appendChild(document.createTextNode("test"));var Z=document.createTextNode(" "+x[y]+" -> "+I.toRGB()+" -> "+I.toHex());E.appendChild(L),E.appendChild(Z),w.appendChild(E)}catch{}return w}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(o,d,l){l.r(d),l.d(d,{BlurStack:function(){return S},canvasRGB:function(){return b},canvasRGBA:function(){return x},image:function(){return g},imageDataRGB:function(){return j},imageDataRGBA:function(){return y}});function u(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(w)}function h(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var f=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],A=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(w,E,I,L,Z,ne){if(typeof w=="string"&&(w=document.getElementById(w)),!(!w||Object.prototype.toString.call(w).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in w))){var G=Z?"offset":"natural",le=w[G+"Width"],V=w[G+"Height"];if(Object.prototype.toString.call(w).slice(8,-1)==="ImageBitmap"&&(le=w.width,V=w.height),typeof E=="string"&&(E=document.getElementById(E)),!(!E||!("getContext"in E))){ne||(E.style.width=le+"px",E.style.height=V+"px"),E.width=le,E.height=V;var me=E.getContext("2d");me.clearRect(0,0,le,V),me.drawImage(w,0,0,w.naturalWidth,w.naturalHeight,0,0,le,V),!(isNaN(I)||I<1)&&(L?x(E,0,0,le,V,I):b(E,0,0,le,V,I))}}}function m(w,E,I,L,Z){if(typeof w=="string"&&(w=document.getElementById(w)),!w||u(w)!=="object"||!("getContext"in w))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ne=w.getContext("2d");try{return ne.getImageData(E,I,L,Z)}catch(G){throw new Error("unable to access image data: "+G)}}function x(w,E,I,L,Z,ne){if(!(isNaN(ne)||ne<1)){ne|=0;var G=m(w,E,I,L,Z);G=y(G,E,I,L,Z,ne),w.getContext("2d").putImageData(G,E,I)}}function y(w,E,I,L,Z,ne){for(var G=w.data,le=2*ne+1,V=L-1,me=Z-1,$=ne+1,X=$*($+1)/2,Ce=new S,M=Ce,q,ie=1;ie<le;ie++)M=M.next=new S,ie===$&&(q=M);M.next=Ce;for(var J=null,D=null,ce=0,te=0,ge=f[ne],pe=A[ne],be=0;be<Z;be++){M=Ce;for(var re=G[te],de=G[te+1],Y=G[te+2],Ae=G[te+3],ye=0;ye<$;ye++)M.r=re,M.g=de,M.b=Y,M.a=Ae,M=M.next;for(var Oe=0,We=0,ae=0,ke=0,Fe=$*re,nt=$*de,tt=$*Y,Le=$*Ae,lt=X*re,$t=X*de,Ue=X*Y,yt=X*Ae,Tt=1;Tt<$;Tt++){var Zt=te+((V<Tt?V:Tt)<<2),Mr=G[Zt],_t=G[Zt+1],Vt=G[Zt+2],mr=G[Zt+3],Qe=$-Tt;lt+=(M.r=Mr)*Qe,$t+=(M.g=_t)*Qe,Ue+=(M.b=Vt)*Qe,yt+=(M.a=mr)*Qe,Oe+=Mr,We+=_t,ae+=Vt,ke+=mr,M=M.next}J=Ce,D=q;for(var Bt=0;Bt<L;Bt++){var Ge=yt*ge>>>pe;if(G[te+3]=Ge,Ge!==0){var Ft=255/Ge;G[te]=(lt*ge>>>pe)*Ft,G[te+1]=($t*ge>>>pe)*Ft,G[te+2]=(Ue*ge>>>pe)*Ft}else G[te]=G[te+1]=G[te+2]=0;lt-=Fe,$t-=nt,Ue-=tt,yt-=Le,Fe-=J.r,nt-=J.g,tt-=J.b,Le-=J.a;var Lt=Bt+ne+1;Lt=ce+(Lt<V?Lt:V)<<2,Oe+=J.r=G[Lt],We+=J.g=G[Lt+1],ae+=J.b=G[Lt+2],ke+=J.a=G[Lt+3],lt+=Oe,$t+=We,Ue+=ae,yt+=ke,J=J.next;var Dr=D,Or=Dr.r,Kr=Dr.g,Hr=Dr.b,Bn=Dr.a;Fe+=Or,nt+=Kr,tt+=Hr,Le+=Bn,Oe-=Or,We-=Kr,ae-=Hr,ke-=Bn,D=D.next,te+=4}ce+=L}for(var Wr=0;Wr<L;Wr++){te=Wr<<2;var Qr=G[te],vn=G[te+1],sn=G[te+2],Ln=G[te+3],da=$*Qr,ci=$*vn,ei=$*sn,Xs=$*Ln,ua=X*Qr,Zr=X*vn,ls=X*sn,Fi=X*Ln;M=Ce;for(var Sn=0;Sn<$;Sn++)M.r=Qr,M.g=vn,M.b=sn,M.a=Ln,M=M.next;for(var qi=L,Ps=0,ks=0,di=0,Us=0,co=1;co<=ne;co++){te=qi+Wr<<2;var ts=$-co;ua+=(M.r=Qr=G[te])*ts,Zr+=(M.g=vn=G[te+1])*ts,ls+=(M.b=sn=G[te+2])*ts,Fi+=(M.a=Ln=G[te+3])*ts,Us+=Qr,Ps+=vn,ks+=sn,di+=Ln,M=M.next,co<me&&(qi+=L)}te=Wr,J=Ce,D=q;for(var Xi=0;Xi<Z;Xi++){var Wa=te<<2;G[Wa+3]=Ln=Fi*ge>>>pe,Ln>0?(Ln=255/Ln,G[Wa]=(ua*ge>>>pe)*Ln,G[Wa+1]=(Zr*ge>>>pe)*Ln,G[Wa+2]=(ls*ge>>>pe)*Ln):G[Wa]=G[Wa+1]=G[Wa+2]=0,ua-=da,Zr-=ci,ls-=ei,Fi-=Xs,da-=J.r,ci-=J.g,ei-=J.b,Xs-=J.a,Wa=Wr+((Wa=Xi+$)<me?Wa:me)*L<<2,ua+=Us+=J.r=G[Wa],Zr+=Ps+=J.g=G[Wa+1],ls+=ks+=J.b=G[Wa+2],Fi+=di+=J.a=G[Wa+3],J=J.next,da+=Qr=D.r,ci+=vn=D.g,ei+=sn=D.b,Xs+=Ln=D.a,Us-=Qr,Ps-=vn,ks-=sn,di-=Ln,D=D.next,te+=L}}return w}function b(w,E,I,L,Z,ne){if(!(isNaN(ne)||ne<1)){ne|=0;var G=m(w,E,I,L,Z);G=j(G,E,I,L,Z,ne),w.getContext("2d").putImageData(G,E,I)}}function j(w,E,I,L,Z,ne){for(var G=w.data,le=2*ne+1,V=L-1,me=Z-1,$=ne+1,X=$*($+1)/2,Ce=new S,M=Ce,q,ie=1;ie<le;ie++)M=M.next=new S,ie===$&&(q=M);M.next=Ce;for(var J=null,D=null,ce=f[ne],te=A[ne],ge,pe,be=0,re=0,de=0;de<Z;de++){var Y=G[re],Ae=G[re+1],ye=G[re+2],Oe=$*Y,We=$*Ae,ae=$*ye,ke=X*Y,Fe=X*Ae,nt=X*ye;M=Ce;for(var tt=0;tt<$;tt++)M.r=Y,M.g=Ae,M.b=ye,M=M.next;for(var Le=0,lt=0,$t=0,Ue=1;Ue<$;Ue++)ge=re+((V<Ue?V:Ue)<<2),ke+=(M.r=Y=G[ge])*(pe=$-Ue),Fe+=(M.g=Ae=G[ge+1])*pe,nt+=(M.b=ye=G[ge+2])*pe,Le+=Y,lt+=Ae,$t+=ye,M=M.next;J=Ce,D=q;for(var yt=0;yt<L;yt++)G[re]=ke*ce>>>te,G[re+1]=Fe*ce>>>te,G[re+2]=nt*ce>>>te,ke-=Oe,Fe-=We,nt-=ae,Oe-=J.r,We-=J.g,ae-=J.b,ge=be+((ge=yt+ne+1)<V?ge:V)<<2,Le+=J.r=G[ge],lt+=J.g=G[ge+1],$t+=J.b=G[ge+2],ke+=Le,Fe+=lt,nt+=$t,J=J.next,Oe+=Y=D.r,We+=Ae=D.g,ae+=ye=D.b,Le-=Y,lt-=Ae,$t-=ye,D=D.next,re+=4;be+=L}for(var Tt=0;Tt<L;Tt++){re=Tt<<2;var Zt=G[re],Mr=G[re+1],_t=G[re+2],Vt=$*Zt,mr=$*Mr,Qe=$*_t,Bt=X*Zt,Ge=X*Mr,Ft=X*_t;M=Ce;for(var Lt=0;Lt<$;Lt++)M.r=Zt,M.g=Mr,M.b=_t,M=M.next;for(var Dr=0,Or=0,Kr=0,Hr=1,Bn=L;Hr<=ne;Hr++)re=Bn+Tt<<2,Bt+=(M.r=Zt=G[re])*(pe=$-Hr),Ge+=(M.g=Mr=G[re+1])*pe,Ft+=(M.b=_t=G[re+2])*pe,Dr+=Zt,Or+=Mr,Kr+=_t,M=M.next,Hr<me&&(Bn+=L);re=Tt,J=Ce,D=q;for(var Wr=0;Wr<Z;Wr++)ge=re<<2,G[ge]=Bt*ce>>>te,G[ge+1]=Ge*ce>>>te,G[ge+2]=Ft*ce>>>te,Bt-=Vt,Ge-=mr,Ft-=Qe,Vt-=J.r,mr-=J.g,Qe-=J.b,ge=Tt+((ge=Wr+$)<me?ge:me)*L<<2,Bt+=Dr+=J.r=G[ge],Ge+=Or+=J.g=G[ge+1],Ft+=Kr+=J.b=G[ge+2],J=J.next,Vt+=Zt=D.r,mr+=Mr=D.g,Qe+=_t=D.b,Dr-=Zt,Or-=Mr,Kr-=_t,D=D.next,re+=L}return w}var S=function w(){h(this,w),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(o,d,l){l.r(d),l.d(d,{COMMAND_ARG_COUNTS:function(){return me},SVGPathData:function(){return V},SVGPathDataParser:function(){return le},SVGPathDataTransformer:function(){return b},encodeSVGPath:function(){return f}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var u=function($,X){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,M){Ce.__proto__=M}||function(Ce,M){for(var q in M)Object.prototype.hasOwnProperty.call(M,q)&&(Ce[q]=M[q])})($,X)};function h($,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function Ce(){this.constructor=$}u($,X),$.prototype=X===null?Object.create(X):(Ce.prototype=X.prototype,new Ce)}function f($){var X="";Array.isArray($)||($=[$]);for(var Ce=0;Ce<$.length;Ce++){var M=$[Ce];if(M.type===V.CLOSE_PATH)X+="z";else if(M.type===V.HORIZ_LINE_TO)X+=(M.relative?"h":"H")+M.x;else if(M.type===V.VERT_LINE_TO)X+=(M.relative?"v":"V")+M.y;else if(M.type===V.MOVE_TO)X+=(M.relative?"m":"M")+M.x+" "+M.y;else if(M.type===V.LINE_TO)X+=(M.relative?"l":"L")+M.x+" "+M.y;else if(M.type===V.CURVE_TO)X+=(M.relative?"c":"C")+M.x1+" "+M.y1+" "+M.x2+" "+M.y2+" "+M.x+" "+M.y;else if(M.type===V.SMOOTH_CURVE_TO)X+=(M.relative?"s":"S")+M.x2+" "+M.y2+" "+M.x+" "+M.y;else if(M.type===V.QUAD_TO)X+=(M.relative?"q":"Q")+M.x1+" "+M.y1+" "+M.x+" "+M.y;else if(M.type===V.SMOOTH_QUAD_TO)X+=(M.relative?"t":"T")+M.x+" "+M.y;else{if(M.type!==V.ARC)throw new Error('Unexpected command type "'+M.type+'" at index '+Ce+".");X+=(M.relative?"a":"A")+M.rX+" "+M.rY+" "+M.xRot+" "+ +M.lArcFlag+" "+ +M.sweepFlag+" "+M.x+" "+M.y}}return X}function A($,X){var Ce=$[0],M=$[1];return[Ce*Math.cos(X)-M*Math.sin(X),Ce*Math.sin(X)+M*Math.cos(X)]}function g(){for(var $=[],X=0;X<arguments.length;X++)$[X]=arguments[X];for(var Ce=0;Ce<$.length;Ce++)if(typeof $[Ce]!="number")throw new Error("assertNumbers arguments["+Ce+"] is not a number. "+typeof $[Ce]+" == typeof "+$[Ce]);return!0}var m=Math.PI;function x($,X,Ce){$.lArcFlag=$.lArcFlag===0?0:1,$.sweepFlag=$.sweepFlag===0?0:1;var M=$.rX,q=$.rY,ie=$.x,J=$.y;M=Math.abs($.rX),q=Math.abs($.rY);var D=A([(X-ie)/2,(Ce-J)/2],-$.xRot/180*m),ce=D[0],te=D[1],ge=Math.pow(ce,2)/Math.pow(M,2)+Math.pow(te,2)/Math.pow(q,2);1<ge&&(M*=Math.sqrt(ge),q*=Math.sqrt(ge)),$.rX=M,$.rY=q;var pe=Math.pow(M,2)*Math.pow(te,2)+Math.pow(q,2)*Math.pow(ce,2),be=($.lArcFlag!==$.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(M,2)*Math.pow(q,2)-pe)/pe)),re=M*te/q*be,de=-q*ce/M*be,Y=A([re,de],$.xRot/180*m);$.cX=Y[0]+(X+ie)/2,$.cY=Y[1]+(Ce+J)/2,$.phi1=Math.atan2((te-de)/q,(ce-re)/M),$.phi2=Math.atan2((-te-de)/q,(-ce-re)/M),$.sweepFlag===0&&$.phi2>$.phi1&&($.phi2-=2*m),$.sweepFlag===1&&$.phi2<$.phi1&&($.phi2+=2*m),$.phi1*=180/m,$.phi2*=180/m}function y($,X,Ce){g($,X,Ce);var M=$*$+X*X-Ce*Ce;if(0>M)return[];if(M===0)return[[$*Ce/($*$+X*X),X*Ce/($*$+X*X)]];var q=Math.sqrt(M);return[[($*Ce+X*q)/($*$+X*X),(X*Ce-$*q)/($*$+X*X)],[($*Ce-X*q)/($*$+X*X),(X*Ce+$*q)/($*$+X*X)]]}var b,j=Math.PI/180;function S($,X,Ce){return(1-Ce)*$+Ce*X}function w($,X,Ce,M){return $+Math.cos(M/180*m)*X+Math.sin(M/180*m)*Ce}function E($,X,Ce,M){var q=1e-6,ie=X-$,J=Ce-X,D=3*ie+3*(M-Ce)-6*J,ce=6*(J-ie),te=3*ie;return Math.abs(D)<q?[-te/ce]:(function(ge,pe,be){var re=ge*ge/4-pe;if(re<-be)return[];if(re<=be)return[-ge/2];var de=Math.sqrt(re);return[-ge/2-de,-ge/2+de]})(ce/D,te/D,q)}function I($,X,Ce,M,q){var ie=1-q;return $*(ie*ie*ie)+X*(3*ie*ie*q)+Ce*(3*ie*q*q)+M*(q*q*q)}(function($){function X(){return q((function(D,ce,te){return D.relative&&(D.x1!==void 0&&(D.x1+=ce),D.y1!==void 0&&(D.y1+=te),D.x2!==void 0&&(D.x2+=ce),D.y2!==void 0&&(D.y2+=te),D.x!==void 0&&(D.x+=ce),D.y!==void 0&&(D.y+=te),D.relative=!1),D}))}function Ce(){var D=NaN,ce=NaN,te=NaN,ge=NaN;return q((function(pe,be,re){return pe.type&V.SMOOTH_CURVE_TO&&(pe.type=V.CURVE_TO,D=isNaN(D)?be:D,ce=isNaN(ce)?re:ce,pe.x1=pe.relative?be-D:2*be-D,pe.y1=pe.relative?re-ce:2*re-ce),pe.type&V.CURVE_TO?(D=pe.relative?be+pe.x2:pe.x2,ce=pe.relative?re+pe.y2:pe.y2):(D=NaN,ce=NaN),pe.type&V.SMOOTH_QUAD_TO&&(pe.type=V.QUAD_TO,te=isNaN(te)?be:te,ge=isNaN(ge)?re:ge,pe.x1=pe.relative?be-te:2*be-te,pe.y1=pe.relative?re-ge:2*re-ge),pe.type&V.QUAD_TO?(te=pe.relative?be+pe.x1:pe.x1,ge=pe.relative?re+pe.y1:pe.y1):(te=NaN,ge=NaN),pe}))}function M(){var D=NaN,ce=NaN;return q((function(te,ge,pe){if(te.type&V.SMOOTH_QUAD_TO&&(te.type=V.QUAD_TO,D=isNaN(D)?ge:D,ce=isNaN(ce)?pe:ce,te.x1=te.relative?ge-D:2*ge-D,te.y1=te.relative?pe-ce:2*pe-ce),te.type&V.QUAD_TO){D=te.relative?ge+te.x1:te.x1,ce=te.relative?pe+te.y1:te.y1;var be=te.x1,re=te.y1;te.type=V.CURVE_TO,te.x1=((te.relative?0:ge)+2*be)/3,te.y1=((te.relative?0:pe)+2*re)/3,te.x2=(te.x+2*be)/3,te.y2=(te.y+2*re)/3}else D=NaN,ce=NaN;return te}))}function q(D){var ce=0,te=0,ge=NaN,pe=NaN;return function(be){if(isNaN(ge)&&!(be.type&V.MOVE_TO))throw new Error("path must start with moveto");var re=D(be,ce,te,ge,pe);return be.type&V.CLOSE_PATH&&(ce=ge,te=pe),be.x!==void 0&&(ce=be.relative?ce+be.x:be.x),be.y!==void 0&&(te=be.relative?te+be.y:be.y),be.type&V.MOVE_TO&&(ge=ce,pe=te),re}}function ie(D,ce,te,ge,pe,be){return g(D,ce,te,ge,pe,be),q((function(re,de,Y,Ae){var ye=re.x1,Oe=re.x2,We=re.relative&&!isNaN(Ae),ae=re.x!==void 0?re.x:We?0:de,ke=re.y!==void 0?re.y:We?0:Y;function Fe(Ge){return Ge*Ge}re.type&V.HORIZ_LINE_TO&&ce!==0&&(re.type=V.LINE_TO,re.y=re.relative?0:Y),re.type&V.VERT_LINE_TO&&te!==0&&(re.type=V.LINE_TO,re.x=re.relative?0:de),re.x!==void 0&&(re.x=re.x*D+ke*te+(We?0:pe)),re.y!==void 0&&(re.y=ae*ce+re.y*ge+(We?0:be)),re.x1!==void 0&&(re.x1=re.x1*D+re.y1*te+(We?0:pe)),re.y1!==void 0&&(re.y1=ye*ce+re.y1*ge+(We?0:be)),re.x2!==void 0&&(re.x2=re.x2*D+re.y2*te+(We?0:pe)),re.y2!==void 0&&(re.y2=Oe*ce+re.y2*ge+(We?0:be));var nt=D*ge-ce*te;if(re.xRot!==void 0&&(D!==1||ce!==0||te!==0||ge!==1))if(nt===0)delete re.rX,delete re.rY,delete re.xRot,delete re.lArcFlag,delete re.sweepFlag,re.type=V.LINE_TO;else{var tt=re.xRot*Math.PI/180,Le=Math.sin(tt),lt=Math.cos(tt),$t=1/Fe(re.rX),Ue=1/Fe(re.rY),yt=Fe(lt)*$t+Fe(Le)*Ue,Tt=2*Le*lt*($t-Ue),Zt=Fe(Le)*$t+Fe(lt)*Ue,Mr=yt*ge*ge-Tt*ce*ge+Zt*ce*ce,_t=Tt*(D*ge+ce*te)-2*(yt*te*ge+Zt*D*ce),Vt=yt*te*te-Tt*D*te+Zt*D*D,mr=(Math.atan2(_t,Mr-Vt)+Math.PI)%Math.PI/2,Qe=Math.sin(mr),Bt=Math.cos(mr);re.rX=Math.abs(nt)/Math.sqrt(Mr*Fe(Bt)+_t*Qe*Bt+Vt*Fe(Qe)),re.rY=Math.abs(nt)/Math.sqrt(Mr*Fe(Qe)-_t*Qe*Bt+Vt*Fe(Bt)),re.xRot=180*mr/Math.PI}return re.sweepFlag!==void 0&&0>nt&&(re.sweepFlag=+!re.sweepFlag),re}))}function J(){return function(D){var ce={};for(var te in D)ce[te]=D[te];return ce}}$.ROUND=function(D){function ce(te){return Math.round(te*D)/D}return D===void 0&&(D=1e13),g(D),function(te){return te.x1!==void 0&&(te.x1=ce(te.x1)),te.y1!==void 0&&(te.y1=ce(te.y1)),te.x2!==void 0&&(te.x2=ce(te.x2)),te.y2!==void 0&&(te.y2=ce(te.y2)),te.x!==void 0&&(te.x=ce(te.x)),te.y!==void 0&&(te.y=ce(te.y)),te.rX!==void 0&&(te.rX=ce(te.rX)),te.rY!==void 0&&(te.rY=ce(te.rY)),te}},$.TO_ABS=X,$.TO_REL=function(){return q((function(D,ce,te){return D.relative||(D.x1!==void 0&&(D.x1-=ce),D.y1!==void 0&&(D.y1-=te),D.x2!==void 0&&(D.x2-=ce),D.y2!==void 0&&(D.y2-=te),D.x!==void 0&&(D.x-=ce),D.y!==void 0&&(D.y-=te),D.relative=!0),D}))},$.NORMALIZE_HVZ=function(D,ce,te){return D===void 0&&(D=!0),ce===void 0&&(ce=!0),te===void 0&&(te=!0),q((function(ge,pe,be,re,de){if(isNaN(re)&&!(ge.type&V.MOVE_TO))throw new Error("path must start with moveto");return ce&&ge.type&V.HORIZ_LINE_TO&&(ge.type=V.LINE_TO,ge.y=ge.relative?0:be),te&&ge.type&V.VERT_LINE_TO&&(ge.type=V.LINE_TO,ge.x=ge.relative?0:pe),D&&ge.type&V.CLOSE_PATH&&(ge.type=V.LINE_TO,ge.x=ge.relative?re-pe:re,ge.y=ge.relative?de-be:de),ge.type&V.ARC&&(ge.rX===0||ge.rY===0)&&(ge.type=V.LINE_TO,delete ge.rX,delete ge.rY,delete ge.xRot,delete ge.lArcFlag,delete ge.sweepFlag),ge}))},$.NORMALIZE_ST=Ce,$.QT_TO_C=M,$.INFO=q,$.SANITIZE=function(D){D===void 0&&(D=0),g(D);var ce=NaN,te=NaN,ge=NaN,pe=NaN;return q((function(be,re,de,Y,Ae){var ye=Math.abs,Oe=!1,We=0,ae=0;if(be.type&V.SMOOTH_CURVE_TO&&(We=isNaN(ce)?0:re-ce,ae=isNaN(te)?0:de-te),be.type&(V.CURVE_TO|V.SMOOTH_CURVE_TO)?(ce=be.relative?re+be.x2:be.x2,te=be.relative?de+be.y2:be.y2):(ce=NaN,te=NaN),be.type&V.SMOOTH_QUAD_TO?(ge=isNaN(ge)?re:2*re-ge,pe=isNaN(pe)?de:2*de-pe):be.type&V.QUAD_TO?(ge=be.relative?re+be.x1:be.x1,pe=be.relative?de+be.y1:be.y2):(ge=NaN,pe=NaN),be.type&V.LINE_COMMANDS||be.type&V.ARC&&(be.rX===0||be.rY===0||!be.lArcFlag)||be.type&V.CURVE_TO||be.type&V.SMOOTH_CURVE_TO||be.type&V.QUAD_TO||be.type&V.SMOOTH_QUAD_TO){var ke=be.x===void 0?0:be.relative?be.x:be.x-re,Fe=be.y===void 0?0:be.relative?be.y:be.y-de;We=isNaN(ge)?be.x1===void 0?We:be.relative?be.x:be.x1-re:ge-re,ae=isNaN(pe)?be.y1===void 0?ae:be.relative?be.y:be.y1-de:pe-de;var nt=be.x2===void 0?0:be.relative?be.x:be.x2-re,tt=be.y2===void 0?0:be.relative?be.y:be.y2-de;ye(ke)<=D&&ye(Fe)<=D&&ye(We)<=D&&ye(ae)<=D&&ye(nt)<=D&&ye(tt)<=D&&(Oe=!0)}return be.type&V.CLOSE_PATH&&ye(re-Y)<=D&&ye(de-Ae)<=D&&(Oe=!0),Oe?[]:be}))},$.MATRIX=ie,$.ROTATE=function(D,ce,te){ce===void 0&&(ce=0),te===void 0&&(te=0),g(D,ce,te);var ge=Math.sin(D),pe=Math.cos(D);return ie(pe,ge,-ge,pe,ce-ce*pe+te*ge,te-ce*ge-te*pe)},$.TRANSLATE=function(D,ce){return ce===void 0&&(ce=0),g(D,ce),ie(1,0,0,1,D,ce)},$.SCALE=function(D,ce){return ce===void 0&&(ce=D),g(D,ce),ie(D,0,0,ce,0,0)},$.SKEW_X=function(D){return g(D),ie(1,0,Math.atan(D),1,0,0)},$.SKEW_Y=function(D){return g(D),ie(1,Math.atan(D),0,1,0,0)},$.X_AXIS_SYMMETRY=function(D){return D===void 0&&(D=0),g(D),ie(-1,0,0,1,D,0)},$.Y_AXIS_SYMMETRY=function(D){return D===void 0&&(D=0),g(D),ie(1,0,0,-1,0,D)},$.A_TO_C=function(){return q((function(D,ce,te){return V.ARC===D.type?(function(ge,pe,be){var re,de,Y,Ae;ge.cX||x(ge,pe,be);for(var ye=Math.min(ge.phi1,ge.phi2),Oe=Math.max(ge.phi1,ge.phi2)-ye,We=Math.ceil(Oe/90),ae=new Array(We),ke=pe,Fe=be,nt=0;nt<We;nt++){var tt=S(ge.phi1,ge.phi2,nt/We),Le=S(ge.phi1,ge.phi2,(nt+1)/We),lt=Le-tt,$t=4/3*Math.tan(lt*j/4),Ue=[Math.cos(tt*j)-$t*Math.sin(tt*j),Math.sin(tt*j)+$t*Math.cos(tt*j)],yt=Ue[0],Tt=Ue[1],Zt=[Math.cos(Le*j),Math.sin(Le*j)],Mr=Zt[0],_t=Zt[1],Vt=[Mr+$t*Math.sin(Le*j),_t-$t*Math.cos(Le*j)],mr=Vt[0],Qe=Vt[1];ae[nt]={relative:ge.relative,type:V.CURVE_TO};var Bt=function(Ge,Ft){var Lt=A([Ge*ge.rX,Ft*ge.rY],ge.xRot),Dr=Lt[0],Or=Lt[1];return[ge.cX+Dr,ge.cY+Or]};re=Bt(yt,Tt),ae[nt].x1=re[0],ae[nt].y1=re[1],de=Bt(mr,Qe),ae[nt].x2=de[0],ae[nt].y2=de[1],Y=Bt(Mr,_t),ae[nt].x=Y[0],ae[nt].y=Y[1],ge.relative&&(ae[nt].x1-=ke,ae[nt].y1-=Fe,ae[nt].x2-=ke,ae[nt].y2-=Fe,ae[nt].x-=ke,ae[nt].y-=Fe),ke=(Ae=[ae[nt].x,ae[nt].y])[0],Fe=Ae[1]}return ae})(D,D.relative?0:ce,D.relative?0:te):D}))},$.ANNOTATE_ARCS=function(){return q((function(D,ce,te){return D.relative&&(ce=0,te=0),V.ARC===D.type&&x(D,ce,te),D}))},$.CLONE=J,$.CALCULATE_BOUNDS=function(){var D=function(be){var re={};for(var de in be)re[de]=be[de];return re},ce=X(),te=M(),ge=Ce(),pe=q((function(be,re,de){var Y=ge(te(ce(D(be))));function Ae(Qe){Qe>pe.maxX&&(pe.maxX=Qe),Qe<pe.minX&&(pe.minX=Qe)}function ye(Qe){Qe>pe.maxY&&(pe.maxY=Qe),Qe<pe.minY&&(pe.minY=Qe)}if(Y.type&V.DRAWING_COMMANDS&&(Ae(re),ye(de)),Y.type&V.HORIZ_LINE_TO&&Ae(Y.x),Y.type&V.VERT_LINE_TO&&ye(Y.y),Y.type&V.LINE_TO&&(Ae(Y.x),ye(Y.y)),Y.type&V.CURVE_TO){Ae(Y.x),ye(Y.y);for(var Oe=0,We=E(re,Y.x1,Y.x2,Y.x);Oe<We.length;Oe++)0<(mr=We[Oe])&&1>mr&&Ae(I(re,Y.x1,Y.x2,Y.x,mr));for(var ae=0,ke=E(de,Y.y1,Y.y2,Y.y);ae<ke.length;ae++)0<(mr=ke[ae])&&1>mr&&ye(I(de,Y.y1,Y.y2,Y.y,mr))}if(Y.type&V.ARC){Ae(Y.x),ye(Y.y),x(Y,re,de);for(var Fe=Y.xRot/180*Math.PI,nt=Math.cos(Fe)*Y.rX,tt=Math.sin(Fe)*Y.rX,Le=-Math.sin(Fe)*Y.rY,lt=Math.cos(Fe)*Y.rY,$t=Y.phi1<Y.phi2?[Y.phi1,Y.phi2]:-180>Y.phi2?[Y.phi2+360,Y.phi1+360]:[Y.phi2,Y.phi1],Ue=$t[0],yt=$t[1],Tt=function(Qe){var Bt=Qe[0],Ge=Qe[1],Ft=180*Math.atan2(Ge,Bt)/Math.PI;return Ft<Ue?Ft+360:Ft},Zt=0,Mr=y(Le,-nt,0).map(Tt);Zt<Mr.length;Zt++)(mr=Mr[Zt])>Ue&&mr<yt&&Ae(w(Y.cX,nt,Le,mr));for(var _t=0,Vt=y(lt,-tt,0).map(Tt);_t<Vt.length;_t++){var mr;(mr=Vt[_t])>Ue&&mr<yt&&ye(w(Y.cY,tt,lt,mr))}}return be}));return pe.minX=1/0,pe.maxX=-1/0,pe.minY=1/0,pe.maxY=-1/0,pe}})(b||(b={}));var L,Z=(function(){function $(){}return $.prototype.round=function(X){return this.transform(b.ROUND(X))},$.prototype.toAbs=function(){return this.transform(b.TO_ABS())},$.prototype.toRel=function(){return this.transform(b.TO_REL())},$.prototype.normalizeHVZ=function(X,Ce,M){return this.transform(b.NORMALIZE_HVZ(X,Ce,M))},$.prototype.normalizeST=function(){return this.transform(b.NORMALIZE_ST())},$.prototype.qtToC=function(){return this.transform(b.QT_TO_C())},$.prototype.aToC=function(){return this.transform(b.A_TO_C())},$.prototype.sanitize=function(X){return this.transform(b.SANITIZE(X))},$.prototype.translate=function(X,Ce){return this.transform(b.TRANSLATE(X,Ce))},$.prototype.scale=function(X,Ce){return this.transform(b.SCALE(X,Ce))},$.prototype.rotate=function(X,Ce,M){return this.transform(b.ROTATE(X,Ce,M))},$.prototype.matrix=function(X,Ce,M,q,ie,J){return this.transform(b.MATRIX(X,Ce,M,q,ie,J))},$.prototype.skewX=function(X){return this.transform(b.SKEW_X(X))},$.prototype.skewY=function(X){return this.transform(b.SKEW_Y(X))},$.prototype.xSymmetry=function(X){return this.transform(b.X_AXIS_SYMMETRY(X))},$.prototype.ySymmetry=function(X){return this.transform(b.Y_AXIS_SYMMETRY(X))},$.prototype.annotateArcs=function(){return this.transform(b.ANNOTATE_ARCS())},$})(),ne=function($){return $===" "||$==="	"||$==="\r"||$===`
`},G=function($){return 48<=$.charCodeAt(0)&&$.charCodeAt(0)<=57},le=(function($){function X(){var Ce=$.call(this)||this;return Ce.curNumber="",Ce.curCommandType=-1,Ce.curCommandRelative=!1,Ce.canParseCommandOrComma=!0,Ce.curNumberHasExp=!1,Ce.curNumberHasExpDigits=!1,Ce.curNumberHasDecimal=!1,Ce.curArgs=[],Ce}return h(X,$),X.prototype.finish=function(Ce){if(Ce===void 0&&(Ce=[]),this.parse(" ",Ce),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return Ce},X.prototype.parse=function(Ce,M){var q=this;M===void 0&&(M=[]);for(var ie=function(pe){M.push(pe),q.curArgs.length=0,q.canParseCommandOrComma=!0},J=0;J<Ce.length;J++){var D=Ce[J],ce=!(this.curCommandType!==V.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),te=G(D)&&(this.curNumber==="0"&&D==="0"||ce);if(!G(D)||te)if(D!=="e"&&D!=="E")if(D!=="-"&&D!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(D!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ce){if(this.curNumber&&this.curCommandType!==-1){var ge=Number(this.curNumber);if(isNaN(ge))throw new SyntaxError("Invalid number ending at "+J);if(this.curCommandType===V.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>ge)throw new SyntaxError('Expected positive number, got "'+ge+'" at index "'+J+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+J+'"')}this.curArgs.push(ge),this.curArgs.length===me[this.curCommandType]&&(V.HORIZ_LINE_TO===this.curCommandType?ie({type:V.HORIZ_LINE_TO,relative:this.curCommandRelative,x:ge}):V.VERT_LINE_TO===this.curCommandType?ie({type:V.VERT_LINE_TO,relative:this.curCommandRelative,y:ge}):this.curCommandType===V.MOVE_TO||this.curCommandType===V.LINE_TO||this.curCommandType===V.SMOOTH_QUAD_TO?(ie({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),V.MOVE_TO===this.curCommandType&&(this.curCommandType=V.LINE_TO)):this.curCommandType===V.CURVE_TO?ie({type:V.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===V.SMOOTH_CURVE_TO?ie({type:V.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===V.QUAD_TO?ie({type:V.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===V.ARC&&ie({type:V.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ne(D))if(D===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(D!=="+"&&D!=="-"&&D!==".")if(te)this.curNumber=D,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+J+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+D+'" at index '+J+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,D!=="z"&&D!=="Z")if(D==="h"||D==="H")this.curCommandType=V.HORIZ_LINE_TO,this.curCommandRelative=D==="h";else if(D==="v"||D==="V")this.curCommandType=V.VERT_LINE_TO,this.curCommandRelative=D==="v";else if(D==="m"||D==="M")this.curCommandType=V.MOVE_TO,this.curCommandRelative=D==="m";else if(D==="l"||D==="L")this.curCommandType=V.LINE_TO,this.curCommandRelative=D==="l";else if(D==="c"||D==="C")this.curCommandType=V.CURVE_TO,this.curCommandRelative=D==="c";else if(D==="s"||D==="S")this.curCommandType=V.SMOOTH_CURVE_TO,this.curCommandRelative=D==="s";else if(D==="q"||D==="Q")this.curCommandType=V.QUAD_TO,this.curCommandRelative=D==="q";else if(D==="t"||D==="T")this.curCommandType=V.SMOOTH_QUAD_TO,this.curCommandRelative=D==="t";else{if(D!=="a"&&D!=="A")throw new SyntaxError('Unexpected character "'+D+'" at index '+J+".");this.curCommandType=V.ARC,this.curCommandRelative=D==="a"}else M.push({type:V.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=D,this.curNumberHasDecimal=D==="."}else this.curNumber+=D,this.curNumberHasDecimal=!0;else this.curNumber+=D;else this.curNumber+=D,this.curNumberHasExp=!0;else this.curNumber+=D,this.curNumberHasExpDigits=this.curNumberHasExp}return M},X.prototype.transform=function(Ce){return Object.create(this,{parse:{value:function(M,q){q===void 0&&(q=[]);for(var ie=0,J=Object.getPrototypeOf(this).parse.call(this,M);ie<J.length;ie++){var D=J[ie],ce=Ce(D);Array.isArray(ce)?q.push.apply(q,ce):q.push(ce)}return q}}})},X})(Z),V=(function($){function X(Ce){var M=$.call(this)||this;return M.commands=typeof Ce=="string"?X.parse(Ce):Ce,M}return h(X,$),X.prototype.encode=function(){return X.encode(this.commands)},X.prototype.getBounds=function(){var Ce=b.CALCULATE_BOUNDS();return this.transform(Ce),Ce},X.prototype.transform=function(Ce){for(var M=[],q=0,ie=this.commands;q<ie.length;q++){var J=Ce(ie[q]);Array.isArray(J)?M.push.apply(M,J):M.push(J)}return this.commands=M,this},X.encode=function(Ce){return f(Ce)},X.parse=function(Ce){var M=new le,q=[];return M.parse(Ce,q),M.finish(q),q},X.CLOSE_PATH=1,X.MOVE_TO=2,X.HORIZ_LINE_TO=4,X.VERT_LINE_TO=8,X.LINE_TO=16,X.CURVE_TO=32,X.SMOOTH_CURVE_TO=64,X.QUAD_TO=128,X.SMOOTH_QUAD_TO=256,X.ARC=512,X.LINE_COMMANDS=X.LINE_TO|X.HORIZ_LINE_TO|X.VERT_LINE_TO,X.DRAWING_COMMANDS=X.HORIZ_LINE_TO|X.VERT_LINE_TO|X.LINE_TO|X.CURVE_TO|X.SMOOTH_CURVE_TO|X.QUAD_TO|X.SMOOTH_QUAD_TO|X.ARC,X})(Z),me=((L={})[V.MOVE_TO]=2,L[V.LINE_TO]=2,L[V.HORIZ_LINE_TO]=1,L[V.VERT_LINE_TO]=1,L[V.CLOSE_PATH]=0,L[V.QUAD_TO]=4,L[V.SMOOTH_QUAD_TO]=2,L[V.CURVE_TO]=6,L[V.SMOOTH_CURVE_TO]=4,L[V.ARC]=7,L)}),"./src/plugin/hyperlinks.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.link.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var u=l("./src/worker.js"),h=l("./src/utils.js"),f=[],A={toContainer:u.default.prototype.toContainer,toPdf:u.default.prototype.toPdf};u.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,y=x.querySelectorAll("a"),b=(0,h.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(y,function(j){for(var S=j.getClientRects(),w=0;w<S.length;w++){var E=(0,h.unitConvert)(S[w],this.prop.pageSize.k);E.left-=b.left,E.top-=b.top;var I=Math.floor(E.top/this.prop.pageSize.inner.height)+1,L=this.opt.margin[0]+E.top%this.prop.pageSize.inner.height,Z=this.opt.margin[1]+E.left;f.push({page:I,top:L,left:Z,clientRect:E,link:j})}},this)}})},u.default.prototype.toPdf=function(){return A.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=l("./node_modules/jspdf/dist/jspdf.es.min.js");function h(f){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},h(f)}u.jsPDF.getPageSize=function(f,A,g){if(h(f)==="object"){var m=f;f=m.orientation,A=m.unit||A,g=m.format||g}A=A||"mm",g=g||"a4",f=(""+(f||"P")).toLowerCase();var x=(""+g).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+A}if(y.hasOwnProperty(x))var j=y[x][1]/b,S=y[x][0]/b;else try{var j=g[1],S=g[0]}catch{throw new Error("Invalid format: "+g)}if(f==="p"||f==="portrait"){if(f="p",S>j){var w=S;S=j,j=w}}else if(f==="l"||f==="landscape"){if(f="l",j>S){var w=S;S=j,j=w}}else throw"Invalid orientation: "+f;var E={width:S,height:j,unit:A,k:b};return E},d.default=u.jsPDF}),"./src/plugin/pagebreaks.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.join.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var u=l("./src/worker.js"),h=l("./src/utils.js"),f={toContainer:u.default.prototype.toContainer};u.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},u.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var m=this.prop.container,x=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),b={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},j={},S=this;["before","after","avoid"].forEach(function(I){var L=b.avoidAll&&I==="avoid";j[I]=L?[]:[].concat(S.opt.pagebreak[I]||[]),j[I].length>0&&(j[I]=Array.prototype.slice.call(m.querySelectorAll(j[I].join(", "))))});var w=m.querySelectorAll(".html2pdf__page-break");w=Array.prototype.slice.call(w);var E=m.querySelectorAll("*");Array.prototype.forEach.call(E,function(L){var Z={before:!1,after:b.legacy&&w.indexOf(L)!==-1,avoid:b.avoidAll};if(b.css){var ne=window.getComputedStyle(L),G=["always","page","left","right"],le=["avoid","avoid-page"];Z={before:Z.before||G.indexOf(ne.breakBefore||ne.pageBreakBefore)!==-1,after:Z.after||G.indexOf(ne.breakAfter||ne.pageBreakAfter)!==-1,avoid:Z.avoid||le.indexOf(ne.breakInside||ne.pageBreakInside)!==-1}}Object.keys(Z).forEach(function(M){Z[M]=Z[M]||j[M].indexOf(L)!==-1});var V=L.getBoundingClientRect();if(Z.avoid&&!Z.before){var me=Math.floor(V.top/x),$=Math.floor(V.bottom/x),X=Math.abs(V.bottom-V.top)/x;$!==me&&X<=1&&(Z.before=!0)}if(Z.before){var Ce=(0,h.createElement)("div",{style:{display:"block",height:x-V.top%x+"px"}});L.parentNode.insertBefore(Ce,L)}if(Z.after){var Ce=(0,h.createElement)("div",{style:{display:"block",height:x-V.bottom%x+"px"}});L.parentNode.insertBefore(Ce,L.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(o,d,l){l.r(d),l.d(d,{deepCloneBasic:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.from.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.regexp.exec.js"),l("./node_modules/core-js/modules/es.regexp.test.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/es.set.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/esnext.set.add-all.js"),l("./node_modules/core-js/modules/esnext.set.delete-all.js"),l("./node_modules/core-js/modules/esnext.set.difference.js"),l("./node_modules/core-js/modules/esnext.set.every.js"),l("./node_modules/core-js/modules/esnext.set.filter.js"),l("./node_modules/core-js/modules/esnext.set.find.js"),l("./node_modules/core-js/modules/esnext.set.intersection.js"),l("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),l("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),l("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),l("./node_modules/core-js/modules/esnext.set.join.js"),l("./node_modules/core-js/modules/esnext.set.map.js"),l("./node_modules/core-js/modules/esnext.set.reduce.js"),l("./node_modules/core-js/modules/esnext.set.some.js"),l("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),l("./node_modules/core-js/modules/esnext.set.union.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");function u(m,x){var y=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!y){if(Array.isArray(m)||(y=h(m))||x){y&&(m=y);var b=0,j=function(){};return{s:j,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function(L){throw L},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,w=!0,E=!1;return{s:function(){y=y.call(m)},n:function(){var L=y.next();return w=L.done,L},e:function(L){E=!0,S=L},f:function(){try{w||y.return==null||y.return()}finally{if(E)throw S}}}}function h(m,x){if(m){if(typeof m=="string")return f(m,x);var y={}.toString.call(m).slice(8,-1);return y==="Object"&&m.constructor&&(y=m.constructor.name),y==="Map"||y==="Set"?Array.from(m):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?f(m,x):void 0}}function f(m,x){(x==null||x>m.length)&&(x=m.length);for(var y=0,b=Array(x);y<x;y++)b[y]=m[y];return b}function A(m,x){try{var y=m.currentSrc||m.src||"";if(!y)return;x.setAttribute("src",y),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function g(m){if(!m)throw new Error("Invalid node");var x=new Set,y=null;if(m.nodeType===Node.TEXT_NODE||m.nodeType!==Node.ELEMENT_NODE)return m.cloneNode(!0);if(m.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(m.offsetWidth,"px;height:").concat(m.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(m.tagName==="CANVAS"){var j=m.toDataURL(),S=document.createElement("img");return S.src=j,S.width=m.width,S.height=m.height,S}var w;try{w=m.cloneNode(!1),m.tagName==="IMG"&&A(m,w)}catch(ye){throw console.error("[Snapdom] Failed to clone node:",m,ye),ye}if(m instanceof HTMLTextAreaElement){w.textContent=m.value,w.value=m.value;var E=m.getBoundingClientRect();return w.style.boxSizing="border-box",w.style.width="".concat(E.width,"px"),w.style.height="".concat(E.height,"px"),w}if(m instanceof HTMLInputElement&&(m.hasAttribute("value")&&(w.value=m.value,w.setAttribute("value",m.value)),m.checked!==void 0&&(w.checked=m.checked,m.checked&&w.setAttribute("checked",""),m.indeterminate&&(w.indeterminate=m.indeterminate))),m instanceof HTMLSelectElement&&(y=m.value),m.shadowRoot){var I=Array.from(m.shadowRoot.querySelectorAll("slot")).length>0;if(!I){var L=document.createDocumentFragment(),Z=u(m.shadowRoot.childNodes),ne;try{for(Z.s();!(ne=Z.n()).done;){var G=ne.value;if(!(G.nodeType===Node.ELEMENT_NODE&&G.tagName==="STYLE")){var le=g(G);le&&L.appendChild(le)}}}catch(ye){Z.e(ye)}finally{Z.f()}w.appendChild(L)}}if(m.tagName==="SLOT"){var V,me=((V=m.assignedNodes)===null||V===void 0?void 0:V.call(m,{flatten:!0}))||[],$=me.length>0?me:Array.from(m.childNodes),X=document.createDocumentFragment(),Ce=u($),M;try{for(Ce.s();!(M=Ce.n()).done;){var q=M.value,ie=g(q);ie&&X.appendChild(ie)}}catch(ye){Ce.e(ye)}finally{Ce.f()}return X}var J=u(m.childNodes),D;try{for(J.s();!(D=J.n()).done;){var ce=D.value;if(!x.has(ce)){var te=g(ce);te&&w.appendChild(te)}}}catch(ye){J.e(ye)}finally{J.f()}if(y!==null&&w instanceof HTMLSelectElement){w.value=y;var ge=u(w.options),pe;try{for(ge.s();!(pe=ge.n()).done;){var be=pe.value;be.value===y?be.setAttribute("selected",""):be.removeAttribute("selected")}}catch(ye){ge.e(ye)}finally{ge.f()}}var re=m.scrollLeft,de=m.scrollTop,Y=re||de;if(Y&&w instanceof HTMLElement){w.style.overflow="hidden",w.style.scrollbarWidth="none",w.style.msOverflowStyle="none";var Ae=document.createElement("div");for(Ae.style.transform="translate(".concat(-re,"px, ").concat(-de,"px)"),Ae.style.willChange="transform",Ae.style.display="inline-block",Ae.style.width="100%";w.firstChild;)Ae.appendChild(w.firstChild);w.appendChild(Ae)}return w}}),"./src/utils.js":(function(o,d,l){l.r(d),l.d(d,{createElement:function(){return A},objType:function(){return f},toPx:function(){return m},unitConvert:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.number.constructor.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=l("./node_modules/dompurify/dist/purify.es.mjs");function h(x){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},h(x)}var f=function(y){var b=h(y);return b==="undefined"?"undefined":b==="string"||y instanceof String?"string":b==="number"||y instanceof Number?"number":b==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":b==="object"?"object":"unknown"},A=function(y,b){var j=document.createElement(y);b.className&&(j.className=b.className),b.innerHTML&&(j.innerHTML=u.default.sanitize(b.innerHTML));for(var S in b.style)j.style[S]=b.style[S];return j},g=function(y,b){if(f(y)==="number")return y*72/96/b;var j={};for(var S in y)j[S]=y[S]*72/96/b;return j},m=function(y,b){return Math.floor(y*b/72*96)}}),"./src/worker.js":(function(o,d,l){l.r(d),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.map.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.promise.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/esnext.iterator.map.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/web.timers.js");var u=l("./node_modules/jspdf/dist/jspdf.es.min.js"),h=l("html2canvas"),f=l.n(h),A=l("./src/snapdom/clone.js"),g=l("./src/utils.js"),m=function x(y){var b=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),j=x.convert(Promise.resolve(),b);return j=j.setProgress(1,x,1,[x]),j=j.set(y),j};m.prototype=Object.create(Promise.prototype),m.prototype.constructor=m,m.convert=function(y,b){return y.__proto__=b||m.prototype,y},m.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},m.prototype.from=function(y,b){function j(S){switch((0,g.objType)(S)){case"string":return"string";case"element":return S.nodeName.toLowerCase&&S.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||j(y),b){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:y})});case"element":return this.set({src:y});case"canvas":return this.set({canvas:y});case"img":return this.set({img:y});default:return this.error("Unknown source type.")}})},m.prototype.to=function(y){switch(y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},m.prototype.toContainer=function(){var y=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var j={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},S={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};j.opacity=0;var w=(0,A.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:j}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(w),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(E){return setTimeout(E,10)})})},m.prototype.toCanvas=function(){var y=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(y).then(function(){var j=Object.assign({},this.opt.html2canvas);return delete j.onrendered,f()(this.prop.container,j)}).then(function(j){var S=this.opt.html2canvas.onrendered||function(){};S(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},m.prototype.toImg=function(){var y=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(y).then(function(){var j=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=j})},m.prototype.toPdf=function(){var y=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(y).then(function(){var j=this.prop.canvas,S=this.opt,w=j.height,E=Math.floor(j.width*this.prop.pageSize.inner.ratio),I=Math.ceil(w/E),L=this.prop.pageSize.inner.height,Z=document.createElement("canvas"),ne=Z.getContext("2d");Z.width=j.width,Z.height=E,this.prop.pdf=this.prop.pdf||new u.jsPDF(S.jsPDF);for(var G=0;G<I;G++){G===I-1&&w%E!==0&&(Z.height=w%E,L=Z.height*this.prop.pageSize.inner.width/Z.width);var le=Z.width,V=Z.height;ne.fillStyle="white",ne.fillRect(0,0,le,V),ne.drawImage(j,0,G*E,le,V,0,0,le,V),G&&this.prop.pdf.addPage();var me=Z.toDataURL("image/"+S.image.type,S.image.quality);this.prop.pdf.addImage(me,S.image.type,S.margin[1],S.margin[0],this.prop.pageSize.inner.width,L)}})},m.prototype.output=function(y,b,j){return j=j||"pdf",j.toLowerCase()==="img"||j.toLowerCase()==="image"?this.outputImg(y,b):this.outputPdf(y,b)},m.prototype.outputPdf=function(y,b){var j=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(j).then(function(){return this.prop.pdf.output(y,b)})},m.prototype.outputImg=function(y,b){var j=[function(){return this.prop.img||this.toImg()}];return this.thenList(j).then(function(){switch(y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+y+'" is not supported.'}})},m.prototype.save=function(y){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(y?{filename:y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},m.prototype.set=function(y){if((0,g.objType)(y)!=="object")return this;var b=Object.keys(y||{}).map(function(j){switch(j){case"margin":return this.setMargin.bind(this,y.margin);case"jsPDF":return function(){return this.opt.jsPDF=y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,y.pageSize);default:return j in m.template.prop?function(){this.prop[j]=y[j]}:function(){this.opt[j]=y[j]}}},this);return this.then(function(){return this.thenList(b)})},m.prototype.get=function(y,b){return this.then(function(){var S=y in m.template.prop?this.prop[y]:this.opt[y];return b?b(S):S})},m.prototype.setMargin=function(y){return this.then(function(){switch((0,g.objType)(y)){case"number":y=[y,y,y,y];case"array":if(y.length===2&&(y=[y[0],y[1],y[0],y[1]]),y.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=y}).then(this.setPageSize)},m.prototype.setPageSize=function(y){return this.then(function(){y=y||u.jsPDF.getPageSize(this.opt.jsPDF),y.hasOwnProperty("inner")||(y.inner={width:y.width-this.opt.margin[1]-this.opt.margin[3],height:y.height-this.opt.margin[0]-this.opt.margin[2]},y.inner.px={width:(0,g.toPx)(y.inner.width,y.k),height:(0,g.toPx)(y.inner.height,y.k)},y.inner.ratio=y.inner.height/y.inner.width),this.prop.pageSize=y})},m.prototype.setProgress=function(y,b,j,S){return y!=null&&(this.progress.val=y),b!=null&&(this.progress.state=b),j!=null&&(this.progress.n=j),S!=null&&(this.progress.stack=S),this.progress.ratio=this.progress.val/this.progress.state,this},m.prototype.updateProgress=function(y,b,j,S){return this.setProgress(y?this.progress.val+y:null,b||null,j?this.progress.n+j:null,S?this.progress.stack.concat(S):null)},m.prototype.then=function(y,b){var j=this;return this.thenCore(y,b,function(w,E){return j.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(L){return j.updateProgress(null,w),L}).then(w,E).then(function(L){return j.updateProgress(1),L})})},m.prototype.thenCore=function(y,b,j){j=j||Promise.prototype.then;var S=this;y&&(y=y.bind(S)),b&&(b=b.bind(S));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",E=w?S:m.convert(Object.assign({},S),Promise.prototype),I=j.call(E,y,b);return m.convert(I,S.__proto__)},m.prototype.thenExternal=function(y,b){return Promise.prototype.then.call(this,y,b)},m.prototype.thenList=function(y){var b=this;return y.forEach(function(S){b=b.thenCore(S)}),b},m.prototype.catch=function(x){x&&(x=x.bind(this));var y=Promise.prototype.catch.call(this,x);return m.convert(y,this)},m.prototype.catchExternal=function(y){return Promise.prototype.catch.call(this,y)},m.prototype.error=function(y){return this.then(function(){throw new Error(y)})},m.prototype.using=m.prototype.set,m.prototype.saveAs=m.prototype.save,m.prototype.export=m.prototype.output,m.prototype.run=m.prototype.then,d.default=m}),html2canvas:(function(o){o.exports=n})},s={};function i(o){var d=s[o];if(d!==void 0)return d.exports;if(a[o]===void 0){var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=s[o]={exports:{}};return a[o].call(u.exports,u,u.exports,i),u.exports}(function(){i.n=function(o){var d=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(d,{a:d}),d}})(),(function(){var o=Object.getPrototypeOf?function(l){return Object.getPrototypeOf(l)}:function(l){return l.__proto__},d;i.t=function(l,u){if(u&1&&(l=this(l)),u&8||typeof l=="object"&&l&&(u&4&&l.__esModule||u&16&&typeof l.then=="function"))return l;var h=Object.create(null);i.r(h);var f={};d=d||[null,o({}),o([]),o(o)];for(var A=u&2&&l;(typeof A=="object"||typeof A=="function")&&!~d.indexOf(A);A=o(A))Object.getOwnPropertyNames(A).forEach(function(g){f[g]=function(){return l[g]}});return f.default=function(){return l},i.d(h,f),h}})(),(function(){i.d=function(o,d){for(var l in d)i.o(d,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:d[l]})}})(),(function(){i.o=function(o,d){return Object.prototype.hasOwnProperty.call(o,d)}})(),(function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}})();var c={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/i.r(c);var o=i("./src/worker.js");i("./src/plugin/jspdf-plugin.js"),i("./src/plugin/pagebreaks.js"),i("./src/plugin/hyperlinks.js");var d=function l(u,h){var f=new l.Worker(h);return u?f.from(u).save():f};d.Worker=o.default,c.default=d})(),c=c.default,c})()})})(mC)),mC.exports}var Cse=wse();const Nse=Zs(Cse),Sse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a]=x4(),s=a.get("contractId"),[i,c]=C.useState(""),[o,d]=C.useState("All"),[l,u]=C.useState(!1),[h,f]=C.useState(!1),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(null),[j,S]=C.useState([]),[w,E]=C.useState([]),[I,L]=C.useState(!1),[Z,ne]=C.useState(null),[G,le]=C.useState(!1),[V,me]=C.useState(!1),[$,X]=C.useState({agreementNum:"",agreementID:"",contractNum:"",status:""}),Ce=()=>{me(!V)},M=C.useCallback(async()=>{try{const re=await hA.getAllContracts();E(re.map(de=>({id:de.id,contractID:de.contractID,contractNum:de.contractNum})))}catch(re){console.error("Failed to load contracts:",re)}},[]),q=C.useCallback(async()=>{try{L(!0),ne(null);const de=(await s1.getAllAgreements(s||void 0)).map(Y=>{const Ae=w.find(ye=>ye.id===Y.contractId);return{id:Y.id,agreementID:Y.agreementID,contractID:Y.contractId,contractNum:(Ae==null?void 0:Ae.contractNum)||"",agreementNum:Y.agreementNum,agreementDate:Y.agreementDate,status:Y.status}});S(de)}catch(re){console.error("Failed to load agreements:",re),ne(re.message||"Failed to load agreements")}finally{L(!1)}},[s,w]);C.useEffect(()=>{M()},[M]),C.useEffect(()=>{w.length>0&&q()},[w.length,q]);const ie=C.useMemo(()=>{const re=i.trim().toLowerCase(),de=$.agreementNum.trim().toLowerCase(),Y=$.agreementID.trim().toLowerCase(),Ae=$.contractNum.trim().toLowerCase(),ye=$.status.trim();return j.filter(Oe=>{const We=!re||Oe.agreementNum.toLowerCase().includes(re)||Oe.agreementID.toLowerCase().includes(re)||Oe.contractNum&&Oe.contractNum.toLowerCase().includes(re),ae=o==="All"||Oe.status===o,ke=!de||Oe.agreementNum.toLowerCase().includes(de),Fe=!Y||Oe.agreementID.toLowerCase().includes(Y),nt=!Ae||Oe.contractNum&&Oe.contractNum.toLowerCase().includes(Ae),tt=!ye||Oe.status===ye;return We&&ae&&ke&&Fe&&nt&&tt})},[j,i,o,$]),J=()=>{b(null),f(!0)},D=(re,de)=>{de.stopPropagation(),b(re),f(!0)},ce=async re=>{try{if(le(!0),ne(null),y)await s1.updateAgreement(y.id,{agreementNum:re.agreementNum,agreementDate:re.agreementDate,status:re.status});else{if(!re.contractID){alert("Please select a contract");return}await s1.createAgreement({contractId:re.contractID,agreementDate:re.agreementDate,status:re.status})}f(!1),b(null),await q()}catch(de){console.error("Failed to save agreement:",de),ne(de.message||"Failed to save agreement"),alert(de.message||"Failed to save agreement")}finally{le(!1)}},te=re=>{x(re),u(!0)},ge=({status:re})=>{const de=`status-badge status-badge--${re.toLowerCase()}`;return e.jsx("span",{className:de,role:"status","aria-label":`Status: ${re}`,children:re})},pe=({agreement:re})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:de=>D(re,de),title:"Edit Agreement","aria-label":`Edit agreement ${re.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--view",onClick:()=>te(re),title:"View Agreement","aria-label":`View agreement ${re.agreementNum}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),be=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar sidebar ${V?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!V&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),e.jsx("button",{className:"toggle-button",onClick:Ce,"aria-label":V?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:V?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:be.map(re=>e.jsx("li",{children:e.jsxs(Rr,{to:re.path,className:`nav-link ${re.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:re.icon}),!V&&e.jsx("span",{className:"nav-label",children:re.label})]})},re.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!V&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!V&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Agreement Management",subtitle:"Create, manage and track agreements"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon","aria-hidden":"true",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Agreement Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and track agreements, contracts and status"})]})]}),Z&&e.jsxs("div",{className:"ra-alert ra-alert--error",role:"alert",children:[e.jsx("span",{children:Z}),e.jsx("button",{onClick:()=>ne(null),className:"ra-alert-close","aria-label":"Close error message",children:""})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by agreement number, contract, agreement ID...",value:i,onChange:re=>c(re.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>g(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:J,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Agreement"]})]})]}),I&&!j.length&&e.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading agreements..."}),e.jsx("div",{className:"route-assignment-table-container",children:e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"AGREEMENT NUMBER"}),e.jsx("th",{children:"AGREEMENT ID"}),e.jsx("th",{children:"CONTRACT REFERENCE"}),e.jsx("th",{children:"AGREEMENT DATE"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:ie.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-message",children:I?"Loading...":"No agreement records found"})}):ie.map(re=>{const de=Y=>{if(!Y)return"-";const Ae=new Date(Y),ye=String(Ae.getDate()).padStart(2,"0"),Oe=String(Ae.getMonth()+1).padStart(2,"0"),We=Ae.getFullYear();return`${ye}/${Oe}/${We}`};return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"agreement-num-cell",children:re.agreementNum})}),e.jsx("td",{children:re.agreementID}),e.jsx("td",{children:re.contractNum?`${re.contractID} - ${re.contractNum}`:re.contractID}),e.jsx("td",{children:de(re.agreementDate)}),e.jsx("td",{children:e.jsx("div",{className:"ra-cell-center",children:e.jsx(ge,{status:re.status})})}),e.jsx("td",{onClick:Y=>Y.stopPropagation(),children:e.jsx("div",{className:"action-buttons ra-actions",children:e.jsx(pe,{agreement:re})})})]},re.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",ie.length," of ",j.length," items"]})]})]}),h&&e.jsx(Ese,{agreement:y,contracts:w,contractIdParam:s,saving:G,onClose:()=>{f(!1),b(null)},onSave:ce}),l&&m&&e.jsx(Bse,{agreement:m,contractNum:m.contractNum,onClose:()=>{u(!1),x(null)}}),A&&e.jsx(Ise,{statusFilter:o,advancedFilters:$,onClose:()=>g(!1),onClear:()=>{d("All"),X({agreementNum:"",agreementID:"",contractNum:"",status:""}),g(!1)},onApply:re=>{d(re.statusFilter),X(re.advancedFilters),g(!1)}})]})},Ese=({agreement:r,contracts:t,contractIdParam:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{contractID:n||"",agreementNum:"",agreementDate:new Date().toISOString().split("T")[0],status:"Draft"}),d=l=>{if(l.preventDefault(),!c.contractID||!c.agreementDate){alert("Please fill in all required fields");return}i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Agreement":"Add Agreement"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"agreement-form",onSubmit:d,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Agreement Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contract *"}),e.jsxs("select",{value:c.contractID||"",onChange:l=>o({...c,contractID:l.target.value}),required:!0,disabled:a||!!n||!!r,children:[e.jsx("option",{value:"",children:"Select Contract"}),t.map(l=>e.jsxs("option",{value:l.id,children:[l.contractID," - ",l.contractNum]},l.id))]})]}),r&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Number"}),e.jsx("input",{type:"text",value:c.agreementNum||"",onChange:l=>o({...c,agreementNum:l.target.value}),disabled:a,placeholder:"Auto-generated if empty"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement Date *"}),e.jsx("input",{type:"date",value:c.agreementDate||"",onChange:l=>o({...c,agreementDate:l.target.value}),required:!0,disabled:a})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c.status||"Draft",onChange:l=>o({...c,status:l.target.value}),disabled:a,children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a,children:[a?"Saving...":r?"Update":"Add"," Agreement"]})]})]})]})})},Bse=({agreement:r,contractNum:t,onClose:n})=>{const[a,s]=C.useState(!1),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(null),[m,x]=C.useState(!1),y=C.useRef(null);C.useEffect(()=>{const I=async()=>{try{d(!0);const Z=(await rA.getAllClauses(r.id)).map(ne=>({id:ne.id,pointNum:ne.pointNum,pointTitle:ne.pointTitle,pointText:ne.pointText,sequenceNo:ne.sequenceNo,status:ne.status})).sort((ne,G)=>ne.sequenceNo-G.sequenceNo);c(Z)}catch(L){console.error("Failed to load clauses:",L),c([])}finally{d(!1)}};r.id&&I()},[r.id]),C.useEffect(()=>{(async()=>{if(r.contractID)try{x(!0);const L=await hA.getContractById(r.contractID),[Z,ne]=await Promise.all([ia.getCompanyById(L.companyId),xi.getHcfById(L.hcfId)]);f(Z),g(ne)}catch(L){console.error("Failed to load party data:",L)}finally{x(!1)}})()},[r.contractID]);const b=()=>{window.print()},j=async()=>{if(!y.current){alert("Unable to generate PDF. Please try again.");return}try{u(!0);const I=y.current,L={margin:[10,10,10,10],filename:`${r.agreementNum}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await Nse().set(L).from(I).save()}catch(I){console.error("Failed to generate PDF:",I),alert("Failed to generate PDF. Please try again.")}finally{u(!1)}},S=I=>{const L=I.pointTitle.toLowerCase().includes("whereas"),Z=I.pointNum.toLowerCase().startsWith("w"),ne=I.pointNum.toLowerCase().startsWith("whereas");return L||Z||ne},w=I=>!!(I.pointNum&&I.pointNum.trim()!==""&&/^\d+$/.test(I.pointNum.trim())),E=I=>!S(I)&&!w(I);return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-content--view modal-content--large",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{className:"modal-title",children:["Agreement Preview - ",r.agreementNum]}),e.jsx("button",{className:"modal-close-btn",onClick:n,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"agreement-preview-controls",children:[e.jsxs("label",{className:"stamp-paper-toggle",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:I=>s(I.target.checked)}),e.jsx("span",{children:"Print on Stamp Paper"})]}),e.jsxs("div",{className:"preview-actions",children:[e.jsxs("button",{type:"button",className:"btn btn--secondary",onClick:b,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),e.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),e.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Print"]}),e.jsxs("button",{type:"button",className:"btn btn--primary",onClick:j,disabled:l,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),l?"Generating...":"Download PDF"]})]})]}),e.jsx("div",{ref:y,className:`agreement-document ${a?"stamp-paper-mode":""}`,children:o?e.jsx("div",{className:"loading-message",children:"Loading agreement clauses..."}):e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:"agreement-page agreement-page--stamp-paper",children:[e.jsx("div",{className:"stamp-paper-blank-space"}),e.jsxs("div",{className:"agreement-party-intro",children:[e.jsx("h2",{className:"party-intro-title",children:"THIS SERVICE AGREEMENT"}),e.jsxs("p",{className:"party-intro-subtitle",children:["is made on this ",e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"party-details",children:[e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"BETWEEN"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE FIRST PART"}),e.jsx("p",{className:"party-description",children:h?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:h.companyName}),', a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[Company Name], a company incorporated under the Companies Act, 2013, having its registered office at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]}),e.jsxs("div",{className:"party-section",children:[e.jsx("p",{className:"party-intro-text",children:e.jsx("strong",{children:"AND"})}),e.jsx("h3",{className:"party-name",children:"PARTY OF THE SECOND PART"}),e.jsx("p",{className:"party-description",children:A?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:A.hcfName}),", a healthcare facility located at ",A.serviceAddress||"[Address]",", represented by",A.agrSignAuthName?` ${A.agrSignAuthName}`:" [Authorized Person]",', hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']}):e.jsxs(e.Fragment,{children:['[HCF Name], a healthcare facility located at [Address], represented by [Authorized Person], hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'" (which expression shall, unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).']})})]})]})]})]}),e.jsxs("div",{className:"agreement-page",children:[e.jsxs("div",{className:"agreement-header-section",children:[e.jsx("h1",{className:"agreement-main-title",children:"SERVICE AGREEMENT"}),e.jsxs("div",{className:"agreement-meta",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Agreement No.:"})," ",r.agreementNum]}),t&&e.jsxs("p",{children:[e.jsx("strong",{children:"Contract Reference:"})," ",t]})]})]}),i.length>0&&S(i[0])&&e.jsx("div",{className:"agreement-section agreement-intro-section",children:e.jsxs("p",{className:"whereas-intro",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?e.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',A?e.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'"):']})}),(i.length===0||!S(i[0]))&&e.jsxs("div",{className:"agreement-section agreement-intro-section",children:[e.jsxs("p",{className:"intro-text",children:['This Service Agreement ("Agreement") is made on this ',e.jsx("strong",{children:new Date(r.agreementDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})," between ",h?e.jsx("strong",{children:h.companyName}):"[Company Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Service Provider"}),'") and ',A?e.jsx("strong",{children:A.hcfName}):"[HCF Name]",' (hereinafter referred to as the "',e.jsx("strong",{children:"Client"}),'").']}),i.length>0&&e.jsx("p",{className:"intro-continuation",children:"The parties agree as follows:"})]}),i.length>0&&(()=>{let I=0;return e.jsx("div",{className:"agreement-section agreement-clauses-section",children:i.map((L,Z)=>{const ne=S(L),G=w(L),le=E(L);ne&&I++;const V=Z>0?i[Z-1]:null,me=V&&S(V)&&!ne;return e.jsxs("div",{children:[me&&e.jsx("div",{className:"agreement-section agreement-now-therefore-section",children:e.jsxs("p",{className:"now-therefore-text",children:[e.jsx("strong",{children:"NOW THEREFORE"}),", in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:"]})}),ne?e.jsx("div",{className:"whereas-item",children:e.jsxs("p",{className:"whereas-text",children:[e.jsxs("strong",{children:["WHEREAS ",I===1?"":String.fromCharCode(64+I)+") "]}),L.pointText]})}):G?e.jsx("div",{className:"clause-item clause-item--numbered",children:e.jsxs("p",{className:"clause-text",children:[e.jsxs("strong",{children:[L.pointNum,"."]})," ",L.pointText]})}):le?e.jsx("div",{className:"clause-item clause-item--normal",children:e.jsx("p",{className:"clause-text",children:L.pointText})}):e.jsx("div",{className:"clause-item",children:e.jsx("p",{className:"clause-text",children:L.pointText})})]},L.id)})})})(),e.jsxs("div",{className:"agreement-section agreement-signature-section",children:[e.jsxs("div",{className:"signature-block",children:[e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE FIRST PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",h?h.companyName:"[Company Name]"]})]})]}),e.jsxs("div",{className:"signature-party",children:[e.jsx("p",{className:"signature-party-title",children:e.jsx("strong",{children:"PARTY OF THE SECOND PART"})}),e.jsxs("div",{className:"signature-space",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"signature-name",children:"Signature"}),e.jsx("p",{className:"signature-name",children:A&&A.agrSignAuthName||"[Name of Authorized Signatory]"}),e.jsx("p",{className:"signature-designation",children:A&&A.agrSignAuthDesignation||"[Designation]"}),e.jsxs("p",{className:"signature-designation",children:["For and on behalf of ",A?A.hcfName:"[HCF Name]"]})]})]})]}),e.jsxs("div",{className:"signature-date-place",children:[e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Date:"})," _______________________"]}),e.jsxs("p",{className:"date-place-text",children:[e.jsx("strong",{children:"Place:"})," _______________________"]})]}),e.jsxs("div",{className:"witness-section",children:[e.jsx("p",{className:"witness-title",children:e.jsx("strong",{children:"WITNESSES:"})}),e.jsxs("div",{className:"witness-block",children:[e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"1. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]}),e.jsxs("div",{className:"witness-item",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{className:"witness-name",children:"2. [Name of Witness]"}),e.jsx("p",{className:"witness-address",children:"[Address]"})]})]})]})]})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:n,children:"Back"})})]})})},Ise=({statusFilter:r,advancedFilters:t,onClose:n,onClear:a,onApply:s})=>{const[i,c]=C.useState(r),[o,d]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter agreements by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:n,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement Number"}),e.jsx("input",{type:"text",value:o.agreementNum,onChange:l=>d({...o,agreementNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter agreement number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement ID"}),e.jsx("input",{type:"text",value:o.agreementID,onChange:l=>d({...o,agreementID:l.target.value}),className:"ra-filter-input",placeholder:"Enter agreement ID"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Contract Number"}),e.jsx("input",{type:"text",value:o.contractNum,onChange:l=>d({...o,contractNum:l.target.value}),className:"ra-filter-input",placeholder:"Enter contract number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:i,onChange:l=>c(l.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Generated",children:"Generated"}),e.jsx("option",{value:"Signed",children:"Signed"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{c("All"),d({agreementNum:"",agreementID:"",contractNum:"",status:""}),a()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>s({statusFilter:i,advancedFilters:o}),children:"Apply Filters"})]})]})})},Tse=({clauses:r,searchQuery:t,statusFilter:n,advancedFilters:a})=>({filteredClauses:C.useMemo(()=>r.filter(i=>{const c=t.toLowerCase(),o=!t||i.agreementID.toLowerCase().includes(c)||i.pointNum.toLowerCase().includes(c)||i.pointTitle.toLowerCase().includes(c)||i.pointText.toLowerCase().includes(c),d=n==="All"||i.status===n,l=!a.agreementID||i.agreementID===a.agreementID,u=!a.pointNum||i.pointNum.toLowerCase().includes(a.pointNum.toLowerCase()),h=!a.pointTitle||i.pointTitle.toLowerCase().includes(a.pointTitle.toLowerCase()),f=!a.status||a.status==="All"||i.status===a.status;return o&&d&&l&&u&&h&&f}).sort((i,c)=>i.agreementID!==c.agreementID?i.agreementID.localeCompare(c.agreementID):i.sequenceNo-c.sequenceNo),[r,t,n,a])}),kse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState("All"),[o,d]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState(null),[A,g]=C.useState(!1),[m,x]=C.useState(null),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState({agreementID:"",pointNum:"",pointTitle:"",status:""}),I=()=>{S(!j)},[L,Z]=C.useState([]),[ne,G]=C.useState([]),le=C.useCallback(async()=>{try{g(!0),x(null);const pe=await s1.getAllAgreements();Z(pe.map(be=>({id:be.id,agreementID:be.agreementID,agreementNum:be.agreementNum,status:be.status})))}catch(pe){console.error("Failed to load agreements:",pe),x(pe.message||"Failed to load agreements")}finally{g(!1)}},[]),V=C.useCallback(async pe=>{var be;try{g(!0),x(null);const re=w.agreementID?(be=pe.find(ye=>ye.agreementID===w.agreementID))==null?void 0:be.id:void 0,de=i!=="All"?i:void 0,Ae=(await rA.getAllClauses(re,de)).map(ye=>{const Oe=pe.find(We=>We.id===ye.agreementId);return{id:ye.id,agreementClauseID:ye.agreementClauseID,agreementID:(Oe==null?void 0:Oe.agreementID)||ye.agreementId,pointNum:ye.pointNum,pointTitle:ye.pointTitle,pointText:ye.pointText,sequenceNo:ye.sequenceNo,status:ye.status}});Ae.sort((ye,Oe)=>ye.agreementID!==Oe.agreementID?ye.agreementID.localeCompare(Oe.agreementID):ye.sequenceNo-Oe.sequenceNo),G(Ae)}catch(re){console.error("Failed to load clauses:",re),x(re.message||"Failed to load clauses")}finally{g(!1)}},[i,w.agreementID]);C.useEffect(()=>{le()},[le]),C.useEffect(()=>{L.length>0&&V(L)},[L.length,i,w.agreementID,V]);const{filteredClauses:me}=Tse({clauses:ne,searchQuery:a,statusFilter:i,advancedFilters:w}),$=pe=>{const be=L.find(re=>re.agreementID===pe);return be||console.warn(`Agreement not found for agreementID: ${pe}. Available agreements:`,L.map(re=>re.agreementID)),(be==null?void 0:be.status)||null},X=pe=>$(pe.agreementID)==="Draft",Ce=pe=>{if(!X(pe)){alert("Clauses can only be edited when the agreement status is Draft.");return}f(pe),d(!0)},M=async pe=>{if(!X(pe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const re=[...ne.filter(Y=>Y.agreementID===pe.agreementID)].sort((Y,Ae)=>Y.sequenceNo-Ae.sequenceNo),de=re.findIndex(Y=>Y.id===pe.id);if(de>0){const Y=re[de-1];try{g(!0),x(null),await rA.reorderClause(pe.id,Y.sequenceNo),await rA.reorderClause(Y.id,pe.sequenceNo),await V(L)}catch(Ae){console.error("Failed to reorder clause:",Ae),x(Ae.message||"Failed to reorder clause"),alert(Ae.message||"Failed to reorder clause")}finally{g(!1)}}},q=async pe=>{if(!X(pe)){alert("Clauses can only be reordered when the agreement status is Draft.");return}const re=[...ne.filter(Y=>Y.agreementID===pe.agreementID)].sort((Y,Ae)=>Y.sequenceNo-Ae.sequenceNo),de=re.findIndex(Y=>Y.id===pe.id);if(de<re.length-1){const Y=re[de+1];try{g(!0),x(null),await rA.reorderClause(pe.id,Y.sequenceNo),await rA.reorderClause(Y.id,pe.sequenceNo),await V(L)}catch(Ae){console.error("Failed to reorder clause:",Ae),x(Ae.message||"Failed to reorder clause"),alert(Ae.message||"Failed to reorder clause")}finally{g(!1)}}},ie=async pe=>{try{if(b(!0),x(null),pe.pointNum&&pe.agreementID&&ne.find(re=>re.agreementID===pe.agreementID&&re.pointNum===pe.pointNum&&re.id!==(h==null?void 0:h.id)))throw new Error(`Point number ${pe.pointNum} already exists for this agreement.`);if(h)await rA.updateClause(h.id,{pointNum:pe.pointNum,pointTitle:pe.pointTitle,pointText:pe.pointText,sequenceNo:pe.sequenceNo});else{const be=ne.filter(de=>de.agreementID===pe.agreementID).reduce((de,Y)=>Math.max(de,Y.sequenceNo),0),re=L.find(de=>de.agreementID===pe.agreementID);if(!re)throw new Error("Agreement not found");await rA.createClause({agreementId:re.id,pointNum:pe.pointNum,pointTitle:pe.pointTitle,pointText:pe.pointText,sequenceNo:be+1})}d(!1),f(null),await V(L)}catch(be){console.error("Failed to save clause:",be),x(be.message||"Failed to save clause"),alert(be.message||"Failed to save clause")}finally{b(!1)}},J=({text:pe,maxLength:be=50})=>{const re=pe.length>be?`${pe.substring(0,be)}...`:pe,de=pe.length>be;return e.jsx("span",{className:"point-text-cell",title:de?pe:void 0,style:{cursor:de?"help":"default"},children:re})},D=({status:pe})=>{const be=`clause-status-badge clause-status-badge--${pe.toLowerCase()}`;return e.jsx("span",{className:be,role:"status","aria-label":`Status: ${pe}`,children:pe})},ce=({clause:pe})=>{const be=$(pe.agreementID),re=be==="Draft",Y=[...ne.filter(Fe=>Fe.agreementID===pe.agreementID)].sort((Fe,nt)=>Fe.sequenceNo-nt.sequenceNo),Ae=Y.findIndex(Fe=>Fe.id===pe.id),ye=re&&Ae>0,Oe=re&&Ae<Y.length-1,We=re?"Edit Clause":`Edit only available when agreement status is Draft. Current status: ${be||"Unknown"}`,ae=ye?"Move Up":re?"Already at the top":`Move Up only available when agreement status is Draft. Current status: ${be||"Unknown"}`,ke=Oe?"Move Down":re?"Already at the bottom":`Move Down only available when agreement status is Draft. Current status: ${be||"Unknown"}`;return e.jsxs("div",{className:"clause-action-buttons",style:{display:"flex",gap:"4px",alignItems:"center"},children:[e.jsx("button",{className:"action-btn action-btn--edit",onClick:()=>Ce(pe),title:We,"aria-label":`Edit clause ${pe.pointTitle}`,disabled:!re,type:"button",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"action-btn action-btn--up",onClick:()=>M(pe),disabled:!ye,title:ae,"aria-label":`Move clause ${pe.pointTitle} up`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"18 15 12 9 6 15"})})}),e.jsx("button",{className:"action-btn action-btn--down",onClick:()=>q(pe),disabled:!Oe,title:ke,"aria-label":`Move clause ${pe.pointTitle} down`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},te=()=>{f(null),d(!0)},ge=As(t,n.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${j?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!j&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:I,"aria-label":j?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ge.map(pe=>e.jsx("li",{children:e.jsxs(Rr,{to:pe.path,className:`nav-link ${pe.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:pe.icon}),!j&&e.jsx("span",{className:"nav-label",children:pe.label})]})},pe.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!j&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!j&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Agreement Clause Management",subtitle:"Manage agreement clauses and points"}),e.jsxs("div",{className:"route-assignment-page",children:[e.jsxs("div",{className:"ra-page-header",children:[e.jsx("div",{className:"ra-header-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsxs("div",{className:"ra-header-text",children:[e.jsx("h1",{className:"ra-page-title",children:"Agreement Clause Management"}),e.jsx("p",{className:"ra-page-subtitle",children:"Manage and organize agreement clauses and points"})]})]}),e.jsxs("div",{className:"ra-search-actions",children:[e.jsxs("div",{className:"ra-search-box",children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"ra-search-input",placeholder:"Search by agreement, point number, title...",value:a,onChange:pe=>s(pe.target.value)})]}),e.jsxs("div",{className:"ra-actions",children:[e.jsxs("button",{className:"ra-filter-btn",onClick:()=>u(!0),type:"button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Advanced Filter"]}),e.jsxs("button",{className:"ra-add-btn",onClick:te,type:"button",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Clause"]})]})]}),m&&e.jsxs("div",{className:"ra-alert ra-alert--error",children:[e.jsx("span",{children:m}),e.jsx("button",{className:"ra-alert-close",onClick:()=>x(null),children:""})]}),e.jsx("div",{className:"route-assignment-table-container",children:A?e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#64748b"},children:"Loading clauses..."}):me.length===0?e.jsxs("div",{style:{padding:"60px",textAlign:"center",color:"#94a3b8"},children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",style:{margin:"0 auto 16px",opacity:.5},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No clauses found for the selected filters"})]}):e.jsxs("table",{className:"route-assignment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agreement ID"}),e.jsx("th",{children:"Sequence"}),e.jsx("th",{children:"Point Number"}),e.jsx("th",{children:"Point Title"}),e.jsx("th",{children:"Point Text"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:me.map(pe=>{const be=L.find(re=>re.agreementID===pe.agreementID);return e.jsxs("tr",{children:[e.jsx("td",{className:"clause-agreement-cell",children:be?`${pe.agreementID} - ${be.agreementNum}`:pe.agreementID}),e.jsx("td",{className:"ra-cell-center",children:e.jsx("span",{className:"sequence-cell",children:pe.sequenceNo})}),e.jsx("td",{children:pe.pointNum}),e.jsx("td",{children:pe.pointTitle||"-"}),e.jsx("td",{children:e.jsx(J,{text:pe.pointText,maxLength:80})}),e.jsx("td",{children:e.jsx(D,{status:pe.status})}),e.jsx("td",{children:e.jsx(ce,{clause:pe})})]},pe.id)})})]})}),e.jsxs("div",{className:"route-assignment-pagination-info",children:["Showing ",me.length," of ",ne.length," items"]})]})]}),o&&e.jsx(_se,{clause:h,agreements:L,clauses:ne,saving:y,onClose:()=>{d(!1),f(null)},onSave:ie}),l&&e.jsx(Ose,{statusFilter:i,advancedFilters:w,agreements:L,onClose:()=>u(!1),onClear:()=>{c("All"),E({agreementID:"",pointNum:"",pointTitle:"",status:""}),u(!1)},onApply:pe=>{c(pe.statusFilter),E(pe.advancedFilters),u(!1)}})]})},_se=({clause:r,agreements:t,clauses:n,saving:a,onClose:s,onSave:i})=>{const[c,o]=C.useState(r||{agreementID:"",pointNum:"",pointTitle:"",pointText:"",sequenceNo:0,status:"Active"}),[d,l]=C.useState(null),u=(g,m)=>!g||!m?!0:n.find(y=>y.agreementID===m&&y.pointNum===g&&y.id!==(r==null?void 0:r.id))?(l(`Point number ${g} already exists for this agreement.`),!1):(l(null),!0),h=g=>{o({...c,pointNum:g}),c.agreementID&&u(g,c.agreementID)},f=g=>{o({...c,agreementID:g,pointNum:""}),l(null)},A=g=>{if(g.preventDefault(),!c.agreementID||!c.pointText||!c.pointNum){alert("Please fill in all required fields");return}u(c.pointNum,c.agreementID)&&i(c)};return e.jsx("div",{className:"modal-overlay",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:r?"Edit Agreement Clause":"Add Agreement Clause"}),e.jsx("button",{className:"modal-close-btn",onClick:s,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("form",{className:"clause-form",onSubmit:A,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"form-section-title",children:"Clause Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Agreement ID *"}),e.jsxs("select",{value:c.agreementID||"",onChange:g=>f(g.target.value),required:!0,disabled:!!r||a,children:[e.jsx("option",{value:"",children:"Select Agreement"}),t.map(g=>e.jsxs("option",{value:g.agreementID,children:[g.agreementID," - ",g.agreementNum]},g.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Point Number *"}),e.jsx("input",{type:"text",value:c.pointNum||"",onChange:g=>h(g.target.value),placeholder:"e.g., 1, 2, 3",required:!0,disabled:a}),d&&e.jsx("span",{className:"form-error",style:{color:"#dc2626",fontSize:"12px",marginTop:"4px",display:"block"},children:d}),e.jsx("p",{className:"form-help-text",style:{fontSize:"11px",color:"#64748b",marginTop:"4px"},children:"Must be unique per agreement"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Title"}),e.jsx("input",{type:"text",value:c.pointTitle||"",onChange:g=>o({...c,pointTitle:g.target.value}),disabled:a,placeholder:"Optional: For reference only (not printed in PDF)"})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{children:"Point Text *"}),e.jsx("textarea",{value:c.pointText||"",onChange:g=>o({...c,pointText:g.target.value}),required:!0,disabled:a,placeholder:"Enter the clause text...",rows:4})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:s,disabled:a,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn--primary",disabled:a||!!d,children:[a?"Saving...":r?"Update":"Add"," Clause"]})]})]})]})})},Ose=({statusFilter:r,advancedFilters:t,agreements:n,onClose:a,onClear:s,onApply:i})=>{const[c,o]=C.useState(r),[d,l]=C.useState(t);return e.jsx("div",{className:"modal-overlay ra-filter-modal-overlay",onClick:a,children:e.jsxs("div",{className:"modal-content ra-filter-modal",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"ra-filter-modal-header",children:[e.jsxs("div",{className:"ra-filter-modal-titlewrap",children:[e.jsx("div",{className:"ra-filter-icon","aria-hidden":"true",children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 3H2l8 9v7l4 2v-9l8-9z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"ra-filter-title",children:"Advanced Filters"}),e.jsx("div",{className:"ra-filter-subtitle",children:"Filter clauses by multiple criteria"})]})]}),e.jsx("button",{className:"ra-filter-close",onClick:a,"aria-label":"Close filters",children:""})]}),e.jsx("div",{className:"ra-filter-modal-body",children:e.jsxs("div",{className:"ra-filter-grid",children:[e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Agreement ID"}),e.jsxs("select",{value:d.agreementID,onChange:u=>l({...d,agreementID:u.target.value}),className:"ra-filter-select",children:[e.jsx("option",{value:"",children:"All Agreements"}),n.map(u=>e.jsxs("option",{value:u.agreementID,children:[u.agreementID," - ",u.agreementNum]},u.id))]})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Point Number"}),e.jsx("input",{type:"text",value:d.pointNum,onChange:u=>l({...d,pointNum:u.target.value}),className:"ra-filter-input",placeholder:"Enter point number"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Point Title"}),e.jsx("input",{type:"text",value:d.pointTitle,onChange:u=>l({...d,pointTitle:u.target.value}),className:"ra-filter-input",placeholder:"Enter point title"})]}),e.jsxs("div",{className:"ra-filter-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c,onChange:u=>o(u.target.value),className:"ra-filter-select",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"ra-filter-modal-footer",children:[e.jsx("button",{type:"button",className:"ra-link-btn",onClick:()=>{o("All"),l({agreementID:"",pointNum:"",pointTitle:"",status:""}),s()},children:"Clear Filters"}),e.jsx("button",{type:"button",className:"ra-btn ra-btn--primary ra-btn--sm",onClick:()=>i({statusFilter:c,advancedFilters:d}),children:"Apply Filters"})]})]})})},Fse=()=>{const{createUser:r,loading:t,user:n}=Wn(),[a,s]=C.useState({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0}),[i,c]=C.useState(null),[o,d]=C.useState(null),l=async h=>{h.preventDefault(),c(null),d(null);try{const f=await r({name:a.userName,email:a.mobileNumber+"@medi-waste.io",password:"TempPass123!",role:"staff"});c(`User ${f.name} created successfully!`),s({userName:"",mobileNumber:"",empCode:"",userRoleID:"",employmentType:"",webLogin:!1,mobileApp:!1,dlNum:"",aadhaar:"",pan:"",uan:"",pfNum:"",esiNum:"",grossSalary:"",contractorName:"",companyName:"",address:"",area:"",city:"",district:"",pincode:"",emergencyContact:"",status:!0})}catch(f){d(f.message||"Unable to create user")}},u=(h,f)=>{s(A=>({...A,[h]:f}))};return e.jsx("div",{className:"user-management-page",children:e.jsxs("div",{className:"user-management-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"User Management"}),e.jsx("p",{className:"page-subtitle",children:"Create and manage user accounts with complete information"})]}),e.jsxs("form",{className:"user-form",onSubmit:l,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userName",className:"form-label required",children:"User Name"}),e.jsx("input",{id:"userName",type:"text",className:"form-input",placeholder:"Enter user name",value:a.userName,onChange:h=>u("userName",h.target.value),required:!0,maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"mobileNumber",className:"form-label required",children:"Mobile Number"}),e.jsx("input",{id:"mobileNumber",type:"tel",className:"form-input",placeholder:"10-digit mobile number",value:a.mobileNumber,onChange:h=>u("mobileNumber",h.target.value.replace(/\D/g,"").slice(0,10)),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"empCode",className:"form-label required",children:"Employee Code"}),e.jsx("input",{id:"empCode",type:"text",className:"form-input",placeholder:"Enter employee code",value:a.empCode,onChange:h=>u("empCode",h.target.value),required:!0,maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userRoleID",className:"form-label required",children:"User Role"}),e.jsxs("select",{id:"userRoleID",className:"form-input",value:a.userRoleID,onChange:h=>u("userRoleID",h.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"viewer",children:"Viewer"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"employmentType",className:"form-label",children:"Employment Type"}),e.jsxs("select",{id:"employmentType",className:"form-input",value:a.employmentType,onChange:h=>u("employmentType",h.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Temporary",children:"Temporary"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Access Control"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.webLogin,onChange:h=>u("webLogin",h.target.checked)}),e.jsx("span",{children:"Web Login Access"})]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.mobileApp,onChange:h=>u("mobileApp",h.target.checked)}),e.jsx("span",{children:"Mobile App Access"})]})})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Identity Documents"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dlNum",className:"form-label",children:"Driving License Number"}),e.jsx("input",{id:"dlNum",type:"text",className:"form-input",placeholder:"Enter DL number",value:a.dlNum,onChange:h=>u("dlNum",h.target.value),maxLength:20})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"aadhaar",className:"form-label",children:"Aadhaar Number"}),e.jsx("input",{id:"aadhaar",type:"text",className:"form-input",placeholder:"12-digit Aadhaar",value:a.aadhaar,onChange:h=>u("aadhaar",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pan",className:"form-label",children:"PAN Number"}),e.jsx("input",{id:"pan",type:"text",className:"form-input",placeholder:"10-character PAN",value:a.pan,onChange:h=>u("pan",h.target.value.toUpperCase().slice(0,10)),maxLength:10})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Employment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"uan",className:"form-label",children:"UAN (Universal Account Number)"}),e.jsx("input",{id:"uan",type:"text",className:"form-input",placeholder:"12-digit UAN",value:a.uan,onChange:h=>u("uan",h.target.value.replace(/\D/g,"").slice(0,12)),maxLength:12})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pfNum",className:"form-label",children:"PF Number"}),e.jsx("input",{id:"pfNum",type:"text",className:"form-input",placeholder:"Enter PF number",value:a.pfNum,onChange:h=>u("pfNum",h.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"esiNum",className:"form-label",children:"ESI Number"}),e.jsx("input",{id:"esiNum",type:"text",className:"form-input",placeholder:"Enter ESI number",value:a.esiNum,onChange:h=>u("esiNum",h.target.value),maxLength:22})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"grossSalary",className:"form-label required",children:"Gross Salary"}),e.jsx("input",{id:"grossSalary",type:"number",className:"form-input",placeholder:"Enter gross salary",value:a.grossSalary,onChange:h=>u("grossSalary",h.target.value),required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contractorName",className:"form-label",children:"Contractor Name"}),e.jsx("input",{id:"contractorName",type:"text",className:"form-input",placeholder:"Enter contractor name",value:a.contractorName,onChange:h=>u("contractorName",h.target.value),maxLength:50})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),e.jsx("input",{id:"companyName",type:"text",className:"form-input",placeholder:"Enter company name",value:a.companyName,onChange:h=>u("companyName",h.target.value),maxLength:50})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),e.jsx("textarea",{id:"address",className:"form-input",placeholder:"Enter full address",value:a.address,onChange:h=>u("address",h.target.value),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",className:"form-label",children:"Area"}),e.jsx("input",{id:"area",type:"text",className:"form-input",placeholder:"Enter area",value:a.area,onChange:h=>u("area",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",className:"form-label",children:"City"}),e.jsx("input",{id:"city",type:"text",className:"form-input",placeholder:"Enter city",value:a.city,onChange:h=>u("city",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",className:"form-label",children:"District"}),e.jsx("input",{id:"district",type:"text",className:"form-input",placeholder:"Enter district",value:a.district,onChange:h=>u("district",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),e.jsx("input",{id:"pincode",type:"text",className:"form-input",placeholder:"6-digit pincode",value:a.pincode,onChange:h=>u("pincode",h.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",className:"form-label",children:"Emergency Contact"}),e.jsx("input",{id:"emergencyContact",type:"tel",className:"form-input",placeholder:"Emergency contact number",value:a.emergencyContact,onChange:h=>u("emergencyContact",h.target.value),maxLength:25})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h2",{className:"section-title",children:"Status"}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:a.status,onChange:h=>u("status",h.target.checked)}),e.jsx("span",{children:"Active Status"})]})})]}),o&&e.jsx("div",{className:"form-error",children:o}),i&&e.jsx("div",{className:"form-success",children:i}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:t,children:t?"Creating User...":"Create User"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset Form"})]})]})]})})},Nc=({children:r,navItems:t=[],pageTitle:n,pageSubtitle:a})=>{const{user:s,logout:i,permissions:c}=Wn(),o=un();Ma();const[d,l]=C.useState(!1),[u,h]=C.useState(!1),[f,A]=C.useState(!1);C.useEffect(()=>{const w=()=>{A(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const g=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:o.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:o.pathname==="/transaction"||o.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:o.pathname==="/finance"||o.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),active:o.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:o.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:o.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:o.pathname.startsWith("/report")}],x=(t.length>0?t:g).filter(w=>w.path==="/dashboard"?Qn(c,"dashboard"):w.path==="/transaction"||w.path.startsWith("/transaction")?Qn(c,"transaction"):w.path==="/finance"||w.path.startsWith("/finance")?Qn(c,"finance"):w.path==="/commercial-agreements"||w.path.startsWith("/commercial-agreements")?Qn(c,"commercial"):w.path==="/compliance-training"||w.path.startsWith("/compliance-training")?Qn(c,"compliance"):w.path==="/master"||w.path.startsWith("/master")?Qn(c,"master"):w.path==="/report"||w.path.startsWith("/report")?Qn(c,"report"):!0),y=Z1(Array.isArray(c)?c:[],o.pathname),b=[...x,...y.filter(w=>!x.some(E=>E.path===w.path))],j=()=>{l(!d)},S=()=>{h(!u)};return e.jsxs("div",{className:"app-layout",children:[f&&e.jsx("button",{className:"mobile-menu-toggle",onClick:S,"aria-label":"Toggle menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),f&&u&&e.jsx("div",{className:"mobile-overlay",onClick:S}),e.jsxs("aside",{className:`app-layout__sidebar ${d?"collapsed":""} ${f&&u?"open":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx("div",{className:"logo-container",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),!d&&e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"brand-title",children:"MEDI-WASTE"}),e.jsx("span",{className:"brand-subtitle",children:"Enterprise Platform"})]})]}),!f&&e.jsx("button",{className:"toggle-button",onClick:j,"aria-label":d?"Expand sidebar":"Collapse sidebar",type:"button",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:d?e.jsx("path",{d:"M9 18l6-6-6-6"}):e.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:b.map(w=>e.jsx("li",{children:e.jsxs(Rr,{to:w.path,className:`nav-link ${w.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:w.icon}),!d&&e.jsx("span",{className:"nav-label",children:w.label})]})},w.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs(Rr,{to:"/profile",className:"sidebar-profile-link",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!d&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:i,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!d&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"app-layout__content",children:[n&&e.jsx(xa,{title:n,subtitle:a}),r]})]})},Pse=({id:r,title:t,description:n,icon:a,path:s,parameters:i,indicators:c=[]})=>{const o=()=>{if(i.length===0)return"No parameters";const d=3,l=i.slice(0,d),u=i.length-d;let h=l.join("  ");return u>0&&(h+=` +${u} more`),h};return e.jsxs(Rr,{to:s,className:"report-card-modern","aria-label":`View ${t} report`,children:[e.jsxs("div",{className:"report-card-modern-header",children:[e.jsx("div",{className:"report-card-modern-icon",children:a}),e.jsxs("div",{className:"report-card-modern-title-section",children:[e.jsx("h3",{className:"report-card-modern-title",children:t}),c.length>0&&e.jsxs("div",{className:"report-card-modern-indicators",children:[c.includes("popular")&&e.jsx("span",{className:"indicator-icon",title:"Frequently used",children:""}),c.includes("scheduled")&&e.jsx("span",{className:"indicator-icon",title:"Scheduled",children:""}),c.includes("restricted")&&e.jsx("span",{className:"indicator-icon",title:"Restricted",children:""}),c.includes("beta")&&e.jsx("span",{className:"indicator-icon",title:"Beta",children:""})]})]})]}),e.jsxs("div",{className:"report-card-modern-body",children:[e.jsx("p",{className:"report-card-modern-description",children:n}),e.jsxs("div",{className:"report-card-modern-parameters",children:[e.jsx("span",{className:"parameters-label",children:"Params:"}),e.jsx("span",{className:"parameters-value",children:o()})]})]})]})},Dse=()=>{var M;const r=un(),[t,n]=C.useState(""),[a,s]=C.useState("All"),[i,c]=C.useState(!1),[o,d]=C.useState(!1),[l,u]=C.useState({reportType:"",ownership:"",favorites:!1}),[h,f]=C.useState(new Set),A=C.useRef(null),g=C.useRef(null),m=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),x=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),y=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),b=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 20h9"}),e.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),j=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polyline",{points:"23 4 23 10 17 10"}),e.jsx("polyline",{points:"1 20 1 14 7 14"}),e.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.13-3.36L23 10"}),e.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.13 3.36L1 14"})]}),S=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),e.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),e.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),e.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),w=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("polygon",{points:"1 6 8 3 16 6 23 3 23 18 16 21 8 18 1 21 1 6"}),e.jsx("line",{x1:"8",y1:"3",x2:"8",y2:"18"}),e.jsx("line",{x1:"16",y1:"6",x2:"16",y2:"21"})]}),E=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.29 7 12 12 20.71 7"}),e.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"12"})]}),I=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 22V6a2 2 0 0 1 2-2h6v18"}),e.jsx("path",{d:"M13 22V10a2 2 0 0 1 2-2h6v14"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"8"}),e.jsx("line",{x1:"7",y1:"12",x2:"7",y2:"12"}),e.jsx("line",{x1:"17",y1:"12",x2:"17",y2:"12"}),e.jsx("line",{x1:"17",y1:"16",x2:"17",y2:"16"})]}),L=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Z=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),ne=e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),G=[{id:"All",label:"All Reports",icon:m},{id:"BillingFinance",label:"Billing & Finance",icon:x,children:[{id:"BillingFinance-Invoices",label:"Invoices",icon:y},{id:"BillingFinance-Payments",label:"Payments",icon:x},{id:"BillingFinance-Revenue",label:"Revenue",icon:m},{id:"BillingFinance-Outstanding",label:"Outstanding",icon:m}]},{id:"ContractAgreement",label:"Contract & Agreement",icon:b,children:[{id:"ContractAgreement-Contracts",label:"Contracts",icon:y},{id:"ContractAgreement-Agreements",label:"Agreements",icon:y},{id:"ContractAgreement-Renewals",label:"Renewals",icon:j}]},{id:"OperationsLogistics",label:"Operations & Logistics",icon:S,children:[{id:"OperationsLogistics-Fleet",label:"Fleet",icon:S},{id:"OperationsLogistics-Routes",label:"Routes",icon:w},{id:"OperationsLogistics-Collection",label:"Collection",icon:E},{id:"OperationsLogistics-Barcode",label:"Barcode",icon:m}]},{id:"MasterData",label:"Master Data",icon:Z,children:[{id:"MasterData-Company",label:"Company",icon:I},{id:"MasterData-HCF",label:"HCF",icon:Z},{id:"MasterData-User",label:"User",icon:L},{id:"MasterData-Fleet",label:"Fleet",icon:S}]},{id:"ComplianceTraining",label:"Compliance & Training",icon:ne,children:[{id:"ComplianceTraining-Certificates",label:"Certificates",icon:ne},{id:"ComplianceTraining-Compliance",label:"Compliance",icon:ne}]}],V=[{id:"invoice-report",category:"BillingFinance",title:"Invoice Report",description:"Generate invoice reports with filters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice",parameters:["Company","HCF","Date Range","Status","Billing Type"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"payment-report",category:"BillingFinance",title:"Payment Report",description:"Track payments and receipts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),path:"/report/payment",parameters:["Company","Date Range","Payment Status","Payment Mode"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"revenue-report",category:"BillingFinance",title:"Revenue Analysis Report",description:"Analyze revenue by period and company",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),path:"/report/revenue",parameters:["Company","Date Range","Group By","HCF"],indicators:["popular"],reportType:"Analytics",ownership:"System",isFavorite:!0},{id:"outstanding-report",category:"BillingFinance",title:"Outstanding Amount Report",description:"View outstanding payments and aging analysis",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/outstanding",parameters:["Company","HCF","Date Range","Aging Period"],reportType:"Analytics",ownership:"Shared"},{id:"contract-report",category:"ContractAgreement",title:"Contract Report",description:"Generate contract reports with status and dates",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/contract",parameters:["Company","HCF","Status","Date Range","Billing Type"],indicators:["restricted"],reportType:"Transactional",ownership:"Shared"},{id:"agreement-report",category:"ContractAgreement",title:"Agreement Report",description:"View agreement documents and status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/agreement",parameters:["Company","Contract","Status","Date Range"],reportType:"Transactional",ownership:"My Reports"},{id:"contract-renewal-report",category:"ContractAgreement",title:"Contract Renewal Report",description:"Track contracts due for renewal",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),path:"/report/contract-renewal",parameters:["Company","Renewal Period","Days Before Expiry"],reportType:"Analytics",ownership:"Shared"},{id:"fleet-report",category:"OperationsLogistics",title:"Fleet Management Report",description:"Vehicle and fleet utilization reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet",parameters:["Company","Vehicle Type","Status","Compliance Status"],reportType:"Master",ownership:"System"},{id:"route-report",category:"OperationsLogistics",title:"Route Report",description:"Route performance and assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/report/route",parameters:["Company","Route Code","Status","HCF"],indicators:["beta"],reportType:"Master",ownership:"System"},{id:"barcode-report",category:"OperationsLogistics",title:"Barcode Usage Report",description:"Track barcode generation and usage",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"})]}),path:"/report/barcode",parameters:["Company","Status","Date Range","Assigned Entity"],reportType:"Transactional",ownership:"My Reports"},{id:"collection-report",category:"OperationsLogistics",title:"Waste Collection Report",description:"Daily/weekly/monthly collection reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/report/collection",parameters:["Company","HCF","Date Range","Route","Weight Range"],indicators:["popular"],reportType:"Transactional",ownership:"System",isFavorite:!0},{id:"company-report",category:"MasterData",title:"Company Master Report",description:"Company information and details report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/report/company",parameters:["Status","State","PCB Zone","GST Status"],reportType:"Master",ownership:"System"},{id:"hcf-report",category:"MasterData",title:"HCF Master Report",description:"Healthcare facility information report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/report/hcf",parameters:["Company","HCF Type","Status","State","District","Category"],reportType:"Master",ownership:"System"},{id:"user-report",category:"MasterData",title:"User Report",description:"User and role assignment reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/report/user",parameters:["Company","Role","Status","Employment Type","Department"],indicators:["restricted"],reportType:"Master",ownership:"Shared"},{id:"fleet-master-report",category:"MasterData",title:"Fleet Master Report",description:"Vehicle master data report",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]}),path:"/report/fleet-master",parameters:["Company","Vehicle Make","Status","Compliance Status","Owner Type"],reportType:"Master",ownership:"System"},{id:"training-certificate-report",category:"ComplianceTraining",title:"Training Certificate Report",description:"Staff training and certification reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),path:"/report/training-certificate",parameters:["Company","HCF","Training Date Range","Status","Staff Designation"],reportType:"Transactional",ownership:"Shared"},{id:"compliance-report",category:"ComplianceTraining",title:"Compliance Status Report",description:"Compliance tracking and status reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),path:"/report/compliance",parameters:["Company","HCF","Compliance Type","Status","Date Range"],reportType:"Analytics",ownership:"System"}].filter(q=>{const ie=q.title.toLowerCase().includes(t.toLowerCase())||q.description.toLowerCase().includes(t.toLowerCase())||q.parameters.some(ce=>ce.toLowerCase().includes(t.toLowerCase())),J=a==="All"||q.category===a||a.startsWith(q.category+"-"),D=(!l.reportType||q.reportType===l.reportType)&&(!l.ownership||q.ownership===l.ownership)&&(!l.favorites||h.has(q.id)||q.isFavorite);return ie&&J&&D});C.useEffect(()=>{const q=ie=>{A.current&&!A.current.contains(ie.target)&&c(!1),g.current&&!g.current.contains(ie.target)&&(ie.target.closest(".filters-toggle-btn")||d(!1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const me=()=>{if(a==="All")return"All Reports";const q=(J,D)=>{for(const ce of J){if(ce.id===D)return ce;if(ce.children){const te=q(ce.children,D);if(te)return te}}return null},ie=q(G,a);return(ie==null?void 0:ie.label)||"All Reports"},$=q=>{s(q),c(!1)},X=()=>{let q=0;return l.reportType&&q++,l.ownership&&q++,l.favorites&&q++,q},Ce=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname==="/transaction"||r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname==="/finance"||r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname==="/commercial-agreements"||r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("path",{d:"M9 15l2 2 4-4"})]}),active:r.pathname==="/compliance-training"||r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Masters",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:Ce,children:e.jsxs("div",{className:"reports-page",children:[e.jsx(xa,{title:"Reports",subtitle:"Generate and view system reports"}),o&&e.jsxs("div",{className:"filters-drawer-compact",ref:g,children:[e.jsxs("div",{className:"filters-drawer-header-compact",children:[e.jsx("h3",{children:"Filters"}),e.jsx("button",{className:"filters-drawer-close",onClick:()=>d(!1),"aria-label":"Close filters",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"filters-drawer-content-compact",children:[e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Report Type"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${l.reportType?"":"active"}`,onClick:()=>u({...l,reportType:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Transactional"?"active":""}`,onClick:()=>u({...l,reportType:"Transactional"}),children:"Transactional"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Master"?"active":""}`,onClick:()=>u({...l,reportType:"Master"}),children:"Master"}),e.jsx("button",{className:`segmented-btn ${l.reportType==="Analytics"?"active":""}`,onClick:()=>u({...l,reportType:"Analytics"}),children:"Analytics"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Ownership"}),e.jsxs("div",{className:"filter-segmented-buttons",children:[e.jsx("button",{className:`segmented-btn ${l.ownership?"":"active"}`,onClick:()=>u({...l,ownership:""}),children:"All"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="My Reports"?"active":""}`,onClick:()=>u({...l,ownership:"My Reports"}),children:"My Reports"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="Shared"?"active":""}`,onClick:()=>u({...l,ownership:"Shared"}),children:"Shared"}),e.jsx("button",{className:`segmented-btn ${l.ownership==="System"?"active":""}`,onClick:()=>u({...l,ownership:"System"}),children:"System"})]})]}),e.jsxs("div",{className:"filter-section-compact",children:[e.jsx("label",{className:"filter-section-label",children:"Favorites"}),e.jsxs("div",{className:"filter-toggle-wrapper",children:[e.jsx("button",{className:`filter-toggle-btn ${l.favorites?"active":""}`,onClick:()=>u({...l,favorites:!l.favorites}),"aria-pressed":l.favorites,children:e.jsx("span",{className:"filter-toggle-slider"})}),e.jsx("span",{className:"filter-toggle-label",children:l.favorites?"Show favorites only":"Show all reports"})]})]}),X()>0&&e.jsx("div",{className:"filters-drawer-actions-compact",children:e.jsx("button",{className:"filter-clear-btn-compact",onClick:()=>u({reportType:"",ownership:"",favorites:!1}),children:"Clear All"})})]})]}),e.jsxs("div",{className:"reports-content-wrapper",children:[e.jsx("div",{className:"reports-title-section",children:e.jsx("h1",{className:"reports-title",children:"Reports"})}),e.jsxs("div",{className:"reports-search-section",children:[e.jsxs("div",{className:"reports-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"reports-search-input",placeholder:"Search reports...",value:t,onChange:q=>n(q.target.value),"aria-label":"Search reports"})]}),e.jsxs("div",{className:"category-popover-wrapper",ref:A,children:[e.jsxs("button",{className:"category-popover-toggle",onClick:()=>c(!i),"aria-expanded":i,children:[e.jsx("span",{className:"category-icon",children:((M=G.find(q=>q.id===a))==null?void 0:M.icon)||m}),e.jsx("span",{className:"category-label",children:me()}),e.jsx("svg",{className:"category-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),i&&e.jsx("div",{className:"category-popover",children:G.map(q=>e.jsxs("div",{className:"category-group",children:[e.jsxs("button",{className:`category-item ${a===q.id?"active":""}`,onClick:()=>!q.children&&$(q.id),children:[e.jsx("span",{className:"category-item-icon",children:q.icon}),e.jsx("span",{className:"category-item-label",children:q.label}),q.children&&e.jsx("svg",{className:"category-expand-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),q.children&&e.jsx("div",{className:"category-children",children:q.children.map(ie=>e.jsxs("button",{className:`category-item category-child ${a===ie.id?"active":""}`,onClick:()=>$(ie.id),children:[e.jsx("span",{className:"category-item-icon",children:ie.icon}),e.jsx("span",{className:"category-item-label",children:ie.label})]},ie.id))})]},q.id))})]}),e.jsxs("button",{className:"filters-toggle-btn",onClick:()=>d(!o),"aria-expanded":o,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),e.jsx("span",{children:"Filters"}),X()>0&&e.jsx("span",{className:"filter-count-badge",children:X()})]}),e.jsxs("span",{className:"results-count-inline",children:[V.length," report",V.length!==1?"s":""]})]}),e.jsx("div",{className:"reports-grid-container",children:e.jsxs("div",{className:"reports-grid",children:[V.map(q=>e.jsx(Pse,{id:q.id,title:q.title,description:q.description,icon:q.icon,path:q.path,parameters:q.parameters,indicators:q.indicators},q.id)),V.length===0&&e.jsxs("div",{className:"reports-empty-state",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("h3",{children:"No reports found"}),e.jsx("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})})},Mse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=As(t,n.pathname),u=[{id:"invoice-generation",title:"Invoice Generation & Printing",description:"Generate and print invoices for services",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/invoice"},{id:"unbilled-services",title:"Unbilled Services Report",description:"View services that are yet to be billed",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/invoice"},{id:"outstanding-payments",title:"Outstanding Payments Report",description:"Track outstanding payment amounts",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/billing-finance/outstanding-payments"},{id:"pending-payments",title:"Pending Payments Report (Period & Executive-Wise)",description:"View pending payments by period and executive",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/payment"},{id:"cost-revenue-analysis",title:"Cost & Revenue Analysis Report",description:"Analyze costs and revenue trends",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/revenue"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Rr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Billing & Finance Reports",subtitle:"Manage your billing and finance reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Billing & Finance Reports"}),e.jsx("p",{className:"master-subtitle",children:"Manage your billing and finance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Rr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Rse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=As(t,n.pathname),u=[{id:"route-trip-sheet",title:"Route Trip Sheet / Trip Manifest",description:"View route trip sheets and trip manifests",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/operations-logistics/route-trip-sheet"},{id:"waste-collection-transactions",title:"Waste Collection Transactions",description:"Track waste collection transaction details",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/waste-collection-transactions"},{id:"missed-collection",title:"Missed Collection Report",description:"View reports of missed waste collections",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/missed-collection"},{id:"pcb-zone-waste-generation",title:"PCB Zone-Wise Waste Generation Report",description:"Analyze waste generation by PCB zones",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/operations-logistics/pcb-zone-waste-generation"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Rr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Operations & Logistics",subtitle:"Manage your operations and logistics reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"Operations & Logistics"}),e.jsx("p",{className:"master-subtitle",children:"Manage your operations and logistics reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Rr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Lse=()=>{const{logout:r,permissions:t}=Wn(),n=un(),[a,s]=C.useState(""),[i,c]=C.useState(!1),o=()=>{c(!i)},d=As(t,n.pathname),u=[{id:"hcf-service-history",title:"HCF Service History Report",description:"View complete service history for Healthcare Facilities",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),path:"/report/hcf-compliance/service-history"},{id:"hcf-status-report",title:"Active / Inactive HCF Status Report",description:"Monitor active and inactive Healthcare Facility status",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/status-report"},{id:"agreements-renewal",title:"Agreements Due for Renewal (Current Month)",description:"Track agreements that need renewal this month",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/agreements-renewal"},{id:"training-certification",title:"Training & Certification Records",description:"Manage training and certification documentation",icon:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),path:"/report/hcf-compliance/training-certification"}].filter(h=>h.title.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!i&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:o,"aria-label":i?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:d.map(h=>e.jsx("li",{children:e.jsxs(Rr,{to:h.path,className:`nav-link ${h.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:h.icon}),!i&&e.jsx("span",{className:"nav-label",children:h.label})]})},h.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${n.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),!i&&e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:r,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!i&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"HCF & Compliance",subtitle:"Manage your HCF and compliance reports"}),e.jsxs("div",{className:"master-page",children:[e.jsx("div",{className:"master-header",children:e.jsxs("div",{className:"master-title-section",children:[e.jsx("h1",{className:"master-title",children:"HCF & Compliance"}),e.jsx("p",{className:"master-subtitle",children:"Manage your HCF and compliance reports"})]})}),e.jsx("div",{className:"master-search-section",children:e.jsxs("div",{className:"master-search-box",children:[e.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"master-search-input",placeholder:"Search",value:a,onChange:h=>s(h.target.value)})]})}),e.jsx("div",{className:"master-grid",children:u.map(h=>e.jsxs(Rr,{to:h.path,className:"master-card",children:[e.jsx("div",{className:"master-card-icon",children:h.icon}),e.jsx("h3",{className:"master-card-title",children:h.title}),e.jsx("p",{className:"master-card-description",children:h.description})]},h.id))})]})]})]})},Use=()=>{const[r,t]=C.useState({page:1,pageSize:25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[n,a]=C.useState({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),s=C.useCallback((f,A)=>{t(g=>({...g,[f]:A}))},[]),i=C.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=C.useCallback(()=>{t(f=>({...f,invoiceFromDate:n.invoiceFromDate||"",invoiceToDate:n.invoiceToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All",page:1}))},[n]),o=C.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"};t(f),a({invoiceFromDate:"",invoiceToDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},[r.pageSize]),d=C.useCallback((f,A)=>{t(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),l=C.useCallback(f=>{t(A=>({...A,searchText:f,page:1}))},[]),u=C.useCallback(()=>{var f;return!!(r.invoiceFromDate||r.invoiceToDate||r.companyId||r.hcfId||r.status&&r.status!=="All"||r.billingType&&r.billingType!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),h=C.useCallback(()=>{var A;const f={page:r.page||1,pageSize:r.pageSize||25,sortBy:r.sortBy||"invoiceDate",sortOrder:r.sortOrder||"DESC"};return r.invoiceFromDate&&(f.invoiceFromDate=r.invoiceFromDate),r.invoiceToDate&&(f.invoiceToDate=r.invoiceToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.status&&r.status!=="All"&&(f.status=r.status),r.billingType&&r.billingType!=="All"&&(f.billingType=r.billingType),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:s,updatePendingFilter:i,applyFilters:c,clearFilters:o,updatePagination:d,updateSearchText:l,hasFiltersApplied:u,buildApiFilters:h}},gC=()=>{const r=un();Ma();const{filters:t,pendingFilters:n,updatePendingFilter:a,applyFilters:s,clearFilters:i,updatePagination:c,updateSearchText:o,hasFiltersApplied:d,buildApiFilters:l}=Use(),[u,h]=C.useState(!1),f=t.searchText||"",[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState([]),[j,S]=C.useState([]),[w,E]=C.useState(!1),[I,L]=C.useState(!1),[Z,ne]=C.useState(null),G=t.page||1,le=t.pageSize||25,V=C.useRef(null),me=C.useRef(null),[$,X]=C.useState(null),[Ce,M]=C.useState(!1),q=C.useRef(null),[ie,J]=C.useState({totalInvoices:0,totalAmount:0,paidAmount:0,balanceAmount:0});C.useEffect(()=>{const Le=lt=>{if(Ce&&q.current&&!q.current.contains(lt.target)){const $t=document.querySelector(".export-dropdown-menu");$t&&!$t.contains(lt.target)&&M(!1)}};return document.addEventListener("mousedown",Le),()=>{document.removeEventListener("mousedown",Le)}},[Ce]),C.useEffect(()=>{(async()=>{try{const[lt,$t]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);g(lt),x($t)}catch(lt){console.error("Error loading master data:",lt)}})()},[]);const D=t.companyId?m.filter(Le=>Le.companyId===t.companyId):m,ce=()=>{if(!d())return"No filters applied. Select a date range or search to view invoices.";const Le=[];if(t.invoiceFromDate&&t.invoiceToDate){const lt=new Date(t.invoiceFromDate),$t=new Date(t.invoiceToDate),Ue=new Date,yt=Ue.getMonth(),Tt=Ue.getFullYear();if(lt.getMonth()===yt&&lt.getFullYear()===Tt&&$t.getMonth()===yt&&$t.getFullYear()===Tt)Le.push("Current Month");else{const Zt=lt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Mr=$t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Le.push(`${Zt} - ${Mr}`)}}else if(t.invoiceFromDate||t.invoiceToDate){if(t.invoiceFromDate){const lt=new Date(t.invoiceFromDate);Le.push(`From ${lt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(t.invoiceToDate){const lt=new Date(t.invoiceToDate);Le.push(`To ${lt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(t.companyId){const lt=A.find($t=>$t.id===t.companyId);Le.push(lt?lt.companyName:"Selected Company")}else Le.push("All Companies");if(t.hcfId){const lt=D.find($t=>$t.id===t.hcfId);Le.push(lt?lt.hcfName:"Selected HCF")}else Le.push("All HCFs");return t.status&&t.status!=="All"?Le.push(t.status):Le.push("All Status"),`Showing invoices for: ${Le.join("  ")}`},te=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Partially Paid",label:"Partially Paid"},{value:"Paid",label:"Paid"},{value:"Cancelled",label:"Cancelled"}],ge=[{value:"All",label:"All Types"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],pe=Le=>{S(Le),be(Le)};C.useEffect(()=>{var Le;!I&&!w&&!((Le=t.searchText)!=null&&Le.trim())&&!d()&&de()},[]),C.useEffect(()=>{var lt;if(w||!I&&!((lt=t.searchText)!=null&&lt.trim())&&!d())return;const Le=setTimeout(()=>{w||de()},500);return()=>clearTimeout(Le)},[t.searchText,t.invoiceFromDate,t.invoiceToDate,t.companyId,t.hcfId,t.status,t.billingType,t.page,t.pageSize]);const be=Le=>{const lt=Le.length,$t=Le.reduce((Tt,Zt)=>Tt+(Zt.invoiceValue||0),0),Ue=Le.reduce((Tt,Zt)=>Tt+(Zt.totalPaidAmount||0),0),yt=Le.reduce((Tt,Zt)=>Tt+(Zt.balanceAmount||0),0);J({totalInvoices:lt,totalAmount:$t,paidAmount:Ue,balanceAmount:yt})},re=async()=>{var lt,$t;s(),h(!1);const Le={page:1,pageSize:t.pageSize||25,sortBy:t.sortBy||"invoiceDate",sortOrder:t.sortOrder||"DESC"};n.invoiceFromDate&&(Le.invoiceFromDate=n.invoiceFromDate),n.invoiceToDate&&(Le.invoiceToDate=n.invoiceToDate),n.companyId&&(Le.companyId=n.companyId),n.hcfId&&(Le.hcfId=n.hcfId),n.status&&n.status!=="All"&&(Le.status=n.status),n.billingType&&n.billingType!=="All"&&(Le.billingType=n.billingType),(lt=t.searchText)!=null&&lt.trim()&&(Le.searchText=t.searchText.trim()),E(!0),ne(null);try{const Ue=await a1(Le);if(!Ue||!Ue.data||!Array.isArray(Ue.data))throw console.error("Invalid response structure:",Ue),new Error("Invalid response format from server");if(!Ue.meta)throw console.error("Missing meta in response:",Ue),new Error("Missing pagination metadata in response");let yt=(Ue.data||[]).map(_t=>({id:_t.invoiceId,invoiceNumber:_t.invoiceNumber,invoiceDate:_t.invoiceDate,dueDate:_t.dueDate,companyId:_t.companyId,companyName:_t.companyName,hcfId:_t.hcfId,hcfName:_t.hcfName,hcfCode:_t.hcfCode,billingType:_t.billingType,invoiceValue:_t.invoiceValue,totalPaidAmount:_t.totalPaidAmount,balanceAmount:_t.balanceAmount,status:_t.status}));b(yt),pe(yt),L(!0);const Tt=yt.reduce((_t,Vt)=>_t+(Vt.invoiceValue||0),0),Zt=yt.reduce((_t,Vt)=>_t+(Vt.totalPaidAmount||0),0),Mr=yt.reduce((_t,Vt)=>_t+(Vt.balanceAmount||0),0);J({totalInvoices:(($t=Ue.meta)==null?void 0:$t.totalRecords)||0,totalAmount:Tt,paidAmount:Zt,balanceAmount:Mr})}catch(Ue){console.error("Error applying filters:",Ue),ne(Ue.message||"Failed to apply filters")}finally{E(!1)}},de=async()=>{var Le,lt,$t,Ue,yt;E(!0),ne(null);try{const Tt=l(),Zt=await a1(Tt);if(Tt.searchText&&Zt.data.length===0&&((Le=Zt==null?void 0:Zt.meta)==null?void 0:Le.state)==="HAS_RESULTS"&&((lt=Zt==null?void 0:Zt.meta)==null?void 0:lt.totalRecords)===0)try{const Ge={...Tt};delete Ge.searchText,Ge.page=1,Ge.pageSize=100;let Ft=[],Lt=1;const Dr=5;for(;Lt<=Dr;){Ge.page=Lt;const Or=await a1(Ge);if(Or!=null&&Or.data&&Or.data.length>0){if(Ft=Ft.concat(Or.data),Or.data.length<Ge.pageSize)break;Lt++}else break}if(Ft.length>0){const Or=Tt.searchText.toLowerCase().trim(),Kr=Ft.filter(Hr=>{const Bn=(Hr.invoiceNumber||"").toLowerCase(),Wr=(Hr.companyName||"").toLowerCase(),Qr=(Hr.hcfCode||"").toLowerCase(),vn=(Hr.status||"").toLowerCase();return Bn.includes(Or)||Wr.includes(Or)||Qr.includes(Or)||vn.includes(Or)||Hr.invoiceValue&&Hr.invoiceValue.toString().includes(Or)});Kr.length>0&&(Zt.data=Kr,Zt.meta&&(Zt.meta.totalRecords=Kr.length,Zt.meta.dataCount=Kr.length,Zt.meta.state=Kr.length>0?"HAS_RESULTS":"NO_RESULTS",Zt.meta.totalPages=Math.ceil(Kr.length/(Tt.pageSize||25))))}}catch(Ge){console.error("Client-side fallback failed:",Ge)}if(!Zt||!Zt.data||!Array.isArray(Zt.data))throw console.error("Invalid response structure:",Zt),new Error("Invalid response format from server");if(!Zt.meta)throw console.error("Missing meta in response:",Zt),new Error("Missing pagination metadata in response");const _t=(Zt.data||[]).map(Ge=>({invoiceId:Ge.invoiceId,companyId:Ge.companyId,hcfId:Ge.hcfId,invoiceNumber:Ge.invoiceNumber,invoiceDate:Ge.invoiceDate,dueDate:Ge.dueDate,billingType:Ge.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Ge.invoiceValue,totalPaidAmount:Ge.totalPaidAmount,balanceAmount:Ge.balanceAmount,status:Ge.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Ge.companyName,companyCode:Ge.companyCode,hcfName:Ge.hcfName,hcfCode:Ge.hcfCode}))||[];b(()=>_t),S(()=>_t),L(()=>!0),Zt.meta&&!f.trim()?c(Zt.meta.page):Zt.meta&&f.trim()&&c(G===1?1:Zt.meta.page);const Vt=Zt.data||[],mr=Vt.reduce((Ge,Ft)=>Ge+(Ft.invoiceValue||0),0),Qe=Vt.reduce((Ge,Ft)=>Ge+(Ft.totalPaidAmount||0),0),Bt=Vt.reduce((Ge,Ft)=>Ge+(Ft.balanceAmount||0),0);J({totalInvoices:(($t=Zt.meta)==null?void 0:$t.totalRecords)||0,totalAmount:mr,paidAmount:Qe,balanceAmount:Bt}),h(!1),setTimeout(()=>{var Ge;(Ge=V.current)==null||Ge.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(Tt){console.error("Error generating report:",Tt),ne(Tt.message||"Failed to generate report"),((Ue=Tt.message)!=null&&Ue.includes("Invalid response")||(yt=Tt.message)!=null&&yt.includes("Missing"))&&(b([]),S([]),L(!1)),console.error("Report error:",Tt)}finally{E(!1)}},Y=async()=>{i(),h(!1),await de()},Ae=Le=>Le==null?"0.00":`${Le.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ye=Le=>Le?new Date(Le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Oe=Le=>{switch(Le){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":case"Unpaid":return"status-badge status-badge--unpaid";case"Draft":return"status-badge status-badge--draft";case"Cancelled":case"Overdue":return"status-badge status-badge--overdue";default:return"status-badge status-badge--unpaid"}},We=I&&ie.totalInvoices>0?Math.ceil(ie.totalInvoices/le):0,ae=(G-1)*le,ke=ae+((j==null?void 0:j.length)||0),Fe=j||[],nt=async Le=>{if(j.length===0){alert("No data to export");return}alert(`Exporting ${j.length} invoices as ${Le.toUpperCase()}`)},tt=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs(Nc,{navItems:tt,children:[e.jsx(xa,{title:"Invoice Generation & Printing Report",subtitle:ce()}),e.jsx("div",{className:"invoice-report-page",children:e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${w?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Status...",value:f,onChange:Le=>o(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&!w&&(Le.preventDefault(),de())},disabled:w}),f&&!w&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{o(""),(I||d())&&await de()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"action-buttons-group",children:[e.jsxs("button",{type:"button",ref:me,className:`btn btn-filters-toggle ${u?"active":""} ${w?"loading":""}`,onClick:()=>{if(!w){if(M(!1),u||(a("companyId",t.companyId||""),a("hcfId",t.hcfId||""),a("status",t.status||"All"),a("billingType",t.billingType||"All"),a("invoiceFromDate",t.invoiceFromDate||""),a("invoiceToDate",t.invoiceToDate||"")),me.current){const Le=me.current.getBoundingClientRect();X({top:Le.bottom+8,left:Le.left})}h(!u)}},disabled:w,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[t.companyId,t.hcfId,t.status&&t.status!=="All"?t.status:"",t.billingType&&t.billingType!=="All"?t.billingType:"",t.invoiceFromDate,t.invoiceToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[t.companyId,t.hcfId,t.status&&t.status!=="All"?t.status:"",t.billingType&&t.billingType!=="All"?t.billingType:"",t.invoiceFromDate,t.invoiceToDate].filter(Boolean).length})]}),e.jsxs("div",{className:"export-dropdown-wrapper",children:[e.jsxs("button",{type:"button",ref:q,className:`btn btn-export ${Ce?"active":""}`,onClick:()=>{h(!1),M(!Ce)},disabled:w||j.length===0,title:"Export",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export",e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-arrow",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),Ce&&e.jsxs("div",{className:"export-dropdown-menu",children:[e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{nt("pdf"),M(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"PDF"]}),e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{nt("excel"),M(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Excel"]}),e.jsxs("button",{type:"button",className:"export-option",onClick:()=>{nt("csv"),M(!1)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"CSV"]})]})]})]})]}),u&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{h(!1),X(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Le=>Le.stopPropagation(),style:$?{position:"fixed",top:`${$.top}px`,left:`${$.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{a("companyId",""),a("hcfId",""),a("invoiceFromDate",""),a("invoiceToDate",""),a("status","All"),a("billingType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>h(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:n.invoiceFromDate||"",onChange:Le=>a("invoiceFromDate",Le.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:n.invoiceToDate||"",onChange:Le=>a("invoiceToDate",Le.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:n.companyId||"",onChange:Le=>{a("companyId",Le.target.value),a("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),A.map(Le=>e.jsxs("option",{value:Le.id,children:[Le.companyCode," - ",Le.companyName]},Le.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:n.hcfId||"",onChange:Le=>a("hcfId",Le.target.value),disabled:!n.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(n.companyId?m.filter(Le=>Le.companyId===n.companyId):m).map(Le=>e.jsxs("option",{value:Le.id,children:[Le.hcfCode," - ",Le.hcfName]},Le.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:n.status||"All",onChange:Le=>a("status",Le.target.value),children:te.map(Le=>e.jsx("option",{value:Le.value,children:Le.label},Le.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:n.billingType||"All",onChange:Le=>a("billingType",Le.target.value),children:ge.map(Le=>e.jsx("option",{value:Le.value,children:Le.label},Le.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await re(),h(!1)},disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:V,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"INVOICE NO"}),e.jsx("th",{children:"COMPANY"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"INVOICE DATE"}),e.jsx("th",{children:"BILLING TYPE"}),e.jsx("th",{className:"text-right",children:"INVOICE AMOUNT"}),e.jsx("th",{className:"text-right",children:"PAID AMOUNT"}),e.jsx("th",{className:"text-right",children:"BALANCE"}),e.jsx("th",{className:"text-center",children:"STATUS"})]})}),e.jsx("tbody",{className:"table-body",children:w?Array.from({length:5}).map((Le,lt)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${lt}`)):I?Fe.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:f.trim()?`No invoices match "${f.trim()}". Try adjusting your search or filters.`:d()?"No invoices match the current filters. Try adjusting your filter criteria.":"No invoices available. Use the search bar or apply filters to view reports."}),(d()||f.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:Y,children:"Clear Filters"})})]})})}):Fe.map((Le,lt)=>e.jsxs("tr",{className:lt%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Le.invoiceNumber}),e.jsx("td",{children:Le.companyName||"N/A"}),e.jsx("td",{children:Le.hcfCode||"N/A"}),e.jsx("td",{children:ye(Le.invoiceDate)}),e.jsx("td",{children:Le.billingType}),e.jsx("td",{className:"text-right",children:Ae(Le.invoiceValue)}),e.jsx("td",{className:"text-right",children:Ae(Le.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:Ae(Le.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:Oe(Le.status),children:Le.status})})]},Le.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No invoices found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view invoice reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:I&&j.length>0?`Showing ${ae+1} to ${ke} of ${ie.totalInvoices} items`:"Showing 0 to 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:le,disabled:!I||j.length===0,onChange:async Le=>{c(1,Number(Le.target.value)),I&&await de()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.max(1,G-1);c(Le),I&&await de()},disabled:G===1||!I||j.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Le=[];let $t=Math.max(1,G-Math.floor(2.5)),Ue=Math.min(We,$t+5-1);Ue-$t<4&&($t=Math.max(1,Ue-5+1)),$t>1&&(Le.push(1),$t>2&&Le.push("..."));for(let yt=$t;yt<=Ue;yt++)Le.push(yt);return Ue<We&&(Ue<We-1&&Le.push("..."),Le.push(We)),Le.map((yt,Tt)=>{if(yt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Tt}`);const Zt=yt;return e.jsx("button",{className:`pagination-page-btn ${G===Zt?"active":""}`,onClick:async()=>{c(Zt),I&&await de()},disabled:!I||j.length===0,children:Zt},Zt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Le=Math.min(We,G+1);c(Le),I&&await de()},disabled:G===We||We===0||!I||j.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})})]})},Hse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalContracts:0});C.useEffect(()=>{(async()=>{try{const[Y,Ae]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(Y),f(Ae)}catch(Y){console.error("Error loading master data:",Y)}})()},[]);const $=n.companyId?h.filter(de=>de.companyId===n.companyId):h,X=()=>{var de;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||n.billingType&&n.billingType!=="All"||(de=n.searchText)!=null&&de.trim())},Ce=()=>{if(!X())return"No filters applied. Select a date range or search to view contracts.";const de=[];if(n.fromDate&&n.toDate){const Y=new Date(n.fromDate),Ae=new Date(n.toDate),ye=Y.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Oe=Ae.toLocaleDateString("en-US",{month:"short",day:"numeric"});de.push(`Date: ${ye}${Oe}`)}if(n.companyId){const Y=l.find(Ae=>Ae.id===n.companyId);Y&&de.push(`Company: ${Y.companyName}`)}if(n.hcfId){const Y=$.find(Ae=>Ae.id===n.hcfId);Y&&de.push(`HCF: ${Y.hcfCode}`)}return n.status&&n.status!=="All"&&de.push(`Status: ${n.status}`),de.join("  ")},M=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"}],q=[{value:"All",label:"All Types"},{value:"Bed",label:"Bed"},{value:"Kg",label:"Kg"},{value:"Lumpsum",label:"Lumpsum"}],ie=async()=>{var de;b(!0),E(null);try{const Y={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0};let Ae=await hA.getAllContracts(Y.companyId,Y.status);if(n.hcfId&&(Ae=Ae.filter(ae=>ae.hcfId===n.hcfId)),n.fromDate){const ae=new Date(n.fromDate);Ae=Ae.filter(ke=>new Date(ke.startDate)>=ae)}if(n.toDate){const ae=new Date(n.toDate);ae.setHours(23,59,59,999),Ae=Ae.filter(ke=>new Date(ke.startDate)<=ae)}if(n.billingType&&n.billingType!=="All"&&(Ae=Ae.filter(ae=>ae.billingType===n.billingType)),(de=n.searchText)!=null&&de.trim()){const ae=n.searchText.toLowerCase().trim();Ae=Ae.filter(ke=>{const Fe=(ke.contractNum||"").toLowerCase(),nt=l.find($t=>$t.id===ke.companyId),tt=((nt==null?void 0:nt.companyName)||"").toLowerCase(),Le=h.find($t=>$t.id===ke.hcfId),lt=((Le==null?void 0:Le.hcfCode)||"").toLowerCase();return Fe.includes(ae)||tt.includes(ae)||lt.includes(ae)})}Ae.sort((ae,ke)=>{const Fe=ae[n.sortBy]||"",nt=ke[n.sortBy]||"";return n.sortOrder==="ASC"?Fe>nt?1:-1:Fe<nt?1:-1});const ye=(I-1)*L,Oe=ye+L,We=Ae.slice(ye,Oe);g(Ae),x(We),S(!0),me({totalContracts:Ae.length})}catch(Y){console.error("Error loading contracts:",Y),E(Y.message||"Failed to load contract data"),g([]),x([])}finally{b(!1)}},J=async()=>{a(de=>({...de,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",billingType:s.billingType||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All",searchText:"",sortBy:"startDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const de=setTimeout(()=>{ie()},500);return()=>clearTimeout(de)}},[n,l]);const ce=de=>de?new Date(de).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=de=>{switch(de){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ge=j&&V.totalContracts>0?Math.ceil(V.totalContracts/L):0,pe=(I-1)*L,be=Math.min(pe+m.length,V.totalContracts),re=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:re,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:d,onChange:de=>a(Y=>({...Y,searchText:de.target.value,page:1})),onKeyDown:de=>{de.key==="Enter"&&!y&&(de.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(de=>({...de,searchText:"",page:1})),(j||X())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All",billingType:n.billingType||"All"}),ne.current){const de=ne.current.getBoundingClientRect();le({top:de.bottom+8,left:de.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:"",n.billingType&&n.billingType!=="All"?n.billingType:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:de=>de.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",status:"All",billingType:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:de=>i(Y=>({...Y,fromDate:de.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:de=>i(Y=>({...Y,toDate:de.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:de=>{i(Y=>({...Y,companyId:de.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(de=>e.jsxs("option",{value:de.id,children:[de.companyCode," - ",de.companyName]},de.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:de=>i(Y=>({...Y,hcfId:de.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(de=>de.companyId===s.companyId):h).map(de=>e.jsxs("option",{value:de.id,children:[de.hcfCode," - ",de.hcfName]},de.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:de=>i(Y=>({...Y,status:de.target.value})),children:M.map(de=>e.jsx("option",{value:de.value,children:de.label},de.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Billing Type"}),e.jsx("select",{className:"filter-modal-select",value:s.billingType||"All",onChange:de=>i(Y=>({...Y,billingType:de.target.value})),children:q.map(de=>e.jsx("option",{value:de.value,children:de.label},de.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await J(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((de,Y)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Y}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No contracts match "${d.trim()}". Try adjusting your search or filters.`:X()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((de,Y)=>{var Ae,ye;return e.jsxs("tr",{className:Y%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:de.contractNum}),e.jsx("td",{children:((Ae=l.find(Oe=>Oe.id===de.companyId))==null?void 0:Ae.companyName)||"N/A"}),e.jsx("td",{children:((ye=h.find(Oe=>Oe.id===de.hcfId))==null?void 0:ye.hcfCode)||"N/A"}),e.jsx("td",{children:ce(de.startDate)}),e.jsx("td",{children:ce(de.endDate)}),e.jsx("td",{children:de.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(de.status),children:de.status})})]},de.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${pe+1}-${be} of ${V.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async de=>{a(Y=>({...Y,page:1,pageSize:Number(de.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.max(1,I-1);a(Y=>({...Y,page:de}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const de=[];let Ae=Math.max(1,I-Math.floor(2.5)),ye=Math.min(ge,Ae+5-1);ye-Ae<4&&(Ae=Math.max(1,ye-5+1)),Ae>1&&(de.push(1),Ae>2&&de.push("..."));for(let Oe=Ae;Oe<=ye;Oe++)de.push(Oe);return ye<ge&&(ye<ge-1&&de.push("..."),de.push(ge)),de.map((Oe,We)=>{if(Oe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const ae=Oe;return e.jsx("button",{className:`pagination-page-btn ${I===ae?"active":""}`,onClick:async()=>{a(ke=>({...ke,page:ae}))},disabled:!j||m.length===0,children:ae},ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.min(ge,I+1);a(Y=>({...Y,page:de}))},disabled:I===ge||ge===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Qse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalHcfs:0});C.useEffect(()=>{(async()=>{try{const pe=await ia.getAllCompanies();u(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const V=()=>{var ge;return!!(n.companyId||n.hcfType&&n.hcfType!=="All"||n.status&&n.status!=="All"||n.stateCode||n.district||n.category||(ge=n.searchText)!=null&&ge.trim())},me=()=>{if(!V())return"No filters applied. View all healthcare facilities.";const ge=[];if(n.companyId){const pe=l.find(be=>be.id===n.companyId);pe&&ge.push(`Company: ${pe.companyName}`)}return n.hcfType&&n.hcfType!=="All"&&ge.push(`Type: ${n.hcfType}`),n.status&&n.status!=="All"&&ge.push(`Status: ${n.status}`),n.stateCode&&ge.push(`State: ${n.stateCode}`),n.district&&ge.push(`District: ${n.district}`),n.category&&ge.push(`Category: ${n.category}`),ge.join("  ")},$=[{value:"All",label:"All Types"},{value:"Hospital",label:"Hospital"},{value:"Clinic",label:"Clinic"},{value:"Laboratory",label:"Laboratory"}],X=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],Ce=async()=>{var ge;x(!0),S(null);try{let pe=await xi.getAllHcfs();if(n.companyId&&(pe=pe.filter(Y=>Y.companyId===n.companyId)),n.hcfType&&n.hcfType!=="All"&&(pe=pe.filter(Y=>Y.hcfTypeCode===n.hcfType)),n.status&&n.status!=="All"&&(pe=pe.filter(Y=>Y.status===n.status)),n.stateCode&&(pe=pe.filter(Y=>Y.stateCode===n.stateCode)),n.district){const Y=n.district.toLowerCase().trim();pe=pe.filter(Ae=>Ae.district&&Ae.district.toLowerCase().includes(Y))}if(n.category){const Y=n.category.toLowerCase().trim();pe=pe.filter(Ae=>Ae.category&&Ae.category.toLowerCase().includes(Y))}if((ge=n.searchText)!=null&&ge.trim()){const Y=n.searchText.toLowerCase().trim();pe=pe.filter(Ae=>{const ye=(Ae.hcfCode||"").toLowerCase(),Oe=(Ae.hcfName||"").toLowerCase(),We=(Ae.hcfShortName||"").toLowerCase(),ae=l.find(tt=>tt.id===Ae.companyId),ke=((ae==null?void 0:ae.companyName)||"").toLowerCase(),Fe=(Ae.district||"").toLowerCase(),nt=(Ae.category||"").toLowerCase();return ye.includes(Y)||Oe.includes(Y)||We.includes(Y)||ke.includes(Y)||Fe.includes(Y)||nt.includes(Y)||Ae.pincode&&Ae.pincode.includes(Y)||Ae.gstin&&Ae.gstin.toLowerCase().includes(Y)})}pe.sort((Y,Ae)=>{const ye=Y[n.sortBy]||"",Oe=Ae[n.sortBy]||"";return n.sortOrder==="ASC"?ye>Oe?1:-1:ye<Oe?1:-1});const be=(w-1)*E,re=be+E,de=pe.slice(be,re);f(pe),g(de),b(!0),le({totalHcfs:pe.length})}catch(pe){console.error("Error loading HCFs:",pe),S(pe.message||"Failed to load HCF data"),f([]),g([])}finally{x(!1)}},M=async()=>{a(ge=>({...ge,companyId:s.companyId||"",hcfType:s.hcfType||"All",status:s.status||"All",stateCode:s.stateCode||"",district:s.district||"",category:s.category||"",page:1})),o(!1),await Ce()},q=async()=>{a({page:1,pageSize:25,companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:"",searchText:"",sortBy:"hcfCode",sortOrder:"ASC"}),i({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""}),o(!1),await Ce()};C.useEffect(()=>{if(l.length>0||!n.companyId){const ge=setTimeout(()=>{Ce()},500);return()=>clearTimeout(ge)}},[n,l]);const ie=ge=>{switch(ge){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},J=y&&G.totalHcfs>0?Math.ceil(G.totalHcfs/E):0,D=(w-1)*E,ce=Math.min(D+A.length,G.totalHcfs),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"HCF Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"HCF Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by HCF Code, HCF Name, Company, District, Category, Pincode, GSTIN",value:d,onChange:ge=>a(pe=>({...pe,searchText:ge.target.value,page:1})),onKeyDown:ge=>{ge.key==="Enter"&&!m&&(ge.preventDefault(),Ce())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ge=>({...ge,searchText:"",page:1})),(y||V())&&await Ce()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({companyId:n.companyId||"",hcfType:n.hcfType||"All",status:n.status||"All",stateCode:n.stateCode||"",district:n.district||"",category:n.category||""}),L.current){const ge=L.current.getBoundingClientRect();ne({top:ge.bottom+8,left:ge.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfType&&n.hcfType!=="All"?n.hcfType:"",n.status&&n.status!=="All"?n.status:"",n.stateCode,n.district,n.category].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ge=>ge.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfType:"All",status:"All",stateCode:"",district:"",category:""})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ge=>i(pe=>({...pe,companyId:ge.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ge=>e.jsxs("option",{value:ge.id,children:[ge.companyCode," - ",ge.companyName]},ge.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Type"}),e.jsx("select",{className:"filter-modal-select",value:s.hcfType||"All",onChange:ge=>i(pe=>({...pe,hcfType:ge.target.value})),children:$.map(ge=>e.jsx("option",{value:ge.value,children:ge.label},ge.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ge=>i(pe=>({...pe,status:ge.target.value})),children:X.map(ge=>e.jsx("option",{value:ge.value,children:ge.label},ge.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"State Code"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.stateCode||"",onChange:ge=>i(pe=>({...pe,stateCode:ge.target.value})),placeholder:"Enter state code"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"District"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.district||"",onChange:ge=>i(pe=>({...pe,district:ge.target.value})),placeholder:"Enter district name"})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Category"}),e.jsx("input",{type:"text",className:"filter-modal-input",value:s.category||"",onChange:ge=>i(pe=>({...pe,category:ge.target.value})),placeholder:"Enter category"})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await M(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),j&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:j}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF Type"}),e.jsx("th",{children:"District"}),e.jsx("th",{children:"State"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Pincode"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ge,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No HCFs match "${d.trim()}". Try adjusting your search or filters.`:V()?"No HCFs match the current filters. Try adjusting your filter criteria.":"No HCFs available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:q,children:"Clear Filters"})})]})})}):A.map((ge,pe)=>{var be;return e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ge.hcfCode}),e.jsx("td",{children:ge.hcfName}),e.jsx("td",{children:((be=l.find(re=>re.id===ge.companyId))==null?void 0:be.companyName)||"N/A"}),e.jsx("td",{children:ge.hcfTypeCode||"N/A"}),e.jsx("td",{children:ge.district||"N/A"}),e.jsx("td",{children:ge.stateCode||"N/A"}),e.jsx("td",{children:ge.category||"N/A"}),e.jsx("td",{children:ge.pincode||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ie(ge.status),children:ge.status})})]},ge.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No HCFs found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view HCF master reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${D+1}-${ce} of ${G.totalHcfs} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ge=>{a(pe=>({...pe,page:1,pageSize:Number(ge.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ge=Math.max(1,w-1);a(pe=>({...pe,page:ge}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ge=[];let be=Math.max(1,w-Math.floor(2.5)),re=Math.min(J,be+5-1);re-be<4&&(be=Math.max(1,re-5+1)),be>1&&(ge.push(1),be>2&&ge.push("..."));for(let de=be;de<=re;de++)ge.push(de);return re<J&&(re<J-1&&ge.push("..."),ge.push(J)),ge.map((de,Y)=>{if(de==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Y}`);const Ae=de;return e.jsx("button",{className:`pagination-page-btn ${w===Ae?"active":""}`,onClick:async()=>{a(ye=>({...ye,page:Ae}))},disabled:!y||A.length===0,children:Ae},Ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ge=Math.min(J,w+1);a(pe=>({...pe,page:ge}))},disabled:w===J||J===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Wse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),[s,i]=C.useState({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalCertificates:0});C.useEffect(()=>{(async()=>{try{const[de,Y]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(de),f(Y)}catch(de){console.error("Error loading master data:",de)}})()},[]);const $=n.companyId?h.filter(re=>re.companyId===n.companyId):h,X=()=>{var re;return!!(n.trainingFromDate||n.trainingToDate||n.companyId||n.hcfId||n.status&&n.status!=="All"||(re=n.searchText)!=null&&re.trim())},Ce=()=>{if(!X())return"No filters applied. Select a date range or search to view training certificates.";const re=[];if(n.trainingFromDate&&n.trainingToDate){const de=new Date(n.trainingFromDate),Y=new Date(n.trainingToDate),Ae=de.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ye=Y.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${Ae}${ye}`)}if(n.companyId){const de=l.find(Y=>Y.id===n.companyId);de&&re.push(`Company: ${de.companyName}`)}if(n.hcfId){const de=$.find(Y=>Y.id===n.hcfId);de&&re.push(`HCF: ${de.hcfCode}`)}return n.status&&n.status!=="All"&&re.push(`Status: ${n.status}`),re.join("  ")},M=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],q=async()=>{var re;b(!0),E(null);try{const de={companyId:n.companyId||void 0,hcfId:n.hcfId||void 0,status:n.status!=="All"?n.status:void 0,dateFrom:n.trainingFromDate||void 0,dateTo:n.trainingToDate||void 0};let Y=await Iv.getAllCertificates(de.companyId,!1,de);if((re=n.searchText)!=null&&re.trim()){const We=n.searchText.toLowerCase().trim();Y=Y.filter(ae=>{const ke=(ae.certificateNo||"").toLowerCase(),Fe=(ae.staffName||"").toLowerCase(),nt=(ae.staffCode||"").toLowerCase(),tt=l.find(Ue=>Ue.id===ae.companyId),Le=((tt==null?void 0:tt.companyName)||"").toLowerCase(),lt=h.find(Ue=>Ue.id===ae.hcfId),$t=((lt==null?void 0:lt.hcfCode)||"").toLowerCase();return ke.includes(We)||Fe.includes(We)||nt.includes(We)||Le.includes(We)||$t.includes(We)})}Y.sort((We,ae)=>{const ke=We[n.sortBy]||"",Fe=ae[n.sortBy]||"";return n.sortOrder==="ASC"?ke>Fe?1:-1:ke<Fe?1:-1});const Ae=(I-1)*L,ye=Ae+L,Oe=Y.slice(Ae,ye);g(Y),x(Oe),S(!0),me({totalCertificates:Y.length})}catch(de){console.error("Error loading training certificates:",de),E(de.message||"Failed to load training certificate data"),g([]),x([])}finally{b(!1)}},ie=async()=>{a(re=>({...re,trainingFromDate:s.trainingFromDate||"",trainingToDate:s.trainingToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",status:s.status||"All",page:1})),o(!1),await q()},J=async()=>{a({page:1,pageSize:25,trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All",searchText:"",sortBy:"trainingDate",sortOrder:"DESC"}),i({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"}),o(!1),await q()};C.useEffect(()=>{if(l.length>0||!n.companyId){const re=setTimeout(()=>{q()},500);return()=>clearTimeout(re)}},[n,l]);const D=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ce=re=>{switch(re){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},te=j&&V.totalCertificates>0?Math.ceil(V.totalCertificates/L):0,ge=(I-1)*L,pe=Math.min(ge+m.length,V.totalCertificates),be=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:be,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Training Certificate"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Training Certificate Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Certificate No, Staff Name, Staff Code, Company, HCF",value:d,onChange:re=>a(de=>({...de,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!y&&(re.preventDefault(),q())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(j||X())&&await q()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({trainingFromDate:n.trainingFromDate||"",trainingToDate:n.trainingToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",status:n.status||"All"}),ne.current){const re=ne.current.getBoundingClientRect();le({top:re.bottom+8,left:re.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.trainingFromDate,n.trainingToDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({trainingFromDate:"",trainingToDate:"",companyId:"",hcfId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Training Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingFromDate||"",onChange:re=>i(de=>({...de,trainingFromDate:re.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.trainingToDate||"",onChange:re=>i(de=>({...de,trainingToDate:re.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:re=>{i(de=>({...de,companyId:re.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(re=>e.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:re=>i(de=>({...de,hcfId:re.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(re=>re.companyId===s.companyId):h).map(re=>e.jsxs("option",{value:re.id,children:[re.hcfCode," - ",re.hcfName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:re=>i(de=>({...de,status:re.target.value})),children:M.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Certificate No"}),e.jsx("th",{children:"Staff Name"}),e.jsx("th",{children:"Staff Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Training Date"}),e.jsx("th",{children:"Trained By"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((re,de)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${de}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No certificates match "${d.trim()}". Try adjusting your search or filters.`:X()?"No certificates match the current filters. Try adjusting your filter criteria.":"No training certificates available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:J,children:"Clear Filters"})})]})})}):m.map((re,de)=>{var Y,Ae;return e.jsxs("tr",{className:de%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.certificateNo}),e.jsx("td",{children:re.staffName}),e.jsx("td",{children:re.staffCode}),e.jsx("td",{children:((Y=l.find(ye=>ye.id===re.companyId))==null?void 0:Y.companyName)||"N/A"}),e.jsx("td",{children:((Ae=h.find(ye=>ye.id===re.hcfId))==null?void 0:Ae.hcfCode)||"N/A"}),e.jsx("td",{children:D(re.trainingDate)}),e.jsx("td",{children:re.trainedBy}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ce(re.status),children:re.status})})]},re.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No training certificates found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view training certificate reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${ge+1}-${pe} of ${V.totalCertificates} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async re=>{a(de=>({...de,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(de=>({...de,page:re}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Y=Math.max(1,I-Math.floor(2.5)),Ae=Math.min(te,Y+5-1);Ae-Y<4&&(Y=Math.max(1,Ae-5+1)),Y>1&&(re.push(1),Y>2&&re.push("..."));for(let ye=Y;ye<=Ae;ye++)re.push(ye);return Ae<te&&(Ae<te-1&&re.push("..."),re.push(te)),re.map((ye,Oe)=>{if(ye==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Oe}`);const We=ye;return e.jsx("button",{className:`pagination-page-btn ${I===We?"active":""}`,onClick:async()=>{a(ae=>({...ae,page:We}))},disabled:!j||m.length===0,children:We},We)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(te,I+1);a(de=>({...de,page:re}))},disabled:I===te||te===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},_k=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),[s,i]=C.useState({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalPayments:0,totalAmount:0});C.useEffect(()=>{(async()=>{try{const re=await ia.getAllCompanies();u(re)}catch(re){console.error("Error loading master data:",re)}})()},[]);const V=()=>{var be;return!!(n.paymentFromDate||n.paymentToDate||n.companyId||n.status&&n.status!=="All"||n.paymentMode&&n.paymentMode!=="All"||(be=n.searchText)!=null&&be.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view payments.";const be=[];if(n.paymentFromDate&&n.paymentToDate){const re=new Date(n.paymentFromDate),de=new Date(n.paymentToDate),Y=re.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ae=de.toLocaleDateString("en-US",{month:"short",day:"numeric"});be.push(`Date: ${Y}${Ae}`)}if(n.companyId){const re=l.find(de=>de.id===n.companyId);re&&be.push(`Company: ${re.companyName}`)}return n.status&&n.status!=="All"&&be.push(`Status: ${n.status}`),n.paymentMode&&n.paymentMode!=="All"&&be.push(`Mode: ${n.paymentMode}`),be.join("  ")},$=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],X=[{value:"All",label:"All Modes"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"UPI",label:"UPI"},{value:"NEFT",label:"NEFT"},{value:"RTGS",label:"RTGS"},{value:"Other",label:"Other"}],Ce=async()=>{var be;x(!0),S(null);try{const re={companyId:n.companyId||void 0,status:n.status!=="All"?n.status:void 0,paymentDateFrom:n.paymentFromDate||void 0,paymentDateTo:n.paymentToDate||void 0};let Y=(await yne(re)).data||[];if((be=n.searchText)!=null&&be.trim()){const We=n.searchText.toLowerCase().trim();Y=Y.filter(ae=>{const ke=(ae.receiptNumber||"").toLowerCase(),Fe=(ae.referenceNumber||"").toLowerCase(),nt=l.find(Le=>Le.id===ae.companyId),tt=((nt==null?void 0:nt.companyName)||"").toLowerCase();return ke.includes(We)||Fe.includes(We)||tt.includes(We)||ae.paymentAmount.toString().includes(We)})}n.paymentMode&&n.paymentMode!=="All"&&(Y=Y.filter(We=>We.paymentMode===n.paymentMode)),Y.sort((We,ae)=>{const ke=We[n.sortBy]||"",Fe=ae[n.sortBy]||"";return n.sortOrder==="ASC"?ke>Fe?1:-1:ke<Fe?1:-1});const Ae=(w-1)*E,ye=Ae+E,Oe=Y.slice(Ae,ye);f(Y),g(Oe),b(!0),le({totalPayments:Y.length,totalAmount:Y.reduce((We,ae)=>We+(ae.paymentAmount||0),0)})}catch(re){console.error("Error loading payments:",re),S(re.message||"Failed to load payment data"),f([]),g([])}finally{x(!1)}},M=async()=>{a(be=>({...be,paymentFromDate:s.paymentFromDate||"",paymentToDate:s.paymentToDate||"",companyId:s.companyId||"",status:s.status||"All",paymentMode:s.paymentMode||"All",page:1})),o(!1),await Ce()},q=async()=>{a({page:1,pageSize:25,paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All",searchText:"",sortBy:"paymentDate",sortOrder:"DESC"}),i({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"}),o(!1),await Ce()};C.useEffect(()=>{if(l.length>0||!n.companyId){const be=setTimeout(()=>{Ce()},500);return()=>clearTimeout(be)}},[n,l]);const ie=be=>be==null?"0.00":`${be.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,J=be=>be?new Date(be).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",D=be=>{switch(be){case"Completed":return"status-badge status-badge--paid";case"Pending":return"status-badge status-badge--partial";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ce=y&&G.totalPayments>0?Math.ceil(G.totalPayments/E):0,te=(w-1)*E,ge=Math.min(te+A.length,G.totalPayments),pe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:pe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Payment Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Receipt Number, Reference Number, Company, Amount",value:d,onChange:be=>a(re=>({...re,searchText:be.target.value,page:1})),onKeyDown:be=>{be.key==="Enter"&&!m&&(be.preventDefault(),Ce())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(be=>({...be,searchText:"",page:1})),(y||V())&&await Ce()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({paymentFromDate:n.paymentFromDate||"",paymentToDate:n.paymentToDate||"",companyId:n.companyId||"",status:n.status||"All",paymentMode:n.paymentMode||"All"}),L.current){const be=L.current.getBoundingClientRect();ne({top:be.bottom+8,left:be.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.paymentFromDate,n.paymentToDate,n.status&&n.status!=="All"?n.status:"",n.paymentMode&&n.paymentMode!=="All"?n.paymentMode:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:be=>be.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({paymentFromDate:"",paymentToDate:"",companyId:"",status:"All",paymentMode:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentFromDate||"",onChange:be=>i(re=>({...re,paymentFromDate:be.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.paymentToDate||"",onChange:be=>i(re=>({...re,paymentToDate:be.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:be=>i(re=>({...re,companyId:be.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(be=>e.jsxs("option",{value:be.id,children:[be.companyCode," - ",be.companyName]},be.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:be=>i(re=>({...re,status:be.target.value})),children:$.map(be=>e.jsx("option",{value:be.value,children:be.label},be.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Payment Mode"}),e.jsx("select",{className:"filter-modal-select",value:s.paymentMode||"All",onChange:be=>i(re=>({...re,paymentMode:be.target.value})),children:X.map(be=>e.jsx("option",{value:be.value,children:be.label},be.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await M(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),j&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:j}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receipt No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Payment Mode"}),e.jsx("th",{className:"text-right",children:"Payment Amount"}),e.jsx("th",{children:"Reference Number"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((be,re)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${re}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No payments match "${d.trim()}". Try adjusting your search or filters.`:V()?"No payments match the current filters. Try adjusting your filter criteria.":"No payments available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:q,children:"Clear Filters"})})]})})}):A.map((be,re)=>{var de;return e.jsxs("tr",{className:re%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:be.receiptNumber||"N/A"}),e.jsx("td",{children:((de=l.find(Y=>Y.id===be.companyId))==null?void 0:de.companyName)||"N/A"}),e.jsx("td",{children:J(be.paymentDate)}),e.jsx("td",{children:be.paymentMode}),e.jsx("td",{className:"text-right",children:ie(be.paymentAmount)}),e.jsx("td",{children:be.referenceNumber||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:D(be.status),children:be.status})})]},be.paymentId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${te+1}-${ge} of ${G.totalPayments} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async be=>{a(re=>({...re,page:1,pageSize:Number(be.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const be=Math.max(1,w-1);a(re=>({...re,page:be}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const be=[];let de=Math.max(1,w-Math.floor(2.5)),Y=Math.min(ce,de+5-1);Y-de<4&&(de=Math.max(1,Y-5+1)),de>1&&(be.push(1),de>2&&be.push("..."));for(let Ae=de;Ae<=Y;Ae++)be.push(Ae);return Y<ce&&(Y<ce-1&&be.push("..."),be.push(ce)),be.map((Ae,ye)=>{if(Ae==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ye}`);const Oe=Ae;return e.jsx("button",{className:`pagination-page-btn ${w===Oe?"active":""}`,onClick:async()=>{a(We=>({...We,page:Oe}))},disabled:!y||A.length===0,children:Oe},Oe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const be=Math.min(ce,w+1);a(re=>({...re,page:be}))},disabled:w===ce||ce===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},$se=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",contractId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalAgreements:0});C.useEffect(()=>{(async()=>{try{const pe=await hA.getAllContracts();u(pe)}catch(pe){console.error("Error loading master data:",pe)}})()},[]);const V=()=>{var ge;return!!(n.fromDate||n.toDate||n.contractId||n.status&&n.status!=="All"||(ge=n.searchText)!=null&&ge.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view agreements.";const ge=[];if(n.fromDate&&n.toDate){const pe=new Date(n.fromDate),be=new Date(n.toDate),re=pe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),de=be.toLocaleDateString("en-US",{month:"short",day:"numeric"});ge.push(`Date: ${re}${de}`)}if(n.contractId){const pe=l.find(be=>be.id===n.contractId);pe&&ge.push(`Contract: ${pe.contractNum}`)}return n.status&&n.status!=="All"&&ge.push(`Status: ${n.status}`),ge.join("  ")},$=[{value:"All",label:"All Status"},{value:"Draft",label:"Draft"},{value:"Generated",label:"Generated"},{value:"Signed",label:"Signed"}],X=async()=>{var ge;x(!0),S(null);try{const pe={contractId:n.contractId||void 0,status:n.status!=="All"?n.status:void 0};let be=await s1.getAllAgreements(pe.contractId,pe.status);if(n.fromDate){const Ae=new Date(n.fromDate);be=be.filter(ye=>new Date(ye.agreementDate)>=Ae)}if(n.toDate){const Ae=new Date(n.toDate);Ae.setHours(23,59,59,999),be=be.filter(ye=>new Date(ye.agreementDate)<=Ae)}if((ge=n.searchText)!=null&&ge.trim()){const Ae=n.searchText.toLowerCase().trim();be=be.filter(ye=>{const Oe=(ye.agreementNum||"").toLowerCase(),We=(ye.contractNum||"").toLowerCase();return Oe.includes(Ae)||We.includes(Ae)})}be.sort((Ae,ye)=>{const Oe=Ae[n.sortBy]||"",We=ye[n.sortBy]||"";return n.sortOrder==="ASC"?Oe>We?1:-1:Oe<We?1:-1});const re=(w-1)*E,de=re+E,Y=be.slice(re,de);f(be),g(Y),b(!0),le({totalAgreements:be.length})}catch(pe){console.error("Error loading agreements:",pe),S(pe.message||"Failed to load agreement data"),f([]),g([])}finally{x(!1)}},Ce=async()=>{a(ge=>({...ge,fromDate:s.fromDate||"",toDate:s.toDate||"",contractId:s.contractId||"",status:s.status||"All",page:1})),o(!1),await X()},M=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",contractId:"",status:"All",searchText:"",sortBy:"agreementDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",contractId:"",status:"All"}),o(!1),await X()};C.useEffect(()=>{if(l.length>0||!n.contractId){const ge=setTimeout(()=>{X()},500);return()=>clearTimeout(ge)}},[n,l]);const q=ge=>ge?new Date(ge).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ie=ge=>{switch(ge){case"Signed":return"status-badge status-badge--paid";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},J=y&&G.totalAgreements>0?Math.ceil(G.totalAgreements/E):0,D=(w-1)*E,ce=Math.min(D+A.length,G.totalAgreements),te=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:te,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Agreement"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Agreement Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Agreement Number, Contract Number",value:d,onChange:ge=>a(pe=>({...pe,searchText:ge.target.value,page:1})),onKeyDown:ge=>{ge.key==="Enter"&&!m&&(ge.preventDefault(),X())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ge=>({...ge,searchText:"",page:1})),(y||V())&&await X()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",contractId:n.contractId||"",status:n.status||"All"}),L.current){const ge=L.current.getBoundingClientRect();ne({top:ge.bottom+8,left:ge.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.contractId,n.fromDate,n.toDate,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ge=>ge.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",contractId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Agreement Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:ge=>i(pe=>({...pe,fromDate:ge.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:ge=>i(pe=>({...pe,toDate:ge.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Contract"}),e.jsxs("select",{className:"filter-modal-select",value:s.contractId||"",onChange:ge=>i(pe=>({...pe,contractId:ge.target.value})),children:[e.jsx("option",{value:"",children:"Select Contract"}),l.map(ge=>e.jsx("option",{value:ge.id,children:ge.contractNum},ge.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ge=>i(pe=>({...pe,status:ge.target.value})),children:$.map(ge=>e.jsx("option",{value:ge.value,children:ge.label},ge.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ce(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),j&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:j}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agreement No"}),e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Agreement Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ge,pe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${pe}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No agreements match "${d.trim()}". Try adjusting your search or filters.`:V()?"No agreements match the current filters. Try adjusting your filter criteria.":"No agreements available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:M,children:"Clear Filters"})})]})})}):A.map((ge,pe)=>e.jsxs("tr",{className:pe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ge.agreementNum}),e.jsx("td",{children:ge.contractNum||"N/A"}),e.jsx("td",{children:q(ge.agreementDate)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ie(ge.status),children:ge.status})})]},ge.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No agreements found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view agreement reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${D+1}-${ce} of ${G.totalAgreements} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ge=>{a(pe=>({...pe,page:1,pageSize:Number(ge.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ge=Math.max(1,w-1);a(pe=>({...pe,page:ge}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ge=[];let be=Math.max(1,w-Math.floor(2.5)),re=Math.min(J,be+5-1);re-be<4&&(be=Math.max(1,re-5+1)),be>1&&(ge.push(1),be>2&&ge.push("..."));for(let de=be;de<=re;de++)ge.push(de);return re<J&&(re<J-1&&ge.push("..."),ge.push(J)),ge.map((de,Y)=>{if(de==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Y}`);const Ae=de;return e.jsx("button",{className:`pagination-page-btn ${w===Ae?"active":""}`,onClick:async()=>{a(ye=>({...ye,page:Ae}))},disabled:!y||A.length===0,children:Ae},Ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ge=Math.min(J,w+1);a(pe=>({...pe,page:ge}))},disabled:w===J||J===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Vse=()=>{const[r,t]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[n,a]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"}),s=C.useCallback((f,A)=>{t(g=>({...g,[f]:A}))},[]),i=C.useCallback((f,A)=>{a(g=>({...g,[f]:A}))},[]),c=C.useCallback(()=>{t(f=>({...f,createdFromDate:n.createdFromDate||"",createdToDate:n.createdToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",barcodeType:n.barcodeType||"All",colorBlock:n.colorBlock||"All",page:1}))},[n]),o=C.useCallback(()=>{const f={page:1,pageSize:r.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};t(f),a({createdFromDate:"",createdToDate:"",companyId:"",hcfId:"",barcodeType:"All",colorBlock:"All"})},[r.pageSize]),d=C.useCallback((f,A)=>{t(g=>({...g,page:f,...A!==void 0&&{pageSize:A}}))},[]),l=C.useCallback(f=>{t(A=>({...A,searchText:f,page:1}))},[]),u=C.useCallback(()=>{var f;return!!(r.createdFromDate||r.createdToDate||r.companyId||r.hcfId||r.barcodeType&&r.barcodeType!=="All"||r.colorBlock&&r.colorBlock!=="All"||(f=r.searchText)!=null&&f.trim())},[r]),h=C.useCallback(()=>{var A;const f={page:r.page,pageSize:r.pageSize,sortBy:r.sortBy,sortOrder:r.sortOrder};return r.createdFromDate&&(f.createdFromDate=r.createdFromDate),r.createdToDate&&(f.createdToDate=r.createdToDate),r.companyId&&(f.companyId=r.companyId),r.hcfId&&(f.hcfId=r.hcfId),r.barcodeType&&r.barcodeType!=="All"&&(f.barcodeType=r.barcodeType),r.colorBlock&&r.colorBlock!=="All"&&(f.colorBlock=r.colorBlock),(A=r.searchText)!=null&&A.trim()&&(f.searchText=r.searchText.trim()),f},[r]);return{filters:r,pendingFilters:n,updateFilter:s,updatePendingFilter:i,applyFilters:c,clearFilters:o,updatePagination:d,updateSearchText:l,hasFiltersApplied:u,buildApiFilters:h}},Ok=()=>{const r=un(),t=Ma(),{filters:n,pendingFilters:a,updatePendingFilter:s,applyFilters:i,clearFilters:c,updatePagination:o,updateSearchText:d,hasFiltersApplied:l,buildApiFilters:u}=Vse(),[h,f]=C.useState(!1),A=n.searchText||"",[g,m]=C.useState([]),[x,y]=C.useState([]),[b,j]=C.useState([]),[S,w]=C.useState([]),[E,I]=C.useState(!1),[L,Z]=C.useState(!1),[ne,G]=C.useState(null),le=n.page||1,V=n.pageSize||25,me=C.useRef(null),$=C.useRef(null),[X,Ce]=C.useState(null),[M,q]=C.useState({totalBarcodes:0,barcodeCount:0,qrCodeCount:0});C.useEffect(()=>{(async()=>{try{const[Oe,We]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);m(Oe),y(We)}catch(Oe){console.error("Error loading master data:",Oe),G(Oe.message||"Failed to load master data. Please refresh the page."),m([]),y([])}})()},[]);const ie=n.companyId?x.filter(ye=>ye.companyId===n.companyId):x,J=()=>{if(!l())return"No filters applied. Select a date range or search to view barcode usage.";const ye=[];if(n.createdFromDate&&n.createdToDate){const Oe=new Date(n.createdFromDate),We=new Date(n.createdToDate),ae=Oe.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ke=We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ye.push(`${ae} - ${ke}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const Oe=new Date(n.createdFromDate);ye.push(`From ${Oe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const Oe=new Date(n.createdToDate);ye.push(`To ${Oe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const Oe=g.find(We=>We.id===n.companyId);ye.push(Oe?Oe.companyName:"Selected Company")}else ye.push("All Companies");if(n.hcfId){const Oe=ie.find(We=>We.id===n.hcfId);ye.push(Oe?`HCF: ${Oe.hcfCode}`:"Selected HCF")}return n.barcodeType&&n.barcodeType!=="All"&&ye.push(`Type: ${n.barcodeType}`),n.colorBlock&&n.colorBlock!=="All"&&ye.push(`Color: ${n.colorBlock}`),`Showing barcode usage for: ${ye.join("  ")}`},D=[{value:"All",label:"All Types"},{value:"Barcode",label:"Barcode"},{value:"QR Code",label:"QR Code"}],ce=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],te=async()=>{var ye;I(!0),G(null);try{const Oe=u();let We=[];if(Oe.companyId)We=await rp.getAllBarcodeLabels(Oe.companyId);else if(g.length>0)for(const tt of g)try{const Le=await rp.getAllBarcodeLabels(tt.id);We.push(...Le)}catch(Le){console.warn(`Failed to load barcodes for company ${tt.companyName}:`,Le)}else try{We=await rp.getAllBarcodeLabels()}catch(tt){console.warn("Failed to load barcodes without company filter:",tt)}let ae=We;if(n.createdFromDate){const tt=new Date(n.createdFromDate);ae=ae.filter(Le=>new Date(Le.createdOn)>=tt)}if(n.createdToDate){const tt=new Date(n.createdToDate);tt.setHours(23,59,59,999),ae=ae.filter(Le=>new Date(Le.createdOn)<=tt)}if(n.companyId&&(ae=ae.filter(tt=>tt.companyId===n.companyId)),n.hcfId&&(ae=ae.filter(tt=>tt.hcfId===n.hcfId)),n.barcodeType&&n.barcodeType!=="All"&&(ae=ae.filter(tt=>tt.barcodeType===n.barcodeType)),n.colorBlock&&n.colorBlock!=="All"&&(ae=ae.filter(tt=>tt.colorBlock===n.colorBlock)),(ye=n.searchText)!=null&&ye.trim()){const tt=n.searchText.toLowerCase().trim();ae=ae.filter(Le=>{const lt=(Le.barcodeValue||"").toLowerCase(),$t=(Le.hcfCode||"").toLowerCase(),Ue=g.find(Tt=>Tt.id===Le.companyId),yt=((Ue==null?void 0:Ue.companyName)||"").toLowerCase();return lt.includes(tt)||$t.includes(tt)||yt.includes(tt)||Le.sequenceNumber.toString().includes(tt)})}ae.sort((tt,Le)=>{const lt=tt[n.sortBy]||"",$t=Le[n.sortBy]||"";return n.sortOrder==="ASC"?lt>$t?1:-1:lt<$t?1:-1});const ke=(le-1)*V,Fe=ke+V,nt=ae.slice(ke,Fe);j(ae),w(nt),Z(!0),q({totalBarcodes:ae.length,barcodeCount:ae.filter(tt=>tt.barcodeType==="Barcode").length,qrCodeCount:ae.filter(tt=>tt.barcodeType==="QR Code").length})}catch(Oe){console.error("Error loading barcodes:",Oe),G(Oe.message||"Failed to load barcode usage data"),j([]),w([])}finally{I(!1)}},ge=async()=>{i(),f(!1),await te()},pe=async()=>{c(),f(!1),await te()};C.useEffect(()=>{var ye;if(g.length>0||l()||(ye=n.searchText)!=null&&ye.trim()){const Oe=setTimeout(()=>{te()},500);return()=>clearTimeout(Oe)}},[n,g]);const be=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=L&&M.totalBarcodes>0?Math.ceil(M.totalBarcodes/V):0,de=(le-1)*V,Y=Math.min(de+S.length,M.totalBarcodes),Ae=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:Ae,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Barcode Usage"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Barcode Usage Report"}),!l()&&e.jsx("div",{className:"page-context-subtitle",children:J()}),ne&&g.length===0&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fef2f2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",border:"1px solid #fecaca"},children:[e.jsx("strong",{children:"Warning:"})," Failed to load master data. Filter options may be limited. Please refresh the page or check your authentication."]})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${E?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode Value, HCF Code, Company, Sequence Number",value:A,onChange:ye=>d(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&!E&&(ye.preventDefault(),te())},disabled:E}),A&&!E&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{d(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:$,className:`btn btn-filters-toggle ${h?"active":""} ${E?"loading":""}`,onClick:()=>{if(!E){if(h||(s("companyId",n.companyId||""),s("hcfId",n.hcfId||""),s("barcodeType",n.barcodeType||"All"),s("colorBlock",n.colorBlock||"All"),s("createdFromDate",n.createdFromDate||""),s("createdToDate",n.createdToDate||"")),$.current){const ye=$.current.getBoundingClientRect();Ce({top:ye.bottom+8,left:ye.left})}f(!h)}},disabled:E,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[a.companyId,a.hcfId,a.barcodeType&&a.barcodeType!=="All"?a.barcodeType:"",a.colorBlock&&a.colorBlock!=="All"?a.colorBlock:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),h&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{f(!1),Ce(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ye=>ye.stopPropagation(),style:X?{position:"fixed",top:`${X.top}px`,left:`${X.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{s("companyId",""),s("hcfId",""),s("createdFromDate",""),s("createdToDate",""),s("barcodeType","All"),s("colorBlock","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>f(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:ye=>s("createdFromDate",ye.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:ye=>s("createdToDate",ye.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:ye=>{s("companyId",ye.target.value),s("hcfId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),g.map(ye=>e.jsxs("option",{value:ye.id,children:[ye.companyCode," - ",ye.companyName]},ye.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.hcfId||"",onChange:ye=>s("hcfId",ye.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(a.companyId?x.filter(ye=>ye.companyId===a.companyId):x).map(ye=>e.jsxs("option",{value:ye.id,children:[ye.hcfCode," - ",ye.hcfName]},ye.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Barcode Type"}),e.jsx("select",{className:"filter-modal-select",value:a.barcodeType||"All",onChange:ye=>s("barcodeType",ye.target.value),children:D.map(ye=>e.jsx("option",{value:ye.value,children:ye.label},ye.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Color Block"}),e.jsx("select",{className:"filter-modal-select",value:a.colorBlock||"All",onChange:ye=>s("colorBlock",ye.target.value),children:ce.map(ye=>e.jsx("option",{value:ye.value,children:ye.label},ye.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ge,disabled:E,children:E?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:me,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode Value"}),e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Barcode Type"}),e.jsx("th",{children:"Color Block"}),e.jsx("th",{children:"Sequence Number"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:E?Array.from({length:5}).map((ye,Oe)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${Oe}`)):L?S.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:A.trim()?`No barcodes match "${A.trim()}". Try adjusting your search or filters.`:l()?"No barcodes match the current filters. Try adjusting your filter criteria.":"No barcodes available. Use the search bar or apply filters to view reports."}),(l()||A.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):S.map((ye,Oe)=>{const We=g.find(ae=>ae.id===ye.companyId);return e.jsxs("tr",{className:Oe%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ye.barcodeValue}),e.jsx("td",{children:ye.hcfCode||"N/A"}),e.jsx("td",{children:(We==null?void 0:We.companyName)||"N/A"}),e.jsx("td",{children:ye.barcodeType}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-badge--${ye.colorBlock.toLowerCase()}`,children:ye.colorBlock})}),e.jsx("td",{children:ye.sequenceNumber}),e.jsx("td",{children:be(ye.createdOn)})]},ye.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"7",y1:"8",x2:"7",y2:"16"}),e.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"16"}),e.jsx("line",{x1:"15",y1:"8",x2:"15",y2:"16"}),e.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"16"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No barcodes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view barcode usage reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:L&&S.length>0?`Showing ${Y} of ${M.totalBarcodes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:V,disabled:!L||S.length===0,onChange:async ye=>{o(1,Number(ye.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.max(1,le-1);o(ye),await te()},disabled:le===1||!L||S.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ye=[];let We=Math.max(1,le-Math.floor(2.5)),ae=Math.min(re,We+5-1);ae-We<4&&(We=Math.max(1,ae-5+1)),We>1&&(ye.push(1),We>2&&ye.push("..."));for(let ke=We;ke<=ae;ke++)ye.push(ke);return ae<re&&(ae<re-1&&ye.push("..."),ye.push(re)),ye.map((ke,Fe)=>{if(ke==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Fe}`);const nt=ke;return e.jsx("button",{className:`pagination-page-btn ${le===nt?"active":""}`,onClick:async()=>{o(nt),await te()},disabled:!L||S.length===0,children:nt},nt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ye=Math.min(re,le+1);o(ye),await te()},disabled:le===re||re===0||!L||S.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},zse=()=>{const r=un();Ma();const[t,n]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[a,s]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"}),[i,c]=C.useState(!1),o=t.searchText||"",[d,l]=C.useState([]),[u,h]=C.useState([]),[f,A]=C.useState([]),[g,m]=C.useState([]),[x,y]=C.useState(!1),[b,j]=C.useState(!1),[S,w]=C.useState(null),E=t.page||1,I=t.pageSize||25,L=C.useRef(null),Z=C.useRef(null),[ne,G]=C.useState(null),[le,V]=C.useState({totalUsers:0,activeUsers:0,inactiveUsers:0});C.useEffect(()=>{(async()=>{try{const[We,ae]=await Promise.all([ia.getAllCompanies(),zp.getAllRoles()]);l(We),h(ae)}catch(We){console.error("Error loading master data:",We)}})()},[]);const me=t.companyId?u.filter(Oe=>Oe.companyId===t.companyId):u,$=()=>{var Oe;return!!(t.createdFromDate||t.createdToDate||t.companyId||t.roleId||t.status&&t.status!=="All"||t.employmentType&&t.employmentType!=="All"||(Oe=t.searchText)!=null&&Oe.trim())},X=()=>{if(!$())return"No filters applied. Select a date range or search to view users.";const Oe=[];if(t.createdFromDate&&t.createdToDate){const We=new Date(t.createdFromDate),ae=new Date(t.createdToDate),ke=We.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Fe=ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});Oe.push(`${ke} - ${Fe}`)}else if(t.createdFromDate||t.createdToDate){if(t.createdFromDate){const We=new Date(t.createdFromDate);Oe.push(`From ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(t.createdToDate){const We=new Date(t.createdToDate);Oe.push(`To ${We.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(t.companyId){const We=d.find(ae=>ae.id===t.companyId);Oe.push(We?We.companyName:"Selected Company")}else Oe.push("All Companies");if(t.roleId){const We=me.find(ae=>ae.roleId===t.roleId);Oe.push(We?We.roleName:"Selected Role")}else Oe.push("All Roles");return t.status&&t.status!=="All"?Oe.push(t.status):Oe.push("All Status"),`Showing users for: ${Oe.join("  ")}`},Ce=(Oe,We)=>{s(ae=>({...ae,[Oe]:We}))},M=()=>{n(Oe=>({...Oe,createdFromDate:a.createdFromDate||"",createdToDate:a.createdToDate||"",companyId:a.companyId||"",roleId:a.roleId||"",status:a.status||"All",employmentType:a.employmentType||"All",page:1}))},q=()=>{const Oe={page:1,pageSize:t.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};n(Oe),s({createdFromDate:"",createdToDate:"",companyId:"",roleId:"",status:"All",employmentType:"All"})},ie=(Oe,We)=>{n(ae=>({...ae,page:Oe,...We!==void 0&&{pageSize:We}}))},J=Oe=>{n(We=>({...We,searchText:Oe,page:1}))},D=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Draft",label:"Draft"}],ce=[{value:"All",label:"All Types"},{value:"Permanent",label:"Permanent"},{value:"Contract",label:"Contract"},{value:"Part-time",label:"Part-time"}],te=async()=>{var Oe;y(!0),w(null);try{let We=[];if(t.companyId)We=await Hc.getUsersByCompany(t.companyId);else{const tt=d.length>0?d:await ia.getAllCompanies();for(const Le of tt)try{const lt=await Hc.getUsersByCompany(Le.id);We.push(...lt)}catch(lt){console.warn(`Failed to load users for company ${Le.companyName}:`,lt)}}let ae=We;if(t.createdFromDate){const tt=new Date(t.createdFromDate);ae=ae.filter(Le=>new Date(Le.createdOn)>=tt)}if(t.createdToDate){const tt=new Date(t.createdToDate);tt.setHours(23,59,59,999),ae=ae.filter(Le=>new Date(Le.createdOn)<=tt)}if(t.roleId&&(ae=ae.filter(tt=>tt.userRoleId===t.roleId)),t.status&&t.status!=="All"&&(ae=ae.filter(tt=>tt.status===t.status)),t.employmentType&&t.employmentType!=="All"&&(ae=ae.filter(tt=>tt.employmentType===t.employmentType)),(Oe=t.searchText)!=null&&Oe.trim()){const tt=t.searchText.toLowerCase().trim();ae=ae.filter(Le=>{const lt=(Le.userName||"").toLowerCase(),$t=(Le.employeeCode||"").toLowerCase(),Ue=(Le.emailAddress||"").toLowerCase(),yt=(Le.mobileNumber||"").toLowerCase();return lt.includes(tt)||$t.includes(tt)||Ue.includes(tt)||yt.includes(tt)})}ae.sort((tt,Le)=>{const lt=tt[t.sortBy]||"",$t=Le[t.sortBy]||"";return t.sortOrder==="ASC"?lt>$t?1:-1:lt<$t?1:-1});const ke=(E-1)*I,Fe=ke+I,nt=ae.slice(ke,Fe);A(ae),m(nt),j(!0),V({totalUsers:ae.length,activeUsers:ae.filter(tt=>tt.status==="Active").length,inactiveUsers:ae.filter(tt=>tt.status==="Inactive").length})}catch(We){console.error("Error loading users:",We),w(We.message||"Failed to load users"),A([]),m([])}finally{y(!1)}};C.useEffect(()=>{if(d.length>0){const Oe=setTimeout(()=>{te()},500);return()=>clearTimeout(Oe)}},[t,d]);const ge=async()=>{M(),c(!1),await te()},pe=async()=>{q(),c(!1),await te()},be=Oe=>Oe?new Date(Oe).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=Oe=>{switch(Oe){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";case"Draft":return"status-badge status-badge--draft";default:return"status-badge status-badge--active"}},de=b&&le.totalUsers>0?Math.ceil(le.totalUsers/I):0,Y=(E-1)*I,Ae=Math.min(Y+g.length,le.totalUsers),ye=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsxs(Nc,{navItems:ye,children:[e.jsx(xa,{title:"User Report",subtitle:$()?void 0:X()}),e.jsx("div",{className:"invoice-report-page",children:e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${x?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by User Name, Employee Code, Email, Mobile Number",value:o,onChange:Oe=>J(Oe.target.value),onKeyDown:Oe=>{Oe.key==="Enter"&&!x&&(Oe.preventDefault(),te())},disabled:x}),o&&!x&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{J(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:Z,className:`btn btn-filters-toggle ${i?"active":""} ${x?"loading":""}`,onClick:()=>{if(!x){if(i||(Ce("companyId",t.companyId||""),Ce("roleId",t.roleId||""),Ce("status",t.status||"All"),Ce("employmentType",t.employmentType||"All"),Ce("createdFromDate",t.createdFromDate||""),Ce("createdToDate",t.createdToDate||"")),Z.current){const Oe=Z.current.getBoundingClientRect();G({top:Oe.bottom+8,left:Oe.left})}c(!i)}},disabled:x,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[a.companyId,a.roleId,a.status&&a.status!=="All"?a.status:"",a.employmentType&&a.employmentType!=="All"?a.employmentType:"",a.createdFromDate,a.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[a.companyId,a.roleId,a.status&&a.status!=="All"?a.status:"",a.employmentType&&a.employmentType!=="All"?a.employmentType:"",a.createdFromDate,a.createdToDate].filter(Boolean).length})]})]}),i&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{c(!1),G(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Oe=>Oe.stopPropagation(),style:ne?{position:"fixed",top:`${ne.top}px`,left:`${ne.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{Ce("companyId",""),Ce("roleId",""),Ce("createdFromDate",""),Ce("createdToDate",""),Ce("status","All"),Ce("employmentType","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>c(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdFromDate||"",onChange:Oe=>Ce("createdFromDate",Oe.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:a.createdToDate||"",onChange:Oe=>Ce("createdToDate",Oe.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:a.companyId||"",onChange:Oe=>{Ce("companyId",Oe.target.value),Ce("roleId","")},children:[e.jsx("option",{value:"",children:"Select Company Name"}),d.map(Oe=>e.jsxs("option",{value:Oe.id,children:[Oe.companyCode," - ",Oe.companyName]},Oe.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Role"}),e.jsxs("select",{className:"filter-modal-select",value:a.roleId||"",onChange:Oe=>Ce("roleId",Oe.target.value),disabled:!a.companyId,children:[e.jsx("option",{value:"",children:"Select Role"}),(a.companyId?u.filter(Oe=>Oe.companyId===a.companyId):u).map(Oe=>e.jsx("option",{value:Oe.roleId,children:Oe.roleName},Oe.roleId))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:a.status||"All",onChange:Oe=>Ce("status",Oe.target.value),children:D.map(Oe=>e.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Employment Type"}),e.jsx("select",{className:"filter-modal-select",value:a.employmentType||"All",onChange:Oe=>Ce("employmentType",Oe.target.value),children:ce.map(Oe=>e.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ge,disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:L,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Employee Code"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Employment Type"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:x?Array.from({length:5}).map((Oe,We)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${We}`)):b?g.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:o.trim()?`No users match "${o.trim()}". Try adjusting your search or filters.`:$()?"No users match the current filters. Try adjusting your filter criteria.":"No users available. Use the search bar or apply filters to view reports."}),($()||o.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):g.map((Oe,We)=>{const ae=u.find(Fe=>Fe.roleId===Oe.userRoleId),ke=d.find(Fe=>Fe.id===Oe.companyId);return e.jsxs("tr",{className:We%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Oe.userName}),e.jsx("td",{children:Oe.employeeCode||"N/A"}),e.jsx("td",{children:Oe.emailAddress||"N/A"}),e.jsx("td",{children:Oe.mobileNumber}),e.jsx("td",{children:(ke==null?void 0:ke.companyName)||"N/A"}),e.jsx("td",{children:(ae==null?void 0:ae.roleName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(Oe.status),children:Oe.status})}),e.jsx("td",{children:Oe.employmentType||"N/A"}),e.jsx("td",{children:be(Oe.createdOn)})]},Oe.userId)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No users found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view user reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:b&&g.length>0?`Showing ${Ae} of ${le.totalUsers} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:I,disabled:!b||g.length===0,onChange:async Oe=>{ie(1,Number(Oe.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Oe=Math.max(1,E-1);ie(Oe),await te()},disabled:E===1||!b||g.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Oe=[];let ae=Math.max(1,E-Math.floor(2.5)),ke=Math.min(de,ae+5-1);ke-ae<4&&(ae=Math.max(1,ke-5+1)),ae>1&&(Oe.push(1),ae>2&&Oe.push("..."));for(let Fe=ae;Fe<=ke;Fe++)Oe.push(Fe);return ke<de&&(ke<de-1&&Oe.push("..."),Oe.push(de)),Oe.map((Fe,nt)=>{if(Fe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${nt}`);const tt=Fe;return e.jsx("button",{className:`pagination-page-btn ${E===tt?"active":""}`,onClick:async()=>{ie(tt),await te()},disabled:!b||g.length===0,children:tt},tt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Oe=Math.min(de,E+1);ie(Oe),await te()},disabled:E===de||de===0||!b||g.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})})]})},Gse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,i]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});C.useEffect(()=>{(async()=>{try{const ke=await ia.getAllCompanies();u(ke)}catch(ke){console.error("Error loading master data:",ke)}})()},[]);const V=()=>{var ae;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ae=n.searchText)!=null&&ae.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view fleet vehicles.";const ae=[];if(n.createdFromDate&&n.createdToDate){const ke=new Date(n.createdFromDate),Fe=new Date(n.createdToDate),nt=ke.toLocaleDateString("en-US",{month:"short",day:"numeric"}),tt=Fe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ae.push(`${nt} - ${tt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ke=new Date(n.createdFromDate);ae.push(`From ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ke=new Date(n.createdToDate);ae.push(`To ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ke=l.find(Fe=>Fe.id===n.companyId);ae.push(ke?ke.companyName:"Selected Company")}else ae.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ae.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ae.push(n.status):ae.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ae.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ae.join("  ")}`},$=(ae,ke)=>{i(Fe=>({...Fe,[ae]:ke}))},X=()=>{a(ae=>({...ae,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},Ce=()=>{const ae={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ae),i({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},M=(ae,ke)=>{a(Fe=>({...Fe,page:ae,...ke!==void 0&&{pageSize:ke}}))},q=ae=>{a(ke=>({...ke,searchText:ae,page:1}))},ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],J=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],D=()=>{const ae=new Set;return h.forEach(ke=>{ke.vehMake&&ae.add(ke.vehMake)}),Array.from(ae).sort()},ce=ae=>{const ke=new Date;ke.setHours(0,0,0,0);const Fe=[ae.nextFCDate?new Date(ae.nextFCDate):null,ae.pucDateValidUpto?new Date(ae.pucDateValidUpto):null,ae.insuranceValidUpto?new Date(ae.insuranceValidUpto):null].filter(Boolean);if(Fe.length===0)return"Compliant";if(Fe.filter(lt=>lt<ke).length>0)return"Expired";const tt=new Date(ke);return tt.setDate(tt.getDate()+30),Fe.filter(lt=>lt<=tt&&lt>=ke).length>0?"Expiring Soon":"Compliant"},te=async()=>{var ae;x(!0),S(null);try{let ke=[];if(n.companyId)ke=await Ph.getAllFleets(n.companyId);else{const lt=l.length>0?l:await ia.getAllCompanies();for(const $t of lt)try{const Ue=await Ph.getAllFleets($t.id);ke.push(...Ue)}catch(Ue){console.warn(`Failed to load fleets for company ${$t.companyName}:`,Ue)}}let Fe=ke;if(n.createdFromDate){const lt=new Date(n.createdFromDate);Fe=Fe.filter($t=>new Date($t.createdOn)>=lt)}if(n.createdToDate){const lt=new Date(n.createdToDate);lt.setHours(23,59,59,999),Fe=Fe.filter($t=>new Date($t.createdOn)<=lt)}if(n.companyId&&(Fe=Fe.filter(lt=>lt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Fe=Fe.filter(lt=>lt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Fe=Fe.filter(lt=>lt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Fe=Fe.filter(lt=>ce(lt)===n.complianceStatus)),(ae=n.searchText)!=null&&ae.trim()){const lt=n.searchText.toLowerCase().trim();Fe=Fe.filter($t=>{const Ue=($t.vehicleNum||"").toLowerCase(),yt=($t.vehMake||"").toLowerCase(),Tt=($t.vehModel||"").toLowerCase(),Zt=($t.ownerName||"").toLowerCase(),Mr=($t.ownerContact||"").toLowerCase(),_t=($t.capacity||"").toLowerCase();return Ue.includes(lt)||yt.includes(lt)||Tt.includes(lt)||Zt.includes(lt)||Mr.includes(lt)||_t.includes(lt)})}Fe.sort((lt,$t)=>{const Ue=lt[n.sortBy]||"",yt=$t[n.sortBy]||"";return n.sortOrder==="ASC"?Ue>yt?1:-1:Ue<yt?1:-1});const nt=(w-1)*E,tt=nt+E,Le=Fe.slice(nt,tt);f(Fe),g(Le),b(!0),le({totalFleets:Fe.length,activeFleets:Fe.filter(lt=>lt.status==="Active").length,inactiveFleets:Fe.filter(lt=>lt.status==="Inactive").length})}catch(ke){console.error("Error loading fleets:",ke),S(ke.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};C.useEffect(()=>{if(l.length>0){const ae=setTimeout(()=>{te()},500);return()=>clearTimeout(ae)}},[n,l]);const ge=async()=>{X(),o(!1),await te()},pe=async()=>{Ce(),o(!1),await te()},be=ae=>ae?new Date(ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=ae=>{switch(ae){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},de=ae=>{switch(ae){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},Y=y&&G.totalFleets>0?Math.ceil(G.totalFleets/E):0,Ae=(w-1)*E,ye=Math.min(Ae+A.length,G.totalFleets),Oe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],We=D();return e.jsx(Nc,{navItems:Oe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:d,onChange:ae=>q(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&!m&&(ae.preventDefault(),te())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{q(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),L.current){const ae=L.current.getBoundingClientRect();ne({top:ae.bottom+8,left:ae.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ae=>ae.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ae=>$("createdFromDate",ae.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ae=>$("createdToDate",ae.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ae=>$("companyId",ae.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ae=>e.jsxs("option",{value:ae.id,children:[ae.companyCode," - ",ae.companyName]},ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ae=>$("vehMake",ae.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),We.map(ae=>e.jsx("option",{value:ae,children:ae},ae))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ae=>$("status",ae.target.value),children:ie.map(ae=>e.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ae=>$("complianceStatus",ae.target.value),children:J.map(ae=>e.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ge,disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ae,ke)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ke}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No vehicles match "${d.trim()}". Try adjusting your search or filters.`:V()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):A.map((ae,ke)=>{const Fe=l.find(tt=>tt.id===ae.companyId),nt=ce(ae);return e.jsxs("tr",{className:ke%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ae.vehicleNum}),e.jsx("td",{children:(Fe==null?void 0:Fe.companyName)||"N/A"}),e.jsx("td",{children:ae.vehMake||"N/A"}),e.jsx("td",{children:ae.vehModel||"N/A"}),e.jsx("td",{children:ae.capacity||"N/A"}),e.jsx("td",{children:ae.ownerName||"N/A"}),e.jsx("td",{children:ae.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(ae.status),children:ae.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:de(nt),children:nt})}),e.jsx("td",{children:be(ae.createdOn)})]},ae.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${ye} of ${G.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ae=>{M(1,Number(ae.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.max(1,w-1);M(ae),await te()},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ae=[];let Fe=Math.max(1,w-Math.floor(2.5)),nt=Math.min(Y,Fe+5-1);nt-Fe<4&&(Fe=Math.max(1,nt-5+1)),Fe>1&&(ae.push(1),Fe>2&&ae.push("..."));for(let tt=Fe;tt<=nt;tt++)ae.push(tt);return nt<Y&&(nt<Y-1&&ae.push("..."),ae.push(Y)),ae.map((tt,Le)=>{if(tt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const lt=tt;return e.jsx("button",{className:`pagination-page-btn ${w===lt?"active":""}`,onClick:async()=>{M(lt),await te()},disabled:!y||A.length===0,children:lt},lt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.min(Y,w+1);M(ae),await te()},disabled:w===Y||Y===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Fk=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalRevenue:0,totalInvoices:0,paidAmount:0});C.useEffect(()=>{(async()=>{try{const[de,Y]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(de),f(Y)}catch(de){console.error("Error loading master data:",de)}})()},[]);const $=n.companyId?h.filter(re=>re.companyId===n.companyId):h,X=()=>{var re;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||(re=n.searchText)!=null&&re.trim())},Ce=()=>{if(!X())return"No filters applied. Select a date range or search to view revenue analysis.";const re=[];if(n.fromDate&&n.toDate){const de=new Date(n.fromDate),Y=new Date(n.toDate),Ae=de.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ye=Y.toLocaleDateString("en-US",{month:"short",day:"numeric"});re.push(`Date: ${Ae}${ye}`)}if(n.companyId){const de=l.find(Y=>Y.id===n.companyId);de&&re.push(`Company: ${de.companyName}`)}if(n.hcfId){const de=$.find(Y=>Y.id===n.hcfId);de&&re.push(`HCF: ${de.hcfCode}`)}return n.groupBy&&re.push(`Group By: ${n.groupBy}`),re.join("  ")},M=[{value:"Company",label:"By Company"},{value:"HCF",label:"By HCF"},{value:"Month",label:"By Month"},{value:"Quarter",label:"By Quarter"},{value:"Year",label:"By Year"}],q=async()=>{var re;b(!0),E(null);try{const de={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Ae=((await a1(de)).data||[]).map(ae=>({invoiceId:ae.invoiceId,companyId:ae.companyId,hcfId:ae.hcfId,invoiceNumber:ae.invoiceNumber,invoiceDate:ae.invoiceDate,dueDate:ae.dueDate,billingType:ae.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:ae.invoiceValue,totalPaidAmount:ae.totalPaidAmount,balanceAmount:ae.balanceAmount,status:ae.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:ae.companyName,companyCode:ae.companyCode,hcfName:ae.hcfName,hcfCode:ae.hcfCode}));if((re=n.searchText)!=null&&re.trim()){const ae=n.searchText.toLowerCase().trim();Ae=Ae.filter(ke=>{const Fe=(ke.invoiceNumber||"").toLowerCase(),nt=(ke.companyName||"").toLowerCase(),tt=(ke.hcfCode||"").toLowerCase();return Fe.includes(ae)||nt.includes(ae)||tt.includes(ae)||ke.invoiceValue.toString().includes(ae)})}Ae.sort((ae,ke)=>{const Fe=ae[n.sortBy]||"",nt=ke[n.sortBy]||"";return n.sortOrder==="ASC"?Fe>nt?1:-1:Fe<nt?1:-1});const ye=(I-1)*L,Oe=ye+L,We=Ae.slice(ye,Oe);g(Ae),x(We),S(!0),me({totalRevenue:Ae.reduce((ae,ke)=>ae+(ke.invoiceValue||0),0),totalInvoices:Ae.length,paidAmount:Ae.reduce((ae,ke)=>ae+(ke.totalPaidAmount||0),0)})}catch(de){console.error("Error loading revenue data:",de),E(de.message||"Failed to load revenue analysis data"),g([]),x([])}finally{b(!1)}},ie=async()=>{a(re=>({...re,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",groupBy:s.groupBy||"Company",page:1})),o(!1),await q()},J=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"}),o(!1),await q()};C.useEffect(()=>{if(l.length>0||!n.companyId){const re=setTimeout(()=>{q()},500);return()=>clearTimeout(re)}},[n,l]);const D=re=>re==null?"0.00":`${re.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ce=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=j&&V.totalInvoices>0?Math.ceil(V.totalInvoices/L):0,ge=(I-1)*L,pe=Math.min(ge+m.length,V.totalInvoices),be=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:be,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Revenue Analysis"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Revenue Analysis Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:d,onChange:re=>a(de=>({...de,searchText:re.target.value,page:1})),onKeyDown:re=>{re.key==="Enter"&&!y&&(re.preventDefault(),q())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(re=>({...re,searchText:"",page:1})),(j||X())&&await q()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",groupBy:n.groupBy||"Company"}),ne.current){const re=ne.current.getBoundingClientRect();le({top:re.bottom+8,left:re.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:re=>re.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",groupBy:"Company"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Date Range"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:re=>i(de=>({...de,fromDate:re.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:re=>i(de=>({...de,toDate:re.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:re=>{i(de=>({...de,companyId:re.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(re=>e.jsxs("option",{value:re.id,children:[re.companyCode," - ",re.companyName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:re=>i(de=>({...de,hcfId:re.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(re=>re.companyId===s.companyId):h).map(re=>e.jsxs("option",{value:re.id,children:[re.hcfCode," - ",re.hcfName]},re.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Group By"}),e.jsx("select",{className:"filter-modal-select",value:s.groupBy||"Company",onChange:re=>i(de=>({...de,groupBy:re.target.value})),children:M.map(re=>e.jsx("option",{value:re.value,children:re.label},re.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await ie(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Revenue"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((re,de)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${de}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No data match "${d.trim()}". Try adjusting your search or filters.`:X()?"No data match the current filters. Try adjusting your filter criteria.":"No revenue data available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:J,children:"Clear Filters"})})]})})}):m.map((re,de)=>e.jsxs("tr",{className:de%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:re.invoiceNumber}),e.jsx("td",{children:re.companyName||"N/A"}),e.jsx("td",{children:re.hcfCode||"N/A"}),e.jsx("td",{children:ce(re.invoiceDate)}),e.jsx("td",{className:"text-right",children:D(re.invoiceValue)}),e.jsx("td",{className:"text-right",children:D(re.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:D(re.invoiceValue)})]},re.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No revenue data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view revenue analysis reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${ge+1}-${pe} of ${V.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async re=>{a(de=>({...de,page:1,pageSize:Number(re.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.max(1,I-1);a(de=>({...de,page:re}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const re=[];let Y=Math.max(1,I-Math.floor(2.5)),Ae=Math.min(te,Y+5-1);Ae-Y<4&&(Y=Math.max(1,Ae-5+1)),Y>1&&(re.push(1),Y>2&&re.push("..."));for(let ye=Y;ye<=Ae;ye++)re.push(ye);return Ae<te&&(Ae<te-1&&re.push("..."),re.push(te)),re.map((ye,Oe)=>{if(ye==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Oe}`);const We=ye;return e.jsx("button",{className:`pagination-page-btn ${I===We?"active":""}`,onClick:async()=>{a(ae=>({...ae,page:We}))},disabled:!j||m.length===0,children:We},We)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const re=Math.min(te,I+1);a(de=>({...de,page:re}))},disabled:I===te||te===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Pk=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),[s,i]=C.useState({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalOutstanding:0,totalInvoices:0});C.useEffect(()=>{(async()=>{try{const[Ae,ye]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(Ae),f(ye)}catch(Ae){console.error("Error loading master data:",Ae)}})()},[]);const $=n.companyId?h.filter(Y=>Y.companyId===n.companyId):h,X=()=>{var Y;return!!(n.fromDate||n.toDate||n.companyId||n.hcfId||n.agingPeriod&&n.agingPeriod!=="All"||(Y=n.searchText)!=null&&Y.trim())},Ce=()=>{if(!X())return"No filters applied. Select a date range or search to view outstanding payments.";const Y=[];if(n.fromDate&&n.toDate){const Ae=new Date(n.fromDate),ye=new Date(n.toDate),Oe=Ae.toLocaleDateString("en-US",{month:"short",day:"numeric"}),We=ye.toLocaleDateString("en-US",{month:"short",day:"numeric"});Y.push(`Date: ${Oe}${We}`)}if(n.companyId){const Ae=l.find(ye=>ye.id===n.companyId);Ae&&Y.push(`Company: ${Ae.companyName}`)}if(n.hcfId){const Ae=$.find(ye=>ye.id===n.hcfId);Ae&&Y.push(`HCF: ${Ae.hcfCode}`)}return n.agingPeriod&&n.agingPeriod!=="All"&&Y.push(`Aging: ${n.agingPeriod}`),Y.join("  ")},M=[{value:"All",label:"All Periods"},{value:"0-30",label:"0-30 Days"},{value:"31-60",label:"31-60 Days"},{value:"61-90",label:"61-90 Days"},{value:"90+",label:"90+ Days"}],q=Y=>{const Ae=new Date(Y),Oe=Math.abs(new Date().getTime()-Ae.getTime());return Math.ceil(Oe/(1e3*60*60*24))},ie=async()=>{var Y;b(!0),E(null);try{const Ae={page:n.page||1,pageSize:n.pageSize||25,invoiceFromDate:n.fromDate||void 0,invoiceToDate:n.toDate||void 0,companyId:n.companyId||void 0,hcfId:n.hcfId||void 0};let Oe=((await a1(Ae)).data||[]).map(Fe=>({invoiceId:Fe.invoiceId,companyId:Fe.companyId,hcfId:Fe.hcfId,invoiceNumber:Fe.invoiceNumber,invoiceDate:Fe.invoiceDate,dueDate:Fe.dueDate,billingType:Fe.billingType,billingDays:null,billingOption:"Bed-wise",generationType:"Manual",bedCount:null,bedRate:null,weightInKg:null,kgRate:null,lumpsumAmount:null,taxableValue:0,igst:0,cgst:0,sgst:0,roundOff:0,invoiceValue:Fe.invoiceValue,totalPaidAmount:Fe.totalPaidAmount,balanceAmount:Fe.balanceAmount,status:Fe.status,isLocked:!1,lockedAfterDate:null,financialYear:"",sequenceNumber:0,billingPeriodStart:null,billingPeriodEnd:null,notes:null,createdBy:null,createdOn:new Date().toISOString(),modifiedBy:null,modifiedOn:new Date().toISOString(),companyName:Fe.companyName,companyCode:Fe.companyCode,hcfName:Fe.hcfName,hcfCode:Fe.hcfCode}));if(Oe=Oe.filter(Fe=>(Fe.balanceAmount||0)>0),(Y=n.searchText)!=null&&Y.trim()){const Fe=n.searchText.toLowerCase().trim();Oe=Oe.filter(nt=>{const tt=(nt.invoiceNumber||"").toLowerCase(),Le=(nt.companyName||"").toLowerCase(),lt=(nt.hcfCode||"").toLowerCase();return tt.includes(Fe)||Le.includes(Fe)||lt.includes(Fe)||nt.balanceAmount.toString().includes(Fe)})}n.agingPeriod&&n.agingPeriod!=="All"&&(Oe=Oe.filter(Fe=>{const nt=q(Fe.invoiceDate);switch(n.agingPeriod){case"0-30":return nt>=0&&nt<=30;case"31-60":return nt>=31&&nt<=60;case"61-90":return nt>=61&&nt<=90;case"90+":return nt>90;default:return!0}})),Oe.sort((Fe,nt)=>{const tt=Fe[n.sortBy]||"",Le=nt[n.sortBy]||"";return n.sortOrder==="ASC"?tt>Le?1:-1:tt<Le?1:-1});const We=(I-1)*L,ae=We+L,ke=Oe.slice(We,ae);g(Oe),x(ke),S(!0),me({totalOutstanding:Oe.reduce((Fe,nt)=>Fe+(nt.balanceAmount||0),0),totalInvoices:Oe.length})}catch(Ae){console.error("Error loading outstanding data:",Ae),E(Ae.message||"Failed to load outstanding payment data"),g([]),x([])}finally{b(!1)}},J=async()=>{a(Y=>({...Y,fromDate:s.fromDate||"",toDate:s.toDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",agingPeriod:s.agingPeriod||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All",searchText:"",sortBy:"invoiceDate",sortOrder:"DESC"}),i({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const Y=setTimeout(()=>{ie()},500);return()=>clearTimeout(Y)}},[n,l]);const ce=Y=>Y==null?"0.00":`${Y.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,te=Y=>Y?new Date(Y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",ge=Y=>{switch(Y){case"Paid":return"status-badge status-badge--paid";case"Partially Paid":return"status-badge status-badge--partial";case"Generated":return"status-badge status-badge--generated";case"Draft":return"status-badge status-badge--draft";case"Cancelled":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},pe=j&&V.totalInvoices>0?Math.ceil(V.totalInvoices/L):0,be=(I-1)*L,re=Math.min(be+m.length,V.totalInvoices),de=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:de,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Outstanding Payment"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Outstanding Payment Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Invoice Number, Company, HCF, Amount",value:d,onChange:Y=>a(Ae=>({...Ae,searchText:Y.target.value,page:1})),onKeyDown:Y=>{Y.key==="Enter"&&!y&&(Y.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Y=>({...Y,searchText:"",page:1})),(j||X())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({fromDate:n.fromDate||"",toDate:n.toDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",agingPeriod:n.agingPeriod||"All"}),ne.current){const Y=ne.current.getBoundingClientRect();le({top:Y.bottom+8,left:Y.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.fromDate,n.toDate,n.agingPeriod&&n.agingPeriod!=="All"?n.agingPeriod:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Y=>Y.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({fromDate:"",toDate:"",companyId:"",hcfId:"",agingPeriod:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Invoice Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.fromDate||"",onChange:Y=>i(Ae=>({...Ae,fromDate:Y.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.toDate||"",onChange:Y=>i(Ae=>({...Ae,toDate:Y.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Y=>{i(Ae=>({...Ae,companyId:Y.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.companyCode," - ",Y.companyName]},Y.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:Y=>i(Ae=>({...Ae,hcfId:Y.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(Y=>Y.companyId===s.companyId):h).map(Y=>e.jsxs("option",{value:Y.id,children:[Y.hcfCode," - ",Y.hcfName]},Y.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Aging Period"}),e.jsx("select",{className:"filter-modal-select",value:s.agingPeriod||"All",onChange:Y=>i(Ae=>({...Ae,agingPeriod:Y.target.value})),children:M.map(Y=>e.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await J(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Invoice Date"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-right",children:"Invoice Amount"}),e.jsx("th",{className:"text-right",children:"Paid Amount"}),e.jsx("th",{className:"text-right",children:"Outstanding"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Y,Ae)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ae}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No outstanding payments match "${d.trim()}". Try adjusting your search or filters.`:X()?"No outstanding payments match the current filters. Try adjusting your filter criteria.":"No outstanding payments available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((Y,Ae)=>e.jsxs("tr",{className:Ae%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Y.invoiceNumber}),e.jsx("td",{children:Y.companyName||"N/A"}),e.jsx("td",{children:Y.hcfCode||"N/A"}),e.jsx("td",{children:te(Y.invoiceDate)}),e.jsx("td",{children:te(Y.dueDate)}),e.jsx("td",{className:"text-right",children:ce(Y.invoiceValue)}),e.jsx("td",{className:"text-right",children:ce(Y.totalPaidAmount)}),e.jsx("td",{className:"text-right",children:ce(Y.balanceAmount)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ge(Y.status),children:Y.status})})]},Y.invoiceId)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:9,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No outstanding payments found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view outstanding payment reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${be+1}-${re} of ${V.totalInvoices} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async Y=>{a(Ae=>({...Ae,page:1,pageSize:Number(Y.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Y=Math.max(1,I-1);a(Ae=>({...Ae,page:Y}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Y=[];let ye=Math.max(1,I-Math.floor(2.5)),Oe=Math.min(pe,ye+5-1);Oe-ye<4&&(ye=Math.max(1,Oe-5+1)),ye>1&&(Y.push(1),ye>2&&Y.push("..."));for(let We=ye;We<=Oe;We++)Y.push(We);return Oe<pe&&(Oe<pe-1&&Y.push("..."),Y.push(pe)),Y.map((We,ae)=>{if(We==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ae}`);const ke=We;return e.jsx("button",{className:`pagination-page-btn ${I===ke?"active":""}`,onClick:async()=>{a(Fe=>({...Fe,page:ke}))},disabled:!j||m.length===0,children:ke},ke)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Y=Math.min(pe,I+1);a(Ae=>({...Ae,page:Y}))},disabled:I===pe||pe===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Kse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",hcfId:"",daysToExpiry:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalContracts:0,expiringSoon:0});C.useEffect(()=>{(async()=>{try{const[Ae,ye]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(Ae),f(ye)}catch(Ae){console.error("Error loading master data:",Ae)}})()},[]);const $=n.companyId?h.filter(Y=>Y.companyId===n.companyId):h,X=()=>{var Y;return!!(n.companyId||n.hcfId||n.daysToExpiry&&n.daysToExpiry!=="All"||(Y=n.searchText)!=null&&Y.trim())},Ce=()=>{if(!X())return"No filters applied. View contracts that are due for renewal.";const Y=[];if(n.companyId){const Ae=l.find(ye=>ye.id===n.companyId);Ae&&Y.push(`Company: ${Ae.companyName}`)}if(n.hcfId){const Ae=$.find(ye=>ye.id===n.hcfId);Ae&&Y.push(`HCF: ${Ae.hcfCode}`)}return n.daysToExpiry&&n.daysToExpiry!=="All"&&Y.push(`Expiring: ${n.daysToExpiry}`),Y.join("  ")},M=[{value:"All",label:"All Contracts"},{value:"0-30",label:"Expiring in 0-30 Days"},{value:"31-60",label:"Expiring in 31-60 Days"},{value:"61-90",label:"Expiring in 61-90 Days"},{value:"90+",label:"Expiring in 90+ Days"}],q=Y=>{const Ae=new Date(Y),ye=new Date,Oe=Ae.getTime()-ye.getTime();return Math.ceil(Oe/(1e3*60*60*24))},ie=async()=>{var Y;b(!0),E(null);try{const Ae={companyId:n.companyId||void 0,status:"Active"};let ye=await hA.getAllContracts(Ae.companyId,Ae.status);if(n.hcfId&&(ye=ye.filter(Fe=>Fe.hcfId===n.hcfId)),n.daysToExpiry&&n.daysToExpiry!=="All"&&(ye=ye.filter(Fe=>{const nt=q(Fe.endDate);switch(n.daysToExpiry){case"0-30":return nt>=0&&nt<=30;case"31-60":return nt>=31&&nt<=60;case"61-90":return nt>=61&&nt<=90;case"90+":return nt>90;default:return!0}})),(Y=n.searchText)!=null&&Y.trim()){const Fe=n.searchText.toLowerCase().trim();ye=ye.filter(nt=>{const tt=(nt.contractNum||"").toLowerCase(),Le=l.find(yt=>yt.id===nt.companyId),lt=((Le==null?void 0:Le.companyName)||"").toLowerCase(),$t=h.find(yt=>yt.id===nt.hcfId),Ue=(($t==null?void 0:$t.hcfCode)||"").toLowerCase();return tt.includes(Fe)||lt.includes(Fe)||Ue.includes(Fe)})}ye.sort((Fe,nt)=>{const tt=Fe[n.sortBy]||"",Le=nt[n.sortBy]||"";return n.sortOrder==="ASC"?tt>Le?1:-1:tt<Le?1:-1});const Oe=(I-1)*L,We=Oe+L,ae=ye.slice(Oe,We);g(ye),x(ae),S(!0);const ke=ye.filter(Fe=>{const nt=q(Fe.endDate);return nt>=0&&nt<=90}).length;me({totalContracts:ye.length,expiringSoon:ke})}catch(Ae){console.error("Error loading contracts:",Ae),E(Ae.message||"Failed to load contract renewal data"),g([]),x([])}finally{b(!1)}},J=async()=>{a(Y=>({...Y,companyId:s.companyId||"",hcfId:s.hcfId||"",daysToExpiry:s.daysToExpiry||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",daysToExpiry:"All",searchText:"",sortBy:"endDate",sortOrder:"ASC"}),i({companyId:"",hcfId:"",daysToExpiry:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const Y=setTimeout(()=>{ie()},500);return()=>clearTimeout(Y)}},[n,l]);const ce=Y=>Y?new Date(Y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=Y=>{switch(Y){case"Active":return"status-badge status-badge--paid";case"Draft":return"status-badge status-badge--draft";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ge=Y=>Y<0?"status-badge status-badge--cancelled":Y<=30?"status-badge status-badge--due":Y<=60?"status-badge status-badge--partial":"status-badge status-badge--generated",pe=j&&V.totalContracts>0?Math.ceil(V.totalContracts/L):0,be=(I-1)*L,re=Math.min(be+m.length,V.totalContracts),de=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:de,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Contract Renewal"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Contract Renewal Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Contract Number, Company, HCF",value:d,onChange:Y=>a(Ae=>({...Ae,searchText:Y.target.value,page:1})),onKeyDown:Y=>{Y.key==="Enter"&&!y&&(Y.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Y=>({...Y,searchText:"",page:1})),(j||X())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({companyId:n.companyId||"",hcfId:n.hcfId||"",daysToExpiry:n.daysToExpiry||"All"}),ne.current){const Y=ne.current.getBoundingClientRect();le({top:Y.bottom+8,left:Y.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.daysToExpiry&&n.daysToExpiry!=="All"?n.daysToExpiry:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Y=>Y.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfId:"",daysToExpiry:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Y=>{i(Ae=>({...Ae,companyId:Y.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.companyCode," - ",Y.companyName]},Y.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:Y=>i(Ae=>({...Ae,hcfId:Y.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(Y=>Y.companyId===s.companyId):h).map(Y=>e.jsxs("option",{value:Y.id,children:[Y.hcfCode," - ",Y.hcfName]},Y.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Days to Expiry"}),e.jsx("select",{className:"filter-modal-select",value:s.daysToExpiry||"All",onChange:Y=>i(Ae=>({...Ae,daysToExpiry:Y.target.value})),children:M.map(Y=>e.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await J(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract No"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Days to Expiry"}),e.jsx("th",{children:"Billing Type"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Y,Ae)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Ae}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No contracts match "${d.trim()}". Try adjusting your search or filters.`:X()?"No contracts match the current filters. Try adjusting your filter criteria.":"No contracts available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((Y,Ae)=>{var Oe,We;const ye=q(Y.endDate);return e.jsxs("tr",{className:Ae%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Y.contractNum}),e.jsx("td",{children:((Oe=l.find(ae=>ae.id===Y.companyId))==null?void 0:Oe.companyName)||"N/A"}),e.jsx("td",{children:((We=h.find(ae=>ae.id===Y.hcfId))==null?void 0:We.hcfCode)||"N/A"}),e.jsx("td",{children:ce(Y.startDate)}),e.jsx("td",{children:ce(Y.endDate)}),e.jsx("td",{children:e.jsx("span",{className:ge(ye),children:ye<0?"Expired":`${ye} days`})}),e.jsx("td",{children:Y.billingType}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(Y.status),children:Y.status})})]},Y.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:8,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No contracts found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view contract renewal reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${be+1}-${re} of ${V.totalContracts} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async Y=>{a(Ae=>({...Ae,page:1,pageSize:Number(Y.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Y=Math.max(1,I-1);a(Ae=>({...Ae,page:Y}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Y=[];let ye=Math.max(1,I-Math.floor(2.5)),Oe=Math.min(pe,ye+5-1);Oe-ye<4&&(ye=Math.max(1,Oe-5+1)),ye>1&&(Y.push(1),ye>2&&Y.push("..."));for(let We=ye;We<=Oe;We++)Y.push(We);return Oe<pe&&(Oe<pe-1&&Y.push("..."),Y.push(pe)),Y.map((We,ae)=>{if(We==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ae}`);const ke=We;return e.jsx("button",{className:`pagination-page-btn ${I===ke?"active":""}`,onClick:async()=>{a(Fe=>({...Fe,page:ke}))},disabled:!j||m.length===0,children:ke},ke)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Y=Math.min(pe,I+1);a(Ae=>({...Ae,page:Y}))},disabled:I===pe||pe===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},qse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),[s,i]=C.useState({companyId:"",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalRoutes:0});C.useEffect(()=>{(async()=>{try{const ge=await ia.getAllCompanies();u(ge)}catch(ge){console.error("Error loading master data:",ge)}})()},[]);const V=()=>{var te;return!!(n.companyId||n.status&&n.status!=="All"||(te=n.searchText)!=null&&te.trim())},me=()=>{if(!V())return"No filters applied. View all routes.";const te=[];if(n.companyId){const ge=l.find(pe=>pe.id===n.companyId);ge&&te.push(`Company: ${ge.companyName}`)}return n.status&&n.status!=="All"&&te.push(`Status: ${n.status}`),te.join("  ")},$=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],X=async()=>{var te;x(!0),S(null);try{let ge=await cA.getAllRoutes(!0);if(n.companyId&&(ge=ge.filter(de=>de.companyId===n.companyId)),n.status&&n.status!=="All"&&(ge=ge.filter(de=>de.status===n.status)),(te=n.searchText)!=null&&te.trim()){const de=n.searchText.toLowerCase().trim();ge=ge.filter(Y=>{const Ae=(Y.routeCode||"").toLowerCase(),ye=(Y.routeName||"").toLowerCase(),Oe=l.find(ae=>ae.id===Y.companyId),We=((Oe==null?void 0:Oe.companyName)||"").toLowerCase();return Ae.includes(de)||ye.includes(de)||We.includes(de)})}ge.sort((de,Y)=>{const Ae=de[n.sortBy]||"",ye=Y[n.sortBy]||"";return n.sortOrder==="ASC"?Ae>ye?1:-1:Ae<ye?1:-1});const pe=(w-1)*E,be=pe+E,re=ge.slice(pe,be);f(ge),g(re),b(!0),le({totalRoutes:ge.length})}catch(ge){console.error("Error loading routes:",ge),S(ge.message||"Failed to load route data"),f([]),g([])}finally{x(!1)}},Ce=async()=>{a(te=>({...te,companyId:s.companyId||"",status:s.status||"All",page:1})),o(!1),await X()},M=async()=>{a({page:1,pageSize:25,companyId:"",status:"All",searchText:"",sortBy:"routeCode",sortOrder:"ASC"}),i({companyId:"",status:"All"}),o(!1),await X()};C.useEffect(()=>{if(l.length>0||!n.companyId){const te=setTimeout(()=>{X()},500);return()=>clearTimeout(te)}},[n,l]);const q=te=>{switch(te){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ie=y&&G.totalRoutes>0?Math.ceil(G.totalRoutes/E):0,J=(w-1)*E,D=Math.min(J+A.length,G.totalRoutes),ce=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:ce,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Route"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Route Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Route Code, Route Name, Company",value:d,onChange:te=>a(ge=>({...ge,searchText:te.target.value,page:1})),onKeyDown:te=>{te.key==="Enter"&&!m&&(te.preventDefault(),X())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(te=>({...te,searchText:"",page:1})),(y||V())&&await X()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||i({companyId:n.companyId||"",status:n.status||"All"}),L.current){const te=L.current.getBoundingClientRect();ne({top:te.bottom+8,left:te.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:te=>te.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:te=>i(ge=>({...ge,companyId:te.target.value})),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(te=>e.jsxs("option",{value:te.id,children:[te.companyCode," - ",te.companyName]},te.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:te=>i(ge=>({...ge,status:te.target.value})),children:$.map(te=>e.jsx("option",{value:te.value,children:te.label},te.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await Ce(),o(!1)},disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),j&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:j}),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Route Code"}),e.jsx("th",{children:"Route Name"}),e.jsx("th",{children:"Company"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((te,ge)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ge}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No routes match "${d.trim()}". Try adjusting your search or filters.`:V()?"No routes match the current filters. Try adjusting your filter criteria.":"No routes available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:M,children:"Clear Filters"})})]})})}):A.map((te,ge)=>{var pe;return e.jsxs("tr",{className:ge%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:te.routeCode}),e.jsx("td",{children:te.routeName}),e.jsx("td",{children:((pe=l.find(be=>be.id===te.companyId))==null?void 0:pe.companyName)||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:q(te.status),children:te.status})})]},te.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No routes found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view route reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${J+1}-${D} of ${G.totalRoutes} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async te=>{a(ge=>({...ge,page:1,pageSize:Number(te.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const te=Math.max(1,w-1);a(ge=>({...ge,page:te}))},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const te=[];let pe=Math.max(1,w-Math.floor(2.5)),be=Math.min(ie,pe+5-1);be-pe<4&&(pe=Math.max(1,be-5+1)),pe>1&&(te.push(1),pe>2&&te.push("..."));for(let re=pe;re<=be;re++)te.push(re);return be<ie&&(be<ie-1&&te.push("..."),te.push(ie)),te.map((re,de)=>{if(re==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${de}`);const Y=re;return e.jsx("button",{className:`pagination-page-btn ${w===Y?"active":""}`,onClick:async()=>{a(Ae=>({...Ae,page:Y}))},disabled:!y||A.length===0,children:Y},Y)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const te=Math.min(ie,w+1);a(ge=>({...ge,page:te}))},disabled:w===ie||ie===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Xse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),[s,i]=C.useState({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalCollections:0,totalWeight:0});C.useEffect(()=>{(async()=>{try{const[ye,Oe]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(ye),f(Oe)}catch(ye){console.error("Error loading master data:",ye)}})()},[]);const $=n.companyId?h.filter(Ae=>Ae.companyId===n.companyId):h,X=()=>{var Ae;return!!(n.collectionFromDate||n.collectionToDate||n.companyId||n.hcfId||n.wasteColor&&n.wasteColor!=="All"||n.status&&n.status!=="All"||(Ae=n.searchText)!=null&&Ae.trim())},Ce=()=>{if(!X())return"No filters applied. Select a date range or search to view waste collection data.";const Ae=[];if(n.collectionFromDate&&n.collectionToDate){const ye=new Date(n.collectionFromDate),Oe=new Date(n.collectionToDate),We=ye.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ae=Oe.toLocaleDateString("en-US",{month:"short",day:"numeric"});Ae.push(`Date: ${We}${ae}`)}if(n.companyId){const ye=l.find(Oe=>Oe.id===n.companyId);ye&&Ae.push(`Company: ${ye.companyName}`)}if(n.hcfId){const ye=$.find(Oe=>Oe.id===n.hcfId);ye&&Ae.push(`HCF: ${ye.hcfCode}`)}return n.wasteColor&&n.wasteColor!=="All"&&Ae.push(`Color: ${n.wasteColor}`),Ae.join("  ")},M=[{value:"All",label:"All Colors"},{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"White",label:"White"}],q=[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"Collected",label:"Collected"},{value:"In Transit",label:"In Transit"},{value:"Processed",label:"Processed"},{value:"Disposed",label:"Disposed"}],ie=async()=>{var Ae;b(!0),E(null);try{let ye=[];if(n.companyId)try{ye=await kh.getAllCollections(),ye=ye.filter(ke=>ke.companyId===n.companyId)}catch(ke){console.warn("Error loading collections:",ke),ye=[]}else try{ye=await kh.getAllCollections()}catch(ke){console.warn("Error loading collections:",ke),ye=[]}if(n.collectionFromDate){const ke=new Date(n.collectionFromDate);ye=ye.filter(Fe=>new Date(Fe.collectionDate)>=ke)}if(n.collectionToDate){const ke=new Date(n.collectionToDate);ke.setHours(23,59,59,999),ye=ye.filter(Fe=>new Date(Fe.collectionDate)<=ke)}if(n.hcfId&&(ye=ye.filter(ke=>ke.hcfId===n.hcfId)),n.wasteColor&&n.wasteColor!=="All"&&(ye=ye.filter(ke=>ke.wasteColor===n.wasteColor)),n.status&&n.status!=="All"&&(ye=ye.filter(ke=>ke.status===n.status)),(Ae=n.searchText)!=null&&Ae.trim()){const ke=n.searchText.toLowerCase().trim();ye=ye.filter(Fe=>{const nt=(Fe.barcode||"").toLowerCase(),tt=l.find(Ue=>Ue.id===Fe.companyId),Le=((tt==null?void 0:tt.companyName)||"").toLowerCase(),lt=h.find(Ue=>Ue.id===Fe.hcfId),$t=((lt==null?void 0:lt.hcfCode)||"").toLowerCase();return nt.includes(ke)||Le.includes(ke)||$t.includes(ke)||Fe.weightKg&&Fe.weightKg.toString().includes(ke)})}ye.sort((ke,Fe)=>{const nt=ke[n.sortBy]||"",tt=Fe[n.sortBy]||"";return n.sortOrder==="ASC"?nt>tt?1:-1:nt<tt?1:-1});const Oe=(I-1)*L,We=Oe+L,ae=ye.slice(Oe,We);g(ye),x(ae),S(!0),me({totalCollections:ye.length,totalWeight:ye.reduce((ke,Fe)=>ke+(Fe.weightKg||0),0)})}catch(ye){console.error("Error loading waste collections:",ye),E(ye.message||"Failed to load waste collection data"),g([]),x([])}finally{b(!1)}},J=async()=>{a(Ae=>({...Ae,collectionFromDate:s.collectionFromDate||"",collectionToDate:s.collectionToDate||"",companyId:s.companyId||"",hcfId:s.hcfId||"",wasteColor:s.wasteColor||"All",status:s.status||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All",searchText:"",sortBy:"collectionDate",sortOrder:"DESC"}),i({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const Ae=setTimeout(()=>{ie()},500);return()=>clearTimeout(Ae)}},[n,l]);const ce=Ae=>Ae?new Date(Ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=Ae=>Ae==null?"N/A":`${Ae.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} kg`,ge=Ae=>{switch(Ae){case"Collected":return"status-badge status-badge--paid";case"Processed":return"status-badge status-badge--generated";case"Disposed":return"status-badge status-badge--paid";case"In Transit":return"status-badge status-badge--partial";case"Pending":return"status-badge status-badge--draft";default:return"status-badge status-badge--generated"}},pe=Ae=>{switch(Ae){case"Yellow":return"status-badge status-badge--partial";case"Red":return"status-badge status-badge--due";case"White":return"status-badge status-badge--generated";default:return"status-badge status-badge--generated"}},be=j&&V.totalCollections>0?Math.ceil(V.totalCollections/L):0,re=(I-1)*L,de=Math.min(re+m.length,V.totalCollections),Y=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:Y,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Waste Collection"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Waste Collection Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Barcode, Company, HCF, Weight",value:d,onChange:Ae=>a(ye=>({...ye,searchText:Ae.target.value,page:1})),onKeyDown:Ae=>{Ae.key==="Enter"&&!y&&(Ae.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(Ae=>({...Ae,searchText:"",page:1})),(j||X())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({collectionFromDate:n.collectionFromDate||"",collectionToDate:n.collectionToDate||"",companyId:n.companyId||"",hcfId:n.hcfId||"",wasteColor:n.wasteColor||"All",status:n.status||"All"}),ne.current){const Ae=ne.current.getBoundingClientRect();le({top:Ae.bottom+8,left:Ae.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.collectionFromDate,n.collectionToDate,n.wasteColor&&n.wasteColor!=="All"?n.wasteColor:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:Ae=>Ae.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({collectionFromDate:"",collectionToDate:"",companyId:"",hcfId:"",wasteColor:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Collection Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionFromDate||"",onChange:Ae=>i(ye=>({...ye,collectionFromDate:Ae.target.value})),placeholder:"From Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.collectionToDate||"",onChange:Ae=>i(ye=>({...ye,collectionToDate:Ae.target.value})),placeholder:"To Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:Ae=>{i(ye=>({...ye,companyId:Ae.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(Ae=>e.jsxs("option",{value:Ae.id,children:[Ae.companyCode," - ",Ae.companyName]},Ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:Ae=>i(ye=>({...ye,hcfId:Ae.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(Ae=>Ae.companyId===s.companyId):h).map(Ae=>e.jsxs("option",{value:Ae.id,children:[Ae.hcfCode," - ",Ae.hcfName]},Ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Waste Color"}),e.jsx("select",{className:"filter-modal-select",value:s.wasteColor||"All",onChange:Ae=>i(ye=>({...ye,wasteColor:Ae.target.value})),children:M.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:Ae=>i(ye=>({...ye,status:Ae.target.value})),children:q.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await J(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Barcode"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Collection Date"}),e.jsx("th",{children:"Waste Color"}),e.jsx("th",{className:"text-right",children:"Weight (kg)"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((Ae,ye)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{className:"text-right",children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${ye}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No collections match "${d.trim()}". Try adjusting your search or filters.`:X()?"No collections match the current filters. Try adjusting your filter criteria.":"No waste collection data available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((Ae,ye)=>{var Oe,We;return e.jsxs("tr",{className:ye%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:Ae.barcode}),e.jsx("td",{children:((Oe=l.find(ae=>ae.id===Ae.companyId))==null?void 0:Oe.companyName)||"N/A"}),e.jsx("td",{children:((We=h.find(ae=>ae.id===Ae.hcfId))==null?void 0:We.hcfCode)||"N/A"}),e.jsx("td",{children:ce(Ae.collectionDate)}),e.jsx("td",{children:e.jsx("span",{className:pe(Ae.wasteColor),children:Ae.wasteColor})}),e.jsx("td",{className:"text-right",children:te(Ae.weightKg)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:ge(Ae.status),children:Ae.status})})]},Ae.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:7,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No waste collection data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view waste collection reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${re+1}-${de} of ${V.totalCollections} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async Ae=>{a(ye=>({...ye,page:1,pageSize:Number(Ae.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.max(1,I-1);a(ye=>({...ye,page:Ae}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const Ae=[];let Oe=Math.max(1,I-Math.floor(2.5)),We=Math.min(be,Oe+5-1);We-Oe<4&&(Oe=Math.max(1,We-5+1)),Oe>1&&(Ae.push(1),Oe>2&&Ae.push("..."));for(let ae=Oe;ae<=We;ae++)Ae.push(ae);return We<be&&(We<be-1&&Ae.push("..."),Ae.push(be)),Ae.map((ae,ke)=>{if(ae==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${ke}`);const Fe=ae;return e.jsx("button",{className:`pagination-page-btn ${I===Fe?"active":""}`,onClick:async()=>{a(nt=>({...nt,page:Fe}))},disabled:!j||m.length===0,children:Fe},Fe)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const Ae=Math.min(be,I+1);a(ye=>({...ye,page:Ae}))},disabled:I===be||be===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Yse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),[s,i]=C.useState({status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState(!1),[m,x]=C.useState(!1),[y,b]=C.useState(null),j=n.page||1,S=n.pageSize||25,w=C.useRef(null),E=C.useRef(null),[I,L]=C.useState(null),[Z,ne]=C.useState({totalCompanies:0}),G=()=>{var ce;return!!(n.status&&n.status!=="All"||(ce=n.searchText)!=null&&ce.trim())},le=()=>{if(!G())return"No filters applied. View all companies.";const ce=[];return n.status&&n.status!=="All"&&ce.push(`Status: ${n.status}`),ce.join("  ")},V=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],me=async()=>{var ce;g(!0),b(null);try{let te=await ia.getAllCompanies();if(n.status&&n.status!=="All"&&(te=te.filter(re=>re.status===n.status)),(ce=n.searchText)!=null&&ce.trim()){const re=n.searchText.toLowerCase().trim();te=te.filter(de=>{const Y=(de.companyCode||"").toLowerCase(),Ae=(de.companyName||"").toLowerCase();return Y.includes(re)||Ae.includes(re)})}te.sort((re,de)=>{const Y=re[n.sortBy]||"",Ae=de[n.sortBy]||"";return n.sortOrder==="ASC"?Y>Ae?1:-1:Y<Ae?1:-1});const ge=(j-1)*S,pe=ge+S,be=te.slice(ge,pe);u(te),f(be),x(!0),ne({totalCompanies:te.length})}catch(te){console.error("Error loading companies:",te),b(te.message||"Failed to load company data"),u([]),f([])}finally{g(!1)}},$=async()=>{a(ce=>({...ce,status:s.status||"All",page:1})),o(!1),await me()},X=async()=>{a({page:1,pageSize:25,status:"All",searchText:"",sortBy:"companyCode",sortOrder:"ASC"}),i({status:"All"}),o(!1),await me()};C.useEffect(()=>{const ce=setTimeout(()=>{me()},500);return()=>clearTimeout(ce)},[n]);const Ce=ce=>ce?new Date(ce).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",M=ce=>{switch(ce){case"Active":return"status-badge status-badge--paid";case"Inactive":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},q=m&&Z.totalCompanies>0?Math.ceil(Z.totalCompanies/S):0,ie=(j-1)*S,J=Math.min(ie+h.length,Z.totalCompanies),D=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:D,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Company Master"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Company Master Report"}),!G()&&e.jsx("div",{className:"page-context-subtitle",children:le()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${A?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Company Code, Company Name",value:d,onChange:ce=>a(te=>({...te,searchText:ce.target.value,page:1})),onKeyDown:ce=>{ce.key==="Enter"&&!A&&(ce.preventDefault(),me())},disabled:A}),d&&!A&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(ce=>({...ce,searchText:"",page:1})),(m||G())&&await me()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:E,className:`btn btn-filters-toggle ${c?"active":""} ${A?"loading":""}`,onClick:()=>{if(!A){if(c||i({status:n.status||"All"}),E.current){const ce=E.current.getBoundingClientRect();L({top:ce.bottom+8,left:ce.left})}o(!c)}},disabled:A,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),L(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ce=>ce.stopPropagation(),style:I?{position:"fixed",top:`${I.top}px`,left:`${I.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsx("div",{className:"filter-modal-grid",children:e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ce=>i(te=>({...te,status:ce.target.value})),children:V.map(ce=>e.jsx("option",{value:ce.value,children:ce.label},ce.value))})]})})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await $(),o(!1)},disabled:A,children:A?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),y&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:y}),e.jsxs("div",{className:"results-section",ref:w,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Code"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Created Date"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:A?Array.from({length:5}).map((ce,te)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${te}`)):m?h.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No companies match "${d.trim()}". Try adjusting your search or filters.`:G()?"No companies match the current filters. Try adjusting your filter criteria.":"No companies available. Use the search bar or apply filters to view reports."}),(G()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:X,children:"Clear Filters"})})]})})}):h.map((ce,te)=>e.jsxs("tr",{className:te%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ce.companyCode}),e.jsx("td",{children:ce.companyName}),e.jsx("td",{children:Ce(ce.createdOn)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:M(ce.status),children:ce.status})})]},ce.id)):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:4,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No companies found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view company reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:m&&h.length>0?`Showing ${ie+1}-${J} of ${Z.totalCompanies} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:S,disabled:!m||h.length===0,onChange:async ce=>{a(te=>({...te,page:1,pageSize:Number(ce.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.max(1,j-1);a(te=>({...te,page:ce}))},disabled:j===1||!m||h.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ce=[];let ge=Math.max(1,j-Math.floor(2.5)),pe=Math.min(q,ge+5-1);pe-ge<4&&(ge=Math.max(1,pe-5+1)),ge>1&&(ce.push(1),ge>2&&ce.push("..."));for(let be=ge;be<=pe;be++)ce.push(be);return pe<q&&(pe<q-1&&ce.push("..."),ce.push(q)),ce.map((be,re)=>{if(be==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${re}`);const de=be;return e.jsx("button",{className:`pagination-page-btn ${j===de?"active":""}`,onClick:async()=>{a(Y=>({...Y,page:de}))},disabled:!m||h.length===0,children:de},de)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ce=Math.min(q,j+1);a(te=>({...te,page:ce}))},disabled:j===q||q===0||!m||h.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Jse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),[s,i]=C.useState({companyId:"",hcfId:"",complianceType:"All",status:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState([]),[y,b]=C.useState(!1),[j,S]=C.useState(!1),[w,E]=C.useState(null),I=n.page||1,L=n.pageSize||25,Z=C.useRef(null),ne=C.useRef(null),[G,le]=C.useState(null),[V,me]=C.useState({totalItems:0,compliant:0,nonCompliant:0});C.useEffect(()=>{(async()=>{try{const[Y,Ae]=await Promise.all([ia.getAllCompanies(),xi.getAllHcfs()]);u(Y),f(Ae)}catch(Y){console.error("Error loading master data:",Y)}})()},[]);const $=n.companyId?h.filter(de=>de.companyId===n.companyId):h,X=()=>{var de;return!!(n.companyId||n.hcfId||n.complianceType&&n.complianceType!=="All"||n.status&&n.status!=="All"||(de=n.searchText)!=null&&de.trim())},Ce=()=>{if(!X())return"No filters applied. View all compliance statuses.";const de=[];if(n.companyId){const Y=l.find(Ae=>Ae.id===n.companyId);Y&&de.push(`Company: ${Y.companyName}`)}if(n.hcfId){const Y=$.find(Ae=>Ae.id===n.hcfId);Y&&de.push(`HCF: ${Y.hcfCode}`)}return n.complianceType&&n.complianceType!=="All"&&de.push(`Type: ${n.complianceType}`),n.status&&n.status!=="All"&&de.push(`Status: ${n.status}`),de.join("  ")},M=[{value:"All",label:"All Types"},{value:"License",label:"License"},{value:"Permit",label:"Permit"},{value:"Certificate",label:"Certificate"},{value:"Registration",label:"Registration"}],q=[{value:"All",label:"All Status"},{value:"Compliant",label:"Compliant"},{value:"Non-Compliant",label:"Non-Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],ie=async()=>{var de;b(!0),E(null);try{let Y=[];if(n.companyId&&(Y=Y.filter(We=>We.companyId===n.companyId)),n.hcfId&&(Y=Y.filter(We=>We.hcfId===n.hcfId)),n.complianceType&&n.complianceType!=="All"&&(Y=Y.filter(We=>We.complianceType===n.complianceType)),n.status&&n.status!=="All"&&(Y=Y.filter(We=>We.status===n.status)),(de=n.searchText)!=null&&de.trim()){const We=n.searchText.toLowerCase().trim();Y=Y.filter(ae=>{const ke=l.find(Le=>Le.id===ae.companyId),Fe=((ke==null?void 0:ke.companyName)||"").toLowerCase(),nt=h.find(Le=>Le.id===ae.hcfId),tt=((nt==null?void 0:nt.hcfCode)||"").toLowerCase();return ae.complianceType.toLowerCase().includes(We)||Fe.includes(We)||tt.includes(We)||ae.notes&&ae.notes.toLowerCase().includes(We)})}Y.sort((We,ae)=>{const ke=We[n.sortBy]||"",Fe=ae[n.sortBy]||"";return n.sortOrder==="ASC"?ke>Fe?1:-1:ke<Fe?1:-1});const Ae=(I-1)*L,ye=Ae+L,Oe=Y.slice(Ae,ye);g(Y),x(Oe),S(!0),me({totalItems:Y.length,compliant:Y.filter(We=>We.status==="Compliant").length,nonCompliant:Y.filter(We=>We.status==="Non-Compliant"||We.status==="Expired").length})}catch(Y){console.error("Error loading compliance data:",Y),E(Y.message||"Failed to load compliance status data"),g([]),x([])}finally{b(!1)}},J=async()=>{a(de=>({...de,companyId:s.companyId||"",hcfId:s.hcfId||"",complianceType:s.complianceType||"All",status:s.status||"All",page:1})),o(!1),await ie()},D=async()=>{a({page:1,pageSize:25,companyId:"",hcfId:"",complianceType:"All",status:"All",searchText:"",sortBy:"lastChecked",sortOrder:"DESC"}),i({companyId:"",hcfId:"",complianceType:"All",status:"All"}),o(!1),await ie()};C.useEffect(()=>{if(l.length>0||!n.companyId){const de=setTimeout(()=>{ie()},500);return()=>clearTimeout(de)}},[n,l]);const ce=de=>de?new Date(de).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",te=de=>{switch(de){case"Compliant":return"status-badge status-badge--paid";case"Non-Compliant":return"status-badge status-badge--due";case"Expiring Soon":return"status-badge status-badge--partial";case"Expired":return"status-badge status-badge--cancelled";default:return"status-badge status-badge--generated"}},ge=j&&V.totalItems>0?Math.ceil(V.totalItems/L):0,pe=(I-1)*L,be=Math.min(pe+m.length,V.totalItems),re=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/transaction",label:"Transaction",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),active:r.pathname.startsWith("/transaction")},{path:"/finance",label:"Finance",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),active:r.pathname.startsWith("/finance")},{path:"/commercial-agreements",label:"Commercial / Agreements",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/commercial-agreements")},{path:"/compliance-training",label:"Compliance & Training",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),active:r.pathname.startsWith("/compliance-training")},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}];return e.jsx(Nc,{navItems:re,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Compliance Status"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Compliance Status Report"}),!X()&&e.jsx("div",{className:"page-context-subtitle",children:Ce()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${y?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Compliance Type, Company, HCF, Notes",value:d,onChange:de=>a(Y=>({...Y,searchText:de.target.value,page:1})),onKeyDown:de=>{de.key==="Enter"&&!y&&(de.preventDefault(),ie())},disabled:y}),d&&!y&&e.jsx("button",{className:"clear-search-btn",onClick:async()=>{a(de=>({...de,searchText:"",page:1})),(j||X())&&await ie()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:ne,className:`btn btn-filters-toggle ${c?"active":""} ${y?"loading":""}`,onClick:()=>{if(!y){if(c||i({companyId:n.companyId||"",hcfId:n.hcfId||"",complianceType:n.complianceType||"All",status:n.status||"All"}),ne.current){const de=ne.current.getBoundingClientRect();le({top:de.bottom+8,left:de.left})}o(!c)}},disabled:y,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[n.companyId,n.hcfId,n.complianceType&&n.complianceType!=="All"?n.complianceType:"",n.status&&n.status!=="All"?n.status:""].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),le(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:de=>de.stopPropagation(),style:G?{position:"fixed",top:`${G.top}px`,left:`${G.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{i({companyId:"",hcfId:"",complianceType:"All",status:"All"})},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:de=>{i(Y=>({...Y,companyId:de.target.value,hcfId:""}))},children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(de=>e.jsxs("option",{value:de.id,children:[de.companyCode," - ",de.companyName]},de.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"HCF Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.hcfId||"",onChange:de=>i(Y=>({...Y,hcfId:de.target.value})),disabled:!s.companyId,children:[e.jsx("option",{value:"",children:"Select HCF Name"}),(s.companyId?h.filter(de=>de.companyId===s.companyId):h).map(de=>e.jsxs("option",{value:de.id,children:[de.hcfCode," - ",de.hcfName]},de.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Type"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceType||"All",onChange:de=>i(Y=>({...Y,complianceType:de.target.value})),children:M.map(de=>e.jsx("option",{value:de.value,children:de.label},de.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:de=>i(Y=>({...Y,status:de.target.value})),children:q.map(de=>e.jsx("option",{value:de.value,children:de.label},de.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:async()=>{await J(),o(!1)},disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),w&&e.jsx("div",{className:"error-message",style:{padding:"10px",marginBottom:"12px",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",border:"1px solid #ef4444"},children:w}),e.jsxs("div",{className:"results-section",ref:Z,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Compliance Type"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"HCF"}),e.jsx("th",{children:"Expiry Date"}),e.jsx("th",{children:"Last Checked"}),e.jsx("th",{className:"text-center",children:"Status"})]})}),e.jsx("tbody",{className:"table-body",children:y?Array.from({length:5}).map((de,Y)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})})]},`skeleton-${Y}`)):j?m.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No compliance items match "${d.trim()}". Try adjusting your search or filters.`:X()?"No compliance items match the current filters. Try adjusting your filter criteria.":"No compliance data available. Use the search bar or apply filters to view reports."}),(X()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:D,children:"Clear Filters"})})]})})}):m.map((de,Y)=>{var Ae,ye;return e.jsxs("tr",{className:Y%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{children:de.complianceType}),e.jsx("td",{children:((Ae=l.find(Oe=>Oe.id===de.companyId))==null?void 0:Ae.companyName)||"N/A"}),e.jsx("td",{children:((ye=h.find(Oe=>Oe.id===de.hcfId))==null?void 0:ye.hcfCode)||"N/A"}),e.jsx("td",{children:ce(de.expiryDate)}),e.jsx("td",{children:ce(de.lastChecked)}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:te(de.status),children:de.status})})]},de.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:6,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No compliance data found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view compliance status reports."})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:j&&m.length>0?`Showing ${pe+1}-${be} of ${V.totalItems} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:L,disabled:!j||m.length===0,onChange:async de=>{a(Y=>({...Y,page:1,pageSize:Number(de.target.value)}))},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.max(1,I-1);a(Y=>({...Y,page:de}))},disabled:I===1||!j||m.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const de=[];let Ae=Math.max(1,I-Math.floor(2.5)),ye=Math.min(ge,Ae+5-1);ye-Ae<4&&(Ae=Math.max(1,ye-5+1)),Ae>1&&(de.push(1),Ae>2&&de.push("..."));for(let Oe=Ae;Oe<=ye;Oe++)de.push(Oe);return ye<ge&&(ye<ge-1&&de.push("..."),de.push(ge)),de.map((Oe,We)=>{if(Oe==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${We}`);const ae=Oe;return e.jsx("button",{className:`pagination-page-btn ${I===ae?"active":""}`,onClick:async()=>{a(ke=>({...ke,page:ae}))},disabled:!j||m.length===0,children:ae},ae)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const de=Math.min(ge,I+1);a(Y=>({...Y,page:de}))},disabled:I===ge||ge===0||!j||m.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},Zse=()=>{const r=un(),t=Ma(),[n,a]=C.useState({page:1,pageSize:25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"}),[s,i]=C.useState({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"}),[c,o]=C.useState(!1),d=n.searchText||"",[l,u]=C.useState([]),[h,f]=C.useState([]),[A,g]=C.useState([]),[m,x]=C.useState(!1),[y,b]=C.useState(!1),[j,S]=C.useState(null),w=n.page||1,E=n.pageSize||25,I=C.useRef(null),L=C.useRef(null),[Z,ne]=C.useState(null),[G,le]=C.useState({totalFleets:0,activeFleets:0,inactiveFleets:0});C.useEffect(()=>{(async()=>{try{const ke=await ia.getAllCompanies();u(ke)}catch(ke){console.error("Error loading master data:",ke)}})()},[]);const V=()=>{var ae;return!!(n.createdFromDate||n.createdToDate||n.companyId||n.vehMake||n.status&&n.status!=="All"||n.complianceStatus&&n.complianceStatus!=="All"||(ae=n.searchText)!=null&&ae.trim())},me=()=>{if(!V())return"No filters applied. Select a date range or search to view fleet vehicles.";const ae=[];if(n.createdFromDate&&n.createdToDate){const ke=new Date(n.createdFromDate),Fe=new Date(n.createdToDate),nt=ke.toLocaleDateString("en-US",{month:"short",day:"numeric"}),tt=Fe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});ae.push(`${nt} - ${tt}`)}else if(n.createdFromDate||n.createdToDate){if(n.createdFromDate){const ke=new Date(n.createdFromDate);ae.push(`From ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}if(n.createdToDate){const ke=new Date(n.createdToDate);ae.push(`To ${ke.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`)}}if(n.companyId){const ke=l.find(Fe=>Fe.id===n.companyId);ae.push(ke?ke.companyName:"Selected Company")}else ae.push("All Companies");return n.vehMake&&n.vehMake!=="All"&&ae.push(`Make: ${n.vehMake}`),n.status&&n.status!=="All"?ae.push(n.status):ae.push("All Status"),n.complianceStatus&&n.complianceStatus!=="All"&&ae.push(`Compliance: ${n.complianceStatus}`),`Showing fleet vehicles for: ${ae.join("  ")}`},$=(ae,ke)=>{i(Fe=>({...Fe,[ae]:ke}))},X=()=>{a(ae=>({...ae,createdFromDate:s.createdFromDate||"",createdToDate:s.createdToDate||"",companyId:s.companyId||"",vehMake:s.vehMake||"",status:s.status||"All",complianceStatus:s.complianceStatus||"All",page:1}))},Ce=()=>{const ae={page:1,pageSize:n.pageSize||25,createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All",searchText:"",sortBy:"createdOn",sortOrder:"DESC"};a(ae),i({createdFromDate:"",createdToDate:"",companyId:"",vehMake:"",status:"All",complianceStatus:"All"})},M=(ae,ke)=>{a(Fe=>({...Fe,page:ae,...ke!==void 0&&{pageSize:ke}}))},q=ae=>{a(ke=>({...ke,searchText:ae,page:1}))},ie=[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],J=[{value:"All",label:"All"},{value:"Compliant",label:"Compliant"},{value:"Expiring Soon",label:"Expiring Soon"},{value:"Expired",label:"Expired"}],D=()=>{const ae=new Set;return h.forEach(ke=>{ke.vehMake&&ae.add(ke.vehMake)}),Array.from(ae).sort()},ce=ae=>{const ke=new Date;ke.setHours(0,0,0,0);const Fe=[ae.nextFCDate?new Date(ae.nextFCDate):null,ae.pucDateValidUpto?new Date(ae.pucDateValidUpto):null,ae.insuranceValidUpto?new Date(ae.insuranceValidUpto):null].filter(Boolean);if(Fe.length===0)return"Compliant";if(Fe.filter(lt=>lt<ke).length>0)return"Expired";const tt=new Date(ke);return tt.setDate(tt.getDate()+30),Fe.filter(lt=>lt<=tt&&lt>=ke).length>0?"Expiring Soon":"Compliant"},te=async()=>{var ae;x(!0),S(null);try{let ke=[];if(n.companyId)ke=await Ph.getAllFleets(n.companyId);else{const lt=l.length>0?l:await ia.getAllCompanies();for(const $t of lt)try{const Ue=await Ph.getAllFleets($t.id);ke.push(...Ue)}catch(Ue){console.warn(`Failed to load fleets for company ${$t.companyName}:`,Ue)}}let Fe=ke;if(n.createdFromDate){const lt=new Date(n.createdFromDate);Fe=Fe.filter($t=>new Date($t.createdOn)>=lt)}if(n.createdToDate){const lt=new Date(n.createdToDate);lt.setHours(23,59,59,999),Fe=Fe.filter($t=>new Date($t.createdOn)<=lt)}if(n.companyId&&(Fe=Fe.filter(lt=>lt.companyId===n.companyId)),n.vehMake&&n.vehMake!=="All"&&(Fe=Fe.filter(lt=>lt.vehMake===n.vehMake)),n.status&&n.status!=="All"&&(Fe=Fe.filter(lt=>lt.status===n.status)),n.complianceStatus&&n.complianceStatus!=="All"&&(Fe=Fe.filter(lt=>ce(lt)===n.complianceStatus)),(ae=n.searchText)!=null&&ae.trim()){const lt=n.searchText.toLowerCase().trim();Fe=Fe.filter($t=>{const Ue=($t.vehicleNum||"").toLowerCase(),yt=($t.vehMake||"").toLowerCase(),Tt=($t.vehModel||"").toLowerCase(),Zt=($t.ownerName||"").toLowerCase(),Mr=($t.ownerContact||"").toLowerCase(),_t=($t.capacity||"").toLowerCase();return Ue.includes(lt)||yt.includes(lt)||Tt.includes(lt)||Zt.includes(lt)||Mr.includes(lt)||_t.includes(lt)})}Fe.sort((lt,$t)=>{const Ue=lt[n.sortBy]||"",yt=$t[n.sortBy]||"";return n.sortOrder==="ASC"?Ue>yt?1:-1:Ue<yt?1:-1});const nt=(w-1)*E,tt=nt+E,Le=Fe.slice(nt,tt);f(Fe),g(Le),b(!0),le({totalFleets:Fe.length,activeFleets:Fe.filter(lt=>lt.status==="Active").length,inactiveFleets:Fe.filter(lt=>lt.status==="Inactive").length})}catch(ke){console.error("Error loading fleets:",ke),S(ke.message||"Failed to load fleet vehicles"),f([]),g([])}finally{x(!1)}};C.useEffect(()=>{if(l.length>0){const ae=setTimeout(()=>{te()},500);return()=>clearTimeout(ae)}},[n,l]);const ge=async()=>{X(),o(!1),await te()},pe=async()=>{Ce(),o(!1),await te()},be=ae=>ae?new Date(ae).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",re=ae=>{switch(ae){case"Active":return"status-badge status-badge--active";case"Inactive":return"status-badge status-badge--inactive";default:return"status-badge status-badge--active"}},de=ae=>{switch(ae){case"Compliant":return"status-badge status-badge--compliant";case"Expiring Soon":return"status-badge status-badge--expiring";case"Expired":return"status-badge status-badge--expired";default:return"status-badge status-badge--compliant"}},Y=y&&G.totalFleets>0?Math.ceil(G.totalFleets/E):0,Ae=(w-1)*E,ye=Math.min(Ae+A.length,G.totalFleets),Oe=[{path:"/dashboard",label:"Dashboard",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),active:r.pathname==="/dashboard"},{path:"/master",label:"Master",icon:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),active:r.pathname.startsWith("/master")},{path:"/report",label:"Reports",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),active:r.pathname.startsWith("/report")}],We=D();return e.jsx(Nc,{navItems:Oe,children:e.jsxs("div",{className:"invoice-report-page",children:[e.jsxs("div",{className:"report-breadcrumb",children:[e.jsxs("button",{className:"back-button",onClick:()=>t("/report"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 12H5"}),e.jsx("path",{d:"M12 19l-7-7 7-7"})]}),"Back to Reports"]}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Reports"}),e.jsx("span",{className:"breadcrumb-separator",children:"/"}),e.jsx("span",{className:"breadcrumb-item",children:"Fleet Master Report"})]}),e.jsxs("div",{className:"report-content-wrapper",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Fleet Master Report"}),!V()&&e.jsx("div",{className:"page-context-subtitle",children:me()})]}),e.jsxs("div",{className:"search-actions-row",children:[e.jsxs("div",{className:`search-container ${m?"loading":""}`,children:[e.jsxs("svg",{className:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"global-search-input",placeholder:"Search by Vehicle Number, Make, Model, Owner Name, Contact, Capacity",value:d,onChange:ae=>q(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&!m&&(ae.preventDefault(),te())},disabled:m}),d&&!m&&e.jsx("button",{className:"clear-search-btn",onClick:()=>{q(""),te()},title:"Clear search",children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("button",{type:"button",ref:L,className:`btn btn-filters-toggle ${c?"active":""} ${m?"loading":""}`,onClick:()=>{if(!m){if(c||($("companyId",n.companyId||""),$("vehMake",n.vehMake||""),$("status",n.status||"All"),$("complianceStatus",n.complianceStatus||"All"),$("createdFromDate",n.createdFromDate||""),$("createdToDate",n.createdToDate||"")),L.current){const ae=L.current.getBoundingClientRect();ne({top:ae.bottom+8,left:ae.left})}o(!c)}},disabled:m,title:"Open filters",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length>0&&e.jsx("span",{className:"filter-count",children:[s.companyId,s.vehMake&&s.vehMake!=="All"?s.vehMake:"",s.status&&s.status!=="All"?s.status:"",s.complianceStatus&&s.complianceStatus!=="All"?s.complianceStatus:"",s.createdFromDate,s.createdToDate].filter(Boolean).length})]})]}),c&&Wc.createPortal(e.jsx("div",{className:"filter-modal-overlay",onClick:()=>{o(!1),ne(null)},children:e.jsxs("div",{className:"filter-modal-content",onClick:ae=>ae.stopPropagation(),style:Z?{position:"fixed",top:`${Z.top}px`,left:`${Z.left}px`,margin:0}:{},children:[e.jsxs("div",{className:"filter-modal-header",children:[e.jsx("h3",{className:"filter-modal-title",children:"Filters"}),e.jsxs("div",{className:"filter-modal-actions",children:[e.jsx("button",{type:"button",className:"filter-clear-link",onClick:()=>{$("companyId",""),$("vehMake",""),$("createdFromDate",""),$("createdToDate",""),$("status","All"),$("complianceStatus","All")},children:"Clear Filters"}),e.jsx("button",{className:"filter-modal-close-btn",onClick:()=>o(!1),title:"Close filters",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),e.jsx("div",{className:"filter-modal-body",children:e.jsxs("div",{className:"filter-modal-grid",children:[e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Created Date"}),e.jsxs("div",{className:"filter-date-range",children:[e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdFromDate||"",onChange:ae=>$("createdFromDate",ae.target.value),placeholder:"Select Date"}),e.jsx("span",{className:"filter-date-separator",children:"to"}),e.jsx("input",{type:"date",className:"filter-modal-input",value:s.createdToDate||"",onChange:ae=>$("createdToDate",ae.target.value),placeholder:"Select Date"})]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Company Name"}),e.jsxs("select",{className:"filter-modal-select",value:s.companyId||"",onChange:ae=>$("companyId",ae.target.value),children:[e.jsx("option",{value:"",children:"Select Company Name"}),l.map(ae=>e.jsxs("option",{value:ae.id,children:[ae.companyCode," - ",ae.companyName]},ae.id))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Vehicle Make"}),e.jsxs("select",{className:"filter-modal-select",value:s.vehMake||"All",onChange:ae=>$("vehMake",ae.target.value),children:[e.jsx("option",{value:"All",children:"All Makes"}),We.map(ae=>e.jsx("option",{value:ae,children:ae},ae))]})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Status"}),e.jsx("select",{className:"filter-modal-select",value:s.status||"All",onChange:ae=>$("status",ae.target.value),children:ie.map(ae=>e.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),e.jsxs("div",{className:"filter-modal-group",children:[e.jsx("label",{className:"filter-modal-label",children:"Compliance Status"}),e.jsx("select",{className:"filter-modal-select",value:s.complianceStatus||"All",onChange:ae=>$("complianceStatus",ae.target.value),children:J.map(ae=>e.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]})}),e.jsx("div",{className:"filter-modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary-cta",onClick:ge,disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"spinner",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Applying..."]}):"Apply Filters"})})]})}),document.body),e.jsxs("div",{className:"results-section",ref:I,children:[e.jsx("div",{className:"table-scroll-container",children:e.jsxs("table",{className:"invoice-table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Vehicle Number"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Make"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Owner Name"}),e.jsx("th",{children:"Owner Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Compliance"}),e.jsx("th",{children:"Created Date"})]})}),e.jsx("tbody",{className:"table-body",children:m?Array.from({length:5}).map((ae,ke)=>e.jsxs("tr",{className:"table-row-skeleton",children:[e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell skeleton-badge"})}),e.jsx("td",{children:e.jsx("div",{className:"skeleton-cell"})})]},`skeleton-${ke}`)):y?A.length===0?e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:d.trim()?`No vehicles match "${d.trim()}". Try adjusting your search or filters.`:V()?"No vehicles match the current filters. Try adjusting your filter criteria.":"No vehicles available. Use the search bar or apply filters to view reports."}),(V()||d.trim())&&e.jsx("div",{className:"empty-state-action",children:e.jsx("button",{onClick:pe,children:"Clear Filters"})})]})})}):A.map((ae,ke)=>{const Fe=l.find(tt=>tt.id===ae.companyId),nt=ce(ae);return e.jsxs("tr",{className:ke%2===0?"table-row-even":"table-row-odd",children:[e.jsx("td",{className:"invoice-number-cell",children:ae.vehicleNum}),e.jsx("td",{children:(Fe==null?void 0:Fe.companyName)||"N/A"}),e.jsx("td",{children:ae.vehMake||"N/A"}),e.jsx("td",{children:ae.vehModel||"N/A"}),e.jsx("td",{children:ae.capacity||"N/A"}),e.jsx("td",{children:ae.ownerName||"N/A"}),e.jsx("td",{children:ae.ownerContact||"N/A"}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:re(ae.status),children:ae.status})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:de(nt),children:nt})}),e.jsx("td",{children:be(ae.createdOn)})]},ae.id)}):e.jsx("tr",{className:"table-row-empty",children:e.jsx("td",{colSpan:10,className:"empty-state-cell",children:e.jsxs("div",{className:"empty-state-content",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})}),e.jsx("h3",{className:"empty-state-title",children:"No fleet vehicles found"}),e.jsx("p",{className:"empty-state-text",children:"Use the search bar or apply filters above to view fleet reports"})]})})})})]})}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("div",{className:"pagination-info",children:y&&A.length>0?`Showing ${ye} of ${G.totalFleets} items`:"Showing 0 of 0 items"}),e.jsxs("div",{className:"pagination-right",children:[e.jsxs("select",{className:"rows-per-page-select",value:E,disabled:!y||A.length===0,onChange:async ae=>{M(1,Number(ae.target.value)),await te()},children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsxs("div",{className:"pagination-numbers",children:[e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.max(1,w-1);M(ae),await te()},disabled:w===1||!y||A.length===0,"aria-label":"Previous page",children:"<"}),(()=>{const ae=[];let Fe=Math.max(1,w-Math.floor(2.5)),nt=Math.min(Y,Fe+5-1);nt-Fe<4&&(Fe=Math.max(1,nt-5+1)),Fe>1&&(ae.push(1),Fe>2&&ae.push("..."));for(let tt=Fe;tt<=nt;tt++)ae.push(tt);return nt<Y&&(nt<Y-1&&ae.push("..."),ae.push(Y)),ae.map((tt,Le)=>{if(tt==="...")return e.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${Le}`);const lt=tt;return e.jsx("button",{className:`pagination-page-btn ${w===lt?"active":""}`,onClick:async()=>{M(lt),await te()},disabled:!y||A.length===0,children:lt},lt)})})(),e.jsx("button",{className:"pagination-arrow-btn",onClick:async()=>{const ae=Math.min(Y,w+1);M(ae),await te()},disabled:w===Y||Y===0||!y||A.length===0,"aria-label":"Next page",children:">"})]})]})]})]})]})]})})},eie=()=>{const{login:r,verifyOTP:t,loading:n,user:a}=Wn(),s=Ma(),i=un(),[c,o]=C.useState(""),[d,l]=C.useState(""),[u,h]=C.useState(!1),[f,A]=C.useState(!1),[g,m]=C.useState(null),[x,y]=C.useState(!1),[b,j]=C.useState(""),[S,w]=C.useState(["","","","","",""]),[E,I]=C.useState(0);C.useEffect(()=>{if(E>0){const me=setTimeout(()=>I(E-1),1e3);return()=>clearTimeout(me)}},[E]);const L=me=>{if(!me||me.trim().length===0)return!1;const $=/^[a-zA-Z0-9_-]+$/,X=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return $.test(me.trim())||X.test(me.trim())},Z=async me=>{var $,X;if(me.preventDefault(),m(null),!L(c)){m("Please enter a valid username or email address");return}if(!d||d.trim().length===0){m("Please enter your password");return}try{const Ce=await r(c.trim(),d);if(Ce.requiresOTP&&Ce.email)j(Ce.email),y(!0),I(60);else{const M=(X=($=i.state)==null?void 0:$.from)==null?void 0:X.pathname;s(M||"/mobile/home",{replace:!0})}}catch(Ce){m(Ce.message||"Invalid credentials. Please check your username and password.")}},ne=(me,$)=>{if($.length>1)return;const X=[...S];if(X[me]=$,w(X),$&&me<5){const Ce=document.getElementById(`otp-input-mobile-${me+1}`);Ce==null||Ce.focus()}},G=(me,$)=>{if($.key==="Backspace"&&!S[me]&&me>0){const X=document.getElementById(`otp-input-mobile-${me-1}`);X==null||X.focus()}},le=async me=>{var X,Ce,M;me.preventDefault(),m(null);const $=S.join("");if($.length!==6){m("Please enter a valid 6-digit OTP");return}try{await t(b,$);const q=(Ce=(X=i.state)==null?void 0:X.from)==null?void 0:Ce.pathname;s(q||"/mobile/home",{replace:!0})}catch(q){m(q.message||"Invalid OTP"),w(["","","","","",""]),(M=document.getElementById("otp-input-mobile-0"))==null||M.focus()}},V=async()=>{if(!(E>0)){m(null);try{await r(c,d),I(60),w(["","","","","",""])}catch(me){m(me.message||"Failed to resend OTP")}}};return n&&!x&&!c&&!d?e.jsxs("div",{className:"mobile-login-container",style:{justifyContent:"center",alignItems:"center"},children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"16px"},children:"Loading..."})]}):e.jsxs("div",{className:"mobile-login-container",children:[e.jsxs("header",{className:"login-header",children:[e.jsx("h1",{className:"header-title",children:"Medi Waste Management System"}),e.jsx("p",{className:"header-subtitle",children:"Streamlined healthcare waste tracking and compliance"})]}),e.jsx("main",{className:"login-main",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h2",{className:"login-card-title",children:x?"Verify OTP":"Log in"}),x?e.jsxs("form",{className:"login-form",onSubmit:le,children:[e.jsx("div",{className:"otp-instruction-mobile",children:b.toLowerCase()==="superadmin@medi-waste.io"||b.toLowerCase()==="superadmin"?e.jsx("p",{children:"Use your configured SuperAdmin OTP."}):e.jsx("p",{children:"We've sent a 6-digit code to your email. Please enter it below."})}),e.jsx("div",{className:"otp-inputs-row-mobile",children:S.map((me,$)=>e.jsx("input",{id:`otp-input-mobile-${$}`,type:"text",inputMode:"numeric",maxLength:1,className:"otp-input-mobile",value:me,onChange:X=>ne($,X.target.value),onKeyDown:X=>G($,X),autoFocus:$===0,disabled:n},$))}),g&&e.jsx("div",{className:"error-message-mobile",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n||S.some(me=>!me),children:n?"Verifying...":"Verify OTP"}),e.jsx("div",{className:"otp-resend-mobile",children:e.jsxs("p",{className:"otp-resend-text-mobile",children:["Didn't receive the code?"," ",E>0?e.jsxs("span",{className:"otp-timer-mobile",children:["Resend in ",E,"s"]}):e.jsx("button",{type:"button",className:"otp-resend-link-mobile",onClick:V,children:"Resend OTP"})]})})]}):e.jsxs("form",{className:"login-form",onSubmit:Z,children:[e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Username or Email",value:c,onChange:me=>{o(me.target.value),m(null)},autoComplete:"username",disabled:n})]})}),e.jsx("div",{className:"form-field",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsxs("svg",{className:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("input",{type:f?"text":"password",className:"form-input",placeholder:"Password",value:d,onChange:me=>{l(me.target.value),m(null)},autoComplete:"current-password",disabled:n}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>A(!f),"aria-label":f?"Hide password":"Show password",disabled:n,children:f?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),e.jsxs("div",{className:"form-options",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",className:"checkbox-input",checked:u,onChange:me=>h(me.target.checked),disabled:n}),e.jsx("span",{className:"checkbox-text",children:"Remember Me"})]}),e.jsx(Rr,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot Password?"})]}),g&&e.jsx("div",{className:"error-message-mobile",children:g}),e.jsx("button",{type:"submit",className:"login-button",disabled:n,children:n?"Logging in...":"Log in"})]})]})})]})},tie=({title:r,subtitle:t,action:n,children:a})=>e.jsxs("section",{className:"form-card",children:[e.jsxs("div",{className:"form-card__header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:r}),t&&e.jsx("p",{children:t})]}),n&&e.jsx("div",{className:"form-card__action",children:n})]}),e.jsx("div",{className:"form-card__body",children:a})]}),vC=({label:r,type:t="text",error:n,hint:a,...s})=>{const[i,c]=C.useState(!1),o=t==="password",d=o&&i?"text":t;return e.jsxs("label",{className:`input-field ${n?"input-field--error":""}`,children:[e.jsx("span",{children:r}),e.jsxs("div",{className:"input-field__control",children:[e.jsx("input",{type:d,...s}),o&&e.jsx("button",{type:"button",className:"input-field__toggle",onClick:()=>c(l=>!l),"aria-label":i?"Hide password":"Show password",children:i?"Hide":"Show"})]}),n?e.jsx("small",{className:"input-field__error",children:n}):a&&e.jsx("small",{children:a})]})},rie=({loading:r,children:t,...n})=>e.jsx("button",{className:"primary-btn",disabled:r||n.disabled,...n,children:r?"Working...":t}),nie=({role:r})=>e.jsx("span",{className:"role-pill",children:r}),Dk={manager:"Approve & oversee routes",staff:"Execute pickups",viewer:"Read-only visibility"},aie=()=>{const{createUser:r,loading:t,user:n}=Wn(),[a,s]=C.useState({name:"",email:"",password:"",role:"staff"}),[i,c]=C.useState(null),[o,d]=C.useState(null),l=async u=>{u.preventDefault(),c(null),d(null);try{const h=await r(a);c(`Created ${h.name} (${h.roles.join(", ")})`),s({...a,name:"",email:"",password:""})}catch(h){d(h.message||"Unable to create user")}};return e.jsx(tie,{title:"Add Field User",subtitle:"Mobile-first creation for operational leads.",action:n?e.jsx(nie,{role:n.roles[0]}):null,children:e.jsxs("form",{className:"form-grid mobile",onSubmit:l,children:[e.jsx(vC,{label:"Name",placeholder:"Jordan Blake",value:a.name,onChange:u=>s(h=>({...h,name:u.target.value}))}),e.jsx(vC,{label:"Email",type:"email",placeholder:"user@medi-waste.io",value:a.email,onChange:u=>s(h=>({...h,email:u.target.value}))}),e.jsx(vC,{label:"Password",type:"password",placeholder:"Strong password",value:a.password,onChange:u=>s(h=>({...h,password:u.target.value})),hint:"Min 8 characters"}),e.jsxs("label",{className:"input-field",children:[e.jsx("span",{children:"Role"}),e.jsx("div",{className:"role-options",children:Object.keys(Dk).map(u=>e.jsxs("button",{type:"button",className:`role-chip ${a.role===u?"role-chip--active":""}`,onClick:()=>s(h=>({...h,role:u})),children:[e.jsx("strong",{children:u}),e.jsx("small",{children:Dk[u]})]},u))})]}),o&&e.jsx("div",{className:"form-error",children:o}),i&&e.jsx("div",{className:"form-success",children:i}),e.jsx(rie,{type:"submit",loading:t,children:"Save User"}),e.jsx("p",{className:"muted",children:"Managers can add staff on the go."})]})})},sie=()=>{const{user:r,logout:t,permissions:n}=Wn(),a=un();Ma();const[s,i]=C.useState(!1),[c,o]=C.useState(!1),d=()=>{o(!c)},[l,u]=C.useState(null),[h,f]=C.useState(null),[A,g]=C.useState("basic"),[m,x]=C.useState(null),[y,b]=C.useState(!1),[j,S]=C.useState({emailAddress:"",emergencyContact:"",addressLine:"",area:"",city:"",district:"",pincode:""}),[w,E]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[I,L]=C.useState({current:!1,new:!1,confirm:!1}),[Z,ne]=C.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1});C.useEffect(()=>{r!=null&&r.id&&G()},[r]);const G=async()=>{if(r){i(!0),u(null);try{const te=r.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r.id);let ge=null;if(te)try{ge=await Hc.getUserById(r.id)}catch(pe){console.log("User ID lookup failed, trying search by username:",pe)}if(!ge&&r.name)try{ge=await Hc.getUserByUsername(r.name)}catch(pe){console.log("User lookup by username failed:",pe)}if(ge)x(ge),S({emailAddress:ge.emailAddress||"",emergencyContact:ge.emergencyContact||"",addressLine:ge.addressLine||"",area:ge.area||"",city:ge.city||"",district:ge.district||"",pincode:ge.pincode||""});else{const pe={userName:r.name,emailAddress:r.email||null,status:"Active",mobileNumber:"-",employeeCode:null,userRoleId:r.roles.join(", ")||null};x(pe),u("Showing basic information from your session. Some details may be incomplete.")}}catch(te){console.error("Error loading user profile:",te),u("Unable to load complete profile data. Showing basic information from your session.")}finally{i(!1)}}},le=async()=>{if(m!=null&&m.userId){i(!0),f(null),u(null);try{await Hc.updateCompleteUser(m.userId,{emailAddress:j.emailAddress||void 0,emergencyContact:j.emergencyContact||void 0,addressLine:j.addressLine||void 0,area:j.area||void 0,city:j.city||void 0,district:j.district||void 0,pincode:j.pincode||void 0}),f("Contact information updated successfully!"),b(!1),await G()}catch(te){u(te.message||"Failed to update contact information")}finally{i(!1)}}},V=()=>{m&&S({emailAddress:m.emailAddress||"",emergencyContact:m.emergencyContact||"",addressLine:m.addressLine||"",area:m.area||"",city:m.city||"",district:m.district||"",pincode:m.pincode||""}),b(!1)},me=te=>{ne({length:te.length>=8,uppercase:/[A-Z]/.test(te),lowercase:/[a-z]/.test(te),number:/[0-9]/.test(te),special:/[!@#$%^&*(),.?":{}|<>]/.test(te),match:te===w.confirmPassword&&te.length>0})},$=(te,ge)=>{const pe={...w,[te]:ge};E(pe),te==="newPassword"?(me(ge),w.confirmPassword&&ne(be=>({...be,match:ge===w.confirmPassword&&ge.length>0}))):ne(be=>({...be,match:ge===w.newPassword&&ge.length>0}))},X=()=>{const ge=[Z.length,Z.uppercase,Z.lowercase,Z.number,Z.special].filter(Boolean).length;return ge===0?{level:0,label:"",color:""}:ge<=2?{level:1,label:"Weak",color:"#ef4444"}:ge<=4?{level:2,label:"Medium",color:"#f59e0b"}:{level:3,label:"Strong",color:"#10b981"}},Ce=async te=>{if(te.preventDefault(),u(null),f(null),!Z.length){u("Password must be at least 8 characters long");return}if(!Z.uppercase){u("Password must contain at least one uppercase letter");return}if(!Z.lowercase){u("Password must contain at least one lowercase letter");return}if(!Z.number){u("Password must contain at least one number");return}if(!Z.special){u("Password must contain at least one special character");return}if(!Z.match){u("New password and confirm password do not match");return}i(!0);try{if(!(r!=null&&r.id))throw new Error("User ID not found");await JP(r.id,{currentPassword:w.currentPassword,newPassword:w.newPassword}),f("Password changed successfully!"),E({currentPassword:"",newPassword:"",confirmPassword:""}),ne({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1,match:!1}),L({current:!1,new:!1,confirm:!1})}catch(ge){u(ge.message||"Failed to change password")}finally{i(!1)}},M=te=>{const ge=te.toLowerCase();return ge==="active"?"status-badge--active":ge==="inactive"?"status-badge--inactive":ge==="draft"?"status-badge--draft":"status-badge--active"},q=te=>{const ge=te.trim().split(" ");return ge.length>=2?(ge[0][0]+ge[ge.length-1][0]).toUpperCase():te.charAt(0).toUpperCase()},ie=(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"User",J=(m==null?void 0:m.userRoleId)||(r==null?void 0:r.roles.join(", "))||"User",D=(m==null?void 0:m.status)||"Active",ce=As(n,a.pathname);return e.jsxs("div",{className:"dashboard-page",children:[e.jsxs("aside",{className:`dashboard-sidebar ${c?"collapsed":""}`,children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("div",{className:"brand-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&e.jsx("span",{className:"brand-name",children:"MEDI-WASTE"})]}),e.jsx("button",{className:"sidebar-toggle",onClick:d,"aria-label":c?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c?e.jsx("polyline",{points:"9 18 15 12 9 6"}):e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("nav",{className:"sidebar-nav",children:e.jsx("ul",{className:"nav-list",children:ce.map(te=>e.jsx("li",{children:e.jsxs(Rr,{to:te.path,className:`nav-link ${te.active?"nav-link--active":""}`,children:[e.jsx("span",{className:"nav-icon",children:te.icon}),!c&&e.jsx("span",{className:"nav-label",children:te.label})]})},te.path))})}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("button",{className:"sidebar-notification-btn","aria-label":"Notifications",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.jsx("span",{className:"notification-badge",children:"3"})]}),e.jsxs(Rr,{to:"/profile",className:`sidebar-profile-btn ${a.pathname==="/profile"?"sidebar-profile-btn--active":""}`,title:"My Profile",children:[e.jsx("span",{className:"nav-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!c&&e.jsx("span",{className:"nav-label",children:"Profile"})]}),e.jsxs("button",{onClick:t,className:"sidebar-logout-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),!c&&e.jsx("span",{children:"Logout"})]})]})]}),e.jsxs("main",{className:"dashboard-main",children:[e.jsx(xa,{title:"Profile",subtitle:"Manage your profile and account settings"}),e.jsx("div",{className:"dashboard-content",children:e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"profile-header-card profile-header-card--template",children:[e.jsxs("div",{className:"profile-header-left",children:[e.jsx("div",{className:"profile-header-avatar",children:e.jsx("div",{className:"profile-avatar-large",children:q(ie)})}),e.jsxs("div",{className:"profile-header-info",children:[e.jsxs("div",{className:"profile-header-top",children:[e.jsx("h1",{className:"profile-header-name",children:ie}),e.jsxs("div",{className:"profile-header-badges",children:[e.jsx("span",{className:"profile-role-pill",children:J}),e.jsx("span",{className:`profile-status-pill ${M(D)}`,children:D})]})]}),e.jsxs("div",{className:"profile-header-sub",children:[e.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.emailAddress)||(r==null?void 0:r.email)||""}),e.jsx("span",{className:"profile-header-dot",children:""}),e.jsx("span",{className:"profile-header-subitem",children:(m==null?void 0:m.employmentType)||"Administration"})]})]})]}),e.jsx("div",{className:"profile-header-actions",children:e.jsxs("button",{type:"button",className:"profile-save-btn",onClick:le,disabled:s||A!=="contact"||!y||!(m!=null&&m.userId),title:A!=="contact"?"Switch to Contact Info to save":y?"Save contact information":"Click Edit Contact Info to make changes",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]})})]}),l&&e.jsxs("div",{className:"profile-info-banner",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),e.jsx("span",{children:l})]}),h&&e.jsxs("div",{className:"profile-success-message",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),h]}),e.jsxs("div",{className:"profile-section-tabs",children:[e.jsxs("button",{className:`section-tab ${A==="basic"?"active":""}`,onClick:()=>g("basic"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Basic Info"]}),e.jsxs("button",{className:`section-tab ${A==="contact"?"active":""}`,onClick:()=>g("contact"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Contact Info"]}),e.jsxs("button",{className:`section-tab ${A==="security"?"active":""}`,onClick:()=>g("security"),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Security"]})]}),e.jsx("div",{className:"profile-section-content",children:s&&!m?e.jsxs("div",{className:"profile-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading profile data..."})]}):e.jsxs(e.Fragment,{children:[A==="basic"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Basic Information"}),e.jsx("p",{className:"section-description",children:"Your account information (read-only)"})]}),e.jsxs("div",{className:"profile-cards-grid",children:[e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{className:"profile-card-title",children:"User Name"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.userName)||(r==null?void 0:r.name)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"profile-card-title",children:"Employee Code"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employeeCode)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),e.jsx("span",{className:"profile-card-title",children:"Mobile Number"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.mobileNumber)||"-"})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("span",{className:"profile-card-title",children:"Status"})]}),e.jsx("div",{className:"profile-card-value",children:e.jsx("span",{className:`status-badge ${M(D)}`,children:D})})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"profile-card-title",children:"Role"})]}),e.jsx("div",{className:"profile-card-value",children:J})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),e.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),e.jsx("span",{className:"profile-card-title",children:"Employment Type"})]}),e.jsx("div",{className:"profile-card-value",children:(m==null?void 0:m.employmentType)||"-"})]})]})]}),A==="contact"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Contact Information"}),e.jsx("p",{className:"section-description",children:y?"Edit your contact details":"Update your contact details"})]}),e.jsxs("div",{className:"profile-contact-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emailAddress",children:"Email Address"}),y?e.jsx("input",{type:"email",id:"emailAddress",value:j.emailAddress,onChange:te=>S({...j,emailAddress:te.target.value}),placeholder:"Enter email address",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.emailAddress)||"Not provided"}),e.jsx("small",{className:"form-hint",children:"Email is optional and can be updated"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"emergencyContact",children:"Emergency Contact"}),y?e.jsx("input",{type:"text",id:"emergencyContact",value:j.emergencyContact,onChange:te=>S({...j,emergencyContact:te.target.value}),placeholder:"Enter emergency contact number",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.emergencyContact)||"-"})]})]}),e.jsxs("div",{className:"form-group form-group--full",children:[e.jsx("label",{htmlFor:"addressLine",children:"Address Line"}),y?e.jsx("input",{type:"text",id:"addressLine",value:j.addressLine,onChange:te=>S({...j,addressLine:te.target.value}),placeholder:"Enter address line",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.addressLine)||"-"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"area",children:"Area"}),y?e.jsx("input",{type:"text",id:"area",value:j.area,onChange:te=>S({...j,area:te.target.value}),placeholder:"Enter area",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.area)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),y?e.jsx("input",{type:"text",id:"city",value:j.city,onChange:te=>S({...j,city:te.target.value}),placeholder:"Enter city",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.city)||"-"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"district",children:"District"}),y?e.jsx("input",{type:"text",id:"district",value:j.district,onChange:te=>S({...j,district:te.target.value}),placeholder:"Enter district",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.district)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"pincode",children:"Pincode"}),y?e.jsx("input",{type:"text",id:"pincode",value:j.pincode,onChange:te=>S({...j,pincode:te.target.value}),placeholder:"Enter pincode",disabled:s}):e.jsx("div",{className:"form-value",children:(m==null?void 0:m.pincode)||"-"})]})]}),e.jsx("div",{className:"form-actions",children:y?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"btn btn--secondary",onClick:V,disabled:s,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn--primary",onClick:le,disabled:s,children:s?"Saving...":"Save Changes"})]}):e.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>b(!0),children:"Edit Contact Info"})})]})]}),A==="security"&&e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Security Settings"}),e.jsx("p",{className:"section-description",children:"Manage your password and security preferences"})]}),e.jsxs("div",{className:"security-card security-card--password",children:[e.jsx("div",{className:"security-card-header",children:e.jsxs("div",{className:"security-card-title-group",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"security-card-title",children:"Change Password"}),e.jsx("p",{className:"security-card-subtitle",children:"Update your account password to keep your account secure"})]})]})}),e.jsxs("form",{onSubmit:Ce,className:"password-form",children:[e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"currentPassword",children:["Current Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.current?"text":"password",id:"currentPassword",value:w.currentPassword,onChange:te=>E({...w,currentPassword:te.target.value}),required:!0,placeholder:"Enter your current password",disabled:s,className:w.currentPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,current:!I.current}),tabIndex:-1,"aria-label":I.current?"Hide password":"Show password",children:I.current?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"newPassword",children:["New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.new?"text":"password",id:"newPassword",value:w.newPassword,onChange:te=>$("newPassword",te.target.value),required:!0,placeholder:"Enter new password",disabled:s,className:w.newPassword?"has-value":""}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,new:!I.new}),tabIndex:-1,"aria-label":I.new?"Hide password":"Show password",children:I.new?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),w.newPassword&&e.jsxs("div",{className:"password-strength",children:[e.jsx("div",{className:"password-strength-bar",children:e.jsx("div",{className:"password-strength-fill",style:{width:`${X().level/3*100}%`,backgroundColor:X().color}})}),e.jsx("span",{className:"password-strength-label",style:{color:X().color},children:X().label||"Enter password"})]}),e.jsxs("div",{className:"password-requirements",children:[e.jsxs("div",{className:`requirement-item ${Z.length?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.length?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("div",{className:`requirement-item ${Z.uppercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.uppercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One uppercase letter"})]}),e.jsxs("div",{className:`requirement-item ${Z.lowercase?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.lowercase?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One lowercase letter"})]}),e.jsxs("div",{className:`requirement-item ${Z.number?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.number?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One number"})]}),e.jsxs("div",{className:`requirement-item ${Z.special?"requirement-item--valid":""}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.special?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("circle",{cx:"12",cy:"12",r:"10"})}),e.jsx("span",{children:"One special character"})]})]})]}),e.jsxs("div",{className:"form-group form-group--password",children:[e.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm New Password",e.jsx("span",{className:"required-asterisk",children:"*"})]}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:I.confirm?"text":"password",id:"confirmPassword",value:w.confirmPassword,onChange:te=>$("confirmPassword",te.target.value),required:!0,placeholder:"Re-enter new password",disabled:s,className:`${w.confirmPassword?"has-value":""} ${w.confirmPassword&&Z.match?"password-match":w.confirmPassword&&!Z.match?"password-mismatch":""}`}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>L({...I,confirm:!I.confirm}),tabIndex:-1,"aria-label":I.confirm?"Hide password":"Show password",children:I.confirm?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),w.confirmPassword&&e.jsxs("div",{className:`password-match-indicator ${Z.match?"password-match-indicator--valid":"password-match-indicator--invalid"}`,children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.match?e.jsx("path",{d:"M20 6L9 17l-5-5"}):e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),e.jsx("span",{children:Z.match?"Passwords match":"Passwords do not match"})]})]}),e.jsx("div",{className:"form-actions form-actions--password",children:e.jsx("button",{type:"submit",className:"btn btn--primary btn--password",disabled:s||!Z.match||!Z.length||!Z.uppercase||!Z.lowercase||!Z.number||!Z.special,children:s?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Changing Password..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),e.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Update Password"]})})})]})]})]})]})})]})})]})]})},iie=()=>{const r=Ma(),t=un(),{user:n,logout:a}=Wn(),[s,i]=C.useState(!1),[c,o]=C.useState(null),[d,l]=C.useState(!1);C.useEffect(()=>{(async()=>{if(n!=null&&n.token){const S=await I_(n.token);o(S)}})()},[n]);const u=[{id:"home",label:"Home",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME_VIEW"},{id:"scan",label:"Scan",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan",scanButton:!0},{id:"more",label:"More",icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"1"}),e.jsx("circle",{cx:"12",cy:"5",r:"1"}),e.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),path:"#"}],h=j=>{if(j.scanButton||j.id==="more"||j.id==="home")return!0;if(j.permission&&c){if(j.permission.includes("ROUTE_ASSIGNMENT")||j.permission.includes("WASTE_COLLECTION"))return sA(c,"transaction");if(j.permission.includes("HCF"))return sA(c,"master","hcf")}return!0},f=j=>{if(j.id==="more"){i(!s);return}j.path&&j.path!=="#"&&(r(j.path),i(!1))},A=()=>{r("/mobile/scan"),i(!1)},g=()=>{a(),r("/mobile/login"),i(!1)},m=u.filter(h),x=m.find(j=>j.id==="home"),y=m.find(j=>j.scanButton),b=m.find(j=>j.id==="more");return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"mobile-more-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"mobile-more-menu",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"mobile-more-header",children:[e.jsx("h3",{children:"More Options"}),e.jsx("button",{className:"mobile-more-close",onClick:()=>i(!1),children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"mobile-more-content",children:[e.jsxs("button",{className:"mobile-more-item",onClick:()=>{r("/mobile/profile"),i(!1)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{className:"mobile-more-item mobile-more-item--logout",onClick:g,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{children:"Logout"})]})]})]})}),e.jsxs("nav",{className:"mobile-bottom-nav",children:[x&&e.jsxs("button",{className:`mobile-nav-item ${t.pathname===x.path?"mobile-nav-item--active":""}`,onClick:()=>f(x),"aria-label":"Home",children:[e.jsx("span",{className:"mobile-nav-icon",children:x.icon}),e.jsx("span",{className:"mobile-nav-label",children:x.label})]}),y&&e.jsxs("button",{className:"mobile-nav-item mobile-nav-item--scan",onClick:A,"aria-label":"Scan Barcode",children:[e.jsx("span",{className:"mobile-nav-icon mobile-nav-icon--scan",children:y.icon}),e.jsx("span",{className:"mobile-nav-label",children:y.label})]}),b&&e.jsxs("button",{className:`mobile-nav-item ${s?"mobile-nav-item--active":""}`,onClick:()=>f(b),"aria-label":"More",children:[e.jsx("span",{className:"mobile-nav-icon",children:b.icon}),e.jsx("span",{className:"mobile-nav-label",children:b.label})]})]})]})},$h=({children:r,title:t,showBackButton:n=!1,onBack:a})=>e.jsxs("div",{className:"mobile-layout",children:[(t||n)&&e.jsxs("header",{className:"mobile-header",children:[n&&e.jsx("button",{className:"mobile-back-btn",onClick:a,"aria-label":"Go back",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),t&&e.jsx("h1",{className:"mobile-header-title",children:t}),e.jsx("div",{style:{width:n?"40px":"auto"}})]}),e.jsx("main",{className:"mobile-page-content",children:r}),e.jsx(iie,{})]}),oie=({isOpen:r,onClose:t})=>{const n=Ma(),a=un(),{user:s,permissions:i,logout:c}=Wn(),[o,d]=C.useState(null),[l,u]=C.useState(new Set);C.useEffect(()=>{(async()=>{if(s!=null&&s.token){const b=await I_(s.token);d(b)}})()},[s]);const h=()=>{if(s!=null&&s.name){const y=s.name.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():s.name.substring(0,2).toUpperCase()}return"MW"},f=[{title:"Operations",items:[{id:"dashboard",label:"Home",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),path:"/mobile/home",permission:"HOME.VIEW"},{id:"waste-collection",label:"Waste Entry",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),path:"/mobile/waste-entry",permission:"WASTE_COLLECTION.CREATE"},{id:"waste-collections",label:"Waste Collections",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M8 6h13"}),e.jsx("path",{d:"M8 12h13"}),e.jsx("path",{d:"M8 18h13"}),e.jsx("path",{d:"M3 6h.01"}),e.jsx("path",{d:"M3 12h.01"}),e.jsx("path",{d:"M3 18h.01"})]}),path:"/mobile/waste-collections",permission:"WASTE_COLLECTION.VIEW"},{id:"route-assignment",label:"Route Assignment",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),path:"/mobile/assign-hospital",permission:"ROUTE_ASSIGNMENT.VIEW"},{id:"assigned-hcfs",label:"Assigned HCF List",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 11l3 3L22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),path:"/mobile/assigned-hcfs",permission:"ROUTE_HCF.VIEW"},{id:"scan",label:"Scan Barcode",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 12v3a2 2 0 0 1-2 2h-3"}),e.jsx("path",{d:"M3 12V9a2 2 0 0 1 2-2h3"}),e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"M12 21v-9"}),e.jsx("path",{d:"M12 3v9"})]}),path:"/mobile/scan"},{id:"hcf-master",label:"HCF Master",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),path:"/mobile/hcf-master",permission:"HCF.VIEW"},{id:"analytics",label:"Analytics",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),e.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),path:"/mobile/analytics",permission:"REPORT.VIEW"}]},{title:"Admin",items:[{id:"users",label:"User Management",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),path:"/users",permission:"USER_VIEW"},{id:"settings",label:"Settings",icon:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]}),path:"/mobile/settings"}]}],A=y=>{if(y.permission&&i&&i.length>0)return bc(i,y.permission);if(y.permission&&o){if(y.permission.includes("ROUTE_ASSIGNMENT")||y.permission.includes("WASTE_COLLECTION"))return sA(o,"transaction");if(y.permission.includes("HCF"))return sA(o,"master","hcf");if(y.permission.includes("USER"))return sA(o,"master");if(y.permission.includes("REPORT"))return sA(o,"report")}return!0},g=y=>{if(y.children&&y.children.length>0){const b=new Set(l);b.has(y.id)?b.delete(y.id):b.add(y.id),u(b)}else y.path&&(n(y.path),t())},m=()=>{c(),n("/mobile/login"),t()},x=y=>a.pathname===y||a.pathname.startsWith(y+"/");return C.useEffect(()=>(r?(document.body.style.overflow="hidden",document.body.classList.add("drawer-open")):(document.body.style.overflow="",document.body.classList.remove("drawer-open")),()=>{document.body.style.overflow="",document.body.classList.remove("drawer-open")}),[r]),e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"mobile-drawer-overlay",onClick:t}),e.jsxs("div",{className:`mobile-drawer ${r?"mobile-drawer--open":""}`,children:[e.jsxs("div",{className:"mobile-drawer-header",children:[e.jsxs("div",{className:"mobile-drawer-profile",children:[e.jsx("div",{className:"mobile-drawer-avatar",children:h()}),e.jsxs("div",{className:"mobile-drawer-profile-info",children:[e.jsx("div",{className:"mobile-drawer-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-drawer-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-drawer-close",onClick:t,"aria-label":"Close menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:"mobile-drawer-content",children:f.map(y=>{const b=y.items.filter(A);return b.length===0?null:e.jsxs("div",{className:"mobile-drawer-group",children:[e.jsx("div",{className:"mobile-drawer-group-title",children:y.title}),b.map(j=>{const S=j.children&&j.children.length>0,w=l.has(j.id),E=x(j.path);return e.jsxs("div",{children:[e.jsxs("button",{className:`mobile-drawer-item ${E?"mobile-drawer-item--active":""}`,onClick:()=>g(j),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:j.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:j.label}),S&&e.jsx("svg",{className:`mobile-drawer-item-chevron ${w?"mobile-drawer-item-chevron--expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),S&&w&&e.jsx("div",{className:"mobile-drawer-submenu",children:j.children.map(I=>e.jsxs("button",{className:`mobile-drawer-item mobile-drawer-item--sub ${x(I.path)?"mobile-drawer-item--active":""}`,onClick:()=>g(I),children:[e.jsx("span",{className:"mobile-drawer-item-icon",children:I.icon}),e.jsx("span",{className:"mobile-drawer-item-label",children:I.label})]},I.id))})]},j.id)})]},y.title)})}),e.jsx("div",{className:"mobile-drawer-footer",children:e.jsxs("button",{className:"mobile-drawer-item mobile-drawer-item--logout",onClick:m,children:[e.jsxs("svg",{className:"mobile-drawer-item-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),e.jsx("span",{className:"mobile-drawer-item-label",children:"Logout"})]})})]})]})},lie=()=>{const{user:r}=Wn(),[t,n]=C.useState(!1),a=()=>{if(r!=null&&r.name){const s=r.name.split(" ");return s.length>=2?`${s[0][0]}${s[1][0]}`.toUpperCase():r.name.substring(0,2).toUpperCase()}return"MW"};return e.jsxs($h,{children:[e.jsx(oie,{isOpen:t,onClose:()=>n(!1)}),e.jsx("div",{className:"mobile-home-template",children:e.jsxs("div",{className:"mobile-home-profile",children:[e.jsxs("div",{className:"mobile-home-profile-left",onClick:()=>n(!0),style:{cursor:"pointer"},children:[e.jsx("div",{className:"mobile-home-avatar",children:a()}),e.jsxs("div",{className:"mobile-home-profile-info",children:[e.jsx("div",{className:"mobile-home-profile-name",children:"Medi Waste"}),e.jsx("div",{className:"mobile-home-profile-role",children:"Waste Management"})]})]}),e.jsx("button",{className:"mobile-home-menu-button",onClick:()=>n(!0),"aria-label":"Open menu",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})]})};function cie(r,t){var n=Object.setPrototypeOf;n?n(r,t):r.__proto__=t}function die(r,t){t===void 0&&(t=r.constructor);var n=Error.captureStackTrace;n&&n(r,t)}var uie=(function(){var r=function(n,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},r(n,a)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),hie=(function(r){uie(t,r);function t(n,a){var s=this.constructor,i=r.call(this,n,a)||this;return Object.defineProperty(i,"name",{value:s.name,enumerable:!1,configurable:!0}),cie(i,s.prototype),die(i),i}return t})(Error),fie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Wd=(function(r){fie(t,r);function t(n){n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.message=n,a}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t})(hie),Aie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),pl=(function(r){Aie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ArgumentException",t})(Wd),pie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ea=(function(r){pie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t})(Wd),xD=(function(){function r(t){if(this.binarizer=t,t===null)throw new Ea("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(t,n,a,s){var i=this.binarizer.getLuminanceSource().crop(t,n,a,s);return new r(this.binarizer.createBinarizer(i))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(t))},r.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(t))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),mie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),El=(function(r){mie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t})(Wd),gie=(function(){function r(t){this.source=t}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),oo=(function(){function r(){}return r.arraycopy=function(t,n,a,s,i){for(;i--;)a[s++]=t[n++]},r.currentTimeMillis=function(){return Date.now()},r})(),vie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ES=(function(r){vie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t})(Wd),xie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mk=(function(r){xie(t,r);function t(n,a){n===void 0&&(n=void 0),a===void 0&&(a=void 0);var s=r.call(this,a)||this;return s.index=n,s.message=a,s}return t.kind="ArrayIndexOutOfBoundsException",t})(ES),yie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xl=(function(){function r(){}return r.fill=function(t,n){for(var a=0,s=t.length;a<s;a++)t[a]=n},r.fillWithin=function(t,n,a,s){r.rangeCheck(t.length,n,a);for(var i=n;i<a;i++)t[i]=s},r.rangeCheck=function(t,n,a){if(n>a)throw new Ea("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new Mk(n);if(a>t)throw new Mk(a)},r.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},r.create=function(t,n,a){var s=Array.from({length:t});return s.map(function(i){return Array.from({length:n}).fill(a)})},r.createInt32Array=function(t,n,a){var s=Array.from({length:t});return s.map(function(i){return Int32Array.from({length:n}).fill(a)})},r.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var a=0,s=t.length;a<s;a++)if(t[a]!==n[a])return!1;return!0},r.hashCode=function(t){var n,a;if(t===null)return 0;var s=1;try{for(var i=yie(t),c=i.next();!c.done;c=i.next()){var o=c.value;s=31*s+o}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s},r.fillUint8Array=function(t,n){for(var a=0;a!==t.length;a++)t[a]=n},r.copyOf=function(t,n){return t.slice(0,n)},r.copyOfUint8Array=function(t,n){if(t.length<=n){var a=new Uint8Array(n);return a.set(t),a}return t.slice(0,n)},r.copyOfRange=function(t,n,a){var s=a-n,i=new Int32Array(s);return oo.arraycopy(t,n,i,0,s),i},r.binarySearch=function(t,n,a){a===void 0&&(a=r.numberComparator);for(var s=0,i=t.length-1;s<=i;){var c=i+s>>1,o=a(n,t[c]);if(o>0)s=c+1;else if(o<0)i=c-1;else return c}return-s-1},r.numberComparator=function(t,n){return t-n},r})(),Ns=(function(){function r(){}return r.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var a=31;return n=t<<16,n!==0&&(a-=16,t=n),n=t<<8,n!==0&&(a-=8,t=n),n=t<<4,n!==0&&(a-=4,t=n),n=t<<2,n!==0&&(a-=2,t=n),a-(t<<1>>>31)},r.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},r.toHexString=function(t){return t.toString(16)},r.toBinaryString=function(t){return String(parseInt(String(t),2))},r.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},r.truncDivision=function(t,n){return Math.trunc(t/n)},r.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),wc=(function(){function r(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=r.makeArray(t):this.bits=n)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=r.makeArray(t);oo.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},r.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},r.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},r.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},r.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var a=this.bits,s=Math.floor(t/32),i=a[s];i&=~((1<<(t&31))-1);for(var c=a.length;i===0;){if(++s===c)return n;i=a[s]}var o=s*32+Ns.numberOfTrailingZeros(i);return o>n?n:o},r.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var a=this.bits,s=Math.floor(t/32),i=~a[s];i&=~((1<<(t&31))-1);for(var c=a.length;i===0;){if(++s===c)return n;i=~a[s]}var o=s*32+Ns.numberOfTrailingZeros(i);return o>n?n:o},r.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},r.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new Ea;if(n!==t){n--;for(var a=Math.floor(t/32),s=Math.floor(n/32),i=this.bits,c=a;c<=s;c++){var o=c>a?0:t&31,d=c<s?31:n&31,l=(2<<d)-(1<<o);i[c]|=l}}},r.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,a=0;a<t;a++)n[a]=0},r.prototype.isRange=function(t,n,a){if(n<t||t<0||n>this.size)throw new Ea;if(n===t)return!0;n--;for(var s=Math.floor(t/32),i=Math.floor(n/32),c=this.bits,o=s;o<=i;o++){var d=o>s?0:t&31,l=o<i?31:n&31,u=(2<<l)-(1<<d)&4294967295;if((c[o]&u)!==(a?u:0))return!1}return!0},r.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(t,n){if(n<0||n>32)throw new Ea("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var a=n;a>0;a--)this.appendBit((t>>a-1&1)===1)},r.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var a=0;a<n;a++)this.appendBit(t.get(a))},r.prototype.xor=function(t){if(this.size!==t.size)throw new Ea("Sizes don't match");for(var n=this.bits,a=0,s=n.length;a<s;a++)n[a]^=t.bits[a]},r.prototype.toBytes=function(t,n,a,s){for(var i=0;i<s;i++){for(var c=0,o=0;o<8;o++)this.get(t)&&(c|=1<<7-o),t++;n[a+i]=c}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,s=this.bits,i=0;i<a;i++){var c=s[i];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[n-i]=c}if(this.size!==a*32){for(var o=a*32-this.size,d=t[0]>>>o,i=1;i<a;i++){var l=t[i];d|=l<<32-o,t[i-1]=d,d=l>>>o}t[a-1]=d}this.bits=t},r.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.size===n.size&&Xl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){return 31*this.size+Xl.hashCode(this.bits)},r.prototype.toString=function(){for(var t="",n=0,a=this.size;n<a;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var t=[],n=0,a=this.size;n<a;n++)t.push(this.get(n));return t},r})(),n4;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(n4||(n4={}));const lo=n4;var jie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),pn=(function(r){jie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t})(Wd),bie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_i;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(_i||(_i={}));var Kl=(function(){function r(t,n,a){for(var s,i,c=[],o=3;o<arguments.length;o++)c[o-3]=arguments[o];this.valueIdentifier=t,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,r.VALUE_IDENTIFIER_TO_ECI.set(t,this),r.NAME_TO_ECI.set(a,this);for(var d=this.values,l=0,u=d.length;l!==u;l++){var h=d[l];r.VALUES_TO_ECI.set(h,this)}try{for(var f=bie(c),A=f.next();!A.done;A=f.next()){var g=A.value;r.NAME_TO_ECI.set(g,this)}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new pn("incorect value");var n=r.VALUES_TO_ECI.get(t);if(n===void 0)throw new pn("incorect value");return n},r.getCharacterSetECIByName=function(t){var n=r.NAME_TO_ECI.get(t);if(n===void 0)throw new pn("incorect value");return n},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.getName()===n.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(_i.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(_i.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(_i.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(_i.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(_i.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(_i.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(_i.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(_i.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(_i.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(_i.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(_i.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(_i.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(_i.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(_i.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(_i.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(_i.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(_i.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(_i.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(_i.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(_i.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(_i.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(_i.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(_i.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(_i.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(_i.Big5,28,"Big5"),r.GB18030=new r(_i.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(_i.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),wie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kv=(function(r){wie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t})(Wd),Vu=(function(){function r(){}return r.decode=function(t,n){var a=this.encodingName(n);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)},r.shouldDecodeOnFallback=function(t){return!r.isBrowser()&&t==="ISO-8859-1"},r.encode=function(t,n){var a=this.encodingName(n);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(t){return typeof t=="string"?t:t.getName()},r.encodingCharacterSet=function(t){return t instanceof Kl?t:Kl.getCharacterSetECIByName(t)},r.decodeFallback=function(t,n){var a=this.encodingCharacterSet(n);if(r.isDecodeFallbackSupported(a)){for(var s="",i=0,c=t.length;i<c;i++){var o=t[i].toString(16);o.length<2&&(o="0"+o),s+="%"+o}return decodeURIComponent(s)}if(a.equals(Kl.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new kv("Encoding "+this.encodingName(n)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(t){return t.equals(Kl.UTF8)||t.equals(Kl.ISO8859_1)||t.equals(Kl.ASCII)},r.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),a=n.split(""),s=[],i=0;i<a.length;i++)s.push(a[i].charCodeAt(0));return new Uint8Array(s)},r})(),qs=(function(){function r(){}return r.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var a=n?n.getName():this.ISO88591;return Vu.decode(new Uint8Array([t]),a)},r.guessEncoding=function(t,n){if(n!=null&&n.get(lo.CHARACTER_SET)!==void 0)return n.get(lo.CHARACTER_SET).toString();for(var a=t.length,s=!0,i=!0,c=!0,o=0,d=0,l=0,u=0,h=0,f=0,A=0,g=0,m=0,x=0,y=0,b=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,j=0;j<a&&(s||i||c);j++){var S=t[j]&255;c&&(o>0?(S&128)===0?c=!1:o--:(S&128)!==0&&((S&64)===0?c=!1:(o++,(S&32)===0?d++:(o++,(S&16)===0?l++:(o++,(S&8)===0?u++:c=!1))))),s&&(S>127&&S<160?s=!1:S>159&&(S<192||S===215||S===247)&&y++),i&&(h>0?S<64||S===127||S>252?i=!1:h--:S===128||S===160||S>239?i=!1:S>160&&S<224?(f++,g=0,A++,A>m&&(m=A)):S>127?(h++,A=0,g++,g>x&&(x=g)):(A=0,g=0))}return c&&o>0&&(c=!1),i&&h>0&&(i=!1),c&&(b||d+l+u>0)?r.UTF8:i&&(r.ASSUME_SHIFT_JIS||m>=3||x>=3)?r.SHIFT_JIS:s&&i?m===2&&f===2||y*10>=a?r.SHIFT_JIS:r.ISO88591:s?r.ISO88591:i?r.SHIFT_JIS:c?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var s=-1;function i(o,d,l,u,h,f){if(o==="%%")return"%";if(n[++s]!==void 0){o=u?parseInt(u.substr(1)):void 0;var A=h?parseInt(h.substr(1)):void 0,g;switch(f){case"s":g=n[s];break;case"c":g=n[s][0];break;case"f":g=parseFloat(n[s]).toFixed(o);break;case"p":g=parseFloat(n[s]).toPrecision(o);break;case"e":g=parseFloat(n[s]).toExponential(o);break;case"x":g=parseInt(n[s]).toString(A||16);break;case"d":g=parseFloat(parseInt(n[s],A||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(A);for(var m=parseInt(l),x=l&&l[0]+""=="0"?"0":" ";g.length<m;)g=d!==void 0?g+x:x+g;return g}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(c,i)},r.getBytes=function(t,n){return Vu.encode(t,n)},r.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},r.getCharAt=function(t){return String.fromCharCode(t)},r.SHIFT_JIS=Kl.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Kl.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Kl.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),bs=(function(){function r(t){t===void 0&&(t=""),this.value=t}return r.prototype.enableDecoding=function(t){return this.encoding=t,this},r.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=qs.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},r.prototype.appendChars=function(t,n,a){for(var s=n;n<n+a;s++)this.append(t[s]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(t){return this.value.charAt(t)},r.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},r.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},r.prototype.substring=function(t,n){return this.value.substring(t,n)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(t,n){this.value=this.value.substring(0,t)+n+this.value.substring(t)},r})(),Hh=(function(){function r(t,n,a,s){if(this.width=t,this.height=n,this.rowSize=a,this.bits=s,n==null&&(n=t),this.height=n,t<1||n<1)throw new Ea("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(t){for(var n=t.length,a=t[0].length,s=new r(a,n),i=0;i<n;i++)for(var c=t[i],o=0;o<a;o++)c[o]&&s.set(o,i);return s},r.parseFromString=function(t,n,a){if(t===null)throw new Ea("stringRepresentation cannot be null");for(var s=new Array(t.length),i=0,c=0,o=-1,d=0,l=0;l<t.length;)if(t.charAt(l)===`
`||t.charAt(l)==="\r"){if(i>c){if(o===-1)o=i-c;else if(i-c!==o)throw new Ea("row lengths do not match");c=i,d++}l++}else if(t.substring(l,l+n.length)===n)l+=n.length,s[i]=!0,i++;else if(t.substring(l,l+a.length)===a)l+=a.length,s[i]=!1,i++;else throw new Ea("illegal character encountered: "+t.substring(l));if(i>c){if(o===-1)o=i-c;else if(i-c!==o)throw new Ea("row lengths do not match");d++}for(var u=new r(o,d),h=0;h<i;h++)s[h]&&u.set(Math.floor(h%o),Math.floor(h/o));return u},r.prototype.get=function(t,n){var a=n*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0},r.prototype.set=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295},r.prototype.unset=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)},r.prototype.flip=function(t,n){var a=n*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295},r.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Ea("input matrix dimensions do not match");for(var n=new wc(Math.floor(this.width/32)+1),a=this.rowSize,s=this.bits,i=0,c=this.height;i<c;i++)for(var o=i*a,d=t.getRow(i,n).getBitArray(),l=0;l<a;l++)s[o+l]^=d[l]},r.prototype.clear=function(){for(var t=this.bits,n=t.length,a=0;a<n;a++)t[a]=0},r.prototype.setRegion=function(t,n,a,s){if(n<0||t<0)throw new Ea("Left and top must be nonnegative");if(s<1||a<1)throw new Ea("Height and width must be at least 1");var i=t+a,c=n+s;if(c>this.height||i>this.width)throw new Ea("The region must fit inside the matrix");for(var o=this.rowSize,d=this.bits,l=n;l<c;l++)for(var u=l*o,h=t;h<i;h++)d[u+Math.floor(h/32)]|=1<<(h&31)&4294967295},r.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new wc(this.width):n.clear();for(var a=this.rowSize,s=this.bits,i=t*a,c=0;c<a;c++)n.setBulk(c*32,s[i+c]);return n},r.prototype.setRow=function(t,n){oo.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),a=new wc(t),s=new wc(t),i=0,c=Math.floor((n+1)/2);i<c;i++)a=this.getRow(i,a),s=this.getRow(n-1-i,s),a.reverse(),s.reverse(),this.setRow(i,s),this.setRow(n-1-i,a)},r.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,a=this.rowSize,s=this.bits,i=t,c=n,o=-1,d=-1,l=0;l<n;l++)for(var u=0;u<a;u++){var h=s[l*a+u];if(h!==0){if(l<c&&(c=l),l>d&&(d=l),u*32<i){for(var f=0;(h<<31-f&4294967295)===0;)f++;u*32+f<i&&(i=u*32+f)}if(u*32+31>o){for(var f=31;!(h>>>f);)f--;u*32+f>o&&(o=u*32+f)}}}return o<i||d<c?null:Int32Array.from([i,c,o-i+1,d-c+1])},r.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,a=0;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;for(var s=a/t,i=a%t*32,c=n[a],o=0;(c<<31-o&4294967295)===0;)o++;return i+=o,Int32Array.from([i,s])},r.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,a=n.length-1;a>=0&&n[a]===0;)a--;if(a<0)return null;for(var s=Math.floor(a/t),i=Math.floor(a%t)*32,c=n[a],o=31;!(c>>>o);)o--;return i+=o,Int32Array.from([i,s])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Xl.equals(this.bits,n.bits)},r.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Xl.hashCode(this.bits),t},r.prototype.toString=function(t,n,a){return t===void 0&&(t="X "),n===void 0&&(n="  "),a===void 0&&(a=`
`),this.buildToString(t,n,a)},r.prototype.buildToString=function(t,n,a){for(var s=new bs,i=0,c=this.height;i<c;i++){for(var o=0,d=this.width;o<d;o++)s.append(this.get(o,i)?t:n);s.append(a)}return s.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),Cie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),kr=(function(r){Cie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t})(Wd),Nie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Sie=(function(r){Nie(t,r);function t(n){var a=r.call(this,n)||this;return a.luminances=t.EMPTY,a.buckets=new Int32Array(t.LUMINANCE_BUCKETS),a}return t.prototype.getBlackRow=function(n,a){var s=this.getLuminanceSource(),i=s.getWidth();a==null||a.getSize()<i?a=new wc(i):a.clear(),this.initArrays(i);for(var c=s.getRow(n,this.luminances),o=this.buckets,d=0;d<i;d++)o[(c[d]&255)>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(o);if(i<3)for(var d=0;d<i;d++)(c[d]&255)<l&&a.set(d);else for(var u=c[0]&255,h=c[1]&255,d=1;d<i-1;d++){var f=c[d+1]&255;(h*4-u-f)/2<l&&a.set(d),u=h,h=f}return a},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),a=n.getWidth(),s=n.getHeight(),i=new Hh(a,s);this.initArrays(a);for(var c=this.buckets,o=1;o<5;o++)for(var d=Math.floor(s*o/5),l=n.getRow(d,this.luminances),u=Math.floor(a*4/5),h=Math.floor(a/5);h<u;h++){var f=l[h]&255;c[f>>t.LUMINANCE_SHIFT]++}for(var A=t.estimateBlackPoint(c),g=n.getMatrix(),o=0;o<s;o++)for(var m=o*a,h=0;h<a;h++){var f=g[m+h]&255;f<A&&i.set(h,o)}return i},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var a=this.buckets,s=0;s<t.LUMINANCE_BUCKETS;s++)a[s]=0},t.estimateBlackPoint=function(n){for(var a=n.length,s=0,i=0,c=0,o=0;o<a;o++)n[o]>c&&(i=o,c=n[o]),n[o]>s&&(s=n[o]);for(var d=0,l=0,o=0;o<a;o++){var u=o-i,h=n[o]*u*u;h>l&&(d=o,l=h)}if(i>d){var f=i;i=d,d=f}if(d-i<=a/16)throw new kr;for(var A=d-1,g=-1,o=d-1;o>i;o--){var m=o-i,h=m*m*(d-o)*(s-n[o]);h>g&&(A=o,g=h)}return A<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t})(gie),Eie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yD=(function(r){Eie(t,r);function t(n){var a=r.call(this,n)||this;return a.matrix=null,a}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),a=n.getWidth(),s=n.getHeight();if(a>=t.MINIMUM_DIMENSION&&s>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),c=a>>t.BLOCK_SIZE_POWER;(a&t.BLOCK_SIZE_MASK)!==0&&c++;var o=s>>t.BLOCK_SIZE_POWER;(s&t.BLOCK_SIZE_MASK)!==0&&o++;var d=t.calculateBlackPoints(i,c,o,a,s),l=new Hh(a,s);t.calculateThresholdForBlock(i,c,o,a,s,d,l),this.matrix=l}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,a,s,i,c,o,d){for(var l=c-t.BLOCK_SIZE,u=i-t.BLOCK_SIZE,h=0;h<s;h++){var f=h<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var A=t.cap(h,2,s-3),g=0;g<a;g++){var m=g<<t.BLOCK_SIZE_POWER;m>u&&(m=u);for(var x=t.cap(g,2,a-3),y=0,b=-2;b<=2;b++){var j=o[A+b];y+=j[x-2]+j[x-1]+j[x]+j[x+1]+j[x+2]}var S=y/25;t.thresholdBlock(n,m,f,S,i,d)}}},t.cap=function(n,a,s){return n<a?a:n>s?s:n},t.thresholdBlock=function(n,a,s,i,c,o){for(var d=0,l=s*c+a;d<t.BLOCK_SIZE;d++,l+=c)for(var u=0;u<t.BLOCK_SIZE;u++)(n[l+u]&255)<=i&&o.set(a+u,s+d)},t.calculateBlackPoints=function(n,a,s,i,c){for(var o=c-t.BLOCK_SIZE,d=i-t.BLOCK_SIZE,l=new Array(s),u=0;u<s;u++){l[u]=new Int32Array(a);var h=u<<t.BLOCK_SIZE_POWER;h>o&&(h=o);for(var f=0;f<a;f++){var A=f<<t.BLOCK_SIZE_POWER;A>d&&(A=d);for(var g=0,m=255,x=0,y=0,b=h*i+A;y<t.BLOCK_SIZE;y++,b+=i){for(var j=0;j<t.BLOCK_SIZE;j++){var S=n[b+j]&255;g+=S,S<m&&(m=S),S>x&&(x=S)}if(x-m>t.MIN_DYNAMIC_RANGE)for(y++,b+=i;y<t.BLOCK_SIZE;y++,b+=i)for(var j=0;j<t.BLOCK_SIZE;j++)g+=n[b+j]&255}var w=g>>t.BLOCK_SIZE_POWER*2;if(x-m<=t.MIN_DYNAMIC_RANGE&&(w=m/2,u>0&&f>0)){var E=(l[u-1][f]+2*l[u][f-1]+l[u-1][f-1])/4;m<E&&(w=E)}l[u][f]=w}}return l},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t})(Sie),i0=(function(){function r(t,n){this.width=t,this.height=n}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(t,n,a,s){throw new kv("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new kv("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new kv("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new bs,a=0;a<this.height;a++){for(var s=this.getRow(a,t),i=0;i<this.width;i++){var c=s[i]&255,o=void 0;c<64?o="#":c<128?o="+":c<192?o=".":o=" ",n.append(o)}n.append(`
`)}return n.toString()},r})(),Bie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),I2=(function(r){Bie(t,r);function t(n){var a=r.call(this,n.getWidth(),n.getHeight())||this;return a.delegate=n,a}return t.prototype.getRow=function(n,a){for(var s=this.delegate.getRow(n,a),i=this.getWidth(),c=0;c<i;c++)s[c]=255-(s[c]&255);return s},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(a),i=0;i<a;i++)s[i]=255-(n[i]&255);return s},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,a,s,i){return new t(this.delegate.crop(n,a,s,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t})(i0),Iie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Tie=(function(r){Iie(t,r);function t(n,a){a===void 0&&(a=!1);var s=r.call(this,n.width,n.height)||this;return s.canvas=n,s.tempCanvasElement=null,s.buffer=t.makeBufferFromCanvasImageData(n,a),s}return t.makeBufferFromCanvasImageData=function(n,a){a===void 0&&(a=!1);var s=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(s.data,n.width,n.height,a)},t.toGrayscaleBuffer=function(n,a,s,i){i===void 0&&(i=!1);var c=new Uint8ClampedArray(a*s);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var o=0,d=0,l=n.length;o<l;o+=4,d++){var u=void 0,h=n[o+3];if(h===0)u=255;else{var f=n[o],A=n[o+1],g=n[o+2];u=306*f+601*A+117*g+512>>10}c[d]=u}else for(var o=0,d=0,m=n.length;o<m;o+=4,d++){var u=void 0,h=n[o+3];if(h===0)u=255;else{var f=n[o],A=n[o+1],g=n[o+2];u=306*f+601*A+117*g+512>>10}c[d]=255-u}return c},t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var s=this.getWidth(),i=n*s;return a===null?a=this.buffer.slice(i,i+s):(a.length<s&&(a=new Uint8ClampedArray(s)),a.set(this.buffer.slice(i,i+s))),a},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return r.prototype.crop.call(this,n,a,s,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var a=this.getTempCanvasElement(),s=a.getContext("2d"),i=n*t.DEGREE_TO_RADIANS,c=this.canvas.width,o=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(i))*c+Math.abs(Math.sin(i))*o),l=Math.ceil(Math.abs(Math.sin(i))*c+Math.abs(Math.cos(i))*o);return a.width=d,a.height=l,s.translate(d/2,l/2),s.rotate(i),s.drawImage(this.canvas,c/-2,o/-2),this.buffer=t.makeBufferFromCanvasImageData(a),this},t.prototype.invert=function(){return new I2(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t})(i0),kie=(function(){function r(t,n,a){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=a||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),yd=function(r,t,n,a){function s(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{l(a.next(u))}catch(h){c(h)}}function d(u){try{l(a.throw(u))}catch(h){c(h)}}function l(u){u.done?i(u.value):s(u.value).then(o,d)}l((a=a.apply(r,t||[])).next())})},jd=function(r,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(l){return function(u){return d([l,u])}}function d(l){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(r,n)}catch(u){l=[6,u],s=0}finally{a=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},_ie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=(function(){function r(t,n,a){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return yd(this,void 0,void 0,function(){var t,n,a,s,i,c,o,d,l,u,h,f;return jd(this,function(A){switch(A.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=A.sent(),n=[];try{for(a=_ie(t),s=a.next();!s.done;s=a.next())i=s.value,c=i.kind==="video"?"videoinput":i.kind,c==="videoinput"&&(o=i.deviceId||i.id,d=i.label||"Video device "+(n.length+1),l=i.groupId,u={deviceId:o,label:d,kind:c,groupId:l},n.push(u))}catch(g){h={error:g}}finally{try{s&&!s.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.prototype.getVideoInputDevices=function(){return yd(this,void 0,void 0,function(){var t;return jd(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(a){return new kie(a.deviceId,a.label)})]}})})},r.prototype.findDeviceById=function(t){return yd(this,void 0,void 0,function(){var n;return jd(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(s){return s.deviceId===t})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(t,n){return yd(this,void 0,void 0,function(){return jd(this,function(a){switch(a.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(t,n){return yd(this,void 0,void 0,function(){var a,s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),t?a={deviceId:{exact:t}}:a={facingMode:"environment"},s={video:a},[4,this.decodeOnceFromConstraints(s,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(t,n){return yd(this,void 0,void 0,function(){var a;return jd(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=s.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromStream=function(t,n){return yd(this,void 0,void 0,function(){var a,s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return a=i.sent(),[4,this.decodeOnce(a)];case 2:return s=i.sent(),[2,s]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,a){return yd(this,void 0,void 0,function(){return jd(this,function(s){switch(s.label){case 0:return[4,this.decodeFromVideoDevice(t,n,a)];case 1:return[2,s.sent()]}})})},r.prototype.decodeFromVideoDevice=function(t,n,a){return yd(this,void 0,void 0,function(){var s,i;return jd(this,function(c){switch(c.label){case 0:return t?s={deviceId:{exact:t}}:s={facingMode:"environment"},i={video:s},[4,this.decodeFromConstraints(i,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromConstraints=function(t,n,a){return yd(this,void 0,void 0,function(){var s;return jd(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return s=i.sent(),[4,this.decodeFromStream(s,n,a)];case 2:return[2,i.sent()]}})})},r.prototype.decodeFromStream=function(t,n,a){return yd(this,void 0,void 0,function(){var s;return jd(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return s=i.sent(),[4,this.decodeContinuously(s,a)];case 2:return[2,i.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(t,n){return yd(this,void 0,void 0,function(){var a;return jd(this,function(s){switch(s.label){case 0:return a=this.prepareVideoElement(n),this.addVideoSource(a,t),this.videoElement=a,this.stream=t,[4,this.playVideoOnLoadAsync(a)];case 1:return s.sent(),[2,a]}})})},r.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(a,s){return n.playVideoOnLoad(t,function(){return a()})})},r.prototype.playVideoOnLoad=function(t,n){var a=this;this.videoEndedListener=function(){return a.stopStreams()},this.videoCanPlayListener=function(){return a.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},r.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},r.prototype.tryPlayVideo=function(t){return yd(this,void 0,void 0,function(){return jd(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(t,n){var a=document.getElementById(t);if(!a)throw new pl("element with id '"+t+"' not found");if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new pl("element with id '"+t+"' must be an "+n+" element");return a},r.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new pl("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},r.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new pl("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},r.prototype.decodeFromVideoContinuously=function(t,n,a){if(t===void 0&&n===void 0)throw new pl("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(t,a)},r.prototype.decodeFromImageElement=function(t){if(!t)throw new pl("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a},r.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},r.prototype.decodeFromVideoElementContinuously=function(t,n){var a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,n)},r.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new pl("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},r.prototype.decodeFromImageUrl=function(t){if(!t)throw new pl("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var a=this._decodeOnLoadImage(n);return n.src=t,a},r.prototype.decodeFromVideoUrl=function(t){if(!t)throw new pl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=t,a},r.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new pl("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(a,n);return a.src=t,s},r.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(a,s){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(a,s)},t.addEventListener("load",n.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(t){return yd(this,void 0,void 0,function(){return jd(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(t,n){return yd(this,void 0,void 0,function(){return jd(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return a.sent(),this.decodeContinuously(t,n),[2]}})})},r.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},r.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},r.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.prototype.decodeOnce=function(t,n,a){var s=this;n===void 0&&(n=!0),a===void 0&&(a=!0),this._stopAsyncDecode=!1;var i=function(c,o){if(s._stopAsyncDecode){o(new kr("Video stream has ended before any code could be detected.")),s._stopAsyncDecode=void 0;return}try{var d=s.decode(t);c(d)}catch(f){var l=n&&f instanceof kr,u=f instanceof El||f instanceof pn,h=u&&a;if(l||h)return setTimeout(i,s._timeBetweenDecodingAttempts,c,o);o(f)}};return new Promise(function(c,o){return i(c,o)})},r.prototype.decodeContinuously=function(t,n){var a=this;this._stopContinuousDecode=!1;var s=function(){if(a._stopContinuousDecode){a._stopContinuousDecode=void 0;return}try{var i=a.decode(t);n(i,null),setTimeout(s,a.timeBetweenScansMillis)}catch(d){n(null,d);var c=d instanceof El||d instanceof pn,o=d instanceof kr;(c||o)&&setTimeout(s,a._timeBetweenDecodingAttempts)}};s()},r.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},r.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var n=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),n=!0):this.drawImageOnCanvas(t);var a=this.getCaptureCanvas(t),s=new Tie(a,n),i=new yD(s);return new xD(i)},r.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),a=void 0;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}this.captureCanvasContext=a}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(t,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.drawImageOnCanvas=function(t,n,a){n===void 0&&(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a===void 0&&(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},r.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},r.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),a,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),n.style.width=a+"px",n.style.height=s+"px",n.width=a,n.height=s,n},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},r.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},r})(),ad=(function(){function r(t,n,a,s,i,c){a===void 0&&(a=n==null?0:8*n.length),c===void 0&&(c=oo.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=a,this.resultPoints=s,this.format=i,this.timestamp=c,this.text=t,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=s,this.format=i,this.resultMetadata=null,c==null?this.timestamp=oo.currentTimeMillis():this.timestamp=c}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},r.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},r.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var a=new Array(n.length+t.length);oo.arraycopy(n,0,a,0,n.length),oo.arraycopy(t,0,a,n.length,t.length),this.resultPoints=a}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),a4;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(a4||(a4={}));const Sa=a4;var s4;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(s4||(s4={}));const Qc=s4;var T2=(function(){function r(t,n,a,s,i,c){i===void 0&&(i=-1),c===void 0&&(c=-1),this.rawBytes=t,this.text=n,this.byteSegments=a,this.ecLevel=s,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(t){this.numBits=t},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(t){this.erasures=t},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(t){this.other=t},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),Kg=(function(){function r(){}return r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(t===0)throw new Ea;return this.logTable[t]},r.addOrSubtract=function(t,n){return t^n},r})(),fA=(function(){function r(t,n){if(n.length===0)throw new Ea;this.field=t;var a=n.length;if(a>1&&n[0]===0){for(var s=1;s<a&&n[s]===0;)s++;s===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-s),oo.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,a;if(t===1){a=0;for(var s=0,i=n.length;s!==i;s++){var c=n[s];a=Kg.addOrSubtract(a,c)}return a}a=n[0];for(var o=n.length,d=this.field,s=1;s<o;s++)a=Kg.addOrSubtract(d.multiply(t,a),n[s]);return a},r.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,a=t.coefficients;if(n.length>a.length){var s=n;n=a,a=s}var i=new Int32Array(a.length),c=a.length-n.length;oo.arraycopy(a,0,i,0,c);for(var o=c;o<a.length;o++)i[o]=Kg.addOrSubtract(n[o-c],a[o]);return new r(this.field,i)},r.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,a=n.length,s=t.coefficients,i=s.length,c=new Int32Array(a+i-1),o=this.field,d=0;d<a;d++)for(var l=n[d],u=0;u<i;u++)c[d+u]=Kg.addOrSubtract(c[d+u],o.multiply(l,s[u]));return new r(o,c)},r.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,a=this.field,s=new Int32Array(n),i=this.coefficients,c=0;c<n;c++)s[c]=a.multiply(i[c],t);return new r(a,s)},r.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Ea;if(n===0)return this.field.getZero();for(var a=this.coefficients,s=a.length,i=new Int32Array(s+t),c=this.field,o=0;o<s;o++)i[o]=c.multiply(a[o],n);return new r(c,i)},r.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Ea("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Ea("Divide by 0");for(var n=this.field,a=n.getZero(),s=this,i=t.getCoefficient(t.getDegree()),c=n.inverse(i);s.getDegree()>=t.getDegree()&&!s.isZero();){var o=s.getDegree()-t.getDegree(),d=n.multiply(s.getCoefficient(s.getDegree()),c),l=t.multiplyByMonomial(o,d),u=n.buildMonomial(o,d);a=a.addOrSubtract(u),s=s.addOrSubtract(l)}return[a,s]},r.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),n===0||a!==1){var s=this.field.log(a);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},r})(),Oie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jD=(function(r){Oie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ArithmeticException",t})(Wd),Fie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ud=(function(r){Fie(t,r);function t(n,a,s){var i=r.call(this)||this;i.primitive=n,i.size=a,i.generatorBase=s;for(var c=new Int32Array(a),o=1,d=0;d<a;d++)c[d]=o,o*=2,o>=a&&(o^=n,o&=a-1);i.expTable=c;for(var l=new Int32Array(a),d=0;d<a-1;d++)l[c[d]]=d;return i.logTable=l,i.zero=new fA(i,Int32Array.from([0])),i.one=new fA(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,a){if(n<0)throw new Ea;if(a===0)return this.zero;var s=new Int32Array(n+1);return s[0]=a,new fA(this,s)},t.prototype.inverse=function(n){if(n===0)throw new jD;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Ns.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t})(Kg),Pie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),jv=(function(r){Pie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ReedSolomonException",t})(Wd),Die=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),o0=(function(r){Die(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="IllegalStateException",t})(Wd),k2=(function(){function r(t){this.field=t}return r.prototype.decode=function(t,n){for(var a=this.field,s=new fA(a,t),i=new Int32Array(n),c=!0,o=0;o<n;o++){var d=s.evaluateAt(a.exp(o+a.getGeneratorBase()));i[i.length-1-o]=d,d!==0&&(c=!1)}if(!c)for(var l=new fA(a,i),u=this.runEuclideanAlgorithm(a.buildMonomial(n,1),l,n),h=u[0],f=u[1],A=this.findErrorLocations(h),g=this.findErrorMagnitudes(f,A),o=0;o<A.length;o++){var m=t.length-1-a.log(A[o]);if(m<0)throw new jv("Bad error location");t[m]=Ud.addOrSubtract(t[m],g[o])}},r.prototype.runEuclideanAlgorithm=function(t,n,a){if(t.getDegree()<n.getDegree()){var s=t;t=n,n=s}for(var i=this.field,c=t,o=n,d=i.getZero(),l=i.getOne();o.getDegree()>=(a/2|0);){var u=c,h=d;if(c=o,d=l,c.isZero())throw new jv("r_{i-1} was zero");o=u;for(var f=i.getZero(),A=c.getCoefficient(c.getDegree()),g=i.inverse(A);o.getDegree()>=c.getDegree()&&!o.isZero();){var m=o.getDegree()-c.getDegree(),x=i.multiply(o.getCoefficient(o.getDegree()),g);f=f.addOrSubtract(i.buildMonomial(m,x)),o=o.addOrSubtract(c.multiplyByMonomial(m,x))}if(l=f.multiply(d).addOrSubtract(h),o.getDegree()>=c.getDegree())throw new o0("Division algorithm failed to reduce polynomial?")}var y=l.getCoefficient(0);if(y===0)throw new jv("sigmaTilde(0) was zero");var b=i.inverse(y),j=l.multiplyScalar(b),S=o.multiplyScalar(b);return[j,S]},r.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var a=new Int32Array(n),s=0,i=this.field,c=1;c<i.getSize()&&s<n;c++)t.evaluateAt(c)===0&&(a[s]=i.inverse(c),s++);if(s!==n)throw new jv("Error locator degree does not match number of roots");return a},r.prototype.findErrorMagnitudes=function(t,n){for(var a=n.length,s=new Int32Array(a),i=this.field,c=0;c<a;c++){for(var o=i.inverse(n[c]),d=1,l=0;l<a;l++)if(c!==l){var u=i.multiply(n[l],o),h=(u&1)===0?u|1:u&-2;d=i.multiply(d,h)}s[c]=i.multiply(t.evaluateAt(o),i.inverse(d)),i.getGeneratorBase()!==0&&(s[c]=i.multiply(s[c],o))}return s},r})(),Rc;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Rc||(Rc={}));var Rk=(function(){function r(){}return r.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),a=this.extractBits(n),s=this.correctBits(a),i=r.convertBoolArrayToByteArray(s),c=r.getEncodedData(s),o=new T2(i,c,null,null);return o.setNumBits(s.length),o},r.highLevelDecode=function(t){return this.getEncodedData(t)},r.getEncodedData=function(t){for(var n=t.length,a=Rc.UPPER,s=Rc.UPPER,i="",c=0;c<n;)if(s===Rc.BINARY){if(n-c<5)break;var o=r.readCode(t,c,5);if(c+=5,o===0){if(n-c<11)break;o=r.readCode(t,c,11)+31,c+=11}for(var d=0;d<o;d++){if(n-c<8){c=n;break}var l=r.readCode(t,c,8);i+=qs.castAsNonUtf8Char(l),c+=8}s=a}else{var u=s===Rc.DIGIT?4:5;if(n-c<u)break;var l=r.readCode(t,c,u);c+=u;var h=r.getCharacter(s,l);h.startsWith("CTRL_")?(a=s,s=r.getTable(h.charAt(5)),h.charAt(6)==="L"&&(a=s)):(i+=h,s=a)}return i},r.getTable=function(t){switch(t){case"L":return Rc.LOWER;case"P":return Rc.PUNCT;case"M":return Rc.MIXED;case"D":return Rc.DIGIT;case"B":return Rc.BINARY;case"U":default:return Rc.UPPER}},r.getCharacter=function(t,n){switch(t){case Rc.UPPER:return r.UPPER_TABLE[n];case Rc.LOWER:return r.LOWER_TABLE[n];case Rc.MIXED:return r.MIXED_TABLE[n];case Rc.PUNCT:return r.PUNCT_TABLE[n];case Rc.DIGIT:return r.DIGIT_TABLE[n];default:throw new o0("Bad table")}},r.prototype.correctBits=function(t){var n,a;this.ddata.getNbLayers()<=2?(a=6,n=Ud.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Ud.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Ud.AZTEC_DATA_10):(a=12,n=Ud.AZTEC_DATA_12);var s=this.ddata.getNbDatablocks(),i=t.length/a;if(i<s)throw new pn;for(var c=t.length%a,o=new Int32Array(i),d=0;d<i;d++,c+=a)o[d]=r.readCode(t,c,a);try{var l=new k2(n);l.decode(o,i-s)}catch(x){throw new pn(x)}for(var u=(1<<a)-1,h=0,d=0;d<s;d++){var f=o[d];if(f===0||f===u)throw new pn;(f===1||f===u-1)&&h++}for(var A=new Array(s*a-h),g=0,d=0;d<s;d++){var f=o[d];if(f===1||f===u-1)A.fill(f>1,g,g+a-1),g+=a-1;else for(var m=a-1;m>=0;--m)A[g++]=(f&1<<m)!==0}return A},r.prototype.extractBits=function(t){var n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),s=(n?11:14)+a*4,i=new Int32Array(s),c=new Array(this.totalBitsInLayer(a,n));if(n)for(var o=0;o<i.length;o++)i[o]=o;else for(var d=s+1+2*Ns.truncDivision(Ns.truncDivision(s,2)-1,15),l=s/2,u=Ns.truncDivision(d,2),o=0;o<l;o++){var h=o+Ns.truncDivision(o,15);i[l-o-1]=u-h-1,i[l+o]=u+h+1}for(var o=0,f=0;o<a;o++){for(var A=(a-o)*4+(n?9:12),g=o*2,m=s-1-g,x=0;x<A;x++)for(var y=x*2,b=0;b<2;b++)c[f+y+b]=t.get(i[g+b],i[g+x]),c[f+2*A+y+b]=t.get(i[g+x],i[m-b]),c[f+4*A+y+b]=t.get(i[m-b],i[m-x]),c[f+6*A+y+b]=t.get(i[m-x],i[g+b]);f+=A*8}return c},r.readCode=function(t,n,a){for(var s=0,i=n;i<n+a;i++)s<<=1,t[i]&&(s|=1);return s},r.readByte=function(t,n){var a=t.length-n;return a>=8?r.readCode(t,n,8):r.readCode(t,n,a)<<8-a},r.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),a=0;a<n.length;a++)n[a]=r.readByte(t,8*a);return n},r.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),ii=(function(){function r(){}return r.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},r.distance=function(t,n,a,s){var i=t-a,c=n-s;return Math.sqrt(i*i+c*c)},r.sum=function(t){for(var n=0,a=0,s=t.length;a!==s;a++){var i=t[a];n+=i}return n},r})(),i4=(function(){function r(){}return r.floatToIntBits=function(t){return t},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),ea=(function(){function r(t,n){this.x=t,this.y=n}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(t){if(t instanceof r){var n=t;return this.x===n.x&&this.y===n.y}return!1},r.prototype.hashCode=function(){return 31*i4.floatToIntBits(this.x)+i4.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]),i,c,o;if(a>=n&&a>=s?(c=t[0],i=t[1],o=t[2]):s>=a&&s>=n?(c=t[1],i=t[0],o=t[2]):(c=t[2],i=t[0],o=t[1]),this.crossProductZ(i,c,o)<0){var d=i;i=o,o=d}t[0]=i,t[1]=c,t[2]=o},r.distance=function(t,n){return ii.distance(t.x,t.y,n.x,n.y)},r.crossProductZ=function(t,n,a){var s=n.x,i=n.y;return(a.x-s)*(t.y-i)-(a.y-i)*(t.x-s)},r})(),BS=(function(){function r(t,n){this.bits=t,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Mie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Rie=(function(r){Mie(t,r);function t(n,a,s,i,c){var o=r.call(this,n,a)||this;return o.compact=s,o.nbDatablocks=i,o.nbLayers=c,o}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t})(BS),o4=(function(){function r(t,n,a,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=r.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=a-i,this.rightInit=a+i,this.upInit=s-i,this.downInit=s+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new kr}return r.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,a=this.upInit,s=this.downInit,i=!1,c=!0,o=!1,d=!1,l=!1,u=!1,h=!1,f=this.width,A=this.height;c;){c=!1;for(var g=!0;(g||!d)&&n<f;)g=this.containsBlackPoint(a,s,n,!1),g?(n++,c=!0,d=!0):d||n++;if(n>=f){i=!0;break}for(var m=!0;(m||!l)&&s<A;)m=this.containsBlackPoint(t,n,s,!0),m?(s++,c=!0,l=!0):l||s++;if(s>=A){i=!0;break}for(var x=!0;(x||!u)&&t>=0;)x=this.containsBlackPoint(a,s,t,!1),x?(t--,c=!0,u=!0):u||t--;if(t<0){i=!0;break}for(var y=!0;(y||!h)&&a>=0;)y=this.containsBlackPoint(t,n,a,!0),y?(a--,c=!0,h=!0):h||a--;if(a<0){i=!0;break}c&&(o=!0)}if(!i&&o){for(var b=n-t,j=null,S=1;j===null&&S<b;S++)j=this.getBlackPointOnSegment(t,s-S,t+S,s);if(j==null)throw new kr;for(var w=null,S=1;w===null&&S<b;S++)w=this.getBlackPointOnSegment(t,a+S,t+S,a);if(w==null)throw new kr;for(var E=null,S=1;E===null&&S<b;S++)E=this.getBlackPointOnSegment(n,a+S,n-S,a);if(E==null)throw new kr;for(var I=null,S=1;I===null&&S<b;S++)I=this.getBlackPointOnSegment(n,s-S,n-S,s);if(I==null)throw new kr;return this.centerEdges(I,j,E,w)}else throw new kr},r.prototype.getBlackPointOnSegment=function(t,n,a,s){for(var i=ii.round(ii.distance(t,n,a,s)),c=(a-t)/i,o=(s-n)/i,d=this.image,l=0;l<i;l++){var u=ii.round(t+l*c),h=ii.round(n+l*o);if(d.get(u,h))return new ea(u,h)}return null},r.prototype.centerEdges=function(t,n,a,s){var i=t.getX(),c=t.getY(),o=n.getX(),d=n.getY(),l=a.getX(),u=a.getY(),h=s.getX(),f=s.getY(),A=r.CORR;return i<this.width/2?[new ea(h-A,f+A),new ea(o+A,d+A),new ea(l-A,u-A),new ea(i+A,c-A)]:[new ea(h+A,f+A),new ea(o+A,d-A),new ea(l-A,u+A),new ea(i-A,c-A)]},r.prototype.containsBlackPoint=function(t,n,a,s){var i=this.image;if(s){for(var c=t;c<=n;c++)if(i.get(c,a))return!0}else for(var o=t;o<=n;o++)if(i.get(a,o))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),Lk=(function(){function r(){}return r.checkAndNudgePoints=function(t,n){for(var a=t.getWidth(),s=t.getHeight(),i=!0,c=0;c<n.length&&i;c+=2){var o=Math.floor(n[c]),d=Math.floor(n[c+1]);if(o<-1||o>a||d<-1||d>s)throw new kr;i=!1,o===-1?(n[c]=0,i=!0):o===a&&(n[c]=a-1,i=!0),d===-1?(n[c+1]=0,i=!0):d===s&&(n[c+1]=s-1,i=!0)}i=!0;for(var c=n.length-2;c>=0&&i;c-=2){var o=Math.floor(n[c]),d=Math.floor(n[c+1]);if(o<-1||o>a||d<-1||d>s)throw new kr;i=!1,o===-1?(n[c]=0,i=!0):o===a&&(n[c]=a-1,i=!0),d===-1?(n[c+1]=0,i=!0):d===s&&(n[c+1]=s-1,i=!0)}},r})(),bD=(function(){function r(t,n,a,s,i,c,o,d,l){this.a11=t,this.a21=n,this.a31=a,this.a12=s,this.a22=i,this.a32=c,this.a13=o,this.a23=d,this.a33=l}return r.quadrilateralToQuadrilateral=function(t,n,a,s,i,c,o,d,l,u,h,f,A,g,m,x){var y=r.quadrilateralToSquare(t,n,a,s,i,c,o,d),b=r.squareToQuadrilateral(l,u,h,f,A,g,m,x);return b.times(y)},r.prototype.transformPoints=function(t){for(var n=t.length,a=this.a11,s=this.a12,i=this.a13,c=this.a21,o=this.a22,d=this.a23,l=this.a31,u=this.a32,h=this.a33,f=0;f<n;f+=2){var A=t[f],g=t[f+1],m=i*A+d*g+h;t[f]=(a*A+c*g+l)/m,t[f+1]=(s*A+o*g+u)/m}},r.prototype.transformPointsWithValues=function(t,n){for(var a=this.a11,s=this.a12,i=this.a13,c=this.a21,o=this.a22,d=this.a23,l=this.a31,u=this.a32,h=this.a33,f=t.length,A=0;A<f;A++){var g=t[A],m=n[A],x=i*g+d*m+h;t[A]=(a*g+c*m+l)/x,n[A]=(s*g+o*m+u)/x}},r.squareToQuadrilateral=function(t,n,a,s,i,c,o,d){var l=t-a+i-o,u=n-s+c-d;if(l===0&&u===0)return new r(a-t,i-a,t,s-n,c-s,n,0,0,1);var h=a-i,f=o-i,A=s-c,g=d-c,m=h*g-f*A,x=(l*g-f*u)/m,y=(h*u-l*A)/m;return new r(a-t+x*a,o-t+y*o,t,s-n+x*s,d-n+y*d,n,x,y,1)},r.quadrilateralToSquare=function(t,n,a,s,i,c,o,d){return r.squareToQuadrilateral(t,n,a,s,i,c,o,d).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(t){return new r(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},r})(),Lie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uie=(function(r){Lie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,a,s,i,c,o,d,l,u,h,f,A,g,m,x,y,b,j,S){var w=bD.quadrilateralToQuadrilateral(i,c,o,d,l,u,h,f,A,g,m,x,y,b,j,S);return this.sampleGridWithTransform(n,a,s,w)},t.prototype.sampleGridWithTransform=function(n,a,s,i){if(a<=0||s<=0)throw new kr;for(var c=new Hh(a,s),o=new Float32Array(2*a),d=0;d<s;d++){for(var l=o.length,u=d+.5,h=0;h<l;h+=2)o[h]=h/2+.5,o[h+1]=u;i.transformPoints(o),Lk.checkAndNudgePoints(n,o);try{for(var h=0;h<l;h+=2)n.get(Math.floor(o[h]),Math.floor(o[h+1]))&&c.set(h/2,d)}catch{throw new kr}}return c},t})(Lk),IS=(function(){function r(){}return r.setGridSampler=function(t){r.gridSampler=t},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Uie,r})(),Ld=(function(){function r(t,n){this.x=t,this.y=n}return r.prototype.toResultPoint=function(){return new ea(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),Hie=(function(){function r(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(t){var s=a[0];a[0]=a[2],a[2]=s}this.extractParameters(a);var i=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),c=this.getMatrixCornerPoints(a);return new Rie(i,c,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new kr;var n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(a,n);for(var s=0,i=0;i<4;i++){var c=a[(this.shift+i)%4];this.compact?(s<<=7,s+=c>>1&127):(s<<=10,s+=(c>>2&992)+(c>>1&31))}var o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},r.prototype.getRotation=function(t,n){var a=0;t.forEach(function(i,c,o){var d=(i>>n-2<<1)+(i&1);a=(a<<3)+d}),a=((a&1)<<11)+(a>>1);for(var s=0;s<4;s++)if(Ns.bitCount(a^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new kr},r.prototype.getCorrectedParameterData=function(t,n){var a,s;n?(a=7,s=2):(a=10,s=4);for(var i=a-s,c=new Int32Array(a),o=a-1;o>=0;--o)c[o]=t&15,t>>=4;try{var d=new k2(Ud.AZTEC_PARAM);d.decode(c,i)}catch{throw new kr}for(var l=0,o=0;o<s;o++)l=(l<<4)+c[o];return l},r.prototype.getBullsEyeCorners=function(t){var n=t,a=t,s=t,i=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(n,c,1,-1),d=this.getFirstDifferent(a,c,1,1),l=this.getFirstDifferent(s,c,-1,1),u=this.getFirstDifferent(i,c,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(u,o)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(o,d,l,u))break}n=o,a=d,s=l,i=u,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new kr;this.compact=this.nbCenterLayers===5;var f=new ea(n.getX()+.5,n.getY()-.5),A=new ea(a.getX()+.5,a.getY()+.5),g=new ea(s.getX()-.5,s.getY()+.5),m=new ea(i.getX()-.5,i.getY()-.5);return this.expandSquare([f,A,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var t,n,a,s;try{var i=new o4(this.image).detect();t=i[0],n=i[1],a=i[2],s=i[3]}catch{var c=this.image.getWidth()/2,o=this.image.getHeight()/2;t=this.getFirstDifferent(new Ld(c+7,o-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ld(c+7,o+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ld(c-7,o+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ld(c-7,o-7),!1,-1,-1).toResultPoint()}var d=ii.round((t.getX()+s.getX()+n.getX()+a.getX())/4),l=ii.round((t.getY()+s.getY()+n.getY()+a.getY())/4);try{var i=new o4(this.image,15,d,l).detect();t=i[0],n=i[1],a=i[2],s=i[3]}catch{t=this.getFirstDifferent(new Ld(d+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Ld(d+7,l+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Ld(d-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ld(d-7,l-7),!1,-1,-1).toResultPoint()}return d=ii.round((t.getX()+s.getX()+n.getX()+a.getX())/4),l=ii.round((t.getY()+s.getY()+n.getY()+a.getY())/4),new Ld(d,l)},r.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(t,n,a,s,i){var c=IS.getInstance(),o=this.getDimension(),d=o/2-this.nbCenterLayers,l=o/2+this.nbCenterLayers;return c.sampleGrid(t,o,o,d,d,l,d,l,l,d,l,n.getX(),n.getY(),a.getX(),a.getY(),s.getX(),s.getY(),i.getX(),i.getY())},r.prototype.sampleLine=function(t,n,a){for(var s=0,i=this.distanceResultPoint(t,n),c=i/a,o=t.getX(),d=t.getY(),l=c*(n.getX()-t.getX())/i,u=c*(n.getY()-t.getY())/i,h=0;h<a;h++)this.image.get(ii.round(o+h*l),ii.round(d+h*u))&&(s|=1<<a-h-1);return s},r.prototype.isWhiteOrBlackRectangle=function(t,n,a,s){var i=3;t=new Ld(t.getX()-i,t.getY()+i),n=new Ld(n.getX()-i,n.getY()-i),a=new Ld(a.getX()+i,a.getY()-i),s=new Ld(s.getX()+i,s.getY()+i);var c=this.getColor(s,t);if(c===0)return!1;var o=this.getColor(t,n);return o!==c||(o=this.getColor(n,a),o!==c)?!1:(o=this.getColor(a,s),o===c)},r.prototype.getColor=function(t,n){for(var a=this.distancePoint(t,n),s=(n.getX()-t.getX())/a,i=(n.getY()-t.getY())/a,c=0,o=t.getX(),d=t.getY(),l=this.image.get(t.getX(),t.getY()),u=Math.ceil(a),h=0;h<u;h++)o+=s,d+=i,this.image.get(ii.round(o),ii.round(d))!==l&&c++;var f=c/a;return f>.1&&f<.9?0:f<=.1===l?1:-1},r.prototype.getFirstDifferent=function(t,n,a,s){for(var i=t.getX()+a,c=t.getY()+s;this.isValid(i,c)&&this.image.get(i,c)===n;)i+=a,c+=s;for(i-=a,c-=s;this.isValid(i,c)&&this.image.get(i,c)===n;)i+=a;for(i-=a;this.isValid(i,c)&&this.image.get(i,c)===n;)c+=s;return c-=s,new Ld(i,c)},r.prototype.expandSquare=function(t,n,a){var s=a/(2*n),i=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),o=(t[0].getX()+t[2].getX())/2,d=(t[0].getY()+t[2].getY())/2,l=new ea(o+s*i,d+s*c),u=new ea(o-s*i,d-s*c);i=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),o=(t[1].getX()+t[3].getX())/2,d=(t[1].getY()+t[3].getY())/2;var h=new ea(o+s*i,d+s*c),f=new ea(o-s*i,d-s*c),A=[l,h,u,f];return A},r.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},r.prototype.isValidPoint=function(t){var n=ii.round(t.getX()),a=ii.round(t.getY());return this.isValid(n,a)},r.prototype.distancePoint=function(t,n){return ii.distance(t.getX(),t.getY(),n.getX(),n.getY())},r.prototype.distanceResultPoint=function(t,n){return ii.distance(t.getX(),t.getY(),n.getX(),n.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ns.truncDivision(this.nbLayers-4,8)+1)+15},r})(),Px=(function(){function r(){}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a=null,s=new Hie(t.getBlackMatrix()),i=null,c=null;try{var o=s.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(n,i),c=new Rk().decode(o)}catch(h){a=h}if(c==null)try{var o=s.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(n,i),c=new Rk().decode(o)}catch(h){throw a??h}var d=new ad(c.getText(),c.getRawBytes(),c.getNumBits(),i,Sa.AZTEC,oo.currentTimeMillis()),l=c.getByteSegments();l!=null&&d.putMetadata(Qc.BYTE_SEGMENTS,l);var u=c.getECLevel();return u!=null&&d.putMetadata(Qc.ERROR_CORRECTION_LEVEL,u),d},r.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var a=t.get(lo.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach(function(s,i,c){a.foundPossibleResultPoint(s)})}},r.prototype.reset=function(){},r})(),Qie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Qie(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Px,n)||this}return t})(Lm);var Jl=(function(){function r(){}return r.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var a=n&&n.get(lo.TRY_HARDER)===!0;if(a&&t.isRotateSupported()){var s=t.rotateCounterClockwise(),i=this.doDecode(s,n),c=i.getResultMetadata(),o=270;c!==null&&c.get(Qc.ORIENTATION)===!0&&(o=o+c.get(Qc.ORIENTATION)%360),i.putMetadata(Qc.ORIENTATION,o);var d=i.getResultPoints();if(d!==null)for(var l=s.getHeight(),u=0;u<d.length;u++)d[u]=new ea(l-d[u].getY()-1,d[u].getX());return i}else throw new kr}},r.prototype.reset=function(){},r.prototype.doDecode=function(t,n){var a=t.getWidth(),s=t.getHeight(),i=new wc(a),c=n&&n.get(lo.TRY_HARDER)===!0,o=Math.max(1,s>>(c?8:5)),d;c?d=s:d=15;for(var l=Math.trunc(s/2),u=0;u<d;u++){var h=Math.trunc((u+1)/2),f=(u&1)===0,A=l+o*(f?h:-h);if(A<0||A>=s)break;try{i=t.getBlackRow(A,i)}catch{continue}for(var g=function(b){if(b===1&&(i.reverse(),n&&n.get(lo.NEED_RESULT_POINT_CALLBACK)===!0)){var j=new Map;n.forEach(function(E,I){return j.set(I,E)}),j.delete(lo.NEED_RESULT_POINT_CALLBACK),n=j}try{var S=m.decodeRow(A,i,n);if(b===1){S.putMetadata(Qc.ORIENTATION,180);var w=S.getResultPoints();w!==null&&(w[0]=new ea(a-w[0].getX()-1,w[0].getY()),w[1]=new ea(a-w[1].getX()-1,w[1].getY()))}return{value:S}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new kr},r.recordPattern=function(t,n,a){for(var s=a.length,i=0;i<s;i++)a[i]=0;var c=t.getSize();if(n>=c)throw new kr;for(var o=!t.get(n),d=0,l=n;l<c;){if(t.get(l)!==o)a[d]++;else{if(++d===s)break;a[d]=1,o=!o}l++}if(!(d===s||d===s-1&&l===c))throw new kr},r.recordPatternInReverse=function(t,n,a){for(var s=a.length,i=t.get(n);n>0&&s>=0;)t.get(--n)!==i&&(s--,i=!i);if(s>=0)throw new kr;r.recordPattern(t,n+1,a)},r.patternMatchVariance=function(t,n,a){for(var s=t.length,i=0,c=0,o=0;o<s;o++)i+=t[o],c+=n[o];if(i<c)return Number.POSITIVE_INFINITY;var d=i/c;a*=d;for(var l=0,u=0;u<s;u++){var h=t[u],f=n[u]*d,A=h>f?h-f:f-h;if(A>a)return Number.POSITIVE_INFINITY;l+=A}return l/i},r})(),Wie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Uk=(function(r){Wie(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var a=n.getSize(),s=n.getNextSet(0),i=0,c=Int32Array.from([0,0,0,0,0,0]),o=s,d=!1,l=6,u=s;u<a;u++)if(n.get(u)!==d)c[i]++;else{if(i===l-1){for(var h=t.MAX_AVG_VARIANCE,f=-1,A=t.CODE_START_A;A<=t.CODE_START_C;A++){var g=Jl.patternMatchVariance(c,t.CODE_PATTERNS[A],t.MAX_INDIVIDUAL_VARIANCE);g<h&&(h=g,f=A)}if(f>=0&&n.isRange(Math.max(0,o-(u-o)/2),o,!1))return Int32Array.from([o,u,f]);o+=c[0]+c[1],c=c.slice(2,c.length),c[i-1]=0,c[i]=0,i--}else i++;c[i]=1,d=!d}throw new kr},t.decodeCode=function(n,a,s){Jl.recordPattern(n,s,a);for(var i=t.MAX_AVG_VARIANCE,c=-1,o=0;o<t.CODE_PATTERNS.length;o++){var d=t.CODE_PATTERNS[o],l=this.patternMatchVariance(a,d,t.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,c=o)}if(c>=0)return c;throw new kr},t.prototype.decodeRow=function(n,a,s){var i=s&&s.get(lo.ASSUME_GS1)===!0,c=t.findStartPattern(a),o=c[2],d=0,l=new Uint8Array(20);l[d++]=o;var u;switch(o){case t.CODE_START_A:u=t.CODE_CODE_A;break;case t.CODE_START_B:u=t.CODE_CODE_B;break;case t.CODE_START_C:u=t.CODE_CODE_C;break;default:throw new pn}for(var h=!1,f=!1,A="",g=c[0],m=c[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,b=0,j=o,S=0,w=!0,E=!1,I=!1;!h;){var L=f;switch(f=!1,y=b,b=t.decodeCode(a,x,m),l[d++]=b,b!==t.CODE_STOP&&(w=!0),b!==t.CODE_STOP&&(S++,j+=S*b),g=m,m+=x.reduce(function(Ce,M){return Ce+M},0),b){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new pn}switch(u){case t.CODE_CODE_A:if(b<64)I===E?A+=String.fromCharCode(32+b):A+=String.fromCharCode(32+b+128),I=!1;else if(b<96)I===E?A+=String.fromCharCode(b-64):A+=String.fromCharCode(b+64),I=!1;else switch(b!==t.CODE_STOP&&(w=!1),b){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!E&&I?(E=!0,I=!1):E&&I?(E=!1,I=!1):I=!0;break;case t.CODE_SHIFT:f=!0,u=t.CODE_CODE_B;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:h=!0;break}break;case t.CODE_CODE_B:if(b<96)I===E?A+=String.fromCharCode(32+b):A+=String.fromCharCode(32+b+128),I=!1;else switch(b!==t.CODE_STOP&&(w=!1),b){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!E&&I?(E=!0,I=!1):E&&I?(E=!1,I=!1):I=!0;break;case t.CODE_SHIFT:f=!0,u=t.CODE_CODE_A;break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_C:u=t.CODE_CODE_C;break;case t.CODE_STOP:h=!0;break}break;case t.CODE_CODE_C:if(b<100)b<10&&(A+="0"),A+=b;else switch(b!==t.CODE_STOP&&(w=!1),b){case t.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+="");break;case t.CODE_CODE_A:u=t.CODE_CODE_A;break;case t.CODE_CODE_B:u=t.CODE_CODE_B;break;case t.CODE_STOP:h=!0;break}break}L&&(u=u===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var Z=m-g;if(m=a.getNextUnset(m),!a.isRange(m,Math.min(a.getSize(),m+(m-g)/2),!1))throw new kr;if(j-=S*y,j%103!==y)throw new El;var ne=A.length;if(ne===0)throw new kr;ne>0&&w&&(u===t.CODE_CODE_C?A=A.substring(0,ne-2):A=A.substring(0,ne-1));for(var G=(c[1]+c[0])/2,le=g+Z/2,V=l.length,me=new Uint8Array(V),$=0;$<V;$++)me[$]=l[$];var X=[new ea(G,n),new ea(le,n)];return new ad(A,me,0,X,Sa.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t})(Jl),$ie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hk=(function(r){$ie(t,r);function t(n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var s=r.call(this)||this;return s.usingCheckDigit=n,s.extendedMode=a,s.decodeRowResult="",s.counters=new Int32Array(9),s}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.counters;l.fill(0),this.decodeRowResult="";var u=t.findAsteriskPattern(a,l),h=a.getNextSet(u[1]),f=a.getSize(),A,g;do{t.recordPattern(a,h,l);var m=t.toNarrowWidePattern(l);if(m<0)throw new kr;A=t.patternToChar(m),this.decodeRowResult+=A,g=h;try{for(var x=(i=void 0,xC(l)),y=x.next();!y.done;y=x.next()){var b=y.value;h+=b}}catch(V){i={error:V}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}h=a.getNextSet(h)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var j=0;try{for(var S=xC(l),w=S.next();!w.done;w=S.next()){var b=w.value;j+=b}}catch(V){o={error:V}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(o)throw o.error}}var E=h-g-j;if(h!==f&&E*2<j)throw new kr;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,L=0,Z=0;Z<I;Z++)L+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(I)!==t.ALPHABET_STRING.charAt(L%43))throw new El;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new kr;var ne;this.extendedMode?ne=t.decodeExtended(this.decodeRowResult):ne=this.decodeRowResult;var G=(u[1]+u[0])/2,le=g+j/2;return new ad(ne,null,0,[new ea(G,n),new ea(le,n)],Sa.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,a){for(var s=n.getSize(),i=n.getNextSet(0),c=0,o=i,d=!1,l=a.length,u=i;u<s;u++)if(n.get(u)!==d)a[c]++;else{if(c===l-1){if(this.toNarrowWidePattern(a)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,o-Math.floor((u-o)/2)),o,!1))return[o,u];o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,d=!d}throw new kr},t.toNarrowWidePattern=function(n){var a,s,i=n.length,c=0,o;do{var d=2147483647;try{for(var l=(a=void 0,xC(n)),u=l.next();!u.done;u=l.next()){var h=u.value;h<d&&h>c&&(d=h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}c=d,o=0;for(var f=0,A=0,g=0;g<i;g++){var h=n[g];h>c&&(A|=1<<i-1-g,o++,f+=h)}if(o===3){for(var g=0;g<i&&o>0;g++){var h=n[g];if(h>c&&(o--,h*2>=f))return-1}return A}}while(o>3);return-1},t.patternToChar=function(n){for(var a=0;a<t.CHARACTER_ENCODINGS.length;a++)if(t.CHARACTER_ENCODINGS[a]===n)return t.ALPHABET_STRING.charAt(a);if(n===t.ASTERISK_ENCODING)return"*";throw new kr},t.decodeExtended=function(n){for(var a=n.length,s="",i=0;i<a;i++){var c=n.charAt(i);if(c==="+"||c==="$"||c==="%"||c==="/"){var o=n.charAt(i+1),d="\0";switch(c){case"+":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)+32);else throw new pn;break;case"$":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)-64);else throw new pn;break;case"%":if(o>="A"&&o<="E")d=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")d=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")d=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")d="\0";else if(o==="V")d="@";else if(o==="W")d="`";else if(o==="X"||o==="Y"||o==="Z")d="";else throw new pn;break;case"/":if(o>="A"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")d=":";else throw new pn;break}s+=d,i++}else s+=c}return s},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t})(Jl),Vie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qk=(function(r){Vie(t,r);function t(){var n=r.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.findAsteriskPattern(a),u=a.getNextSet(l[1]),h=a.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var A,g;do{t.recordPattern(a,u,f);var m=this.toPattern(f);if(m<0)throw new kr;A=this.patternToChar(m),this.decodeRowResult+=A,g=u;try{for(var x=(i=void 0,yC(f)),y=x.next();!y.done;y=x.next()){var b=y.value;u+=b}}catch(Z){i={error:Z}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}u=a.getNextSet(u)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var j=0;try{for(var S=yC(f),w=S.next();!w.done;w=S.next()){var b=w.value;j+=b}}catch(Z){o={error:Z}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(o)throw o.error}}if(u===h||!a.get(u))throw new kr;if(this.decodeRowResult.length<2)throw new kr;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),I=(l[1]+l[0])/2,L=g+j/2;return new ad(E,null,0,[new ea(I,n),new ea(L,n)],Sa.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(n){var a=n.getSize(),s=n.getNextSet(0);this.counters.fill(0);for(var i=this.counters,c=s,o=!1,d=i.length,l=0,u=s;u<a;u++)if(n.get(u)!==o)i[l]++;else{if(l===d-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([c,u]);c+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,o=!o}throw new kr},t.prototype.toPattern=function(n){var a,s,i=0;try{for(var c=yC(n),o=c.next();!o.done;o=c.next()){var d=o.value;i+=d}}catch(g){a={error:g}}finally{try{o&&!o.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}for(var l=0,u=n.length,h=0;h<u;h++){var f=Math.round(n[h]*9/i);if(f<1||f>4)return-1;if((h&1)===0)for(var A=0;A<f;A++)l=l<<1|1;else l<<=f}return l},t.prototype.patternToChar=function(n){for(var a=0;a<t.CHARACTER_ENCODINGS.length;a++)if(t.CHARACTER_ENCODINGS[a]===n)return t.ALPHABET_STRING.charAt(a);throw new kr},t.prototype.decodeExtended=function(n){for(var a=n.length,s="",i=0;i<a;i++){var c=n.charAt(i);if(c>="a"&&c<="d"){if(i>=a-1)throw new pn;var o=n.charAt(i+1),d="\0";switch(c){case"d":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)+32);else throw new pn;break;case"a":if(o>="A"&&o<="Z")d=String.fromCharCode(o.charCodeAt(0)-64);else throw new pn;break;case"b":if(o>="A"&&o<="E")d=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")d=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")d=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")d="\0";else if(o==="V")d="@";else if(o==="W")d="`";else if(o>="X"&&o<="Z")d="";else throw new pn;break;case"c":if(o>="A"&&o<="O")d=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")d=":";else throw new pn;break}s+=d,i++}else s+=c}return s},t.prototype.checkChecksums=function(n){var a=n.length;this.checkOneChecksum(n,a-2,20),this.checkOneChecksum(n,a-1,15)},t.prototype.checkOneChecksum=function(n,a,s){for(var i=1,c=0,o=a-1;o>=0;o--)c+=i*t.ALPHABET_STRING.indexOf(n.charAt(o)),++i>s&&(i=1);if(n.charAt(a)!==t.ALPHABET_STRING[c%47])throw new El},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t})(Jl),zie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wk=(function(r){zie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,a,s){var i,c,o=this.decodeStart(a),d=this.decodeEnd(a),l=new bs;t.decodeMiddle(a,o[1],d[0],l);var u=l.toString(),h=null;s!=null&&(h=s.get(lo.ALLOWED_LENGTHS)),h==null&&(h=t.DEFAULT_ALLOWED_LENGTHS);var f=u.length,A=!1,g=0;try{for(var m=Gie(h),x=m.next();!x.done;x=m.next()){var y=x.value;if(f===y){A=!0;break}y>g&&(g=y)}}catch(S){i={error:S}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}if(!A&&f>g&&(A=!0),!A)throw new pn;var b=[new ea(o[1],n),new ea(d[0],n)],j=new ad(u,null,0,b,Sa.ITF,new Date().getTime());return j},t.decodeMiddle=function(n,a,s,i){var c=new Int32Array(10),o=new Int32Array(5),d=new Int32Array(5);for(c.fill(0),o.fill(0),d.fill(0);a<s;){Jl.recordPattern(n,a,c);for(var l=0;l<5;l++){var u=2*l;o[l]=c[u],d[l]=c[u+1]}var h=t.decodeDigit(o);i.append(h.toString()),h=this.decodeDigit(d),i.append(h.toString()),c.forEach(function(f){a+=f})}},t.prototype.decodeStart=function(n){var a=t.skipWhiteSpace(n),s=t.findGuardPattern(n,a,t.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s},t.prototype.validateQuietZone=function(n,a){var s=this.narrowLineWidth*10;s=s<a?s:a;for(var i=a-1;s>0&&i>=0&&!n.get(i);i--)s--;if(s!==0)throw new kr},t.skipWhiteSpace=function(n){var a=n.getSize(),s=n.getNextSet(0);if(s===a)throw new kr;return s},t.prototype.decodeEnd=function(n){n.reverse();try{var a=t.skipWhiteSpace(n),s=void 0;try{s=t.findGuardPattern(n,a,t.END_PATTERN_REVERSED[0])}catch(c){c instanceof kr&&(s=t.findGuardPattern(n,a,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);var i=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-i,s}finally{n.reverse()}},t.findGuardPattern=function(n,a,s){var i=s.length,c=new Int32Array(i),o=n.getSize(),d=!1,l=0,u=a;c.fill(0);for(var h=a;h<o;h++)if(n.get(h)!==d)c[l]++;else{if(l===i-1){if(Jl.patternMatchVariance(c,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,h];u+=c[0]+c[1],oo.arraycopy(c,2,c,0,l-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,d=!d}throw new kr},t.decodeDigit=function(n){for(var a=t.MAX_AVG_VARIANCE,s=-1,i=t.PATTERNS.length,c=0;c<i;c++){var o=t.PATTERNS[c],d=Jl.patternMatchVariance(n,o,t.MAX_INDIVIDUAL_VARIANCE);d<a?(a=d,s=c):d===a&&(s=-1)}if(s>=0)return s%10;throw new kr},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t})(Jl),Kie=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Bm=(function(r){Kie(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var a=!1,s,i=0,c=Int32Array.from([0,0,0]);!a;){c=Int32Array.from([0,0,0]),s=t.findGuardPattern(n,i,!1,this.START_END_PATTERN,c);var o=s[0];i=s[1];var d=o-(i-o);d>=0&&(a=n.isRange(d,o,!1))}return s},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var s=parseInt(n.charAt(a-1),10);return t.getStandardUPCEANChecksum(n.substring(0,a-1))===s},t.getStandardUPCEANChecksum=function(n){for(var a=n.length,s=0,i=a-1;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new pn;s+=c}s*=3;for(var i=a-2;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new pn;s+=c}return(1e3-s)%10},t.decodeEnd=function(n,a){return t.findGuardPattern(n,a,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,a,s,i){return this.findGuardPattern(n,a,s,i,new Int32Array(i.length))},t.findGuardPattern=function(n,a,s,i,c){var o=n.getSize();a=s?n.getNextUnset(a):n.getNextSet(a);for(var d=0,l=a,u=i.length,h=s,f=a;f<o;f++)if(n.get(f)!==h)c[d]++;else{if(d===u-1){if(Jl.patternMatchVariance(c,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([l,f]);l+=c[0]+c[1];for(var A=c.slice(2,c.length),g=0;g<d-1;g++)c[g]=A[g];c[d-1]=0,c[d]=0,d--}else d++;c[d]=1,h=!h}throw new kr},t.decodeDigit=function(n,a,s,i){this.recordPattern(n,s,a);for(var c=this.MAX_AVG_VARIANCE,o=-1,d=i.length,l=0;l<d;l++){var u=i[l],h=Jl.patternMatchVariance(a,u,t.MAX_INDIVIDUAL_VARIANCE);h<c&&(c=h,o=l)}if(o>=0)return o;throw new kr},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t})(Jl),qie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xie=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(t,n,a){var s=this.decodeRowStringBuffer,i=this.decodeMiddle(n,a,s),c=s.toString(),o=r.parseExtensionString(c),d=[new ea((a[0]+a[1])/2,t),new ea(i,t)],l=new ad(c,null,0,d,Sa.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},r.prototype.decodeMiddle=function(t,n,a){var s,i,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var o=t.getSize(),d=n[1],l=0,u=0;u<5&&d<o;u++){var h=Bm.decodeDigit(t,c,d,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var f=(s=void 0,qie(c)),A=f.next();!A.done;A=f.next()){var g=A.value;d+=g}}catch(x){s={error:x}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}h>=10&&(l|=1<<4-u),u!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==5)throw new kr;var m=this.determineCheckDigit(l);if(r.extensionChecksum(a.toString())!==m)throw new kr;return d},r.extensionChecksum=function(t){for(var n=t.length,a=0,s=n-2;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;a*=3;for(var s=n-1;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;return a*=3,a%10},r.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new kr},r.parseExtensionString=function(t){if(t.length!==5)return null;var n=r.parseExtension5String(t);return n==null?null:new Map([[Qc.SUGGESTED_PRICE,n]])},r.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var a=parseInt(t.substring(1)),s=(a/100).toString(),i=a%100,c=i<10?"0"+i:i.toString();return n+s+"."+c},r})(),Yie=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jie=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(t,n,a){var s=this.decodeRowStringBuffer,i=this.decodeMiddle(n,a,s),c=s.toString(),o=r.parseExtensionString(c),d=[new ea((a[0]+a[1])/2,t),new ea(i,t)],l=new ad(c,null,0,d,Sa.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},r.prototype.decodeMiddle=function(t,n,a){var s,i,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var o=t.getSize(),d=n[1],l=0,u=0;u<2&&d<o;u++){var h=Bm.decodeDigit(t,c,d,Bm.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var f=(s=void 0,Yie(c)),A=f.next();!A.done;A=f.next()){var g=A.value;d+=g}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}h>=10&&(l|=1<<1-u),u!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(a.length!==2)throw new kr;if(parseInt(a.toString())%4!==l)throw new kr;return d},r.parseExtensionString=function(t){return t.length!==2?null:new Map([[Qc.ISSUE_NUMBER,parseInt(t)]])},r})(),Zie=(function(){function r(){}return r.decodeRow=function(t,n,a){var s=Bm.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Xie;return i.decodeRow(t,n,s)}catch{var c=new Jie;return c.decodeRow(t,n,s)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),eoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gl=(function(r){eoe(t,r);function t(){var n=r.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var a=10;a<20;a++){for(var s=t.L_PATTERNS[a-10],i=new Int32Array(s.length),c=0;c<s.length;c++)i[c]=s[s.length-c-1];t.L_AND_G_PATTERNS[a]=i}return n}return t.prototype.decodeRow=function(n,a,s){var i=t.findStartGuardPattern(a),c=s==null?null:s.get(lo.NEED_RESULT_POINT_CALLBACK);if(c!=null){var o=new ea((i[0]+i[1])/2,n);c.foundPossibleResultPoint(o)}var d=this.decodeMiddle(a,i,this.decodeRowStringBuffer),l=d.rowOffset,u=d.resultString;if(c!=null){var h=new ea(l,n);c.foundPossibleResultPoint(h)}var f=t.decodeEnd(a,l);if(c!=null){var A=new ea((f[0]+f[1])/2,n);c.foundPossibleResultPoint(A)}var g=f[1],m=g+(g-f[0]);if(m>=a.getSize()||!a.isRange(g,m,!1))throw new kr;var x=u.toString();if(x.length<8)throw new pn;if(!t.checkChecksum(x))throw new El;var y=(i[1]+i[0])/2,b=(f[1]+f[0])/2,j=this.getBarcodeFormat(),S=[new ea(y,n),new ea(b,n)],w=new ad(x,null,0,S,j,new Date().getTime()),E=0;try{var I=Zie.decodeRow(n,a,f[1]);w.putMetadata(Qc.UPC_EAN_EXTENSION,I.getText()),w.putAllMetadata(I.getResultMetadata()),w.addResultPoints(I.getResultPoints()),E=I.getText().length}catch{}var L=s==null?null:s.get(lo.ALLOWED_EAN_EXTENSIONS);if(L!=null){var Z=!1;for(var ne in L)if(E.toString()===ne){Z=!0;break}if(!Z)throw new kr}return j===Sa.EAN_13||Sa.UPC_A,w},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var a=n.length;if(a===0)return!1;var s=parseInt(n.charAt(a-1),10);return t.getStandardUPCEANChecksum(n.substring(0,a-1))===s},t.getStandardUPCEANChecksum=function(n){for(var a=n.length,s=0,i=a-1;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new pn;s+=c}s*=3;for(var i=a-2;i>=0;i-=2){var c=n.charAt(i).charCodeAt(0)-48;if(c<0||c>9)throw new pn;s+=c}return(1e3-s)%10},t.decodeEnd=function(n,a){return t.findGuardPattern(n,a,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t})(Bm),toe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),$k=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l4=(function(r){toe(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o,d,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),h=a[1],f=0,A=0;A<6&&h<u;A++){var g=Gl.decodeDigit(n,l,h,Gl.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);try{for(var m=(i=void 0,$k(l)),x=m.next();!x.done;x=m.next()){var y=x.value;h+=y}}catch(w){i={error:w}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}g>=10&&(f|=1<<5-A)}s=t.determineFirstDigit(s,f);var b=Gl.findGuardPattern(n,h,!0,Gl.MIDDLE_PATTERN,new Int32Array(Gl.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var A=0;A<6&&h<u;A++){var g=Gl.decodeDigit(n,l,h,Gl.L_PATTERNS);s+=String.fromCharCode(48+g);try{for(var j=(o=void 0,$k(l)),S=j.next();!S.done;S=j.next()){var y=S.value;h+=y}}catch(I){o={error:I}}finally{try{S&&!S.done&&(d=j.return)&&d.call(j)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:s}},t.prototype.getBarcodeFormat=function(){return Sa.EAN_13},t.determineFirstDigit=function(n,a){for(var s=0;s<10;s++)if(a===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new kr},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t})(Gl),roe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zk=(function(r){roe(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o,d,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),h=a[1],f=0;f<4&&h<u;f++){var A=Gl.decodeDigit(n,l,h,Gl.L_PATTERNS);s+=String.fromCharCode(48+A);try{for(var g=(i=void 0,Vk(l)),m=g.next();!m.done;m=g.next()){var x=m.value;h+=x}}catch(S){i={error:S}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(i)throw i.error}}}var y=Gl.findGuardPattern(n,h,!0,Gl.MIDDLE_PATTERN,new Int32Array(Gl.MIDDLE_PATTERN.length).fill(0));h=y[1];for(var f=0;f<4&&h<u;f++){var A=Gl.decodeDigit(n,l,h,Gl.L_PATTERNS);s+=String.fromCharCode(48+A);try{for(var b=(o=void 0,Vk(l)),j=b.next();!j.done;j=b.next()){var x=j.value;h+=x}}catch(E){o={error:E}}finally{try{j&&!j.done&&(d=b.return)&&d.call(b)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:s}},t.prototype.getBarcodeFormat=function(){return Sa.EAN_8},t})(Gl),noe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Gk=(function(r){noe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.ean13Reader=new l4,n}return t.prototype.getBarcodeFormat=function(){return Sa.UPC_A},t.prototype.decode=function(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,a,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,s))},t.prototype.decodeMiddle=function(n,a,s){return this.ean13Reader.decodeMiddle(n,a,s)},t.prototype.maybeReturnResult=function(n){var a=n.getText();if(a.charAt(0)==="0"){var s=new ad(a.substring(1),null,null,n.getResultPoints(),Sa.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new kr},t.prototype.reset=function(){this.ean13Reader.reset()},t})(Gl),aoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),soe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kk=(function(r){aoe(t,r);function t(){var n=r.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,a,s){var i,c,o=this.decodeMiddleCounters.map(function(x){return x});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var d=n.getSize(),l=a[1],u=0,h=0;h<6&&l<d;h++){var f=t.decodeDigit(n,o,l,t.L_AND_G_PATTERNS);s+=String.fromCharCode(48+f%10);try{for(var A=(i=void 0,soe(o)),g=A.next();!g.done;g=A.next()){var m=g.value;l+=m}}catch(x){i={error:x}}finally{try{g&&!g.done&&(c=A.return)&&c.call(A)}finally{if(i)throw i.error}}f>=10&&(u|=1<<5-h)}return t.determineNumSysAndCheckDigit(new bs(s),u),l},t.prototype.decodeEnd=function(n,a){return t.findGuardPatternWithoutCounters(n,a,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return Gl.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,a){for(var s=0;s<=1;s++)for(var i=0;i<10;i++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][i]){n.insert(0,"0"+s),n.append("0"+i);return}throw kr.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Sa.UPC_E},t.convertUPCEtoUPCA=function(n){var a=n.slice(1,7).split("").map(function(c){return c.charCodeAt(0)}),s=new bs;s.append(n.charAt(0));var i=a[5];switch(i){case 0:case 1:case 2:s.appendChars(a,0,2),s.append(i),s.append("0000"),s.appendChars(a,2,3);break;case 3:s.appendChars(a,0,3),s.append("00000"),s.appendChars(a,3,2);break;case 4:s.appendChars(a,0,4),s.append("00000"),s.append(a[4]);break;default:s.appendChars(a,0,5),s.append("0000"),s.append(i);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t})(Gl),ioe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jC=(function(r){ioe(t,r);function t(n){var a=r.call(this)||this,s=n==null?null:n.get(lo.POSSIBLE_FORMATS),i=[];return s!=null&&(s.indexOf(Sa.EAN_13)>-1&&i.push(new l4),s.indexOf(Sa.UPC_A)>-1&&i.push(new Gk),s.indexOf(Sa.EAN_8)>-1&&i.push(new zk),s.indexOf(Sa.UPC_E)>-1&&i.push(new Kk)),i.length===0&&(i.push(new l4),i.push(new Gk),i.push(new zk),i.push(new Kk)),a.readers=i,a}return t.prototype.decodeRow=function(n,a,s){var i,c;try{for(var o=qk(this.readers),d=o.next();!d.done;d=o.next()){var l=d.value;try{var u=l.decodeRow(n,a,s),h=u.getBarcodeFormat()===Sa.EAN_13&&u.getText().charAt(0)==="0",f=s==null?null:s.get(lo.POSSIBLE_FORMATS),A=f==null||f.includes(Sa.UPC_A);if(h&&A){var g=u.getRawBytes(),m=new ad(u.getText().substring(1),g,g?g.length:null,u.getResultPoints(),Sa.UPC_A);return m.putAllMetadata(u.getResultMetadata()),m}return u}catch{}}}catch(x){i={error:x}}finally{try{d&&!d.done&&(c=o.return)&&c.call(o)}finally{if(i)throw i.error}}throw new kr},t.prototype.reset=function(){var n,a;try{for(var s=qk(this.readers),i=s.next();!i.done;i=s.next()){var c=i.value;c.reset()}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t})(Jl),ooe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),loe=(function(r){ooe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return t.prototype.decodeRow=function(n,a,s){var i=this.getValidRowData(a);if(!i)throw new kr;var c=this.codaBarDecodeRow(i.row);if(!c)throw new kr;return new ad(c,null,0,[new ea(i.left,n),new ea(i.right,n)],Sa.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(n){var a=n.toArray(),s=a.indexOf(!0);if(s===-1)return null;var i=a.lastIndexOf(!0);if(i<=s)return null;a=a.slice(s,i+1);for(var c=[],o=a[0],d=1,l=1;l<a.length;l++)a[l]===o?d++:(o=a[l],c.push(d),d=1);return c.push(d),c.length<23&&(c.length+1)%8!==0?null:{row:c,left:s,right:i}},t.prototype.codaBarDecodeRow=function(n){for(var a=[],s=Math.ceil(n.reduce(function(d,l){return(d+l)/2},0));n.length>0;){var i=n.splice(0,8).splice(0,7),c=i.map(function(d){return d<s?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[c]===void 0)return null;a.push(this.CODA_BAR_CHAR_SET[c])}var o=a.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(n){var a=/^[A-D].{1,}[A-D]$/;return a.test(n)},t})(Jl),coe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),doe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qA=(function(r){coe(t,r);function t(){var n=r.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,a){for(var s=0;s<a.length;s++)if(Jl.patternMatchVariance(n,a[s],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return s;throw new kr},t.count=function(n){return ii.sum(new Int32Array(n))},t.increment=function(n,a){for(var s=0,i=a[0],c=1;c<n.length;c++)a[c]>i&&(i=a[c],s=c);n[s]++},t.decrement=function(n,a){for(var s=0,i=a[0],c=1;c<n.length;c++)a[c]<i&&(i=a[c],s=c);n[s]--},t.isFinderPattern=function(n){var a,s,i=n[0]+n[1],c=i+n[2]+n[3],o=i/c;if(o>=t.MIN_FINDER_PATTERN_RATIO&&o<=t.MAX_FINDER_PATTERN_RATIO){var d=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var u=doe(n),h=u.next();!h.done;h=u.next()){var f=h.value;f>l&&(l=f),f<d&&(d=f)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}return l<10*d}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t})(Jl),Dx=(function(){function r(t,n){this.value=t,this.checksumPortion=n}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),wD=(function(){function r(t,n,a,s,i){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ea(a,i)),this.resultPoints.push(new ea(s,i))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.prototype.hashCode=function(){return this.value},r})(),uoe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kp=(function(){function r(){}return r.getRSSvalue=function(t,n,a){var s,i,c=0;try{for(var o=uoe(t),d=o.next();!d.done;d=o.next()){var l=d.value;c+=l}}catch(b){s={error:b}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}for(var u=0,h=0,f=t.length,A=0;A<f-1;A++){var g=void 0;for(g=1,h|=1<<A;g<t[A];g++,h&=~(1<<A)){var m=r.combins(c-g-1,f-A-2);if(a&&h===0&&c-g-(f-A-1)>=f-A-1&&(m-=r.combins(c-g-(f-A),f-A-2)),f-A-1>1){for(var x=0,y=c-g-(f-A-2);y>n;y--)x+=r.combins(c-g-y-1,f-A-3);m-=x*(f-1-A)}else c-g>n&&m--;u+=m}c-=g}return u},r.combins=function(t,n){var a,s;t-n>n?(s=n,a=t-n):(s=t-n,a=n);for(var i=1,c=1,o=t;o>a;o--)i*=o,c<=s&&(i/=c,c++);for(;c<=s;)i/=c,c++;return i},r})(),hoe=(function(){function r(){}return r.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var a=12*n,s=new wc(a),i=0,c=t[0],o=c.getRightChar().getValue(),d=11;d>=0;--d)(o&1<<d)!==0&&s.set(i),i++;for(var d=1;d<t.length;++d){for(var l=t[d],u=l.getLeftChar().getValue(),h=11;h>=0;--h)(u&1<<h)!==0&&s.set(i),i++;if(l.getRightChar()!==null)for(var f=l.getRightChar().getValue(),h=11;h>=0;--h)(f&1<<h)!==0&&s.set(i),i++}return s},r})(),VA=(function(){function r(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),TS=(function(){function r(t){this.newPosition=t}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),foe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ch=(function(r){foe(t,r);function t(n,a){var s=r.call(this,n)||this;return s.value=a,s}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t})(TS),Aoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),zA=(function(r){Aoe(t,r);function t(n,a,s){var i=r.call(this,n)||this;return s?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=a,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t})(TS),poe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Up=(function(r){poe(t,r);function t(n,a,s){var i=r.call(this,n)||this;if(a<0||a>10||s<0||s>10)throw new pn;return i.firstDigit=a,i.secondDigit=s,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t})(TS),bv=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},moe=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(t){var n,a,s,i,c,o,d,l;if(!t)return null;if(t.length<2)throw new kr;var u=t.substring(0,2);try{for(var h=bv(r.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){var A=f.value;if(A[0]===u)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,A[2],t):r.processFixedAI(2,A[1],t)}}catch(E){n={error:E}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}if(t.length<3)throw new kr;var g=t.substring(0,3);try{for(var m=bv(r.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var A=x.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,A[2],t):r.processFixedAI(3,A[1],t)}}catch(E){s={error:E}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(s)throw s.error}}try{for(var y=bv(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var A=b.value;if(A[0]===g)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],t):r.processFixedAI(4,A[1],t)}}catch(E){c={error:E}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(c)throw c.error}}if(t.length<4)throw new kr;var j=t.substring(0,4);try{for(var S=bv(r.FOUR_DIGIT_DATA_LENGTH),w=S.next();!w.done;w=S.next()){var A=w.value;if(A[0]===j)return A[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,A[2],t):r.processFixedAI(4,A[1],t)}}catch(E){d={error:E}}finally{try{w&&!w.done&&(l=S.return)&&l.call(S)}finally{if(d)throw d.error}}throw new kr},r.processFixedAI=function(t,n,a){if(a.length<t)throw new kr;var s=a.substring(0,t);if(a.length<t+n)throw new kr;var i=a.substring(t,t+n),c=a.substring(t+n),o="("+s+")"+i,d=r.parseFieldsInGeneralPurpose(c);return d==null?o:o+d},r.processVariableAI=function(t,n,a){var s=a.substring(0,t),i;a.length<t+n?i=a.length:i=t+n;var c=a.substring(t,i),o=a.substring(i),d="("+s+")"+c,l=r.parseFieldsInGeneralPurpose(o);return l==null?d:d+l},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),_v=(function(){function r(t){this.buffer=new bs,this.information=t}return r.prototype.decodeAllCodes=function(t,n){var a=n,s=null;do{var i=this.decodeGeneralPurposeField(a,s),c=moe.parseFieldsInGeneralPurpose(i.getNewString());if(c!=null&&t.append(c),i.isRemaining()?s=""+i.getRemainingValue():s=null,a===i.getNewPosition())break;a=i.getNewPosition()}while(!0);return t.toString()},r.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},r.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new Up(this.information.getSize(),Up.FNC1,Up.FNC1):new Up(this.information.getSize(),n-1,Up.FNC1)}var a=this.extractNumericValueFromBitArray(t,7),s=(a-8)/11,i=(a-8)%11;return new Up(t+7,s,i)},r.prototype.extractNumericValueFromBitArray=function(t,n){return r.extractNumericValueFromBitArray(this.information,t,n)},r.extractNumericValueFromBitArray=function(t,n,a){for(var s=0,i=0;i<a;++i)t.get(n+i)&&(s|=1<<a-i-1);return s},r.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var a=this.parseBlocks();return a!=null&&a.isRemaining()?new zA(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new zA(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var t,n;do{var a=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var s=a!==this.current.getPosition();if(!s&&!t)break}while(!t);return n.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new zA(this.current.getPosition(),this.buffer.toString()):n=new zA(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new VA(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new VA(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new VA(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new zA(this.current.getPosition(),this.buffer.toString());return new VA(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new VA(!1)},r.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253},r.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new ch(t+5,ch.FNC1);if(n>=5&&n<15)return new ch(t+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new ch(t+7,""+(a+1));if(a>=90&&a<116)return new ch(t+7,""+(a+7));var s=this.extractNumericValueFromBitArray(t,8),i;switch(s){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new pn}return new ch(t+8,i)},r.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63},r.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new ch(t+5,ch.FNC1);if(n>=5&&n<15)return new ch(t+5,"0"+(n-5));var a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new ch(t+6,""+(a+33));var s;switch(a){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new o0("Decoding invalid alphanumeric value: "+a)}return new ch(t+6,s)},r.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},r})(),CD=(function(){function r(t){this.information=t,this.generalDecoder=new _v(t)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),goe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),fh=(function(r){goe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,a){n.append("(01)");var s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,s)},t.prototype.encodeCompressedGtinWithoutAI=function(n,a,s){for(var i=0;i<4;++i){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*i,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}t.appendCheckDigit(n,s)},t.appendCheckDigit=function(n,a){for(var s=0,i=0;i<13;i++){var c=n.charAt(i+a).charCodeAt(0)-48;s+=(i&1)===0?3*c:c}s=10-s%10,s===10&&(s=0),n.append(s)},t.GTIN_SIZE=40,t})(CD),voe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),xoe=(function(r){voe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new bs;n.append("(01)");var a=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t})(fh),yoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),joe=(function(r){yoe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new bs;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t})(CD),boe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ov=(function(r){boe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,a,s){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,s);this.addWeightCode(n,i);for(var c=this.checkWeight(i),o=1e5,d=0;d<5;++d)c/o===0&&n.append("0"),o/=10;n.append(c)},t})(fh),woe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),ND=(function(r){woe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+Ov.GTIN_SIZE+t.WEIGHT_SIZE)throw new kr;var n=new bs;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+Ov.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t})(Ov),Coe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Noe=(function(r){Coe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.addWeightCode=function(n,a){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t})(ND),Soe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Eoe=(function(r){Soe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.addWeightCode=function(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t})(ND),Boe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Ioe=(function(r){Boe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fh.GTIN_SIZE)throw new kr;var n=new bs;this.encodeCompressedGtin(n,t.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");var s=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t})(fh),Toe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),koe=(function(r){Toe(t,r);function t(n){return r.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+fh.GTIN_SIZE)throw new kr;var n=new bs;this.encodeCompressedGtin(n,t.HEADER_SIZE);var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");var s=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);s/100===0&&n.append("0"),s/10===0&&n.append("0"),n.append(s);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+fh.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(i.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t})(fh),_oe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),eA=(function(r){_oe(t,r);function t(n,a,s){var i=r.call(this,n)||this;return i.dateCode=s,i.firstAIdigits=a,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new kr;var n=new bs;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,t.DATE_SIZE);if(s!==38400){n.append("("),n.append(this.dateCode),n.append(")");var i=s%32;s/=32;var c=s%12+1;s/=12;var o=s;o/10===0&&n.append("0"),n.append(o),c/10===0&&n.append("0"),n.append(c),i/10===0&&n.append("0"),n.append(i)}},t.prototype.addWeightCode=function(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t})(Ov);function Ooe(r){try{if(r.get(1))return new xoe(r);if(!r.get(2))return new joe(r);var t=_v.extractNumericValueFromBitArray(r,1,4);switch(t){case 4:return new Noe(r);case 5:return new Eoe(r)}var n=_v.extractNumericValueFromBitArray(r,1,5);switch(n){case 12:return new Ioe(r);case 13:return new koe(r)}var a=_v.extractNumericValueFromBitArray(r,1,7);switch(a){case 56:return new eA(r,"310","11");case 57:return new eA(r,"320","11");case 58:return new eA(r,"310","13");case 59:return new eA(r,"320","13");case 60:return new eA(r,"310","15");case 61:return new eA(r,"320","15");case 62:return new eA(r,"310","17");case 63:return new eA(r,"320","17")}}catch(s){throw console.log(s),new o0("unknown decoder: "+r)}}var Xk=(function(){function r(t,n,a,s){this.leftchar=t,this.rightchar=n,this.finderpattern=a,this.maybeLast=s}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(t,n){return t instanceof r?r.equalsOrNull(t.leftchar,n.leftchar)&&r.equalsOrNull(t.rightchar,n.rightchar)&&r.equalsOrNull(t.finderpattern,n.finderpattern):!1},r.equalsOrNull=function(t,n){return t===null?n===null:r.equals(t,n)},r.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},r})(),Foe=(function(){function r(t,n,a){this.pairs=t,this.rowNumber=n,this.wasReversed=a}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(t,n){return t instanceof r?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},r.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var a;return t.forEach(function(s,i){n.forEach(function(c){s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}},r})(),Poe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),tA=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Doe=(function(r){Poe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,a,s){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,a))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,a))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,a){for(var s=!1;!s;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(o){if(o instanceof kr){if(!this.pairs.length)throw new kr;s=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(n,!1),i){var c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new kr},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var a=null;try{a=this.checkRows(new Array,0)}catch(s){console.log(s)}return n&&(this.rows=this.rows.reverse()),a},t.prototype.checkRows=function(n,a){for(var s,i,c=a;c<this.rows.length;c++){var o=this.rows[c];this.pairs.length=0;try{for(var d=(s=void 0,tA(n)),l=d.next();!l.done;l=d.next()){var u=l.value;this.pairs.push(u.getPairs())}}catch(f){s={error:f}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(s)throw s.error}}if(this.pairs.push(o.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(n);h.push(o);try{return this.checkRows(h,c+1)}catch(f){console.log(f)}}}throw new kr},t.isValidSequence=function(n){var a,s;try{for(var i=tA(t.FINDER_PATTERN_SEQUENCES),c=i.next();!c.done;c=i.next()){var o=c.value;if(!(n.length>o.length)){for(var d=!0,l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!==o[l]){d=!1;break}if(d)return!0}}}catch(u){a={error:u}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}return!1},t.prototype.storeRow=function(n,a){for(var s=0,i=!1,c=!1;s<this.rows.length;){var o=this.rows[s];if(o.getRowNumber()>n){c=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),s++}c||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Foe(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,a){var s,i,c,o,d,l;try{for(var u=tA(a),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.getPairs().length!==n.length){var A=!0;try{for(var g=(c=void 0,tA(f.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(d=void 0,tA(n)),j=b.next();!j.done;j=b.next()){var S=j.value;if(Xk.equals(x,S)){y=!0;break}}}catch(w){d={error:w}}finally{try{j&&!j.done&&(l=b.return)&&l.call(b)}finally{if(d)throw d.error}}y||(A=!1)}}catch(w){c={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(c)throw c.error}}}}}catch(w){s={error:w}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}},t.isPartialRow=function(n,a){var s,i,c,o,d,l;try{for(var u=tA(a),h=u.next();!h.done;h=u.next()){var f=h.value,A=!0;try{for(var g=(c=void 0,tA(n)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var b=(d=void 0,tA(f.getPairs())),j=b.next();!j.done;j=b.next()){var S=j.value;if(x.equals(S)){y=!0;break}}}catch(w){d={error:w}}finally{try{j&&!j.done&&(l=b.return)&&l.call(b)}finally{if(d)throw d.error}}if(!y){A=!1;break}}}catch(w){c={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(c)throw c.error}}if(A)return!0}}catch(w){s={error:w}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var a=hoe.buildBitArray(n),s=Ooe(a),i=s.parseInformation(),c=n[0].getFinderPattern().getResultPoints(),o=n[n.length-1].getFinderPattern().getResultPoints(),d=[c[0],c[1],o[0],o[1]];return new ad(i,null,null,d,Sa.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),a=n.getLeftChar(),s=n.getRightChar();if(s===null)return!1;for(var i=s.getChecksumPortion(),c=2,o=1;o<this.pairs.size();++o){var d=this.pairs.get(o);i+=d.getLeftChar().getChecksumPortion(),c++;var l=d.getRightChar();l!=null&&(i+=l.getChecksumPortion(),c++)}i%=211;var u=211*(c-4)+i;return u===a.getValue()},t.getNextSecondBar=function(n,a){var s;return n.get(a)?(s=n.getNextUnset(a),s=n.getNextSet(s)):(s=n.getNextSet(a),s=n.getNextUnset(s)),s},t.prototype.retrieveNextPair=function(n,a,s){var i=a.length%2===0;this.startFromEven&&(i=!i);var c,o=!0,d=-1;do this.findNextPair(n,a,d),c=this.parseFoundFinderPattern(n,s,i),c===null?d=t.getNextSecondBar(n,this.startEnd[0]):o=!1;while(o);var l=this.decodeDataCharacter(n,c,i,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new kr;var u;try{u=this.decodeDataCharacter(n,c,i,!1)}catch(h){u=null,console.log(h)}return new Xk(l,u,c,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,a,s){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var c=n.getSize(),o;if(s>=0)o=s;else if(this.isEmptyPair(a))o=0;else{var d=a[a.length-1];o=d.getFinderPattern().getStartEnd()[1]}var l=a.length%2!==0;this.startFromEven&&(l=!l);for(var u=!1;o<c&&(u=!n.get(o),!!u);)o++;for(var h=0,f=o,A=o;A<c;A++)if(n.get(A)!==u)i[h]++;else{if(h===3){if(l&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=f,this.startEnd[1]=A;return}l&&t.reverseCounters(i),f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,u=!u}throw new kr},t.reverseCounters=function(n){for(var a=n.length,s=0;s<a/2;++s){var i=n[s];n[s]=n[a-s-1],n[a-s-1]=i}},t.prototype.parseFoundFinderPattern=function(n,a,s){var i,c,o;if(s){for(var d=this.startEnd[0]-1;d>=0&&!n.get(d);)d--;d++,i=this.startEnd[0]-d,c=d,o=this.startEnd[1]}else c=this.startEnd[0],o=n.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var l=this.getDecodeFinderCounters();oo.arraycopy(l,0,l,1,l.length-1),l[0]=i;var u;try{u=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch{return null}return new wD(u,[c,o],c,o,a)},t.prototype.decodeDataCharacter=function(n,a,s,i){for(var c=this.getDataCharacterCounters(),o=0;o<c.length;o++)c[o]=0;if(i)t.recordPatternInReverse(n,a.getStartEnd()[0],c);else{t.recordPattern(n,a.getStartEnd()[1],c);for(var d=0,l=c.length-1;d<l;d++,l--){var u=c[d];c[d]=c[l],c[l]=u}}var h=17,f=ii.sum(new Int32Array(c))/h,A=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-A)/A>.3)throw new kr;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),d=0;d<c.length;d++){var b=1*c[d]/f,j=b+.5;if(j<1){if(b<.3)throw new kr;j=1}else if(j>8){if(b>8.7)throw new kr;j=8}var S=d/2;(d&1)===0?(g[S]=j,x[S]=b-j):(m[S]=j,y[S]=b-j)}this.adjustOddEvenCounts(h);for(var w=4*a.getValue()+(s?0:2)+(i?0:1)-1,E=0,I=0,d=g.length-1;d>=0;d--){if(t.isNotA1left(a,s,i)){var L=t.WEIGHTS[w][2*d];I+=g[d]*L}E+=g[d]}for(var Z=0,d=m.length-1;d>=0;d--)if(t.isNotA1left(a,s,i)){var L=t.WEIGHTS[w][2*d+1];Z+=m[d]*L}var ne=I+Z;if((E&1)!==0||E>13||E<4)throw new kr;var G=(13-E)/2,le=t.SYMBOL_WIDEST[G],V=9-le,me=Kp.getRSSvalue(g,le,!0),$=Kp.getRSSvalue(m,V,!1),X=t.EVEN_TOTAL_SUBSET[G],Ce=t.GSUM[G],M=me*X+$+Ce;return new Dx(M,ne)},t.isNotA1left=function(n,a,s){return!(n.getValue()===0&&a&&s)},t.prototype.adjustOddEvenCounts=function(n){var a=ii.sum(new Int32Array(this.getOddCounts())),s=ii.sum(new Int32Array(this.getEvenCounts())),i=!1,c=!1;a>13?c=!0:a<4&&(i=!0);var o=!1,d=!1;s>13?d=!0:s<4&&(o=!0);var l=a+s-n,u=(a&1)===1,h=(s&1)===0;if(l===1)if(u){if(h)throw new kr;c=!0}else{if(!h)throw new kr;d=!0}else if(l===-1)if(u){if(h)throw new kr;i=!0}else{if(!h)throw new kr;o=!0}else if(l===0){if(u){if(!h)throw new kr;a<s?(i=!0,d=!0):(c=!0,o=!0)}else if(h)throw new kr}else throw new kr;if(i){if(c)throw new kr;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(d)throw new kr;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t})(qA),Moe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Roe=(function(r){Moe(t,r);function t(n,a,s){var i=r.call(this,n,a)||this;return i.count=0,i.finderPattern=s,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t})(Dx),Loe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),bC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yk=(function(r){Loe(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,a,s){var i,c,o,d,l=this.decodePair(a,!1,n,s);t.addOrTally(this.possibleLeftPairs,l),a.reverse();var u=this.decodePair(a,!0,n,s);t.addOrTally(this.possibleRightPairs,u),a.reverse();try{for(var h=bC(this.possibleLeftPairs),f=h.next();!f.done;f=h.next()){var A=f.value;if(A.getCount()>1)try{for(var g=(o=void 0,bC(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&t.checkChecksum(A,x))return t.constructResult(A,x)}}catch(y){o={error:y}}finally{try{m&&!m.done&&(d=g.return)&&d.call(g)}finally{if(o)throw o.error}}}}catch(y){i={error:y}}finally{try{f&&!f.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}throw new kr},t.addOrTally=function(n,a){var s,i;if(a!=null){var c=!1;try{for(var o=bC(n),d=o.next();!d.done;d=o.next()){var l=d.value;if(l.getValue()===a.getValue()){l.incrementCount(),c=!0;break}}}catch(u){s={error:u}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}c||n.push(a)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,a){for(var s=4537077*n.getValue()+a.getValue(),i=new String(s).toString(),c=new bs,o=13-i.length;o>0;o--)c.append("0");c.append(i);for(var d=0,o=0;o<13;o++){var l=c.charAt(o).charCodeAt(0)-48;d+=(o&1)===0?3*l:l}d=10-d%10,d===10&&(d=0),c.append(d.toString());var u=n.getFinderPattern().getResultPoints(),h=a.getFinderPattern().getResultPoints();return new ad(c.toString(),null,0,[u[0],u[1],h[0],h[1]],Sa.RSS_14,new Date().getTime())},t.checkChecksum=function(n,a){var s=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,i=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,s===i},t.prototype.decodePair=function(n,a,s,i){try{var c=this.findFinderPattern(n,a),o=this.parseFoundFinderPattern(n,s,a,c),d=i==null?null:i.get(lo.NEED_RESULT_POINT_CALLBACK);if(d!=null){var l=(c[0]+c[1])/2;a&&(l=n.getSize()-1-l),d.foundPossibleResultPoint(new ea(l,s))}var u=this.decodeDataCharacter(n,o,!0),h=this.decodeDataCharacter(n,o,!1);return new Roe(1597*u.getValue()+h.getValue(),u.getChecksumPortion()+4*h.getChecksumPortion(),o)}catch{return null}},t.prototype.decodeDataCharacter=function(n,a,s){for(var i=this.getDataCharacterCounters(),c=0;c<i.length;c++)i[c]=0;if(s)Jl.recordPatternInReverse(n,a.getStartEnd()[0],i);else{Jl.recordPattern(n,a.getStartEnd()[1]+1,i);for(var o=0,d=i.length-1;o<d;o++,d--){var l=i[o];i[o]=i[d],i[d]=l}}for(var u=s?16:15,h=ii.sum(new Int32Array(i))/u,f=this.getOddCounts(),A=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var x=i[o]/h,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var b=Math.floor(o/2);(o&1)===0?(f[b]=y,g[b]=x-y):(A[b]=y,m[b]=x-y)}this.adjustOddEvenCounts(s,u);for(var j=0,S=0,o=f.length-1;o>=0;o--)S*=9,S+=f[o],j+=f[o];for(var w=0,E=0,o=A.length-1;o>=0;o--)w*=9,w+=A[o],E+=A[o];var I=S+3*w;if(s){if((j&1)!==0||j>12||j<4)throw new kr;var L=(12-j)/2,Z=t.OUTSIDE_ODD_WIDEST[L],ne=9-Z,G=Kp.getRSSvalue(f,Z,!1),le=Kp.getRSSvalue(A,ne,!0),V=t.OUTSIDE_EVEN_TOTAL_SUBSET[L],me=t.OUTSIDE_GSUM[L];return new Dx(G*V+le+me,I)}else{if((E&1)!==0||E>10||E<4)throw new kr;var L=(10-E)/2,Z=t.INSIDE_ODD_WIDEST[L],ne=9-Z,G=Kp.getRSSvalue(f,Z,!0),le=Kp.getRSSvalue(A,ne,!1),$=t.INSIDE_ODD_TOTAL_SUBSET[L],me=t.INSIDE_GSUM[L];return new Dx(le*$+G+me,I)}},t.prototype.findFinderPattern=function(n,a){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var i=n.getSize(),c=!1,o=0;o<i&&(c=!n.get(o),a!==c);)o++;for(var d=0,l=o,u=o;u<i;u++)if(n.get(u)!==c)s[d]++;else{if(d===3){if(qA.isFinderPattern(s))return[l,u];l+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,c=!c}throw new kr},t.prototype.parseFoundFinderPattern=function(n,a,s,i){for(var c=n.get(i[0]),o=i[0]-1;o>=0&&c!==n.get(o);)o--;o++;var d=i[0]-o,l=this.getDecodeFinderCounters(),u=new Int32Array(l.length);oo.arraycopy(l,0,u,1,l.length-1),u[0]=d;var h=this.parseFinderValue(u,t.FINDER_PATTERNS),f=o,A=i[1];return s&&(f=n.getSize()-1-f,A=n.getSize()-1-A),new wD(h,[o,i[1]],f,A,a)},t.prototype.adjustOddEvenCounts=function(n,a){var s=ii.sum(new Int32Array(this.getOddCounts())),i=ii.sum(new Int32Array(this.getEvenCounts())),c=!1,o=!1,d=!1,l=!1;n?(s>12?o=!0:s<4&&(c=!0),i>12?l=!0:i<4&&(d=!0)):(s>11?o=!0:s<5&&(c=!0),i>10?l=!0:i<4&&(d=!0));var u=s+i-a,h=(s&1)===(n?1:0),f=(i&1)===1;if(u===1)if(h){if(f)throw new kr;o=!0}else{if(!f)throw new kr;l=!0}else if(u===-1)if(h){if(f)throw new kr;c=!0}else{if(!f)throw new kr;d=!0}else if(u===0){if(h){if(!f)throw new kr;s<i?(c=!0,l=!0):(o=!0,d=!0)}else if(f)throw new kr}else throw new kr;if(c){if(o)throw new kr;qA.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&qA.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(l)throw new kr;qA.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&qA.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t})(qA),Uoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),qp=(function(r){Uoe(t,r);function t(n){var a=r.call(this)||this;a.readers=[];var s=n?n.get(lo.POSSIBLE_FORMATS):null,i=n&&n.get(lo.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,c=n&&n.get(lo.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return s&&((s.includes(Sa.EAN_13)||s.includes(Sa.UPC_A)||s.includes(Sa.EAN_8)||s.includes(Sa.UPC_E))&&a.readers.push(new jC(n)),s.includes(Sa.CODE_39)&&a.readers.push(new Hk(i,c)),s.includes(Sa.CODE_93)&&a.readers.push(new Qk),s.includes(Sa.CODE_128)&&a.readers.push(new Uk),s.includes(Sa.ITF)&&a.readers.push(new Wk),s.includes(Sa.CODABAR)&&a.readers.push(new loe),s.includes(Sa.RSS_14)&&a.readers.push(new Yk),s.includes(Sa.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),a.readers.push(new Doe))),a.readers.length===0&&(a.readers.push(new jC(n)),a.readers.push(new Hk),a.readers.push(new Qk),a.readers.push(new jC(n)),a.readers.push(new Uk),a.readers.push(new Wk),a.readers.push(new Yk)),a}return t.prototype.decodeRow=function(n,a,s){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(n,a,s)}catch{}throw new kr},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t})(Jl),Hoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Hoe(t,r);function t(n,a){return n===void 0&&(n=500),r.call(this,new qp(a),n,a)||this}return t})(Lm);var Jk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ii=(function(){function r(t,n,a){this.ecCodewords=t,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),gi=(function(){function r(t,n){this.count=t,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Qoe=(function(){function r(t,n,a,s,i,c){var o,d;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=i,this.ecBlocks=c;var l=0,u=c.getECCodewords(),h=c.getECBlocks();try{for(var f=Jk(h),A=f.next();!A.done;A=f.next()){var g=A.value;l+=g.getCount()*(g.getDataCodewords()+u)}}catch(m){o={error:m}}finally{try{A&&!A.done&&(d=f.return)&&d.call(f)}finally{if(o)throw o.error}}this.totalCodewords=l}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(t,n){var a,s;if((t&1)!==0||(n&1)!==0)throw new pn;try{for(var i=Jk(r.VERSIONS),c=i.next();!c.done;c=i.next()){var o=c.value;if(o.symbolSizeRows===t&&o.symbolSizeColumns===n)return o}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}throw new pn},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Ii(5,new gi(1,3))),new r(2,12,12,10,10,new Ii(7,new gi(1,5))),new r(3,14,14,12,12,new Ii(10,new gi(1,8))),new r(4,16,16,14,14,new Ii(12,new gi(1,12))),new r(5,18,18,16,16,new Ii(14,new gi(1,18))),new r(6,20,20,18,18,new Ii(18,new gi(1,22))),new r(7,22,22,20,20,new Ii(20,new gi(1,30))),new r(8,24,24,22,22,new Ii(24,new gi(1,36))),new r(9,26,26,24,24,new Ii(28,new gi(1,44))),new r(10,32,32,14,14,new Ii(36,new gi(1,62))),new r(11,36,36,16,16,new Ii(42,new gi(1,86))),new r(12,40,40,18,18,new Ii(48,new gi(1,114))),new r(13,44,44,20,20,new Ii(56,new gi(1,144))),new r(14,48,48,22,22,new Ii(68,new gi(1,174))),new r(15,52,52,24,24,new Ii(42,new gi(2,102))),new r(16,64,64,14,14,new Ii(56,new gi(2,140))),new r(17,72,72,16,16,new Ii(36,new gi(4,92))),new r(18,80,80,18,18,new Ii(48,new gi(4,114))),new r(19,88,88,20,20,new Ii(56,new gi(4,144))),new r(20,96,96,22,22,new Ii(68,new gi(4,174))),new r(21,104,104,24,24,new Ii(56,new gi(6,136))),new r(22,120,120,18,18,new Ii(68,new gi(6,175))),new r(23,132,132,20,20,new Ii(62,new gi(8,163))),new r(24,144,144,22,22,new Ii(62,new gi(8,156),new gi(2,155))),new r(25,8,18,6,16,new Ii(7,new gi(1,5))),new r(26,8,32,6,14,new Ii(11,new gi(1,10))),new r(27,12,26,10,24,new Ii(14,new gi(1,16))),new r(28,12,36,10,16,new Ii(18,new gi(1,22))),new r(29,16,36,14,16,new Ii(24,new gi(1,32))),new r(30,16,48,14,22,new Ii(28,new gi(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),Woe=(function(){function r(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new pn;this.version=r.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Hh(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(t){var n=t.getHeight(),a=t.getWidth();return Qoe.getVersionForDimensions(n,a)},r.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,a=4,s=0,i=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth(),o=!1,d=!1,l=!1,u=!1;do if(a===i&&s===0&&!o)t[n++]=this.readCorner1(i,c)&255,a-=2,s+=2,o=!0;else if(a===i-2&&s===0&&(c&3)!==0&&!d)t[n++]=this.readCorner2(i,c)&255,a-=2,s+=2,d=!0;else if(a===i+4&&s===2&&(c&7)===0&&!l)t[n++]=this.readCorner3(i,c)&255,a-=2,s+=2,l=!0;else if(a===i-2&&s===0&&(c&7)===4&&!u)t[n++]=this.readCorner4(i,c)&255,a-=2,s+=2,u=!0;else{do a<i&&s>=0&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,i,c)&255),a-=2,s+=2;while(a>=0&&s<c);a+=1,s+=3;do a>=0&&s<c&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,i,c)&255),a+=2,s-=2;while(a<i&&s>=0);a+=3,s+=1}while(a<i||s<c);if(n!==this.version.getTotalCodewords())throw new pn;return t},r.prototype.readModule=function(t,n,a,s){return t<0&&(t+=a,n+=4-(a+4&7)),n<0&&(n+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},r.prototype.readUtah=function(t,n,a,s){var i=0;return this.readModule(t-2,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t-2,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t-1,n,a,s)&&(i|=1),i<<=1,this.readModule(t,n-2,a,s)&&(i|=1),i<<=1,this.readModule(t,n-1,a,s)&&(i|=1),i<<=1,this.readModule(t,n,a,s)&&(i|=1),i},r.prototype.readCorner1=function(t,n){var a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,1,t,n)&&(a|=1),a<<=1,this.readModule(t-1,2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a},r.prototype.readCorner2=function(t,n){var a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-4,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a},r.prototype.readCorner3=function(t,n){var a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-3,t,n)&&(a|=1),a<<=1,this.readModule(1,n-2,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a},r.prototype.readCorner4=function(t,n){var a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a},r.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new Ea("Dimension of bitMatrix must match the version size");for(var s=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),c=n/s|0,o=a/i|0,d=c*s,l=o*i,u=new Hh(l,d),h=0;h<c;++h)for(var f=h*s,A=0;A<o;++A)for(var g=A*i,m=0;m<s;++m)for(var x=h*(s+2)+1+m,y=f+m,b=0;b<i;++b){var j=A*(i+2)+1+b;if(t.get(j,x)){var S=g+b;u.set(S,y)}}return u},r})(),Zk=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$oe=(function(){function r(t,n){this.numDataCodewords=t,this.codewords=n}return r.getDataBlocks=function(t,n){var a,s,i,c,o=n.getECBlocks(),d=0,l=o.getECBlocks();try{for(var u=Zk(l),h=u.next();!h.done;h=u.next()){var f=h.value;d+=f.getCount()}}catch(me){a={error:me}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}var A=new Array(d),g=0;try{for(var m=Zk(l),x=m.next();!x.done;x=m.next())for(var f=x.value,y=0;y<f.getCount();y++){var b=f.getDataCodewords(),j=o.getECCodewords()+b;A[g++]=new r(b,new Uint8Array(j))}}catch(me){i={error:me}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}for(var S=A[0].codewords.length,w=S-o.getECCodewords(),E=w-1,I=0,y=0;y<E;y++)for(var L=0;L<g;L++)A[L].codewords[y]=t[I++];for(var Z=n.getVersionNumber()===24,ne=Z?8:g,L=0;L<ne;L++)A[L].codewords[w-1]=t[I++];for(var G=A[0].codewords.length,y=w;y<G;y++)for(var L=0;L<g;L++){var le=Z?(L+8)%g:L,V=Z&&le>7?y-1:y;A[le].codewords[V]=t[I++]}if(I!==t.length)throw new Ea;return A},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),SD=(function(){function r(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Ea(""+t);var n=0,a=this.bitOffset,s=this.byteOffset,i=this.bytes;if(a>0){var c=8-a,o=t<c?t:c,d=c-o,l=255>>8-o<<d;n=(i[s]&l)>>d,t-=o,a+=o,a===8&&(a=0,s++)}if(t>0){for(;t>=8;)n=n<<8|i[s]&255,s++,t-=8;if(t>0){var d=8-t,l=255>>d<<d;n=n<<t|(i[s]&l)>>d,a+=t}}return this.bitOffset=a,this.byteOffset=s,n},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),Vl;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vl||(Vl={}));var Voe=(function(){function r(){}return r.decode=function(t){var n=new SD(t),a=new bs,s=new bs,i=new Array,c=Vl.ASCII_ENCODE;do if(c===Vl.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,s);else{switch(c){case Vl.C40_ENCODE:this.decodeC40Segment(n,a);break;case Vl.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case Vl.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case Vl.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case Vl.BASE256_ENCODE:this.decodeBase256Segment(n,a,i);break;default:throw new pn}c=Vl.ASCII_ENCODE}while(c!==Vl.PAD_ENCODE&&n.available()>0);return s.length()>0&&a.append(s.toString()),new T2(t,a.toString(),i.length===0?null:i,null)},r.decodeAsciiSegment=function(t,n,a){var s=!1;do{var i=t.readBits(8);if(i===0)throw new pn;if(i<=128)return s&&(i+=128),n.append(String.fromCharCode(i-1)),Vl.ASCII_ENCODE;if(i===129)return Vl.PAD_ENCODE;if(i<=229){var c=i-130;c<10&&n.append("0"),n.append(""+c)}else switch(i){case 230:return Vl.C40_ENCODE;case 231:return Vl.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return Vl.ANSIX12_ENCODE;case 239:return Vl.TEXT_ENCODE;case 240:return Vl.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new pn;break}}while(t.available()>0);return Vl.ASCII_ENCODE},r.decodeC40Segment=function(t,n){var a=!1,s=[],i=0;do{if(t.available()===8)return;var c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(var o=0;o<3;o++){var d=s[o];switch(i){case 0:if(d<3)i=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else throw new pn;break;case 1:a?(n.append(String.fromCharCode(d+128)),a=!1):n.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else switch(d){case 27:n.append("");break;case 30:a=!0;break;default:throw new pn}i=0;break;case 3:a?(n.append(String.fromCharCode(d+224)),a=!1):n.append(String.fromCharCode(d+96)),i=0;break;default:throw new pn}}}while(t.available()>0)},r.decodeTextSegment=function(t,n){var a=!1,s=[],i=0;do{if(t.available()===8)return;var c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(var o=0;o<3;o++){var d=s[o];switch(i){case 0:if(d<3)i=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else throw new pn;break;case 1:a?(n.append(String.fromCharCode(d+128)),a=!1):n.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l)}else switch(d){case 27:n.append("");break;case 30:a=!0;break;default:throw new pn}i=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[d];a?(n.append(String.fromCharCode(l.charCodeAt(0)+128)),a=!1):n.append(l),i=0}else throw new pn;break;default:throw new pn}}}while(t.available()>0)},r.decodeAnsiX12Segment=function(t,n){var a=[];do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var i=0;i<3;i++){var c=a[i];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new pn;break}}}while(t.available()>0)},r.parseTwoBytes=function(t,n,a){var s=(t<<8)+n-1,i=Math.floor(s/1600);a[0]=i,s-=i*1600,i=Math.floor(s/40),a[1]=i,a[2]=s-i*40},r.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var a=0;a<4;a++){var s=t.readBits(6);if(s===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(t.available()>0)},r.decodeBase256Segment=function(t,n,a){var s=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),s++),c;if(i===0?c=t.available()/8|0:i<250?c=i:c=250*(i-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new pn;for(var o=new Uint8Array(c),d=0;d<c;d++){if(t.available()<8)throw new pn;o[d]=this.unrandomize255State(t.readBits(8),s++)}a.push(o);try{n.append(Vu.decode(o,qs.ISO88591))}catch(l){throw new o0("Platform does not support required encoding: "+l.message)}},r.unrandomize255State=function(t,n){var a=149*n%255+1,s=t-a;return s>=0?s:s+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),zoe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Goe=(function(){function r(){this.rsDecoder=new k2(Ud.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(t){var n,a,s=new Woe(t),i=s.getVersion(),c=s.readCodewords(),o=$oe.getDataBlocks(c,i),d=0;try{for(var l=zoe(o),u=l.next();!u.done;u=l.next()){var h=u.value;d+=h.getNumDataCodewords()}}catch(j){n={error:j}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var f=new Uint8Array(d),A=o.length,g=0;g<A;g++){var m=o[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var b=0;b<y;b++)f[b*A+g]=x[b]}return Voe.decode(f)},r.prototype.correctErrors=function(t,n){var a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new El}for(var s=0;s<n;s++)t[s]=a[s]},r})(),Koe=(function(){function r(t){this.image=t,this.rectangleDetector=new o4(this.image)}return r.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new kr;n=this.shiftToModuleCenter(n);var a=n[0],s=n[1],i=n[2],c=n[3],o=this.transitionsBetween(a,c)+1,d=this.transitionsBetween(i,c)+1;(o&1)===1&&(o+=1),(d&1)===1&&(d+=1),4*o<7*d&&4*d<7*o&&(o=d=Math.max(o,d));var l=r.sampleGrid(this.image,a,s,i,c,o,d);return new BS(l,[a,s,i,c])},r.shiftPoint=function(t,n,a){var s=(n.getX()-t.getX())/(a+1),i=(n.getY()-t.getY())/(a+1);return new ea(t.getX()+s,t.getY()+i)},r.moveAway=function(t,n,a){var s=t.getX(),i=t.getY();return s<n?s-=1:s+=1,i<a?i-=1:i+=1,new ea(s,i)},r.prototype.detectSolid1=function(t){var n=t[0],a=t[1],s=t[3],i=t[2],c=this.transitionsBetween(n,a),o=this.transitionsBetween(a,s),d=this.transitionsBetween(s,i),l=this.transitionsBetween(i,n),u=c,h=[i,n,a,s];return u>o&&(u=o,h[0]=n,h[1]=a,h[2]=s,h[3]=i),u>d&&(u=d,h[0]=a,h[1]=s,h[2]=i,h[3]=n),u>l&&(h[0]=s,h[1]=i,h[2]=n,h[3]=a),h},r.prototype.detectSolid2=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i),o=r.shiftPoint(a,s,(c+1)*4),d=r.shiftPoint(s,a,(c+1)*4),l=this.transitionsBetween(o,n),u=this.transitionsBetween(d,i);return l<u?(t[0]=n,t[1]=a,t[2]=s,t[3]=i):(t[0]=a,t[1]=s,t[2]=i,t[3]=n),t},r.prototype.correctTopRight=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i),o=this.transitionsBetween(a,i),d=r.shiftPoint(n,a,(o+1)*4),l=r.shiftPoint(s,a,(c+1)*4);c=this.transitionsBetween(d,i),o=this.transitionsBetween(l,i);var u=new ea(i.getX()+(s.getX()-a.getX())/(c+1),i.getY()+(s.getY()-a.getY())/(c+1)),h=new ea(i.getX()+(n.getX()-a.getX())/(o+1),i.getY()+(n.getY()-a.getY())/(o+1));if(!this.isValid(u))return this.isValid(h)?h:null;if(!this.isValid(h))return u;var f=this.transitionsBetween(d,u)+this.transitionsBetween(l,u),A=this.transitionsBetween(d,h)+this.transitionsBetween(l,h);return f>A?u:h},r.prototype.shiftToModuleCenter=function(t){var n=t[0],a=t[1],s=t[2],i=t[3],c=this.transitionsBetween(n,i)+1,o=this.transitionsBetween(s,i)+1,d=r.shiftPoint(n,a,o*4),l=r.shiftPoint(s,a,c*4);c=this.transitionsBetween(d,i)+1,o=this.transitionsBetween(l,i)+1,(c&1)===1&&(c+=1),(o&1)===1&&(o+=1);var u=(n.getX()+a.getX()+s.getX()+i.getX())/4,h=(n.getY()+a.getY()+s.getY()+i.getY())/4;n=r.moveAway(n,u,h),a=r.moveAway(a,u,h),s=r.moveAway(s,u,h),i=r.moveAway(i,u,h);var f,A;return d=r.shiftPoint(n,a,o*4),d=r.shiftPoint(d,i,c*4),f=r.shiftPoint(a,n,o*4),f=r.shiftPoint(f,s,c*4),l=r.shiftPoint(s,i,o*4),l=r.shiftPoint(l,a,c*4),A=r.shiftPoint(i,s,o*4),A=r.shiftPoint(A,n,c*4),[d,f,l,A]},r.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},r.sampleGrid=function(t,n,a,s,i,c,o){var d=IS.getInstance();return d.sampleGrid(t,c,o,.5,.5,c-.5,.5,c-.5,o-.5,.5,o-.5,n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY())},r.prototype.transitionsBetween=function(t,n){var a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),i=Math.trunc(n.getX()),c=Math.trunc(n.getY()),o=Math.abs(c-s)>Math.abs(i-a);if(o){var d=a;a=s,s=d,d=i,i=c,c=d}for(var l=Math.abs(i-a),u=Math.abs(c-s),h=-l/2,f=s<c?1:-1,A=a<i?1:-1,g=0,m=this.image.get(o?s:a,o?a:s),x=a,y=s;x!==i;x+=A){var b=this.image.get(o?y:x,o?x:y);if(b!==m&&(g++,m=b),h+=u,h>0){if(y===c)break;y+=f,h-=l}}return g},r})(),Mx=(function(){function r(){this.decoder=new Goe}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a,s;if(n!=null&&n.has(lo.PURE_BARCODE)){var i=r.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(i),s=r.NO_POINTS}else{var c=new Koe(t.getBlackMatrix()).detect();a=this.decoder.decode(c.getBits()),s=c.getPoints()}var o=a.getRawBytes(),d=new ad(a.getText(),o,8*o.length,s,Sa.DATA_MATRIX,oo.currentTimeMillis()),l=a.getByteSegments();l!=null&&d.putMetadata(Qc.BYTE_SEGMENTS,l);var u=a.getECLevel();return u!=null&&d.putMetadata(Qc.ERROR_CORRECTION_LEVEL,u),d},r.prototype.reset=function(){},r.extractPureBits=function(t){var n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n==null||a==null)throw new kr;var s=this.moduleSize(n,t),i=n[1],c=a[1],o=n[0],d=a[0],l=(d-o+1)/s,u=(c-i+1)/s;if(l<=0||u<=0)throw new kr;var h=s/2;i+=h,o+=h;for(var f=new Hh(l,u),A=0;A<u;A++)for(var g=i+A*s,m=0;m<l;m++)t.get(o+m*s,g)&&f.set(m,A);return f},r.moduleSize=function(t,n){for(var a=n.getWidth(),s=t[0],i=t[1];s<a&&n.get(s,i);)s++;if(s===a)throw new kr;var c=s-t[0];if(c===0)throw new kr;return c},r.NO_POINTS=[],r})(),qoe=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){qoe(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Mx,n)||this}return t})(Lm);var Xp;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Xp||(Xp={}));var Xoe=(function(){function r(t,n,a){this.value=t,this.stringValue=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(t,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(t){switch(t){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new pl(t+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.forBits=function(t){if(t<0||t>=r.FOR_BITS.size)throw new Ea;return r.FOR_BITS.get(t)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Xp.L,"L",1),r.M=new r(Xp.M,"M",0),r.Q=new r(Xp.Q,"Q",3),r.H=new r(Xp.H,"H",2),r})(),Yoe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ED=(function(){function r(t){this.errorCorrectionLevel=Xoe.forBits(t>>3&3),this.dataMask=t&7}return r.numBitsDiffering=function(t,n){return Ns.bitCount(t^n)},r.decodeFormatInformation=function(t,n){var a=r.doDecodeFormatInformation(t,n);return a!==null?a:r.doDecodeFormatInformation(t^r.FORMAT_INFO_MASK_QR,n^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(t,n){var a,s,i=Number.MAX_SAFE_INTEGER,c=0;try{for(var o=Yoe(r.FORMAT_INFO_DECODE_LOOKUP),d=o.next();!d.done;d=o.next()){var l=d.value,u=l[0];if(u===t||u===n)return new r(l[1]);var h=r.numBitsDiffering(t,u);h<i&&(c=l[1],i=h),t!==n&&(h=r.numBitsDiffering(n,u),h<i&&(c=l[1],i=h))}}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}return i<=3?new r(c):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),Joe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vr=(function(){function r(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var t,n,a=0,s=this.ecBlocks;try{for(var i=Joe(s),c=i.next();!c.done;c=i.next()){var o=c.value;a+=o.getCount()}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),xt=(function(){function r(t,n){this.count=t,this.dataCodewords=n}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),Zoe=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lp=(function(){function r(t,n){for(var a,s,i=[],c=2;c<arguments.length;c++)i[c-2]=arguments[c];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;var o=0,d=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var u=Zoe(l),h=u.next();!h.done;h=u.next()){var f=h.value;o+=f.getCount()*(f.getDataCodewords()+d)}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},r.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new pn;try{return this.getVersionForNumber((t-17)/4)}catch{throw new pn}},r.getVersionForNumber=function(t){if(t<1||t>40)throw new Ea;return r.VERSIONS[t-1]},r.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,a=0,s=0;s<r.VERSION_DECODE_INFO.length;s++){var i=r.VERSION_DECODE_INFO[s];if(i===t)return r.getVersionForNumber(s+7);var c=ED.numBitsDiffering(t,i);c<n&&(a=s+7,n=c)}return n<=3?r.getVersionForNumber(a):null},r.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new Hh(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var a=this.alignmentPatternCenters.length,s=0;s<a;s++)for(var i=this.alignmentPatternCenters[s]-2,c=0;c<a;c++)s===0&&(c===0||c===a-1)||s===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,i,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new vr(7,new xt(1,19)),new vr(10,new xt(1,16)),new vr(13,new xt(1,13)),new vr(17,new xt(1,9))),new r(2,Int32Array.from([6,18]),new vr(10,new xt(1,34)),new vr(16,new xt(1,28)),new vr(22,new xt(1,22)),new vr(28,new xt(1,16))),new r(3,Int32Array.from([6,22]),new vr(15,new xt(1,55)),new vr(26,new xt(1,44)),new vr(18,new xt(2,17)),new vr(22,new xt(2,13))),new r(4,Int32Array.from([6,26]),new vr(20,new xt(1,80)),new vr(18,new xt(2,32)),new vr(26,new xt(2,24)),new vr(16,new xt(4,9))),new r(5,Int32Array.from([6,30]),new vr(26,new xt(1,108)),new vr(24,new xt(2,43)),new vr(18,new xt(2,15),new xt(2,16)),new vr(22,new xt(2,11),new xt(2,12))),new r(6,Int32Array.from([6,34]),new vr(18,new xt(2,68)),new vr(16,new xt(4,27)),new vr(24,new xt(4,19)),new vr(28,new xt(4,15))),new r(7,Int32Array.from([6,22,38]),new vr(20,new xt(2,78)),new vr(18,new xt(4,31)),new vr(18,new xt(2,14),new xt(4,15)),new vr(26,new xt(4,13),new xt(1,14))),new r(8,Int32Array.from([6,24,42]),new vr(24,new xt(2,97)),new vr(22,new xt(2,38),new xt(2,39)),new vr(22,new xt(4,18),new xt(2,19)),new vr(26,new xt(4,14),new xt(2,15))),new r(9,Int32Array.from([6,26,46]),new vr(30,new xt(2,116)),new vr(22,new xt(3,36),new xt(2,37)),new vr(20,new xt(4,16),new xt(4,17)),new vr(24,new xt(4,12),new xt(4,13))),new r(10,Int32Array.from([6,28,50]),new vr(18,new xt(2,68),new xt(2,69)),new vr(26,new xt(4,43),new xt(1,44)),new vr(24,new xt(6,19),new xt(2,20)),new vr(28,new xt(6,15),new xt(2,16))),new r(11,Int32Array.from([6,30,54]),new vr(20,new xt(4,81)),new vr(30,new xt(1,50),new xt(4,51)),new vr(28,new xt(4,22),new xt(4,23)),new vr(24,new xt(3,12),new xt(8,13))),new r(12,Int32Array.from([6,32,58]),new vr(24,new xt(2,92),new xt(2,93)),new vr(22,new xt(6,36),new xt(2,37)),new vr(26,new xt(4,20),new xt(6,21)),new vr(28,new xt(7,14),new xt(4,15))),new r(13,Int32Array.from([6,34,62]),new vr(26,new xt(4,107)),new vr(22,new xt(8,37),new xt(1,38)),new vr(24,new xt(8,20),new xt(4,21)),new vr(22,new xt(12,11),new xt(4,12))),new r(14,Int32Array.from([6,26,46,66]),new vr(30,new xt(3,115),new xt(1,116)),new vr(24,new xt(4,40),new xt(5,41)),new vr(20,new xt(11,16),new xt(5,17)),new vr(24,new xt(11,12),new xt(5,13))),new r(15,Int32Array.from([6,26,48,70]),new vr(22,new xt(5,87),new xt(1,88)),new vr(24,new xt(5,41),new xt(5,42)),new vr(30,new xt(5,24),new xt(7,25)),new vr(24,new xt(11,12),new xt(7,13))),new r(16,Int32Array.from([6,26,50,74]),new vr(24,new xt(5,98),new xt(1,99)),new vr(28,new xt(7,45),new xt(3,46)),new vr(24,new xt(15,19),new xt(2,20)),new vr(30,new xt(3,15),new xt(13,16))),new r(17,Int32Array.from([6,30,54,78]),new vr(28,new xt(1,107),new xt(5,108)),new vr(28,new xt(10,46),new xt(1,47)),new vr(28,new xt(1,22),new xt(15,23)),new vr(28,new xt(2,14),new xt(17,15))),new r(18,Int32Array.from([6,30,56,82]),new vr(30,new xt(5,120),new xt(1,121)),new vr(26,new xt(9,43),new xt(4,44)),new vr(28,new xt(17,22),new xt(1,23)),new vr(28,new xt(2,14),new xt(19,15))),new r(19,Int32Array.from([6,30,58,86]),new vr(28,new xt(3,113),new xt(4,114)),new vr(26,new xt(3,44),new xt(11,45)),new vr(26,new xt(17,21),new xt(4,22)),new vr(26,new xt(9,13),new xt(16,14))),new r(20,Int32Array.from([6,34,62,90]),new vr(28,new xt(3,107),new xt(5,108)),new vr(26,new xt(3,41),new xt(13,42)),new vr(30,new xt(15,24),new xt(5,25)),new vr(28,new xt(15,15),new xt(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new vr(28,new xt(4,116),new xt(4,117)),new vr(26,new xt(17,42)),new vr(28,new xt(17,22),new xt(6,23)),new vr(30,new xt(19,16),new xt(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new vr(28,new xt(2,111),new xt(7,112)),new vr(28,new xt(17,46)),new vr(30,new xt(7,24),new xt(16,25)),new vr(24,new xt(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new vr(30,new xt(4,121),new xt(5,122)),new vr(28,new xt(4,47),new xt(14,48)),new vr(30,new xt(11,24),new xt(14,25)),new vr(30,new xt(16,15),new xt(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new vr(30,new xt(6,117),new xt(4,118)),new vr(28,new xt(6,45),new xt(14,46)),new vr(30,new xt(11,24),new xt(16,25)),new vr(30,new xt(30,16),new xt(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new vr(26,new xt(8,106),new xt(4,107)),new vr(28,new xt(8,47),new xt(13,48)),new vr(30,new xt(7,24),new xt(22,25)),new vr(30,new xt(22,15),new xt(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new vr(28,new xt(10,114),new xt(2,115)),new vr(28,new xt(19,46),new xt(4,47)),new vr(28,new xt(28,22),new xt(6,23)),new vr(30,new xt(33,16),new xt(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new vr(30,new xt(8,122),new xt(4,123)),new vr(28,new xt(22,45),new xt(3,46)),new vr(30,new xt(8,23),new xt(26,24)),new vr(30,new xt(12,15),new xt(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new vr(30,new xt(3,117),new xt(10,118)),new vr(28,new xt(3,45),new xt(23,46)),new vr(30,new xt(4,24),new xt(31,25)),new vr(30,new xt(11,15),new xt(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new vr(30,new xt(7,116),new xt(7,117)),new vr(28,new xt(21,45),new xt(7,46)),new vr(30,new xt(1,23),new xt(37,24)),new vr(30,new xt(19,15),new xt(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new vr(30,new xt(5,115),new xt(10,116)),new vr(28,new xt(19,47),new xt(10,48)),new vr(30,new xt(15,24),new xt(25,25)),new vr(30,new xt(23,15),new xt(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new vr(30,new xt(13,115),new xt(3,116)),new vr(28,new xt(2,46),new xt(29,47)),new vr(30,new xt(42,24),new xt(1,25)),new vr(30,new xt(23,15),new xt(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new vr(30,new xt(17,115)),new vr(28,new xt(10,46),new xt(23,47)),new vr(30,new xt(10,24),new xt(35,25)),new vr(30,new xt(19,15),new xt(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new vr(30,new xt(17,115),new xt(1,116)),new vr(28,new xt(14,46),new xt(21,47)),new vr(30,new xt(29,24),new xt(19,25)),new vr(30,new xt(11,15),new xt(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new vr(30,new xt(13,115),new xt(6,116)),new vr(28,new xt(14,46),new xt(23,47)),new vr(30,new xt(44,24),new xt(7,25)),new vr(30,new xt(59,16),new xt(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new vr(30,new xt(12,121),new xt(7,122)),new vr(28,new xt(12,47),new xt(26,48)),new vr(30,new xt(39,24),new xt(14,25)),new vr(30,new xt(22,15),new xt(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new vr(30,new xt(6,121),new xt(14,122)),new vr(28,new xt(6,47),new xt(34,48)),new vr(30,new xt(46,24),new xt(10,25)),new vr(30,new xt(2,15),new xt(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new vr(30,new xt(17,122),new xt(4,123)),new vr(28,new xt(29,46),new xt(14,47)),new vr(30,new xt(49,24),new xt(10,25)),new vr(30,new xt(24,15),new xt(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new vr(30,new xt(4,122),new xt(18,123)),new vr(28,new xt(13,46),new xt(32,47)),new vr(30,new xt(48,24),new xt(14,25)),new vr(30,new xt(42,15),new xt(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new vr(30,new xt(20,117),new xt(4,118)),new vr(28,new xt(40,47),new xt(7,48)),new vr(30,new xt(43,24),new xt(22,25)),new vr(30,new xt(10,15),new xt(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new vr(30,new xt(19,118),new xt(6,119)),new vr(28,new xt(18,47),new xt(31,48)),new vr(30,new xt(34,24),new xt(34,25)),new vr(30,new xt(20,15),new xt(61,16)))],r})(),vc;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(vc||(vc={}));var e_=(function(){function r(t,n){this.value=t,this.isMasked=n}return r.prototype.unmaskBitMatrix=function(t,n){for(var a=0;a<n;a++)for(var s=0;s<n;s++)this.isMasked(a,s)&&t.flip(s,a)},r.values=new Map([[vc.DATA_MASK_000,new r(vc.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[vc.DATA_MASK_001,new r(vc.DATA_MASK_001,function(t,n){return(t&1)===0})],[vc.DATA_MASK_010,new r(vc.DATA_MASK_010,function(t,n){return n%3===0})],[vc.DATA_MASK_011,new r(vc.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[vc.DATA_MASK_100,new r(vc.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[vc.DATA_MASK_101,new r(vc.DATA_MASK_101,function(t,n){return t*n%6===0})],[vc.DATA_MASK_110,new r(vc.DATA_MASK_110,function(t,n){return t*n%6<3})],[vc.DATA_MASK_111,new r(vc.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),r})(),ele=(function(){function r(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new pn;this.bitMatrix=t}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var a=5;a>=0;a--)t=this.copyBit(8,a,t);for(var s=this.bitMatrix.getHeight(),i=0,c=s-7,a=s-1;a>=c;a--)i=this.copyBit(8,a,i);for(var n=s-8;n<s;n++)i=this.copyBit(n,8,i);if(this.parsedFormatInfo=ED.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pn},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return lp.getVersionForNumber(n);for(var a=0,s=t-11,i=5;i>=0;i--)for(var c=t-9;c>=s;c--)a=this.copyBit(c,i,a);var o=lp.decodeVersionInformation(a);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;a=0;for(var c=5;c>=0;c--)for(var i=t-9;i>=s;i--)a=this.copyBit(c,i,a);if(o=lp.decodeVersionInformation(a),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new pn},r.prototype.copyBit=function(t,n,a){var s=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return s?a<<1|1:a<<1},r.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),a=e_.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s);for(var i=n.buildFunctionPattern(),c=!0,o=new Uint8Array(n.getTotalCodewords()),d=0,l=0,u=0,h=s-1;h>0;h-=2){h===6&&h--;for(var f=0;f<s;f++)for(var A=c?s-1-f:f,g=0;g<2;g++)i.get(h-g,A)||(u++,l<<=1,this.bitMatrix.get(h-g,A)&&(l|=1),u===8&&(o[d++]=l,u=0,l=0));c=!c}if(d!==n.getTotalCodewords())throw new pn;return o},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=e_.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},r.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},r.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,a=t.getWidth();n<a;n++)for(var s=n+1,i=t.getHeight();s<i;s++)t.get(n,s)!==t.get(s,n)&&(t.flip(s,n),t.flip(n,s))},r})(),t_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tle=(function(){function r(t,n){this.numDataCodewords=t,this.codewords=n}return r.getDataBlocks=function(t,n,a){var s,i,c,o;if(t.length!==n.getTotalCodewords())throw new Ea;var d=n.getECBlocksForLevel(a),l=0,u=d.getECBlocks();try{for(var h=t_(u),f=h.next();!f.done;f=h.next()){var A=f.value;l+=A.getCount()}}catch(V){s={error:V}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(s)throw s.error}}var g=new Array(l),m=0;try{for(var x=t_(u),y=x.next();!y.done;y=x.next())for(var A=y.value,b=0;b<A.getCount();b++){var j=A.getDataCodewords(),S=d.getECCodewordsPerBlock()+j;g[m++]=new r(j,new Uint8Array(S))}}catch(V){c={error:V}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(c)throw c.error}}for(var w=g[0].codewords.length,E=g.length-1;E>=0;){var I=g[E].codewords.length;if(I===w)break;E--}E++;for(var L=w-d.getECCodewordsPerBlock(),Z=0,b=0;b<L;b++)for(var ne=0;ne<m;ne++)g[ne].codewords[b]=t[Z++];for(var ne=E;ne<m;ne++)g[ne].codewords[L]=t[Z++];for(var G=g[0].codewords.length,b=L;b<G;b++)for(var ne=0;ne<m;ne++){var le=ne<E?b:b+1;g[ne].codewords[le]=t[Z++]}return g},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Hu;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Hu||(Hu={}));var xo=(function(){function r(t,n,a,s){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=s,r.FOR_BITS.set(s,this),r.FOR_VALUE.set(t,this)}return r.forBits=function(t){var n=r.FOR_BITS.get(t);if(n===void 0)throw new Ea;return n},r.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;return this.value===n.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Hu.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Hu.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Hu.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Hu.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Hu.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Hu.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Hu.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Hu.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Hu.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Hu.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),rle=(function(){function r(){}return r.decode=function(t,n,a,s){var i=new SD(t),c=new bs,o=new Array,d=-1,l=-1;try{var u=null,h=!1,f=void 0;do{if(i.available()<4)f=xo.TERMINATOR;else{var A=i.readBits(4);f=xo.forBits(A)}switch(f){case xo.TERMINATOR:break;case xo.FNC1_FIRST_POSITION:case xo.FNC1_SECOND_POSITION:h=!0;break;case xo.STRUCTURED_APPEND:if(i.available()<16)throw new pn;d=i.readBits(8),l=i.readBits(8);break;case xo.ECI:var g=r.parseECIValue(i);if(u=Kl.getCharacterSetECIByValue(g),u===null)throw new pn;break;case xo.HANZI:var m=i.readBits(4),x=i.readBits(f.getCharacterCountBits(n));m===r.GB2312_SUBSET&&r.decodeHanziSegment(i,c,x);break;default:var y=i.readBits(f.getCharacterCountBits(n));switch(f){case xo.NUMERIC:r.decodeNumericSegment(i,c,y);break;case xo.ALPHANUMERIC:r.decodeAlphanumericSegment(i,c,y,h);break;case xo.BYTE:r.decodeByteSegment(i,c,y,u,o,s);break;case xo.KANJI:r.decodeKanjiSegment(i,c,y);break;default:throw new pn}break}}while(f!==xo.TERMINATOR)}catch{throw new pn}return new T2(t,c.toString(),o.length===0?null:o,a===null?null:a.toString(),d,l)},r.decodeHanziSegment=function(t,n,a){if(a*13>t.available())throw new pn;for(var s=new Uint8Array(2*a),i=0;a>0;){var c=t.readBits(13),o=c/96<<8&4294967295|c%96;o<959?o+=41377:o+=42657,s[i]=o>>8&255,s[i+1]=o&255,i+=2,a--}try{n.append(Vu.decode(s,qs.GB2312))}catch(d){throw new pn(d)}},r.decodeKanjiSegment=function(t,n,a){if(a*13>t.available())throw new pn;for(var s=new Uint8Array(2*a),i=0;a>0;){var c=t.readBits(13),o=c/192<<8&4294967295|c%192;o<7936?o+=33088:o+=49472,s[i]=o>>8,s[i+1]=o,i+=2,a--}try{n.append(Vu.decode(s,qs.SHIFT_JIS))}catch(d){throw new pn(d)}},r.decodeByteSegment=function(t,n,a,s,i,c){if(8*a>t.available())throw new pn;for(var o=new Uint8Array(a),d=0;d<a;d++)o[d]=t.readBits(8);var l;s===null?l=qs.guessEncoding(o,c):l=s.getName();try{n.append(Vu.decode(o,l))}catch(u){throw new pn(u)}i.push(o)},r.toAlphaNumericChar=function(t){if(t>=r.ALPHANUMERIC_CHARS.length)throw new pn;return r.ALPHANUMERIC_CHARS[t]},r.decodeAlphanumericSegment=function(t,n,a,s){for(var i=n.length();a>1;){if(t.available()<11)throw new pn;var c=t.readBits(11);n.append(r.toAlphaNumericChar(Math.floor(c/45))),n.append(r.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(t.available()<6)throw new pn;n.append(r.toAlphaNumericChar(t.readBits(6)))}if(s)for(var o=i;o<n.length();o++)n.charAt(o)==="%"&&(o<n.length()-1&&n.charAt(o+1)==="%"?n.deleteCharAt(o+1):n.setCharAt(o,""))},r.decodeNumericSegment=function(t,n,a){for(;a>=3;){if(t.available()<10)throw new pn;var s=t.readBits(10);if(s>=1e3)throw new pn;n.append(r.toAlphaNumericChar(Math.floor(s/100))),n.append(r.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(r.toAlphaNumericChar(s%10)),a-=3}if(a===2){if(t.available()<7)throw new pn;var i=t.readBits(7);if(i>=100)throw new pn;n.append(r.toAlphaNumericChar(Math.floor(i/10))),n.append(r.toAlphaNumericChar(i%10))}else if(a===1){if(t.available()<4)throw new pn;var c=t.readBits(4);if(c>=10)throw new pn;n.append(r.toAlphaNumericChar(c))}},r.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var a=t.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){var s=t.readBits(16);return(n&31)<<16&4294967295|s}throw new pn},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),BD=(function(){function r(t){this.mirrored=t}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},r})(),r_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nle=(function(){function r(){this.rsDecoder=new k2(Ud.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(Hh.parseFromBooleanArray(t),n)},r.prototype.decodeBitMatrix=function(t,n){var a=new ele(t),s=null;try{return this.decodeBitMatrixParser(a,n)}catch(c){s=c}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();var i=this.decodeBitMatrixParser(a,n);return i.setOther(new BD(!0)),i}catch(c){throw s!==null?s:c}},r.prototype.decodeBitMatrixParser=function(t,n){var a,s,i,c,o=t.readVersion(),d=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=tle.getDataBlocks(l,o,d),h=0;try{for(var f=r_(u),A=f.next();!A.done;A=f.next()){var g=A.value;h+=g.getNumDataCodewords()}}catch(E){a={error:E}}finally{try{A&&!A.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}var m=new Uint8Array(h),x=0;try{for(var y=r_(u),b=y.next();!b.done;b=y.next()){var g=b.value,j=g.getCodewords(),S=g.getNumDataCodewords();this.correctErrors(j,S);for(var w=0;w<S;w++)m[x++]=j[w]}}catch(E){i={error:E}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(i)throw i.error}}return rle.decode(m,o,d,n)},r.prototype.correctErrors=function(t,n){var a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new El}for(var s=0;s<n;s++)t[s]=a[s]},r})(),ale=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),sle=(function(r){ale(t,r);function t(n,a,s){var i=r.call(this,n,a)||this;return i.estimatedModuleSize=s,i}return t.prototype.aboutEquals=function(n,a,s){if(Math.abs(a-this.getY())<=n&&Math.abs(s-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,a,s){var i=(this.getX()+a)/2,c=(this.getY()+n)/2,o=(this.estimatedModuleSize+s)/2;return new t(i,c,o)},t})(ea),ile=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ole=(function(){function r(t,n,a,s,i,c,o){this.image=t,this.startX=n,this.startY=a,this.width=s,this.height=i,this.moduleSize=c,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var t=this.startX,n=this.height,a=this.width,s=t+a,i=this.startY+n/2,c=new Int32Array(3),o=this.image,d=0;d<n;d++){var l=i+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;for(var u=t;u<s&&!o.get(u,l);)u++;for(var h=0;u<s;){if(o.get(u,l))if(h===1)c[1]++;else if(h===2){if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,l,u);if(f!==null)return f}c[0]=c[2],c[1]=1,c[2]=0,h=1}else c[++h]++;else h===1&&h++,c[h]++;u++}if(this.foundPatternCross(c)){var f=this.handlePossibleCenter(c,l,s);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new kr},r.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},r.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,a=n/2,s=0;s<3;s++)if(Math.abs(n-t[s])>=a)return!1;return!0},r.prototype.crossCheckVertical=function(t,n,a,s){var i=this.image,c=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var d=t;d>=0&&i.get(n,d)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&!i.get(n,d)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(n,d)&&o[1]<=a;)o[1]++,d++;if(d===c||o[1]>a)return NaN;for(;d<c&&!i.get(n,d)&&o[2]<=a;)o[2]++,d++;if(o[2]>a)return NaN;var l=o[0]+o[1]+o[2];return 5*Math.abs(l-s)>=2*s?NaN:this.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.handlePossibleCenter=function(t,n,a){var s,i,c=t[0]+t[1]+t[2],o=r.centerFromEnd(t,a),d=this.crossCheckVertical(n,o,2*t[1],c);if(!isNaN(d)){var l=(t[0]+t[1]+t[2])/3;try{for(var u=ile(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.aboutEquals(l,d,o))return f.combineEstimate(d,o,l)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}var A=new sle(o,d,l);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null},r})(),lle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),cle=(function(r){lle(t,r);function t(n,a,s,i){var c=r.call(this,n,a)||this;return c.estimatedModuleSize=s,c.count=i,i===void 0&&(c.count=1),c}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,a,s){if(Math.abs(a-this.getY())<=n&&Math.abs(s-this.getX())<=n){var i=Math.abs(n-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,a,s){var i=this.count+1,c=(this.count*this.getX()+a)/i,o=(this.count*this.getY()+n)/i,d=(this.count*this.estimatedModuleSize+s)/i;return new t(c,o,d,i)},t})(ea),dle=(function(){function r(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),Dg=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ule=(function(){function r(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(t){var n=t!=null&&t.get(lo.TRY_HARDER)!==void 0,a=t!=null&&t.get(lo.PURE_BARCODE)!==void 0,s=this.image,i=s.getHeight(),c=s.getWidth(),o=Math.floor(3*i/(4*r.MAX_MODULES));(o<r.MIN_SKIP||n)&&(o=r.MIN_SKIP);for(var d=!1,l=new Int32Array(5),u=o-1;u<i&&!d;u+=o){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var h=0,f=0;f<c;f++)if(s.get(f,u))(h&1)===1&&h++,l[h]++;else if((h&1)===0)if(h===4)if(r.foundPatternCross(l)){var A=this.handlePossibleCenter(l,u,f,a);if(A===!0)if(o=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>l[2]&&(u+=g-l[2]-o,f=c-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;continue}h=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;else l[++h]++;else l[h]++;if(r.foundPatternCross(l)){var A=this.handlePossibleCenter(l,u,c,a);A===!0&&(o=l[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return ea.orderBestPatterns(m),new dle(m)},r.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},r.foundPatternCross=function(t){for(var n=0,a=0;a<5;a++){var s=t[a];if(s===0)return!1;n+=s}if(n<7)return!1;var i=n/7,c=i/2;return Math.abs(i-t[0])<c&&Math.abs(i-t[1])<c&&Math.abs(3*i-t[2])<3*c&&Math.abs(i-t[3])<c&&Math.abs(i-t[4])<c},r.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},r.prototype.crossCheckDiagonal=function(t,n,a,s){for(var i=this.getCrossCheckStateCount(),c=0,o=this.image;t>=c&&n>=c&&o.get(n-c,t-c);)i[2]++,c++;if(t<c||n<c)return!1;for(;t>=c&&n>=c&&!o.get(n-c,t-c)&&i[1]<=a;)i[1]++,c++;if(t<c||n<c||i[1]>a)return!1;for(;t>=c&&n>=c&&o.get(n-c,t-c)&&i[0]<=a;)i[0]++,c++;if(i[0]>a)return!1;var d=o.getHeight(),l=o.getWidth();for(c=1;t+c<d&&n+c<l&&o.get(n+c,t+c);)i[2]++,c++;if(t+c>=d||n+c>=l)return!1;for(;t+c<d&&n+c<l&&!o.get(n+c,t+c)&&i[3]<a;)i[3]++,c++;if(t+c>=d||n+c>=l||i[3]>=a)return!1;for(;t+c<d&&n+c<l&&o.get(n+c,t+c)&&i[4]<a;)i[4]++,c++;if(i[4]>=a)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-s)<2*s&&r.foundPatternCross(i)},r.prototype.crossCheckVertical=function(t,n,a,s){for(var i=this.image,c=i.getHeight(),o=this.getCrossCheckStateCount(),d=t;d>=0&&i.get(n,d);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(n,d)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&i.get(n,d)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(n,d);)o[2]++,d++;if(d===c)return NaN;for(;d<c&&!i.get(n,d)&&o[3]<a;)o[3]++,d++;if(d===c||o[3]>=a)return NaN;for(;d<c&&i.get(n,d)&&o[4]<a;)o[4]++,d++;if(o[4]>=a)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-s)>=2*s?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.crossCheckHorizontal=function(t,n,a,s){for(var i=this.image,c=i.getWidth(),o=this.getCrossCheckStateCount(),d=t;d>=0&&i.get(d,n);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(d,n)&&o[1]<=a;)o[1]++,d--;if(d<0||o[1]>a)return NaN;for(;d>=0&&i.get(d,n)&&o[0]<=a;)o[0]++,d--;if(o[0]>a)return NaN;for(d=t+1;d<c&&i.get(d,n);)o[2]++,d++;if(d===c)return NaN;for(;d<c&&!i.get(d,n)&&o[3]<a;)o[3]++,d++;if(d===c||o[3]>=a)return NaN;for(;d<c&&i.get(d,n)&&o[4]<a;)o[4]++,d++;if(o[4]>=a)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-s)>=s?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,d):NaN},r.prototype.handlePossibleCenter=function(t,n,a,s){var i=t[0]+t[1]+t[2]+t[3]+t[4],c=r.centerFromEnd(t,a),o=this.crossCheckVertical(n,Math.floor(c),t[2],i);if(!isNaN(o)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(o),t[2],i),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(o),Math.floor(c),t[2],i)))){for(var d=i/7,l=!1,u=this.possibleCenters,h=0,f=u.length;h<f;h++){var A=u[h];if(A.aboutEquals(d,o,c)){u[h]=A.combineEstimate(o,c,d),l=!0;break}}if(!l){var g=new cle(c,o,d);u.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},r.prototype.findRowSkip=function(){var t,n,a=this.possibleCenters.length;if(a<=1)return 0;var s=null;try{for(var i=Dg(this.possibleCenters),c=i.next();!c.done;c=i.next()){var o=c.value;if(o.getCount()>=r.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var t,n,a,s,i=0,c=0,o=this.possibleCenters.length;try{for(var d=Dg(this.possibleCenters),l=d.next();!l.done;l=d.next()){var u=l.value;u.getCount()>=r.CENTER_QUORUM&&(i++,c+=u.getEstimatedModuleSize())}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(i<3)return!1;var h=c/o,f=0;try{for(var A=Dg(this.possibleCenters),g=A.next();!g.done;g=A.next()){var u=g.value;f+=Math.abs(u.getEstimatedModuleSize()-h)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}return f<=.05*c},r.prototype.selectBestPatterns=function(){var t,n,a,s,i=this.possibleCenters.length;if(i<3)throw new kr;var c=this.possibleCenters,o;if(i>3){var d=0,l=0;try{for(var u=Dg(this.possibleCenters),h=u.next();!h.done;h=u.next()){var f=h.value,A=f.getEstimatedModuleSize();d+=A,l+=A*A}}catch(w){t={error:w}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}o=d/i;var g=Math.sqrt(l/i-o*o);c.sort(function(w,E){var I=Math.abs(E.getEstimatedModuleSize()-o),L=Math.abs(w.getEstimatedModuleSize()-o);return I<L?-1:I>L?1:0});for(var m=Math.max(.2*o,g),x=0;x<c.length&&c.length>3;x++){var y=c[x];Math.abs(y.getEstimatedModuleSize()-o)>m&&(c.splice(x,1),x--)}}if(c.length>3){var d=0;try{for(var b=Dg(c),j=b.next();!j.done;j=b.next()){var S=j.value;d+=S.getEstimatedModuleSize()}}catch(E){a={error:E}}finally{try{j&&!j.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}o=d/c.length,c.sort(function(E,I){if(I.getCount()===E.getCount()){var L=Math.abs(I.getEstimatedModuleSize()-o),Z=Math.abs(E.getEstimatedModuleSize()-o);return L<Z?1:L>Z?-1:0}else return I.getCount()-E.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),hle=(function(){function r(t){this.image=t}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(lo.NEED_RESULT_POINT_CALLBACK);var n=new ule(this.image,this.resultPointCallback),a=n.find(t);return this.processFinderPatternInfo(a)},r.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),a=t.getTopRight(),s=t.getBottomLeft(),i=this.calculateModuleSize(n,a,s);if(i<1)throw new kr("No pattern found in proccess finder.");var c=r.computeDimension(n,a,s,i),o=lp.getProvisionalVersionForDimension(c),d=o.getDimensionForVersion()-7,l=null;if(o.getAlignmentPatternCenters().length>0)for(var u=a.getX()-n.getX()+s.getX(),h=a.getY()-n.getY()+s.getY(),f=1-3/d,A=Math.floor(n.getX()+f*(u-n.getX())),g=Math.floor(n.getY()+f*(h-n.getY())),m=4;m<=16;m<<=1)try{l=this.findAlignmentInRegion(i,A,g,m);break}catch(j){if(!(j instanceof kr))throw j}var x=r.createTransform(n,a,s,l,c),y=r.sampleGrid(this.image,x,c),b;return l===null?b=[s,n,a]:b=[s,n,a,l],new BS(y,b)},r.createTransform=function(t,n,a,s,i){var c=i-3.5,o,d,l,u;return s!==null?(o=s.getX(),d=s.getY(),l=c-3,u=l):(o=n.getX()-t.getX()+a.getX(),d=n.getY()-t.getY()+a.getY(),l=c,u=c),bD.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,l,u,3.5,c,t.getX(),t.getY(),n.getX(),n.getY(),o,d,a.getX(),a.getY())},r.sampleGrid=function(t,n,a){var s=IS.getInstance();return s.sampleGridWithTransform(t,a,a,n)},r.computeDimension=function(t,n,a,s){var i=ii.round(ea.distance(t,n)/s),c=ii.round(ea.distance(t,a)/s),o=Math.floor((i+c)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new kr("Dimensions could be not found.")}return o},r.prototype.calculateModuleSize=function(t,n,a){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,a))/2},r.prototype.calculateModuleSizeOneWay=function(t,n){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?s/7:isNaN(s)?a/7:(a+s)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,a,s){var i=this.sizeOfBlackWhiteBlackRun(t,n,a,s),c=1,o=t-(a-t);o<0?(c=t/(t-o),o=0):o>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(o-t),o=this.image.getWidth()-1);var d=Math.floor(n-(s-n)*c);return c=1,d<0?(c=n/(n-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),o=Math.floor(t+(o-t)*c),i+=this.sizeOfBlackWhiteBlackRun(t,n,o,d),i-1},r.prototype.sizeOfBlackWhiteBlackRun=function(t,n,a,s){var i=Math.abs(s-n)>Math.abs(a-t);if(i){var c=t;t=n,n=c,c=a,a=s,s=c}for(var o=Math.abs(a-t),d=Math.abs(s-n),l=-o/2,u=t<a?1:-1,h=n<s?1:-1,f=0,A=a+u,g=t,m=n;g!==A;g+=u){var x=i?m:g,y=i?g:m;if(f===1===this.image.get(x,y)){if(f===2)return ii.distance(g,m,t,n);f++}if(l+=d,l>0){if(m===s)break;m+=h,l-=o}}return f===2?ii.distance(a+u,s,t,n):NaN},r.prototype.findAlignmentInRegion=function(t,n,a,s){var i=Math.floor(s*t),c=Math.max(0,n-i),o=Math.min(this.image.getWidth()-1,n+i);if(o-c<t*3)throw new kr("Alignment top exceeds estimated module size.");var d=Math.max(0,a-i),l=Math.min(this.image.getHeight()-1,a+i);if(l-d<t*3)throw new kr("Alignment bottom exceeds estimated module size.");var u=new ole(this.image,c,d,o-c,l-d,t,this.resultPointCallback);return u.find()},r})(),Rx=(function(){function r(){this.decoder=new nle}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(t,n){var a,s;if(n!=null&&n.get(lo.PURE_BARCODE)!==void 0){var i=r.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(i,n),s=r.NO_POINTS}else{var c=new hle(t.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(c.getBits(),n),s=c.getPoints()}a.getOther()instanceof BD&&a.getOther().applyMirroredCorrection(s);var o=new ad(a.getText(),a.getRawBytes(),void 0,s,Sa.QR_CODE,void 0),d=a.getByteSegments();d!==null&&o.putMetadata(Qc.BYTE_SEGMENTS,d);var l=a.getECLevel();return l!==null&&o.putMetadata(Qc.ERROR_CORRECTION_LEVEL,l),a.hasStructuredAppend()&&(o.putMetadata(Qc.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),o.putMetadata(Qc.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),o},r.prototype.reset=function(){},r.extractPureBits=function(t){var n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n===null||a===null)throw new kr;var s=this.moduleSize(n,t),i=n[1],c=a[1],o=n[0],d=a[0];if(o>=d||i>=c)throw new kr;if(c-i!==d-o&&(d=o+(c-i),d>=t.getWidth()))throw new kr;var l=Math.round((d-o+1)/s),u=Math.round((c-i+1)/s);if(l<=0||u<=0)throw new kr;if(u!==l)throw new kr;var h=Math.floor(s/2);i+=h,o+=h;var f=o+Math.floor((l-1)*s)-d;if(f>0){if(f>h)throw new kr;o-=f}var A=i+Math.floor((u-1)*s)-c;if(A>0){if(A>h)throw new kr;i-=A}for(var g=new Hh(l,u),m=0;m<u;m++)for(var x=i+Math.floor(m*s),y=0;y<l;y++)t.get(o+Math.floor(y*s),x)&&g.set(y,m);return g},r.moduleSize=function(t,n){for(var a=n.getHeight(),s=n.getWidth(),i=t[0],c=t[1],o=!0,d=0;i<s&&c<a;){if(o!==n.get(i,c)){if(++d===5)break;o=!o}i++,c++}if(i===s||c===a)throw new kr;return(i-t[0])/7},r.NO_POINTS=new Array,r})(),fle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Js=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(t){return ii.sum(t)},r.toIntArray=function(t){var n,a;if(t==null||!t.length)return r.EMPTY_INT_ARRAY;var s=new Int32Array(t.length),i=0;try{for(var c=fle(t),o=c.next();!o.done;o=c.next()){var d=o.value;s[i++]=d}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},r.getCodeword=function(t){var n=Xl.binarySearch(r.SYMBOL_TABLE,t&262143);return n<0?-1:(r.CODEWORD_TABLE[n]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),Ale=(function(){function r(t,n){this.bits=t,this.points=n}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),ple=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mle=(function(){function r(){}return r.detectMultiple=function(t,n,a){var s=t.getBlackMatrix(),i=r.detect(a,s);return i.length||(s=s.clone(),s.rotate180(),i=r.detect(a,s)),new Ale(s,i)},r.detect=function(t,n){for(var a,s,i=new Array,c=0,o=0,d=!1;c<n.getHeight();){var l=r.findVertices(n,c,o);if(l[0]==null&&l[3]==null){if(!d)break;d=!1,o=0;try{for(var u=(a=void 0,ple(i)),h=u.next();!h.done;h=u.next()){var f=h.value;f[1]!=null&&(c=Math.trunc(Math.max(c,f[1].getY()))),f[3]!=null&&(c=Math.max(c,Math.trunc(f[3].getY())))}}catch(A){a={error:A}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}c+=r.ROW_STEP;continue}if(d=!0,i.push(l),!t)break;l[2]!=null?(o=Math.trunc(l[2].getX()),c=Math.trunc(l[2].getY())):(o=Math.trunc(l[4].getX()),c=Math.trunc(l[4].getY()))}return i},r.findVertices=function(t,n,a){var s=t.getHeight(),i=t.getWidth(),c=new Array(8);return r.copyToResult(c,r.findRowsWithPattern(t,s,i,n,a,r.START_PATTERN),r.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),r.copyToResult(c,r.findRowsWithPattern(t,s,i,n,a,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),c},r.copyToResult=function(t,n,a){for(var s=0;s<a.length;s++)t[a[s]]=n[s]},r.findRowsWithPattern=function(t,n,a,s,i,c){for(var o=new Array(4),d=!1,l=new Int32Array(c.length);s<n;s+=r.ROW_STEP){var u=r.findGuardPattern(t,i,s,a,!1,c,l);if(u!=null){for(;s>0;){var h=r.findGuardPattern(t,i,--s,a,!1,c,l);if(h!=null)u=h;else{s++;break}}o[0]=new ea(u[0],s),o[1]=new ea(u[1],s),d=!0;break}}var f=s+1;if(d){for(var A=0,h=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);f<n;f++){var u=r.findGuardPattern(t,h[0],f,a,!1,c,l);if(u!=null&&Math.abs(h[0]-u[0])<r.MAX_PATTERN_DRIFT&&Math.abs(h[1]-u[1])<r.MAX_PATTERN_DRIFT)h=u,A=0;else{if(A>r.SKIPPED_ROW_COUNT_MAX)break;A++}}f-=A+1,o[2]=new ea(h[0],f),o[3]=new ea(h[1],f)}return f-s<r.BARCODE_MIN_HEIGHT&&Xl.fill(o,null),o},r.findGuardPattern=function(t,n,a,s,i,c,o){Xl.fillWithin(o,0,o.length,0);for(var d=n,l=0;t.get(d,a)&&d>0&&l++<r.MAX_PIXEL_DRIFT;)d--;for(var u=d,h=0,f=c.length,A=i;u<s;u++){var g=t.get(u,a);if(g!==A)o[h]++;else{if(h===f-1){if(r.patternMatchVariance(o,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([d,u]);d+=o[0]+o[1],oo.arraycopy(o,2,o,0,h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,A=!A}}return h===f-1&&r.patternMatchVariance(o,c,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([d,u-1]):null},r.patternMatchVariance=function(t,n,a){for(var s=t.length,i=0,c=0,o=0;o<s;o++)i+=t[o],c+=n[o];if(i<c)return 1/0;var d=i/c;a*=d;for(var l=0,u=0;u<s;u++){var h=t[u],f=n[u]*d,A=h>f?h-f:f-h;if(A>a)return 1/0;l+=A}return l/i},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),gle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},np=(function(){function r(t,n){if(n.length===0)throw new Ea;this.field=t;var a=n.length;if(a>1&&n[0]===0){for(var s=1;s<a&&n[s]===0;)s++;s===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-s),oo.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){var n,a;if(t===0)return this.getCoefficient(0);if(t===1){var s=0;try{for(var i=gle(this.coefficients),c=i.next();!c.done;c=i.next()){var o=c.value;s=this.field.add(s,o)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s}for(var d=this.coefficients[0],l=this.coefficients.length,u=1;u<l;u++)d=this.field.add(this.field.multiply(t,d),this.coefficients[u]);return d},r.prototype.add=function(t){if(!this.field.equals(t.field))throw new Ea("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,a=t.coefficients;if(n.length>a.length){var s=n;n=a,a=s}var i=new Int32Array(a.length),c=a.length-n.length;oo.arraycopy(a,0,i,0,c);for(var o=c;o<a.length;o++)i[o]=this.field.add(n[o-c],a[o]);return new r(this.field,i)},r.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Ea("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},r.prototype.multiply=function(t){return t instanceof r?this.multiplyOther(t):this.multiplyScalar(t)},r.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Ea("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new r(this.field,new Int32Array([0]));for(var n=this.coefficients,a=n.length,s=t.coefficients,i=s.length,c=new Int32Array(a+i-1),o=0;o<a;o++)for(var d=n[o],l=0;l<i;l++)c[o+l]=this.field.add(c[o+l],this.field.multiply(d,s[l]));return new r(this.field,c)},r.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),a=0;a<t;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new r(this.field,n)},r.prototype.multiplyScalar=function(t){if(t===0)return new r(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,a=new Int32Array(n),s=0;s<n;s++)a[s]=this.field.multiply(this.coefficients[s],t);return new r(this.field,a)},r.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new Ea;if(n===0)return new r(this.field,new Int32Array([0]));for(var a=this.coefficients.length,s=new Int32Array(a+t),i=0;i<a;i++)s[i]=this.field.multiply(this.coefficients[i],n);return new r(this.field,s)},r.prototype.toString=function(){for(var t=new bs,n=this.getDegree();n>=0;n--){var a=this.getCoefficient(n);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(n===0||a!==1)&&t.append(a),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},r})(),vle=(function(){function r(){}return r.prototype.add=function(t,n){return(t+n)%this.modulus},r.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(t===0)throw new Ea;return this.logTable[t]},r.prototype.inverse=function(t){if(t===0)throw new jD;return this.expTable[this.modulus-this.logTable[t]-1]},r.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(t){return t===this},r})(),xle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),yle=(function(r){xle(t,r);function t(n,a){var s=r.call(this)||this;s.modulus=n,s.expTable=new Int32Array(n),s.logTable=new Int32Array(n);for(var i=1,c=0;c<n;c++)s.expTable[c]=i,i=i*a%n;for(var c=0;c<n-1;c++)s.logTable[s.expTable[c]]=c;return s.zero=new np(s,new Int32Array([0])),s.one=new np(s,new Int32Array([1])),s}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,a){if(n<0)throw new Ea;if(a===0)return this.zero;var s=new Int32Array(n+1);return s[0]=a,new np(this,s)},t.PDF417_GF=new t(Js.NUMBER_OF_CODEWORDS,3),t})(vle),jle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ble=(function(){function r(){this.field=yle.PDF417_GF}return r.prototype.decode=function(t,n,a){for(var s,i,c=new np(this.field,t),o=new Int32Array(n),d=!1,l=n;l>0;l--){var u=c.evaluateAt(this.field.exp(l));o[n-l]=u,u!==0&&(d=!0)}if(!d)return 0;var h=this.field.getOne();if(a!=null)try{for(var f=jle(a),A=f.next();!A.done;A=f.next()){var g=A.value,m=this.field.exp(t.length-1-g),x=new np(this.field,new Int32Array([this.field.subtract(0,m),1]));h=h.multiply(x)}}catch(L){s={error:L}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}for(var y=new np(this.field,o),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),j=b[0],S=b[1],w=this.findErrorLocations(j),E=this.findErrorMagnitudes(S,j,w),l=0;l<w.length;l++){var I=t.length-1-this.field.log(w[l]);if(I<0)throw El.getChecksumInstance();t[I]=this.field.subtract(t[I],E[l])}return w.length},r.prototype.runEuclideanAlgorithm=function(t,n,a){if(t.getDegree()<n.getDegree()){var s=t;t=n,n=s}for(var i=t,c=n,o=this.field.getZero(),d=this.field.getOne();c.getDegree()>=Math.round(a/2);){var l=i,u=o;if(i=c,o=d,i.isZero())throw El.getChecksumInstance();c=l;for(var h=this.field.getZero(),f=i.getCoefficient(i.getDegree()),A=this.field.inverse(f);c.getDegree()>=i.getDegree()&&!c.isZero();){var g=c.getDegree()-i.getDegree(),m=this.field.multiply(c.getCoefficient(c.getDegree()),A);h=h.add(this.field.buildMonomial(g,m)),c=c.subtract(i.multiplyByMonomial(g,m))}d=h.multiply(o).subtract(u).negative()}var x=d.getCoefficient(0);if(x===0)throw El.getChecksumInstance();var y=this.field.inverse(x),b=d.multiply(y),j=c.multiply(y);return[b,j]},r.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),a=new Int32Array(n),s=0,i=1;i<this.field.getSize()&&s<n;i++)t.evaluateAt(i)===0&&(a[s]=this.field.inverse(i),s++);if(s!==n)throw El.getChecksumInstance();return a},r.prototype.findErrorMagnitudes=function(t,n,a){for(var s=n.getDegree(),i=new Int32Array(s),c=1;c<=s;c++)i[s-c]=this.field.multiply(c,n.getCoefficient(c));for(var o=new np(this.field,i),d=a.length,l=new Int32Array(d),c=0;c<d;c++){var u=this.field.inverse(a[c]),h=this.field.subtract(0,t.evaluateAt(u)),f=this.field.inverse(o.evaluateAt(u));l[c]=this.field.multiply(h,f)}return l},r})(),c4=(function(){function r(t,n,a,s,i){t instanceof r?this.constructor_2(t):this.constructor_1(t,n,a,s,i)}return r.prototype.constructor_1=function(t,n,a,s,i){var c=n==null||a==null,o=s==null||i==null;if(c&&o)throw new kr;c?(n=new ea(0,s.getY()),a=new ea(0,i.getY())):o&&(s=new ea(t.getWidth()-1,n.getY()),i=new ea(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=n,this.bottomLeft=a,this.topRight=s,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(s.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(a.getY(),i.getY()))},r.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},r.merge=function(t,n){return t==null?n:n==null?t:new r(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},r.prototype.addMissingRows=function(t,n,a){var s=this.topLeft,i=this.bottomLeft,c=this.topRight,o=this.bottomRight;if(t>0){var d=a?this.topLeft:this.topRight,l=Math.trunc(d.getY()-t);l<0&&(l=0);var u=new ea(d.getX(),l);a?s=u:c=u}if(n>0){var h=a?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var A=new ea(h.getX(),f);a?i=A:o=A}return new r(this.image,s,i,c,o)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),wle=(function(){function r(t,n,a,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),kS=(function(){function r(){this.buffer=""}return r.form=function(t,n){var a=-1;function s(c,o,d,l,u,h){if(c==="%%")return"%";if(n[++a]!==void 0){c=l?parseInt(l.substr(1)):void 0;var f=u?parseInt(u.substr(1)):void 0,A;switch(h){case"s":A=n[a];break;case"c":A=n[a][0];break;case"f":A=parseFloat(n[a]).toFixed(c);break;case"p":A=parseFloat(n[a]).toPrecision(c);break;case"e":A=parseFloat(n[a]).toExponential(c);break;case"x":A=parseInt(n[a]).toString(f||16);break;case"d":A=parseFloat(parseInt(n[a],f||10).toPrecision(c)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(f);for(var g=parseInt(d),m=d&&d[0]+""=="0"?"0":" ";A.length<g;)A=o!==void 0?A+m:m+A;return A}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,s)},r.prototype.format=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];this.buffer+=r.form(t,n)},r.prototype.toString=function(){return this.buffer},r})(),Cle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ID=(function(){function r(t){this.boundingBox=new c4(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return r.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var a=1;a<r.MAX_NEARBY_DISTANCE;a++){var s=this.imageRowToCodewordIndex(t)-a;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(t)+a,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null},r.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},r.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},r.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var t,n,a=new kS,s=0;try{for(var i=Cle(this.codewords),c=i.next();!c.done;c=i.next()){var o=c.value;if(o==null){a.format("%3d:    |   %n",s++);continue}a.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),Nle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sle=function(r,t){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),s,i=[],c;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(o){c={error:o}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return i},qg=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},r.prototype.getValue=function(){var t,n,a=-1,s=new Array,i=function(h,f){var A={getKey:function(){return h},getValue:function(){return f}};A.getValue()>a?(a=A.getValue(),s=[],s.push(A.getKey())):A.getValue()===a&&s.push(A.getKey())};try{for(var c=Nle(this.values.entries()),o=c.next();!o.done;o=c.next()){var d=Sle(o.value,2),l=d[0],u=d[1];i(l,u)}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return Js.toIntArray(s)},r.prototype.getConfidence=function(t){return this.values.get(t)},r})(),Ele=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),wC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n_=(function(r){Ele(t,r);function t(n,a){var s=r.call(this,n)||this;return s._isLeft=a,s}return t.prototype.setRowNumbers=function(){var n,a;try{for(var s=wC(this.getCodewords()),i=s.next();!i.done;i=s.next()){var c=i.value;c!=null&&c.setRowNumberAsRowIndicatorColumn()}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);for(var s=this.getBoundingBox(),i=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),l=-1,u=1,h=0,f=o;f<d;f++)if(a[f]!=null){var A=a[f],g=A.getRowNumber()-l;if(g===0)h++;else if(g===1)u=Math.max(u,h),h=1,l=A.getRowNumber();else if(g<0||A.getRowNumber()>=n.getRowCount()||g>f)a[f]=null;else{var m=void 0;u>2?m=(u-2)*g:m=g;for(var x=m>=f,y=1;y<=m&&!x;y++)x=a[f-y]!=null;x?a[f]=null:(l=A.getRowNumber(),h=1)}}},t.prototype.getRowHeights=function(){var n,a,s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);var i=new Int32Array(s.getRowCount());try{for(var c=wC(this.getCodewords()),o=c.next();!o.done;o=c.next()){var d=o.value;if(d!=null){var l=d.getRowNumber();if(l>=i.length)continue;i[l]++}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),i=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.getCodewords(),l=-1,u=c;u<o;u++)if(d[u]!=null){var h=d[u];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-l;f===0||(f===1?l=h.getRowNumber():h.getRowNumber()>=n.getRowCount()?d[u]=null:l=h.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,a,s=this.getCodewords(),i=new qg,c=new qg,o=new qg,d=new qg;try{for(var l=wC(s),u=l.next();!u.done;u=l.next()){var h=u.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var f=h.getValue()%30,A=h.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:c.setValue(f*3+1);break;case 1:d.setValue(f/3),o.setValue(f%3);break;case 2:i.setValue(f+1);break}}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}if(i.getValue().length===0||c.getValue().length===0||o.getValue().length===0||d.getValue().length===0||i.getValue()[0]<1||c.getValue()[0]+o.getValue()[0]<Js.MIN_ROWS_IN_BARCODE||c.getValue()[0]+o.getValue()[0]>Js.MAX_ROWS_IN_BARCODE)return null;var g=new wle(i.getValue()[0],c.getValue()[0],o.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,g),g},t.prototype.removeIncorrectCodewords=function(n,a){for(var s=0;s<n.length;s++){var i=n[s];if(n[s]!=null){var c=i.getValue()%30,o=i.getRowNumber();if(o>a.getRowCount()){n[s]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:c*3+1!==a.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(c/3)!==a.getErrorCorrectionLevel()||c%3!==a.getRowCountLowerPart())&&(n[s]=null);break;case 2:c+1!==a.getColumnCount()&&(n[s]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},t})(ID),Ble=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ile=(function(){function r(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Js.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var a=this.detectionResultColumns[n].getCodewords(),s=0;s<a.length;s++)a[s]!=null&&(a[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,a));return t},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<t.length;a++)if(t[a]!=null&&n[a]!=null&&t[a].getRowNumber()===n[a].getRowNumber())for(var s=1;s<=this.barcodeColumnCount;s++){var i=this.detectionResultColumns[s].getCodewords()[a];i!=null&&(i.setRowNumber(t[a].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[a]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var s=n[a].getRowNumber(),i=0,c=this.barcodeColumnCount+1;c>0&&i<this.ADJUST_ROW_NUMBER_SKIP;c--){var o=this.detectionResultColumns[c].getCodewords()[a];o!=null&&(i=r.adjustRowNumberIfValid(s,i,o),o.hasValidRowNumber()||t++)}return t},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),a=0;a<n.length;a++)if(n[a]!=null)for(var s=n[a].getRowNumber(),i=0,c=1;c<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;c++){var o=this.detectionResultColumns[c].getCodewords()[a];o!=null&&(i=r.adjustRowNumberIfValid(s,i,o),o.hasValidRowNumber()||t++)}return t},r.adjustRowNumberIfValid=function(t,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),n=0):++n),n},r.prototype.adjustRowNumbers=function(t,n,a){var s,i;if(this.detectionResultColumns[t-1]!=null){var c=a[n],o=this.detectionResultColumns[t-1].getCodewords(),d=o;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=o[n],l[3]=d[n],n>0&&(l[0]=a[n-1],l[4]=o[n-1],l[5]=d[n-1]),n>1&&(l[8]=a[n-2],l[10]=o[n-2],l[11]=d[n-2]),n<a.length-1&&(l[1]=a[n+1],l[6]=o[n+1],l[7]=d[n+1]),n<a.length-2&&(l[9]=a[n+2],l[12]=o[n+2],l[13]=d[n+2]);try{for(var u=Ble(l),h=u.next();!h.done;h=u.next()){var f=h.value;if(r.adjustRowNumber(c,f))return}}catch(A){s={error:A}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}},r.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(t){this.boundingBox=t},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},r.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},r.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new kS,a=0;a<t.getCodewords().length;a++){n.format("CW %3d:",a);for(var s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}var i=this.detectionResultColumns[s].getCodewords()[a];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()},r})(),Tle=(function(){function r(t,n,a,s){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(s)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(t){return t!==r.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(t){this.rowNumber=t},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),kle=(function(){function r(){}return r.initialize=function(){for(var t=0;t<Js.SYMBOL_TABLE.length;t++)for(var n=Js.SYMBOL_TABLE[t],a=n&1,s=0;s<Js.BARS_IN_MODULE;s++){for(var i=0;(n&1)===a;)i+=1,n>>=1;a=n&1,r.RATIOS_TABLE[t]||(r.RATIOS_TABLE[t]=new Array(Js.BARS_IN_MODULE)),r.RATIOS_TABLE[t][Js.BARS_IN_MODULE-s-1]=Math.fround(i/Js.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(t){var n=r.getDecodedCodewordValue(r.sampleBitCounts(t));return n!==-1?n:r.getClosestDecodedValue(t)},r.sampleBitCounts=function(t){for(var n=ii.sum(t),a=new Int32Array(Js.BARS_IN_MODULE),s=0,i=0,c=0;c<Js.MODULES_IN_CODEWORD;c++){var o=n/(2*Js.MODULES_IN_CODEWORD)+c*n/Js.MODULES_IN_CODEWORD;i+t[s]<=o&&(i+=t[s],s++),a[s]++}return a},r.getDecodedCodewordValue=function(t){var n=r.getBitValue(t);return Js.getCodeword(n)===-1?-1:n},r.getBitValue=function(t){for(var n=0,a=0;a<t.length;a++)for(var s=0;s<t[a];s++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)},r.getClosestDecodedValue=function(t){var n=ii.sum(t),a=new Array(Js.BARS_IN_MODULE);if(n>1)for(var s=0;s<a.length;s++)a[s]=Math.fround(t[s]/n);var i=i4.MAX_VALUE,c=-1;this.bSymbolTableReady||r.initialize();for(var o=0;o<r.RATIOS_TABLE.length;o++){for(var d=0,l=r.RATIOS_TABLE[o],u=0;u<Js.BARS_IN_MODULE;u++){var h=Math.fround(l[u]-a[u]);if(d+=Math.fround(h*h),d>=i)break}d<i&&(i=d,c=Js.SYMBOL_TABLE[o])}return c},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Js.SYMBOL_TABLE.length).map(function(t){return new Array(Js.BARS_IN_MODULE)}),r})(),_le=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(t){this.segmentIndex=t},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(t){this.fileId=t},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(t){this.optionalData=t},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(t){this.lastSegment=t},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(t){this.segmentCount=t},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(t){this.sender=t},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(t){this.addressee=t},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(t){this.fileName=t},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(t){this.fileSize=t},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(t){this.checksum=t},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(t){this.timestamp=t},r})(),a_=(function(){function r(){}return r.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},r})(),Ole=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Fle=(function(r){Ole(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="NullPointerException",t})(Wd),Ple=(function(){function r(){}return r.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},r.prototype.writeBytesOffset=function(t,n,a){if(t==null)throw new Fle;if(n<0||n>t.length||a<0||n+a>t.length||n+a<0)throw new ES;if(a===0)return;for(var s=0;s<a;s++)this.write(t[n+s])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),Dle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Mle=(function(r){Dle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Wd),Rle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Lle=(function(r){Rle(t,r);function t(n){n===void 0&&(n=32);var a=r.call(this)||this;if(a.count=0,n<0)throw new Ea("Negative initial size: "+n);return a.buf=new Uint8Array(n),a}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var a=this.buf.length,s=a<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Mle;s=Ns.MAX_VALUE}this.buf=Xl.copyOfUint8Array(this.buf,s)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,a,s){if(a<0||a>n.length||s<0||a+s-n.length>0)throw new ES;this.ensureCapacity(this.count+s),oo.arraycopy(n,a,this.buf,this.count,s),this.count+=s},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Xl.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t})(Ple),Hi;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Hi||(Hi={}));function TD(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var wv;function aA(r){if(typeof wv>"u"&&(wv=TD()),wv===null)throw new Error("BigInt is not supported!");return wv(r)}function Ule(){var r=[];r[0]=aA(1);var t=aA(900);r[1]=t;for(var n=2;n<16;n++)r[n]=r[n-1]*t;return r}var Hle=(function(){function r(){}return r.decode=function(t,n){var a=new bs(""),s=Kl.ISO8859_1;a.enableDecoding(s);for(var i=1,c=t[i++],o=new _le;i<t[0];){switch(c){case r.TEXT_COMPACTION_MODE_LATCH:i=r.textCompaction(t,i,a);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:i=r.byteCompaction(c,t,s,i,a);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[i++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:i=r.numericCompaction(t,i,a);break;case r.ECI_CHARSET:Kl.getCharacterSetECIByValue(t[i++]);break;case r.ECI_GENERAL_PURPOSE:i+=2;break;case r.ECI_USER_DEFINED:i++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=r.decodeMacroBlock(t,i,o);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new pn;default:i--,i=r.textCompaction(t,i,a);break}if(i<t.length)c=t[i++];else throw pn.getFormatInstance()}if(a.length()===0)throw pn.getFormatInstance();var d=new T2(null,a.toString(),null,n);return d.setOther(o),d},r.decodeMacroBlock=function(t,n,a){if(n+r.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw pn.getFormatInstance();for(var s=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<r.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)s[i]=t[n];a.setSegmentIndex(Ns.parseInt(r.decodeBase900toBase10(s,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var c=new bs;n=r.textCompaction(t,n,c),a.setFileId(c.toString());var o=-1;for(t[n]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=n+1);n<t[0];)switch(t[n]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var d=new bs;n=r.textCompaction(t,n+1,d),a.setFileName(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new bs;n=r.textCompaction(t,n+1,l),a.setSender(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new bs;n=r.textCompaction(t,n+1,u),a.setAddressee(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new bs;n=r.numericCompaction(t,n+1,h),a.setSegmentCount(Ns.parseInt(h.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new bs;n=r.numericCompaction(t,n+1,f),a.setTimestamp(a_.parseLong(f.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var A=new bs;n=r.numericCompaction(t,n+1,A),a.setChecksum(Ns.parseInt(A.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new bs;n=r.numericCompaction(t,n+1,g),a.setFileSize(a_.parseLong(g.toString()));break;default:throw pn.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw pn.getFormatInstance()}if(o!==-1){var m=n-o;a.isLastSegment()&&m--,a.setOptionalData(Xl.copyOfRange(t,o,o+m))}return n},r.textCompaction=function(t,n,a){for(var s=new Int32Array((t[0]-n)*2),i=new Int32Array((t[0]-n)*2),c=0,o=!1;n<t[0]&&!o;){var d=t[n++];if(d<r.TEXT_COMPACTION_MODE_LATCH)s[c]=d/30,s[c+1]=d%30,c+=2;else switch(d){case r.TEXT_COMPACTION_MODE_LATCH:s[c++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,o=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=t[n++],i[c]=d,c++;break}}return r.decodeTextCompaction(s,i,c,a),n},r.decodeTextCompaction=function(t,n,a,s){for(var i=Hi.ALPHA,c=Hi.ALPHA,o=0;o<a;){var d=t[o],l="";switch(i){case Hi.ALPHA:if(d<26)l=String.fromCharCode(65+d);else switch(d){case 26:l=" ";break;case r.LL:i=Hi.LOWER;break;case r.ML:i=Hi.MIXED;break;case r.PS:c=i,i=Hi.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break;case Hi.LOWER:if(d<26)l=String.fromCharCode(97+d);else switch(d){case 26:l=" ";break;case r.AS:c=i,i=Hi.ALPHA_SHIFT;break;case r.ML:i=Hi.MIXED;break;case r.PS:c=i,i=Hi.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break;case Hi.MIXED:if(d<r.PL)l=r.MIXED_CHARS[d];else switch(d){case r.PL:i=Hi.PUNCT;break;case 26:l=" ";break;case r.LL:i=Hi.LOWER;break;case r.AL:i=Hi.ALPHA;break;case r.PS:c=i,i=Hi.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break;case Hi.PUNCT:if(d<r.PAL)l=r.PUNCT_CHARS[d];else switch(d){case r.PAL:i=Hi.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break;case Hi.ALPHA_SHIFT:if(i=c,d<26)l=String.fromCharCode(65+d);else switch(d){case 26:l=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break;case Hi.PUNCT_SHIFT:if(i=c,d<r.PAL)l=r.PUNCT_CHARS[d];else switch(d){case r.PAL:i=Hi.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Hi.ALPHA;break}break}l!==""&&s.append(l),o++}},r.byteCompaction=function(t,n,a,s,i){var c=new Lle,o=0,d=0,l=!1;switch(t){case r.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=n[s++];s<n[0]&&!l;)switch(u[o++]=h,d=900*d+h,h=n[s++],h){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:s--,l=!0;break;default:if(o%5===0&&o>0){for(var f=0;f<6;++f)c.write(Number(aA(d)>>aA(8*(5-f))));d=0,o=0}break}s===n[0]&&h<r.TEXT_COMPACTION_MODE_LATCH&&(u[o++]=h);for(var A=0;A<o;A++)c.write(u[A]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!l;){var g=n[s++];if(g<r.TEXT_COMPACTION_MODE_LATCH)o++,d=900*d+g;else switch(g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:s--,l=!0;break}if(o%5===0&&o>0){for(var f=0;f<6;++f)c.write(Number(aA(d)>>aA(8*(5-f))));d=0,o=0}}break}return i.append(Vu.decode(c.toByteArray(),a)),s},r.numericCompaction=function(t,n,a){for(var s=0,i=!1,c=new Int32Array(r.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var o=t[n++];if(n===t[0]&&(i=!0),o<r.TEXT_COMPACTION_MODE_LATCH)c[s]=o,s++;else switch(o){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(s%r.MAX_NUMERIC_CODEWORDS===0||o===r.NUMERIC_COMPACTION_MODE_LATCH||i)&&s>0&&(a.append(r.decodeBase900toBase10(c,s)),s=0)}return n},r.decodeBase900toBase10=function(t,n){for(var a=aA(0),s=0;s<n;s++)a+=r.EXP900[n-s-1]*aA(t[s]);var i=a.toString();if(i.charAt(0)!=="1")throw new pn;return i.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=TD()?Ule():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),Mg=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qle=(function(){function r(){}return r.decode=function(t,n,a,s,i,c,o){for(var d=new c4(t,n,a,s,i),l=null,u=null,h,f=!0;;f=!1){if(n!=null&&(l=r.getRowIndicatorColumn(t,d,n,!0,c,o)),s!=null&&(u=r.getRowIndicatorColumn(t,d,s,!1,c,o)),h=r.merge(l,u),h==null)throw kr.getNotFoundInstance();var A=h.getBoundingBox();if(f&&A!=null&&(A.getMinY()<d.getMinY()||A.getMaxY()>d.getMaxY()))d=A;else break}h.setBoundingBox(d);var g=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,l),h.setDetectionResultColumn(g,u);for(var m=l!=null,x=1;x<=g;x++){var y=m?x:g-x;if(h.getDetectionResultColumn(y)===void 0){var b=void 0;y===0||y===g?b=new n_(d,y===0):b=new ID(d),h.setDetectionResultColumn(y,b);for(var j=-1,S=j,w=d.getMinY();w<=d.getMaxY();w++){if(j=r.getStartColumn(h,y,w,m),j<0||j>d.getMaxX()){if(S===-1)continue;j=S}var E=r.detectCodeword(t,d.getMinX(),d.getMaxX(),m,j,w,c,o);E!=null&&(b.setCodeword(w,E),S=j,c=Math.min(c,E.getWidth()),o=Math.max(o,E.getWidth()))}}}return r.createDecoderResult(h)},r.merge=function(t,n){if(t==null&&n==null)return null;var a=r.getBarcodeMetadata(t,n);if(a==null)return null;var s=c4.merge(r.adjustBoundingBox(t),r.adjustBoundingBox(n));return new Ile(a,s)},r.adjustBoundingBox=function(t){var n,a;if(t==null)return null;var s=t.getRowHeights();if(s==null)return null;var i=r.getMax(s),c=0;try{for(var o=Mg(s),d=o.next();!d.done;d=o.next()){var l=d.value;if(c+=i-l,l>0)break}}catch(A){n={error:A}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),h=0;c>0&&u[h]==null;h++)c--;for(var f=0,h=s.length-1;h>=0&&(f+=i-s[h],!(s[h]>0));h--);for(var h=u.length-1;f>0&&u[h]==null;h--)f--;return t.getBoundingBox().addMissingRows(c,f,t.isLeft())},r.getMax=function(t){var n,a,s=-1;try{for(var i=Mg(t),c=i.next();!c.done;c=i.next()){var o=c.value;s=Math.max(s,o)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return s},r.getBarcodeMetadata=function(t,n){var a;if(t==null||(a=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var s;return n==null||(s=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==s.getColumnCount()&&a.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&a.getRowCount()!==s.getRowCount()?null:a},r.getRowIndicatorColumn=function(t,n,a,s,i,c){for(var o=new n_(n,s),d=0;d<2;d++)for(var l=d===0?1:-1,u=Math.trunc(Math.trunc(a.getX())),h=Math.trunc(Math.trunc(a.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=l){var f=r.detectCodeword(t,0,t.getWidth(),s,u,h,i,c);f!=null&&(o.setCodeword(h,f),s?u=f.getStartX():u=f.getEndX())}return o},r.adjustCodewordCount=function(t,n){var a=n[0][1],s=a.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-r.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(i<1||i>Js.MAX_CODEWORDS_IN_BARCODE)throw kr.getNotFoundInstance();a.setValue(i)}else s[0]!==i&&a.setValue(i)},r.createDecoderResult=function(t){var n=r.createBarcodeMatrix(t);r.adjustCodewordCount(t,n);for(var a=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],c=new Array,o=0;o<t.getBarcodeRowCount();o++)for(var d=0;d<t.getBarcodeColumnCount();d++){var l=n[o][d+1].getValue(),u=o*t.getBarcodeColumnCount()+d;l.length===0?a.push(u):l.length===1?s[u]=l[0]:(c.push(u),i.push(l))}for(var h=new Array(i.length),f=0;f<h.length;f++)h[f]=i[f];return r.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Js.toIntArray(a),Js.toIntArray(c),h)},r.createDecoderResultFromAmbiguousValues=function(t,n,a,s,i){for(var c=new Int32Array(s.length),o=100;o-- >0;){for(var d=0;d<c.length;d++)n[s[d]]=i[d][c[d]];try{return r.decodeCodewords(n,t,a)}catch(u){var l=u instanceof El;if(!l)throw u}if(c.length===0)throw El.getChecksumInstance();for(var d=0;d<c.length;d++)if(c[d]<i[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw El.getChecksumInstance()}throw El.getChecksumInstance()},r.createBarcodeMatrix=function(t){for(var n,a,s,i,c=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),o=0;o<c.length;o++)for(var d=0;d<c[o].length;d++)c[o][d]=new qg;var l=0;try{for(var u=Mg(t.getDetectionResultColumns()),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)try{for(var A=(s=void 0,Mg(f.getCodewords())),g=A.next();!g.done;g=A.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][l].setValue(m.getValue())}}}}catch(y){s={error:y}}finally{try{g&&!g.done&&(i=A.return)&&i.call(A)}finally{if(s)throw s.error}}l++}}catch(y){n={error:y}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return c},r.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},r.getStartColumn=function(t,n,a,s){var i,c,o=s?1:-1,d=null;if(r.isValidBarcodeColumn(t,n-o)&&(d=t.getDetectionResultColumn(n-o).getCodeword(a)),d!=null)return s?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(n).getCodewordNearby(a),d!=null)return s?d.getStartX():d.getEndX();if(r.isValidBarcodeColumn(t,n-o)&&(d=t.getDetectionResultColumn(n-o).getCodewordNearby(a)),d!=null)return s?d.getEndX():d.getStartX();for(var l=0;r.isValidBarcodeColumn(t,n-o);){n-=o;try{for(var u=(i=void 0,Mg(t.getDetectionResultColumn(n).getCodewords())),h=u.next();!h.done;h=u.next()){var f=h.value;if(f!=null)return(s?f.getEndX():f.getStartX())+o*l*(f.getEndX()-f.getStartX())}}catch(A){i={error:A}}finally{try{h&&!h.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}l++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},r.detectCodeword=function(t,n,a,s,i,c,o,d){i=r.adjustCodewordStartColumn(t,n,a,s,i,c);var l=r.getModuleBitCount(t,n,a,s,i,c);if(l==null)return null;var u,h=ii.sum(l);if(s)u=i+h;else{for(var f=0;f<l.length/2;f++){var A=l[f];l[f]=l[l.length-1-f],l[l.length-1-f]=A}u=i,i=u-h}if(!r.checkCodewordSkew(h,o,d))return null;var g=kle.getDecodedValue(l),m=Js.getCodeword(g);return m===-1?null:new Tle(i,u,r.getCodewordBucketNumber(g),m)},r.getModuleBitCount=function(t,n,a,s,i,c){for(var o=i,d=new Int32Array(8),l=0,u=s?1:-1,h=s;(s?o<a:o>=n)&&l<d.length;)t.get(o,c)===h?(d[l]++,o+=u):(l++,h=!h);return l===d.length||o===(s?a:n)&&l===d.length-1?d:null},r.getNumberOfECCodeWords=function(t){return 2<<t},r.adjustCodewordStartColumn=function(t,n,a,s,i,c){for(var o=i,d=s?-1:1,l=0;l<2;l++){for(;(s?o>=n:o<a)&&s===t.get(o,c);){if(Math.abs(i-o)>r.CODEWORD_SKEW_SIZE)return i;o+=d}d=-d,s=!s}return o},r.checkCodewordSkew=function(t,n,a){return n-r.CODEWORD_SKEW_SIZE<=t&&t<=a+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(t,n,a){if(t.length===0)throw pn.getFormatInstance();var s=1<<n+1,i=r.correctErrors(t,a,s);r.verifyCodewordCount(t,s);var c=Hle.decode(t,""+n);return c.setErrorsCorrected(i),c.setErasures(a.length),c},r.correctErrors=function(t,n,a){if(n!=null&&n.length>a/2+r.MAX_ERRORS||a<0||a>r.MAX_EC_CODEWORDS)throw El.getChecksumInstance();return r.errorCorrection.decode(t,a,n)},r.verifyCodewordCount=function(t,n){if(t.length<4)throw pn.getFormatInstance();var a=t[0];if(a>t.length)throw pn.getFormatInstance();if(a===0)if(n<t.length)t[0]=t.length-n;else throw pn.getFormatInstance()},r.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),a=0,s=n.length-1;!((t&1)!==a&&(a=t&1,s--,s<0));)n[s]++,t>>=1;return n},r.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},r.getCodewordBucketNumber_number=function(t){return r.getCodewordBucketNumber(r.getBitCountForCodeword(t))},r.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},r.toString=function(t){for(var n=new kS,a=0;a<t.length;a++){n.format("Row %2d: ",a);for(var s=0;s<t[a].length;s++){var i=t[a][s];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new ble,r})(),Wle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lx=(function(){function r(){}return r.prototype.decode=function(t,n){n===void 0&&(n=null);var a=r.decode(t,n,!1);if(a==null||a.length===0||a[0]==null)throw kr.getNotFoundInstance();return a[0]},r.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return r.decode(t,n,!0)}catch(a){throw a instanceof pn||a instanceof El?kr.getNotFoundInstance():a}},r.decode=function(t,n,a){var s,i,c=new Array,o=mle.detectMultiple(t,n,a);try{for(var d=Wle(o.getPoints()),l=d.next();!l.done;l=d.next()){var u=l.value,h=Qle.decode(o.getBits(),u[4],u[5],u[6],u[7],r.getMinCodewordWidth(u),r.getMaxCodewordWidth(u)),f=new ad(h.getText(),h.getRawBytes(),void 0,u,Sa.PDF_417);f.putMetadata(Qc.ERROR_CORRECTION_LEVEL,h.getECLevel());var A=h.getOther();A!=null&&f.putMetadata(Qc.PDF417_EXTRA_METADATA,A),c.push(f)}}catch(g){s={error:g}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(s)throw s.error}}return c.map(function(g){return g})},r.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},r.getMinWidth=function(t,n){return t==null||n==null?Ns.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},r.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(r.getMaxWidth(t[0],t[4]),r.getMaxWidth(t[6],t[2])*Js.MODULES_IN_CODEWORD/Js.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(t[1],t[5]),r.getMaxWidth(t[7],t[3])*Js.MODULES_IN_CODEWORD/Js.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(r.getMinWidth(t[0],t[4]),r.getMinWidth(t[6],t[2])*Js.MODULES_IN_CODEWORD/Js.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(t[1],t[5]),r.getMinWidth(t[7],t[3])*Js.MODULES_IN_CODEWORD/Js.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),$le=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),s_=(function(r){$le(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="ReaderException",t})(Wd),i_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kD=(function(){function r(){}return r.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},r.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},r.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(lo.TRY_HARDER)!==void 0,a=t==null?null:t.get(lo.POSSIBLE_FORMATS),s=new Array;if(a!=null){var i=a.some(function(c){return c===Sa.UPC_A||c===Sa.UPC_E||c===Sa.EAN_13||c===Sa.EAN_8||c===Sa.CODABAR||c===Sa.CODE_39||c===Sa.CODE_93||c===Sa.CODE_128||c===Sa.ITF||c===Sa.RSS_14||c===Sa.RSS_EXPANDED});i&&!n&&s.push(new qp(t)),a.includes(Sa.QR_CODE)&&s.push(new Rx),a.includes(Sa.DATA_MATRIX)&&s.push(new Mx),a.includes(Sa.AZTEC)&&s.push(new Px),a.includes(Sa.PDF_417)&&s.push(new Lx),i&&n&&s.push(new qp(t))}s.length===0&&(n||s.push(new qp(t)),s.push(new Rx),s.push(new Mx),s.push(new Px),s.push(new Lx),n&&s.push(new qp(t))),this.readers=s},r.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var a=i_(this.readers),s=a.next();!s.done;s=a.next()){var i=s.value;i.reset()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.decodeInternal=function(t){var n,a;if(this.readers===null)throw new s_("No readers where selected, nothing can be read.");try{for(var s=i_(this.readers),i=s.next();!i.done;i=s.next()){var c=i.value;try{return c.decode(t,this.hints)}catch(o){if(o instanceof s_)continue}}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}throw new kr("No MultiFormat Readers were able to detect the code.")},r})(),Vle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Vle(t,r);function t(n,a){n===void 0&&(n=null),a===void 0&&(a=500);var s=this,i=new kD;return i.setHints(n),s=r.call(this,i,a)||this,s}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t})(Lm);var zle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){zle(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Lx,n)||this}return t})(Lm);var Gle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Gle(t,r);function t(n){return n===void 0&&(n=500),r.call(this,new Rx,n)||this}return t})(Lm);var d4;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(d4||(d4={}));const Cv=d4;var _D=(function(){function r(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new fA(t,Int32Array.from([1])))}return r.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var a=n[n.length-1],s=this.field,i=n.length;i<=t;i++){var c=a.multiply(new fA(s,Int32Array.from([1,s.exp(i-1+s.getGeneratorBase())])));n.push(c),a=c}return n[t]},r.prototype.encode=function(t,n){if(n===0)throw new Ea("No error correction bytes");var a=t.length-n;if(a<=0)throw new Ea("No data bytes provided");var s=this.buildGenerator(n),i=new Int32Array(a);oo.arraycopy(t,0,i,0,a);var c=new fA(this.field,i);c=c.multiplyByMonomial(n,1);for(var o=c.divide(s)[1],d=o.getCoefficients(),l=n-d.length,u=0;u<l;u++)t[a+u]=0;oo.arraycopy(d,0,t,a+l,d.length)},r})(),Xg=(function(){function r(){}return r.applyMaskPenaltyRule1=function(t){return r.applyMaskPenaltyRule1Internal(t,!0)+r.applyMaskPenaltyRule1Internal(t,!1)},r.applyMaskPenaltyRule2=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i-1;c++)for(var o=a[c],d=0;d<s-1;d++){var l=o[d];l===o[d+1]&&l===a[c+1][d]&&l===a[c+1][d+1]&&n++}return r.N2*n},r.applyMaskPenaltyRule3=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i;c++)for(var o=0;o<s;o++){var d=a[c];o+6<s&&d[o]===1&&d[o+1]===0&&d[o+2]===1&&d[o+3]===1&&d[o+4]===1&&d[o+5]===0&&d[o+6]===1&&(r.isWhiteHorizontal(d,o-4,o)||r.isWhiteHorizontal(d,o+7,o+11))&&n++,c+6<i&&a[c][o]===1&&a[c+1][o]===0&&a[c+2][o]===1&&a[c+3][o]===1&&a[c+4][o]===1&&a[c+5][o]===0&&a[c+6][o]===1&&(r.isWhiteVertical(a,o,c-4,c)||r.isWhiteVertical(a,o,c+7,c+11))&&n++}return n*r.N3},r.isWhiteHorizontal=function(t,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var s=n;s<a;s++)if(t[s]===1)return!1;return!0},r.isWhiteVertical=function(t,n,a,s){a=Math.max(a,0),s=Math.min(s,t.length);for(var i=a;i<s;i++)if(t[i][n]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(t){for(var n=0,a=t.getArray(),s=t.getWidth(),i=t.getHeight(),c=0;c<i;c++)for(var o=a[c],d=0;d<s;d++)o[d]===1&&n++;var l=t.getHeight()*t.getWidth(),u=Math.floor(Math.abs(n*2-l)*10/l);return u*r.N4},r.getDataMaskBit=function(t,n,a){var s,i;switch(t){case 0:s=a+n&1;break;case 1:s=a&1;break;case 2:s=n%3;break;case 3:s=(a+n)%3;break;case 4:s=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:i=a*n,s=(i&1)+i%3;break;case 6:i=a*n,s=(i&1)+i%3&1;break;case 7:i=a*n,s=i%3+(a+n&1)&1;break;default:throw new Ea("Invalid mask pattern: "+t)}return s===0},r.applyMaskPenaltyRule1Internal=function(t,n){for(var a=0,s=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),c=t.getArray(),o=0;o<s;o++){for(var d=0,l=-1,u=0;u<i;u++){var h=n?c[o][u]:c[u][o];h===l?d++:(d>=5&&(a+=r.N1+(d-5)),d=1,l=h)}d>=5&&(a+=r.N1+(d-5))}return a},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),Kle=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qle=(function(){function r(t,n){this.width=t,this.height=n;for(var a=new Array(n),s=0;s!==n;s++)a[s]=new Uint8Array(t);this.bytes=a}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(t,n){return this.bytes[n][t]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(t,n,a){this.bytes[n][t]=a},r.prototype.setBoolean=function(t,n,a){this.bytes[n][t]=a?1:0},r.prototype.clear=function(t){var n,a;try{for(var s=Kle(this.bytes),i=s.next();!i.done;i=s.next()){var c=i.value;Xl.fill(c,t)}}catch(o){n={error:o}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},r.prototype.equals=function(t){if(!(t instanceof r))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var a=0,s=this.height;a<s;++a)for(var i=this.bytes[a],c=n.bytes[a],o=0,d=this.width;o<d;++o)if(i[o]!==c[o])return!1;return!0},r.prototype.toString=function(){for(var t=new bs,n=0,a=this.height;n<a;++n){for(var s=this.bytes[n],i=0,c=this.width;i<c;++i)switch(s[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},r})(),u4=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var t=new bs;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},r.prototype.setMode=function(t){this.mode=t},r.prototype.setECLevel=function(t){this.ecLevel=t},r.prototype.setVersion=function(t){this.version=t},r.prototype.setMaskPattern=function(t){this.maskPattern=t},r.prototype.setMatrix=function(t){this.matrix=t},r.isValidMaskPattern=function(t){return t>=0&&t<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),Xle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),vo=(function(r){Xle(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.kind="WriterException",t})(Wd),o_=(function(){function r(){}return r.clearMatrix=function(t){t.clear(255)},r.buildMatrix=function(t,n,a,s,i){r.clearMatrix(i),r.embedBasicPatterns(a,i),r.embedTypeInfo(n,s,i),r.maybeEmbedVersionInfo(a,i),r.embedDataBits(t,s,i)},r.embedBasicPatterns=function(t,n){r.embedPositionDetectionPatternsAndSeparators(n),r.embedDarkDotAtLeftBottomCorner(n),r.maybeEmbedPositionAdjustmentPatterns(t,n),r.embedTimingPatterns(n)},r.embedTypeInfo=function(t,n,a){var s=new wc;r.makeTypeInfoBits(t,n,s);for(var i=0,c=s.getSize();i<c;++i){var o=s.get(s.getSize()-1-i),d=r.TYPE_INFO_COORDINATES[i],l=d[0],u=d[1];if(a.setBoolean(l,u,o),i<8){var h=a.getWidth()-i-1,f=8;a.setBoolean(h,f,o)}else{var h=8,f=a.getHeight()-7+(i-8);a.setBoolean(h,f,o)}}},r.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var a=new wc;r.makeVersionInfoBits(t,a);for(var s=17,i=0;i<6;++i)for(var c=0;c<3;++c){var o=a.get(s);s--,n.setBoolean(i,n.getHeight()-11+c,o),n.setBoolean(n.getHeight()-11+c,i,o)}}},r.embedDataBits=function(t,n,a){for(var s=0,i=-1,c=a.getWidth()-1,o=a.getHeight()-1;c>0;){for(c===6&&(c-=1);o>=0&&o<a.getHeight();){for(var d=0;d<2;++d){var l=c-d;if(r.isEmpty(a.get(l,o))){var u=void 0;s<t.getSize()?(u=t.get(s),++s):u=!1,n!==255&&Xg.getDataMaskBit(n,l,o)&&(u=!u),a.setBoolean(l,o,u)}}o+=i}i=-i,o+=i,c-=2}if(s!==t.getSize())throw new vo("Not all bits consumed: "+s+"/"+t.getSize())},r.findMSBSet=function(t){return 32-Ns.numberOfLeadingZeros(t)},r.calculateBCHCode=function(t,n){if(n===0)throw new Ea("0 polynomial");var a=r.findMSBSet(n);for(t<<=a-1;r.findMSBSet(t)>=a;)t^=n<<r.findMSBSet(t)-a;return t},r.makeTypeInfoBits=function(t,n,a){if(!u4.isValidMaskPattern(n))throw new vo("Invalid mask pattern");var s=t.getBits()<<3|n;a.appendBits(s,5);var i=r.calculateBCHCode(s,r.TYPE_INFO_POLY);a.appendBits(i,10);var c=new wc;if(c.appendBits(r.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new vo("should not happen but we got: "+a.getSize())},r.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var a=r.calculateBCHCode(t.getVersionNumber(),r.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new vo("should not happen but we got: "+n.getSize())},r.isEmpty=function(t){return t===255},r.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var a=(n+1)%2;r.isEmpty(t.get(n,6))&&t.setNumber(n,6,a),r.isEmpty(t.get(6,n))&&t.setNumber(6,n,a)}},r.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new vo;t.setNumber(8,t.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(t,n,a){for(var s=0;s<8;++s){if(!r.isEmpty(a.get(t+s,n)))throw new vo;a.setNumber(t+s,n,0)}},r.embedVerticalSeparationPattern=function(t,n,a){for(var s=0;s<7;++s){if(!r.isEmpty(a.get(t,n+s)))throw new vo;a.setNumber(t,n+s,0)}},r.embedPositionAdjustmentPattern=function(t,n,a){for(var s=0;s<5;++s)for(var i=r.POSITION_ADJUSTMENT_PATTERN[s],c=0;c<5;++c)a.setNumber(t+c,n+s,i[c])},r.embedPositionDetectionPattern=function(t,n,a){for(var s=0;s<7;++s)for(var i=r.POSITION_DETECTION_PATTERN[s],c=0;c<7;++c)a.setNumber(t+c,n+s,i[c])},r.embedPositionDetectionPatternsAndSeparators=function(t){var n=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,t),r.embedPositionDetectionPattern(t.getWidth()-n,0,t),r.embedPositionDetectionPattern(0,t.getWidth()-n,t);var a=8;r.embedHorizontalSeparationPattern(0,a-1,t),r.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),r.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);var s=7;r.embedVerticalSeparationPattern(s,0,t),r.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),r.embedVerticalSeparationPattern(s,t.getHeight()-s,t)},r.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var a=t.getVersionNumber()-1,s=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a],i=0,c=s.length;i!==c;i++){var o=s[i];if(o>=0)for(var d=0;d!==c;d++){var l=s[d];l>=0&&r.isEmpty(n.get(l,o))&&r.embedPositionAdjustmentPattern(l-2,o-2,n)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),Yle=(function(){function r(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),l_=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(t){return Xg.applyMaskPenaltyRule1(t)+Xg.applyMaskPenaltyRule2(t)+Xg.applyMaskPenaltyRule3(t)+Xg.applyMaskPenaltyRule4(t)},r.encode=function(t,n,a){a===void 0&&(a=null);var s=r.DEFAULT_BYTE_MODE_ENCODING,i=a!==null&&a.get(Cv.CHARACTER_SET)!==void 0;i&&(s=a.get(Cv.CHARACTER_SET).toString());var c=this.chooseMode(t,s),o=new wc;if(c===xo.BYTE&&(i||r.DEFAULT_BYTE_MODE_ENCODING!==s)){var d=Kl.getCharacterSetECIByName(s);d!==void 0&&this.appendECI(d,o)}this.appendModeInfo(c,o);var l=new wc;this.appendBytes(t,c,l,s);var u;if(a!==null&&a.get(Cv.QR_VERSION)!==void 0){var h=Number.parseInt(a.get(Cv.QR_VERSION).toString(),10);u=lp.getVersionForNumber(h);var f=this.calculateBitsNeeded(c,o,l,u);if(!this.willFit(f,u,n))throw new vo("Data too big for requested version")}else u=this.recommendVersion(n,c,o,l);var A=new wc;A.appendBitArray(o);var g=c===xo.BYTE?l.getSizeInBytes():t.length;this.appendLengthInfo(g,u,c,A),A.appendBitArray(l);var m=u.getECBlocksForLevel(n),x=u.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,A);var y=this.interleaveWithECBytes(A,u.getTotalCodewords(),x,m.getNumBlocks()),b=new u4;b.setECLevel(n),b.setMode(c),b.setVersion(u);var j=u.getDimensionForVersion(),S=new qle(j,j),w=this.chooseMaskPattern(y,n,u,S);return b.setMaskPattern(w),o_.buildMatrix(y,n,u,w,S),b.setMatrix(S),b},r.recommendVersion=function(t,n,a,s){var i=this.calculateBitsNeeded(n,a,s,lp.getVersionForNumber(1)),c=this.chooseVersion(i,t),o=this.calculateBitsNeeded(n,a,s,c);return this.chooseVersion(o,t)},r.calculateBitsNeeded=function(t,n,a,s){return n.getSize()+t.getCharacterCountBits(s)+a.getSize()},r.getAlphanumericCode=function(t){return t<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[t]:-1},r.chooseMode=function(t,n){if(n===void 0&&(n=null),Kl.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return xo.KANJI;for(var a=!1,s=!1,i=0,c=t.length;i<c;++i){var o=t.charAt(i);if(r.isDigit(o))a=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)s=!0;else return xo.BYTE}return s?xo.ALPHANUMERIC:a?xo.NUMERIC:xo.BYTE},r.isOnlyDoubleByteKanji=function(t){var n;try{n=Vu.encode(t,Kl.SJIS)}catch{return!1}var a=n.length;if(a%2!==0)return!1;for(var s=0;s<a;s+=2){var i=n[s]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},r.chooseMaskPattern=function(t,n,a,s){for(var i=Number.MAX_SAFE_INTEGER,c=-1,o=0;o<u4.NUM_MASK_PATTERNS;o++){o_.buildMatrix(t,n,a,o,s);var d=this.calculateMaskPenalty(s);d<i&&(i=d,c=o)}return c},r.chooseVersion=function(t,n){for(var a=1;a<=40;a++){var s=lp.getVersionForNumber(a);if(r.willFit(t,s,n))return s}throw new vo("Data too big")},r.willFit=function(t,n,a){var s=n.getTotalCodewords(),i=n.getECBlocksForLevel(a),c=i.getTotalECCodewords(),o=s-c,d=(t+7)/8;return o>=d},r.terminateBits=function(t,n){var a=t*8;if(n.getSize()>a)throw new vo("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(var s=0;s<4&&n.getSize()<a;++s)n.appendBit(!1);var i=n.getSize()&7;if(i>0)for(var s=i;s<8;s++)n.appendBit(!1);for(var c=t-n.getSizeInBytes(),s=0;s<c;++s)n.appendBits((s&1)===0?236:17,8);if(n.getSize()!==a)throw new vo("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(t,n,a,s,i,c){if(s>=a)throw new vo("Block ID too large");var o=t%a,d=a-o,l=Math.floor(t/a),u=l+1,h=Math.floor(n/a),f=h+1,A=l-h,g=u-f;if(A!==g)throw new vo("EC bytes mismatch");if(a!==d+o)throw new vo("RS blocks mismatch");if(t!==(h+A)*d+(f+g)*o)throw new vo("Total bytes mismatch");s<d?(i[0]=h,c[0]=A):(i[0]=f,c[0]=g)},r.interleaveWithECBytes=function(t,n,a,s){var i,c,o,d;if(t.getSizeInBytes()!==a)throw new vo("Number of bits and data bytes does not match");for(var l=0,u=0,h=0,f=new Array,A=0;A<s;++A){var g=new Int32Array(1),m=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(n,a,s,A,g,m);var x=g[0],y=new Uint8Array(x);t.toBytes(8*l,y,0,x);var b=r.generateECBytes(y,m[0]);f.push(new Yle(y,b)),u=Math.max(u,x),h=Math.max(h,b.length),l+=g[0]}if(a!==l)throw new vo("Data bytes does not match offset");for(var j=new wc,A=0;A<u;++A)try{for(var S=(i=void 0,l_(f)),w=S.next();!w.done;w=S.next()){var E=w.value,y=E.getDataBytes();A<y.length&&j.appendBits(y[A],8)}}catch(ne){i={error:ne}}finally{try{w&&!w.done&&(c=S.return)&&c.call(S)}finally{if(i)throw i.error}}for(var A=0;A<h;++A)try{for(var I=(o=void 0,l_(f)),L=I.next();!L.done;L=I.next()){var E=L.value,b=E.getErrorCorrectionBytes();A<b.length&&j.appendBits(b[A],8)}}catch(ne){o={error:ne}}finally{try{L&&!L.done&&(d=I.return)&&d.call(I)}finally{if(o)throw o.error}}if(n!==j.getSizeInBytes())throw new vo("Interleaving error: "+n+" and "+j.getSizeInBytes()+" differ.");return j},r.generateECBytes=function(t,n){for(var a=t.length,s=new Int32Array(a+n),i=0;i<a;i++)s[i]=t[i]&255;new _D(Ud.QR_CODE_FIELD_256).encode(s,n);for(var c=new Uint8Array(n),i=0;i<n;i++)c[i]=s[a+i];return c},r.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},r.appendLengthInfo=function(t,n,a,s){var i=a.getCharacterCountBits(n);if(t>=1<<i)throw new vo(t+" is bigger than "+((1<<i)-1));s.appendBits(t,i)},r.appendBytes=function(t,n,a,s){switch(n){case xo.NUMERIC:r.appendNumericBytes(t,a);break;case xo.ALPHANUMERIC:r.appendAlphanumericBytes(t,a);break;case xo.BYTE:r.append8BitBytes(t,a,s);break;case xo.KANJI:r.appendKanjiBytes(t,a);break;default:throw new vo("Invalid mode: "+n)}},r.getDigit=function(t){return t.charCodeAt(0)-48},r.isDigit=function(t){var n=r.getDigit(t);return n>=0&&n<=9},r.appendNumericBytes=function(t,n){for(var a=t.length,s=0;s<a;){var i=r.getDigit(t.charAt(s));if(s+2<a){var c=r.getDigit(t.charAt(s+1)),o=r.getDigit(t.charAt(s+2));n.appendBits(i*100+c*10+o,10),s+=3}else if(s+1<a){var c=r.getDigit(t.charAt(s+1));n.appendBits(i*10+c,7),s+=2}else n.appendBits(i,4),s++}},r.appendAlphanumericBytes=function(t,n){for(var a=t.length,s=0;s<a;){var i=r.getAlphanumericCode(t.charCodeAt(s));if(i===-1)throw new vo;if(s+1<a){var c=r.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new vo;n.appendBits(i*45+c,11),s+=2}else n.appendBits(i,6),s++}},r.append8BitBytes=function(t,n,a){var s;try{s=Vu.encode(t,a)}catch(d){throw new vo(d)}for(var i=0,c=s.length;i!==c;i++){var o=s[i];n.appendBits(o,8)}},r.appendKanjiBytes=function(t,n){var a;try{a=Vu.encode(t,Kl.SJIS)}catch(h){throw new vo(h)}for(var s=a.length,i=0;i<s;i+=2){var c=a[i]&255,o=a[i+1]&255,d=c<<8&4294967295|o,l=-1;if(d>=33088&&d<=40956?l=d-33088:d>=57408&&d<=60351&&(l=d-49472),l===-1)throw new vo("Invalid byte sequence");var u=(l>>8)*192+(l&255);n.appendBits(u,13)}},r.appendECI=function(t,n){n.appendBits(xo.ECI.getBits(),4),n.appendBits(t.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Kl.UTF8.getName(),r})();var Jle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Jle(t,r);function t(n,a,s,i,c,o,d,l){var u=r.call(this,o,d)||this;if(u.yuvData=n,u.dataWidth=a,u.dataHeight=s,u.left=i,u.top=c,i+o>a||c+d>s)throw new Ea("Crop rectangle does not fit within image data.");return l&&u.reverseHorizontal(o,d),u}return t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var s=this.getWidth();(a==null||a.length<s)&&(a=new Uint8ClampedArray(s));var i=(n+this.top)*this.dataWidth+this.left;return oo.arraycopy(this.yuvData,i,a,0,s),a},t.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;var s=n*a,i=new Uint8ClampedArray(s),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return oo.arraycopy(this.yuvData,c,i,0,s),i;for(var o=0;o<a;o++){var d=o*n;oo.arraycopy(this.yuvData,c,i,d,n),c+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,s,i,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*a),i=this.yuvData,c=this.top*this.dataWidth+this.left,o=0;o<a;o++){for(var d=o*n,l=0;l<n;l++){var u=i[c+l*t.THUMBNAIL_SCALE_FACTOR]&255;s[d+l]=4278190080|u*65793}c+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return s},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,a){for(var s=this.yuvData,i=0,c=this.top*this.dataWidth+this.left;i<a;i++,c+=this.dataWidth)for(var o=c+n/2,d=c,l=c+n-1;d<o;d++,l--){var u=s[d];s[d]=s[l],s[l]=u}},t.prototype.invert=function(){return new I2(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(i0);var Zle=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Zle(t,r);function t(n,a,s,i,c,o,d){var l=r.call(this,a,s)||this;if(l.dataWidth=i,l.dataHeight=c,l.left=o,l.top=d,n.BYTES_PER_ELEMENT===4){for(var u=a*s,h=new Uint8ClampedArray(u),f=0;f<u;f++){var A=n[f],g=A>>16&255,m=A>>7&510,x=A&255;h[f]=(g+m+x)/4&255}l.luminances=h}else l.luminances=n;if(i===void 0&&(l.dataWidth=a),c===void 0&&(l.dataHeight=s),o===void 0&&(l.left=0),d===void 0&&(l.top=0),l.left+a>l.dataWidth||l.top+s>l.dataHeight)throw new Ea("Crop rectangle does not fit within image data.");return l}return t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var s=this.getWidth();(a==null||a.length<s)&&(a=new Uint8ClampedArray(s));var i=(n+this.top)*this.dataWidth+this.left;return oo.arraycopy(this.luminances,i,a,0,s),a},t.prototype.getMatrix=function(){var n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;var s=n*a,i=new Uint8ClampedArray(s),c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return oo.arraycopy(this.luminances,c,i,0,s),i;for(var o=0;o<a;o++){var d=o*n;oo.arraycopy(this.luminances,c,i,d,n),c+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return new t(this.luminances,s,i,this.dataWidth,this.dataHeight,this.left+n,this.top+a)},t.prototype.invert=function(){return new I2(this)},t})(i0);var ece=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),tce=(function(r){ece(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t})(Kl),rce=(function(){function r(){}return r.ISO_8859_1=Kl.ISO8859_1,r})(),h4,nce=301,ace=function(r,t){for(var n=1,a=0;a<255;a++)t[a]=n,r[n]=a,n*=2,n>=256&&(n^=nce);return{LOG:r,ALOG:t}};h4=ace([],[]),h4.LOG;h4.ALOG;var c_;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(c_||(c_={}));var d_=129,OD=230,sce=231,ice=235,oce=236,lce=237,cce=238,dce=239,uce=240,CC=254,hce=254,u_="[)>05",h_="[)>06",f_="",Oi=0,Lc=1,bd=2,zl=3,xc=4,td=5,fce=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Oi},r.prototype.encode=function(t){var n=Ah.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(n>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var a=t.getCurrentChar(),s=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode())switch(s){case td:t.writeCodeword(sce),t.signalEncoderChange(td);return;case Lc:t.writeCodeword(OD),t.signalEncoderChange(Lc);return;case zl:t.writeCodeword(cce),t.signalEncoderChange(zl);break;case bd:t.writeCodeword(dce),t.signalEncoderChange(bd);break;case xc:t.writeCodeword(uce),t.signalEncoderChange(xc);break;default:throw new Error("Illegal mode: "+s)}else Ah.isExtendedASCII(a)?(t.writeCodeword(ice),t.writeCodeword(a-128+1),t.pos++):(t.writeCodeword(a+1),t.pos++)}},r.prototype.encodeASCIIDigits=function(t,n){if(Ah.isDigit(t)&&Ah.isDigit(n)){var a=(t-48)*10+(n-48);return a+130}throw new Error("not digits: "+t+n)},r})(),Ace=(function(){function r(){}return r.prototype.getEncodingMode=function(){return td},r.prototype.encode=function(t){var n=new bs;for(n.append(0);t.hasMoreCharacters();){var a=t.getCurrentChar();n.append(a),t.pos++;var s=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(Oi);break}}var i=n.length()-1,c=1,o=t.getCodewordCount()+i+c;t.updateSymbolInfo(o);var d=t.getSymbolInfo().getDataCapacity()-o>0;if(t.hasMoreCharacters()||d)if(i<=249)n.setCharAt(0,qs.getCharAt(i));else if(i<=1555)n.setCharAt(0,qs.getCharAt(Math.floor(i/250)+249)),n.insert(1,qs.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var l=0,a=n.length();l<a;l++)t.writeCodeword(this.randomize255State(n.charAt(l).charCodeAt(0),t.getCodewordCount()+1))},r.prototype.randomize255State=function(t,n){var a=149*n%255+1,s=t+a;return s<=255?s:s-256},r})(),_S=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Lc},r.prototype.encodeMaximal=function(t){for(var n=new bs,a=0,s=t.pos,i=0;t.hasMoreCharacters();){var c=t.getCurrentChar();t.pos++,a=this.encodeChar(c,n),n.length()%3===0&&(s=t.pos,i=n.length())}if(i!==n.length()){var o=Math.floor(n.length()/3*2),d=Math.floor(t.getCodewordCount()+o+1);t.updateSymbolInfo(d);var l=t.getSymbolInfo().getDataCapacity()-d,u=Math.floor(n.length()%3);(u===2&&l!==2||u===1&&(a>3||l!==1))&&(t.pos=s)}n.length()>0&&t.writeCodeword(OD),this.handleEOD(t,n)},r.prototype.encode=function(t){for(var n=new bs;t.hasMoreCharacters();){var a=t.getCurrentChar();t.pos++;var s=this.encodeChar(a,n),i=Math.floor(n.length()/3)*2,c=t.getCodewordCount()+i;t.updateSymbolInfo(c);var o=t.getSymbolInfo().getDataCapacity()-c;if(!t.hasMoreCharacters()){var d=new bs;for(n.length()%3===2&&o!==2&&(s=this.backtrackOneCharacter(t,n,d,s));n.length()%3===1&&(s>3||o!==1);)s=this.backtrackOneCharacter(t,n,d,s);break}var l=n.length();if(l%3===0){var u=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(Oi);break}}}this.handleEOD(t,n)},r.prototype.backtrackOneCharacter=function(t,n,a,s){var i=n.length(),c=n.toString().substring(0,i-s);n.setLengthToZero(),n.append(c),t.pos--;var o=t.getCurrentChar();return s=this.encodeChar(o,a),t.resetSymbolInfo(),s},r.prototype.writeNextTriplet=function(t,n){t.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(3);n.setLengthToZero(),n.append(a)},r.prototype.handleEOD=function(t,n){var a=Math.floor(n.length()/3*2),s=n.length()%3,i=t.getCodewordCount()+a;t.updateSymbolInfo(i);var c=t.getSymbolInfo().getDataCapacity()-i;if(s===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(CC)}else if(c===1&&s===1){for(;n.length()>=3;)this.writeNextTriplet(t,n);t.hasMoreCharacters()&&t.writeCodeword(CC),t.pos--}else if(s===0){for(;n.length()>=3;)this.writeNextTriplet(t,n);(c>0||t.hasMoreCharacters())&&t.writeCodeword(CC)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Oi)},r.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=65&&t<=90)return n.append(t-65+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t<=95)return n.append(1),n.append(t-91+22),2;if(t<=127)return n.append(2),n.append(t-96),2;n.append("1");var a=2;return a+=this.encodeChar(t-128,n),a},r.prototype.encodeToCodewords=function(t){var n=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,a=n/256,s=n%256,i=new bs;return i.append(a),i.append(s),i.toString()},r})(),pce=(function(){function r(){}return r.prototype.getEncodingMode=function(){return xc},r.prototype.encode=function(t){for(var n=new bs;t.hasMoreCharacters();){var a=t.getCurrentChar();this.encodeChar(a,n),t.pos++;var s=n.length();if(s>=4){t.writeCodewords(this.encodeToCodewords(n.toString()));var i=n.toString().substring(4);n.setLengthToZero(),n.append(i);var c=Ah.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){t.signalEncoderChange(Oi);break}}}n.append(qs.getCharAt(31)),this.handleEOD(t,n)},r.prototype.handleEOD=function(t,n){try{var a=n.length();if(a===0)return;if(a===1){t.updateSymbolInfo();var s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>s&&(t.updateSymbolInfo(t.getCodewordCount()+1),s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=s&&s<=2)return}if(a>4)throw new Error("Count must not exceed 4");var c=a-1,o=this.encodeToCodewords(n.toString()),d=!t.hasMoreCharacters(),l=d&&c<=2;if(c<=2){t.updateSymbolInfo(t.getCodewordCount()+c);var s=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();s>=3&&(l=!1,t.updateSymbolInfo(t.getCodewordCount()+o.length))}l?(t.resetSymbolInfo(),t.pos-=c):t.writeCodewords(o)}finally{t.signalEncoderChange(Oi)}},r.prototype.encodeChar=function(t,n){t>=32&&t<=63?n.append(t):t>=64&&t<=94?n.append(qs.getCharAt(t-64)):Ah.illegalCharacter(qs.getCharAt(t))},r.prototype.encodeToCodewords=function(t){var n=t.length;if(n===0)throw new Error("StringBuilder must not be empty");var a=t.charAt(0).charCodeAt(0),s=n>=2?t.charAt(1).charCodeAt(0):0,i=n>=3?t.charAt(2).charCodeAt(0):0,c=n>=4?t.charAt(3).charCodeAt(0):0,o=(a<<18)+(s<<12)+(i<<6)+c,d=o>>16&255,l=o>>8&255,u=o&255,h=new bs;return h.append(d),n>=2&&h.append(l),n>=3&&h.append(u),h.toString()},r})(),mce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),gce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vi=(function(){function r(t,n,a,s,i,c,o,d){o===void 0&&(o=0),d===void 0&&(d=0),this.rectangular=t,this.dataCapacity=n,this.errorCodewords=a,this.matrixWidth=s,this.matrixHeight=i,this.dataRegions=c,this.rsBlockData=o,this.rsBlockError=d}return r.lookup=function(t,n,a,s,i){var c,o;n===void 0&&(n=0),a===void 0&&(a=null),s===void 0&&(s=null),i===void 0&&(i=!0);try{for(var d=gce(xce),l=d.next();!l.done;l=d.next()){var u=l.value;if(!(n===1&&u.rectangular)&&!(n===2&&!u.rectangular)&&!(a!=null&&(u.getSymbolWidth()<a.getWidth()||u.getSymbolHeight()<a.getHeight()))&&!(s!=null&&(u.getSymbolWidth()>s.getWidth()||u.getSymbolHeight()>s.getHeight()))&&t<=u.dataCapacity)return u}}catch(h){c={error:h}}finally{try{l&&!l.done&&(o=d.return)&&o.call(d)}finally{if(c)throw c.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},r})(),vce=(function(r){mce(t,r);function t(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},t})(vi),xce=[new vi(!1,3,5,8,8,1),new vi(!1,5,7,10,10,1),new vi(!0,5,7,16,6,1),new vi(!1,8,10,12,12,1),new vi(!0,10,11,14,6,2),new vi(!1,12,12,14,14,1),new vi(!0,16,14,24,10,1),new vi(!1,18,14,16,16,1),new vi(!1,22,18,18,18,1),new vi(!0,22,18,16,10,2),new vi(!1,30,20,20,20,1),new vi(!0,32,24,16,14,2),new vi(!1,36,24,22,22,1),new vi(!1,44,28,24,24,1),new vi(!0,49,28,22,14,2),new vi(!1,62,36,14,14,4),new vi(!1,86,42,16,16,4),new vi(!1,114,48,18,18,4),new vi(!1,144,56,20,20,4),new vi(!1,174,68,22,22,4),new vi(!1,204,84,24,24,4,102,42),new vi(!1,280,112,14,14,16,140,56),new vi(!1,368,144,16,16,16,92,36),new vi(!1,456,192,18,18,16,114,48),new vi(!1,576,224,20,20,16,144,56),new vi(!1,696,272,22,22,16,174,68),new vi(!1,816,336,24,24,16,136,56),new vi(!1,1050,408,18,18,36,175,68),new vi(!1,1304,496,20,20,36,163,62),new vce],yce=(function(){function r(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var n=t.split("").map(function(o){return o.charCodeAt(0)}),a=new bs,s=0,i=n.length;s<i;s++){var c=String.fromCharCode(n[s]&255);if(c==="?"&&t.charAt(s)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");a.append(c)}this.msg=a.toString(),this.shape=0,this.codewords=new bs,this.newEncoding=-1}return r.prototype.setSymbolShape=function(t){this.shape=t},r.prototype.setSizeConstraints=function(t,n){this.minSize=t,this.maxSize=n},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(t){this.codewords.append(t)},r.prototype.writeCodeword=function(t){this.codewords.append(t)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(t){this.newEncoding=t},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=vi.lookup(t,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),jce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),bce=(function(r){jce(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return zl},t.prototype.encode=function(n){for(var a=new bs;n.hasMoreCharacters();){var s=n.getCurrentChar();n.pos++,this.encodeChar(s,a);var i=a.length();if(i%3===0){this.writeNextTriplet(n,a);var c=Ah.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){n.signalEncoderChange(Oi);break}}}this.handleEOD(n,a)},t.prototype.encodeChar=function(n,a){switch(n){case 13:a.append(0);break;case 42:a.append(1);break;case 62:a.append(2);break;case 32:a.append(3);break;default:n>=48&&n<=57?a.append(n-48+4):n>=65&&n<=90?a.append(n-65+14):Ah.illegalCharacter(qs.getCharAt(n));break}return 1},t.prototype.handleEOD=function(n,a){n.updateSymbolInfo();var s=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),i=a.length();n.pos-=i,(n.getRemainingCharacters()>1||s>1||n.getRemainingCharacters()!==s)&&n.writeCodeword(hce),n.getNewEncoding()<0&&n.signalEncoderChange(Oi)},t})(_S),wce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Cce=(function(r){wce(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return bd},t.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=97&&n<=122)return a.append(n-97+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n>=91&&n<=95)return a.append(1),a.append(n-91+22),2;if(n===96)return a.append(2),a.append(0),2;if(n<=90)return a.append(2),a.append(n-65+1),2;if(n<=127)return a.append(2),a.append(n-123+27),2;a.append("1");var s=2;return s+=this.encodeChar(n-128,a),s},t})(_S),Ah=(function(){function r(){}return r.randomize253State=function(t){var n=149*t%253+1,a=d_+n;return a<=254?a:a-254},r.encodeHighLevel=function(t,n,a,s,i){n===void 0&&(n=0),a===void 0&&(a=null),s===void 0&&(s=null),i===void 0&&(i=!1);var c=new _S,o=[new fce,c,new Cce,new bce,new pce,new Ace],d=new yce(t);d.setSymbolShape(n),d.setSizeConstraints(a,s),t.startsWith(u_)&&t.endsWith(f_)?(d.writeCodeword(oce),d.setSkipAtEnd(2),d.pos+=u_.length):t.startsWith(h_)&&t.endsWith(f_)&&(d.writeCodeword(lce),d.setSkipAtEnd(2),d.pos+=h_.length);var l=Oi;for(i&&(c.encodeMaximal(d),l=d.getNewEncoding(),d.resetEncoderSignal());d.hasMoreCharacters();)o[l].encode(d),d.getNewEncoding()>=0&&(l=d.getNewEncoding(),d.resetEncoderSignal());var u=d.getCodewordCount();d.updateSymbolInfo();var h=d.getSymbolInfo().getDataCapacity();u<h&&l!==Oi&&l!==td&&l!==xc&&d.writeCodeword("");var f=d.getCodewords();for(f.length()<h&&f.append(d_);f.length()<h;)f.append(this.randomize253State(f.length()+1));return d.getCodewords().toString()},r.lookAheadTest=function(t,n,a){var s=this.lookAheadTestIntern(t,n,a);if(a===zl&&s===zl){for(var i=Math.min(n+3,t.length),c=n;c<i;c++)if(!this.isNativeX12(t.charCodeAt(c)))return Oi}else if(a===xc&&s===xc){for(var i=Math.min(n+4,t.length),c=n;c<i;c++)if(!this.isNativeEDIFACT(t.charCodeAt(c)))return Oi}return s},r.lookAheadTestIntern=function(t,n,a){if(n>=t.length)return a;var s;a===Oi?s=[0,1,1,1,1,1.25]:(s=[1,2,2,2,2,2.25],s[a]=0);for(var i=0,c=new Uint8Array(6),o=[];;){if(n+i===t.length){Xl.fill(c,0),Xl.fill(o,0);var d=this.findMinimums(s,o,Ns.MAX_VALUE,c),l=this.getMinimumCount(c);if(o[Oi]===d)return Oi;if(l===1){if(c[td]>0)return td;if(c[xc]>0)return xc;if(c[bd]>0)return bd;if(c[zl]>0)return zl}return Lc}var u=t.charCodeAt(n+i);if(i++,this.isDigit(u)?s[Oi]+=.5:this.isExtendedASCII(u)?(s[Oi]=Math.ceil(s[Oi]),s[Oi]+=2):(s[Oi]=Math.ceil(s[Oi]),s[Oi]++),this.isNativeC40(u)?s[Lc]+=2/3:this.isExtendedASCII(u)?s[Lc]+=8/3:s[Lc]+=4/3,this.isNativeText(u)?s[bd]+=2/3:this.isExtendedASCII(u)?s[bd]+=8/3:s[bd]+=4/3,this.isNativeX12(u)?s[zl]+=2/3:this.isExtendedASCII(u)?s[zl]+=13/3:s[zl]+=10/3,this.isNativeEDIFACT(u)?s[xc]+=3/4:this.isExtendedASCII(u)?s[xc]+=17/4:s[xc]+=13/4,this.isSpecialB256(u)?s[td]+=4:s[td]++,i>=4){if(Xl.fill(c,0),Xl.fill(o,0),this.findMinimums(s,o,Ns.MAX_VALUE,c),o[Oi]<this.min(o[td],o[Lc],o[bd],o[zl],o[xc]))return Oi;if(o[td]<o[Oi]||o[td]+1<this.min(o[Lc],o[bd],o[zl],o[xc]))return td;if(o[xc]+1<this.min(o[td],o[Lc],o[bd],o[zl],o[Oi]))return xc;if(o[bd]+1<this.min(o[td],o[Lc],o[xc],o[zl],o[Oi]))return bd;if(o[zl]+1<this.min(o[td],o[Lc],o[xc],o[bd],o[Oi]))return zl;if(o[Lc]+1<this.min(o[Oi],o[td],o[xc],o[bd])){if(o[Lc]<o[zl])return Lc;if(o[Lc]===o[zl]){for(var h=n+i+1;h<t.length;){var f=t.charCodeAt(h);if(this.isX12TermSep(f))return zl;if(!this.isNativeX12(f))break;h++}return Lc}}}}},r.min=function(t,n,a,s,i){var c=Math.min(t,Math.min(n,Math.min(a,s)));return i===void 0?c:Math.min(c,i)},r.findMinimums=function(t,n,a,s){for(var i=0;i<6;i++){var c=n[i]=Math.ceil(t[i]);a>c&&(a=c,Xl.fill(s,0)),a===c&&(s[i]=s[i]+1)}return a},r.getMinimumCount=function(t){for(var n=0,a=0;a<6;a++)n+=t[a];return n||0},r.isDigit=function(t){return t>=48&&t<=57},r.isExtendedASCII=function(t){return t>=128&&t<=255},r.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},r.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},r.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},r.isX12TermSep=function(t){return t===13||t===42||t===62},r.isNativeEDIFACT=function(t){return t>=32&&t<=94},r.isSpecialB256=function(t){return!1},r.determineConsecutiveDigitCount=function(t,n){n===void 0&&(n=0);for(var a=t.length,s=n;s<a&&this.isDigit(t.charCodeAt(s));)s++;return s-n},r.illegalCharacter=function(t){var n=Ns.toHexString(t.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+t+" (0x"+n+")")},r})(),NC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A_=(function(){function r(t){this.charset=t,this.name=t.name}return r.prototype.canEncode=function(t){try{return Vu.encode(t,this.charset)!=null}catch{return!1}},r})(),Nce=(function(){function r(t,n,a){var s,i,c,o,d,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Z){return new A_(tce.forName(Z))}),this.encoders=[];var u=[];u.push(new A_(rce.ISO_8859_1));for(var h=n!=null&&n.name.startsWith("UTF"),f=0;f<t.length;f++){var A=!1;try{for(var g=(s=void 0,NC(u)),m=g.next();!m.done;m=g.next()){var x=m.value,y=t.charAt(f),b=y.charCodeAt(0);if(b===a||x.canEncode(y)){A=!0;break}}}catch(Z){s={error:Z}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(s)throw s.error}}if(!A)try{for(var j=(c=void 0,NC(this.ENCODERS)),S=j.next();!S.done;S=j.next()){var x=S.value;if(x.canEncode(t.charAt(f))){u.push(x),A=!0;break}}}catch(Z){c={error:Z}}finally{try{S&&!S.done&&(o=j.return)&&o.call(j)}finally{if(c)throw c.error}}A||(h=!0)}if(u.length===1&&!h)this.encoders=[u[0]];else{this.encoders=[];var w=0;try{for(var E=NC(u),I=E.next();!I.done;I=E.next()){var x=I.value;this.encoders[w++]=x}}catch(Z){d={error:Z}}finally{try{I&&!I.done&&(l=E.return)&&l.call(E)}finally{if(d)throw d.error}}}var L=-1;if(n!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&n.name===this.encoders[f].name){L=f;break}}this.priorityEncoderIndex=L}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},r.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},r.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(t,n){if(!(n<this.length()))throw new Error("index must be less than length");return Vu.encode(qs.getCharAt(t),this.encoders[n].name)},r})(),Sce=3,Ece=(function(){function r(t,n,a){this.fnc1=a;var s=new Nce(t,n,a);if(s.length()===1)for(var i=0;i<this.bytes.length;i++){var c=t.charAt(i).charCodeAt(0);this.bytes[i]=c===a?1e3:c}else this.bytes=this.encodeMinimally(t,s,a)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(t,n){if(t+n-1>=this.bytes.length)return!1;for(var a=0;a<n;a++)if(this.isECI(t+a))return!1;return!0},r.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},r.prototype.subSequence=function(t,n){if(t<0||t>n||n>this.length())throw new Error(""+t);for(var a=new bs,s=t;s<n;s++){if(this.isECI(s))throw new Error("value at "+s+" is not a character but an ECI");a.append(this.charAt(s))}return a.toString()},r.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},r.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},r.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},r.prototype.addEdge=function(t,n,a){(t[n][a.encoderIndex]==null||t[n][a.encoderIndex].cachedTotalSize>a.cachedTotalSize)&&(t[n][a.encoderIndex]=a)},r.prototype.addEdges=function(t,n,a,s,i,c){var o=t.charAt(s).charCodeAt(0),d=0,l=n.length();n.getPriorityEncoderIndex()>=0&&(o===c||n.canEncode(o,n.getPriorityEncoderIndex()))&&(d=n.getPriorityEncoderIndex(),l=d+1);for(var u=d;u<l;u++)(o===c||n.canEncode(o,u))&&this.addEdge(a,s+1,new p_(o,n,u,i,c))},r.prototype.encodeMinimally=function(t,n,a){var s=t.length,i=new p_[s+1][n.length()];this.addEdges(t,n,i,0,null,a);for(var c=1;c<=s;c++){for(var o=0;o<n.length();o++)i[c][o]!=null&&c<s&&this.addEdges(t,n,i,c,i[c][o],a);for(var o=0;o<n.length();o++)i[c-1][o]=null}for(var d=-1,l=Ns.MAX_VALUE,o=0;o<n.length();o++)if(i[s][o]!=null){var u=i[s][o];u.cachedTotalSize<l&&(l=u.cachedTotalSize,d=o)}if(d<0)throw new Error('Failed to encode "'+t+'"');for(var h=[],f=i[s][d];f!=null;){if(f.isFNC1())h.unshift(1e3);else for(var A=n.encode(f.c,f.encoderIndex),c=A.length-1;c>=0;c--)h.unshift(A[c]&255);var g=f.previous===null?0:f.previous.encoderIndex;g!==f.encoderIndex&&h.unshift(256+n.getECIValue(f.encoderIndex)),f=f.previous}for(var m=[],c=0;c<m.length;c++)m[c]=h[c];return m},r})(),p_=(function(){function r(t,n,a,s,i){this.c=t,this.encoderSet=n,this.encoderIndex=a,this.previous=s,this.fnc1=i,this.c=t===i?1e3:t;var c=this.isFNC1()?1:n.encode(t,a).length,o=s===null?0:s.encoderIndex;o!==a&&(c+=Sce),s!=null&&(c+=s.cachedTotalSize),this.cachedTotalSize=c}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),Bce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();var m_;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(m_||(m_={}));(function(r){Bce(t,r);function t(n,a,s,i,c){var o=r.call(this,n,a,s)||this;return o.shape=i,o.macroId=c,o}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(Ece);var Ice=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(t){this.compact=t},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(t){this.size=t},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(t){this.layers=t},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(t){this.codeWords=t},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(t){this.matrix=t},r})(),g_=(function(){function r(){}return r.singletonList=function(t){return[t]},r.min=function(t,n){return t.sort(n)[0]},r})(),Tce=(function(){function r(t){this.previous=t}return r.prototype.getPrevious=function(){return this.previous},r})(),kce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),OS=(function(r){kce(t,r);function t(n,a,s){var i=r.call(this,n)||this;return i.value=a,i.bitCount=s,i}return t.prototype.appendTo=function(n,a){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,a){return new t(this,n,a)},t.prototype.addBinaryShift=function(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,a)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Ns.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t})(Tce),_ce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)s.hasOwnProperty(i)&&(a[i]=s[i])},r(t,n)};return function(t,n){r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Oce=(function(r){_ce(t,r);function t(n,a,s){var i=r.call(this,n,0,0)||this;return i.binaryShiftStart=a,i.binaryShiftByteCount=s,i}return t.prototype.appendTo=function(n,a){for(var s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+s],8)},t.prototype.addBinaryShift=function(n,a){return new t(this,n,a)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t})(OS);function Fce(r,t,n){return new Oce(r,t,n)}function Rg(r,t,n){return new OS(r,t,n)}var Pce=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],AA=0,Ux=1,$u=2,FD=3,Dh=4,Dce=new OS(null,0,0),SC=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Mce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Rce(r){var t,n;try{for(var a=Mce(r),s=a.next();!s.done;s=a.next()){var i=s.value;Xl.fill(i,-1)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r[AA][Dh]=0,r[Ux][Dh]=0,r[Ux][AA]=28,r[FD][Dh]=0,r[$u][Dh]=0,r[$u][AA]=15,r}var PD=Rce(Xl.createInt32Array(6,6)),Lce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uce=(function(){function r(t,n,a,s){this.token=t,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=s}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(t,n){var a=this.bitCount,s=this.token;if(t!==this.mode){var i=SC[this.mode][t];s=Rg(s,i&65535,i>>16),a+=i>>16}var c=t===$u?4:5;return s=Rg(s,n,c),new r(s,t,0,a+c)},r.prototype.shiftAndAppend=function(t,n){var a=this.token,s=this.mode===$u?4:5;return a=Rg(a,PD[this.mode][t],s),a=Rg(a,n,5),new r(a,this.mode,0,this.bitCount+s+5)},r.prototype.addBinaryShiftChar=function(t){var n=this.token,a=this.mode,s=this.bitCount;if(this.mode===Dh||this.mode===$u){var i=SC[a][AA];n=Rg(n,i&65535,i>>16),s+=i>>16,a=AA}var c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new r(n,a,this.binaryShiftByteCount+1,s+c);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(t+1)),o},r.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=Fce(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(n,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(SC[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=r.calculateBinaryShiftCost(t)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},r.prototype.toBitArray=function(t){for(var n,a,s=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())s.unshift(i);var c=new wc;try{for(var o=Lce(s),d=o.next();!d.done;d=o.next()){var l=d.value;l.appendTo(c,t)}}catch(u){n={error:u}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return c},r.prototype.toString=function(){return qs.format("%s bits=%d bytes=%d",Pce[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Dce,AA,0,0),r})();function Hce(r){var t=qs.getCharCode(" "),n=qs.getCharCode("."),a=qs.getCharCode(",");r[AA][t]=1;for(var s=qs.getCharCode("Z"),i=qs.getCharCode("A"),c=i;c<=s;c++)r[AA][c]=c-i+2;r[Ux][t]=1;for(var o=qs.getCharCode("z"),d=qs.getCharCode("a"),c=d;c<=o;c++)r[Ux][c]=c-d+2;r[$u][t]=1;for(var l=qs.getCharCode("9"),u=qs.getCharCode("0"),c=u;c<=l;c++)r[$u][c]=c-u+2;r[$u][a]=12,r[$u][n]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<h.length;f++)r[FD][qs.getCharCode(h[f])]=f;for(var A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<A.length;f++)qs.getCharCode(A[f])>0&&(r[Dh][qs.getCharCode(A[f])]=f);return r}var EC=Hce(Xl.createInt32Array(5,256)),Nv=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qce=(function(){function r(t){this.text=t}return r.prototype.encode=function(){for(var t=qs.getCharCode(" "),n=qs.getCharCode(`
`),a=g_.singletonList(Uce.INITIAL_STATE),s=0;s<this.text.length;s++){var i=void 0,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case qs.getCharCode("\r"):i=c===n?2:0;break;case qs.getCharCode("."):i=c===t?3:0;break;case qs.getCharCode(","):i=c===t?4:0;break;case qs.getCharCode(":"):i=c===t?5:0;break;default:i=0}i>0?(a=r.updateStateListForPair(a,s,i),s++):a=this.updateStateListForChar(a,s)}var o=g_.min(a,function(d,l){return d.getBitCount()-l.getBitCount()});return o.toBitArray(this.text)},r.prototype.updateStateListForChar=function(t,n){var a,s,i=[];try{for(var c=Nv(t),o=c.next();!o.done;o=c.next()){var d=o.value;this.updateStateForChar(d,n,i)}}catch(l){a={error:l}}finally{try{o&&!o.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return r.simplifyStates(i)},r.prototype.updateStateForChar=function(t,n,a){for(var s=this.text[n]&255,i=EC[t.getMode()][s]>0,c=null,o=0;o<=Dh;o++){var d=EC[o][s];if(d>0){if(c==null&&(c=t.endBinaryShift(n)),!i||o===t.getMode()||o===$u){var l=c.latchAndAppend(o,d);a.push(l)}if(!i&&PD[t.getMode()][o]>=0){var u=c.shiftAndAppend(o,d);a.push(u)}}}if(t.getBinaryShiftByteCount()>0||EC[t.getMode()][s]===0){var h=t.addBinaryShiftChar(n);a.push(h)}},r.updateStateListForPair=function(t,n,a){var s,i,c=[];try{for(var o=Nv(t),d=o.next();!d.done;d=o.next()){var l=d.value;this.updateStateForPair(l,n,a,c)}}catch(u){s={error:u}}finally{try{d&&!d.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}return this.simplifyStates(c)},r.updateStateForPair=function(t,n,a,s){var i=t.endBinaryShift(n);if(s.push(i.latchAndAppend(Dh,a)),t.getMode()!==Dh&&s.push(i.shiftAndAppend(Dh,a)),a===3||a===4){var c=i.latchAndAppend($u,16-a).latchAndAppend($u,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){var o=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(o)}},r.simplifyStates=function(t){var n,a,s,i,c=[];try{for(var o=Nv(t),d=o.next();!d.done;d=o.next()){var l=d.value,u=!0,h=function(x){if(x.isBetterThanOrEqualTo(l))return u=!1,"break";l.isBetterThanOrEqualTo(x)&&(c=c.filter(function(y){return y!==x}))};try{for(var f=(s=void 0,Nv(c)),A=f.next();!A.done;A=f.next()){var g=A.value,m=h(g);if(m==="break")break}}catch(x){s={error:x}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}u&&c.push(l)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return c},r})(),Wce=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(t){return r.encode(t,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(t,n,a){var s=new Qce(t).encode(),i=Ns.truncDivision(s.getSize()*n,100)+11,c=s.getSize()+i,o,d,l,u,h;if(a!==r.DEFAULT_AZTEC_LAYERS){if(o=a<0,d=Math.abs(a),d>(o?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ea(qs.format("Illegal value %s for layers",a));l=r.totalBitsInLayer(d,o),u=r.WORD_SIZE[d];var f=l-l%u;if(h=r.stuffBits(s,u),h.getSize()+i>f)throw new Ea("Data to large for user specified layer");if(o&&h.getSize()>u*64)throw new Ea("Data to large for user specified layer")}else{u=0,h=null;for(var A=0;;A++){if(A>r.MAX_NB_BITS)throw new Ea("Data too large for an Aztec code");if(o=A<=3,d=o?A+1:A,l=r.totalBitsInLayer(d,o),!(c>l)){(h==null||u!==r.WORD_SIZE[d])&&(u=r.WORD_SIZE[d],h=r.stuffBits(s,u));var f=l-l%u;if(!(o&&h.getSize()>u*64)&&h.getSize()+i<=f)break}}}var g=r.generateCheckWords(h,l,u),m=h.getSize()/u,x=r.generateModeMessage(o,d,m),y=(o?11:14)+d*4,b=new Int32Array(y),j;if(o){j=y;for(var A=0;A<b.length;A++)b[A]=A}else{j=y+1+2*Ns.truncDivision(Ns.truncDivision(y,2)-1,15);for(var S=Ns.truncDivision(y,2),w=Ns.truncDivision(j,2),A=0;A<S;A++){var E=A+Ns.truncDivision(A,15);b[S-A-1]=w-E-1,b[S+A]=w+E+1}}for(var I=new Hh(j),A=0,L=0;A<d;A++){for(var Z=(d-A)*4+(o?9:12),ne=0;ne<Z;ne++)for(var G=ne*2,le=0;le<2;le++)g.get(L+G+le)&&I.set(b[A*2+le],b[A*2+ne]),g.get(L+Z*2+G+le)&&I.set(b[A*2+ne],b[y-1-A*2-le]),g.get(L+Z*4+G+le)&&I.set(b[y-1-A*2-le],b[y-1-A*2-ne]),g.get(L+Z*6+G+le)&&I.set(b[y-1-A*2-ne],b[A*2+le]);L+=Z*8}if(r.drawModeMessage(I,o,j,x),o)r.drawBullsEye(I,Ns.truncDivision(j,2),5);else{r.drawBullsEye(I,Ns.truncDivision(j,2),7);for(var A=0,ne=0;A<Ns.truncDivision(y,2)-1;A+=15,ne+=16)for(var le=Ns.truncDivision(j,2)&1;le<j;le+=2)I.set(Ns.truncDivision(j,2)-ne,le),I.set(Ns.truncDivision(j,2)+ne,le),I.set(le,Ns.truncDivision(j,2)-ne),I.set(le,Ns.truncDivision(j,2)+ne)}var V=new Ice;return V.setCompact(o),V.setSize(j),V.setLayers(d),V.setCodeWords(m),V.setMatrix(I),V},r.drawBullsEye=function(t,n,a){for(var s=0;s<a;s+=2)for(var i=n-s;i<=n+s;i++)t.set(i,n-s),t.set(i,n+s),t.set(n-s,i),t.set(n+s,i);t.set(n-a,n-a),t.set(n-a+1,n-a),t.set(n-a,n-a+1),t.set(n+a,n-a),t.set(n+a,n-a+1),t.set(n+a,n+a-1)},r.generateModeMessage=function(t,n,a){var s=new wc;return t?(s.appendBits(n-1,2),s.appendBits(a-1,6),s=r.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(a-1,11),s=r.generateCheckWords(s,40,4)),s},r.drawModeMessage=function(t,n,a,s){var i=Ns.truncDivision(a,2);if(n)for(var c=0;c<7;c++){var o=i-3+c;s.get(c)&&t.set(o,i-5),s.get(c+7)&&t.set(i+5,o),s.get(20-c)&&t.set(o,i+5),s.get(27-c)&&t.set(i-5,o)}else for(var c=0;c<10;c++){var o=i-5+c+Ns.truncDivision(c,5);s.get(c)&&t.set(o,i-7),s.get(c+10)&&t.set(i+7,o),s.get(29-c)&&t.set(o,i+7),s.get(39-c)&&t.set(i-7,o)}},r.generateCheckWords=function(t,n,a){var s,i,c=t.getSize()/a,o=new _D(r.getGF(a)),d=Ns.truncDivision(n,a),l=r.bitsToWords(t,a,d);o.encode(l,d-c);var u=n%a,h=new wc;h.appendBits(0,u);try{for(var f=Wce(Array.from(l)),A=f.next();!A.done;A=f.next()){var g=A.value;h.appendBits(g,a)}}catch(m){s={error:m}}finally{try{A&&!A.done&&(i=f.return)&&i.call(f)}finally{if(s)throw s.error}}return h},r.bitsToWords=function(t,n,a){var s=new Int32Array(a),i,c;for(i=0,c=t.getSize()/n;i<c;i++){for(var o=0,d=0;d<n;d++)o|=t.get(i*n+d)?1<<n-d-1:0;s[i]=o}return s},r.getGF=function(t){switch(t){case 4:return Ud.AZTEC_PARAM;case 6:return Ud.AZTEC_DATA_6;case 8:return Ud.AZTEC_DATA_8;case 10:return Ud.AZTEC_DATA_10;case 12:return Ud.AZTEC_DATA_12;default:throw new Ea("Unsupported word size "+t)}},r.stuffBits=function(t,n){for(var a=new wc,s=t.getSize(),i=(1<<n)-2,c=0;c<s;c+=n){for(var o=0,d=0;d<n;d++)(c+d>=s||t.get(c+d))&&(o|=1<<n-1-d);(o&i)===i?(a.appendBits(o&i,n),c--):(o&i)===0?(a.appendBits(o|1,n),c--):a.appendBits(o,n)}return a},r.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var $ce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Vce=(function(r){$ce(t,r);function t(n){var a=r.call(this,n.width,n.height)||this;return a.canvas=n,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(n),a}return t.makeBufferFromCanvasImageData=function(n){var a;try{a=n.getContext("2d",{willReadFrequently:!0})}catch{a=n.getContext("2d")}if(!a)throw new Error("Couldn't get canvas context.");var s=a.getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(s.data,n.width,n.height)},t.toGrayscaleBuffer=function(n,a,s){for(var i=new Uint8ClampedArray(a*s),c=0,o=0,d=n.length;c<d;c+=4,o++){var l=void 0,u=n[c+3];if(u===0)l=255;else{var h=n[c],f=n[c+1],A=n[c+2];l=306*h+601*f+117*A+512>>10}i[o]=l}return i},t.prototype.getRow=function(n,a){if(n<0||n>=this.getHeight())throw new Ea("Requested row is outside the image: "+n);var s=this.getWidth(),i=n*s;return a===null?a=this.buffer.slice(i,i+s):(a.length<s&&(a=new Uint8ClampedArray(s)),a.set(this.buffer.slice(i,i+s))),a},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,a,s,i){return r.prototype.crop.call(this,n,a,s,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new I2(this)},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var a=this.getTempCanvasElement();if(!a)throw new Error("Could not create a Canvas element.");var s=n*t.DEGREE_TO_RADIANS,i=this.canvas.width,c=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(s))*i+Math.abs(Math.sin(s))*c),d=Math.ceil(Math.abs(Math.sin(s))*i+Math.abs(Math.cos(s))*c);a.width=o,a.height=d;var l=a.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(o/2,d/2),l.rotate(s),l.drawImage(this.canvas,i/-2,c/-2),this.buffer=t.makeBufferFromCanvasImageData(a),this},t.DEGREE_TO_RADIANS=Math.PI/180,t})(i0);function DD(){return typeof navigator<"u"}function zce(){return DD()&&!!navigator.mediaDevices}function Gce(){return!!(zce()&&navigator.mediaDevices.enumerateDevices)}var Yp=function(){return Yp=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Yp.apply(this,arguments)},zo=function(r,t,n,a){function s(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{l(a.next(u))}catch(h){c(h)}}function d(u){try{l(a.throw(u))}catch(h){c(h)}}function l(u){u.done?i(u.value):s(u.value).then(o,d)}l((a=a.apply(r,t||[])).next())})},Go=function(r,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(l){return function(u){return d([l,u])}}function d(l){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(r,n)}catch(u){l=[6,u],s=0}finally{a=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},BC=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&r[t],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kce={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Um=(function(){function r(t,n,a){n===void 0&&(n=new Map),a===void 0&&(a={}),this.reader=t,this.hints=n,this.options=Yp(Yp({},Kce),a)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(t){this.hints.set(lo.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),r.addVideoSource=function(t,n){try{t.srcObject=n}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(t,n){return zo(this,void 0,void 0,function(){return Go(this,function(a){switch(a.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return a.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(t){var n,a,s=t.getVideoTracks();try{for(var i=BC(s),c=i.next();!c.done;c=i.next()){var o=c.value;if(r.mediaStreamIsTorchCompatibleTrack(o))return!0}}catch(d){n={error:d}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(t){try{var n=t.getCapabilities();return"torch"in n}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},r.getMediaElement=function(t,n){var a=document.getElementById(t);if(!a)throw new pl("element with id '".concat(t,"' not found"));if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new pl("element with id '".concat(t,"' must be an ").concat(n," element"));return a},r.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return r.getMediaElement(t,"video");if(!t&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return r.getMediaElement(t,"img");if(typeof t>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(t){var n=r.createVideoElement(t);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},r.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(t){var n=new Vce(t),a=new yD(n);return new xD(a)},r.drawImageOnCanvas=function(t,n){t.drawImage(n,0,0)},r.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(t){if(!t)throw new pl("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),a=r.getMediaElementDimensions(t),s=a.width,i=a.height;return n.style.width=s+"px",n.style.height=i+"px",n.width=s,n.height=i,n},r.tryPlayVideo=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t.play()];case 2:return a.sent(),[2,!0];case 3:return n=a.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(t){var n=r.createCaptureCanvas(t),a=n.getContext("2d");if(!a)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(a,t),n},r.createBinaryBitmapFromMediaElem=function(t){var n=r.createCanvasFromMediaElement(t);return r.createBinaryBitmapFromCanvas(n)},r.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},r.listVideoInputDevices=function(){return zo(this,void 0,void 0,function(){var t,n,a,s,i,c,o,d,l,u,h,f;return Go(this,function(A){switch(A.label){case 0:if(!DD())throw new Error("Can't enumerate devices, navigator is not present.");if(!Gce())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=A.sent(),n=[];try{for(a=BC(t),s=a.next();!s.done;s=a.next())i=s.value,c=i.kind==="video"?"videoinput":i.kind,c==="videoinput"&&(o=i.deviceId||i.id,d=i.label||"Video device ".concat(n.length+1),l=i.groupId,u={deviceId:o,label:d,kind:c,groupId:l},n.push(u))}catch(g){h={error:g}}finally{try{s&&!s.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}return[2,n]}})})},r.findDeviceById=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return[4,r.listVideoInputDevices()];case 1:return n=a.sent(),n?[2,n.find(function(s){return s.deviceId===t})]:[2]}})})},r.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(t){t.getTracks().forEach(function(n){return n.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(t,n){return zo(this,void 0,void 0,function(){var a;return Go(this,function(s){switch(s.label){case 0:return[4,r.tryPlayVideo(t)];case 1:return a=s.sent(),a?[2,!0]:[2,new Promise(function(i,c){var o=setTimeout(function(){r.isVideoPlaying(t)||(c(!1),t.removeEventListener("canplay",d))},n),d=function(){r.tryPlayVideo(t).then(function(l){clearTimeout(o),t.removeEventListener("canplay",d),i(l)})};t.addEventListener("canplay",d)})]}})})},r.attachStreamToVideo=function(t,n,a){return a===void 0&&(a=5e3),zo(this,void 0,void 0,function(){var s;return Go(this,function(i){switch(i.label){case 0:return s=r.prepareVideoElement(n),r.addVideoSource(s,t),[4,r.playVideoOnLoadAsync(s,a)];case 1:return i.sent(),[2,s]}})})},r._waitImageLoad=function(t){return new Promise(function(n,a){var s=1e4,i=setTimeout(function(){r.isImageLoaded(t)||(t.removeEventListener("load",c),a())},s),c=function(){clearTimeout(i),t.removeEventListener("load",c),n()};t.addEventListener("load",c)})},r.checkCallbackFnOrThrow=function(t){if(!t)throw new pl("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(n){return n.stop()}),t=void 0},r.prototype.decode=function(t){var n=r.createCanvasFromMediaElement(t);return this.decodeFromCanvas(n)},r.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},r.prototype.decodeFromCanvas=function(t){var n=r.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(n)},r.prototype.decodeFromImageElement=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(!t)throw new pl("An image element must be provided.");return n=r.prepareImageElement(t),[4,this._decodeOnLoadImage(n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromImageUrl=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:if(!t)throw new pl("An URL must be provided.");n=r.prepareImageElement(),n.src=t,a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,a.sent()];case 3:return r.destroyImageElement(n),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(t,n,a){return zo(this,void 0,void 0,function(){var s,i;return Go(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),[4,this.getUserMedia(t)];case 1:s=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.decodeFromStream(s,n,a)];case 3:return[2,c.sent()];case 4:throw i=c.sent(),r.disposeMediaStream(s),i;case 5:return[2]}})})},r.prototype.decodeFromStream=function(t,n,a){return zo(this,void 0,void 0,function(){var s,i,c,o,d,l,u,h,f,A=this;return Go(this,function(g){switch(g.label){case 0:return r.checkCallbackFnOrThrow(a),s=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(t,n,s)];case 1:return i=g.sent(),c=function(){r.disposeMediaStream(t),r.cleanVideoSource(i)},o=this.scan(i,a,c),d=t.getVideoTracks(),l=Yp(Yp({},o),{stop:function(){o.stop()},streamVideoConstraintsApply:function(m,x){return zo(this,void 0,void 0,function(){var y,b,j,S,w,E,I;return Go(this,function(L){switch(L.label){case 0:y=x?d.filter(x):d,L.label=1;case 1:L.trys.push([1,6,7,8]),b=BC(y),j=b.next(),L.label=2;case 2:return j.done?[3,5]:(S=j.value,[4,S.applyConstraints(m)]);case 3:L.sent(),L.label=4;case 4:return j=b.next(),[3,2];case 5:return[3,8];case 6:return w=L.sent(),E={error:w},[3,8];case 7:try{j&&!j.done&&(I=b.return)&&I.call(b)}finally{if(E)throw E.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(m){return d.find(m).getConstraints()},streamVideoSettingsGet:function(m){return d.find(m).getSettings()},streamVideoCapabilitiesGet:function(m){return d.find(m).getCapabilities()}}),u=r.mediaStreamIsTorchCompatible(t),u&&(h=d==null?void 0:d.find(function(m){return r.mediaStreamIsTorchCompatibleTrack(m)}),f=function(m){return zo(A,void 0,void 0,function(){return Go(this,function(x){switch(x.label){case 0:return[4,r.mediaStreamSetTorch(h,m)];case 1:return x.sent(),[2]}})})},l.switchTorch=f,l.stop=function(){return zo(A,void 0,void 0,function(){return Go(this,function(m){switch(m.label){case 0:return o.stop(),[4,f(!1)];case 1:return m.sent(),[2]}})})}),[2,l]}})})},r.prototype.decodeFromVideoDevice=function(t,n,a){return zo(this,void 0,void 0,function(){var s,i;return Go(this,function(c){switch(c.label){case 0:return r.checkCallbackFnOrThrow(a),t?s={deviceId:{exact:t}}:s={facingMode:"environment"},i={video:s},[4,this.decodeFromConstraints(i,n,a)];case 1:return[2,c.sent()]}})})},r.prototype.decodeFromVideoElement=function(t,n){return zo(this,void 0,void 0,function(){var a,s;return Go(this,function(i){switch(i.label){case 0:if(r.checkCallbackFnOrThrow(n),!t)throw new pl("A video element must be provided.");return a=r.prepareVideoElement(t),s=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,s)];case 1:return i.sent(),[2,this.scan(a,n)]}})})},r.prototype.decodeFromVideoUrl=function(t,n){return zo(this,void 0,void 0,function(){var a,s,i,c;return Go(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(n),!t)throw new pl("An URL must be provided.");return a=r.prepareVideoElement(),a.src=t,s=function(){r.cleanVideoSource(a)},i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(a,i)];case 1:return o.sent(),c=this.scan(a,n,s),[2,c]}})})},r.prototype.decodeOnceFromConstraints=function(t,n){return zo(this,void 0,void 0,function(){var a;return Go(this,function(s){switch(s.label){case 0:return[4,this.getUserMedia(t)];case 1:return a=s.sent(),[4,this.decodeOnceFromStream(a,n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromStream=function(t,n){return zo(this,void 0,void 0,function(){var a,s,i;return Go(this,function(c){switch(c.label){case 0:return a=!!n,[4,r.attachStreamToVideo(t,n)];case 1:s=c.sent(),c.label=2;case 2:return c.trys.push([2,,4,5]),[4,this.scanOneResult(s)];case 3:return i=c.sent(),[2,i];case 4:return a||r.cleanVideoSource(s),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(t,n){return zo(this,void 0,void 0,function(){var a,s;return Go(this,function(i){switch(i.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},s={video:a},[4,this.decodeOnceFromConstraints(s,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(t){return zo(this,void 0,void 0,function(){var n,a;return Go(this,function(s){switch(s.label){case 0:if(!t)throw new pl("A video element must be provided.");return n=r.prepareVideoElement(t),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),[4,this.scanOneResult(n)];case 2:return[2,s.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(t){return zo(this,void 0,void 0,function(){var n,a;return Go(this,function(s){switch(s.label){case 0:if(!t)throw new pl("An URL must be provided.");n=r.prepareVideoElement(),n.src=t,a=this.decodeOnceFromVideoElement(n),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,a];case 2:return[2,s.sent()];case 3:return r.cleanVideoSource(n),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(t,n,a,s){var i=this;return n===void 0&&(n=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),new Promise(function(c,o){i.scan(t,function(d,l,u){if(d){c(d),u.stop();return}if(l){if(l instanceof kr&&n||l instanceof El&&a||l instanceof pn&&s)return;u.stop(),o(l)}})})},r.prototype.scan=function(t,n,a){var s=this;r.checkCallbackFnOrThrow(n);var i=r.createCaptureCanvas(t),c;try{c=i.getContext("2d",{willReadFrequently:!0})}catch{c=i.getContext("2d")}if(!c)throw new Error("Couldn't create canvas for visual element scan.");var o=function(){c=void 0,i=void 0},d=!1,l,u=function(){d=!0,clearTimeout(l),o(),a&&a()},h={stop:u},f=function(){if(!d)try{r.drawImageOnCanvas(c,t);var A=s.decodeFromCanvas(i);n(A,void 0,h),l=setTimeout(f,s.options.delayBetweenScanSuccess)}catch(y){n(void 0,y,h);var g=y instanceof El,m=y instanceof pn,x=y instanceof kr;if(g||m||x){l=setTimeout(f,s.options.delayBetweenScanAttempts);return}o(),a&&a(y)}};return f(),h},r.prototype._decodeOnLoadImage=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return n=r.isImageLoaded(t),n?[3,2]:[4,r._waitImageLoad(t)];case 1:a.sent(),a.label=2;case 2:return[2,this.decode(t)]}})})},r.prototype.getUserMedia=function(t){return zo(this,void 0,void 0,function(){var n;return Go(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),r.streamTracker.push(n),[2,n]}})})},r.streamTracker=[],r})(),qce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){qce(t,r);function t(n,a){return r.call(this,new Px,n,a)||this}return t})(Um);var Xce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Xce(t,r);function t(n,a){return r.call(this,new qp(n),n,a)||this}return t})(Um);var Yce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){Yce(t,r);function t(n,a){return r.call(this,new Mx,n,a)||this}return t})(Um);var Jce=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),Zce=(function(r){Jce(t,r);function t(n,a){var s=this,i=new kD;return i.setHints(n),s=r.call(this,i,n,a)||this,s.reader=i,s}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(n){this.hints.set(lo.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},t})(Um),ede=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){ede(t,r);function t(n,a){return r.call(this,new Lx,n,a)||this}return t})(Um);var tde=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function a(){this.constructor=t}t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})();(function(r){tde(t,r);function t(n,a){return r.call(this,new Rx,n,a)||this}return t})(Um);const rde=()=>{const r=Ma(),[t,n]=C.useState(""),[a,s]=C.useState(null),[i,c]=C.useState(!1),[o,d]=C.useState(null),l=C.useRef(null),u=C.useRef(null),h=C.useRef(null),[f,A]=C.useState(!1);C.useEffect(()=>{l.current&&l.current.focus()},[]);const g=C.useCallback(()=>{var j;try{(j=h.current)==null||j.reset()}catch{}finally{h.current=null,A(!1)}},[]);C.useEffect(()=>()=>{g()},[g]);const m=async j=>{if(!j||j.length<5){d("Please enter a valid barcode (at least 5 characters)");return}c(!0),d(null),s(null);try{const S=await kh.lookupBarcode(j);s(S),n("")}catch(S){const w=(S==null?void 0:S.message)||"Barcode not found";d(w),s(null)}finally{c(!1)}},x=C.useCallback(async()=>{if(d(null),s(null),!u.current){d("Camera preview not available");return}g();const j=new Zce;h.current=j,A(!0);try{await j.decodeFromConstraints({video:{facingMode:{ideal:"environment"}}},u.current,(S,w)=>{var E;if(S){const I=(E=S.getText())==null?void 0:E.trim();I&&(g(),m(I))}})}catch(S){g();const w=(S==null?void 0:S.name)==="NotAllowedError"?"Camera permission denied. Please allow camera access and try again.":(S==null?void 0:S.name)==="NotFoundError"?"No camera found on this device.":(S==null?void 0:S.message)||"Failed to start camera scanner";d(w)}},[g]),y=j=>{j.preventDefault(),t.trim()&&m(t.trim())},b=()=>{a&&r("/mobile/waste-entry",{state:{barcode:a.barcode,companyId:a.companyId,hcfId:a.hcfId,wasteColor:a.wasteColor}})};return e.jsx($h,{title:"Scan Barcode",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-scan",children:[e.jsxs("div",{className:"mobile-scan-camera-section",children:[e.jsx("div",{className:"mobile-scan-camera-actions",children:f?e.jsx("button",{type:"button",className:"mobile-scan-camera-btn stop",onClick:g,children:"Stop Camera"}):e.jsx("button",{type:"button",className:"mobile-scan-camera-btn",onClick:x,disabled:i,children:"Start Camera Scan"})}),f&&e.jsxs("div",{className:"mobile-scan-camera-preview",children:[e.jsx("video",{ref:u,className:"mobile-scan-video",muted:!0,playsInline:!0}),e.jsx("div",{className:"mobile-scan-overlay","aria-hidden":"true"}),e.jsx("div",{className:"mobile-scan-hint",children:"Align barcode/QR inside the frame"})]})]}),e.jsxs("div",{className:"mobile-scan-input-section",children:[e.jsx("form",{onSubmit:y,className:"mobile-scan-form",children:e.jsxs("div",{className:"mobile-scan-input-wrapper",children:[e.jsx("input",{ref:l,type:"text",value:t,onChange:j=>n(j.target.value),placeholder:"Enter or scan barcode",className:"mobile-scan-input",autoFocus:!0,autoComplete:"off"}),e.jsx("button",{type:"submit",className:"mobile-scan-submit-btn",disabled:i||!t.trim(),children:i?"...":""})]})}),o&&e.jsxs("div",{className:"mobile-scan-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:o})]})]}),a&&e.jsxs("div",{className:"mobile-scan-result",children:[e.jsxs("div",{className:"mobile-scan-result-header",children:[e.jsx("h3",{children:"Barcode Found"}),e.jsx("div",{className:"mobile-scan-result-badge","data-color":a.wasteColor,children:a.wasteColor})]}),e.jsxs("div",{className:"mobile-scan-result-details",children:[e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Barcode:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.barcode})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"Company:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.companyName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfName})]}),e.jsxs("div",{className:"mobile-scan-result-item",children:[e.jsx("span",{className:"mobile-scan-result-label",children:"HCF Code:"}),e.jsx("span",{className:"mobile-scan-result-value",children:a.hcfCode})]})]}),e.jsx("button",{className:"mobile-scan-proceed-btn",onClick:b,children:"Proceed to Waste Entry"})]}),!a&&!o&&e.jsxs("div",{className:"mobile-scan-instructions",children:[e.jsx("h4",{children:"How to scan:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Enter the barcode manually in the input field above"}),e.jsx("li",{children:"Or tap Start Camera Scan to scan using your device camera"}),e.jsx("li",{children:"Barcode must be at least 5 characters long"})]})]})]})})},nde=()=>{const r=Ma(),t=un(),[n,a]=C.useState(""),[s,i]=C.useState(""),[c,o]=C.useState(""),[d,l]=C.useState(!1),[u,h]=C.useState(null),[f,A]=C.useState(!1);C.useEffect(()=>{if(t.state){const{barcode:m}=t.state;m&&a(m)}},[t.state]);const g=async m=>{if(m.preventDefault(),h(null),A(!1),!n||n.length<5){h("Please enter a valid barcode");return}if(!s||parseFloat(s)<=0){h("Please enter a valid weight");return}l(!0);try{await kh.createWasteCollection({barcode:n.trim(),weightKg:parseFloat(s),notes:c.trim()||void 0}),A(!0),a(""),i(""),o(""),setTimeout(()=>{r("/mobile/home")},2e3)}catch(x){h((x==null?void 0:x.message)||"Failed to save waste entry")}finally{l(!1)}};return e.jsx($h,{title:"Waste Entry",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-waste-entry",children:[f&&e.jsxs("div",{className:"mobile-waste-entry-success",children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Waste entry saved successfully!"})]}),u&&e.jsxs("div",{className:"mobile-waste-entry-error",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{children:u})]}),e.jsxs("form",{onSubmit:g,className:"mobile-waste-entry-form",children:[e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"barcode",children:"Barcode *"}),e.jsx("input",{id:"barcode",type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Enter barcode",required:!0,disabled:d})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"weight",children:"Weight (Kg) *"}),e.jsx("input",{id:"weight",type:"number",step:"0.01",min:"0",value:s,onChange:m=>i(m.target.value),placeholder:"0.00",required:!0,disabled:d})]}),e.jsxs("div",{className:"mobile-waste-entry-field",children:[e.jsx("label",{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx("textarea",{id:"notes",value:c,onChange:m=>o(m.target.value),placeholder:"Add any additional notes...",rows:4,disabled:d})]}),e.jsx("button",{type:"submit",className:"mobile-waste-entry-submit",disabled:d||f,children:d?"Saving...":f?"Saved!":"Save Entry"})]})]})})},ade=()=>{const r=Ma();return e.jsx($h,{title:"Route Assignment",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsx("div",{className:"mobile-assign-hospital",children:e.jsxs("div",{className:"mobile-assign-hospital-info",children:[e.jsx("p",{children:"Route assignment functionality will be available here."}),e.jsx("button",{className:"mobile-assign-hospital-btn",onClick:()=>r("/transaction/route-assignment"),children:"Open Full View"})]})})})},MD=({label:r="Company",placeholder:t="Select Company",value:n,options:a,onChange:s})=>{const[i,c]=C.useState(!1),[o,d]=C.useState(""),l=C.useMemo(()=>a.find(h=>h.id===n),[a,n]),u=C.useMemo(()=>{const h=o.trim().toLowerCase();return h?a.filter(f=>f.name.toLowerCase().includes(h)):a},[a,o]);return e.jsxs("div",{className:"company-picker",children:[r&&e.jsx("div",{className:"company-picker-label",children:r}),e.jsxs("button",{type:"button",className:"company-picker-button",onClick:()=>c(!0),children:[e.jsx("span",{className:"company-picker-button-text",children:l?l.name:t}),e.jsx("span",{className:"company-picker-chevron","aria-hidden":"true",children:""})]}),i&&e.jsx("div",{className:"company-picker-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"company-picker-sheet",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"company-picker-sheet-header",children:[e.jsx("div",{className:"company-picker-sheet-title",children:t}),e.jsx("button",{type:"button",className:"company-picker-close",onClick:()=>c(!1),"aria-label":"Close",children:""})]}),e.jsx("div",{className:"company-picker-search",children:e.jsx("input",{value:o,onChange:h=>d(h.target.value),placeholder:"Search company..."})}),e.jsx("div",{className:"company-picker-list",children:u.length===0?e.jsx("div",{className:"company-picker-empty",children:"No companies found."}):u.map(h=>e.jsx("button",{type:"button",className:`company-picker-item ${h.id===n?"active":""}`,onClick:()=>{s(h.id),c(!1)},children:h.name},h.id))})]})})]})},sde=()=>{const r=Ma(),[t,n]=C.useState([]),[a,s]=C.useState(""),[i,c]=C.useState([]),[o,d]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState("");C.useEffect(()=>{(async()=>{try{const m=await ia.getAllCompanies(!0);n(m),m.length===1&&s(m[0].id)}catch(m){u((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),C.useEffect(()=>{(async()=>{if(!a){c([]);return}d(!0),u(null);try{const m=await xi.getAllHcfs(a,!0);c(Array.isArray(m)?m:[])}catch(m){u((m==null?void 0:m.message)||"Failed to load HCF list")}finally{d(!1)}})()},[a]);const A=C.useMemo(()=>{const g=h.trim().toLowerCase();return g?i.filter(m=>(m.hcfCode||"").toLowerCase().includes(g)||(m.hcfName||"").toLowerCase().includes(g)||(m.district||"").toLowerCase().includes(g)||(m.pincode||"").toLowerCase().includes(g)):i},[i,h]);return e.jsx($h,{title:"HCF Master",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsxs("div",{className:"mobile-hcf-master",children:[e.jsxs("div",{className:"mobile-hcf-toolbar",children:[e.jsx(MD,{placeholder:"Select Company",value:a,options:t.map(g=>({id:g.id,name:g.companyName})),onChange:s}),e.jsx("input",{className:"mobile-hcf-search",value:h,onChange:g=>f(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),l&&e.jsx("div",{className:"mobile-hcf-empty",children:l}),e.jsx("div",{className:"mobile-hcf-table",children:o?e.jsx("div",{className:"mobile-hcf-empty",children:"Loading..."}):A.length===0?e.jsx("div",{className:"mobile-hcf-empty",children:"No HCFs found."}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"PinCode"})]})}),e.jsx("tbody",{children:A.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.hcfCode}),e.jsx("td",{children:g.hcfName}),e.jsx("td",{children:g.district||g.areaId||"-"}),e.jsx("td",{children:g.pincode||"-"})]},g.id))})]})})]})})},RD="mw-mobile-settings",ide=()=>{try{const r=localStorage.getItem(RD);if(!r)return{darkMode:!1,notifications:!0};const t=JSON.parse(r);return{darkMode:!!t.darkMode,notifications:t.notifications!==!1}}catch{return{darkMode:!1,notifications:!0}}},ode=r=>{try{localStorage.setItem(RD,JSON.stringify(r))}catch{}},lde=()=>{const r=Ma(),{user:t,logout:n}=Wn(),[a,s]=C.useState(()=>ide()),i=C.useMemo(()=>t?t.name||t.email||"User":"Guest",[t]);C.useEffect(()=>{a.darkMode?document.body.classList.add("mw-dark"):document.body.classList.remove("mw-dark"),ode(a)},[a]);const c=d=>{s(l=>({...l,[d]:!l[d]}))},o=()=>{try{localStorage.removeItem("mw-auth-user")}catch{}n(),r("/mobile/login",{replace:!0})};return e.jsx($h,{title:"Settings",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-settings",children:[e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Account"}),e.jsx("div",{className:"mobile-settings-row",children:e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Signed in as"}),e.jsx("div",{className:"mobile-settings-value",children:i})]})})]}),e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Preferences"}),e.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("darkMode"),children:[e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Dark mode"}),e.jsx("div",{className:"mobile-settings-sub",children:"Applies a dark theme on this device"})]}),e.jsx("div",{className:`mobile-settings-toggle ${a.darkMode?"on":""}`,"aria-hidden":"true"})]}),e.jsxs("button",{className:"mobile-settings-row button",onClick:()=>c("notifications"),children:[e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Notifications"}),e.jsx("div",{className:"mobile-settings-sub",children:"Enable in-app reminders (placeholder)"})]}),e.jsx("div",{className:`mobile-settings-toggle ${a.notifications?"on":""}`,"aria-hidden":"true"})]})]}),e.jsxs("div",{className:"mobile-settings-card",children:[e.jsx("div",{className:"mobile-settings-title",children:"Security"}),e.jsx("button",{className:"mobile-settings-row danger",onClick:o,children:e.jsxs("div",{className:"mobile-settings-row-main",children:[e.jsx("div",{className:"mobile-settings-label",children:"Logout"}),e.jsx("div",{className:"mobile-settings-sub",children:"Sign out from this device"})]})})]}),e.jsx("div",{className:"mobile-settings-footer",children:e.jsx("div",{className:"mobile-settings-footer-text",children:"Medi Waste Management (Mobile)"})})]})})},IC=r=>!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r),cde=()=>{const r=Ma(),{user:t,logout:n}=Wn(),[a,s]=C.useState(!1),[i,c]=C.useState(null),[o,d]=C.useState(null),[l,u]=C.useState(null),[h,f]=C.useState(!1),[A,g]=C.useState({emailAddress:"",emergencyContact:"",addressLine:"",city:"",district:"",pincode:""}),[m,x]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=C.useMemo(()=>t?(t.roles||[]).join(", "):"",[t]);C.useEffect(()=>{(async()=>{if(t!=null&&t.id){s(!0),c(null);try{if(IC(t.id)){const E=await Hc.getUserById(t.id);u(E),g({emailAddress:E.emailAddress||"",emergencyContact:E.emergencyContact||"",addressLine:E.addressLine||"",city:E.city||"",district:E.district||"",pincode:E.pincode||""})}else c("Showing basic profile from session.")}catch(E){c((E==null?void 0:E.message)||"Failed to load profile.")}finally{s(!1)}}})()},[t==null?void 0:t.id]);const b=async()=>{if(!(t!=null&&t.id)||!IC(t.id)){c("Cannot update profile: user id missing.");return}s(!0),c(null),d(null);try{if(await Hc.updateCompleteUser(t.id,{companyId:(l==null?void 0:l.companyId)||"",userName:(l==null?void 0:l.userName)||t.name||"",mobileNumber:(l==null?void 0:l.mobileNumber)||"-",userRoleId:(l==null?void 0:l.userRoleId)||void 0,emailAddress:A.emailAddress||void 0,emergencyContact:A.emergencyContact||void 0,addressLine:A.addressLine||void 0,city:A.city||void 0,district:A.district||void 0,pincode:A.pincode||void 0}),d("Profile updated successfully."),f(!1),IC(t.id)){const w=await Hc.getUserById(t.id);u(w)}}catch(w){c((w==null?void 0:w.message)||"Failed to update profile.")}finally{s(!1)}},j=async()=>{if(c(null),d(null),!(t!=null&&t.id)){c("Unable to identify user for password change.");return}if(!m.currentPassword||!m.newPassword){c("Please fill current password and new password.");return}if(m.newPassword!==m.confirmPassword){c("New password and confirm password do not match.");return}s(!0);try{await JP(t.id,{currentPassword:m.currentPassword,newPassword:m.newPassword}),d("Password changed successfully."),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch(w){c((w==null?void 0:w.message)||"Failed to change password.")}finally{s(!1)}},S=()=>{n(),r("/mobile/login",{replace:!0})};return e.jsx($h,{title:"Profile",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-profile",children:[(i||o)&&e.jsx("div",{className:`mobile-profile-banner ${o?"success":"info"}`,children:o||i}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsx("div",{className:"mobile-profile-section-title",children:"Account"}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Name"}),e.jsx("div",{className:"value",children:(t==null?void 0:t.name)||"-"})]}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Email"}),e.jsx("div",{className:"value",children:(t==null?void 0:t.email)||(l==null?void 0:l.emailAddress)||"-"})]}),e.jsxs("div",{className:"mobile-profile-row",children:[e.jsx("div",{className:"label",children:"Role"}),e.jsx("div",{className:"value",children:y||(l==null?void 0:l.userRoleId)||"-"})]})]}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsxs("div",{className:"mobile-profile-section-title",children:["Contact Info",e.jsx("button",{className:"mobile-profile-link",onClick:()=>{d(null),c(null),f(w=>!w)},disabled:a,type:"button",children:h?"Cancel":"Edit"})]}),e.jsxs("div",{className:"mobile-profile-form",children:[e.jsxs("label",{children:["Email",e.jsx("input",{value:h?A.emailAddress:(l==null?void 0:l.emailAddress)||(t==null?void 0:t.email)||"",onChange:w=>g(E=>({...E,emailAddress:w.target.value})),disabled:!h||a,placeholder:"Email address"})]}),e.jsxs("label",{children:["Emergency Contact",e.jsx("input",{value:A.emergencyContact,onChange:w=>g(E=>({...E,emergencyContact:w.target.value})),disabled:!h||a,placeholder:"Emergency contact"})]}),e.jsxs("label",{children:["Address",e.jsx("input",{value:A.addressLine,onChange:w=>g(E=>({...E,addressLine:w.target.value})),disabled:!h||a,placeholder:"Address line"})]}),e.jsxs("div",{className:"two-col",children:[e.jsxs("label",{children:["City",e.jsx("input",{value:A.city,onChange:w=>g(E=>({...E,city:w.target.value})),disabled:!h||a,placeholder:"City"})]}),e.jsxs("label",{children:["Pincode",e.jsx("input",{value:A.pincode,onChange:w=>g(E=>({...E,pincode:w.target.value})),disabled:!h||a,placeholder:"Pincode"})]})]}),e.jsxs("label",{children:["District",e.jsx("input",{value:A.district,onChange:w=>g(E=>({...E,district:w.target.value})),disabled:!h||a,placeholder:"District"})]}),h&&e.jsx("button",{className:"mobile-profile-btn",onClick:b,disabled:a,type:"button",children:a?"Saving...":"Save"})]})]}),e.jsxs("div",{className:"mobile-profile-card",children:[e.jsx("div",{className:"mobile-profile-section-title",children:"Security"}),e.jsxs("div",{className:"mobile-profile-form",children:[e.jsxs("label",{children:["Current Password",e.jsx("input",{type:"password",value:m.currentPassword,onChange:w=>x(E=>({...E,currentPassword:w.target.value})),disabled:a})]}),e.jsxs("label",{children:["New Password",e.jsx("input",{type:"password",value:m.newPassword,onChange:w=>x(E=>({...E,newPassword:w.target.value})),disabled:a})]}),e.jsxs("label",{children:["Confirm Password",e.jsx("input",{type:"password",value:m.confirmPassword,onChange:w=>x(E=>({...E,confirmPassword:w.target.value})),disabled:a})]}),e.jsx("button",{className:"mobile-profile-btn",onClick:j,disabled:a,type:"button",children:a?"Updating...":"Change Password"})]})]}),e.jsx("button",{className:"mobile-profile-btn danger",onClick:S,type:"button",children:"Logout"})]})})},dde=r=>{if(!r)return"-";const t=new Date(r);return Number.isNaN(t.getTime())?r:t.toLocaleString()},ude=()=>{const r=Ma(),[t,n]=C.useState([]),[a,s]=C.useState(!1),[i,c]=C.useState(null),[o,d]=C.useState(""),l=C.useMemo(()=>{const h=o.trim().toLowerCase();return h?t.filter(f=>(f.barcode||"").toLowerCase().includes(h)||(f.status||"").toLowerCase().includes(h)||(f.wasteColor||"").toLowerCase().includes(h)):t},[t,o]),u=async()=>{s(!0),c(null);try{const h=await kh.getAllWasteCollections();n(Array.isArray(h)?h:[])}catch(h){c((h==null?void 0:h.message)||"Failed to load waste collections")}finally{s(!1)}};return C.useEffect(()=>{u()},[]),e.jsx($h,{title:"Waste Collections",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-wc",children:[e.jsxs("div",{className:"mobile-wc-toolbar",children:[e.jsx("input",{className:"mobile-wc-search",placeholder:"Search by barcode / status / color",value:o,onChange:h=>d(h.target.value)}),e.jsx("button",{className:"mobile-wc-refresh",onClick:u,disabled:a,type:"button",children:a?"...":""})]}),i&&e.jsx("div",{className:"mobile-wc-banner error",children:i}),e.jsxs("div",{className:"mobile-wc-actions",children:[e.jsx("button",{className:"mobile-wc-primary",type:"button",onClick:()=>r("/mobile/scan"),children:"New Collection (Scan)"}),e.jsx("button",{className:"mobile-wc-secondary",type:"button",onClick:()=>r("/mobile/waste-entry"),children:"Manual Waste Entry"})]}),e.jsx("div",{className:"mobile-wc-list",children:a&&t.length===0?e.jsx("div",{className:"mobile-wc-empty",children:"Loading..."}):l.length===0?e.jsx("div",{className:"mobile-wc-empty",children:"No waste collections found."}):l.map(h=>e.jsxs("div",{className:"mobile-wc-item",children:[e.jsxs("div",{className:"mobile-wc-item-top",children:[e.jsx("div",{className:"mobile-wc-barcode",children:h.barcode}),e.jsx("div",{className:`mobile-wc-badge ${String(h.status||"").toLowerCase().replace(/\s+/g,"-")}`,children:h.status})]}),e.jsxs("div",{className:"mobile-wc-meta",children:[e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Color"}),e.jsx("span",{className:"v",children:h.wasteColor})]}),e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Weight"}),e.jsx("span",{className:"v",children:h.weightKg??"-"})]}),e.jsxs("div",{className:"mobile-wc-meta-row",children:[e.jsx("span",{className:"k",children:"Created"}),e.jsx("span",{className:"v",children:dde(h.createdOn)})]})]})]},h.id))})]})})},hde=()=>{const r=Ma(),[t,n]=C.useState([]),[a,s]=C.useState(""),[i,c]=C.useState(""),[o,d]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState([]);C.useEffect(()=>{(async()=>{try{const m=await ia.getAllCompanies(!0);n(m),m.length===1&&s(m[0].id)}catch(m){u((m==null?void 0:m.message)||"Failed to load companies")}})()},[]),C.useEffect(()=>{(async()=>{if(!a){f([]);return}d(!0),u(null);try{const[m,x]=await Promise.all([Gg.getAllRouteHcfMappings(void 0,void 0,a,!0),xi.getAllHcfs(a,!0)]),y=new Map;(m||[]).forEach(S=>{const w=y.get(S.hcfId)||new Set;w.add(S.routeId),y.set(S.hcfId,w)});const b=new Set(Array.from(y.keys())),j=(x||[]).filter(S=>b.has(S.id)).map(S=>{var w;return{hcfId:S.id,hcfCode:S.hcfCode,hcfName:S.hcfName,area:S.district||S.areaId||"-",pincode:S.pincode||"-",routesCount:((w=y.get(S.id))==null?void 0:w.size)||0}});f(j)}catch(m){u((m==null?void 0:m.message)||"Failed to load assigned HCF list")}finally{d(!1)}})()},[a]);const A=C.useMemo(()=>{const g=i.trim().toLowerCase();return g?h.filter(m=>m.hcfCode.toLowerCase().includes(g)||m.hcfName.toLowerCase().includes(g)||m.area.toLowerCase().includes(g)||m.pincode.toLowerCase().includes(g)):h},[h,i]);return e.jsx($h,{title:"Assigned HCF List",showBackButton:!0,onBack:()=>r(-1),children:e.jsxs("div",{className:"mobile-ahcf",children:[e.jsxs("div",{className:"mobile-ahcf-toolbar",children:[e.jsx(MD,{placeholder:"Select Company",value:a,options:t.map(g=>({id:g.id,name:g.companyName})),onChange:s}),e.jsx("input",{className:"mobile-ahcf-search",value:i,onChange:g=>c(g.target.value),placeholder:"Search HCF code / name / area / pincode"})]}),l&&e.jsx("div",{className:"mobile-ahcf-banner",children:l}),e.jsx("div",{className:"mobile-ahcf-table",children:o?e.jsx("div",{className:"mobile-ahcf-empty",children:"Loading..."}):A.length===0?e.jsx("div",{className:"mobile-ahcf-empty",children:"No assigned HCFs found."}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"HCF Code"}),e.jsx("th",{children:"HCF Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"PinCode"}),e.jsx("th",{children:"Routes"})]})}),e.jsx("tbody",{children:A.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.hcfCode}),e.jsx("td",{children:g.hcfName}),e.jsx("td",{children:g.area}),e.jsx("td",{children:g.pincode}),e.jsx("td",{children:g.routesCount})]},g.hcfId))})]})})]})})},fde=()=>{const r=Ma();return e.jsx($h,{title:"Analytics",showBackButton:!0,onBack:()=>r("/mobile/home"),children:e.jsx("div",{className:"mobile-analytics",children:e.jsxs("div",{className:"mobile-analytics-card",children:[e.jsx("div",{className:"mobile-analytics-title",children:"Analytics"}),e.jsx("div",{className:"mobile-analytics-sub",children:"Mobile analytics screen. Use the buttons below to open full reports."}),e.jsx("button",{className:"mobile-analytics-btn",type:"button",onClick:()=>r("/report"),children:"Open Reports (Full)"}),e.jsx("button",{className:"mobile-analytics-btn secondary",type:"button",onClick:()=>r("/dashboard"),children:"Open Dashboard (Full)"})]})})})};function qa({anyOf:r,children:t}){const{permissions:n}=Wn(),a=un(),s=Array.isArray(n)?n:[];return s.includes("*")?e.jsx(e.Fragment,{children:t}):r.some(c=>bc(s,c))?e.jsx(e.Fragment,{children:t}):e.jsx(Jp,{to:"/not-authorized",replace:!0,state:{from:a.pathname}})}const Ade=()=>{const{user:r}=k_();return e.jsx(hR,{user:r,children:e.jsxs(zM,{children:[e.jsx(rn,{path:"/",element:e.jsx(Jp,{to:"/login",replace:!0})}),e.jsx(rn,{path:"/login",element:e.jsx(fR,{})}),e.jsx(rn,{path:"/verify-otp",element:e.jsx(AR,{})}),e.jsx(rn,{path:"/mobile/login",element:e.jsx(eie,{})}),e.jsx(rn,{path:"/mobile/home",element:e.jsx(ln,{children:e.jsx(lie,{})})}),e.jsx(rn,{path:"/mobile/scan",element:e.jsx(ln,{children:e.jsx(rde,{})})}),e.jsx(rn,{path:"/mobile/waste-entry",element:e.jsx(ln,{children:e.jsx(nde,{})})}),e.jsx(rn,{path:"/mobile/waste-collections",element:e.jsx(ln,{children:e.jsx(ude,{})})}),e.jsx(rn,{path:"/mobile/assign-hospital",element:e.jsx(ln,{children:e.jsx(ade,{})})}),e.jsx(rn,{path:"/mobile/assigned-hcfs",element:e.jsx(ln,{children:e.jsx(hde,{})})}),e.jsx(rn,{path:"/mobile/analytics",element:e.jsx(ln,{children:e.jsx(fde,{})})}),e.jsx(rn,{path:"/mobile/hcf-master",element:e.jsx(ln,{children:e.jsx(sde,{})})}),e.jsx(rn,{path:"/mobile/profile",element:e.jsx(ln,{children:e.jsx(cde,{})})}),e.jsx(rn,{path:"/mobile/settings",element:e.jsx(ln,{children:e.jsx(lde,{})})}),e.jsx(rn,{path:"/dashboard",element:e.jsx(ln,{children:e.jsx(mee,{})})}),e.jsx(rn,{path:"/not-authorized",element:e.jsx(ln,{children:e.jsx(Iee,{})})}),e.jsx(rn,{path:"/admin/dashboard-configuration",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["DASHBOARD_CONFIG_UPDATE","DASHBOARD_CONFIG.UPDATE"],children:e.jsx(jee,{})})})}),e.jsx(rn,{path:"/admin/permission-configuration",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ROLE_PERMISSIONS_MANAGE","ROLE_PERMISSIONS.MANAGE"],children:e.jsx(Bee,{})})})}),e.jsx(rn,{path:"/profile",element:e.jsx(ln,{children:e.jsx(sie,{})})}),e.jsx(rn,{path:"/transaction",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_TRANSACTION_VIEW","MENU_TRANSACTION.VIEW"],children:e.jsx(Tee,{})})})}),e.jsx(rn,{path:"/transaction/barcode-generation",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["BARCODE_LABEL_VIEW","BARCODE_LABEL_CREATE","BARCODE_LABEL_DELETE"],children:e.jsx(ase,{})})})}),e.jsx(rn,{path:"/transaction/route-assignment",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ROUTE_ASSIGNMENT_VIEW","ROUTE_ASSIGNMENT_CREATE","ROUTE_ASSIGNMENT_EDIT"],children:e.jsx(tre,{})})})}),e.jsx(rn,{path:"/transaction/incident-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INCIDENT_REGISTER_VIEW","INCIDENT_REGISTER_CREATE","INCIDENT_REGISTER_EDIT"],children:e.jsx(ire,{})})})}),e.jsx(rn,{path:"/transaction/incineration-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INCINERATION_REGISTER_VIEW","INCINERATION_REGISTER_CREATE","INCINERATION_REGISTER_EDIT"],children:e.jsx(ure,{})})})}),e.jsx(rn,{path:"/transaction/autoclave-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["AUTOCLAVE_REGISTER_VIEW","AUTOCLAVE_REGISTER_CREATE","AUTOCLAVE_REGISTER_EDIT"],children:e.jsx(mre,{})})})}),e.jsx(rn,{path:"/transaction/shredder-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["SHREDDER_REGISTER_VIEW","SHREDDER_REGISTER_CREATE","SHREDDER_REGISTER_EDIT"],children:e.jsx(jre,{})})})}),e.jsx(rn,{path:"/transaction/disposal-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["DISPOSAL_REGISTER_VIEW","DISPOSAL_REGISTER_CREATE","DISPOSAL_REGISTER_EDIT"],children:e.jsx(Sre,{})})})}),e.jsx(rn,{path:"/transaction/emission-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["EMISSION_REGISTER_VIEW","EMISSION_REGISTER_CREATE","EMISSION_REGISTER_EDIT"],children:e.jsx(kre,{})})})}),e.jsx(rn,{path:"/transaction/etp-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ETP_REGISTER_VIEW","ETP_REGISTER_CREATE","ETP_REGISTER_EDIT"],children:e.jsx(Dre,{})})})}),e.jsx(rn,{path:"/transaction/downtime-register",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["DOWNTIME_REGISTER_VIEW","DOWNTIME_REGISTER_CREATE","DOWNTIME_REGISTER_EDIT"],children:e.jsx(Hre,{})})})}),e.jsx(rn,{path:"/transaction/waste-collection",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["WASTE_COLLECTION_VIEW","WASTE_COLLECTION_CREATE","WASTE_COLLECTION_EDIT"],children:e.jsx(Vre,{})})})}),e.jsx(rn,{path:"/transaction/waste-transaction-data",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["WASTE_TRANSACTION_VIEW","WASTE_TRANSACTION_CREATE","WASTE_TRANSACTION_EDIT","WASTE_TRANSACTION_VERIFY"],children:e.jsx(Zre,{})})})}),e.jsx(rn,{path:"/transaction/vehicle-wise-waste-collection",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["VEHICLE_WASTE_COLLECTION_VIEW","VEHICLE_WASTE_COLLECTION_CREATE","VEHICLE_WASTE_COLLECTION_EDIT","VEHICLE_WASTE_COLLECTION_VERIFY"],children:e.jsx(nne,{})})})}),e.jsx(rn,{path:"/transaction/waste-processing",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["WASTE_PROCESS_VIEW","WASTE_PROCESS_CREATE","WASTE_PROCESS_EDIT","WASTE_PROCESS_VERIFY","WASTE_PROCESS_CLOSE"],children:e.jsx(one,{})})})}),e.jsx(rn,{path:"/finance",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_FINANCE_VIEW","MENU_FINANCE.VIEW","FINANCE_VIEW","FINANCE.VIEW"],children:e.jsx(kee,{})})})}),e.jsx(rn,{path:"/commercial-agreements",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_COMMERCIAL_VIEW","MENU_COMMERCIAL.VIEW"],children:e.jsx(_ee,{})})})}),e.jsx(rn,{path:"/commercial-agreements/contract-master",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["CONTRACT_VIEW","CONTRACT_CREATE","CONTRACT_EDIT","CONTRACT_DELETE"],children:e.jsx(mse,{})})})}),e.jsx(rn,{path:"/commercial-agreements/agreement",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["AGREEMENT_VIEW","AGREEMENT_CREATE","AGREEMENT_EDIT","AGREEMENT_DELETE"],children:e.jsx(Sse,{})})})}),e.jsx(rn,{path:"/commercial-agreements/agreement-clause",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["AGREEMENT_CLAUSE_VIEW","AGREEMENT_CLAUSE_CREATE","AGREEMENT_CLAUSE_EDIT","AGREEMENT_CLAUSE_DELETE"],children:e.jsx(kse,{})})})}),e.jsx(rn,{path:"/compliance-training",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_COMPLIANCE_VIEW","MENU_COMPLIANCE.VIEW"],children:e.jsx(Oee,{})})})}),e.jsx(rn,{path:"/compliance-training/training-certificate-management",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["TRAINING_CERTIFICATE_VIEW","TRAINING_CERTIFICATE_CREATE","TRAINING_CERTIFICATE_EDIT","TRAINING_CERTIFICATE_DELETE"],children:e.jsx(dse,{})})})}),e.jsx(rn,{path:"/master",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_MASTER_VIEW","MENU_MASTER.VIEW","MASTERS_VIEW","MASTERS.VIEW","MASTER_VIEW","MASTER.VIEW"],children:e.jsx(Fee,{})})})}),e.jsx(rn,{path:"/master/company",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["COMPANY_VIEW","COMPANY_CREATE","COMPANY_EDIT","COMPANY_DELETE"],children:e.jsx(Pee,{})})})}),e.jsx(rn,{path:"/master/state",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["STATE_VIEW","STATE_CREATE","STATE_EDIT","STATE_DELETE"],children:e.jsx(Uee,{})})})}),e.jsx(rn,{path:"/master/area",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["AREA_VIEW","AREA_CREATE","AREA_EDIT","AREA_DELETE"],children:e.jsx(Vee,{})})})}),e.jsx(rn,{path:"/master/category",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["CATEGORY_VIEW","CATEGORY_CREATE","CATEGORY_EDIT","CATEGORY_DELETE"],children:e.jsx(Xee,{})})})}),e.jsx(rn,{path:"/master/pcb-zone",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["PCB_ZONE_VIEW","PCB_ZONE_CREATE","PCB_ZONE_EDIT","PCB_ZONE_DELETE"],children:e.jsx(tte,{})})})}),e.jsx(rn,{path:"/master/route",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ROUTE_VIEW","ROUTE_CREATE","ROUTE_EDIT","ROUTE_DELETE"],children:e.jsx(lte,{})})})}),e.jsx(rn,{path:"/master/color-code",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["COLOR_VIEW","COLOR_CREATE","COLOR_EDIT","COLOR_DELETE"],children:e.jsx(fte,{})})})}),e.jsx(rn,{path:"/master/user-management",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["USER_VIEW","USER_CREATE","USER_EDIT","USER_DELETE","USER_ACTIVATE","USER_DEACTIVATE"],children:e.jsx(bte,{})})})}),e.jsx(rn,{path:"/master/roles-permissions",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ROLE_VIEW","ROLE_CREATE","ROLE_EDIT","ROLE_DELETE","ROLE_PERMISSIONS_MANAGE"],children:e.jsx(Ste,{})})})}),e.jsx(rn,{path:"/master/hcf-master",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["HCF_VIEW","HCF_CREATE","HCF_EDIT","HCF_DELETE"],children:e.jsx(Tte,{})})})}),e.jsx(rn,{path:"/master/hcf-amendments",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["HCF_AMENDMENT_VIEW","HCF_AMENDMENT_CREATE","HCF_AMENDMENT_EDIT","HCF_AMENDMENT_DELETE"],children:e.jsx(Pte,{})})})}),e.jsx(rn,{path:"/master/hcf-type",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["HCF_TYPE_VIEW","HCF_TYPE_CREATE","HCF_TYPE_EDIT","HCF_TYPE_DELETE"],children:e.jsx(Rte,{})})})}),e.jsx(rn,{path:"/master/fleet-management",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["FLEET_VIEW","FLEET_CREATE","FLEET_EDIT","FLEET_DELETE"],children:e.jsx(Wte,{})})})}),e.jsx(rn,{path:"/master/route-hcf-mapping",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["ROUTE_HCF_VIEW","ROUTE_HCF_CREATE","ROUTE_HCF_EDIT","ROUTE_HCF_DELETE"],children:e.jsx(Gte,{})})})}),e.jsx(rn,{path:"/master/frequency",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["FREQUENCY_VIEW","FREQUENCY_CREATE","FREQUENCY_EDIT","FREQUENCY_DELETE"],children:e.jsx(Xte,{})})})}),e.jsx(rn,{path:"/finance/invoice-management",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_VIEW","INVOICE_CREATE","INVOICE_UPDATE","INVOICE_DELETE"],children:e.jsx(wne,{})})})}),e.jsx(rn,{path:"/finance/generate-invoices",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_CREATE"],children:e.jsx(Ine,{})})})}),e.jsx(rn,{path:"/finance/draft-invoices/:batchId",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_CREATE","INVOICE_UPDATE"],children:e.jsx(Pne,{})})})}),e.jsx(rn,{path:"/finance/payment",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(Mne,{})})})}),e.jsx(rn,{path:"/finance/payment-success",element:e.jsx(ln,{children:e.jsx(Rne,{})})}),e.jsx(rn,{path:"/finance/receipt-management",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(Lne,{})})})}),e.jsx(rn,{path:"/finance/financial-balance-summary",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["INVOICE_VIEW","INVOICE_CREATE"],children:e.jsx(Gne,{})})})}),e.jsx(rn,{path:"/report",element:e.jsx(ln,{children:e.jsx(qa,{anyOf:["MENU_REPORTS_VIEW","MENU_REPORTS.VIEW","REPORTS_VIEW","REPORTS.VIEW"],children:e.jsx(Dse,{})})})}),e.jsx(rn,{path:"/report/invoice",element:e.jsx(ln,{children:e.jsx(gC,{})})}),e.jsx(rn,{path:"/report/contract",element:e.jsx(ln,{children:e.jsx(Hse,{})})}),e.jsx(rn,{path:"/report/hcf",element:e.jsx(ln,{children:e.jsx(Qse,{})})}),e.jsx(rn,{path:"/report/training-certificate",element:e.jsx(ln,{children:e.jsx(Wse,{})})}),e.jsx(rn,{path:"/report/payment",element:e.jsx(ln,{children:e.jsx(_k,{})})}),e.jsx(rn,{path:"/report/agreement",element:e.jsx(ln,{children:e.jsx($se,{})})}),e.jsx(rn,{path:"/report/barcode",element:e.jsx(ln,{children:e.jsx(Ok,{})})}),e.jsx(rn,{path:"/report/barcode-usage",element:e.jsx(ln,{children:e.jsx(Ok,{})})}),e.jsx(rn,{path:"/report/user",element:e.jsx(ln,{children:e.jsx(zse,{})})}),e.jsx(rn,{path:"/report/fleet",element:e.jsx(ln,{children:e.jsx(Gse,{})})}),e.jsx(rn,{path:"/report/revenue",element:e.jsx(ln,{children:e.jsx(Fk,{})})}),e.jsx(rn,{path:"/report/outstanding",element:e.jsx(ln,{children:e.jsx(Pk,{})})}),e.jsx(rn,{path:"/report/contract-renewal",element:e.jsx(ln,{children:e.jsx(Kse,{})})}),e.jsx(rn,{path:"/report/route",element:e.jsx(ln,{children:e.jsx(qse,{})})}),e.jsx(rn,{path:"/report/collection",element:e.jsx(ln,{children:e.jsx(Xse,{})})}),e.jsx(rn,{path:"/report/company",element:e.jsx(ln,{children:e.jsx(Yse,{})})}),e.jsx(rn,{path:"/report/compliance",element:e.jsx(ln,{children:e.jsx(Jse,{})})}),e.jsx(rn,{path:"/report/fleet-master",element:e.jsx(ln,{children:e.jsx(Zse,{})})}),e.jsx(rn,{path:"/report/billing-finance",element:e.jsx(ln,{children:e.jsx(Mse,{})})}),e.jsx(rn,{path:"/report/billing-finance/invoice-generation",element:e.jsx(ln,{children:e.jsx(gC,{})})}),e.jsx(rn,{path:"/report/billing-finance/unbilled-services",element:e.jsx(ln,{children:e.jsx(gC,{})})}),e.jsx(rn,{path:"/report/billing-finance/outstanding-payments",element:e.jsx(ln,{children:e.jsx(Pk,{})})}),e.jsx(rn,{path:"/report/billing-finance/pending-payments",element:e.jsx(ln,{children:e.jsx(_k,{})})}),e.jsx(rn,{path:"/report/billing-finance/cost-revenue-analysis",element:e.jsx(ln,{children:e.jsx(Fk,{})})}),e.jsx(rn,{path:"/report/operations-logistics",element:e.jsx(ln,{children:e.jsx(Rse,{})})}),e.jsx(rn,{path:"/report/hcf-compliance",element:e.jsx(ln,{children:e.jsx(Lse,{})})}),e.jsx(rn,{path:"/users/new",element:e.jsx(JS,{children:e.jsx(ln,{roles:["admin"],children:e.jsx(Fse,{})})})}),e.jsx(rn,{path:"/mobile/users/new",element:e.jsx(JS,{children:e.jsx(ln,{roles:["admin","manager"],children:e.jsx(aie,{})})})})]})})},pde=()=>e.jsx(dR,{children:e.jsx(Ade,{})});class mde extends C.Component{constructor(){super(...arguments);Ks(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h2",{style:{color:"#dc2626"},children:"Something went wrong"}),e.jsx("p",{children:"Please check the browser console for details."}),e.jsxs("details",{style:{marginTop:"10px"},children:[e.jsx("summary",{style:{cursor:"pointer",color:"#3b82f6"},children:"Error Details"}),e.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px"},children:[this.state.error&&this.state.error.toString(),this.state.error&&this.state.error.stack]})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const LD=document.getElementById("root");if(!LD)throw new Error("Root element #root not found. Make sure index.html mounts it.");ZD.createRoot(LD).render(e.jsx(Ct.StrictMode,{children:e.jsx(mde,{children:e.jsx(eR,{children:e.jsx(pde,{})})})}));
